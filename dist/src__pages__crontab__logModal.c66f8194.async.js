(self.webpackChunk=self.webpackChunk||[]).push([[3249],{7651:function(t,a,e){"use strict";e.d(a,{Z:function(){return E}});var u=e(46153),r=e(63313),n={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"}}]},name:"loading-3-quarters",theme:"outlined"},c=n,_=e(17980),s=function(g,M){return r.createElement(_.Z,(0,u.Z)((0,u.Z)({},g),{},{ref:M,icon:c}))};s.displayName="Loading3QuartersOutlined";var E=r.forwardRef(s)},17686:function(t,a,e){"use strict";e.r(a);var u=e(46686),r=e.n(u),n=e(63313),c=e.n(n),_=e(13017),s=e(15976),E=e(4675),O=e(45073),g=e(7515),M=e(79974),K=e(7651),j=e(96320),Z=e(88280),A=e(31981),o=e(11527),P;(function(i){i[i.running=0]="running",i[i.idle=1]="idle",i[i.disabled=2]="disabled",i[i.queued=3]="queued"})(P||(P={}));var b=_.Z.Countdown,Q=function(v){var d=v.cron,F=v.handleCancel,m=v.visible,C=v.data,y=v.logUrl,$=(0,n.useState)("\u542F\u52A8\u4E2D..."),h=r()($,2),H=h[0],p=h[1],N=(0,n.useState)(!0),L=r()(N,2),D=L[0],T=L[1],z=(0,n.useState)(!0),I=r()(z,2),R=I[0],V=I[1],G=(0,n.useState)(!1),U=r()(G,2),J=U[0],X=U[1],Y=(0,n.useState)(""),W=r()(Y,2),te=W[0],ne=W[1],w=function f(B){B&&T(!0),g.W.get(y||"".concat(M.Z.apiPrefix,"crons/").concat(d.id,"/log")).then(function(S){var q=S.code,ee=S.data;if(q===200&&localStorage.getItem("logCron")===String(d.id)){var l=ee;p(l||"\u6682\u65E0\u65E5\u5FD7"),V(l&&!(0,A.x$)(l)&&!l.includes("\u91CD\u542F\u9762\u677F")),l&&!(0,A.x$)(l)&&!l.includes("\u91CD\u542F\u9762\u677F")&&setTimeout(function(){f()},2e3),l&&l.includes("\u91CD\u542F\u9762\u677F")&&d.status===P.running&&(s.ZP.warning({content:(0,o.jsxs)("span",{children:["\u7CFB\u7EDF\u5C06\u5728",(0,o.jsx)(b,{className:"inline-countdown",format:"ss",value:Date.now()+1e3*30}),"\u79D2\u540E\u81EA\u52A8\u5237\u65B0"]}),duration:10}),setTimeout(function(){window.location.reload()},3e4))}}).finally(function(){B&&T(!1)})},x=function(){localStorage.removeItem("logCron"),F()},k=function(){return(0,o.jsxs)(o.Fragment,{children:[(R||D)&&(0,o.jsx)(K.Z,{spin:!0}),!R&&!D&&(0,o.jsx)(j.Z,{}),(0,o.jsx)("span",{style:{marginLeft:5},children:d&&d.name})]})};return(0,n.useEffect)(function(){d&&d.id&&m&&w(!0)},[d,m]),(0,n.useEffect)(function(){C&&p(C)},[C]),(0,n.useEffect)(function(){X(document.body.clientWidth<768)},[]),(0,o.jsx)(E.Z,{title:k(),open:m,centered:!0,className:"log-modal",bodyStyle:{minHeight:"300px"},forceRender:!0,onOk:function(){return x()},onCancel:function(){return x()},footer:[(0,o.jsx)(O.Z,{type:"primary",onClick:function(){return x()},children:"\u77E5\u9053\u4E86"})],children:D?(0,o.jsx)(Z.Z,{}):(0,o.jsx)("pre",{style:J?{fontFamily:"Source Code Pro",width:375,zoom:.83}:{},children:H})})};a.default=Q},64366:function(t,a,e){"use strict";e.d(a,{Z:function(){return c}});var u=e(72508),r=e(63313),n=e.n(r);function c(){var _=r.useReducer(function(O){return O+1},0),s=(0,u.Z)(_,2),E=s[1];return E}},24669:function(t){var a=Array.isArray;t.exports=a},13989:function(t,a,e){var u=e(33737);function r(n){if(Array.isArray(n))return u(n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},56037:function(t){function a(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},90623:function(t){function a(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=a,t.exports.__esModule=!0,t.exports.default=t.exports},94434:function(t,a,e){var u=e(13989),r=e(56037),n=e(94945),c=e(90623);function _(s){return u(s)||r(s)||n(s)||c()}t.exports=_,t.exports.__esModule=!0,t.exports.default=t.exports}}]);
