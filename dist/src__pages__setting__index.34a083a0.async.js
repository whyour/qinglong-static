"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2340],{85335:function(w,A,e){e.r(A);var I=e(35290),S=e.n(I),Z=e(30279),$=e.n(Z),T=e(411),c=e.n(T),E=e(46686),f=e.n(E),M=e(63313),R=e.n(M),r=e(78455),L=e(80743),m=e(97325),h=e(2991),P=e(77073),W=e(76385),H=e(7619),b=e(11527),U=function(o){var l=o.app,s=o.handleCancel,a=o.visible,d=r.Z.useForm(),K=f()(d,1),N=K[0],B=(0,M.useState)(!1),V=f()(B,2),y=V[0],x=V[1],p=function(){var v=c()(S()().mark(function i(C){var k,g,O,G,n;return S()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return x(!0),k=l?"put":"post",g=$()({},C),l&&(g.id=l.id),F.prev=4,F.next=7,W.W[k]("".concat(H.Z.apiPrefix,"apps"),{data:g});case 7:O=F.sent,G=O.code,n=O.data,G===200&&(L.ZP.success(l?"\u66F4\u65B0\u5E94\u7528\u6210\u529F":"\u65B0\u5EFA\u5E94\u7528\u6210\u529F"),s(n)),x(!1),F.next=17;break;case 14:F.prev=14,F.t0=F.catch(4),x(!1);case 17:case"end":return F.stop()}},i,null,[[4,14]])}));return function(C){return v.apply(this,arguments)}}();return(0,M.useEffect)(function(){N.resetFields()},[l,a]),(0,b.jsx)(m.Z,{title:l?"\u7F16\u8F91\u5E94\u7528":"\u65B0\u5EFA\u5E94\u7528",open:a,forceRender:!0,centered:!0,maskClosable:!1,onOk:function(){N.validateFields().then(function(i){p(i)}).catch(function(i){console.log("Validate Failed:",i)})},onCancel:function(){return s()},confirmLoading:y,children:(0,b.jsxs)(r.Z,{form:N,layout:"vertical",name:"form_app_modal",initialValues:l,children:[(0,b.jsx)(r.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{validator:function(i,C){return["system"].includes(C)?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u4E3A\u4FDD\u7559\u5173\u952E\u5B57")):Promise.resolve()}}],children:(0,b.jsx)(h.Z,{placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528\u540D\u79F0"})}),(0,b.jsx)(r.Z.Item,{name:"scopes",label:"\u6743\u9650",rules:[{required:!0}],children:(0,b.jsx)(P.Z,{mode:"multiple",placeholder:"\u8BF7\u9009\u62E9\u6A21\u5757\u6743\u9650",allowClear:!0,style:{width:"100%"},children:H.Z.scopes.map(function(v){return(0,b.jsx)(P.Z.Option,{value:v.value,children:v.name},v.value)})})})]})})};A.default=U},71355:function(w,A,e){e.r(A);var I=e(46686),S=e.n(I),Z=e(63313),$=e.n(Z),T=e(85773),c=e(80743),E=e(97325),f=e(74309),M=e(76385),R=e(7619),r=e(11527),L=T.Z.Countdown,m=function(P){var W=P.socketMessage,H=P.systemInfo,b=(0,Z.useState)(!1),U=S()(b,2),J=U[0],o=U[1],l=(0,Z.useState)(""),s=S()(l,2),a=s[0],d=s[1],K=(0,Z.useRef)(),N=function(){J||(o(!0),c.ZP.loading("\u68C0\u67E5\u66F4\u65B0\u4E2D...",0),M.W.put("".concat(R.Z.apiPrefix,"system/update-check")).then(function(p){var v=p.code,i=p.data;c.ZP.destroy(),v===200&&(i.hasNewVersion?V(i):B(i))}).catch(function(p){c.ZP.destroy(),console.log(p)}).finally(function(){o(!1)}))},B=function(p){E.Z.confirm({width:500,title:"\u66F4\u65B0",content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"\u5DF2\u7ECF\u662F\u6700\u65B0\u7248\u4E86\uFF01"}),(0,r.jsxs)("div",{style:{fontSize:12,fontWeight:400,marginTop:5},children:["\u9752\u9F99 ",p.lastVersion," \u662F\u76EE\u524D\u68C0\u6D4B\u5230\u7684\u6700\u65B0\u53EF\u7528\u7248\u672C\u4E86\u3002"]})]}),okText:"\u786E\u8BA4",cancelText:"\u5F3A\u5236\u66F4\u65B0",onCancel:function(){y(),M.W.put("".concat(R.Z.apiPrefix,"system/update")).then(function(i){}).catch(function(i){console.log(i)})}})},V=function(p){var v=p.lastVersion,i=p.lastLog;E.Z.confirm({width:500,title:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"\u66F4\u65B0\u53EF\u7528"}),(0,r.jsxs)("div",{style:{fontSize:12,fontWeight:400,marginTop:5},children:["\u65B0\u7248\u672C ",v," \u53EF\u7528\uFF0C\u4F60\u4F7F\u7528\u7684\u7248\u672C\u4E3A ",H.version,"\u3002"]})]}),content:(0,r.jsx)("pre",{style:{fontSize:12,fontWeight:400},children:i}),okText:"\u66F4\u65B0",cancelText:"\u4EE5\u540E\u518D\u8BF4",onOk:function(){y(),M.W.put("".concat(R.Z.apiPrefix,"system/update")).then(function(k){}).catch(function(k){console.log(k)})}})},y=function(){d(""),K.current=E.Z.info({width:600,maskClosable:!1,closable:!1,okButtonProps:{disabled:!0},title:"\u66F4\u65B0\u4E2D...",centered:!0,content:(0,r.jsx)("pre",{style:{fontSize:12,fontWeight:400},children:a})})};return(0,Z.useEffect)(function(){if(!(!K.current||!W)){var x=W.type,p=W.message,v=W.references;if(x==="updateSystemVersion"){var i="".concat(a).concat(p),C=i.includes("\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5");K.current.update({maskClosable:C,closable:C,okButtonProps:{disabled:!C},content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("pre",{style:{fontSize:12,fontWeight:400},children:i}),(0,r.jsx)("div",{id:"log-identifier",style:{paddingBottom:5}})]})}),C&&!a.includes("\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5")&&c.ZP.error("\u66F4\u65B0\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u53CA\u65E5\u5FD7\u6216\u7A0D\u540E\u518D\u8BD5"),d(i),document.getElementById("log-identifier")&&document.getElementById("log-identifier").scrollIntoView({behavior:"smooth",block:"nearest"}),p.includes("\u91CD\u542F\u9762\u677F")&&(c.ZP.warning({content:(0,r.jsxs)("span",{children:["\u7CFB\u7EDF\u5C06\u5728",(0,r.jsx)(L,{className:"inline-countdown",format:"ss",value:Date.now()+1e3*30}),"\u79D2\u540E\u81EA\u52A8\u5237\u65B0"]}),duration:30}),setTimeout(function(){window.location.reload()},3e4))}}},[W]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f.Z,{type:"primary",onClick:N,children:"\u68C0\u67E5\u66F4\u65B0"})})};A.default=m},63854:function(w,A,e){e.r(A),e.d(A,{default:function(){return ue}});var I=e(30279),S=e.n(I),Z=e(94434),$=e.n(Z),T=e(46686),c=e.n(T),E=e(63313),f=e(6946),M=e(34541),R=e(26591),r=e(74318),L=e(78455),m=e(97325),h=e(80743),P=e(74309),W=e(48810),H=e(46669),b=e(39958),U=e(2991),J=e(69436),o=e(7619),l=e(38418),s=e(76385),a=e(71571),d=e(85335),K=e(79105),N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},B=N,V=e(17980),y=function(j,q){return E.createElement(V.Z,(0,K.Z)((0,K.Z)({},j),{},{ref:q,icon:B}))};y.displayName="ReloadOutlined";var x=E.forwardRef(y),p=e(26099),v=e(39449),i=e(93277),C=e(95924),k=e(94828),g=e(71355),O=e(12197),G=e(63335),n=e(11527),Y=f.Z.Text,F=[{label:"\u4EAE\u8272",value:"light"},{label:"\u6697\u8272",value:"dark"},{label:"\u8DDF\u968F\u7CFB\u7EDF",value:"auto"}],te=function(){var j=(0,G.bx)(),q=j.headerStyle,ae=j.isPhone,de=j.user,ce=j.reloadUser,fe=j.reloadTheme,oe=j.socketMessage,le=j.systemInfo,re=[{title:"\u540D\u79F0",dataIndex:"name",key:"name",align:"center"},{title:"Client ID",dataIndex:"client_id",key:"client_id",align:"center",render:function(t,u){return(0,n.jsx)(Y,{copyable:!0,children:u.client_id})}},{title:"Client Secret",dataIndex:"client_secret",key:"client_secret",align:"center",render:function(t,u){return(0,n.jsx)(Y,{copyable:{text:u.client_secret},children:"*******"})}},{title:"\u6743\u9650",dataIndex:"scopes",key:"scopes",align:"center",width:"40%",render:function(t,u){return(0,n.jsx)("div",{style:{textAlign:"left"},children:u.scopes.map(function(_){return(0,n.jsx)(M.Z,{children:o.Z.scopesMap[_]},_)})})}},{title:"\u64CD\u4F5C",key:"action",align:"center",render:function(t,u,_){var z=!ae;return(0,n.jsxs)(R.Z,{size:"middle",style:{paddingLeft:8},children:[(0,n.jsx)(r.Z,{title:z?"\u7F16\u8F91":"",children:(0,n.jsx)("a",{onClick:function(){return nt(u,_)},children:(0,n.jsx)(p.Z,{})})}),(0,n.jsx)(r.Z,{title:z?"\u91CD\u7F6Esecret":"",children:(0,n.jsx)("a",{onClick:function(){return ot(u,_)},children:(0,n.jsx)(x,{})})}),(0,n.jsx)(r.Z,{title:z?"\u5220\u9664":"",children:(0,n.jsx)("a",{onClick:function(){return at(u,_)},children:(0,n.jsx)(v.Z,{})})})]})}}],se=(0,E.useState)(!0),Q=c()(se,2),Ze=Q[0],ge=Q[1],he=localStorage.getItem("qinglong_dark_theme")||"auto",Be=(0,E.useState)([]),_e=c()(Be,2),ie=_e[0],me=_e[1],Fe=(0,E.useState)(!1),Ee=c()(Fe,2),Se=Ee[0],ve=Ee[1],Te=(0,E.useState)(),pe=c()(Te,2),Re=pe[0],Ce=pe[1],Le=(0,E.useState)("security"),Pe=c()(Le,2),We=Pe[0],be=Pe[1],Ue=(0,E.useState)([]),Oe=c()(Ue,2),Ke=Oe[0],Ne=Oe[1],ke=(0,E.useState)(),ye=c()(ke,2),$e=ye[0],Ve=ye[1],ze=(0,E.useState)(),xe=c()(ze,2),Me=xe[0],De=xe[1],Ge=L.Z.useForm(),Ye=c()(Ge,1),He=Ye[0],ee=a||{},Je=ee.enable,Qe=ee.disable,ct=ee.exportGeneratedCSS,Xe=ee.setFetchMethod,we=ee.auto,qe=function(t){var u=t.target.value;localStorage.setItem("qinglong_dark_theme",t.target.value),Xe(fetch),u==="dark"?Je({}):u==="light"?Qe():we({}),fe()},et=function(){ge(!0),s.W.get("".concat(o.Z.apiPrefix,"apps")).then(function(t){var u=t.code,_=t.data;u===200&&me(_)}).finally(function(){return ge(!1)})},tt=function(){Ce(null),ve(!0)},nt=function(t,u){Ce(t),ve(!0)},at=function(t,u){m.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:(0,n.jsxs)(n.Fragment,{children:["\u786E\u8BA4\u5220\u9664\u5E94\u7528"," ",(0,n.jsx)(Y,{style:{wordBreak:"break-all"},type:"warning",children:t.name})," ","\u5417"]}),onOk:function(){s.W.delete("".concat(o.Z.apiPrefix,"apps"),{data:[t.id]}).then(function(z){var X=z.code,Ae=z.data;if(X===200){h.ZP.success("\u5220\u9664\u6210\u529F");var Ie=$()(ie);Ie.splice(u,1),me(Ie)}})},onCancel:function(){console.log("Cancel")}})},ot=function(t,u){m.Z.confirm({title:"\u786E\u8BA4\u91CD\u7F6E",content:(0,n.jsxs)(n.Fragment,{children:["\u786E\u8BA4\u91CD\u7F6E\u5E94\u7528"," ",(0,n.jsx)(Y,{style:{wordBreak:"break-all"},type:"warning",children:t.name})," ","\u7684Secret\u5417",(0,n.jsx)("br",{}),(0,n.jsx)(Y,{type:"secondary",children:"\u91CD\u7F6ESecret\u4F1A\u8BA9\u5F53\u524D\u5E94\u7528\u6240\u6709token\u5931\u6548"})]}),onOk:function(){s.W.put("".concat(o.Z.apiPrefix,"apps/").concat(t.id,"/reset-secret")).then(function(z){var X=z.code,Ae=z.data;X===200&&(h.ZP.success("\u91CD\u7F6E\u6210\u529F"),je(Ae))})},onCancel:function(){console.log("Cancel")}})},lt=function(t){ve(!1),t&&je(t)},je=function(t){var u=ie.findIndex(function(z){return z.id===t.id}),_=$()(ie);u===-1?_.push(t):_.splice(u,1,S()({},t)),me(_)},rt=function(){s.W.get("".concat(o.Z.apiPrefix,"user/login-log")).then(function(t){var u=t.code,_=t.data;u===200&&Ne(_)}).catch(function(t){console.log(t)})},st=function(t){be(t),t==="app"?et():t==="login"?rt():t==="notification"?it():t==="other"&&ut()},it=function(){s.W.get("".concat(o.Z.apiPrefix,"user/notification")).then(function(t){var u=t.code,_=t.data;u===200&&Ve(_)}).catch(function(t){console.log(t)})},ut=function(){s.W.get("".concat(o.Z.apiPrefix,"system/log/remove")).then(function(t){var u=t.code,_=t.data;if(u===200&&_.info){var z=_.info.frequency;De(z)}}).catch(function(t){console.log(t)})},dt=function(){setTimeout(function(){s.W.put("".concat(o.Z.apiPrefix,"system/log/remove"),{data:{frequency:Me}}).then(function(t){var u=t.code,_=t.data;u===200&&h.ZP.success("\u66F4\u65B0\u6210\u529F")}).catch(function(t){console.log(t)})})};return(0,n.jsxs)(l.ZP,{className:"ql-container-wrapper ql-container-wrapper-has-tab ql-setting-container",title:"\u7CFB\u7EDF\u8BBE\u7F6E",header:{style:q},extra:We==="app"?[(0,n.jsx)(P.Z,{type:"primary",onClick:function(){return tt()},children:"\u65B0\u5EFA\u5E94\u7528"},"2")]:[],children:[(0,n.jsx)(W.Z,{defaultActiveKey:"security",size:"small",tabPosition:"top",onChange:st,items:[{key:"security",label:"\u5B89\u5168\u8BBE\u7F6E",children:(0,n.jsx)(i.default,{user:de,userChange:ce})},{key:"app",label:"\u5E94\u7528\u8BBE\u7F6E",children:(0,n.jsx)(H.Z,{columns:re,pagination:!1,dataSource:ie,rowKey:"id",size:"middle",scroll:{x:768},loading:Ze})},{key:"notification",label:"\u901A\u77E5\u8BBE\u7F6E",children:(0,n.jsx)(k.default,{data:$e})},{key:"login",label:"\u767B\u5F55\u65E5\u5FD7",children:(0,n.jsx)(C.default,{data:Ke})},{key:"other",label:"\u5176\u4ED6\u8BBE\u7F6E",children:(0,n.jsxs)(L.Z,{layout:"vertical",form:He,children:[(0,n.jsx)(L.Z.Item,{label:"\u4E3B\u9898\u8BBE\u7F6E",name:"theme",initialValue:he,children:(0,n.jsx)(b.ZP.Group,{options:F,onChange:qe,value:he,optionType:"button",buttonStyle:"solid"})}),(0,n.jsx)(L.Z.Item,{label:"\u65E5\u5FD7\u5220\u9664\u9891\u7387",name:"frequency",tooltip:"\u6BCFx\u5929\u81EA\u52A8\u5220\u9664x\u5929\u4EE5\u524D\u7684\u65E5\u5FD7",children:(0,n.jsxs)(U.Z.Group,{compact:!0,children:[(0,n.jsx)(J.Z,{addonBefore:"\u6BCF",addonAfter:"\u5929",style:{width:150},min:0,value:Me,onChange:function(t){return De(t)}}),(0,n.jsx)(P.Z,{type:"primary",onClick:dt,children:"\u786E\u8BA4"})]})}),(0,n.jsx)(L.Z.Item,{label:"\u68C0\u67E5\u66F4\u65B0",name:"update",children:(0,n.jsx)(g.default,{systemInfo:le,socketMessage:oe})})]})},{key:"about",label:"\u5173\u4E8E",children:(0,n.jsx)(O.default,{systemInfo:le})}]}),(0,n.jsx)(d.default,{visible:Se,handleCancel:lt,app:Re})]})},ue=te},95924:function(w,A,e){e.r(A);var I=e(63313),S=e.n(I),Z=e(6946),$=e(34541),T=e(46669),c=e(11527),E=Z.Z.Text,f=Z.Z.Link,M;(function(m){m[m.\u6210\u529F=0]="\u6210\u529F",m[m.\u5931\u8D25=1]="\u5931\u8D25"})(M||(M={}));var R;(function(m){m[m.success=0]="success",m[m.error=1]="error"})(R||(R={}));var r=[{title:"\u5E8F\u53F7",align:"center",width:50,render:function(h,P,W){return W+1}},{title:"\u767B\u5F55\u65F6\u95F4",dataIndex:"timestamp",key:"timestamp",align:"center",render:function(h,P){return new Date(P.timestamp).toLocaleString()}},{title:"\u767B\u5F55\u5730\u5740",dataIndex:"address",key:"address",align:"center"},{title:"\u767B\u5F55IP",dataIndex:"ip",key:"ip",align:"center"},{title:"\u767B\u5F55\u8BBE\u5907",dataIndex:"platform",key:"platform",align:"center"},{title:"\u767B\u5F55\u72B6\u6001",dataIndex:"status",key:"status",align:"center",render:function(h,P){return(0,c.jsx)($.Z,{color:R[P.status],style:{marginRight:0},children:M[P.status]})}}],L=function(h){var P=h.data;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(T.Z,{columns:r,pagination:!1,dataSource:P,rowKey:"id",size:"middle",scroll:{x:768}})})};A.default=L},94828:function(w,A,e){e.r(A);var I=e(30279),S=e.n(I),Z=e(46686),$=e.n(Z),T=e(63313),c=e.n(T),E=e(77073),f=e(78455),M=e(80743),R=e(2991),r=e(74309),L=e(76385),m=e(7619),h=e(11527),P=E.Z.Option,W=function(b){var U=b.data,J=(0,T.useState)(!1),o=$()(J,2),l=o[0],s=o[1],a=(0,T.useState)("closed"),d=$()(a,2),K=d[0],N=d[1],B=(0,T.useState)([]),V=$()(B,2),y=V[0],x=V[1],p=f.Z.useForm(),v=$()(p,1),i=v[0],C=function(O){var G=O.type;G=="closed"&&(O.type=""),L.W.put("".concat(m.Z.apiPrefix,"user/notification"),{data:S()({},O)}).then(function(n){var Y=n.code,F=n.data;Y===200&&M.ZP.success(O.type?"\u901A\u77E5\u53D1\u9001\u6210\u529F":"\u901A\u77E5\u5173\u95ED\u6210\u529F")}).catch(function(n){console.log(n)})},k=function(O){N(O);var G=m.Z.notificationModeMap[O];x(G||[])};return(0,T.useEffect)(function(){U&&U.type&&(k(U.type),i.setFieldsValue(S()({},U)))},[U]),(0,h.jsx)("div",{children:(0,h.jsxs)(f.Z,{onFinish:C,form:i,layout:"vertical",children:[(0,h.jsx)(f.Z.Item,{label:"\u901A\u77E5\u65B9\u5F0F",name:"type",rules:[{required:!0}],style:{maxWidth:400},initialValue:K,children:(0,h.jsx)(E.Z,{onChange:k,children:m.Z.notificationModes.map(function(g){return(0,h.jsx)(P,{value:g.value,children:g.label},g.value)})})}),y.map(function(g){return(0,h.jsx)(f.Z.Item,{label:g.label,name:g.label,extra:g.tip,rules:[{required:g.required}],style:{maxWidth:400},children:g.items?(0,h.jsx)(E.Z,{placeholder:g.placeholder||"\u8BF7\u9009\u62E9".concat(g.label),children:g.items.map(function(O){return(0,h.jsx)(P,{value:O.value,children:O.label||O.value},O.value)})}):(0,h.jsx)(R.Z.TextArea,{autoSize:!0,placeholder:g.placeholder||"\u8BF7\u8F93\u5165".concat(g.label)})},g.label)}),(0,h.jsx)(r.Z,{type:"primary",htmlType:"submit",children:"\u4FDD\u5B58"})]})})};A.default=W},34541:function(w,A,e){e.d(A,{Z:function(){return J}});var I=e(47220),S=e(96600),Z=e(35931),$=e(60382),T=e(84875),c=e.n(T),E=e(1334),f=e(63313),M=e(71010),R=e(64065),r=e(84144),L=function(o,l){var s={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&l.indexOf(a)<0&&(s[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(o);d<a.length;d++)l.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(o,a[d])&&(s[a[d]]=o[a[d]]);return s},m=function(l){var s,a=l.prefixCls,d=l.className,K=l.checked,N=l.onChange,B=l.onClick,V=L(l,["prefixCls","className","checked","onChange","onClick"]),y=f.useContext(M.E_),x=y.getPrefixCls,p=function(k){N==null||N(!K),B==null||B(k)},v=x("tag",a),i=c()(v,(s={},(0,I.Z)(s,"".concat(v,"-checkable"),!0),(0,I.Z)(s,"".concat(v,"-checkable-checked"),K),s),d);return f.createElement("span",(0,S.Z)({},V,{className:i,onClick:p}))},h=m,P=function(o,l){var s={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&l.indexOf(a)<0&&(s[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(o);d<a.length;d++)l.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(o,a[d])&&(s[a[d]]=o[a[d]]);return s},W=new RegExp("^(".concat(R.Y.join("|"),")(-inverse)?$")),H=new RegExp("^(".concat(R.E.join("|"),")$")),b=function(l,s){var a,d=l.prefixCls,K=l.className,N=l.style,B=l.children,V=l.icon,y=l.color,x=l.onClose,p=l.closeIcon,v=l.closable,i=v===void 0?!1:v,C=P(l,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),k=f.useContext(M.E_),g=k.getPrefixCls,O=k.direction,G=f.useState(!0),n=(0,Z.Z)(G,2),Y=n[0],F=n[1];f.useEffect(function(){"visible"in C&&F(C.visible)},[C.visible]);var te=function(){return y?W.test(y)||H.test(y):!1},ue=(0,S.Z)({backgroundColor:y&&!te()?y:void 0},N),ne=te(),j=g("tag",d),q=c()(j,(a={},(0,I.Z)(a,"".concat(j,"-").concat(y),ne),(0,I.Z)(a,"".concat(j,"-has-color"),y&&!ne),(0,I.Z)(a,"".concat(j,"-hidden"),!Y),(0,I.Z)(a,"".concat(j,"-rtl"),O==="rtl"),a),K),ae=function(Q){Q.stopPropagation(),x==null||x(Q),!Q.defaultPrevented&&("visible"in C||F(!1))},de=function(){return i?p?f.createElement("span",{className:"".concat(j,"-close-icon"),onClick:ae},p):f.createElement($.Z,{className:"".concat(j,"-close-icon"),onClick:ae}):null},ce="onClick"in C||B&&B.type==="a",fe=(0,E.Z)(C,["visible"]),oe=V||null,le=oe?f.createElement(f.Fragment,null,oe,f.createElement("span",null,B)):B,re=f.createElement("span",(0,S.Z)({},fe,{ref:s,className:q,style:ue}),le,de());return ce?f.createElement(r.Z,null,re):re},U=f.forwardRef(b);U.CheckableTag=h;var J=U}}]);
