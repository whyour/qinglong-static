"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[6401],{86726:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(54306),i=n.n(a),o=n(88265),c=n(63313),r=n(28756),s=n(9835),l=n(24378),f=n(59873),u=n(66585),d=n(67393),h=n(15207),g=n(23435),p=n(57229),m=n(82755),x=n(22370),Z=n.n(x),v=n(14851),j=n(40141),w=n(11527),P=r.Z.Option,S=function(){var e=(0,v.useOutletContext)(),t=e.headerStyle,n=e.isPhone,a=e.theme,x=(0,c.useState)("sample/config.sample.sh"),S=i()(x,2),C=S[0],W=S[1],b=(0,c.useState)("config.sh"),k=i()(b,2),y=k[0],V=k[1],I=(0,c.useState)(""),M=i()(I,2),N=M[0],R=M[1],E=(0,c.useState)(""),X=i()(E,2),O=X[0],T=X[1],U=(0,c.useState)(!0),q=i()(U,2),z=q[0],A=q[1],B=(0,c.useState)([]),D=i()(B,2),H=D[0],$=D[1],F=(0,c.useRef)(null),G=(0,c.useState)("shell"),J=i()(G,2),K=J[0],L=J[1];return(0,c.useEffect)((function(){A(!0),p.W.get("".concat(h.Z.apiPrefix,"configs/sample")).then((function(e){var t=e.code,n=e.data;200===t&&$(n)})).finally((function(){return A(!1)}))}),[]),(0,c.useEffect)((function(){p.W.get("".concat(h.Z.apiPrefix,"configs/detail?path=").concat(encodeURIComponent(C))).then((function(e){var t=e.code,n=e.data;200===t&&R(n)}))}),[C]),(0,c.useEffect)((function(){p.W.get("".concat(h.Z.apiPrefix,"configs/detail?path=").concat(encodeURIComponent(y))).then((function(e){var t=e.code,n=e.data;200===t&&T(n)}))}),[y]),(0,w.jsxs)(g.ZP,{className:"ql-container-wrapper",title:o.ZP.get("对比工具"),loading:z,header:{style:t},extra:!n&&[(0,w.jsx)(l.Z,{type:"primary",onClick:function(){var e=F.current?F.current.getModel().modified.getValue().replace(/\r\n/g,"\n"):O;p.W.post("".concat(h.Z.apiPrefix,"configs/save"),{content:e,name:y}).then((function(e){var t=e.code;e.data;200===t&&s.ZP.success(o.ZP.get("保存成功"))}))},children:o.ZP.get("保存")},"1")],children:[(0,w.jsxs)(f.Z,{gutter:24,className:"diff-switch-file",children:[(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(d.Z.Item,{label:o.ZP.get("源文件"),children:(0,w.jsx)(r.Z,{value:C,onChange:function(e,t){V(t.extra.target),W(e);var n=(0,j.H$)(e);L(n)},children:H.map((function(e){return(0,w.jsx)(P,{value:e.value,extra:e,children:e.title},e.value)}))})})}),(0,w.jsx)(u.Z,{span:12,children:(0,w.jsx)(d.Z.Item,{label:o.ZP.get("当前文件"),children:(0,w.jsx)("span",{className:"ant-form-text",children:y})})})]}),n?(0,w.jsx)(Z(),{styles:{diffContainer:{overflowX:"auto",minWidth:768},diffRemoved:{overflowX:"auto",maxWidth:300},diffAdded:{overflowX:"auto",maxWidth:300},line:{wordBreak:"break-word"}},oldValue:N,newValue:O,splitView:!0,leftTitle:"config.sh",rightTitle:"config.sample.sh",disableWordDiff:!0}):(0,w.jsx)(m.SV,{language:K,original:N,modified:O,options:{fontSize:12,lineNumbersMinChars:3,folding:!1,glyphMargin:!1,wordWrap:"on"},theme:a,onMount:function(e){F.current=e}})]})}}}]);