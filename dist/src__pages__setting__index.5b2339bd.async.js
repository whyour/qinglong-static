"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[2340],{85143:function(w,A,e){e.r(A);var I=e(35290),T=e.n(I),Z=e(30279),k=e.n(Z),R=e(411),c=e.n(R),E=e(46686),f=e.n(E),x=e(63313),L=e.n(x),r=e(71976),W=e(63533),m=e(4352),h=e(30314),P=e(61839),b=e(73835),H=e(41601),U=e(11527),K=function(o){var l=o.app,s=o.handleCancel,a=o.visible,d=r.Z.useForm(),$=f()(d,1),B=$[0],F=(0,x.useState)(!1),V=f()(F,2),M=V[0],O=V[1],p=function(){var v=c()(T()().mark(function i(C){var N,g,y,G,n;return T()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return O(!0),N=l?"put":"post",g=k()({},C),l&&(g.id=l.id),S.prev=4,S.next=7,b.W[N]("".concat(H.Z.apiPrefix,"apps"),{data:g});case 7:y=S.sent,G=y.code,n=y.data,G===200&&(W.ZP.success(l?"\u66F4\u65B0\u5E94\u7528\u6210\u529F":"\u65B0\u5EFA\u5E94\u7528\u6210\u529F"),s(n)),O(!1),S.next=17;break;case 14:S.prev=14,S.t0=S.catch(4),O(!1);case 17:case"end":return S.stop()}},i,null,[[4,14]])}));return function(C){return v.apply(this,arguments)}}();return(0,x.useEffect)(function(){B.resetFields()},[l,a]),(0,U.jsx)(m.Z,{title:l?"\u7F16\u8F91\u5E94\u7528":"\u65B0\u5EFA\u5E94\u7528",open:a,forceRender:!0,centered:!0,maskClosable:!1,onOk:function(){B.validateFields().then(function(i){p(i)}).catch(function(i){console.log("Validate Failed:",i)})},onCancel:function(){return s()},confirmLoading:M,children:(0,U.jsxs)(r.Z,{form:B,layout:"vertical",name:"form_app_modal",initialValues:l,children:[(0,U.jsx)(r.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{validator:function(i,C){return["system"].includes(C)?Promise.reject(new Error("\u540D\u79F0\u4E0D\u80FD\u4E3A\u4FDD\u7559\u5173\u952E\u5B57")):Promise.resolve()}}],children:(0,U.jsx)(h.Z,{placeholder:"\u8BF7\u8F93\u5165\u5E94\u7528\u540D\u79F0"})}),(0,U.jsx)(r.Z.Item,{name:"scopes",label:"\u6743\u9650",rules:[{required:!0}],children:(0,U.jsx)(P.Z,{mode:"multiple",placeholder:"\u8BF7\u9009\u62E9\u6A21\u5757\u6743\u9650",allowClear:!0,style:{width:"100%"},children:H.Z.scopes.map(function(v){return(0,U.jsx)(P.Z.Option,{value:v.value,children:v.name},v.value)})})})]})})};A.default=K},28346:function(w,A,e){e.r(A);var I=e(46686),T=e.n(I),Z=e(63313),k=e.n(Z),R=e(27387),c=e(63533),E=e(4352),f=e(59225),x=e(73835),L=e(41601),r=e(11527),W=R.Z.Countdown,m=function(P){var b=P.socketMessage,H=P.systemInfo,U=(0,Z.useState)(!1),K=T()(U,2),J=K[0],o=K[1],l=(0,Z.useState)(""),s=T()(l,2),a=s[0],d=s[1],$=(0,Z.useRef)(),B=function(){J||(o(!0),c.ZP.loading("\u68C0\u67E5\u66F4\u65B0\u4E2D...",0),x.W.put("".concat(L.Z.apiPrefix,"system/update-check")).then(function(p){var v=p.code,i=p.data;c.ZP.destroy(),v===200&&(i.hasNewVersion?V(i):F(i))}).catch(function(p){c.ZP.destroy(),console.log(p)}).finally(function(){o(!1)}))},F=function(p){E.Z.confirm({width:500,title:"\u66F4\u65B0",content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"\u5DF2\u7ECF\u662F\u6700\u65B0\u7248\u4E86\uFF01"}),(0,r.jsxs)("div",{style:{fontSize:12,fontWeight:400,marginTop:5},children:["\u9752\u9F99 ",p.lastVersion," \u662F\u76EE\u524D\u68C0\u6D4B\u5230\u7684\u6700\u65B0\u53EF\u7528\u7248\u672C\u4E86\u3002"]})]}),okText:"\u786E\u8BA4",cancelText:"\u5F3A\u5236\u66F4\u65B0",onCancel:function(){M(),x.W.put("".concat(L.Z.apiPrefix,"system/update")).then(function(i){}).catch(function(i){console.log(i)})}})},V=function(p){var v=p.lastVersion,i=p.lastLog;E.Z.confirm({width:500,title:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{children:"\u66F4\u65B0\u53EF\u7528"}),(0,r.jsxs)("div",{style:{fontSize:12,fontWeight:400,marginTop:5},children:["\u65B0\u7248\u672C ",v," \u53EF\u7528\uFF0C\u4F60\u4F7F\u7528\u7684\u7248\u672C\u4E3A ",H.version,"\u3002"]})]}),content:(0,r.jsx)("pre",{style:{fontSize:12,fontWeight:400},children:i}),okText:"\u66F4\u65B0",cancelText:"\u4EE5\u540E\u518D\u8BF4",onOk:function(){M(),x.W.put("".concat(L.Z.apiPrefix,"system/update")).then(function(N){}).catch(function(N){console.log(N)})}})},M=function(){d(""),$.current=E.Z.info({width:600,maskClosable:!1,closable:!1,okButtonProps:{disabled:!0},title:"\u66F4\u65B0\u4E2D...",centered:!0,content:(0,r.jsx)("pre",{style:{fontSize:12,fontWeight:400},children:a})})};return(0,Z.useEffect)(function(){if(!(!$.current||!b)){var O=b.type,p=b.message,v=b.references;if(O==="updateSystemVersion"){var i="".concat(a).concat(p),C=i.includes("\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5");$.current.update({maskClosable:C,closable:C,okButtonProps:{disabled:!C},content:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("pre",{style:{fontSize:12,fontWeight:400},children:i}),(0,r.jsx)("div",{id:"log-identifier",style:{paddingBottom:5}})]})}),C&&!a.includes("\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5")&&c.ZP.error("\u66F4\u65B0\u5931\u8D25\uFF0C\u8BF7\u68C0\u67E5\u7F51\u7EDC\u53CA\u65E5\u5FD7\u6216\u7A0D\u540E\u518D\u8BD5"),d(i),document.getElementById("log-identifier")&&document.getElementById("log-identifier").scrollIntoView({behavior:"smooth",block:"nearest"}),p.includes("\u91CD\u542F\u9762\u677F")&&(c.ZP.warning({content:(0,r.jsxs)("span",{children:["\u7CFB\u7EDF\u5C06\u5728",(0,r.jsx)(W,{className:"inline-countdown",format:"ss",value:Date.now()+1e3*30}),"\u79D2\u540E\u81EA\u52A8\u5237\u65B0"]}),duration:30}),setTimeout(function(){window.location.reload()},3e4))}}},[b]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(f.Z,{type:"primary",onClick:B,children:"\u68C0\u67E5\u66F4\u65B0"})})};A.default=m},2742:function(w,A,e){e.r(A),e.d(A,{default:function(){return ue}});var I=e(30279),T=e.n(I),Z=e(94434),k=e.n(Z),R=e(46686),c=e.n(R),E=e(63313),f=e(59440),x=e(96384),L=e(65646),r=e(61135),W=e(71976),m=e(4352),h=e(63533),P=e(59225),b=e(44514),H=e(61685),U=e(28666),K=e(30314),J=e(50499),o=e(41601),l=e(11168),s=e(73835),a=e(71571),d=e(85143),$=e(97947),B=e(56453),F={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.1 209.3l-56.4 44.1C775.8 155.1 656.2 92 521.9 92 290 92 102.3 279.5 102 511.5 101.7 743.7 289.8 932 521.9 932c181.3 0 335.8-115 394.6-276.1 1.5-4.2-.7-8.9-4.9-10.3l-56.7-19.5a8 8 0 00-10.1 4.8c-1.8 5-3.8 10-5.9 14.9-17.3 41-42.1 77.8-73.7 109.4A344.77 344.77 0 01655.9 829c-42.3 17.9-87.4 27-133.8 27-46.5 0-91.5-9.1-133.8-27A341.5 341.5 0 01279 755.2a342.16 342.16 0 01-73.7-109.4c-17.9-42.4-27-87.4-27-133.9s9.1-91.5 27-133.9c17.3-41 42.1-77.8 73.7-109.4 31.6-31.6 68.4-56.4 109.3-73.8 42.3-17.9 87.4-27 133.8-27 46.5 0 91.5 9.1 133.8 27a341.5 341.5 0 01109.3 73.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.6 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c-.1-6.6-7.8-10.3-13-6.2z"}}]},name:"reload",theme:"outlined"},V=F,M=e(17536),O=function(j,q){return E.createElement(M.Z,(0,B.Z)((0,B.Z)({},j),{},{ref:q,icon:V}))};O.displayName="ReloadOutlined";var p=E.forwardRef(O),v=e(5962),i=e(2156),C=e(72340),N=e(60220),g=e(28346),y=e(55015),G=e(65731),n=e(11527),Y=f.Z.Text,S=[{label:"\u4EAE\u8272",value:"light"},{label:"\u6697\u8272",value:"dark"},{label:"\u8DDF\u968F\u7CFB\u7EDF",value:"auto"}],te=function(){var j=(0,G.bx)(),q=j.headerStyle,ae=j.isPhone,de=j.user,ce=j.reloadUser,fe=j.reloadTheme,oe=j.socketMessage,le=j.systemInfo,re=[{title:"\u540D\u79F0",dataIndex:"name",key:"name",align:"center"},{title:"Client ID",dataIndex:"client_id",key:"client_id",align:"center",render:function(t,u){return(0,n.jsx)(Y,{copyable:!0,children:u.client_id})}},{title:"Client Secret",dataIndex:"client_secret",key:"client_secret",align:"center",render:function(t,u){return(0,n.jsx)(Y,{copyable:{text:u.client_secret},children:"*******"})}},{title:"\u6743\u9650",dataIndex:"scopes",key:"scopes",align:"center",width:"40%",render:function(t,u){return(0,n.jsx)("div",{style:{textAlign:"left"},children:u.scopes.map(function(_){return(0,n.jsx)(x.Z,{children:o.Z.scopesMap[_]},_)})})}},{title:"\u64CD\u4F5C",key:"action",align:"center",render:function(t,u,_){var z=!ae;return(0,n.jsxs)(L.Z,{size:"middle",style:{paddingLeft:8},children:[(0,n.jsx)(r.Z,{title:z?"\u7F16\u8F91":"",children:(0,n.jsx)("a",{onClick:function(){return nt(u,_)},children:(0,n.jsx)($.Z,{})})}),(0,n.jsx)(r.Z,{title:z?"\u91CD\u7F6Esecret":"",children:(0,n.jsx)("a",{onClick:function(){return ot(u,_)},children:(0,n.jsx)(p,{})})}),(0,n.jsx)(r.Z,{title:z?"\u5220\u9664":"",children:(0,n.jsx)("a",{onClick:function(){return at(u,_)},children:(0,n.jsx)(v.Z,{})})})]})}}],se=(0,E.useState)(!0),Q=c()(se,2),Ze=Q[0],ge=Q[1],he=localStorage.getItem("qinglong_dark_theme")||"auto",Be=(0,E.useState)([]),_e=c()(Be,2),ie=_e[0],me=_e[1],Fe=(0,E.useState)(!1),Ee=c()(Fe,2),Se=Ee[0],ve=Ee[1],Te=(0,E.useState)(),pe=c()(Te,2),Re=pe[0],Ce=pe[1],Le=(0,E.useState)("security"),Pe=c()(Le,2),We=Pe[0],be=Pe[1],Ue=(0,E.useState)([]),Oe=c()(Ue,2),Ke=Oe[0],Ne=Oe[1],ke=(0,E.useState)(),ye=c()(ke,2),$e=ye[0],Ve=ye[1],ze=(0,E.useState)(),xe=c()(ze,2),Me=xe[0],De=xe[1],Ge=W.Z.useForm(),Ye=c()(Ge,1),He=Ye[0],ee=a||{},Je=ee.enable,Qe=ee.disable,ct=ee.exportGeneratedCSS,Xe=ee.setFetchMethod,we=ee.auto,qe=function(t){var u=t.target.value;localStorage.setItem("qinglong_dark_theme",t.target.value),Xe(fetch),u==="dark"?Je({}):u==="light"?Qe():we({}),fe()},et=function(){ge(!0),s.W.get("".concat(o.Z.apiPrefix,"apps")).then(function(t){var u=t.code,_=t.data;u===200&&me(_)}).finally(function(){return ge(!1)})},tt=function(){Ce(null),ve(!0)},nt=function(t,u){Ce(t),ve(!0)},at=function(t,u){m.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:(0,n.jsxs)(n.Fragment,{children:["\u786E\u8BA4\u5220\u9664\u5E94\u7528"," ",(0,n.jsx)(Y,{style:{wordBreak:"break-all"},type:"warning",children:t.name})," ","\u5417"]}),onOk:function(){s.W.delete("".concat(o.Z.apiPrefix,"apps"),{data:[t.id]}).then(function(z){var X=z.code,Ae=z.data;if(X===200){h.ZP.success("\u5220\u9664\u6210\u529F");var Ie=k()(ie);Ie.splice(u,1),me(Ie)}})},onCancel:function(){console.log("Cancel")}})},ot=function(t,u){m.Z.confirm({title:"\u786E\u8BA4\u91CD\u7F6E",content:(0,n.jsxs)(n.Fragment,{children:["\u786E\u8BA4\u91CD\u7F6E\u5E94\u7528"," ",(0,n.jsx)(Y,{style:{wordBreak:"break-all"},type:"warning",children:t.name})," ","\u7684Secret\u5417",(0,n.jsx)("br",{}),(0,n.jsx)(Y,{type:"secondary",children:"\u91CD\u7F6ESecret\u4F1A\u8BA9\u5F53\u524D\u5E94\u7528\u6240\u6709token\u5931\u6548"})]}),onOk:function(){s.W.put("".concat(o.Z.apiPrefix,"apps/").concat(t.id,"/reset-secret")).then(function(z){var X=z.code,Ae=z.data;X===200&&(h.ZP.success("\u91CD\u7F6E\u6210\u529F"),je(Ae))})},onCancel:function(){console.log("Cancel")}})},lt=function(t){ve(!1),t&&je(t)},je=function(t){var u=ie.findIndex(function(z){return z.id===t.id}),_=k()(ie);u===-1?_.push(t):_.splice(u,1,T()({},t)),me(_)},rt=function(){s.W.get("".concat(o.Z.apiPrefix,"user/login-log")).then(function(t){var u=t.code,_=t.data;u===200&&Ne(_)}).catch(function(t){console.log(t)})},st=function(t){be(t),t==="app"?et():t==="login"?rt():t==="notification"?it():t==="other"&&ut()},it=function(){s.W.get("".concat(o.Z.apiPrefix,"user/notification")).then(function(t){var u=t.code,_=t.data;u===200&&Ve(_)}).catch(function(t){console.log(t)})},ut=function(){s.W.get("".concat(o.Z.apiPrefix,"system/log/remove")).then(function(t){var u=t.code,_=t.data;if(u===200&&_.info){var z=_.info.frequency;De(z)}}).catch(function(t){console.log(t)})},dt=function(){setTimeout(function(){s.W.put("".concat(o.Z.apiPrefix,"system/log/remove"),{data:{frequency:Me}}).then(function(t){var u=t.code,_=t.data;u===200&&h.ZP.success("\u66F4\u65B0\u6210\u529F")}).catch(function(t){console.log(t)})})};return(0,n.jsxs)(l.ZP,{className:"ql-container-wrapper ql-container-wrapper-has-tab ql-setting-container",title:"\u7CFB\u7EDF\u8BBE\u7F6E",header:{style:q},extra:We==="app"?[(0,n.jsx)(P.Z,{type:"primary",onClick:function(){return tt()},children:"\u65B0\u5EFA\u5E94\u7528"},"2")]:[],children:[(0,n.jsx)(b.Z,{defaultActiveKey:"security",size:"small",tabPosition:"top",onChange:st,items:[{key:"security",label:"\u5B89\u5168\u8BBE\u7F6E",children:(0,n.jsx)(i.default,{user:de,userChange:ce})},{key:"app",label:"\u5E94\u7528\u8BBE\u7F6E",children:(0,n.jsx)(H.Z,{columns:re,pagination:!1,dataSource:ie,rowKey:"id",size:"middle",scroll:{x:768},loading:Ze})},{key:"notification",label:"\u901A\u77E5\u8BBE\u7F6E",children:(0,n.jsx)(N.default,{data:$e})},{key:"login",label:"\u767B\u5F55\u65E5\u5FD7",children:(0,n.jsx)(C.default,{data:Ke})},{key:"other",label:"\u5176\u4ED6\u8BBE\u7F6E",children:(0,n.jsxs)(W.Z,{layout:"vertical",form:He,children:[(0,n.jsx)(W.Z.Item,{label:"\u4E3B\u9898\u8BBE\u7F6E",name:"theme",initialValue:he,children:(0,n.jsx)(U.ZP.Group,{options:S,onChange:qe,value:he,optionType:"button",buttonStyle:"solid"})}),(0,n.jsx)(W.Z.Item,{label:"\u65E5\u5FD7\u5220\u9664\u9891\u7387",name:"frequency",tooltip:"\u6BCFx\u5929\u81EA\u52A8\u5220\u9664x\u5929\u4EE5\u524D\u7684\u65E5\u5FD7",children:(0,n.jsxs)(K.Z.Group,{compact:!0,children:[(0,n.jsx)(J.Z,{addonBefore:"\u6BCF",addonAfter:"\u5929",style:{width:150},min:0,value:Me,onChange:function(t){return De(t)}}),(0,n.jsx)(P.Z,{type:"primary",onClick:dt,children:"\u786E\u8BA4"})]})}),(0,n.jsx)(W.Z.Item,{label:"\u68C0\u67E5\u66F4\u65B0",name:"update",children:(0,n.jsx)(g.default,{systemInfo:le,socketMessage:oe})})]})},{key:"about",label:"\u5173\u4E8E",children:(0,n.jsx)(y.default,{systemInfo:le})}]}),(0,n.jsx)(d.default,{visible:Se,handleCancel:lt,app:Re})]})},ue=te},72340:function(w,A,e){e.r(A);var I=e(63313),T=e.n(I),Z=e(59440),k=e(96384),R=e(61685),c=e(11527),E=Z.Z.Text,f=Z.Z.Link,x;(function(m){m[m.\u6210\u529F=0]="\u6210\u529F",m[m.\u5931\u8D25=1]="\u5931\u8D25"})(x||(x={}));var L;(function(m){m[m.success=0]="success",m[m.error=1]="error"})(L||(L={}));var r=[{title:"\u5E8F\u53F7",align:"center",width:50,render:function(h,P,b){return b+1}},{title:"\u767B\u5F55\u65F6\u95F4",dataIndex:"timestamp",key:"timestamp",align:"center",render:function(h,P){return new Date(P.timestamp).toLocaleString()}},{title:"\u767B\u5F55\u5730\u5740",dataIndex:"address",key:"address",align:"center"},{title:"\u767B\u5F55IP",dataIndex:"ip",key:"ip",align:"center"},{title:"\u767B\u5F55\u8BBE\u5907",dataIndex:"platform",key:"platform",align:"center"},{title:"\u767B\u5F55\u72B6\u6001",dataIndex:"status",key:"status",align:"center",render:function(h,P){return(0,c.jsx)(k.Z,{color:L[P.status],style:{marginRight:0},children:x[P.status]})}}],W=function(h){var P=h.data;return(0,c.jsx)(c.Fragment,{children:(0,c.jsx)(R.Z,{columns:r,pagination:!1,dataSource:P,rowKey:"id",size:"middle",scroll:{x:768}})})};A.default=W},60220:function(w,A,e){e.r(A);var I=e(30279),T=e.n(I),Z=e(46686),k=e.n(Z),R=e(63313),c=e.n(R),E=e(61839),f=e(71976),x=e(63533),L=e(30314),r=e(59225),W=e(73835),m=e(41601),h=e(11527),P=E.Z.Option,b=function(U){var K=U.data,J=(0,R.useState)(!1),o=k()(J,2),l=o[0],s=o[1],a=(0,R.useState)("closed"),d=k()(a,2),$=d[0],B=d[1],F=(0,R.useState)([]),V=k()(F,2),M=V[0],O=V[1],p=f.Z.useForm(),v=k()(p,1),i=v[0],C=function(y){var G=y.type;G=="closed"&&(y.type=""),W.W.put("".concat(m.Z.apiPrefix,"user/notification"),{data:T()({},y)}).then(function(n){var Y=n.code,S=n.data;Y===200&&x.ZP.success(y.type?"\u901A\u77E5\u53D1\u9001\u6210\u529F":"\u901A\u77E5\u5173\u95ED\u6210\u529F")}).catch(function(n){console.log(n)})},N=function(y){B(y);var G=m.Z.notificationModeMap[y];O(G||[])};return(0,R.useEffect)(function(){K&&K.type&&(N(K.type),i.setFieldsValue(T()({},K)))},[K]),(0,h.jsx)("div",{children:(0,h.jsxs)(f.Z,{onFinish:C,form:i,layout:"vertical",children:[(0,h.jsx)(f.Z.Item,{label:"\u901A\u77E5\u65B9\u5F0F",name:"type",rules:[{required:!0}],style:{maxWidth:400},initialValue:$,children:(0,h.jsx)(E.Z,{onChange:N,children:m.Z.notificationModes.map(function(g){return(0,h.jsx)(P,{value:g.value,children:g.label},g.value)})})}),M.map(function(g){return(0,h.jsx)(f.Z.Item,{label:g.label,name:g.label,extra:g.tip,rules:[{required:g.required}],style:{maxWidth:400},children:g.items?(0,h.jsx)(E.Z,{placeholder:g.placeholder||"\u8BF7\u9009\u62E9".concat(g.label),children:g.items.map(function(y){return(0,h.jsx)(P,{value:y.value,children:y.label||y.value},y.value)})}):(0,h.jsx)(L.Z.TextArea,{autoSize:!0,placeholder:g.placeholder||"\u8BF7\u8F93\u5165".concat(g.label)})},g.label)}),(0,h.jsx)(r.Z,{type:"primary",htmlType:"submit",children:"\u4FDD\u5B58"})]})})};A.default=b},96384:function(w,A,e){e.d(A,{Z:function(){return J}});var I=e(24255),T=e(15882),Z=e(6614),k=e(47161),R=e(84875),c=e.n(R),E=e(33759),f=e(63313),x=e(47295),L=e(38439),r=e(75851),W=function(o,l){var s={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&l.indexOf(a)<0&&(s[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(o);d<a.length;d++)l.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(o,a[d])&&(s[a[d]]=o[a[d]]);return s},m=function(l){var s,a=l.prefixCls,d=l.className,$=l.checked,B=l.onChange,F=l.onClick,V=W(l,["prefixCls","className","checked","onChange","onClick"]),M=f.useContext(x.E_),O=M.getPrefixCls,p=function(N){B==null||B(!$),F==null||F(N)},v=O("tag",a),i=c()(v,(s={},(0,I.Z)(s,"".concat(v,"-checkable"),!0),(0,I.Z)(s,"".concat(v,"-checkable-checked"),$),s),d);return f.createElement("span",(0,T.Z)({},V,{className:i,onClick:p}))},h=m,P=function(o,l){var s={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&l.indexOf(a)<0&&(s[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,a=Object.getOwnPropertySymbols(o);d<a.length;d++)l.indexOf(a[d])<0&&Object.prototype.propertyIsEnumerable.call(o,a[d])&&(s[a[d]]=o[a[d]]);return s},b=new RegExp("^(".concat(L.Y.join("|"),")(-inverse)?$")),H=new RegExp("^(".concat(L.E.join("|"),")$")),U=function(l,s){var a,d=l.prefixCls,$=l.className,B=l.style,F=l.children,V=l.icon,M=l.color,O=l.onClose,p=l.closeIcon,v=l.closable,i=v===void 0?!1:v,C=P(l,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),N=f.useContext(x.E_),g=N.getPrefixCls,y=N.direction,G=f.useState(!0),n=(0,Z.Z)(G,2),Y=n[0],S=n[1];f.useEffect(function(){"visible"in C&&S(C.visible)},[C.visible]);var te=function(){return M?b.test(M)||H.test(M):!1},ue=(0,T.Z)({backgroundColor:M&&!te()?M:void 0},B),ne=te(),j=g("tag",d),q=c()(j,(a={},(0,I.Z)(a,"".concat(j,"-").concat(M),ne),(0,I.Z)(a,"".concat(j,"-has-color"),M&&!ne),(0,I.Z)(a,"".concat(j,"-hidden"),!Y),(0,I.Z)(a,"".concat(j,"-rtl"),y==="rtl"),a),$),ae=function(Q){Q.stopPropagation(),O==null||O(Q),!Q.defaultPrevented&&("visible"in C||S(!1))},de=function(){return i?p?f.createElement("span",{className:"".concat(j,"-close-icon"),onClick:ae},p):f.createElement(k.Z,{className:"".concat(j,"-close-icon"),onClick:ae}):null},ce="onClick"in C||F&&F.type==="a",fe=(0,E.Z)(C,["visible"]),oe=V||null,le=oe?f.createElement(f.Fragment,null,oe,f.createElement("span",null,F)):F,re=f.createElement("span",(0,T.Z)({},fe,{ref:s,className:q,style:ue}),le,de());return ce?f.createElement(r.Z,null,re):re},K=f.forwardRef(U);K.CheckableTag=h;var J=K}}]);
