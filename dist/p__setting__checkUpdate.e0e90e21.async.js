(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[28],{1:function(e,t){},"5COQ":function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var r=a("9og8"),o=a("k1fw"),l=(a("miYZ"),a("tsqr")),i=a("WmNS"),n=a.n(i),s=a("ZqBY"),u=a("SC9r"),c=a("9kvl");l["b"].config({duration:1.5});var p=Date.now(),d=function(e){if(e.response){var t=e.data?e.data.message||e.data:e.response.statusText,a=e.response.status;502===a?l["b"].error("\u670d\u52a1\u5f02\u5e38\uff0c\u8bf7\u624b\u52a8\u6267\u884cql check\u68c0\u67e5\u670d\u52a1\u72b6\u6001"):401===a?"/login"!==c["a"].location.pathname&&(l["b"].error("\u767b\u5f55\u5df2\u8fc7\u671f\uff0c\u8bf7\u91cd\u65b0\u767b\u5f55"),localStorage.removeItem(u["a"].authKey),c["a"].push("/login")):l["b"].error(t)}else console.log(e.message);throw e},g=Object(s["a"])({timeout:6e4,params:{t:p},errorHandler:d}),m=["/api/login","/open/auth/token","/api/user/two-factor/login","/api/system","/api/init/user","/api/init/notification"];g.interceptors.request.use(((e,t)=>{var a=localStorage.getItem(u["a"].authKey);if(a&&!m.includes(e)){var r={Authorization:"Bearer ".concat(a)};return{url:e,options:Object(o["a"])(Object(o["a"])({},t),{},{headers:r})}}return{url:e,options:t}})),g.interceptors.response.use(function(){var e=Object(r["a"])(n.a.mark((function e(t){return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.clone();case 2:return e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var b=g},"8hKs":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return o}));var r="2.10.8",o="https://t.me/jiao_long/227"},"9kvl":function(e,t,a){"use strict";var r=a("FfOG");a.d(t,"a",(function(){return r["b"]}));a("bCY9")},SC9r:function(e,t,a){"use strict";t["a"]={siteName:"\u9752\u9f99\u63a7\u5236\u9762\u677f",apiPrefix:"/api/",authKey:"token",layouts:[{name:"primary",include:[/.*/],exclude:[/(\/(en|zh))*\/login/]}],i18n:{languages:[{key:"pt-br",title:"Portugu\xeas",flag:"/portugal.svg"},{key:"en",title:"English",flag:"/america.svg"},{key:"zh",title:"\u4e2d\u6587",flag:"/china.svg"}],defaultLanguage:"en"},scopes:[{name:"\u5b9a\u65f6\u4efb\u52a1",value:"crons"},{name:"\u73af\u5883\u53d8\u91cf",value:"envs"},{name:"\u914d\u7f6e\u6587\u4ef6",value:"configs"},{name:"\u811a\u672c\u7ba1\u7406",value:"scripts"},{name:"\u4efb\u52a1\u65e5\u5fd7",value:"logs"}],scopesMap:{crons:"\u5b9a\u65f6\u4efb\u52a1",envs:"\u73af\u5883\u53d8\u91cf",configs:"\u914d\u7f6e\u6587\u4ef6",scripts:"\u811a\u672c\u7ba1\u7406",logs:"\u4efb\u52a1\u65e5\u5fd7"},notificationModes:[{value:"gotify",label:"Gotify"},{value:"goCqHttpBot",label:"GoCqHttpBot"},{value:"serverChan",label:"Server\u9171"},{value:"bark",label:"Bark"},{value:"telegramBot",label:"Telegram\u673a\u5668\u4eba"},{value:"dingtalkBot",label:"\u9489\u9489\u673a\u5668\u4eba"},{value:"weWorkBot",label:"\u4f01\u4e1a\u5fae\u4fe1\u673a\u5668\u4eba"},{value:"weWorkApp",label:"\u4f01\u4e1a\u5fae\u4fe1\u5e94\u7528"},{value:"iGot",label:"IGot"},{value:"pushPlus",label:"PushPlus"},{value:"email",label:"\u90ae\u7bb1"},{value:"closed",label:"\u5df2\u5173\u95ed"}],notificationModeMap:{gotify:[{label:"gotifyUrl",tip:"gotify\u7684url\u5730\u5740,\u4f8b\u5982 https://push.example.de:8080",required:!0},{label:"gotifyToken",tip:"gotify\u7684\u6d88\u606f\u5e94\u7528token\u7801",required:!0},{label:"gotifyPriority",tip:"\u63a8\u9001\u6d88\u606f\u7684\u4f18\u5148\u7ea7"}],goCqHttpBot:[{label:"goCqHttpBotUrl",tip:"\u63a8\u9001\u5230\u4e2a\u4ebaQQ: http://127.0.0.1/send_private_msg\uff0c\u7fa4\uff1ahttp://127.0.0.1/send_group_msg",required:!0},{label:"goCqHttpBotToken",tip:"\u8bbf\u95ee\u5bc6\u94a5",required:!0},{label:"goCqHttpBotQq",tip:"\u5982\u679cGOBOT_URL\u8bbe\u7f6e /send_private_msg \u5219\u9700\u8981\u586b\u5165 user_id=\u4e2a\u4ebaQQ \u76f8\u53cd\u5982\u679c\u662f /send_group_msg \u5219\u9700\u8981\u586b\u5165 group_id=QQ\u7fa4",required:!0}],serverChan:[{label:"serverChanKey",tip:"Server\u9171SENDKEY",required:!0}],bark:[{label:"barkPush",tip:"Bark\u7684\u4fe1\u606fIP/\u8bbe\u5907\u7801\uff0c\u4f8b\u5982\uff1ahttps://api.day.app/XXXXXXXX",required:!0},{label:"barkSound",tip:"BARK\u63a8\u9001\u94c3\u58f0,\u94c3\u58f0\u5217\u8868\u53bbAPP\u67e5\u770b\u590d\u5236\u586b\u5199"},{label:"barkGroup",tip:"BARK\u63a8\u9001\u6d88\u606f\u7684\u5206\u7ec4, \u9ed8\u8ba4\u4e3aqinglong"}],telegramBot:[{label:"telegramBotToken",tip:"telegram\u673a\u5668\u4eba\u7684token\uff0c\u4f8b\u5982\uff1a1077xxx4424:AAFjv0FcqxxxxxxgEMGfi22B4yh15R5uw",required:!0},{label:"telegramBotUserId",tip:"telegram\u7528\u6237\u7684id\uff0c\u4f8b\u5982\uff1a129xxx206",required:!0},{label:"telegramBotProxyHost",tip:"\u4ee3\u7406IP"},{label:"telegramBotProxyPort",tip:"\u4ee3\u7406\u7aef\u53e3"},{label:"telegramBotProxyAuth",tip:"telegram\u4ee3\u7406\u914d\u7f6e\u8ba4\u8bc1\u53c2\u6570, \u7528\u6237\u540d\u4e0e\u5bc6\u7801\u7528\u82f1\u6587\u5192\u53f7\u8fde\u63a5 user:password"},{label:"telegramBotApiHost",tip:"telegram api\u81ea\u5efa\u7684\u53cd\u5411\u4ee3\u7406\u5730\u5740\uff0c\u9ed8\u8ba4tg\u5b98\u65b9api"}],dingtalkBot:[{label:"dingtalkBotToken",tip:"\u9489\u9489\u673a\u5668\u4ebawebhook token\uff0c\u4f8b\u5982\uff1a5a544165465465645d0f31dca676e7bd07415asdasd",required:!0},{label:"dingtalkBotSecret",tip:"\u5bc6\u94a5\uff0c\u673a\u5668\u4eba\u5b89\u5168\u8bbe\u7f6e\u9875\u9762\uff0c\u52a0\u7b7e\u4e00\u680f\u4e0b\u9762\u663e\u793a\u7684SEC\u5f00\u5934\u7684\u5b57\u7b26\u4e32"}],weWorkBot:[{label:"weWorkBotKey",tip:"\u4f01\u4e1a\u5fae\u4fe1\u673a\u5668\u4eba\u7684 webhook(\u8be6\u89c1\u6587\u6863 https://work.weixin.qq.com/api/doc/90000/90136/91770)\uff0c\u4f8b\u5982\uff1a693a91f6-7xxx-4bc4-97a0-0ec2sifa5aaa",required:!0}],weWorkApp:[{label:"weWorkAppKey",tip:"corpid,corpsecret,touser(\u6ce8:\u591a\u4e2a\u6210\u5458ID\u4f7f\u7528|\u9694\u5f00),agentid,\u6d88\u606f\u7c7b\u578b(\u9009\u586b,\u4e0d\u586b\u9ed8\u8ba4\u6587\u672c\u6d88\u606f\u7c7b\u578b) \u6ce8\u610f\u7528,\u53f7\u9694\u5f00(\u82f1\u6587\u8f93\u5165\u6cd5\u7684\u9017\u53f7)\uff0c\u4f8b\u5982\uff1awwcfrs,B-76WERQ,qinglong,1000001,2COat",required:!0}],iGot:[{label:"iGotPushKey",tip:"iGot\u7684\u4fe1\u606f\u63a8\u9001key\uff0c\u4f8b\u5982\uff1ahttps://push.hellyw.com/XXXXXXXX",required:!0}],pushPlus:[{label:"pushPlusToken",tip:"\u5fae\u4fe1\u626b\u7801\u767b\u5f55\u540e\u4e00\u5bf9\u4e00\u63a8\u9001\u6216\u4e00\u5bf9\u591a\u63a8\u9001\u4e0b\u9762\u7684token(\u60a8\u7684Token)\uff0c\u4e0d\u63d0\u4f9bPUSH_PLUS_USER\u5219\u9ed8\u8ba4\u4e3a\u4e00\u5bf9\u4e00\u63a8\u9001",required:!0},{label:"pushPlusUser",tip:"\u4e00\u5bf9\u591a\u63a8\u9001\u7684\u201c\u7fa4\u7ec4\u7f16\u7801\u201d\uff08\u4e00\u5bf9\u591a\u63a8\u9001\u4e0b\u9762->\u60a8\u7684\u7fa4\u7ec4(\u5982\u65e0\u5219\u65b0\u5efa)->\u7fa4\u7ec4\u7f16\u7801\uff0c\u5982\u679c\u60a8\u662f\u521b\u5efa\u7fa4\u7ec4\u4eba\u3002\u4e5f\u9700\u70b9\u51fb\u201c\u67e5\u770b\u4e8c\u7ef4\u7801\u201d\u626b\u63cf\u7ed1\u5b9a\uff0c\u5426\u5219\u4e0d\u80fd\u63a5\u53d7\u7fa4\u7ec4\u6d88\u606f\u63a8\u9001\uff09"}],email:[{label:"emailService",tip:"\u90ae\u7bb1\u670d\u52a1\u540d\u79f0\uff0c\u6bd4\u5982126\u3001163\u3001Gmail\u3001QQ\u7b49\uff0c\u652f\u6301\u5217\u8868https://nodemailer.com/smtp/well-known/",required:!0},{label:"emailUser",tip:"\u90ae\u7bb1\u5730\u5740",required:!0},{label:"emailPass",tip:"\u90ae\u7bb1SMTP\u6388\u6743\u7801",required:!0}]},documentTitleMap:{"/login":"\u767b\u5f55","/initialization":"\u521d\u59cb\u5316","/cron":"\u5b9a\u65f6\u4efb\u52a1","/env":"\u73af\u5883\u53d8\u91cf","/config":"\u914d\u7f6e\u6587\u4ef6","/script":"\u811a\u672c\u7ba1\u7406","/diff":"\u5bf9\u6bd4\u5de5\u5177","/log":"\u4efb\u52a1\u65e5\u5fd7","/setting":"\u7cfb\u7edf\u8bbe\u7f6e"},dependenceTypes:["nodejs","python3","linux"]}},m1gU:function(e,t,a){"use strict";a.r(t);a("+L6B");var r=a("2/Rp"),o=(a("2qtc"),a("kLXV")),l=(a("miYZ"),a("tsqr")),i=a("tJVT"),n=(a("aHsQ"),a("sGsY")),s=a("cDcd"),u=a.n(s),c=a("5COQ"),p=a("SC9r"),d=a("8hKs"),g=n["a"].Countdown,m=e=>{var t=e.socketMessage,a=Object(s["useState"])(!1),n=Object(i["a"])(a,2),m=n[0],b=n[1],f=Object(s["useState"])(""),h=Object(i["a"])(f,2),v=h[0],k=h[1],w=Object(s["useRef"])(),y=()=>{m||(b(!0),l["b"].loading("\u68c0\u67e5\u66f4\u65b0\u4e2d...",0),c["a"].put("".concat(p["a"].apiPrefix,"system/update-check")).then((e=>{l["b"].destroy();var t=e.code,a=e.data;200===t?a.hasNewVersion?B(a):l["b"].success("\u5df2\u7ecf\u662f\u6700\u65b0\u7248\u4e86\uff01"):l["b"].error(a)})).catch((e=>{l["b"].destroy(),console.log(e)})).finally((()=>{b(!1)})))},B=e=>{var t=e.lastVersion,a=e.lastLog;o["a"].confirm({width:500,title:u.a.createElement(u.a.Fragment,null,u.a.createElement("div",null,"\u66f4\u65b0\u53ef\u7528"),u.a.createElement("div",{style:{fontSize:12,fontWeight:400,marginTop:5}},"\u65b0\u7248\u672c",t,"\u53ef\u7528\u3002\u4f60\u4f7f\u7528\u7684\u7248\u672c\u4e3a",d["b"],"\u3002")),content:u.a.createElement("pre",{style:{wordBreak:"break-all",whiteSpace:"pre-wrap",paddingTop:15,fontSize:12,fontWeight:400}},a),okText:"\u66f4\u65b0",cancelText:"\u4ee5\u540e\u518d\u8bf4",onOk(){q(),c["a"].put("".concat(p["a"].apiPrefix,"system/update")).then((e=>{})).catch((e=>{console.log(e)}))}})},q=()=>{w.current=o["a"].info({width:600,maskClosable:!1,closable:!1,okButtonProps:{disabled:!0},title:"\u66f4\u65b0\u65e5\u5fd7",centered:!0,content:u.a.createElement("div",{style:{height:"60vh",overflowY:"auto"}},u.a.createElement("pre",{style:{wordBreak:"break-all",whiteSpace:"pre-wrap",fontSize:12,fontWeight:400}},v))})};return Object(s["useEffect"])((()=>{if(w.current&&t){var e=t.type,a=t.message;t.references;if("updateSystemVersion"===e){var r="".concat(v,"\n").concat(a);w.current.update({content:u.a.createElement("div",{style:{height:"60vh",overflowY:"auto"}},u.a.createElement("pre",{style:{wordBreak:"break-all",whiteSpace:"pre-wrap",fontSize:12,fontWeight:400}},r),u.a.createElement("div",{id:"log-identifier",style:{paddingBottom:5}}))}),k(r),document.getElementById("log-identifier")&&document.getElementById("log-identifier").scrollIntoView({behavior:"smooth",block:"nearest"}),a.includes("\u91cd\u542f\u9762\u677f")&&(l["b"].warning({content:u.a.createElement("span",null,"\u7cfb\u7edf\u5c06\u5728",u.a.createElement(g,{className:"inline-countdown",format:"ss",value:Date.now()+1e4}),"\u79d2\u540e\u81ea\u52a8\u5237\u65b0"),duration:10}),setTimeout((()=>{window.location.reload()}),1e4))}}}),[t]),u.a.createElement(u.a.Fragment,null,u.a.createElement(r["a"],{type:"primary",onClick:y},"\u68c0\u67e5\u66f4\u65b0"))};t["default"]=m}}]);