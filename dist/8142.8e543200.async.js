"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[8142],{88142:function(e,n,t){t.d(n,{Z:function(){return ae}});var r=t(2053),o=t(57904),a=t(82187),l=t.n(a),i=t(35047),u=t(98037),c=t(99459),d=t(53162),s=t(24744),f=t(75271),p=t(77168),v=t(78769),h=t(11252),m=t(6522),g=t(1260),C=t(95410),y=t(7002),b=f.createContext(null),w=f.createContext(null);function k(e){return!e||e.disabled||e.disableCheckbox||!1===e.checkable}function Z(e){return null==e}var E={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},x=function(e,n){var t=(0,p.lk)(),o=t.prefixCls,a=t.multiple,l=t.searchValue,u=t.toggleOpen,d=t.open,s=t.notFoundContent,v=f.useContext(w),h=v.virtual,m=v.listHeight,Z=v.listItemHeight,x=v.treeData,I=v.fieldNames,S=v.onSelect,N=v.dropdownMatchSelectWidth,L=v.treeExpandAction,D=f.useContext(b),P=D.checkable,M=D.checkedKeys,T=D.halfCheckedKeys,O=D.treeExpandedKeys,H=D.treeDefaultExpandAll,K=D.treeDefaultExpandedKeys,V=D.onTreeExpand,A=D.treeIcon,W=D.showTreeIcon,R=D.switcherIcon,F=D.treeLine,_=D.treeNodeFilterProp,j=D.loadData,U=D.treeLoadedKeys,z=D.treeMotion,q=D.onTreeLoad,G=D.keyEntities,J=f.useRef(),B=(0,C.Z)((function(){return x}),[d,x],(function(e,n){return n[0]&&e[1]!==n[1]})),Q=f.useMemo((function(){return P?{checked:M,halfChecked:T}:null}),[P,M,T]);f.useEffect((function(){var e;d&&!a&&M.length&&(null===(e=J.current)||void 0===e||e.scrollTo({key:M[0]}))}),[d]);var X=String(l).toLowerCase(),Y=f.useState(K),$=(0,c.Z)(Y,2),ee=$[0],ne=$[1],te=f.useState(null),re=(0,c.Z)(te,2),oe=re[0],ae=re[1],le=f.useMemo((function(){return O?(0,i.Z)(O):l?oe:ee}),[ee,oe,O,l]);f.useEffect((function(){l&&ae(function(e,n){var t=[];return function e(r){r.forEach((function(r){var o=r[n.children];o&&(t.push(r[n.value]),e(o))}))}(e),t}(x,I))}),[l]);var ie=function(e){e.preventDefault()},ue=function(e,n){var t=n.node;P&&k(t)||(S(t.key,{selected:!M.includes(t.key)}),a||u(!1))},ce=f.useState(null),de=(0,c.Z)(ce,2),se=de[0],fe=de[1],pe=G[se];if(f.useImperativeHandle(n,(function(){var e;return{scrollTo:null===(e=J.current)||void 0===e?void 0:e.scrollTo,onKeyDown:function(e){var n;switch(e.which){case g.Z.UP:case g.Z.DOWN:case g.Z.LEFT:case g.Z.RIGHT:null===(n=J.current)||void 0===n||n.onKeyDown(e);break;case g.Z.ENTER:if(pe){var t=(null==pe?void 0:pe.node)||{},r=t.selectable,o=t.value;!1!==r&&ue(0,{node:{key:se},selected:!M.includes(o)})}break;case g.Z.ESC:u(!1)}},onKeyUp:function(){}}})),0===B.length)return f.createElement("div",{role:"listbox",className:"".concat(o,"-empty"),onMouseDown:ie},s);var ve={fieldNames:I};return U&&(ve.loadedKeys=U),le&&(ve.expandedKeys=le),f.createElement("div",{onMouseDown:ie},pe&&d&&f.createElement("span",{style:E,"aria-live":"assertive"},pe.node.value),f.createElement(y.Z,(0,r.Z)({ref:J,focusable:!1,prefixCls:"".concat(o,"-tree"),treeData:B,height:m,itemHeight:Z,virtual:!1!==h&&!1!==N,multiple:a,icon:A,showIcon:W,switcherIcon:R,showLine:F,loadData:l?null:j,motion:z,activeKey:se,checkable:P,checkStrictly:!0,checkedKeys:Q,selectedKeys:P?[]:M,defaultExpandAll:H},ve,{onActiveChange:fe,onSelect:ue,onCheck:ue,onExpand:function(e){ne(e),ae(e),V&&V(e)},onLoad:q,filterTreeNode:function(e){return!!X&&String(e[_]).toLowerCase().includes(X)},expandAction:L})))},I=f.forwardRef(x);I.displayName="OptionList";var S=I,N=function(){return null},L="SHOW_ALL",D="SHOW_PARENT",P="SHOW_CHILD";function M(e,n,t,r){var o=new Set(e);return n===P?e.filter((function(e){var n=t[e];return!(n&&n.children&&n.children.some((function(e){var n=e.node;return o.has(n[r.value])}))&&n.children.every((function(e){var n=e.node;return k(n)||o.has(n[r.value])})))})):n===D?e.filter((function(e){var n=t[e],r=n?n.parent:null;return!(r&&!k(r.node)&&o.has(r.key))})):e}var T=t(22615),O=t(7432),H=["children","value"];function K(e){return(0,T.Z)(e).map((function(e){if(!f.isValidElement(e)||!e.type)return null;var n=e,t=n.key,r=n.props,o=r.children,a=r.value,l=(0,d.Z)(r,H),i=(0,u.Z)({key:t,value:a},l),c=K(o);return c.length&&(i.children=c),i})).filter((function(e){return e}))}function V(e){if(!e)return e;var n=(0,u.Z)({},e);return"props"in n||Object.defineProperty(n,"props",{get:function(){return(0,O.ZP)(!1,"New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access."),n}}),n}function A(e,n,t){return f.useMemo((function(){return e?t?function(e,n){var t=n.id,r=n.pId,o=n.rootPId,a={},l=[];return e.map((function(e){var n=(0,u.Z)({},e),r=n[t];return a[r]=n,n.key=n.key||r,n})).forEach((function(e){var n=e[r],t=a[n];t&&(t.children=t.children||[],t.children.push(e)),(n===o||!t&&null===o)&&l.push(e)})),l}(e,(0,u.Z)({id:"id",pId:"pId",rootPId:null},!0!==t?t:{})):e:K(n)}),[n,t,e])}function W(e){var n=f.useRef();n.current=e;var t=f.useCallback((function(){return n.current.apply(n,arguments)}),[]);return t}var R=t(31823);var F=["id","prefixCls","value","defaultValue","onChange","onSelect","onDeselect","searchValue","inputValue","onSearch","autoClearSearchValue","filterTreeNode","treeNodeFilterProp","showCheckedStrategy","treeNodeLabelProp","multiple","treeCheckable","treeCheckStrictly","labelInValue","fieldNames","treeDataSimpleMode","treeData","children","loadData","treeLoadedKeys","onTreeLoad","treeDefaultExpandAll","treeExpandedKeys","treeDefaultExpandedKeys","onTreeExpand","treeExpandAction","virtual","listHeight","listItemHeight","onDropdownVisibleChange","dropdownMatchSelectWidth","treeLine","treeIcon","showTreeIcon","switcherIcon","treeMotion"];var _=f.forwardRef((function(e,n){var t=e.id,a=e.prefixCls,l=void 0===a?"rc-tree-select":a,g=e.value,C=e.defaultValue,y=e.onChange,k=e.onSelect,E=e.onDeselect,x=e.searchValue,I=e.inputValue,L=e.onSearch,D=e.autoClearSearchValue,T=void 0===D||D,H=e.filterTreeNode,K=e.treeNodeFilterProp,_=void 0===K?"value":K,j=e.showCheckedStrategy,U=void 0===j?P:j,z=e.treeNodeLabelProp,q=e.multiple,G=e.treeCheckable,J=e.treeCheckStrictly,B=e.labelInValue,Q=e.fieldNames,X=e.treeDataSimpleMode,Y=e.treeData,$=e.children,ee=e.loadData,ne=e.treeLoadedKeys,te=e.onTreeLoad,re=e.treeDefaultExpandAll,oe=e.treeExpandedKeys,ae=e.treeDefaultExpandedKeys,le=e.onTreeExpand,ie=e.treeExpandAction,ue=e.virtual,ce=e.listHeight,de=void 0===ce?200:ce,se=e.listItemHeight,fe=void 0===se?20:se,pe=e.onDropdownVisibleChange,ve=e.dropdownMatchSelectWidth,he=void 0===ve||ve,me=e.treeLine,ge=e.treeIcon,Ce=e.showTreeIcon,ye=e.switcherIcon,be=e.treeMotion,we=(0,d.Z)(e,F),ke=(0,h.ZP)(t),Ze=G&&!J,Ee=G||J,xe=J||B,Ie=Ee||q,Se=(0,m.Z)(C,{value:g}),Ne=(0,c.Z)(Se,2),Le=Ne[0],De=Ne[1];var Pe,Me,Te=f.useMemo((function(){return function(e){var n=e||{},t=n.label,r=n.value||"value";return{_title:t?[t]:["title","label"],value:r,key:r,children:n.children||"children"}}(Q)}),[JSON.stringify(Q)]),Oe=(0,m.Z)("",{value:void 0!==x?x:I,postState:function(e){return e||""}}),He=(0,c.Z)(Oe,2),Ke=He[0],Ve=He[1],Ae=A(Y,$,X),We=function(e,n){return f.useMemo((function(){return(0,R.I8)(e,{fieldNames:n,initWrapper:function(e){return(0,u.Z)((0,u.Z)({},e),{},{valueEntities:new Map})},processEntity:function(e,t){var r=e.node[n.value];t.valueEntities.set(r,e)}})}),[e,n])}(Ae,Te),Re=We.keyEntities,Fe=We.valueEntities,_e=f.useCallback((function(e){var n=[],t=[];return e.forEach((function(e){Fe.has(e)?t.push(e):n.push(e)})),{missingRawValues:n,existRawValues:t}}),[Fe]),je=function(e,n,t){var r=t.treeNodeFilterProp,a=t.filterTreeNode,l=t.fieldNames.children;return f.useMemo((function(){if(!n||!1===a)return e;var t;if("function"==typeof a)t=a;else{var i=n.toUpperCase();t=function(e,n){var t=n[r];return String(t).toUpperCase().includes(i)}}return function e(r){var a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return r.map((function(r){var i=r[l],c=a||t(n,V(r)),d=e(i||[],c);return c||d.length?(0,u.Z)((0,u.Z)({},r),{},(0,o.Z)({isLeaf:void 0},l,d)):null})).filter((function(e){return e}))}(e)}),[e,n,l,r,a])}(Ae,Ke,{fieldNames:Te,treeNodeFilterProp:_,filterTreeNode:H}),Ue=f.useCallback((function(e){if(e){if(z)return e[z];for(var n=Te._title,t=0;t<n.length;t+=1){var r=e[n[t]];if(void 0!==r)return r}}}),[Te,z]),ze=f.useCallback((function(e){var n=function(e){return Array.isArray(e)?e:void 0!==e?[e]:[]}(e);return n.map((function(e){return function(e){return!e||"object"!==(0,s.Z)(e)}(e)?{value:e}:e}))}),[]),qe=f.useCallback((function(e){return ze(e).map((function(e){var n,t,r=e.label,o=e.value,a=e.halfChecked,l=Fe.get(o);if(l)r=null!==(t=r)&&void 0!==t?t:Ue(l.node),n=l.node.disabled;else if(void 0===r){r=ze(Le).find((function(e){return e.value===o})).label}return{label:r,value:o,halfChecked:a,disabled:n}}))}),[Fe,Ue,ze,Le]),Ge=f.useMemo((function(){return ze(Le)}),[ze,Le]),Je=f.useMemo((function(){var e=[],n=[];return Ge.forEach((function(t){t.halfChecked?n.push(t):e.push(t)})),[e,n]}),[Ge]),Be=(0,c.Z)(Je,2),Qe=Be[0],Xe=Be[1],Ye=f.useMemo((function(){return Qe.map((function(e){return e.value}))}),[Qe]),$e=function(e,n,t,r){return f.useMemo((function(){var o=e.map((function(e){return e.value})),a=n.map((function(e){return e.value})),l=o.filter((function(e){return!r[e]}));if(t){var u=(0,v.S)(o,!0,r);o=u.checkedKeys,a=u.halfCheckedKeys}return[Array.from(new Set([].concat((0,i.Z)(l),(0,i.Z)(o)))),a]}),[e,n,t,r])}(Qe,Xe,Ze,Re),en=(0,c.Z)($e,2),nn=en[0],tn=en[1],rn=f.useMemo((function(){var e=M(nn,U,Re,Te).map((function(e){var n,t,r;return null!==(n=null===(t=Re[e])||void 0===t||null===(r=t.node)||void 0===r?void 0:r[Te.value])&&void 0!==n?n:e})).map((function(e){var n=Qe.find((function(n){return n.value===e}));return{value:e,label:null==n?void 0:n.label}})),n=qe(e),t=n[0];return!Ie&&t&&Z(t.value)&&Z(t.label)?[]:n.map((function(e){var n;return(0,u.Z)((0,u.Z)({},e),{},{label:null!==(n=e.label)&&void 0!==n?n:e.value})}))}),[Te,Ie,nn,Qe,qe,U,Re]),on=(Pe=rn,Me=f.useRef({valueLabels:new Map}),f.useMemo((function(){var e=Me.current.valueLabels,n=new Map,t=Pe.map((function(t){var r,o=t.value,a=null!==(r=t.label)&&void 0!==r?r:e.get(o);return n.set(o,a),(0,u.Z)((0,u.Z)({},t),{},{label:a})}));return Me.current.valueLabels=n,[t]}),[Pe])),an=(0,c.Z)(on,1)[0],ln=W((function(e,n,t){var r=qe(e);if(De(r),T&&Ve(""),y){var o=e;if(Ze){var a=M(e,U,Re,Te);o=a.map((function(e){var n=Fe.get(e);return n?n.node[Te.value]:e}))}var l=n||{triggerValue:void 0,selected:void 0},u=l.triggerValue,c=l.selected,d=o;if(J){var s=Xe.filter((function(e){return!o.includes(e.value)}));d=[].concat((0,i.Z)(d),(0,i.Z)(s))}var p=qe(d),v={preValue:Qe,triggerValue:u},h=!0;(J||"selection"===t&&!c)&&(h=!1),function(e,n,t,r,o,a){var l=null,i=null;function u(){i||(i=[],function e(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",u=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return r.map((function(r,c){var d="".concat(o,"-").concat(c),s=r[a.value],p=t.includes(s),v=e(r[a.children]||[],d,p),h=f.createElement(N,r,v.map((function(e){return e.node})));if(n===s&&(l=h),p){var m={pos:d,node:h,children:v};return u||i.push(m),m}return null})).filter((function(e){return e}))}(r),i.sort((function(e,n){var r=e.node.props.value,o=n.node.props.value;return t.indexOf(r)-t.indexOf(o)})))}Object.defineProperty(e,"triggerNode",{get:function(){return(0,O.ZP)(!1,"`triggerNode` is deprecated. Please consider decoupling data with node."),u(),l}}),Object.defineProperty(e,"allCheckedNodes",{get:function(){return(0,O.ZP)(!1,"`allCheckedNodes` is deprecated. Please consider decoupling data with node."),u(),o?i:i.map((function(e){return e.node}))}})}(v,u,e,Ae,h,Te),Ee?v.checked=c:v.selected=c;var m=xe?p:p.map((function(e){return e.value}));y(Ie?m:m[0],xe?null:p.map((function(e){return e.label})),v)}})),un=f.useCallback((function(e,n){var t,r=n.selected,o=n.source,a=Re[e],l=null==a?void 0:a.node,u=null!==(t=null==l?void 0:l[Te.value])&&void 0!==t?t:e;if(Ie){var c=r?[].concat((0,i.Z)(Ye),[u]):nn.filter((function(e){return e!==u}));if(Ze){var d,s=_e(c),f=s.missingRawValues,p=s.existRawValues.map((function(e){return Fe.get(e).key}));if(r)d=(0,v.S)(p,!0,Re).checkedKeys;else d=(0,v.S)(p,{checked:!1,halfCheckedKeys:tn},Re).checkedKeys;c=[].concat((0,i.Z)(f),(0,i.Z)(d.map((function(e){return Re[e].node[Te.value]}))))}ln(c,{selected:r,triggerValue:u},o||"option")}else ln([u],{selected:!0,triggerValue:u},"option");r||!Ie?null==k||k(u,V(l)):null==E||E(u,V(l))}),[_e,Fe,Re,Te,Ie,Ye,ln,Ze,k,E,nn,tn]),cn=f.useCallback((function(e){if(pe){var n={};Object.defineProperty(n,"documentClickClose",{get:function(){return(0,O.ZP)(!1,"Second param of `onDropdownVisibleChange` has been removed."),!1}}),pe(e,n)}}),[pe]),dn=W((function(e,n){var t=e.map((function(e){return e.value}));"clear"!==n.type?n.values.length&&un(n.values[0].value,{selected:!1,source:"selection"}):ln(t,{},"selection")})),sn=f.useMemo((function(){return{virtual:ue,dropdownMatchSelectWidth:he,listHeight:de,listItemHeight:fe,treeData:je,fieldNames:Te,onSelect:un,treeExpandAction:ie}}),[ue,he,de,fe,je,Te,un,ie]),fn=f.useMemo((function(){return{checkable:Ee,loadData:ee,treeLoadedKeys:ne,onTreeLoad:te,checkedKeys:nn,halfCheckedKeys:tn,treeDefaultExpandAll:re,treeExpandedKeys:oe,treeDefaultExpandedKeys:ae,onTreeExpand:le,treeIcon:ge,treeMotion:be,showTreeIcon:Ce,switcherIcon:ye,treeLine:me,treeNodeFilterProp:_,keyEntities:Re}}),[Ee,ee,ne,te,nn,tn,re,oe,ae,le,ge,be,Ce,ye,me,_,Re]);return f.createElement(w.Provider,{value:sn},f.createElement(b.Provider,{value:fn},f.createElement(p.Ac,(0,r.Z)({ref:n},we,{id:ke,prefixCls:l,mode:Ie?"multiple":void 0,displayValues:an,onDisplayValuesChange:dn,searchValue:Ke,onSearch:function(e){Ve(e),null==L||L(e)},OptionList:S,emptyOptions:!Ae.length,onDropdownVisibleChange:cn,dropdownMatchSelectWidth:he}))))}));var j=_;j.TreeNode=N,j.SHOW_ALL=L,j.SHOW_PARENT=D,j.SHOW_CHILD=P;var U=j,z=t(2021),q=t(96820),G=t(83289),J=t(30107),B=t(38470),Q=t(5663),X=t(50528),Y=t(84258),$=t(21485),ee=t(28800),ne=t(81393),te=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)n.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(t[r[o]]=e[r[o]])}return t},re=function(e,n){var t,a=e.prefixCls,i=e.size,u=e.disabled,c=e.bordered,d=void 0===c||c,s=e.className,p=e.treeCheckable,v=e.multiple,h=e.listHeight,m=void 0===h?256:h,g=e.listItemHeight,C=void 0===g?26:g,y=e.placement,b=e.notFoundContent,w=e.switcherIcon,k=e.treeLine,Z=e.getPopupContainer,E=e.dropdownClassName,x=e.popupClassName,I=e.treeIcon,S=void 0!==I&&I,N=e.transitionName,L=e.choiceTransitionName,D=void 0===L?"":L,P=e.status,M=e.showArrow,T=e.treeExpandAction,O=te(e,["prefixCls","size","disabled","bordered","className","treeCheckable","multiple","listHeight","listItemHeight","placement","notFoundContent","switcherIcon","treeLine","getPopupContainer","dropdownClassName","popupClassName","treeIcon","transitionName","choiceTransitionName","status","showArrow","treeExpandAction"]),H=f.useContext(q.E_),K=H.getPopupContainer,V=H.getPrefixCls,A=H.renderEmpty,W=H.direction,R=H.virtual,F=H.dropdownMatchSelectWidth,_=f.useContext(B.Z),j=V("select",a),re=V("select-tree",a),oe=V("tree-select",a),ae=(0,ne.ri)(j,W),le=ae.compactSize,ie=ae.compactItemClassnames,ue=l()(x||E,"".concat(oe,"-dropdown"),(0,o.Z)({},"".concat(oe,"-dropdown-rtl"),"rtl"===W)),ce=!(!p&&!v),de=void 0!==M?M:O.loading||!ce,se=(0,f.useContext)(Q.aM),fe=se.status,pe=se.hasFeedback,ve=se.isFormItemInput,he=se.feedbackIcon,me=(0,ee.F)(fe,P),ge=(0,X.Z)((0,r.Z)((0,r.Z)({},O),{multiple:ce,showArrow:de,hasFeedback:pe,feedbackIcon:he,prefixCls:j})),Ce=ge.suffixIcon,ye=ge.removeIcon,be=ge.clearIcon;t=void 0!==b?b:(A||G.Z)("Select");var we=(0,z.Z)(O,["suffixIcon","itemIcon","removeIcon","clearIcon","switcherIcon"]),ke=le||i||_,Ze=f.useContext(J.Z),Ee=null!=u?u:Ze,xe=l()(!a&&oe,(0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)((0,o.Z)({},"".concat(j,"-lg"),"large"===ke),"".concat(j,"-sm"),"small"===ke),"".concat(j,"-rtl"),"rtl"===W),"".concat(j,"-borderless"),!d),"".concat(j,"-in-form-item"),ve),(0,ee.Z)(j,me,pe),ie,s),Ie=V();return f.createElement(U,(0,r.Z)({virtual:R,dropdownMatchSelectWidth:F,disabled:Ee},we,{ref:n,prefixCls:j,className:xe,listHeight:m,listItemHeight:C,treeCheckable:p?f.createElement("span",{className:"".concat(j,"-tree-checkbox-inner")}):p,treeLine:!!k,inputIcon:Ce,multiple:v,placement:void 0!==y?y:"rtl"===W?"bottomRight":"bottomLeft",removeIcon:ye,clearIcon:be,switcherIcon:function(e){return(0,Y.Z)(re,w,k,e)},showTreeIcon:S,notFoundContent:t,getPopupContainer:Z||K,treeMotion:null,dropdownClassName:ue,choiceTransitionName:(0,$.mL)(Ie,"",D),transitionName:(0,$.mL)(Ie,(0,$.q0)(y),N),showArrow:pe||M,treeExpandAction:T}))},oe=f.forwardRef(re);oe.TreeNode=N,oe.SHOW_ALL=L,oe.SHOW_PARENT=D,oe.SHOW_CHILD=P;var ae=oe}}]);