(self.webpackChunk=self.webpackChunk||[]).push([[9914],{20209:function(se,I,e){"use strict";e.d(I,{Z:function(){return f}});var F=e(14797),h=e(63313),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},y=O,L=e(46420),m=function(R,Z){return h.createElement(L.Z,(0,F.Z)((0,F.Z)({},R),{},{ref:Z,icon:y}))};m.displayName="ClockCircleOutlined";var f=h.forwardRef(m)},13740:function(se,I,e){"use strict";e.d(I,{Z:function(){return f}});var F=e(14797),h=e(63313),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},y=O,L=e(46420),m=function(R,Z){return h.createElement(L.Z,(0,F.Z)((0,F.Z)({},R),{},{ref:Z,icon:y}))};m.displayName="DeleteOutlined";var f=h.forwardRef(m)},97674:function(se,I,e){"use strict";e.d(I,{Z:function(){return f}});var F=e(14797),h=e(63313),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},y=O,L=e(46420),m=function(R,Z){return h.createElement(L.Z,(0,F.Z)((0,F.Z)({},R),{},{ref:Z,icon:y}))};m.displayName="FileTextOutlined";var f=h.forwardRef(m)},66150:function(se,I,e){"use strict";var F=e(54306),h=e.n(F),O=e(63313),y=e.n(O),L=e(61761),m=e(82428);I.Z=function(f,P){var R=(0,O.useState)(0),Z=h()(R,2),Y=Z[0],W=Z[1];return(0,L.Z)(f,function(J){var x=J.target;x.classList.contains("ant-table-wrapper")||(x=J.target.querySelector(".ant-table-wrapper")),W((0,m.W9)({extraHeight:P,target:x}))}),Y}},28214:function(se,I,e){"use strict";e.r(I),e.d(I,{default:function(){return Ee}});var F=e(93525),h=e.n(F),O=e(54306),y=e.n(O),L=e(57213),m=e.n(L),f=e(63313),P=e(92260),R=e(22159),Z=e(2947),Y=e(51704),W=e(15367),J=e(84163),x=e(24378),oe=e(86986),ue=e(60986),b=e(14797),_={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},G=_,X=e(46420),V=function(le,he){return f.createElement(X.Z,(0,b.Z)((0,b.Z)({},le),{},{ref:he,icon:G}))};V.displayName="SyncOutlined";var g=f.forwardRef(V),d=e(38101),U=e(76657),ie=e(20209),l=e(97674),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M304 280h56c4.4 0 8-3.6 8-8 0-28.3 5.9-53.2 17.1-73.5 10.6-19.4 26-34.8 45.4-45.4C450.9 142 475.7 136 504 136h16c28.3 0 53.2 5.9 73.5 17.1 19.4 10.6 34.8 26 45.4 45.4C650 218.9 656 243.7 656 272c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-40-8.8-76.7-25.9-108.1a184.31 184.31 0 00-74-74C596.7 72.8 560 64 520 64h-16c-40 0-76.7 8.8-108.1 25.9a184.31 184.31 0 00-74 74C304.8 195.3 296 232 296 272c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M940 512H792V412c76.8 0 139-62.2 139-139 0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8a63 63 0 01-63 63H232a63 63 0 01-63-63c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 76.8 62.2 139 139 139v100H84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h148v96c0 6.5.2 13 .7 19.3C164.1 728.6 116 796.7 116 876c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-44.2 23.9-82.9 59.6-103.7a273 273 0 0022.7 49c24.3 41.5 59 76.2 100.5 100.5S460.5 960 512 960s99.8-13.9 141.3-38.2a281.38 281.38 0 00123.2-149.5A120 120 0 01836 876c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-79.3-48.1-147.4-116.7-176.7.4-6.4.7-12.8.7-19.3v-96h148c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM716 680c0 36.8-9.7 72-27.8 102.9-17.7 30.3-43 55.6-73.3 73.3C584 874.3 548.8 884 512 884s-72-9.7-102.9-27.8c-30.3-17.7-55.6-43-73.3-73.3A202.75 202.75 0 01308 680V412h408v268z"}}]},name:"bug",theme:"outlined"},n=a,i=function(le,he){return f.createElement(X.Z,(0,b.Z)((0,b.Z)({},le),{},{ref:he,icon:n}))};i.displayName="BugOutlined";var t=f.forwardRef(i),u=e(13740),s={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"},v=s,M=function(le,he){return f.createElement(X.Z,(0,b.Z)((0,b.Z)({},le),{},{ref:he,icon:v}))};M.displayName="DeleteFilled";var E=f.forwardRef(M),D=e(5558),A=e(78969),S=e(95176),k=e(52739),Q=e(33328),N=e(66255),T=e(47549),z=e(87075),q=e(66150),ee=e(52053),ae=e.n(ee),r=e(11527),fe=P.Z.Text,Me=R.Z.Search,$=function(p){return p[p.\u5B89\u88C5\u4E2D=0]="\u5B89\u88C5\u4E2D",p[p.\u5DF2\u5B89\u88C5=1]="\u5DF2\u5B89\u88C5",p[p.\u5B89\u88C5\u5931\u8D25=2]="\u5B89\u88C5\u5931\u8D25",p[p.\u5220\u9664\u4E2D=3]="\u5220\u9664\u4E2D",p[p.\u5DF2\u5220\u9664=4]="\u5DF2\u5220\u9664",p[p.\u5220\u9664\u5931\u8D25=5]="\u5220\u9664\u5931\u8D25",p[p.\u961F\u5217\u4E2D=6]="\u961F\u5217\u4E2D",p}($||{}),ne=function(p){return p[p.processing=0]="processing",p[p.success=1]="success",p[p.error=2]="error",p}(ne||{}),w={0:{icon:(0,r.jsx)(g,{spin:!0}),color:"processing"},1:{icon:(0,r.jsx)(d.Z,{}),color:"success"},2:{icon:(0,r.jsx)(U.Z,{}),color:"error"},3:{icon:(0,r.jsx)(g,{spin:!0}),color:"processing"},4:{icon:(0,r.jsx)(d.Z,{}),color:"success"},5:{icon:(0,r.jsx)(U.Z,{}),color:"error"},6:{icon:(0,r.jsx)(ie.Z,{}),color:"default"}},ce=function(){var le=(0,z.useOutletContext)(),he=le.headerStyle,we=le.isPhone,ge=le.socketMessage,Je=[{title:"\u5E8F\u53F7",width:50,render:function(o,c,C){return(0,r.jsxs)("span",{style:{cursor:"text"},children:[C+1," "]})}},{title:"\u540D\u79F0",dataIndex:"name",key:"name"},{title:"\u72B6\u6001",key:"status",dataIndex:"status",render:function(o,c,C){return(0,r.jsx)(Z.Z,{size:"middle",style:{cursor:"text"},children:(0,r.jsx)(Y.Z,{color:w[c.status].color,icon:w[c.status].icon,style:{marginRight:0},children:$[c.status]})})}},{title:"\u5907\u6CE8",dataIndex:"remark",key:"remark"},{title:"\u66F4\u65B0\u65F6\u95F4",key:"updatedAt",dataIndex:"updatedAt",render:function(o){return(0,r.jsx)("span",{children:ae()(o).format("YYYY-MM-DD HH:mm:ss")})}},{title:"\u521B\u5EFA\u65F6\u95F4",key:"createdAt",dataIndex:"createdAt",render:function(o){return(0,r.jsx)("span",{children:ae()(o).format("YYYY-MM-DD HH:mm:ss")})}},{title:"\u64CD\u4F5C",key:"action",render:function(o,c,C){var B=!we;return(0,r.jsxs)(Z.Z,{size:"middle",children:[(0,r.jsx)(W.Z,{title:B?"\u65E5\u5FD7":"",children:(0,r.jsx)("a",{onClick:function(){sn(m()(m()({},c),{},{timestamp:Date.now()}))},children:(0,r.jsx)(l.Z,{})})}),c.status!==$.\u5B89\u88C5\u4E2D&&c.status!==$.\u5220\u9664\u4E2D&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(W.Z,{title:B?"\u91CD\u65B0\u5B89\u88C5":"",children:(0,r.jsx)("a",{onClick:function(){return vn(c,C)},children:(0,r.jsx)(t,{})})}),(0,r.jsx)(W.Z,{title:B?"\u5220\u9664":"",children:(0,r.jsx)("a",{onClick:function(){return Ye(c,C)},children:(0,r.jsx)(u.Z,{})})}),(0,r.jsx)(W.Z,{title:B?"\u5F3A\u5236\u5220\u9664":"",children:(0,r.jsx)("a",{onClick:function(){return Ye(c,C,!0)},children:(0,r.jsx)(E,{})})})]})]})}}],Ge=(0,f.useState)([]),Ze=y()(Ge,2),K=Ze[0],de=Ze[1],Qe=(0,f.useState)(!0),Ae=y()(Qe,2),Be=Ae[0],Se=Ae[1],Xe=(0,f.useState)(!1),Te=y()(Xe,2),qe=Te[0],je=Te[1],en=(0,f.useState)(),Ie=y()(en,2),nn=Ie[0],Le=Ie[1],tn=(0,f.useState)([]),Fe=y()(tn,2),ve=Fe[0],Ce=Fe[1],an=(0,f.useState)(""),Re=y()(an,2),We=Re[0],rn=Re[1],ln=(0,f.useState)(),Ue=y()(ln,2),me=Ue[0],sn=Ue[1],on=(0,f.useState)(!1),Ke=y()(on,2),un=Ke[0],He=Ke[1],cn=(0,f.useState)("nodejs"),be=y()(cn,2),Pe=be[0],dn=be[1],ze=(0,f.useRef)(),fn=(0,q.Z)(ze,59),$e=function(){Se(!0),S.W.get("".concat(D.Z.apiPrefix,"dependencies?searchValue=").concat(We,"&type=").concat(Pe)).then(function(o){var c=o.code,C=o.data;c===200&&de(C)}).finally(function(){return Se(!1)})},hn=function(){Le(null),je(!0)},yn=function(o,c){Le(o),je(!0)},Ye=function(o,c){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;J.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:(0,r.jsxs)(r.Fragment,{children:["\u786E\u8BA4\u5220\u9664\u4F9D\u8D56"," ",(0,r.jsx)(fe,{style:{wordBreak:"break-all"},type:"warning",children:o.name})," ","\u5417"]}),onOk:function(){S.W.delete("".concat(D.Z.apiPrefix,"dependencies").concat(C?"/force":""),{data:[o.id]}).then(function(H){var te=H.code,_e=H.data;if(te===200&&C){var ye=K.findIndex(function(pe){return pe.id===_e[0].id});if(ye!==-1){var De=h()(K);De.splice(ye,1),de(De)}}})},onCancel:function(){console.log("Cancel")}})},vn=function(o,c){J.Z.confirm({title:"\u786E\u8BA4\u91CD\u65B0\u5B89\u88C5",content:(0,r.jsxs)(r.Fragment,{children:["\u786E\u8BA4\u91CD\u65B0\u5B89\u88C5"," ",(0,r.jsx)(fe,{style:{wordBreak:"break-all"},type:"warning",children:o.name})," ","\u5417"]}),onOk:function(){S.W.put("".concat(D.Z.apiPrefix,"dependencies/reinstall"),[o.id]).then(function(B){var H=B.code,te=B.data;H===200&&Ve(te[0])})},onCancel:function(){console.log("Cancel")}})},mn=function(o){je(!1),o&&Ve(o)},Ve=function(o){var c=h()(K);if(Array.isArray(o))c.push.apply(c,h()(o));else{var C=K.findIndex(function(B){return B.id===o.id});C!==-1&&c.splice(C,1,m()({},o))}de(c)},gn=function(o){Ce(o)},_n={selectedRowKeys:ve,onChange:gn},ke=function(o){var c=o?"/force":"";J.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:(0,r.jsx)(r.Fragment,{children:"\u786E\u8BA4\u5220\u9664\u9009\u4E2D\u7684\u4F9D\u8D56\u5417"}),onOk:function(){S.W.delete("".concat(D.Z.apiPrefix,"dependencies").concat(c),{data:ve}).then(function(B){var H=B.code,te=B.data;H===200&&(Ce([]),$e())})},onCancel:function(){console.log("Cancel")}})},Dn=function(){J.Z.confirm({title:"\u786E\u8BA4\u91CD\u65B0\u5B89\u88C5",content:(0,r.jsx)(r.Fragment,{children:"\u786E\u8BA4\u91CD\u65B0\u5B89\u88C5\u9009\u4E2D\u7684\u4F9D\u8D56\u5417"}),onOk:function(){S.W.put("".concat(D.Z.apiPrefix,"dependencies/reinstall"),ve).then(function(c){var C=c.code,B=c.data;C===200&&(Ce([]),$e())})},onCancel:function(){console.log("Cancel")}})},pn=function(o){S.W.get("".concat(D.Z.apiPrefix,"dependencies/").concat(o.id)).then(function(c){var C=c.code,B=c.data;if(C===200){var H=K.findIndex(function(_e){return _e.id===o.id}),te=h()(K);H!==-1&&(te.splice(H,1,m()(m()({},o),B)),de(te))}}).finally(function(){return Se(!1)})},On=function(o){rn(o.trim())};(0,f.useEffect)(function(){$e()},[We,Pe]),(0,f.useEffect)(function(){me&&(localStorage.setItem("logDependence",me.id),He(!0))},[me]),(0,f.useEffect)(function(){if(ge){var j=ge.type,o=ge.message,c=ge.references;if(j==="installDependence"&&o.includes("\u5F00\u59CB\u65F6\u95F4")&&c.length>0){for(var C=h()(K),B=function(Oe){var re=K.findIndex(function(xe){return xe.id===c[Oe]});re!==-1&&C.splice(re,1,m()(m()({},K[re]),{},{status:o.includes("\u5B89\u88C5")?$.\u5B89\u88C5\u4E2D:$.\u5220\u9664\u4E2D}))},H=0;H<c.length;H++)B(H);de(C)}if(j==="installDependence"&&o.includes("\u7ED3\u675F\u65F6\u95F4")&&c.length>0){var te;o.includes("\u5B89\u88C5")?te=o.includes("\u6210\u529F")?$.\u5DF2\u5B89\u88C5:$.\u5B89\u88C5\u5931\u8D25:te=o.includes("\u6210\u529F")?$.\u5DF2\u5220\u9664:$.\u5220\u9664\u5931\u8D25;for(var _e=h()(K),ye=function(Oe){var re=K.findIndex(function(xe){return xe.id===c[Oe]});re!==-1&&_e.splice(re,1,m()(m()({},K[re]),{},{status:te}))},De=0;De<c.length;De++)ye(De);de(_e),te===$.\u5DF2\u5220\u9664&&setTimeout(function(){for(var pe=h()(K),Oe=function(En){var Ne=K.findIndex(function(Cn){return Cn.id===c[En]});Ne!==-1&&pe.splice(Ne,1)},re=0;re<c.length;re++)Oe(re);de(pe)},5e3)}}},[ge]);var Mn=function(o){Ce([]),dn(o)};return(0,r.jsxs)(A.ZP,{className:"ql-container-wrapper dependence-wrapper ql-container-wrapper-has-tab",title:"\u4F9D\u8D56\u7BA1\u7406",extra:[(0,r.jsx)(Me,{placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0",style:{width:"auto"},enterButton:!0,loading:Be,onSearch:On}),(0,r.jsx)(x.Z,{type:"primary",onClick:function(){return hn()},children:"\u65B0\u5EFA\u4F9D\u8D56"},"2")],header:{style:he},children:[(0,r.jsx)(oe.Z,{defaultActiveKey:"nodejs",size:"small",tabPosition:"top",onChange:Mn,items:[{key:"nodejs",label:"NodeJs"},{key:"python3",label:"Python3"},{key:"linux",label:"Linux"}]}),(0,r.jsxs)("div",{ref:ze,children:[ve.length>0&&(0,r.jsxs)("div",{style:{marginBottom:16},children:[(0,r.jsx)(x.Z,{type:"primary",style:{marginBottom:5,marginLeft:8},onClick:function(){return Dn()},children:"\u6279\u91CF\u5B89\u88C5"}),(0,r.jsx)(x.Z,{type:"primary",style:{marginBottom:5,marginLeft:8},onClick:function(){return ke(!1)},children:"\u6279\u91CF\u5220\u9664"}),(0,r.jsx)(x.Z,{type:"primary",style:{marginBottom:5,marginLeft:8},onClick:function(){return ke(!0)},children:"\u6279\u91CF\u5F3A\u5236\u5220\u9664"}),(0,r.jsxs)("span",{style:{marginLeft:8},children:["\u5DF2\u9009\u62E9",(0,r.jsx)("a",{children:ve==null?void 0:ve.length}),"\u9879"]})]}),(0,r.jsx)(Q.W,{backend:N.PD,children:(0,r.jsx)(ue.Z,{columns:Je,rowSelection:_n,pagination:!1,dataSource:K,rowKey:"id",size:"middle",scroll:{x:768,y:fn},loading:Be})})]}),(0,r.jsx)(k.default,{visible:qe,handleCancel:mn,dependence:nn,defaultType:Pe}),(0,r.jsx)(T.default,{visible:un,handleCancel:function(o){if(He(!1),o){var c=K.findIndex(function(B){return B.id===me.id}),C=h()(K);c!==-1&&(C.splice(c,1),de(C))}else h()(K).map(function(B){return B.id}).includes(me.id)&&pn(me)},socketMessage:ge,dependence:me})]})},Ee=ce},47549:function(se,I,e){"use strict";e.r(I);var F=e(54306),h=e.n(F),O=e(63313),y=e.n(O),L=e(84163),m=e(24378),f=e(95176),P=e(5558),R=e(65601),Z=e(38101),Y=e(91796),W=e(99120),J=e.n(W),x=e(11527),oe=function(b){var _=b.dependence,G=b.handleCancel,X=b.visible,V=b.socketMessage,g=(0,O.useState)(""),d=h()(g,2),U=d[0],ie=d[1],l=(0,O.useState)(!0),a=h()(l,2),n=a[0],i=a[1],t=(0,O.useState)(!1),u=h()(t,2),s=u[0],v=u[1],M=(0,O.useState)(!0),E=h()(M,2),D=E[0],A=E[1],S=(0,O.useState)(!1),k=h()(S,2),Q=k[0],N=k[1],T=(0,O.useState)(!1),z=h()(T,2),q=z[0],ee=z[1],ae=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;localStorage.removeItem("logDependence"),G(w)},r=function(){return(0,x.jsxs)(x.Fragment,{children:[n&&(0,x.jsx)(R.Z,{spin:!0}),!n&&(0,x.jsx)(Z.Z,{}),(0,x.jsxs)("span",{style:{marginLeft:5},children:["\u65E5\u5FD7 - ",_&&_.name]})," "]})},fe=function(){A(!0),f.W.get("".concat(P.Z.apiPrefix,"dependencies/").concat(_.id)).then(function(w){var ce=w.code,Ee=w.data;if(ce===200&&localStorage.getItem("logDependence")===String(_.id)){var p=(Ee.log||[]).join("");ie(p),i(!p.includes("\u7ED3\u675F\u65F6\u95F4")),N(p.includes("\u5220\u9664\u5931\u8D25"))}}).finally(function(){A(!1)})},Me=function(){ee(!0),f.W.delete("".concat(P.Z.apiPrefix,"dependencies/force"),{data:[_.id]}).then(function(w){var ce=w.code,Ee=w.data;ce===200&&ae(!0)}).finally(function(){ee(!1)})},$=function(){Q?Me():ae()};return(0,O.useEffect)(function(){_&&fe()},[_]),(0,O.useEffect)(function(){if(!(!V||!_)){var ne=V.type,w=V.message,ce=V.references;ne==="installDependence"&&ce.length>0&&ce.includes(_.id)&&(w.includes("\u7ED3\u675F\u65F6\u95F4")&&(i(!1),N(w.includes("\u5220\u9664\u5931\u8D25"))),ie("".concat(U).concat(w)))}},[V]),(0,O.useEffect)(function(){v(document.body.clientWidth<768)},[]),(0,x.jsx)(L.Z,{title:r(),open:X,centered:!0,className:"log-modal",bodyStyle:{overflowY:"auto",maxHeight:"calc(70vh - var(--vh-offset, 0px))",minHeight:"300px"},forceRender:!0,onOk:function(){return ae()},onCancel:function(){return ae()},footer:[(0,x.jsx)(m.Z,{type:"primary",onClick:$,loading:q,children:Q?"\u5F3A\u5236\u5220\u9664":"\u77E5\u9053\u4E86"})],children:D?(0,x.jsx)(Y.Z,{}):(0,x.jsx)("pre",{style:s?{fontFamily:"Source Code Pro",width:375,zoom:.83}:{},children:(0,x.jsx)(J(),{children:U})})})};I.default=oe},52739:function(se,I,e){"use strict";e.r(I);var F=e(25359),h=e.n(F),O=e(57213),y=e.n(O),L=e(49811),m=e.n(L),f=e(54306),P=e.n(f),R=e(63313),Z=e.n(R),Y=e(28756),W=e(67393),J=e(84163),x=e(84468),oe=e(22159),ue=e(95176),b=e(5558),_=e(11527),G=Y.Z.Option,X=function(g){return g[g.nodejs=0]="nodejs",g[g.python3=1]="python3",g[g.linux=2]="linux",g}(X||{}),V=function(d){var U=d.dependence,ie=d.handleCancel,l=d.visible,a=d.defaultType,n=W.Z.useForm(),i=P()(n,1),t=i[0],u=(0,R.useState)(!1),s=P()(u,2),v=s[0],M=s[1],E=function(){var D=m()(h()().mark(function A(S){var k,Q,N,T,z,q,ee,ae,r,fe;return h()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return M(!0),k=S.name,Q=S.split,N=S.type,T=S.remark,z=U?"put":"post",U?q=y()(y()({},S),{},{id:U.id}):Q==="1"?(ee=k.includes("&")?"&":`
`,q=k.split(ee).map(function(ne){return{name:ne,type:N,remark:T}})):q=[{name:k,type:N,remark:T}],$.prev=4,$.next=7,ue.W[z]("".concat(b.Z.apiPrefix,"dependencies"),q);case 7:ae=$.sent,r=ae.code,fe=ae.data,r===200&&ie(fe),M(!1),$.next=17;break;case 14:$.prev=14,$.t0=$.catch(4),M(!1);case 17:case"end":return $.stop()}},A,null,[[4,14]])}));return function(S){return D.apply(this,arguments)}}();return(0,R.useEffect)(function(){t.resetFields()},[U,l]),(0,_.jsx)(J.Z,{title:U?"\u7F16\u8F91\u4F9D\u8D56":"\u65B0\u5EFA\u4F9D\u8D56",open:l,forceRender:!0,centered:!0,maskClosable:!1,onOk:function(){t.validateFields().then(function(A){E(A)}).catch(function(A){console.log("Validate Failed:",A)})},onCancel:function(){return ie()},confirmLoading:v,children:(0,_.jsxs)(W.Z,{form:t,layout:"vertical",name:"dependence_modal",initialValues:U,children:[(0,_.jsx)(W.Z.Item,{name:"type",label:"\u4F9D\u8D56\u7C7B\u578B",initialValue:X[a],children:(0,_.jsx)(Y.Z,{children:b.Z.dependenceTypes.map(function(D,A){return(0,_.jsx)(G,{value:A,children:D},A)})})}),!U&&(0,_.jsx)(W.Z.Item,{name:"split",label:"\u81EA\u52A8\u62C6\u5206",initialValue:"0",tooltip:"\u591A\u4E2A\u4F9D\u8D56\u662F\u5426\u6362\u884C\u5206\u5272",children:(0,_.jsxs)(x.ZP.Group,{children:[(0,_.jsx)(x.ZP,{value:"1",children:"\u662F"}),(0,_.jsx)(x.ZP,{value:"0",children:"\u5426"})]})}),(0,_.jsx)(W.Z.Item,{name:"name",label:"\u540D\u79F0",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u4F9D\u8D56\u540D\u79F0\uFF0C\u652F\u6301\u6307\u5B9A\u7248\u672C",whitespace:!0}],children:(0,_.jsx)(oe.Z.TextArea,{rows:4,autoSize:!0,placeholder:"\u8BF7\u8F93\u5165\u4F9D\u8D56\u540D\u79F0"})}),(0,_.jsx)(W.Z.Item,{name:"remark",label:"\u5907\u6CE8",children:(0,_.jsx)(oe.Z,{placeholder:"\u8BF7\u8F93\u5165\u5907\u6CE8"})})]})})};I.default=V},52053:function(se){(function(I,e){se.exports=e()})(this,function(){"use strict";var I=1e3,e=6e4,F=36e5,h="millisecond",O="second",y="minute",L="hour",m="day",f="week",P="month",R="quarter",Z="year",Y="date",W="Invalid Date",J=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,x=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,oe={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(l){var a=["th","st","nd","rd"],n=l%100;return"["+l+(a[(n-20)%10]||a[n]||a[0])+"]"}},ue=function(l,a,n){var i=String(l);return!i||i.length>=a?l:""+Array(a+1-i.length).join(n)+l},b={s:ue,z:function(l){var a=-l.utcOffset(),n=Math.abs(a),i=Math.floor(n/60),t=n%60;return(a<=0?"+":"-")+ue(i,2,"0")+":"+ue(t,2,"0")},m:function l(a,n){if(a.date()<n.date())return-l(n,a);var i=12*(n.year()-a.year())+(n.month()-a.month()),t=a.clone().add(i,P),u=n-t<0,s=a.clone().add(i+(u?-1:1),P);return+(-(i+(n-t)/(u?t-s:s-t))||0)},a:function(l){return l<0?Math.ceil(l)||0:Math.floor(l)},p:function(l){return{M:P,y:Z,w:f,d:m,D:Y,h:L,m:y,s:O,ms:h,Q:R}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(l){return l===void 0}},_="en",G={};G[_]=oe;var X=function(l){return l instanceof U},V=function l(a,n,i){var t;if(!a)return _;if(typeof a=="string"){var u=a.toLowerCase();G[u]&&(t=u),n&&(G[u]=n,t=u);var s=a.split("-");if(!t&&s.length>1)return l(s[0])}else{var v=a.name;G[v]=a,t=v}return!i&&t&&(_=t),t||!i&&_},g=function(l,a){if(X(l))return l.clone();var n=typeof a=="object"?a:{};return n.date=l,n.args=arguments,new U(n)},d=b;d.l=V,d.i=X,d.w=function(l,a){return g(l,{locale:a.$L,utc:a.$u,x:a.$x,$offset:a.$offset})};var U=function(){function l(n){this.$L=V(n.locale,null,!0),this.parse(n)}var a=l.prototype;return a.parse=function(n){this.$d=function(i){var t=i.date,u=i.utc;if(t===null)return new Date(NaN);if(d.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){var s=t.match(J);if(s){var v=s[2]-1||0,M=(s[7]||"0").substring(0,3);return u?new Date(Date.UTC(s[1],v,s[3]||1,s[4]||0,s[5]||0,s[6]||0,M)):new Date(s[1],v,s[3]||1,s[4]||0,s[5]||0,s[6]||0,M)}}return new Date(t)}(n),this.$x=n.x||{},this.init()},a.init=function(){var n=this.$d;this.$y=n.getFullYear(),this.$M=n.getMonth(),this.$D=n.getDate(),this.$W=n.getDay(),this.$H=n.getHours(),this.$m=n.getMinutes(),this.$s=n.getSeconds(),this.$ms=n.getMilliseconds()},a.$utils=function(){return d},a.isValid=function(){return this.$d.toString()!==W},a.isSame=function(n,i){var t=g(n);return this.startOf(i)<=t&&t<=this.endOf(i)},a.isAfter=function(n,i){return g(n)<this.startOf(i)},a.isBefore=function(n,i){return this.endOf(i)<g(n)},a.$g=function(n,i,t){return d.u(n)?this[i]:this.set(t,n)},a.unix=function(){return Math.floor(this.valueOf()/1e3)},a.valueOf=function(){return this.$d.getTime()},a.startOf=function(n,i){var t=this,u=!!d.u(i)||i,s=d.p(n),v=function(N,T){var z=d.w(t.$u?Date.UTC(t.$y,T,N):new Date(t.$y,T,N),t);return u?z:z.endOf(m)},M=function(N,T){return d.w(t.toDate()[N].apply(t.toDate("s"),(u?[0,0,0,0]:[23,59,59,999]).slice(T)),t)},E=this.$W,D=this.$M,A=this.$D,S="set"+(this.$u?"UTC":"");switch(s){case Z:return u?v(1,0):v(31,11);case P:return u?v(1,D):v(0,D+1);case f:var k=this.$locale().weekStart||0,Q=(E<k?E+7:E)-k;return v(u?A-Q:A+(6-Q),D);case m:case Y:return M(S+"Hours",0);case L:return M(S+"Minutes",1);case y:return M(S+"Seconds",2);case O:return M(S+"Milliseconds",3);default:return this.clone()}},a.endOf=function(n){return this.startOf(n,!1)},a.$set=function(n,i){var t,u=d.p(n),s="set"+(this.$u?"UTC":""),v=(t={},t[m]=s+"Date",t[Y]=s+"Date",t[P]=s+"Month",t[Z]=s+"FullYear",t[L]=s+"Hours",t[y]=s+"Minutes",t[O]=s+"Seconds",t[h]=s+"Milliseconds",t)[u],M=u===m?this.$D+(i-this.$W):i;if(u===P||u===Z){var E=this.clone().set(Y,1);E.$d[v](M),E.init(),this.$d=E.set(Y,Math.min(this.$D,E.daysInMonth())).$d}else v&&this.$d[v](M);return this.init(),this},a.set=function(n,i){return this.clone().$set(n,i)},a.get=function(n){return this[d.p(n)]()},a.add=function(n,i){var t,u=this;n=Number(n);var s=d.p(i),v=function(D){var A=g(u);return d.w(A.date(A.date()+Math.round(D*n)),u)};if(s===P)return this.set(P,this.$M+n);if(s===Z)return this.set(Z,this.$y+n);if(s===m)return v(1);if(s===f)return v(7);var M=(t={},t[y]=e,t[L]=F,t[O]=I,t)[s]||1,E=this.$d.getTime()+n*M;return d.w(E,this)},a.subtract=function(n,i){return this.add(-1*n,i)},a.format=function(n){var i=this,t=this.$locale();if(!this.isValid())return t.invalidDate||W;var u=n||"YYYY-MM-DDTHH:mm:ssZ",s=d.z(this),v=this.$H,M=this.$m,E=this.$M,D=t.weekdays,A=t.months,S=function(T,z,q,ee){return T&&(T[z]||T(i,u))||q[z].slice(0,ee)},k=function(T){return d.s(v%12||12,T,"0")},Q=t.meridiem||function(T,z,q){var ee=T<12?"AM":"PM";return q?ee.toLowerCase():ee},N={YY:String(this.$y).slice(-2),YYYY:d.s(this.$y,4,"0"),M:E+1,MM:d.s(E+1,2,"0"),MMM:S(t.monthsShort,E,A,3),MMMM:S(A,E),D:this.$D,DD:d.s(this.$D,2,"0"),d:String(this.$W),dd:S(t.weekdaysMin,this.$W,D,2),ddd:S(t.weekdaysShort,this.$W,D,3),dddd:D[this.$W],H:String(v),HH:d.s(v,2,"0"),h:k(1),hh:k(2),a:Q(v,M,!0),A:Q(v,M,!1),m:String(M),mm:d.s(M,2,"0"),s:String(this.$s),ss:d.s(this.$s,2,"0"),SSS:d.s(this.$ms,3,"0"),Z:s};return u.replace(x,function(T,z){return z||N[T]||s.replace(":","")})},a.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},a.diff=function(n,i,t){var u,s=d.p(i),v=g(n),M=(v.utcOffset()-this.utcOffset())*e,E=this-v,D=d.m(this,v);return D=(u={},u[Z]=D/12,u[P]=D,u[R]=D/3,u[f]=(E-M)/6048e5,u[m]=(E-M)/864e5,u[L]=E/F,u[y]=E/e,u[O]=E/I,u)[s]||E,t?D:d.a(D)},a.daysInMonth=function(){return this.endOf(P).$D},a.$locale=function(){return G[this.$L]},a.locale=function(n,i){if(!n)return this.$L;var t=this.clone(),u=V(n,i,!0);return u&&(t.$L=u),t},a.clone=function(){return d.w(this.$d,this)},a.toDate=function(){return new Date(this.valueOf())},a.toJSON=function(){return this.isValid()?this.toISOString():null},a.toISOString=function(){return this.$d.toISOString()},a.toString=function(){return this.$d.toUTCString()},l}(),ie=U.prototype;return g.prototype=ie,[["$ms",h],["$s",O],["$m",y],["$H",L],["$W",m],["$M",P],["$y",Z],["$D",Y]].forEach(function(l){ie[l[1]]=function(a){return this.$g(a,l[0],l[1])}}),g.extend=function(l,a){return l.$i||(l(a,U,g),l.$i=!0),g},g.locale=V,g.isDayjs=X,g.unix=function(l){return g(1e3*l)},g.en=G[_],g.Ls=G,g.p={},g})}}]);
