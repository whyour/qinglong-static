"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[349],{13740:function(te,M,e){e.d(M,{Z:function(){return j}});var O=e(14797),v=e(63313),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},h=w,x=e(46420),g=function(o,m){return v.createElement(x.Z,(0,O.Z)((0,O.Z)({},o),{},{ref:m,icon:h}))};g.displayName="DeleteOutlined";var j=v.forwardRef(g)},26839:function(te,M,e){e.d(M,{Z:function(){return j}});var O=e(14797),v=e(63313),w={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},h=w,x=e(46420),g=function(o,m){return v.createElement(x.Z,(0,O.Z)((0,O.Z)({},o),{},{ref:m,icon:h}))};g.displayName="PlusOutlined";var j=v.forwardRef(g)},87421:function(te,M,e){e.r(M);var O=e(93525),v=e.n(O),w=e(57213),h=e.n(w),x=e(54306),g=e.n(x),j=e(12342),u=e.n(j),o=e(88265),m=e(63313),ae=e.n(m),le=e(92260),oe=e(16861),Q=e(2947),X=e(84163),se=e(9835),de=e(24378),Y=e(94674),k=e(95176),n=e(5558),p=e(32132),i=e(13740),d=e(18141),_=e(9058),T=e(33328),A=e(66255),U=e(74714),a=e(11527),H=["index","moveRow","className","style"],S=le.Z.Text,V="DragableBodyRow",B=function(f){var r=f.index,y=f.moveRow,E=f.className,Z=f.style,R=u()(f,H),z=(0,m.useRef)(),$=(0,d.L)({accept:V,collect:function(I){var ee=I.getItem()||{},ne=ee.index;return ne===r?{}:{isOver:I.isOver(),dropClassName:ne<r?" drop-over-downward":" drop-over-upward"}},drop:function(I){y(I.index,r)}}),L=g()($,2),l=L[0],D=l.isOver,b=l.dropClassName,q=L[1],ie=(0,_.c)({type:V,item:{index:r},collect:function(I){return{isDragging:I.isDragging()}}}),F=g()(ie,2),re=F[1];return q(re(z)),(0,a.jsx)("tr",h()({ref:z,className:"".concat(E).concat(D?b:""),style:h()({cursor:"move"},Z)},R))},W=function(f){var r=f.cronViews,y=f.handleCancel,E=f.visible,Z=f.cronViewChange,R=function(t){return l.filter(function(s){return!s.isDisabled}).length<=1&&!t.isDisabled},z=[{title:o.ZP.get("\u540D\u79F0"),dataIndex:"name",key:"name",render:function(t){return t==="\u5168\u90E8\u4EFB\u52A1"?o.ZP.get("\u5168\u90E8\u4EFB\u52A1"):t}},{title:o.ZP.get("\u7C7B\u578B"),dataIndex:"type",key:"type",render:function(t){return t===1?o.ZP.get("\u7CFB\u7EDF"):o.ZP.get("\u4E2A\u4EBA")}},{title:o.ZP.get("\u663E\u793A"),key:"isDisabled",dataIndex:"isDisabled",width:100,render:function(t,s,C){return(0,a.jsx)(oe.Z,{disabled:R(s),checked:!s.isDisabled,onChange:function(N){return _e(N,s,C)}})}},{title:o.ZP.get("\u64CD\u4F5C"),key:"action",width:100,render:function(t,s,C){return s.type!==1?(0,a.jsxs)(Q.Z,{size:"middle",children:[(0,a.jsx)("a",{onClick:function(){return ne(s,C)},children:(0,a.jsx)(p.Z,{})}),!R(s)&&(0,a.jsx)("a",{onClick:function(){return ue(s,C)},children:(0,a.jsx)(i.Z,{})})]}):"-"}}],$=(0,m.useState)([]),L=g()($,2),l=L[0],D=L[1],b=(0,m.useState)(!1),q=g()(b,2),ie=q[0],F=q[1],re=(0,m.useState)(null),G=g()(re,2),I=G[0],ee=G[1],ne=function(t,s){ee(t),F(!0)},ue=function(t,s){X.Z.confirm({title:o.ZP.get("\u786E\u8BA4\u5220\u9664"),content:(0,a.jsxs)(a.Fragment,{children:[o.ZP.get("\u786E\u8BA4\u5220\u9664\u89C6\u56FE")," ",(0,a.jsx)(S,{style:{wordBreak:"break-all"},type:"warning",children:t.name})," ",o.ZP.get("\u5417")]}),onOk:function(){k.W.delete("".concat(n.Z.apiPrefix,"crons/views"),{data:[t.id]}).then(function(P){var N=P.code,J=P.data;N===200&&(se.ZP.success(o.ZP.get("\u5220\u9664\u6210\u529F")),Z())})},onCancel:function(){console.log("Cancel")}})},_e=function(t,s,C){k.W.put("".concat(n.Z.apiPrefix,"crons/views/").concat(t?"enable":"disable"),[s.id]).then(function(P){var N=P.code,J=P.data;if(N===200){var ce=v()(l);ce.splice(C,1,h()(h()({},l[C]),{},{isDisabled:!t})),D(ce),Z()}})},ve={body:{row:B}},me=(0,m.useCallback)(function(c,t){if(c!==t){var s=l[c];k.W.put("".concat(n.Z.apiPrefix,"crons/views/move"),{fromIndex:c,toIndex:t,id:s.id}).then(function(C){var P=C.code,N=C.data;if(P===200){var J=v()(l);J.splice(c,1),J.splice(t,0,h()(h()({},s),N)),D(J),Z()}})}},[l]);return(0,m.useEffect)(function(){D(r)},[r]),(0,a.jsxs)(X.Z,{title:o.ZP.get("\u89C6\u56FE\u7BA1\u7406"),open:E,centered:!0,width:620,onCancel:function(){return y()},className:"view-manage-modal",forceRender:!0,footer:!1,maskClosable:!1,children:[(0,a.jsx)(Q.Z,{style:{display:"flex",justifyContent:"flex-end",marginBottom:10},children:(0,a.jsx)(de.Z,{type:"primary",onClick:function(){ee(null),F(!0)},children:o.ZP.get("\u521B\u5EFA\u89C6\u56FE")},"2")}),(0,a.jsx)(T.W,{backend:A.PD,children:(0,a.jsx)(Y.Z,{bordered:!0,columns:z,pagination:!1,dataSource:l,rowKey:"id",size:"middle",style:{marginBottom:20},components:ve,onRow:function(t,s){return{index:s,moveRow:me}}})}),(0,a.jsx)(U.default,{view:I,visible:ie,handleCancel:function(t){F(!1),Z(t)}})]})};M.default=W},16861:function(te,M,e){e.d(M,{Z:function(){return k}});var O=e(60795),v=e(87807),w=e(24090),h=e(84875),x=e.n(h),g=e(17079),j=e(16803),u=e(63313),o=e(26230),m=e(25641),ae=u.forwardRef(function(n,p){var i,d=n.prefixCls,_=d===void 0?"rc-switch":d,T=n.className,A=n.checked,U=n.defaultChecked,a=n.disabled,H=n.loadingIcon,S=n.checkedChildren,V=n.unCheckedChildren,B=n.onClick,W=n.onChange,K=n.onKeyDown,f=(0,j.Z)(n,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),r=(0,o.Z)(!1,{value:A,defaultValue:U}),y=(0,g.Z)(r,2),E=y[0],Z=y[1];function R(l,D){var b=E;return a||(b=l,Z(b),W==null||W(b,D)),b}function z(l){l.which===m.Z.LEFT?R(!1,l):l.which===m.Z.RIGHT&&R(!0,l),K==null||K(l)}function $(l){var D=R(!E,l);B==null||B(D,l)}var L=x()(_,T,(i={},(0,v.Z)(i,"".concat(_,"-checked"),E),(0,v.Z)(i,"".concat(_,"-disabled"),a),i));return u.createElement("button",Object.assign({},f,{type:"button",role:"switch","aria-checked":E,disabled:a,className:L,ref:p,onKeyDown:z,onClick:$}),H,u.createElement("span",{className:"".concat(_,"-inner")},E?S:V))});ae.displayName="Switch";var le=ae,oe=e(82259),Q=e(7893),X=e(65189),se=e(1570),de=function(n,p){var i={};for(var d in n)Object.prototype.hasOwnProperty.call(n,d)&&p.indexOf(d)<0&&(i[d]=n[d]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var _=0,d=Object.getOwnPropertySymbols(n);_<d.length;_++)p.indexOf(d[_])<0&&Object.prototype.propertyIsEnumerable.call(n,d[_])&&(i[d[_]]=n[d[_]]);return i},Y=u.forwardRef(function(n,p){var i,d=n.prefixCls,_=n.size,T=n.disabled,A=n.loading,U=n.className,a=U===void 0?"":U,H=de(n,["prefixCls","size","disabled","loading","className"]),S=u.useContext(oe.E_),V=S.getPrefixCls,B=S.direction,W=u.useContext(X.Z),K=u.useContext(Q.Z),f=(T!=null?T:K)||A,r=V("switch",d),y=u.createElement("div",{className:"".concat(r,"-handle")},A&&u.createElement(w.Z,{className:"".concat(r,"-loading-icon")})),E=x()((i={},(0,v.Z)(i,"".concat(r,"-small"),(_||W)==="small"),(0,v.Z)(i,"".concat(r,"-loading"),A),(0,v.Z)(i,"".concat(r,"-rtl"),B==="rtl"),i),a);return u.createElement(se.Z,{insertExtraNode:!0},u.createElement(le,(0,O.Z)({},H,{prefixCls:r,className:E,disabled:f,ref:p,loadingIcon:y})))});Y.__ANT_SWITCH=!0;var k=Y}}]);
