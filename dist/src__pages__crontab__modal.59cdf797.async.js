(self.webpackChunk=self.webpackChunk||[]).push([[8393,4555,5812],{75875:function(e,t,r){"use strict";r.d(t,{iN:function(){return P},R_:function(){return p}});var n=r(96299),a=r(28556),o=[{index:7,opacity:.15},{index:6,opacity:.25},{index:5,opacity:.3},{index:5,opacity:.45},{index:5,opacity:.65},{index:5,opacity:.85},{index:4,opacity:.9},{index:3,opacity:.95},{index:2,opacity:.97},{index:1,opacity:.98}];function i(e){var t=e.r,r=e.g,a=e.b,o=(0,n.py)(t,r,a);return{h:360*o.h,s:o.s,v:o.v}}function l(e){var t=e.r,r=e.g,a=e.b;return"#".concat((0,n.vq)(t,r,a,!1))}function c(e,t,r){var n=r/100;return{r:(t.r-e.r)*n+e.r,g:(t.g-e.g)*n+e.g,b:(t.b-e.b)*n+e.b}}function s(e,t,r){var n;return(n=Math.round(e.h)>=60&&Math.round(e.h)<=240?r?Math.round(e.h)-2*t:Math.round(e.h)+2*t:r?Math.round(e.h)+2*t:Math.round(e.h)-2*t)<0?n+=360:n>=360&&(n-=360),n}function u(e,t,r){return 0===e.h&&0===e.s?e.s:((n=r?e.s-.16*t:4===t?e.s+.16:e.s+.05*t)>1&&(n=1),r&&5===t&&n>.1&&(n=.1),n<.06&&(n=.06),Number(n.toFixed(2)));var n}function d(e,t,r){var n;return(n=r?e.v+.05*t:e.v-.15*t)>1&&(n=1),Number(n.toFixed(2))}function p(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=[],n=(0,a.uA)(e),p=5;p>0;p-=1){var f=i(n),g=l((0,a.uA)({h:s(f,p,!0),s:u(f,p,!0),v:d(f,p,!0)}));r.push(g)}r.push(l(n));for(var m=1;m<=4;m+=1){var b=i(n),h=l((0,a.uA)({h:s(b,m),s:u(b,m),v:d(b,m)}));r.push(h)}return"dark"===t.theme?o.map((function(e){var n=e.index,o=e.opacity;return l(c((0,a.uA)(t.backgroundColor||"#141414"),(0,a.uA)(r[n]),100*o))})):r}var f=["#fff1f0","#ffccc7","#ffa39e","#ff7875","#ff4d4f","#f5222d","#cf1322","#a8071a","#820014","#5c0011"];f.primary=f[5];var g=["#fff2e8","#ffd8bf","#ffbb96","#ff9c6e","#ff7a45","#fa541c","#d4380d","#ad2102","#871400","#610b00"];g.primary=g[5];var m=["#fff7e6","#ffe7ba","#ffd591","#ffc069","#ffa940","#fa8c16","#d46b08","#ad4e00","#873800","#612500"];m.primary=m[5];var b=["#fffbe6","#fff1b8","#ffe58f","#ffd666","#ffc53d","#faad14","#d48806","#ad6800","#874d00","#613400"];b.primary=b[5];var h=["#feffe6","#ffffb8","#fffb8f","#fff566","#ffec3d","#fadb14","#d4b106","#ad8b00","#876800","#614700"];h.primary=h[5];var v=["#fcffe6","#f4ffb8","#eaff8f","#d3f261","#bae637","#a0d911","#7cb305","#5b8c00","#3f6600","#254000"];v.primary=v[5];var Z=["#f6ffed","#d9f7be","#b7eb8f","#95de64","#73d13d","#52c41a","#389e0d","#237804","#135200","#092b00"];Z.primary=Z[5];var y=["#e6fffb","#b5f5ec","#87e8de","#5cdbd3","#36cfc9","#13c2c2","#08979c","#006d75","#00474f","#002329"];y.primary=y[5];var P=["#e6f4ff","#bae0ff","#91caff","#69b1ff","#4096ff","#1677ff","#0958d9","#003eb3","#002c8c","#001d66"];P.primary=P[5];var x=["#f0f5ff","#d6e4ff","#adc6ff","#85a5ff","#597ef7","#2f54eb","#1d39c4","#10239e","#061178","#030852"];x.primary=x[5];var k=["#f9f0ff","#efdbff","#d3adf7","#b37feb","#9254de","#722ed1","#531dab","#391085","#22075e","#120338"];k.primary=k[5];var w=["#fff0f6","#ffd6e7","#ffadd2","#ff85c0","#f759ab","#eb2f96","#c41d7f","#9e1068","#780650","#520339"];w.primary=w[5];var C=["#a6a6a6","#999999","#8c8c8c","#808080","#737373","#666666","#404040","#1a1a1a","#000000","#000000"];C.primary=C[5];var j=["#2a1215","#431418","#58181c","#791a1f","#a61d24","#d32029","#e84749","#f37370","#f89f9a","#fac8c3"];j.primary=j[5];var q=["#2b1611","#441d12","#592716","#7c3118","#aa3e19","#d84a1b","#e87040","#f3956a","#f8b692","#fad4bc"];q.primary=q[5];var T=["#2b1d11","#442a11","#593815","#7c4a15","#aa6215","#d87a16","#e89a3c","#f3b765","#f8cf8d","#fae3b7"];T.primary=T[5];var S=["#2b2111","#443111","#594214","#7c5914","#aa7714","#d89614","#e8b339","#f3cc62","#f8df8b","#faedb5"];S.primary=S[5];var B=["#2b2611","#443b11","#595014","#7c6e14","#aa9514","#d8bd14","#e8d639","#f3ea62","#f8f48b","#fafab5"];B.primary=B[5];var I=["#1f2611","#2e3c10","#3e4f13","#536d13","#6f9412","#8bbb11","#a9d134","#c9e75d","#e4f88b","#f0fab5"];I.primary=I[5];var N=["#162312","#1d3712","#274916","#306317","#3c8618","#49aa19","#6abe39","#8fd460","#b2e58b","#d5f2bb"];N.primary=N[5];var O=["#112123","#113536","#144848","#146262","#138585","#13a8a8","#33bcb7","#58d1c9","#84e2d8","#b2f1e8"];O.primary=O[5];var E=["#111a2c","#112545","#15325b","#15417e","#1554ad","#1668dc","#3c89e8","#65a9f3","#8dc5f8","#b7dcfa"];E.primary=E[5];var _=["#131629","#161d40","#1c2755","#203175","#263ea0","#2b4acb","#5273e0","#7f9ef3","#a8c1f8","#d2e0fa"];_.primary=_[5];var R=["#1a1325","#24163a","#301c4d","#3e2069","#51258f","#642ab5","#854eca","#ab7ae0","#cda8f0","#ebd7fa"];R.primary=R[5];var M=["#291321","#40162f","#551c3b","#75204f","#a02669","#cb2b83","#e0529c","#f37fb7","#f8a8cc","#fad2e3"];M.primary=M[5];var A=["#151515","#1f1f1f","#2d2d2d","#393939","#494949","#5a5a5a","#6a6a6a","#7b7b7b","#888888","#969696"];A.primary=A[5]},22800:function(e,t){"use strict";t.Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"}},48881:function(e,t,r){"use strict";r.d(t,{Z:function(){return P}});var n=r(2053),a=r(99459),o=r(57904),i=r(53162),l=r(75271),c=r(82187),s=r.n(c),u=r(75875),d=r(28771),p=r(98037),f=r(39765),g=["icon","className","onClick","style","primaryColor","secondaryColor"],m={primaryColor:"#333",secondaryColor:"#E6E6E6",calculated:!1};var b=function(e){var t=e.icon,r=e.className,n=e.onClick,a=e.style,o=e.primaryColor,c=e.secondaryColor,s=(0,i.Z)(e,g),u=l.useRef(),d=m;if(o&&(d={primaryColor:o,secondaryColor:c||(0,f.pw)(o)}),(0,f.C3)(u),(0,f.Kp)((0,f.r)(t),"icon should be icon definiton, but got ".concat(t)),!(0,f.r)(t))return null;var b=t;return b&&"function"==typeof b.icon&&(b=(0,p.Z)((0,p.Z)({},b),{},{icon:b.icon(d.primaryColor,d.secondaryColor)})),(0,f.R_)(b.icon,"svg-".concat(b.name),(0,p.Z)((0,p.Z)({className:r,onClick:n,style:a,"data-icon":b.name,width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true"},s),{},{ref:u}))};b.displayName="IconReact",b.getTwoToneColors=function(){return(0,p.Z)({},m)},b.setTwoToneColors=function(e){var t=e.primaryColor,r=e.secondaryColor;m.primaryColor=t,m.secondaryColor=r||(0,f.pw)(t),m.calculated=!!r};var h=b;function v(e){var t=(0,f.H9)(e),r=(0,a.Z)(t,2),n=r[0],o=r[1];return h.setTwoToneColors({primaryColor:n,secondaryColor:o})}var Z=["className","icon","spin","rotate","tabIndex","onClick","twoToneColor"];v(u.iN.primary);var y=l.forwardRef((function(e,t){var r=e.className,c=e.icon,u=e.spin,p=e.rotate,g=e.tabIndex,m=e.onClick,b=e.twoToneColor,v=(0,i.Z)(e,Z),y=l.useContext(d.Z),P=y.prefixCls,x=void 0===P?"anticon":P,k=y.rootClassName,w=s()(k,x,(0,o.Z)((0,o.Z)({},"".concat(x,"-").concat(c.name),!!c.name),"".concat(x,"-spin"),!!u||"loading"===c.name),r),C=g;void 0===C&&m&&(C=-1);var j=p?{msTransform:"rotate(".concat(p,"deg)"),transform:"rotate(".concat(p,"deg)")}:void 0,q=(0,f.H9)(b),T=(0,a.Z)(q,2),S=T[0],B=T[1];return l.createElement("span",(0,n.Z)({role:"img","aria-label":c.name},v,{ref:t,tabIndex:C,onClick:m,className:w}),l.createElement(h,{icon:c,primaryColor:S,secondaryColor:B,style:j}))}));y.displayName="AntdIcon",y.getTwoToneColor=function(){var e=h.getTwoToneColors();return e.calculated?[e.primaryColor,e.secondaryColor]:e.primaryColor},y.setTwoToneColor=v;var P=y},28771:function(e,t,r){"use strict";var n=(0,r(75271).createContext)({});t.Z=n},39765:function(e,t,r){"use strict";r.d(t,{R_:function(){return b},pw:function(){return h},r:function(){return g},H9:function(){return v},vD:function(){return Z},C3:function(){return y},Kp:function(){return f}});var n=r(98037),a=r(24744),o=r(75875),i=r(61984);function l(e){var t;return null==e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}function c(e){return function(e){return l(e)instanceof ShadowRoot}(e)?l(e):null}var s=r(7432),u=r(75271),d=r(28771);function p(e){return e.replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))}function f(e,t){(0,s.ZP)(e,"[@ant-design/icons] ".concat(t))}function g(e){return"object"===(0,a.Z)(e)&&"string"==typeof e.name&&"string"==typeof e.theme&&("object"===(0,a.Z)(e.icon)||"function"==typeof e.icon)}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).reduce((function(t,r){var n=e[r];if("class"===r)t.className=n,delete t.class;else delete t[r],t[p(r)]=n;return t}),{})}function b(e,t,r){return r?u.createElement(e.tag,(0,n.Z)((0,n.Z)({key:t},m(e.attrs)),r),(e.children||[]).map((function(r,n){return b(r,"".concat(t,"-").concat(e.tag,"-").concat(n))}))):u.createElement(e.tag,(0,n.Z)({key:t},m(e.attrs)),(e.children||[]).map((function(r,n){return b(r,"".concat(t,"-").concat(e.tag,"-").concat(n))})))}function h(e){return(0,o.R_)(e)[0]}function v(e){return e?Array.isArray(e)?e:[e]:[]}var Z={width:"1em",height:"1em",fill:"currentColor","aria-hidden":"true",focusable:"false"},y=function(e){var t=(0,u.useContext)(d.Z),r=t.csp,n=t.prefixCls,a="\n.anticon {\n  display: inline-flex;\n  align-items: center;\n  color: inherit;\n  font-style: normal;\n  line-height: 0;\n  text-align: center;\n  text-transform: none;\n  vertical-align: -0.125em;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\n.anticon > * {\n  line-height: 1;\n}\n\n.anticon svg {\n  display: inline-block;\n}\n\n.anticon::before {\n  display: none;\n}\n\n.anticon .anticon-icon {\n  display: block;\n}\n\n.anticon[tabindex] {\n  cursor: pointer;\n}\n\n.anticon-spin::before,\n.anticon-spin {\n  display: inline-block;\n  -webkit-animation: loadingCircle 1s infinite linear;\n  animation: loadingCircle 1s infinite linear;\n}\n\n@-webkit-keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n\n@keyframes loadingCircle {\n  100% {\n    -webkit-transform: rotate(360deg);\n    transform: rotate(360deg);\n  }\n}\n";n&&(a=a.replace(/anticon/g,n)),(0,u.useEffect)((function(){var t=c(e.current);(0,i.hq)(a,"@ant-design-icons",{prepend:!0,csp:r,attachTo:t})}),[])}},41860:function(e,t,r){"use strict";r.r(t),r.d(t,{getScheduleType:function(){return l},scheduleTypeMap:function(){return i}});var n=r(82092),a=r.n(n),o=r(44860),i=a()(a()(a()({},o.ScheduleType.Normal,""),o.ScheduleType.Once,"@once"),o.ScheduleType.Boot,"@boot"),l=function(e){return null!=e&&e.startsWith("@once")?o.ScheduleType.Once:null!=e&&e.startsWith("@boot")?o.ScheduleType.Boot:o.ScheduleType.Normal}},97583:function(e,t,r){"use strict";r.r(t),r.d(t,{CronLabelModal:function(){return A},default:function(){return M}});var n=r(67825),a=r.n(n),o=r(90228),i=r.n(o),l=r(26068),c=r.n(l),s=r(87999),u=r.n(s),d=r(48305),p=r.n(d),f=r(15558),g=r.n(f),m=r(72317),b=r(47667),h=r(17082),v=r(78646),Z=r(21288),y=r(75271),P=r(52676),x=function(e){var t=e.value,r=e.onChange,n=(0,y.useState)(""),a=p()(n,2),o=a[0],i=a[1],l=(0,y.useState)(!1),c=p()(l,2),s=c[0],u=c[1],d=(0,y.useState)([]),f=p()(d,2),x=f[0],k=f[1],w=(0,y.useRef)(),C=function(){o&&!x.includes(o)&&(k([].concat(g()(x),[o])),null==r||r([].concat(g()(x),[o]))),u(!1),i("")},j=x.map((function(e){var t=(0,P.jsx)(b.Z,{closable:!0,onClose:function(t){var n,a;t.preventDefault(),n=e,a=x.filter((function(e){return e!==n})),k(a),null==r||r(a)},children:e});return(0,P.jsx)("span",{style:{display:"inline-block",marginBottom:8},children:t},e)}));return(0,y.useEffect)((function(){s&&w&&w.current.focus()}),[s]),(0,y.useEffect)((function(){t&&k(t)}),[t]),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(v.Z,{enter:{scale:.8,opacity:0,type:"from",duration:100},leave:{opacity:0,width:0,scale:0,duration:200},appear:!1,children:j}),s&&(0,P.jsx)(h.Z,{ref:w,type:"text",size:"small",style:{width:78},value:o,onChange:function(e){i(e.target.value)},onBlur:C,onPressEnter:C}),!s&&(0,P.jsxs)(b.Z,{onClick:function(){u(!0)},style:{borderStyle:"dashed",cursor:"pointer"},children:[(0,P.jsx)(Z.Z,{})," ",m.ZP.get("新建")]})]})},k=r(3475),w=r(16314),C=r(37559),j=r(72338),q=r(61508),T=r(35181),S=r(63505),B=r(45520),I=r(93481),N=r(94046),O=r.n(N),E=r(41860),_=r(44860),R=["key","name"],M=function(e){var t=e.cron,r=e.handleCancel,n=e.visible,o=j.Z.useForm(),l=p()(o,1)[0],s=(0,y.useState)(!1),d=p()(s,2),f=d[0],g=d[1],b=(0,y.useState)(t?(0,E.getScheduleType)(t.schedule):_.ScheduleType.Normal),v=p()(b,2),I=v[0],N=v[1],M=function(){var e=u()(i()().mark((function e(n){var a,o,l,s,u;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.prev=1,a=null!=t&&t.id?"put":"post",o=c()(c()({},n),{},{schedule:I!==_.ScheduleType.Normal?E.scheduleTypeMap[I]:n.schedule}),null!=t&&t.id&&(o.id=t.id),e.next=7,w.W[a]("".concat(k.Z.apiPrefix,"crons"),o);case 7:l=e.sent,s=l.code,u=l.data,200===s&&(q.ZP.success(null!=t&&t.id?m.ZP.get("更新任务成功"):m.ZP.get("创建任务成功")),r(u)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0);case 16:return e.prev=16,g(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[1,13,16,19]])})));return function(t){return e.apply(this,arguments)}}();(0,y.useEffect)((function(){l.resetFields(),N((0,E.getScheduleType)(null==t?void 0:t.schedule))}),[t,n]);var A=function(e){N(e),l.setFieldValue("schedule","")};return(0,P.jsx)(B.Z,{title:null!=t&&t.id?m.ZP.get("编辑任务"):m.ZP.get("创建任务"),open:n,forceRender:!0,centered:!0,maskClosable:!1,onOk:function(){return l.validateFields().then(M)},onCancel:function(){return r()},confirmLoading:f,children:(0,P.jsxs)(j.Z,{form:l,layout:"vertical",name:"form_in_modal",initialValues:t,children:[(0,P.jsx)(j.Z.Item,{name:"name",label:m.ZP.get("名称"),rules:[{required:!0,whitespace:!0}],children:(0,P.jsx)(h.Z,{placeholder:m.ZP.get("请输入任务名称")})}),(0,P.jsx)(j.Z.Item,{name:"command",label:m.ZP.get("命令/脚本"),rules:[{required:!0,whitespace:!0}],children:(0,P.jsx)(h.Z.TextArea,{rows:4,autoSize:{minRows:1,maxRows:5},placeholder:m.ZP.get("支持输入脚本路径/任意系统可执行命令/task 脚本路径")})}),(0,P.jsx)(j.Z.Item,{label:m.ZP.get("定时类型"),required:!0,children:(0,P.jsxs)(T.Z,{defaultValue:I,value:I,onChange:A,children:[(0,P.jsx)(T.Z.Option,{value:_.ScheduleType.Normal,children:m.ZP.get("常规定时")}),(0,P.jsx)(T.Z.Option,{value:_.ScheduleType.Once,children:m.ZP.get("手动运行")}),(0,P.jsx)(T.Z.Option,{value:_.ScheduleType.Boot,children:m.ZP.get("开机运行")})]})}),I!==_.ScheduleType.Normal?null:(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(j.Z.Item,{name:"schedule",label:m.ZP.get("定时规则"),rules:[{required:!0},{validator:function(e,t){return!t||O().parseExpression(t).hasNext()?Promise.resolve():Promise.reject(m.ZP.get("Cron表达式格式有误"))}}],children:(0,P.jsx)(h.Z,{placeholder:m.ZP.get("秒(可选) 分 时 天 月 周")})}),(0,P.jsx)(j.Z.List,{name:"extra_schedules",children:function(e,t,r){var n=t.add,o=t.remove,i=r.errors;return(0,P.jsxs)(P.Fragment,{children:[e.map((function(e){var t=e.key,r=e.name,n=a()(e,R);return(0,P.jsx)(j.Z.Item,{noStyle:!0,children:(0,P.jsxs)(S.Z,{className:"view-create-modal-sorts",align:"baseline",children:[(0,P.jsx)(j.Z.Item,c()(c()({},n),{},{name:[r,"schedule"],rules:[{required:!0}],children:(0,P.jsx)(h.Z,{placeholder:m.ZP.get("秒(可选) 分 时 天 月 周")})})),(0,P.jsx)(C.Z,{className:"dynamic-delete-button",onClick:function(){return o(r)}})]})},t)})),(0,P.jsx)(j.Z.Item,{children:(0,P.jsxs)("a",{onClick:function(){return n({schedule:""})},children:[(0,P.jsx)(Z.Z,{})," ",m.ZP.get("新增定时规则")]})}),(0,P.jsx)(j.Z.ErrorList,{errors:i})]})}})]}),(0,P.jsx)(j.Z.Item,{name:"labels",label:m.ZP.get("标签"),children:(0,P.jsx)(x,{})}),(0,P.jsx)(j.Z.Item,{name:"task_before",label:m.ZP.get("执行前"),tooltip:m.ZP.get("运行任务前执行的命令，比如 cp/mv/python3 xxx.py/node xxx.js"),rules:[{validator:function(e,t){return t&&(t.includes(" task ")||t.startsWith("task "))?Promise.reject(m.ZP.get("不能包含 task 命令")):Promise.resolve()}}],children:(0,P.jsx)(h.Z.TextArea,{rows:4,autoSize:{minRows:1,maxRows:5},placeholder:m.ZP.get("请输入运行任务前要执行的命令，不能包含 task 命令")})}),(0,P.jsx)(j.Z.Item,{name:"task_after",label:m.ZP.get("执行后"),tooltip:m.ZP.get("运行任务后执行的命令，比如 cp/mv/python3 xxx.py/node xxx.js"),rules:[{validator:function(e,t){return t&&(t.includes(" task ")||t.startsWith("task "))?Promise.reject(m.ZP.get("不能包含 task 命令")):Promise.resolve()}}],children:(0,P.jsx)(h.Z.TextArea,{rows:4,autoSize:{minRows:1,maxRows:5},placeholder:m.ZP.get("请输入运行任务后要执行的命令，不能包含 task 命令")})})]})})},A=function(e){var t=e.ids,r=e.handleCancel,n=e.visible,a=j.Z.useForm(),o=p()(a,1)[0],l=(0,y.useState)(!1),c=p()(l,2),s=c[0],d=c[1],f=function(){var e=u()(i()().mark((function e(n){return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o.validateFields().then(function(){var e=u()(i()().mark((function e(a){var o,l,c;return i()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),o={ids:t,labels:a.labels},e.prev=2,e.next=5,w.W[n]("".concat(k.Z.apiPrefix,"crons/labels"),o);case 5:l=e.sent,c=l.code,l.data,200===c&&(q.ZP.success("post"===n?m.ZP.get("添加Labels成功"):m.ZP.get("删除Labels成功")),r(!0)),d(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),d(!1);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("Validate Failed:",e)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();(0,y.useEffect)((function(){o.resetFields()}),[t,n]);var g=[(0,P.jsx)(I.Z,{onClick:function(){return r(!1)},children:m.ZP.get("取消")}),(0,P.jsx)(I.Z,{type:"primary",danger:!0,onClick:function(){return f("delete")},children:m.ZP.get("删除")}),(0,P.jsx)(I.Z,{type:"primary",onClick:function(){return f("post")},children:m.ZP.get("添加")})];return(0,P.jsx)(B.Z,{title:m.ZP.get("批量修改标签"),open:n,footer:g,centered:!0,maskClosable:!1,forceRender:!0,onCancel:function(){return r(!1)},confirmLoading:s,children:(0,P.jsx)(j.Z,{form:o,layout:"vertical",name:"form_in_label_modal",children:(0,P.jsx)(j.Z.Item,{name:"labels",label:m.ZP.get("标签"),children:(0,P.jsx)(x,{})})})})}},44860:function(e,t,r){"use strict";r.r(t),r.d(t,{CrontabStatus:function(){return n},OperationName:function(){return a},OperationPath:function(){return o},ScheduleType:function(){return i}});var n=function(e){return e[e.running=0]="running",e[e.queued=.5]="queued",e[e.idle=1]="idle",e[e.disabled=2]="disabled",e}({}),a=function(e){return e[e["启用"]=0]="启用",e[e["禁用"]=1]="禁用",e[e["运行"]=2]="运行",e[e["停止"]=3]="停止",e[e["置顶"]=4]="置顶",e[e["取消置顶"]=5]="取消置顶",e}({}),o=function(e){return e[e.enable=0]="enable",e[e.disable=1]="disable",e[e.run=2]="run",e[e.stop=3]="stop",e[e.pin=4]="pin",e[e.unpin=5]="unpin",e}({}),i=function(e){return e.Normal="normal",e.Once="once",e.Boot="boot",e}({})},3475:function(e,t,r){"use strict";var n=r(72317),a=window.__ENV__QlBaseUrl||"/";t.Z={siteName:n.ZP.get("青龙"),baseUrl:a,apiPrefix:"".concat(a,"api/"),authKey:"token",layouts:[{name:"primary",include:[/.*/],exclude:[/(\/(en|zh))*\/login/]}],i18n:{languages:[{key:"pt-br",title:"Português",flag:"/portugal.svg"},{key:"en",title:"English",flag:"/america.svg"},{key:"zh",title:n.ZP.get("中文"),flag:"/china.svg"}],defaultLanguage:"en"},scopes:[{name:n.ZP.get("定时任务"),value:"crons"},{name:n.ZP.get("环境变量"),value:"envs"},{name:n.ZP.get("订阅管理"),value:"subscriptions"},{name:n.ZP.get("配置文件"),value:"configs"},{name:n.ZP.get("脚本管理"),value:"scripts"},{name:n.ZP.get("日志管理"),value:"logs"},{name:n.ZP.get("依赖管理"),value:"dependencies"},{name:n.ZP.get("系统信息"),value:"system"}],scopesMap:{crons:n.ZP.get("定时任务"),envs:n.ZP.get("环境变量"),subscriptions:n.ZP.get("订阅管理"),configs:n.ZP.get("配置文件"),scripts:n.ZP.get("脚本管理"),logs:n.ZP.get("日志管理"),dependencies:n.ZP.get("依赖管理"),system:n.ZP.get("系统信息")},notificationModes:[{value:"gotify",label:"Gotify"},{value:"ntfy",label:"Ntfy"},{value:"goCqHttpBot",label:"GoCqHttpBot"},{value:"serverChan",label:n.ZP.get("Server酱")},{value:"pushDeer",label:"PushDeer"},{value:"bark",label:"Bark"},{value:"telegramBot",label:n.ZP.get("Telegram机器人")},{value:"dingtalkBot",label:n.ZP.get("钉钉机器人")},{value:"weWorkBot",label:n.ZP.get("企业微信机器人")},{value:"weWorkApp",label:n.ZP.get("企业微信应用")},{value:"aibotk",label:n.ZP.get("智能微秘书")},{value:"iGot",label:"IGot"},{value:"pushPlus",label:"PushPlus"},{value:"wePlusBot",label:n.ZP.get("微加机器人")},{value:"wxPusherBot",label:"wxPusher"},{value:"chat",label:n.ZP.get("群晖chat")},{value:"email",label:n.ZP.get("邮箱")},{value:"lark",label:n.ZP.get("飞书机器人")},{value:"pushMe",label:"PushMe"},{value:"chronocat",label:"Chronocat"},{value:"webhook",label:n.ZP.get("自定义通知")},{value:"closed",label:n.ZP.get("已关闭")}],notificationModeMap:{gotify:[{label:"gotifyUrl",tip:n.ZP.get("gotify的url地址，例如 https://push.example.de:8080"),required:!0},{label:"gotifyToken",tip:n.ZP.get("gotify的消息应用token码"),required:!0},{label:"gotifyPriority",tip:n.ZP.get("推送消息的优先级")}],ntfy:[{label:"ntfyUrl",tip:n.ZP.get("ntfy的url地址，例如 https://ntfy.sh"),required:!0},{label:"ntfyTopic",tip:n.ZP.get("ntfy的消息应用topic"),required:!0},{label:"ntfyPriority",tip:n.ZP.get("推送消息的优先级")}],chat:[{label:"synologyChatUrl",tip:n.ZP.get("synologyChat的url地址"),required:!0}],goCqHttpBot:[{label:"goCqHttpBotUrl",tip:n.ZP.get("推送到个人QQ: http://127.0.0.1/send_private_msg，群：http://127.0.0.1/send_group_msg"),required:!0},{label:"goCqHttpBotToken",tip:n.ZP.get("访问密钥"),required:!0},{label:"goCqHttpBotQq",tip:n.ZP.get("如果GOBOT_URL设置 /send_private_msg 则需要填入 user_id=个人QQ 相反如果是 /send_group_msg 则需要填入 group_id=QQ群"),required:!0}],serverChan:[{label:"serverChanKey",tip:n.ZP.get("Server酱SENDKEY"),required:!0}],pushDeer:[{label:"pushDeerKey",tip:n.ZP.get("PushDeer的Key，https://github.com/easychen/pushdeer"),required:!0},{label:"pushDeerUrl",tip:n.ZP.get("PushDeer的自架API endpoint，默认是 https://api2.pushdeer.com/message/push")}],bark:[{label:"barkPush",tip:n.ZP.get("Bark的信息IP/设备码，例如：https://api.day.app/XXXXXXXX"),required:!0},{label:"barkIcon",tip:n.ZP.get("BARK推送图标，自定义推送图标 (需iOS15或以上才能显示)")},{label:"barkSound",tip:n.ZP.get("BARK推送铃声，铃声列表去APP查看复制填写")},{label:"barkGroup",tip:n.ZP.get("BARK推送消息的分组，默认为qinglong")},{label:"barkLevel",tip:n.ZP.get("BARK推送消息的时效性，默认为active")},{label:"barkUrl",tip:n.ZP.get("BARK推送消息的跳转URL")},{label:"barkArchive",tip:n.ZP.get("BARK是否保存推送消息")}],telegramBot:[{label:"telegramBotToken",tip:n.ZP.get("telegram机器人的token，例如：1077xxx4424:AAFjv0FcqxxxxxxgEMGfi22B4yh15R5uw"),required:!0},{label:"telegramBotUserId",tip:n.ZP.get("telegram用户的id，例如：129xxx206"),required:!0},{label:"telegramBotProxyHost",tip:n.ZP.get("代理IP")},{label:"telegramBotProxyPort",tip:n.ZP.get("代理端口")},{label:"telegramBotProxyAuth",tip:n.ZP.get("telegram代理配置认证参数，用户名与密码用英文冒号连接 user:password")},{label:"telegramBotApiHost",tip:n.ZP.get("telegram api自建的反向代理地址，默认tg官方api")}],dingtalkBot:[{label:"dingtalkBotToken",tip:n.ZP.get("钉钉机器人webhook token，例如：5a544165465465645d0f31dca676e7bd07415asdasd"),required:!0},{label:"dingtalkBotSecret",tip:n.ZP.get("密钥，机器人安全设置页面，加签一栏下面显示的SEC开头的字符串")}],weWorkBot:[{label:"weWorkBotKey",tip:n.ZP.get("企业微信机器人的webhook(详见文档 https://work.weixin.qq.com/api/doc/90000/90136/91770)，例如：693a91f6-7xxx-4bc4-97a0-0ec2sifa5aaa"),required:!0},{label:"weWorkOrigin",tip:n.ZP.get("企业微信代理地址")}],weWorkApp:[{label:"weWorkAppKey",tip:n.ZP.get("corpid、corpsecret、touser(注:多个成员ID使用|隔开)、agentid、消息类型(选填，不填默认文本消息类型) 注意用,号隔开(英文输入法的逗号)，例如：wwcfrs,B-76WERQ,qinglong,1000001,2COat"),required:!0},{label:"weWorkOrigin",tip:n.ZP.get("企业微信代理地址")}],aibotk:[{label:"aibotkKey",tip:n.ZP.get("密钥key，智能微秘书个人中心获取apikey，申请地址：https://wechat.aibotk.com/signup?from=ql"),required:!0},{label:"aibotkType",tip:n.ZP.get("发送的目标，群组或者好友"),required:!0,placeholder:n.ZP.get("请输入要发送的目标"),items:[{value:"room",label:n.ZP.get("群聊")},{value:"contact",label:n.ZP.get("好友")}]},{label:"aibotkName",tip:n.ZP.get("要发送的用户昵称或群名，如果目标是群，需要填群名，如果目标是好友，需要填好友昵称"),required:!0}],iGot:[{label:"iGotPushKey",tip:n.ZP.get("iGot的信息推送key，例如：https://push.hellyw.com/XXXXXXXX"),required:!0}],pushPlus:[{label:"pushPlusToken",tip:n.ZP.get("微信扫码登录后一对一推送或一对多推送下面的token(您的Token)，不提供PUSH_PLUS_USER则默认为一对一推送，参考 https://www.pushplus.plus/"),required:!0},{label:"pushPlusUser",tip:n.ZP.get("一对多推送的“群组编码”（一对多推送下面->您的群组(如无则创建)->群组编码，如果您是创建群组人。也需点击“查看二维码”扫描绑定，否则不能接受群组消息推送）")},{label:"pushplusTemplate",tip:n.ZP.get("发送模板")},{label:"pushplusChannel",tip:n.ZP.get("发送渠道")},{label:"pushplusWebhook",tip:n.ZP.get("webhook编码")},{label:"pushplusCallbackUrl",tip:n.ZP.get("发送结果回调地址")},{label:"pushplusTo",tip:n.ZP.get("好友令牌")}],wePlusBot:[{label:"wePlusBotToken",tip:n.ZP.get("用户令牌，扫描登录后 我的—>设置->令牌 中获取，参考 https://www.weplusbot.com/"),required:!0},{label:"wePlusBotReceiver",tip:n.ZP.get("消息接收人")},{label:"wePlusBotVersion",tip:n.ZP.get("调用版本；专业版填写pro，个人版填写personal，为空默认使用专业版")}],wxPusherBot:[{label:"wxPusherBotAppToken",tip:n.ZP.get("wxPusherBot的appToken"),required:!0},{label:"wxPusherBotTopicIds",tip:n.ZP.get("wxPusherBot的topicIds"),required:!1},{label:"wxPusherBotUids",tip:n.ZP.get("wxPusherBot的uids"),required:!1}],lark:[{label:"larkKey",tip:n.ZP.get("飞书群组机器人：https://www.feishu.cn/hc/zh-CN/articles/360024984973"),required:!0}],email:[{label:"emailService",tip:n.ZP.get("邮箱服务名称，比如126、163、Gmail、QQ等，支持列表https://github.com/nodemailer/nodemailer/blob/master/lib/well-known/services.json"),required:!0},{label:"emailUser",tip:n.ZP.get("邮箱地址"),required:!0},{label:"emailPass",tip:n.ZP.get("SMTP 登录密码，也可能为特殊口令，视具体邮件服务商说明而定"),required:!0}],pushMe:[{label:"pushMeKey",tip:n.ZP.get("PushMe的Key，https://push.i-i.me/"),required:!0},{label:"pushMeUrl",tip:n.ZP.get("自建的PushMeServer消息接口地址，例如：http://127.0.0.1:3010，不填则使用官方消息接口"),required:!1}],chronocat:[{label:"chronocatURL",tip:n.ZP.get("Chronocat Red 服务的连接地址 https://chronocat.vercel.app/install/docker/official/"),required:!0},{label:"chronocatQQ",tip:n.ZP.get("个人:user_id=个人QQ 群则填入group_id=QQ群 多个用英文;隔开同时支持个人和群 如：user_id=xxx;group_id=xxxx;group_id=xxxxx"),required:!0},{label:"chronocatToken",tip:n.ZP.get("docker安装在持久化config目录下的chronocat.yml文件可找到"),required:!0}],webhook:[{label:"webhookMethod",tip:n.ZP.get("请求方法"),required:!0,items:[{value:"GET"},{value:"POST"},{value:"PUT"}]},{label:"webhookContentType",tip:n.ZP.get("请求头Content-Type"),required:!0,items:[{value:"text/plain"},{value:"application/json"},{value:"multipart/form-data"},{value:"application/x-www-form-urlencoded"}]},{label:"webhookUrl",tip:n.ZP.get("请求链接以http或者https开头。url或者body中必须包含$title，$content可选，对应api内容的位置"),required:!0,placeholder:"https://xxx.cn/api?content=$title\n"},{label:"webhookHeaders",tip:n.ZP.get("请求头格式Custom-Header1: Header1，多个换行分割"),placeholder:"Custom-Header1: Header1\nCustom-Header2: Header2"},{label:"webhookBody",tip:n.ZP.get("请求体格式key1: value1，多个换行分割。url或者body中必须包含$title，$content可选，对应api内容的位置"),placeholder:"key1: $title\nkey2: $content"}]},documentTitleMap:{"/login":n.ZP.get("登录"),"/initialization":n.ZP.get("初始化"),"/crontab":n.ZP.get("定时任务"),"/env":n.ZP.get("环境变量"),"/subscription":n.ZP.get("订阅管理"),"/config":n.ZP.get("配置文件"),"/script":n.ZP.get("脚本管理"),"/diff":n.ZP.get("对比工具"),"/log":n.ZP.get("日志管理"),"/setting":n.ZP.get("系统设置"),"/error":n.ZP.get("错误日志"),"/dependence":n.ZP.get("依赖管理")},dependenceTypes:["nodejs","python3","linux"]}},16314:function(e,t,r){"use strict";r.d(t,{W:function(){return h}});var n=r(90228),a=r.n(n),o=r(87999),i=r.n(o),l=r(72317),c=r(61508),s=r(33839),u=r(3475),d=r(98783),p=r(69313),f=r(52676);c.ZP.config({duration:2});var g=Date.now(),m=p.Z.create({timeout:6e4,params:{t:g}}),b=["/api/user/login","/open/auth/token","/api/user/two-factor/login","/api/system","/api/user/init","/api/user/notification/init"];m.interceptors.request.use((function(e){var t=localStorage.getItem(u.Z.authKey);return t&&!b.includes(e.url)?(e.headers.Authorization="Bearer ".concat(t),e):e})),m.interceptors.response.use(function(){var e=i()(a()().mark((function e(t){var r,n,o;return a()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.status,![502,504].includes(r)){e.next=5;break}d.history.push("/error"),e.next=18;break;case 5:if(401!==r){e.next=9;break}"/login"!==d.history.location.pathname&&(localStorage.removeItem(u.Z.authKey),d.history.push("/login")),e.next=18;break;case 9:return e.prev=9,200!==(n=t.data).code&&(o=n.message||n.data)&&s.Z.error({message:o,description:null!=n&&n.errors?(0,f.jsx)(f.Fragment,{children:null==n?void 0:n.errors.map((function(e){return(0,f.jsx)("div",{children:e.message})}))}):void 0}),e.abrupt("return",n);case 15:e.prev=15,e.t0=e.catch(9);case 17:case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){if(e.response){var t=e.response.data?e.response.data.message||e.message:e.response.statusText,r=e.response.status;if([502,504].includes(r))d.history.push("/error");else if(401===r)"/login"!==d.history.location.pathname&&(c.ZP.error(l.ZP.get("登录已过期，请重新登录")),localStorage.removeItem(u.Z.authKey),d.history.push("/login"));else{var n,a,o,i;if("function"==typeof(null===(n=e.config)||void 0===n?void 0:n.onError))return null===(i=e.config)||void 0===i?void 0:i.onError(e.response);t&&s.Z.error({message:t,description:null!==(a=e.response)&&void 0!==a&&null!==(a=a.data)&&void 0!==a&&a.errors?(0,f.jsx)(f.Fragment,{children:null===(o=e.response)||void 0===o||null===(o=o.data)||void 0===o||null===(o=o.errors)||void 0===o?void 0:o.map((function(e){return(0,f.jsxs)("div",{children:[e.message," (",e.value,")"]})}))}):void 0})}}else console.log(e.message);return Promise.reject(e)}));var h=m},35181:function(e,t,r){"use strict";var n=r(57904),a=r(2053),o=r(82187),i=r.n(o),l=r(77168),c=r(2021),s=r(75271),u=r(96820),d=r(83289),p=r(30107),f=r(38470),g=r(5663),m=r(21485),b=r(28800),h=r(50528),v=r(81393),Z=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},y="SECRET_COMBOBOX_MODE_DO_NOT_USE",P=function(e,t){var r,o=e.prefixCls,P=e.bordered,x=void 0===P||P,k=e.className,w=e.getPopupContainer,C=e.dropdownClassName,j=e.popupClassName,q=e.listHeight,T=void 0===q?256:q,S=e.placement,B=e.listItemHeight,I=void 0===B?32:B,N=e.size,O=e.disabled,E=e.notFoundContent,_=e.status,R=e.showArrow,M=Z(e,["prefixCls","bordered","className","getPopupContainer","dropdownClassName","popupClassName","listHeight","placement","listItemHeight","size","disabled","notFoundContent","status","showArrow"]),A=s.useContext(u.E_),z=A.getPopupContainer,F=A.getPrefixCls,H=A.renderEmpty,U=A.direction,K=A.virtual,W=A.dropdownMatchSelectWidth,X=s.useContext(f.Z),D=F("select",o),G=F(),L=(0,v.ri)(D,U),Q=L.compactSize,V=L.compactItemClassnames,$=s.useMemo((function(){var e=M.mode;if("combobox"!==e)return e===y?"combobox":e}),[M.mode]),Y="multiple"===$||"tags"===$,J=void 0!==R?R:M.loading||!(Y||"combobox"===$),ee=(0,s.useContext)(g.aM),te=ee.status,re=ee.hasFeedback,ne=ee.isFormItemInput,ae=ee.feedbackIcon,oe=(0,b.F)(te,_);r=void 0!==E?E:"combobox"===$?null:(H||d.Z)("Select");var ie=(0,h.Z)((0,a.Z)((0,a.Z)({},M),{multiple:Y,hasFeedback:re,feedbackIcon:ae,showArrow:J,prefixCls:D})),le=ie.suffixIcon,ce=ie.itemIcon,se=ie.removeIcon,ue=ie.clearIcon,de=(0,c.Z)(M,["suffixIcon","itemIcon"]),pe=i()(j||C,(0,n.Z)({},"".concat(D,"-dropdown-").concat(U),"rtl"===U)),fe=Q||N||X,ge=s.useContext(p.Z),me=null!=O?O:ge,be=i()((0,n.Z)((0,n.Z)((0,n.Z)((0,n.Z)((0,n.Z)({},"".concat(D,"-lg"),"large"===fe),"".concat(D,"-sm"),"small"===fe),"".concat(D,"-rtl"),"rtl"===U),"".concat(D,"-borderless"),!x),"".concat(D,"-in-form-item"),ne),(0,b.Z)(D,oe,re),V,k);return s.createElement(l.ZP,(0,a.Z)({ref:t,virtual:K,dropdownMatchSelectWidth:W},de,{transitionName:(0,m.mL)(G,(0,m.q0)(S),M.transitionName),listHeight:T,listItemHeight:I,mode:$,prefixCls:D,placement:void 0!==S?S:"rtl"===U?"bottomRight":"bottomLeft",direction:U,inputIcon:le,menuItemSelectedIcon:ce,removeIcon:se,clearIcon:ue,notFoundContent:r,className:be,getPopupContainer:w||z,dropdownClassName:pe,showArrow:re||R,disabled:me}))},x=s.forwardRef(P);x.SECRET_COMBOBOX_MODE_DO_NOT_USE=y,x.Option=l.Wx,x.OptGroup=l.Xo,t.Z=x},63505:function(e,t,r){"use strict";r.d(t,{u:function(){return m},Z:function(){return v}});var n=r(2053),a=r(57904),o=r(99459),i=r(82187),l=r.n(i),c=r(22615),s=r(75271),u=r(96820),d=r(76908);function p(e){var t=e.className,r=e.direction,o=e.index,i=e.marginDirection,l=e.children,c=e.split,u=e.wrap,d=s.useContext(m),p=d.horizontalSize,f=d.verticalSize,g=d.latestIndex,b={};return d.supportFlexGap||("vertical"===r?o<g&&(b={marginBottom:p/(c?2:1)}):b=(0,n.Z)((0,n.Z)({},o<g&&(0,a.Z)({},i,p/(c?2:1))),u&&{paddingBottom:f})),null==l?null:s.createElement(s.Fragment,null,s.createElement("div",{className:t,style:b},l),o<g&&c&&s.createElement("span",{className:"".concat(t,"-split"),style:b},c))}var f=r(81393),g=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r},m=s.createContext({latestIndex:0,horizontalSize:0,verticalSize:0,supportFlexGap:!1}),b={small:8,middle:16,large:24};var h=function(e){var t=s.useContext(u.E_),r=t.getPrefixCls,i=t.space,f=t.direction,h=e.size,v=void 0===h?(null==i?void 0:i.size)||"small":h,Z=e.align,y=e.className,P=e.children,x=e.direction,k=void 0===x?"horizontal":x,w=e.prefixCls,C=e.split,j=e.style,q=e.wrap,T=void 0!==q&&q,S=g(e,["size","align","className","children","direction","prefixCls","split","style","wrap"]),B=(0,d.Z)(),I=s.useMemo((function(){return(Array.isArray(v)?v:[v,v]).map((function(e){return function(e){return"string"==typeof e?b[e]:e||0}(e)}))}),[v]),N=(0,o.Z)(I,2),O=N[0],E=N[1],_=(0,c.Z)(P,{keepEmpty:!0}),R=void 0===Z&&"horizontal"===k?"center":Z,M=r("space",w),A=l()(M,"".concat(M,"-").concat(k),(0,a.Z)((0,a.Z)({},"".concat(M,"-rtl"),"rtl"===f),"".concat(M,"-align-").concat(R),R),y),z="".concat(M,"-item"),F="rtl"===f?"marginLeft":"marginRight",H=0,U=_.map((function(e,t){null!=e&&(H=t);var r=e&&e.key||"".concat(z,"-").concat(t);return s.createElement(p,{className:z,key:r,direction:k,index:t,marginDirection:F,split:C,wrap:T},e)})),K=s.useMemo((function(){return{horizontalSize:O,verticalSize:E,latestIndex:H,supportFlexGap:B}}),[O,E,H,B]);if(0===_.length)return null;var W={};return T&&(W.flexWrap="wrap",B||(W.marginBottom=-E)),B&&(W.columnGap=O,W.rowGap=E),s.createElement("div",(0,n.Z)({className:A,style:(0,n.Z)((0,n.Z)({},W),j)},S),s.createElement(m.Provider,{value:K},U))};h.Compact=f.ZP;var v=h},50810:function(){}}]);