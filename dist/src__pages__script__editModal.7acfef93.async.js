"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[5586],{82166:function(De,R,e){e.d(R,{Z:function(){return K}});var f=e(87643),r=e(63313),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},I=i,l=e(17980),b=function(c,g){return r.createElement(l.Z,(0,f.Z)((0,f.Z)({},c),{},{ref:g,icon:I}))};b.displayName="EyeOutlined";var K=r.forwardRef(b)},20342:function(De,R,e){e.r(R);var f=e(46686),r=e.n(f),i=e(63313),I=e.n(i),l=e(23923),b=e(86842),K=e(81433),P=e(4675),c=e(79279),g=e(76021),p=e(90138),O=e(30555),F=e(90805),E=e(74069),M=e(26579),x=e(72839),t=e(11527),A=l.Z.Option,Y={".py":"python",".js":"javascript",".sh":"shell",".ts":"typescript"},Z={python:".py",javascript:".js",shell:".sh",typescript:".ts"},S=function(D){var w=D.treeData,W=D.currentNode,U=D.content,de=D.handleCancel,ae=D.visible,k=D.socketMessage,V=(0,i.useState)(""),ge=r()(V,2),$=ge[0],B=ge[1],oe=(0,i.useState)("javascript"),q=r()(oe,2),pe=q[0],h=q[1],re=(0,i.useState)(),n=r()(re,2),a=n[0],s=n[1],o=(0,i.useState)(""),u=r()(o,2),ce=u[0],le=u[1],ee=(0,i.useState)(!1),ne=r()(ee,2),y=ne[0],ie=ne[1],me=(0,i.useState)(!1),se=r()(me,2),ve=se[0],fe=se[1],G=(0,i.useState)(""),m=r()(G,2),L=m[0],j=m[1],ue=(0,M.F)(),Q=ue.theme,H=(0,i.useRef)(null),J=(0,i.useState)(!1),T=r()(J,2),Ee=T[0],X=T[1],Oe=function(){de()},he=function(d,C){if(!(C.key===ce||!d)&&C.type!=="directory"){var te=Y[d.slice(-3)]||"";s(C),h(te),ye(C),le(C.key)}},ye=function(d){c.W.get("".concat(g.Z.apiPrefix,"scripts/").concat(d.title,"?path=").concat(d.parent||"")).then(function(C){var te=C.code,_e=C.data;te===200&&B(_e)})},Se=function(){j("");var d=H.current.getValue().replace(/\r\n/g,`
`);c.W.put("".concat(g.Z.apiPrefix,"scripts/run"),{data:{filename:a.title,path:a.parent||"",content:d}}).then(function(C){var te=C.code,_e=C.data;te===200&&X(!0)})},xe=function(){if(!(!a||!a.title)){var d=H.current.getValue().replace(/\r\n/g,`
`);c.W.put("".concat(g.Z.apiPrefix,"scripts/stop"),{data:{filename:a.title,path:a.parent||"",content:d}}).then(function(C){var te=C.code,_e=C.data;te===200&&X(!1)})}};return(0,i.useEffect)(function(){if(!!k){var _=k.type,d=k.message,C=k.references;_==="manuallyRunScript"&&((0,x.x$)(d)&&setTimeout(function(){X(!1)},300),L&&(d=`
`.concat(d)),j("".concat(L).concat(d)))}},[k]),(0,i.useEffect)(function(){if(j(""),W){s(W),B(U),le(W.key);var _=Y[W.title.slice(-3)]||"";h(_)}},[U,W]),(0,t.jsxs)(b.Z,{className:"edit-modal",closable:!1,title:(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(K.Z,{treeExpandAction:"click",style:{marginRight:8,width:150},value:ce,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:w,placeholder:"\u8BF7\u9009\u62E9\u811A\u672C\u6587\u4EF6",fieldNames:{value:"key",label:"title"},showSearch:!0,onSelect:he}),(0,t.jsxs)(l.Z,{value:pe,style:{width:110,marginRight:8},onChange:function(d){h(d)},children:[(0,t.jsx)(A,{value:"javascript",children:"javascript"}),(0,t.jsx)(A,{value:"typescript",children:"typescript"}),(0,t.jsx)(A,{value:"shell",children:"shell"}),(0,t.jsx)(A,{value:"python",children:"python"})]}),(0,t.jsx)(P.Z,{type:"primary",style:{marginRight:8},onClick:Ee?xe:Se,children:Ee?"\u505C\u6B62":"\u8FD0\u884C"}),(0,t.jsx)(P.Z,{type:"primary",style:{marginRight:8},onClick:function(){j("")},children:"\u6E05\u7A7A\u65E5\u5FD7"}),(0,t.jsx)(P.Z,{type:"primary",style:{marginRight:8},onClick:function(){fe(!0)},children:"\u8BBE\u7F6E"}),(0,t.jsx)(P.Z,{type:"primary",style:{marginRight:8},onClick:function(){ie(!0)},children:"\u4FDD\u5B58"}),(0,t.jsx)(P.Z,{type:"primary",style:{marginRight:8},onClick:function(){xe(),de()},children:"\u9000\u51FA"})]}),width:"100%",headerStyle:{padding:"11px 24px"},onClose:Oe,open:ae,children:[(0,t.jsxs)(p.Z,{split:"vertical",minSize:200,defaultSize:"50%",style:{height:"calc(100vh - 55px)"},children:[(0,t.jsx)(O.ZP,{language:pe,value:$,theme:Q,options:{fontSize:12,minimap:{enabled:!1},lineNumbersMinChars:3,glyphMargin:!1},onMount:function(d){H.current=d}}),(0,t.jsx)("pre",{style:{height:"100%",padding:"0 15px"},children:L})]}),(0,t.jsx)(F.default,{visible:y,handleCancel:function(){ie(!1)},file:{content:H.current&&H.current.getValue().replace(/\r\n/g,`
`),filename:a==null?void 0:a.title}}),(0,t.jsx)(E.default,{visible:ve,handleCancel:function(){fe(!1)}})]})};R.default=S},90805:function(De,R,e){e.r(R);var f=e(35290),r=e.n(f),i=e(30279),I=e.n(i),l=e(411),b=e.n(l),K=e(46686),P=e.n(K),c=e(63313),g=e.n(c),p=e(35913),O=e(12923),F=e(96878),E=e(77049),M=e(79279),x=e(76021),t=e(11527),A=function(Z){var S=Z.file,N=Z.handleCancel,D=Z.visible,w=p.Z.useForm(),W=P()(w,1),U=W[0],de=(0,c.useState)(!1),ae=P()(de,2),k=ae[0],V=ae[1],ge=function(){var $=b()(r()().mark(function B(oe){var q;return r()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:V(!0),q=I()(I()(I()({},S),oe),{},{originFilename:S.filename}),M.W.post("".concat(x.Z.apiPrefix,"scripts"),{data:q}).then(function(re){var n=re.code,a=re.data;n===200&&(O.ZP.success("\u4FDD\u5B58\u6587\u4EF6\u6210\u529F"),N(a)),V(!1)});case 3:case"end":return h.stop()}},B)}));return function(oe){return $.apply(this,arguments)}}();return(0,c.useEffect)(function(){U.resetFields(),V(!1)},[S,D]),(0,t.jsx)(F.Z,{title:"\u4FDD\u5B58\u6587\u4EF6",open:D,forceRender:!0,centered:!0,maskClosable:!1,onOk:function(){U.validateFields().then(function(B){ge(B)}).catch(function(B){console.log("Validate Failed:",B)})},onCancel:function(){return N()},confirmLoading:k,children:(0,t.jsxs)(p.Z,{form:U,layout:"vertical",name:"script_modal",initialValues:S,children:[(0,t.jsx)(p.Z.Item,{name:"filename",label:"\u6587\u4EF6\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u4EF6\u540D"}],children:(0,t.jsx)(E.Z,{placeholder:"\u8BF7\u8F93\u5165\u6587\u4EF6\u540D"})}),(0,t.jsx)(p.Z.Item,{name:"path",label:"\u4FDD\u5B58\u76EE\u5F55",children:(0,t.jsx)(E.Z,{placeholder:"\u8BF7\u8F93\u5165\u4FDD\u5B58\u76EE\u5F55\uFF0C\u9ED8\u8BA4scripts\u76EE\u5F55"})})]})})};R.default=A},74069:function(De,R,e){e.r(R);var f=e(35290),r=e.n(f),i=e(30279),I=e.n(i),l=e(411),b=e.n(l),K=e(46686),P=e.n(K),c=e(63313),g=e.n(c),p=e(35913),O=e(12923),F=e(96878),E=e(77049),M=e(79279),x=e(76021),t=e(11527),A=function(Z){var S=Z.file,N=Z.handleCancel,D=Z.visible,w=p.Z.useForm(),W=P()(w,1),U=W[0],de=(0,c.useState)(!1),ae=P()(de,2),k=ae[0],V=ae[1],ge=function(){var $=b()(r()().mark(function B(oe){var q;return r()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:V(!0),q=I()(I()({},S),oe),M.W.post("".concat(x.Z.apiPrefix,"scripts"),{data:q}).then(function(re){var n=re.code,a=re.data;n===200&&(O.ZP.success("\u4FDD\u5B58\u6587\u4EF6\u6210\u529F"),N(a)),V(!1)});case 3:case"end":return h.stop()}},B)}));return function(oe){return $.apply(this,arguments)}}();return(0,c.useEffect)(function(){U.resetFields(),V(!1)},[S,D]),(0,t.jsx)(F.Z,{title:"\u8FD0\u884C\u8BBE\u7F6E",open:D,forceRender:!0,centered:!0,onCancel:function(){return N()},children:(0,t.jsx)(p.Z,{form:U,layout:"vertical",name:"setting_modal",initialValues:S,children:(0,t.jsx)(p.Z.Item,{name:"filename",label:"\u5F85\u5F00\u53D1",rules:[{required:!0,message:"\u5F85\u5F00\u53D1"}],children:(0,t.jsx)(E.Z,{placeholder:"\u5F85\u5F00\u53D1"})})})})};R.default=A},26579:function(De,R,e){e.d(R,{F:function(){return K},e:function(){return b}});var f=e(46686),r=e.n(f),i=e(63313),I=e.n(i),l=e(72839),b=function(){var c=(0,i.useState)("100%"),g=r()(c,2),p=g[0],O=g[1],F=(0,i.useState)(0),E=r()(F,2),M=E[0],x=E[1],t=(0,i.useState)(-72),A=r()(t,2),Y=A[0],Z=A[1],S=(0,i.useState)(!1),N=r()(S,2),D=N[0],w=N[1],W=(0,i.useMemo)(function(){return(0,l.ZP)()},[]),U=W.platform;return(0,i.useEffect)(function(){U==="mobile"&&document.body.offsetWidth<768?(O("auto"),x(0),Z(0),w(!0)):(O("100%"),x(0),Z(-72),w(!1))},[]),{headerStyle:{padding:"4px 16px 4px 15px",position:"sticky",top:0,left:0,zIndex:20,marginTop:Y,width:p,marginLeft:M},isPhone:D}},K=function(){var c=(0,i.useState)(),g=r()(c,2),p=g[0],O=g[1],F=function(){var M=window.matchMedia("(prefers-color-scheme: dark)"),x=localStorage.getItem("qinglong_dark_theme"),t=M.matches&&x!=="light"||x==="dark";O(t?"vs-dark":"vs")};return(0,i.useEffect)(function(){var E=window.matchMedia("(prefers-color-scheme: dark)"),M=localStorage.getItem("qinglong_dark_theme"),x=E.matches&&M!=="light"||M==="dark";O(x?"vs-dark":"vs");var t=function(Y){(M==="auto"||!M)&&(Y.matches?O("vs-dark"):O("vs"))};typeof E.addEventListener=="function"?E.addEventListener("change",t):typeof E.addListener=="function"&&E.addListener(t)},[]),{theme:p,reloadTheme:F}}},77049:function(De,R,e){e.d(R,{Z:function(){return re}});var f=e(24250),r=e(67519),i=e(84875),I=e.n(i),l=e(63313),b=e(61606),K=e(61247),P=function(a){var s,o=(0,l.useContext)(b.E_),u=o.getPrefixCls,ce=o.direction,le=a.prefixCls,ee=a.className,ne=ee===void 0?"":ee,y=u("input-group",le),ie=I()(y,(s={},(0,r.Z)(s,"".concat(y,"-lg"),a.size==="large"),(0,r.Z)(s,"".concat(y,"-sm"),a.size==="small"),(0,r.Z)(s,"".concat(y,"-compact"),a.compact),(0,r.Z)(s,"".concat(y,"-rtl"),ce==="rtl"),s),ne),me=(0,l.useContext)(K.aM),se=(0,l.useMemo)(function(){return(0,f.Z)((0,f.Z)({},me),{isFormItemInput:!1})},[me]);return l.createElement("span",{className:ie,style:a.style,onMouseEnter:a.onMouseEnter,onMouseLeave:a.onMouseLeave,onFocus:a.onFocus,onBlur:a.onBlur},l.createElement(K.aM.Provider,{value:se},a.children))},c=P,g=e(54590),p=e(82769),O=e(10082),F=e(87643),E={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2Q889.47 375.11 816.7 305l-50.88 50.88C807.31 395.53 843.45 447.4 874.7 512 791.5 684.2 673.4 766 512 766q-72.67 0-133.87-22.38L323 798.75Q408 838 512 838q288.3 0 430.2-300.3a60.29 60.29 0 000-51.5zm-63.57-320.64L836 122.88a8 8 0 00-11.32 0L715.31 232.2Q624.86 186 512 186q-288.3 0-430.2 300.3a60.3 60.3 0 000 51.5q56.69 119.4 136.5 191.41L112.48 835a8 8 0 000 11.31L155.17 889a8 8 0 0011.31 0l712.15-712.12a8 8 0 000-11.32zM149.3 512C232.6 339.8 350.7 258 512 258c54.54 0 104.13 9.36 149.12 28.39l-70.3 70.3a176 176 0 00-238.13 238.13l-83.42 83.42C223.1 637.49 183.3 582.28 149.3 512zm246.7 0a112.11 112.11 0 01146.2-106.69L401.31 546.2A112 112 0 01396 512z"}},{tag:"path",attrs:{d:"M508 624c-3.46 0-6.87-.16-10.25-.47l-52.82 52.82a176.09 176.09 0 00227.42-227.42l-52.82 52.82c.31 3.38.47 6.79.47 10.25a111.94 111.94 0 01-112 112z"}}]},name:"eye-invisible",theme:"outlined"},M=E,x=e(17980),t=function(a,s){return l.createElement(x.Z,(0,F.Z)((0,F.Z)({},a),{},{ref:s,icon:M}))};t.displayName="EyeInvisibleOutlined";var A=l.forwardRef(t),Y=e(82166),Z=e(1334),S=e(4385),N=e(28372),D=function(n,a){var s={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&a.indexOf(o)<0&&(s[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(n);u<o.length;u++)a.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(n,o[u])&&(s[o[u]]=n[o[u]]);return s},w=function(a){return a?l.createElement(Y.Z,null):l.createElement(A,null)},W={click:"onClick",hover:"onMouseOver"},U=l.forwardRef(function(n,a){var s=n.visibilityToggle,o=s===void 0?!0:s,u=(0,O.Z)(o)==="object"&&o.visible!==void 0,ce=(0,l.useState)(function(){return u?o.visible:!1}),le=(0,p.Z)(ce,2),ee=le[0],ne=le[1],y=(0,l.useRef)(null);l.useEffect(function(){u&&ne(o.visible)},[u,o]);var ie=(0,N.Z)(y),me=function(){var G=n.disabled;G||(ee&&ie(),ne(function(m){var L,j=!m;return(0,O.Z)(o)==="object"&&((L=o.onVisibleChange)===null||L===void 0||L.call(o,j)),j}))},se=function(G){var m,L=n.action,j=L===void 0?"click":L,ue=n.iconRender,Q=ue===void 0?w:ue,H=W[j]||"",J=Q(ee),T=(m={},(0,r.Z)(m,H,me),(0,r.Z)(m,"className","".concat(G,"-icon")),(0,r.Z)(m,"key","passwordIcon"),(0,r.Z)(m,"onMouseDown",function(X){X.preventDefault()}),(0,r.Z)(m,"onMouseUp",function(X){X.preventDefault()}),m);return l.cloneElement(l.isValidElement(J)?J:l.createElement("span",null,J),T)},ve=function(G){var m=G.getPrefixCls,L=n.className,j=n.prefixCls,ue=n.inputPrefixCls,Q=n.size,H=D(n,["className","prefixCls","inputPrefixCls","size"]),J=m("input",ue),T=m("input-password",j),Ee=o&&se(T),X=I()(T,L,(0,r.Z)({},"".concat(T,"-").concat(Q),!!Q)),Oe=(0,f.Z)((0,f.Z)({},(0,Z.Z)(H,["suffix","iconRender","visibilityToggle"])),{type:ee?"text":"password",className:X,prefixCls:J,suffix:Ee});return Q&&(Oe.size=Q),l.createElement(g.ZP,(0,f.Z)({ref:(0,S.sQ)(a,y)},Oe))};return l.createElement(b.C,null,ve)}),de=U,ae=e(15258),k=e(4675),V=e(37742),ge=e(16174),$=e(39001),B=function(n,a){var s={};for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&a.indexOf(o)<0&&(s[o]=n[o]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,o=Object.getOwnPropertySymbols(n);u<o.length;u++)a.indexOf(o[u])<0&&Object.prototype.propertyIsEnumerable.call(n,o[u])&&(s[o[u]]=n[o[u]]);return s},oe=l.forwardRef(function(n,a){var s,o=n.prefixCls,u=n.inputPrefixCls,ce=n.className,le=n.size,ee=n.suffix,ne=n.enterButton,y=ne===void 0?!1:ne,ie=n.addonAfter,me=n.loading,se=n.disabled,ve=n.onSearch,fe=n.onChange,G=n.onCompositionStart,m=n.onCompositionEnd,L=B(n,["prefixCls","inputPrefixCls","className","size","suffix","enterButton","addonAfter","loading","disabled","onSearch","onChange","onCompositionStart","onCompositionEnd"]),j=l.useContext(b.E_),ue=j.getPrefixCls,Q=j.direction,H=l.useContext(V.Z),J=l.useRef(!1),T=ue("input-search",o),Ee=ue("input",u),X=(0,ge.ri)(T,Q),Oe=X.compactSize,he=Oe||le||H,ye=l.useRef(null),Se=function(v){v&&v.target&&v.type==="click"&&ve&&ve(v.target.value,v),fe&&fe(v)},xe=function(v){var z;document.activeElement===((z=ye.current)===null||z===void 0?void 0:z.input)&&v.preventDefault()},_=function(v){var z,Pe;ve&&ve((Pe=(z=ye.current)===null||z===void 0?void 0:z.input)===null||Pe===void 0?void 0:Pe.value,v)},d=function(v){J.current||_(v)},C=typeof y=="boolean"?l.createElement(ae.Z,null):null,te="".concat(T,"-button"),_e,Ce=y||{},Te=Ce.type&&Ce.type.__ANT_BUTTON===!0;Te||Ce.type==="button"?_e=(0,$.Tm)(Ce,(0,f.Z)({onMouseDown:xe,onClick:function(v){var z,Pe;(Pe=(z=Ce==null?void 0:Ce.props)===null||z===void 0?void 0:z.onClick)===null||Pe===void 0||Pe.call(z,v),_(v)},key:"enterButton"},Te?{className:te,size:he}:{})):_e=l.createElement(k.Z,{className:te,type:y?"primary":void 0,size:he,disabled:se,key:"enterButton",onMouseDown:xe,onClick:_,loading:me,icon:C},y),ie&&(_e=[_e,(0,$.Tm)(ie,{key:"addonAfter"})]);var Re=I()(T,(s={},(0,r.Z)(s,"".concat(T,"-rtl"),Q==="rtl"),(0,r.Z)(s,"".concat(T,"-").concat(he),!!he),(0,r.Z)(s,"".concat(T,"-with-button"),!!y),s),ce),Ie=function(v){J.current=!0,G==null||G(v)},be=function(v){J.current=!1,m==null||m(v)};return l.createElement(g.ZP,(0,f.Z)({ref:(0,S.sQ)(ye,a),onPressEnter:d},L,{size:he,onCompositionStart:Ie,onCompositionEnd:be,prefixCls:Ee,addonAfter:_e,suffix:ee,onChange:Se,className:Re,disabled:se}))}),q=oe,pe=e(11253),h=g.ZP;h.Group=c,h.Search=q,h.TextArea=pe.Z,h.Password=de;var re=h}}]);
