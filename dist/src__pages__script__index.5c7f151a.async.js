(self.webpackChunk=self.webpackChunk||[]).push([[6534],{77959:function(V,s,e){"use strict";var S=e(30279),_=e.n(S),d=e(63313),v=e.n(d);s.Z=function(o,m,p){var D=p.treeNodeFilterProp;return(0,d.useMemo)(function(){var O=[];if(!m)return{treeData:o,keys:O};var j=m.toUpperCase();function h(k,y){var c=y[D];return String(c).toUpperCase().includes(j)}function E(k){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return k.map(function(c){var x=c.children,u=y||h(m,c),I=E(x||[],u);return u||I.length?(I.length&&O.push(c.key),_()(_()({},c),{},{children:I})):null}).filter(function(c){return c})}return{treeData:E(o),keys:O}},[o,m,D])}},20342:function(V,s,e){"use strict";e.r(s);var S=e(46686),_=e.n(S),d=e(63313),v=e.n(d),o=e(23923),m=e(86842),p=e(81433),D=e(4675),O=e(79279),j=e(76021),h=e(90138),E=e(30555),k=e(90805),y=e(74069),c=e(26579),x=e(72839),u=e(11527),I=o.Z.Option,ne={".py":"python",".js":"javascript",".sh":"shell",".ts":"typescript"},W={python:".py",javascript:".js",shell:".sh",typescript:".ts"},R=function(n){var t=n.treeData,a=n.currentNode,r=n.content,l=n.handleCancel,g=n.visible,M=n.socketMessage,B=(0,d.useState)(""),z=_()(B,2),T=z[0],C=z[1],Q=(0,d.useState)("javascript"),ee=_()(Q,2),ae=ee[0],Z=ee[1],i=(0,d.useState)(),te=_()(i,2),$=te[0],le=te[1],fe=(0,d.useState)(""),se=_()(fe,2),_e=se[0],he=se[1],ge=(0,d.useState)(!1),ye=_()(ge,2),Me=ye[0],ve=ye[1],Pe=(0,d.useState)(!1),oe=_()(Pe,2),de=oe[0],Ce=oe[1],Fe=(0,d.useState)(""),L=_()(Fe,2),U=L[0],K=L[1],ce=(0,c.F)(),b=ce.theme,H=(0,d.useRef)(null),Ee=(0,d.useState)(!1),me=_()(Ee,2),ie=me[0],pe=me[1],De=function(){l()},Oe=function(G,J){if(!(J.key===_e||!G)&&J.type!=="directory"){var ue=ne[G.slice(-3)]||"";le(J),Z(ue),Se(J),he(J.key)}},Se=function(G){O.W.get("".concat(j.Z.apiPrefix,"scripts/").concat(G.title,"?path=").concat(G.parent||"")).then(function(J){var ue=J.code,Ae=J.data;ue===200&&C(Ae)})},Ie=function(){K("");var G=H.current.getValue().replace(/\r\n/g,`
`);O.W.put("".concat(j.Z.apiPrefix,"scripts/run"),{data:{filename:$.title,path:$.parent||"",content:G}}).then(function(J){var ue=J.code,Ae=J.data;ue===200&&pe(!0)})},je=function(){if(!(!$||!$.title)){var G=H.current.getValue().replace(/\r\n/g,`
`);O.W.put("".concat(j.Z.apiPrefix,"scripts/stop"),{data:{filename:$.title,path:$.parent||"",content:G}}).then(function(J){var ue=J.code,Ae=J.data;ue===200&&pe(!1)})}};return(0,d.useEffect)(function(){if(!!M){var N=M.type,G=M.message,J=M.references;N==="manuallyRunScript"&&((0,x.x$)(G)&&setTimeout(function(){pe(!1)},300),U&&(G=`
`.concat(G)),K("".concat(U).concat(G)))}},[M]),(0,d.useEffect)(function(){if(K(""),a){le(a),C(r),he(a.key);var N=ne[a.title.slice(-3)]||"";Z(N)}},[r,a]),(0,u.jsxs)(m.Z,{className:"edit-modal",closable:!1,title:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(p.Z,{treeExpandAction:"click",style:{marginRight:8,width:150},value:_e,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:t,placeholder:"\u8BF7\u9009\u62E9\u811A\u672C\u6587\u4EF6",fieldNames:{value:"key",label:"title"},showSearch:!0,onSelect:Oe}),(0,u.jsxs)(o.Z,{value:ae,style:{width:110,marginRight:8},onChange:function(G){Z(G)},children:[(0,u.jsx)(I,{value:"javascript",children:"javascript"}),(0,u.jsx)(I,{value:"typescript",children:"typescript"}),(0,u.jsx)(I,{value:"shell",children:"shell"}),(0,u.jsx)(I,{value:"python",children:"python"})]}),(0,u.jsx)(D.Z,{type:"primary",style:{marginRight:8},onClick:ie?je:Ie,children:ie?"\u505C\u6B62":"\u8FD0\u884C"}),(0,u.jsx)(D.Z,{type:"primary",style:{marginRight:8},onClick:function(){K("")},children:"\u6E05\u7A7A\u65E5\u5FD7"}),(0,u.jsx)(D.Z,{type:"primary",style:{marginRight:8},onClick:function(){Ce(!0)},children:"\u8BBE\u7F6E"}),(0,u.jsx)(D.Z,{type:"primary",style:{marginRight:8},onClick:function(){ve(!0)},children:"\u4FDD\u5B58"}),(0,u.jsx)(D.Z,{type:"primary",style:{marginRight:8},onClick:function(){je(),l()},children:"\u9000\u51FA"})]}),width:"100%",headerStyle:{padding:"11px 24px"},onClose:De,open:g,children:[(0,u.jsxs)(h.Z,{split:"vertical",minSize:200,defaultSize:"50%",style:{height:"calc(100vh - 55px)"},children:[(0,u.jsx)(E.ZP,{language:ae,value:T,theme:b,options:{fontSize:12,minimap:{enabled:!1},lineNumbersMinChars:3,glyphMargin:!1},onMount:function(G){H.current=G}}),(0,u.jsx)("pre",{style:{height:"100%",padding:"0 15px"},children:U})]}),(0,u.jsx)(k.default,{visible:Me,handleCancel:function(){ve(!1)},file:{content:H.current&&H.current.getValue().replace(/\r\n/g,`
`),filename:$==null?void 0:$.title}}),(0,u.jsx)(y.default,{visible:de,handleCancel:function(){Ce(!1)}})]})};s.default=R},97242:function(V,s,e){"use strict";e.r(s);var S=e(30279),_=e.n(S),d=e(9522),v=e.n(d),o=e(35290),m=e.n(o),p=e(411),D=e.n(p),O=e(46686),j=e.n(O),h=e(63313),E=e.n(h),k=e(23923),y=e(35913),c=e(12923),x=e(96878),u=e(49182),I=e(77049),ne=e(81433),W=e(7105),R=e(79279),X=e(76021),n=e(2455),t=e(11527),a=k.Z.Option,r=function(g){var M=g.handleCancel,B=g.treeData,z=g.visible,T=y.Z.useForm(),C=j()(T,1),Q=C[0],ee=(0,h.useState)(!1),ae=j()(ee,2),Z=ae[0],i=ae[1],te=(0,h.useState)([]),$=j()(te,2),le=$[0],fe=$[1],se=(0,h.useState)(),_e=j()(se,2),he=_e[0],ge=_e[1],ye=(0,h.useState)("blank"),Me=j()(ye,2),ve=Me[0],Pe=Me[1],oe=function(){var L=D()(m()().mark(function U(K){var ce,b,H,Ee,me,ie;return m()().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:i(!0),ce=K.path,b=ce===void 0?"":ce,H=K.filename,Ee=K.directory,me=Ee===void 0?"":Ee,ie=new FormData,ie.append("file",he),ie.append("filename",H),ie.append("path",b),ie.append("content",""),ie.append("directory",me),R.W.post("".concat(X.Z.apiPrefix,"scripts"),{data:ie}).then(function(Oe){var Se=Oe.code,Ie=Oe.data;if(Se===200){c.ZP.success(me?"\u65B0\u5EFA\u6587\u4EF6\u5939\u6210\u529F":"\u65B0\u5EFA\u6587\u4EF6\u6210\u529F");var je=b?"".concat(b,"/"):"",N=he?he.name:H;M({filename:N,path:b,key:"".concat(je).concat(N)})}i(!1)}).finally(function(){return i(!1)});case 9:case"end":return De.stop()}},U)}));return function(K){return L.apply(this,arguments)}}(),de=function(U){return ge(U),!1},Ce=function(U){Pe(U.target.value)},Fe=function L(U){var K=v()(U),ce;try{for(K.s();!(ce=K.n()).done;){var b=ce.value;b.children&&b.children.length>0&&(b.children=b.children.filter(function(H){return H.type==="directory"}).map(function(H){return _()(_()({},H),{},{disabled:!1})}),L(b.children))}}catch(H){K.e(H)}finally{K.f()}return U};return(0,h.useEffect)(function(){var L=B.filter(function(K){return K.type==="directory"}).map(function(K){return _()(_()({},K),{},{disabled:!1})}),U=Fe(L);fe(U)},[B]),(0,h.useEffect)(function(){Q.resetFields()},[z]),(0,t.jsx)(x.Z,{title:"\u65B0\u5EFA",open:z,forceRender:!0,centered:!0,maskClosable:!1,onOk:function(){Q.validateFields().then(function(U){oe(U)}).catch(function(U){console.log("Validate Failed:",U)})},onCancel:function(){return M()},confirmLoading:Z,children:(0,t.jsxs)(y.Z,{form:Q,layout:"vertical",name:"edit_name_modal",children:[(0,t.jsx)(y.Z.Item,{name:"type",label:"\u7C7B\u578B",rules:[{required:!0}],initialValue:"blank",children:(0,t.jsxs)(u.ZP.Group,{onChange:Ce,children:[(0,t.jsx)(u.ZP,{value:"blank",children:"\u7A7A\u6587\u4EF6"}),(0,t.jsx)(u.ZP,{value:"upload",children:"\u672C\u5730\u6587\u4EF6"}),(0,t.jsx)(u.ZP,{value:"directory",children:"\u6587\u4EF6\u5939"})]})}),ve==="blank"&&(0,t.jsx)(y.Z.Item,{name:"filename",label:"\u6587\u4EF6\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u4EF6\u540D"},{validator:function(U,K){return K.includes("/")?Promise.reject(new Error("\u6587\u4EF6\u540D\u4E0D\u80FD\u5305\u542B\u659C\u6760")):Promise.resolve()}}],children:(0,t.jsx)(I.Z,{placeholder:"\u8BF7\u8F93\u5165\u6587\u4EF6\u540D"})}),ve==="directory"&&(0,t.jsx)(y.Z.Item,{name:"directory",label:"\u6587\u4EF6\u5939\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u4EF6\u5939\u540D"}],children:(0,t.jsx)(I.Z,{placeholder:"\u8BF7\u8F93\u5165\u6587\u4EF6\u5939\u540D"})}),(0,t.jsx)(y.Z.Item,{label:"\u7236\u76EE\u5F55",name:"path",children:(0,t.jsx)(ne.Z,{allowClear:!0,treeData:le,fieldNames:{value:"key",label:"title"},placeholder:"\u8BF7\u9009\u62E9\u7236\u76EE\u5F55",treeDefaultExpandAll:!0})}),ve==="upload"&&(0,t.jsx)(y.Z.Item,{label:"\u6587\u4EF6",name:"file",children:(0,t.jsxs)(W.Z.Dragger,{beforeUpload:de,maxCount:1,children:[(0,t.jsx)("p",{className:"ant-upload-drag-icon",children:(0,t.jsx)(n.Z,{})}),(0,t.jsx)("p",{className:"ant-upload-text",children:"\u70B9\u51FB\u6216\u8005\u62D6\u62FD\u6587\u4EF6\u5230\u6B64\u533A\u57DF\u4E0A\u4F20"})]})})]})})};s.default=r},95247:function(V,s,e){"use strict";e.r(s),e.d(s,{default:function(){return fe}});var S=e(94434),_=e.n(S),d=e(46686),v=e.n(d),o=e(63313),m=e(75643),p=e(96878),D=e(12923),O=e(17418),j=e(81433),h=e(8610),E=e(4675),k=e(51770),y=e(77049),c=e(10388),x=e(14335),u=e(76021),I=e(4281),ne=e(30555),W=e(79279),R={"left-tree-container":"left-tree-container___z9VeF","left-tree-scroller":"left-tree-scroller___MRc8C","log-container":"log-container___Iva4k"},X=e(20342),n=e(56522),t=e(90138),a=e(54064),r=e(26099),l=e(39449),g=e(94764),M=e(97242),B=e(66292),z=e.n(B),T=e(91257),C=e(79034),Q=e(72839),ee=e(77959),ae=e(4363),Z=e.n(ae),i=e(11527),te=m.Z.Text,$={".py":"python",".js":"javascript",".sh":"shell",".ts":"typescript"},le=function(){var _e=(0,T.bx)(),he=_e.headerStyle,ge=_e.isPhone,ye=_e.theme,Me=_e.socketMessage,ve=(0,o.useState)("\u8BF7\u9009\u62E9\u811A\u672C\u6587\u4EF6"),Pe=v()(ve,2),oe=Pe[0],de=Pe[1],Ce=(0,o.useState)(""),Fe=v()(Ce,2),L=Fe[0],U=Fe[1],K=(0,o.useState)([]),ce=v()(K,2),b=ce[0],H=ce[1],Ee=(0,o.useState)(!1),me=v()(Ee,2),ie=me[0],pe=me[1],De=(0,o.useState)(""),Oe=v()(De,2),Se=Oe[0],Ie=Oe[1],je=(0,o.useState)(),N=v()(je,2),G=N[0],J=N[1],ue=(0,o.useRef)(),Ae=(0,o.useState)(!1),We=v()(Ae,2),an=We[0],Ze=We[1],ln=(0,o.useState)(""),Ke=v()(ln,2),on=Ke[0],un=Ke[1],sn=(0,o.useState)(!1),Ne=v()(sn,2),Te=Ne[0],xe=Ne[1],Be=(0,o.useRef)(null),dn=(0,o.useState)(!1),Ve=v()(dn,2),cn=Ve[0],$e=Ve[1],_n=(0,o.useState)(),ke=v()(_n,2),re=ke[0],Ge=ke[1],fn=(0,o.useState)([]),He=v()(fn,2),Ue=He[0],be=He[1],mn=function(){pe(!0),W.W.get("".concat(u.Z.apiPrefix,"scripts")).then(function(f){var P=f.code,F=f.data;P===200&&(H(F),hn())}).finally(function(){return pe(!1)})},ze=function(f){W.W.get("".concat(u.Z.apiPrefix,"scripts/").concat(encodeURIComponent(f.title),"?path=").concat(f.parent||"")).then(function(P){var F=P.code,Y=P.data;F===200&&de(Y)})},hn=function(){var f=(0,C.parse)(T.m8.location.search),P=f.p,F=f.s;if(F){var Y="".concat(P,"/").concat(F),w={node:{title:F,key:P?Y:F,parent:P}};be([P]),Qe([Y],w)}},Re=function(f,P){if(U(P.key),Ge(P),!(P.key===L||!f)){if(P.type==="directory"){de("\u8BF7\u9009\u62E9\u811A\u672C\u6587\u4EF6");return}var F=f?$[f.slice(-3)]:"";Ie(ge&&F==="typescript"?"javascript":F),de("\u52A0\u8F7D\u4E2D..."),ze(P)}},Qe=(0,o.useCallback)(function(A,f){var P=Be.current?Be.current.getValue().replace(/\r\n/g,`
`):oe;P!==oe?p.Z.confirm({title:"\u786E\u8BA4\u79BB\u5F00",content:(0,i.jsx)(i.Fragment,{children:"\u5F53\u524D\u4FEE\u6539\u672A\u4FDD\u5B58\uFF0C\u786E\u5B9A\u79BB\u5F00\u5417"}),onOk:function(){Re(A[0],f.node),xe(!1)},onCancel:function(){console.log("Cancel")}}):(xe(!1),Re(A[0],f.node))},[oe]),gn=(0,o.useCallback)(function(A){var f=A.target.value;vn(f)},[b]),vn=(0,o.useCallback)(z()(function(A){un(A)},300),[b]),Je=(0,ee.Z)(b,on,{treeNodeFilterProp:"title"}),En=Je.treeData,Xe=Je.keys;(0,o.useEffect)(function(){be(Z()([].concat(_()(Ue),_()(Xe))))},[Xe]);var pn=function(f){be(f)},Ye=function(){setTimeout(function(){xe(!0)},300)},we=function(){xe(!1),de("\u52A0\u8F7D\u4E2D..."),ze(re)},qe=function(){p.Z.confirm({title:"\u786E\u8BA4\u4FDD\u5B58",content:(0,i.jsxs)(i.Fragment,{children:["\u786E\u8BA4\u4FDD\u5B58\u6587\u4EF6",(0,i.jsx)(te,{style:{wordBreak:"break-all"},type:"warning",children:re.title})," ","\uFF0C\u4FDD\u5B58\u540E\u4E0D\u53EF\u6062\u590D"]}),onOk:function(){var P=Be.current?Be.current.getValue().replace(/\r\n/g,`
`):oe;return new Promise(function(F,Y){W.W.put("".concat(u.Z.apiPrefix,"scripts"),{data:{filename:re.title,path:re.parent||"",content:P}}).then(function(w){var q=w.code,tn=w.data;q===200&&(D.ZP.success("\u4FDD\u5B58\u6210\u529F"),de(P),xe(!1)),F(null)}).catch(function(w){return Y(w)})})},onCancel:function(){console.log("Cancel")}})},en=function(){p.Z.confirm({title:"\u786E\u8BA4\u5220\u9664",content:(0,i.jsxs)(i.Fragment,{children:["\u786E\u8BA4\u5220\u9664",(0,i.jsx)(te,{style:{wordBreak:"break-all"},type:"warning",children:L}),"\u6587\u4EF6",re.type==="directory"?"\u5939\u53CA\u5176\u5B50\u6587\u4EF6":"","\uFF0C\u5220\u9664\u540E\u4E0D\u53EF\u6062\u590D"]}),onOk:function(){W.W.delete("".concat(u.Z.apiPrefix,"scripts"),{data:{filename:re.title,path:re.parent||"",type:re.type}}).then(function(P){var F=P.code;if(F===200){D.ZP.success("\u5220\u9664\u6210\u529F");var Y=_()(b);if(re.parent)Y=(0,Q.I1)(Y,function(q){return q.key===re.key});else{var w=Y.findIndex(function(q){return q.key===re.key});w!==-1&&Y.splice(w,1)}H(Y),On()}})},onCancel:function(){console.log("Cancel")}})},nn=function(){$e(!0)},Dn=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{filename:"",path:"",key:""},P=f.filename,F=f.path,Y=f.key;if(P){var w=_()(b),q={title:P,key:Y,parent:F};if(F){w=(0,Q.I1)(w,function(Le){return Le.key===F},q);var tn=F.split("/"),rn=[];tn.reduce(function(Le,Cn){return rn.push(Le),"".concat(Le,"/").concat(Cn)}),be([].concat(_()(Ue),rn,[F]))}else w.unshift(q);H(w),Re(q.title,q),xe(!0)}$e(!1)},Fn=function(){W.W.post("".concat(u.Z.apiPrefix,"scripts/download"),{data:{filename:re.title}}).then(function(f){var P=f.code,F=f.data;if(P===200){var Y=new Blob([F],{type:"application/json"}),w=URL.createObjectURL(Y),q=document.createElement("a");q.href=w,q.download=re.title,document.documentElement.appendChild(q),q.click(),document.documentElement.removeChild(q)}})},On=function(){U(""),Ge(null),de("\u8BF7\u9009\u62E9\u811A\u672C\u6587\u4EF6")};(0,o.useEffect)(function(){mn()},[]),(0,o.useEffect)(function(){ue.current&&J(ue.current.clientHeight)},[ue.current,b]);var yn=function(f){switch(f){case"save":qe();break;case"exit":we();break;default:break}},Mn=function(f){switch(f){case"save":nn();break;case"edit":Ye();break;case"delete":en();break;default:break}},Pn=Te?(0,i.jsx)(O.Z,{items:[{label:"\u4FDD\u5B58",key:"save",icon:(0,i.jsx)(a.Z,{})},{label:"\u9000\u51FA\u7F16\u8F91",key:"exit",icon:(0,i.jsx)(r.Z,{})}],onClick:function(f){var P=f.key,F=f.domEvent;F.stopPropagation(),yn(P)}}):(0,i.jsx)(O.Z,{items:[{label:"\u65B0\u5EFA",key:"add",icon:(0,i.jsx)(a.Z,{})},{label:"\u7F16\u8F91",key:"edit",icon:(0,i.jsx)(r.Z,{}),disabled:!L},{label:"\u5220\u9664",key:"delete",icon:(0,i.jsx)(l.Z,{}),disabled:!L}],onClick:function(f){var P=f.key,F=f.domEvent;F.stopPropagation(),Mn(P)}});return(0,i.jsx)(I.ZP,{className:"ql-container-wrapper log-wrapper",title:L,loading:ie,extra:ge?[(0,i.jsx)(j.Z,{treeExpandAction:"click",className:"log-select",value:L,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:b,placeholder:"\u8BF7\u9009\u62E9\u811A\u672C",fieldNames:{value:"key"},treeNodeFilterProp:"title",showSearch:!0,allowClear:!0,onSelect:Re}),(0,i.jsx)(h.Z,{overlay:Pn,trigger:["click"],children:(0,i.jsx)(E.Z,{type:"primary",icon:(0,i.jsx)(g.Z,{})})})]:Te?[(0,i.jsx)(E.Z,{type:"primary",onClick:qe,children:"\u4FDD\u5B58"}),(0,i.jsx)(E.Z,{type:"primary",onClick:we,children:"\u9000\u51FA\u7F16\u8F91"})]:[(0,i.jsx)(k.Z,{title:"\u65B0\u5EFA",children:(0,i.jsx)(E.Z,{type:"primary",onClick:nn,icon:(0,i.jsx)(a.Z,{})})}),(0,i.jsx)(k.Z,{title:"\u7F16\u8F91",children:(0,i.jsx)(E.Z,{disabled:!L,type:"primary",onClick:Ye,icon:(0,i.jsx)(r.Z,{})})}),(0,i.jsx)(k.Z,{title:"\u5220\u9664",children:(0,i.jsx)(E.Z,{type:"primary",disabled:!L,onClick:en,icon:(0,i.jsx)(l.Z,{})})}),(0,i.jsx)(E.Z,{type:"primary",onClick:function(){Ze(!0)},children:"\u8C03\u8BD5"})],header:{style:he},children:(0,i.jsxs)("div",{className:"".concat(R["log-container"]," log-container"),children:[!ge&&(0,i.jsxs)(t.Z,{split:"vertical",size:200,maxSize:-100,children:[(0,i.jsx)("div",{className:R["left-tree-container"],children:b.length>0?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(y.Z.Search,{className:R["left-tree-search"],onChange:gn,placeholder:"\u8BF7\u8F93\u5165\u811A\u672C\u540D",allowClear:!0}),(0,i.jsx)("div",{className:R["left-tree-scroller"],ref:ue,children:(0,i.jsx)(c.Z,{expandAction:"click",className:R["left-tree"],treeData:En,showIcon:!0,height:G,selectedKeys:[L],expandedKeys:Ue,onExpand:pn,showLine:{showLeafIcon:!0},onSelect:Qe})})]}):(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,i.jsx)(x.Z,{description:"\u6682\u65E0\u811A\u672C",image:x.Z.PRESENTED_IMAGE_SIMPLE})})}),(0,i.jsx)(ne.ZP,{language:Se,value:oe,theme:ye,options:{readOnly:!Te,fontSize:12,lineNumbersMinChars:3,glyphMargin:!1},onMount:function(f){Be.current=f}})]}),ge&&(0,i.jsx)(n.fk,{value:oe,options:{lineNumbers:!0,lineWrapping:!0,styleActiveLine:!0,matchBrackets:!0,mode:Se,readOnly:!Te},onBeforeChange:function(f,P,F){de(F)},onChange:function(f,P,F){}}),(0,i.jsx)(X.default,{visible:an,treeData:b,currentNode:re,content:oe,socketMessage:Me,handleCancel:function(){Ze(!1)}}),(0,i.jsx)(M.default,{visible:cn,treeData:b,handleCancel:Dn})]})})},fe=le},90805:function(V,s,e){"use strict";e.r(s);var S=e(35290),_=e.n(S),d=e(30279),v=e.n(d),o=e(411),m=e.n(o),p=e(46686),D=e.n(p),O=e(63313),j=e.n(O),h=e(35913),E=e(12923),k=e(96878),y=e(77049),c=e(79279),x=e(76021),u=e(11527),I=function(W){var R=W.file,X=W.handleCancel,n=W.visible,t=h.Z.useForm(),a=D()(t,1),r=a[0],l=(0,O.useState)(!1),g=D()(l,2),M=g[0],B=g[1],z=function(){var T=m()(_()().mark(function C(Q){var ee;return _()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:B(!0),ee=v()(v()(v()({},R),Q),{},{originFilename:R.filename}),c.W.post("".concat(x.Z.apiPrefix,"scripts"),{data:ee}).then(function(i){var te=i.code,$=i.data;te===200&&(E.ZP.success("\u4FDD\u5B58\u6587\u4EF6\u6210\u529F"),X($)),B(!1)});case 3:case"end":return Z.stop()}},C)}));return function(Q){return T.apply(this,arguments)}}();return(0,O.useEffect)(function(){r.resetFields(),B(!1)},[R,n]),(0,u.jsx)(k.Z,{title:"\u4FDD\u5B58\u6587\u4EF6",open:n,forceRender:!0,centered:!0,maskClosable:!1,onOk:function(){r.validateFields().then(function(C){z(C)}).catch(function(C){console.log("Validate Failed:",C)})},onCancel:function(){return X()},confirmLoading:M,children:(0,u.jsxs)(h.Z,{form:r,layout:"vertical",name:"script_modal",initialValues:R,children:[(0,u.jsx)(h.Z.Item,{name:"filename",label:"\u6587\u4EF6\u540D",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6587\u4EF6\u540D"}],children:(0,u.jsx)(y.Z,{placeholder:"\u8BF7\u8F93\u5165\u6587\u4EF6\u540D"})}),(0,u.jsx)(h.Z.Item,{name:"path",label:"\u4FDD\u5B58\u76EE\u5F55",children:(0,u.jsx)(y.Z,{placeholder:"\u8BF7\u8F93\u5165\u4FDD\u5B58\u76EE\u5F55\uFF0C\u9ED8\u8BA4scripts\u76EE\u5F55"})})]})})};s.default=I},74069:function(V,s,e){"use strict";e.r(s);var S=e(35290),_=e.n(S),d=e(30279),v=e.n(d),o=e(411),m=e.n(o),p=e(46686),D=e.n(p),O=e(63313),j=e.n(O),h=e(35913),E=e(12923),k=e(96878),y=e(77049),c=e(79279),x=e(76021),u=e(11527),I=function(W){var R=W.file,X=W.handleCancel,n=W.visible,t=h.Z.useForm(),a=D()(t,1),r=a[0],l=(0,O.useState)(!1),g=D()(l,2),M=g[0],B=g[1],z=function(){var T=m()(_()().mark(function C(Q){var ee;return _()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:B(!0),ee=v()(v()({},R),Q),c.W.post("".concat(x.Z.apiPrefix,"scripts"),{data:ee}).then(function(i){var te=i.code,$=i.data;te===200&&(E.ZP.success("\u4FDD\u5B58\u6587\u4EF6\u6210\u529F"),X($)),B(!1)});case 3:case"end":return Z.stop()}},C)}));return function(Q){return T.apply(this,arguments)}}();return(0,O.useEffect)(function(){r.resetFields(),B(!1)},[R,n]),(0,u.jsx)(k.Z,{title:"\u8FD0\u884C\u8BBE\u7F6E",open:n,forceRender:!0,centered:!0,onCancel:function(){return X()},children:(0,u.jsx)(h.Z,{form:r,layout:"vertical",name:"setting_modal",initialValues:R,children:(0,u.jsx)(h.Z.Item,{name:"filename",label:"\u5F85\u5F00\u53D1",rules:[{required:!0,message:"\u5F85\u5F00\u53D1"}],children:(0,u.jsx)(y.Z,{placeholder:"\u5F85\u5F00\u53D1"})})})})};s.default=I},26579:function(V,s,e){"use strict";e.d(s,{F:function(){return p},e:function(){return m}});var S=e(46686),_=e.n(S),d=e(63313),v=e.n(d),o=e(72839),m=function(){var O=(0,d.useState)("100%"),j=_()(O,2),h=j[0],E=j[1],k=(0,d.useState)(0),y=_()(k,2),c=y[0],x=y[1],u=(0,d.useState)(-72),I=_()(u,2),ne=I[0],W=I[1],R=(0,d.useState)(!1),X=_()(R,2),n=X[0],t=X[1],a=(0,d.useMemo)(function(){return(0,o.ZP)()},[]),r=a.platform;return(0,d.useEffect)(function(){r==="mobile"&&document.body.offsetWidth<768?(E("auto"),x(0),W(0),t(!0)):(E("100%"),x(0),W(-72),t(!1))},[]),{headerStyle:{padding:"4px 16px 4px 15px",position:"sticky",top:0,left:0,zIndex:20,marginTop:ne,width:h,marginLeft:c},isPhone:n}},p=function(){var O=(0,d.useState)(),j=_()(O,2),h=j[0],E=j[1],k=function(){var c=window.matchMedia("(prefers-color-scheme: dark)"),x=localStorage.getItem("qinglong_dark_theme"),u=c.matches&&x!=="light"||x==="dark";E(u?"vs-dark":"vs")};return(0,d.useEffect)(function(){var y=window.matchMedia("(prefers-color-scheme: dark)"),c=localStorage.getItem("qinglong_dark_theme"),x=y.matches&&c!=="light"||c==="dark";E(x?"vs-dark":"vs");var u=function(ne){(c==="auto"||!c)&&(ne.matches?E("vs-dark"):E("vs"))};typeof y.addEventListener=="function"?y.addEventListener("change",u):typeof y.addListener=="function"&&y.addListener(u)},[]),{theme:h,reloadTheme:k}}},79034:function(V,s,e){"use strict";var S=e(93275).default,_=e(46686).default,d=e(9522).default,v=e(69946).default,o=e(94434).default,m=e(45212),p=e(80786),D=e(18060),O=e(1469),j=function(t){return t==null},h=Symbol("encodeFragmentIdentifier");function E(n){switch(n.arrayFormat){case"index":return function(a){return function(r,l){var g=r.length;return l===void 0||n.skipNull&&l===null||n.skipEmptyString&&l===""?r:l===null?[].concat(o(r),[[c(a,n),"[",g,"]"].join("")]):[].concat(o(r),[[c(a,n),"[",c(g,n),"]=",c(l,n)].join("")])}};case"bracket":return function(a){return function(r,l){return l===void 0||n.skipNull&&l===null||n.skipEmptyString&&l===""?r:l===null?[].concat(o(r),[[c(a,n),"[]"].join("")]):[].concat(o(r),[[c(a,n),"[]=",c(l,n)].join("")])}};case"colon-list-separator":return function(a){return function(r,l){return l===void 0||n.skipNull&&l===null||n.skipEmptyString&&l===""?r:l===null?[].concat(o(r),[[c(a,n),":list="].join("")]):[].concat(o(r),[[c(a,n),":list=",c(l,n)].join("")])}};case"comma":case"separator":case"bracket-separator":{var t=n.arrayFormat==="bracket-separator"?"[]=":"=";return function(a){return function(r,l){return l===void 0||n.skipNull&&l===null||n.skipEmptyString&&l===""?r:(l=l===null?"":l,r.length===0?[[c(a,n),t,c(l,n)].join("")]:[[r,c(l,n)].join(n.arrayFormatSeparator)])}}}default:return function(a){return function(r,l){return l===void 0||n.skipNull&&l===null||n.skipEmptyString&&l===""?r:l===null?[].concat(o(r),[c(a,n)]):[].concat(o(r),[[c(a,n),"=",c(l,n)].join("")])}}}}function k(n){var t;switch(n.arrayFormat){case"index":return function(a,r,l){if(t=/\[(\d*)\]$/.exec(a),a=a.replace(/\[\d*\]$/,""),!t){l[a]=r;return}l[a]===void 0&&(l[a]={}),l[a][t[1]]=r};case"bracket":return function(a,r,l){if(t=/(\[\])$/.exec(a),a=a.replace(/\[\]$/,""),!t){l[a]=r;return}if(l[a]===void 0){l[a]=[r];return}l[a]=[].concat(l[a],r)};case"colon-list-separator":return function(a,r,l){if(t=/(:list)$/.exec(a),a=a.replace(/:list$/,""),!t){l[a]=r;return}if(l[a]===void 0){l[a]=[r];return}l[a]=[].concat(l[a],r)};case"comma":case"separator":return function(a,r,l){var g=typeof r=="string"&&r.includes(n.arrayFormatSeparator),M=typeof r=="string"&&!g&&x(r,n).includes(n.arrayFormatSeparator);r=M?x(r,n):r;var B=g||M?r.split(n.arrayFormatSeparator).map(function(z){return x(z,n)}):r===null?r:x(r,n);l[a]=B};case"bracket-separator":return function(a,r,l){var g=/(\[\])$/.test(a);if(a=a.replace(/\[\]$/,""),!g){l[a]=r&&x(r,n);return}var M=r===null?[]:r.split(n.arrayFormatSeparator).map(function(B){return x(B,n)});if(l[a]===void 0){l[a]=M;return}l[a]=[].concat(l[a],M)};default:return function(a,r,l){if(l[a]===void 0){l[a]=r;return}l[a]=[].concat(l[a],r)}}}function y(n){if(typeof n!="string"||n.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function c(n,t){return t.encode?t.strict?m(n):encodeURIComponent(n):n}function x(n,t){return t.decode?p(n):n}function u(n){return Array.isArray(n)?n.sort():v(n)==="object"?u(Object.keys(n)).sort(function(t,a){return Number(t)-Number(a)}).map(function(t){return n[t]}):n}function I(n){var t=n.indexOf("#");return t!==-1&&(n=n.slice(0,t)),n}function ne(n){var t="",a=n.indexOf("#");return a!==-1&&(t=n.slice(a)),t}function W(n){n=I(n);var t=n.indexOf("?");return t===-1?"":n.slice(t+1)}function R(n,t){return t.parseNumbers&&!Number.isNaN(Number(n))&&typeof n=="string"&&n.trim()!==""?n=Number(n):t.parseBooleans&&n!==null&&(n.toLowerCase()==="true"||n.toLowerCase()==="false")&&(n=n.toLowerCase()==="true"),n}function X(n,t){t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t),y(t.arrayFormatSeparator);var a=k(t),r=Object.create(null);if(typeof n!="string"||(n=n.trim().replace(/^[?#&]/,""),!n))return r;var l=d(n.split("&")),g;try{for(l.s();!(g=l.n()).done;){var M=g.value;if(M!==""){var B=D(t.decode?M.replace(/\+/g," "):M,"="),z=_(B,2),T=z[0],C=z[1];C=C===void 0?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?C:x(C,t),a(x(T,t),C,r)}}}catch(le){l.e(le)}finally{l.f()}for(var Q=0,ee=Object.keys(r);Q<ee.length;Q++){var ae=ee[Q],Z=r[ae];if(v(Z)==="object"&&Z!==null)for(var i=0,te=Object.keys(Z);i<te.length;i++){var $=te[i];Z[$]=R(Z[$],t)}else r[ae]=R(Z,t)}return t.sort===!1?r:(t.sort===!0?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(function(le,fe){var se=r[fe];return Boolean(se)&&v(se)==="object"&&!Array.isArray(se)?le[fe]=u(se):le[fe]=se,le},Object.create(null))}s.extract=W,s.parse=X,s.stringify=function(n,t){if(!n)return"";t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t),y(t.arrayFormatSeparator);for(var a=function(C){return t.skipNull&&j(n[C])||t.skipEmptyString&&n[C]===""},r=E(t),l={},g=0,M=Object.keys(n);g<M.length;g++){var B=M[g];a(B)||(l[B]=n[B])}var z=Object.keys(l);return t.sort!==!1&&z.sort(t.sort),z.map(function(T){var C=n[T];return C===void 0?"":C===null?c(T,t):Array.isArray(C)?C.length===0&&t.arrayFormat==="bracket-separator"?c(T,t)+"[]":C.reduce(r(T),[]).join("&"):c(T,t)+"="+c(C,t)}).filter(function(T){return T.length>0}).join("&")},s.parseUrl=function(n,t){t=Object.assign({decode:!0},t);var a=D(n,"#"),r=_(a,2),l=r[0],g=r[1];return Object.assign({url:l.split("?")[0]||"",query:X(W(n),t)},t&&t.parseFragmentIdentifier&&g?{fragmentIdentifier:x(g,t)}:{})},s.stringifyUrl=function(n,t){t=Object.assign(S({encode:!0,strict:!0},h,!0),t);var a=I(n.url).split("?")[0]||"",r=s.extract(n.url),l=s.parse(r,{sort:!1}),g=Object.assign(l,n.query),M=s.stringify(g,t);M&&(M="?".concat(M));var B=ne(n.url);return n.fragmentIdentifier&&(B="#".concat(t[h]?c(n.fragmentIdentifier,t):n.fragmentIdentifier)),"".concat(a).concat(M).concat(B)},s.pick=function(n,t,a){a=Object.assign(S({parseFragmentIdentifier:!0},h,!1),a);var r=s.parseUrl(n,a),l=r.url,g=r.query,M=r.fragmentIdentifier;return s.stringifyUrl({url:l,query:O(g,t),fragmentIdentifier:M},a)},s.exclude=function(n,t,a){var r=Array.isArray(t)?function(l){return!t.includes(l)}:function(l,g){return!t(l,g)};return s.pick(n,r,a)}},18060:function(V){"use strict";V.exports=function(s,e){if(!(typeof s=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(e==="")return[s];var S=s.indexOf(e);return S===-1?[s]:[s.slice(0,S),s.slice(S+e.length)]}},45212:function(V){"use strict";V.exports=function(s){return encodeURIComponent(s).replace(/[!'()*]/g,function(e){return"%".concat(e.charCodeAt(0).toString(16).toUpperCase())})}},8610:function(V,s,e){"use strict";var S=e(97104);s.Z=S.Z},80786:function(V){"use strict";var s="%[a-f0-9]{2}",e=new RegExp(s,"gi"),S=new RegExp("("+s+")+","gi");function _(o,m){try{return decodeURIComponent(o.join(""))}catch(O){}if(o.length===1)return o;m=m||1;var p=o.slice(0,m),D=o.slice(m);return Array.prototype.concat.call([],_(p),_(D))}function d(o){try{return decodeURIComponent(o)}catch(D){for(var m=o.match(e),p=1;p<m.length;p++)o=_(m,p).join(""),m=o.match(e);return o}}function v(o){for(var m={"%FE%FF":"\uFFFD\uFFFD","%FF%FE":"\uFFFD\uFFFD"},p=S.exec(o);p;){try{m[p[0]]=decodeURIComponent(p[0])}catch(E){var D=d(p[0]);D!==p[0]&&(m[p[0]]=D)}p=S.exec(o)}m["%C2"]="\uFFFD";for(var O=Object.keys(m),j=0;j<O.length;j++){var h=O[j];o=o.replace(new RegExp(h,"g"),m[h])}return o}V.exports=function(o){if(typeof o!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof o+"`");try{return o=o.replace(/\+/g," "),decodeURIComponent(o)}catch(m){return v(o)}}},1469:function(V){"use strict";V.exports=function(s,e){for(var S={},_=Object.keys(s),d=Array.isArray(e),v=0;v<_.length;v++){var o=_[v],m=s[o];(d?e.indexOf(o)!==-1:e(o,m,s))&&(S[o]=m)}return S}},9522:function(V,s,e){var S=e(94945);function _(d,v){var o=typeof Symbol!="undefined"&&d[Symbol.iterator]||d["@@iterator"];if(!o){if(Array.isArray(d)||(o=S(d))||v&&d&&typeof d.length=="number"){o&&(d=o);var m=0,p=function(){};return{s:p,n:function(){return m>=d.length?{done:!0}:{done:!1,value:d[m++]}},e:function(E){throw E},f:p}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D=!0,O=!1,j;return{s:function(){o=o.call(d)},n:function(){var E=o.next();return D=E.done,E},e:function(E){O=!0,j=E},f:function(){try{!D&&o.return!=null&&o.return()}finally{if(O)throw j}}}}V.exports=_,V.exports.__esModule=!0,V.exports.default=V.exports}}]);
