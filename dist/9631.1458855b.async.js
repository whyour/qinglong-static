(self.webpackChunk=self.webpackChunk||[]).push([[9631],{19631:function(n,t,e){"use strict";e.d(t,{Z:function(){return z}});var r=e(23230),i=e(63313),o=function(n){return function(t,e){var r=(0,i.useRef)(!1);n((function(){return function(){r.current=!1}}),[]),n((function(){if(r.current)return t();r.current=!0}),e)}},u=o(i.useEffect),a=function(n,t){var e=t.manual,o=t.ready,a=void 0===o||o,c=t.defaultParams,l=void 0===c?[]:c,f=t.refreshDeps,s=void 0===f?[]:f,v=t.refreshDepsAction,d=(0,i.useRef)(!1);return d.current=!1,u((function(){!e&&a&&(d.current=!0,n.run.apply(n,(0,r.ev)([],(0,r.CR)(l),!1)))}),[a]),u((function(){d.current||e||(d.current=!0,v?v():n.refresh())}),(0,r.ev)([],(0,r.CR)(s),!1)),{onBefore:function(){if(!a)return{stopNow:!0}}}};a.onInit=function(n){var t=n.ready,e=void 0===t||t;return{loading:!n.manual&&e}};var c=a;function l(n,t){var e=(0,i.useRef)({deps:t,obj:void 0,initialized:!1}).current;return!1!==e.initialized&&function(n,t){if(n===t)return!0;for(var e=0;e<n.length;e++)if(!Object.is(n[e],t[e]))return!1;return!0}(e.deps,t)||(e.deps=t,e.obj=n(),e.initialized=!0),e.obj}var f=function(n){var t=(0,i.useRef)(n);return t.current=n,t},s=function(n){return"function"==typeof n},v=function(n){var t=f(n);(0,i.useEffect)((function(){return function(){t.current()}}),[])},d=new Map,p=new Map,h={},y=function(n,t){return h[n]||(h[n]=[]),h[n].push(t),function(){var e=h[n].indexOf(t);h[n].splice(e,1)}},m=function(n,t){var e=t.cacheKey,o=t.cacheTime,u=void 0===o?3e5:o,a=t.staleTime,c=void 0===a?0:a,f=t.setCache,s=t.getCache,m=(0,i.useRef)(),g=(0,i.useRef)(),b=function(n,t){f?f(t):function(n,t,e){var i=d.get(n);(null==i?void 0:i.timer)&&clearTimeout(i.timer);var o=void 0;t>-1&&(o=setTimeout((function(){d.delete(n)}),t)),d.set(n,(0,r.pi)((0,r.pi)({},e),{timer:o}))}(n,u,t),function(n,t){h[n]&&h[n].forEach((function(n){return n(t)}))}(n,t.data)},w=function(n,t){return void 0===t&&(t=[]),s?s(t):function(n){return d.get(n)}(n)};return l((function(){if(e){var t=w(e);t&&Object.hasOwnProperty.call(t,"data")&&(n.state.data=t.data,n.state.params=t.params,(-1===c||(new Date).getTime()-t.time<=c)&&(n.state.loading=!1)),m.current=y(e,(function(t){n.setState({data:t})}))}}),[]),v((function(){var n;null===(n=m.current)||void 0===n||n.call(m)})),e?{onBefore:function(n){var t=w(e,n);return t&&Object.hasOwnProperty.call(t,"data")?-1===c||(new Date).getTime()-t.time<=c?{loading:!1,data:null==t?void 0:t.data,error:void 0,returnNow:!0}:{data:null==t?void 0:t.data,error:void 0}:{}},onRequest:function(n,t){var i=function(n){return p.get(n)}(e);return i&&i!==g.current||(i=n.apply(void 0,(0,r.ev)([],(0,r.CR)(t),!1)),g.current=i,function(n,t){p.set(n,t),t.then((function(t){return p.delete(n),t})).catch((function(){p.delete(n)}))}(e,i)),{servicePromise:i}},onSuccess:function(t,r){var i;e&&(null===(i=m.current)||void 0===i||i.call(m),b(e,{data:t,params:r,time:(new Date).getTime()}),m.current=y(e,(function(t){n.setState({data:t})})))},onMutate:function(t){var r;e&&(null===(r=m.current)||void 0===r||r.call(m),b(e,{data:t,params:n.state.params,time:(new Date).getTime()}),m.current=y(e,(function(t){n.setState({data:t})})))}}:{}},g=e(66292),b=e.n(g),w=function(n,t){var e=t.debounceWait,o=t.debounceLeading,u=t.debounceTrailing,a=t.debounceMaxWait,c=(0,i.useRef)(),l=(0,i.useMemo)((function(){var n={};return void 0!==o&&(n.leading=o),void 0!==u&&(n.trailing=u),void 0!==a&&(n.maxWait=a),n}),[o,u,a]);return(0,i.useEffect)((function(){if(e){var t=n.runAsync.bind(n);return c.current=b()((function(n){n()}),e,l),n.runAsync=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return new Promise((function(e,i){var o;null===(o=c.current)||void 0===o||o.call(c,(function(){t.apply(void 0,(0,r.ev)([],(0,r.CR)(n),!1)).then(e).catch(i)}))}))},function(){var e;null===(e=c.current)||void 0===e||e.cancel(),n.runAsync=t}}}),[e,l]),e?{onCancel:function(){var n;null===(n=c.current)||void 0===n||n.cancel()}}:{}},R=function(n,t){var e=t.loadingDelay,r=t.ready,o=(0,i.useRef)();if(!e)return{};var u=function(){o.current&&clearTimeout(o.current)};return{onBefore:function(){return u(),!1!==r&&(o.current=setTimeout((function(){n.setState({loading:!0})}),e)),{loading:!1}},onFinally:function(){u()},onCancel:function(){u()}}},C=!("undefined"==typeof window||!window.document||!window.document.createElement);function O(){return!C||"hidden"!==document.visibilityState}var P=[];if(C){window.addEventListener("visibilitychange",(function(){if(O())for(var n=0;n<P.length;n++){(0,P[n])()}}),!1)}var S=function(n){return P.push(n),function(){var t=P.indexOf(n);P.splice(t,1)}},T=function(n,t){var e=t.pollingInterval,r=t.pollingWhenHidden,o=void 0===r||r,a=t.pollingErrorRetryCount,c=void 0===a?-1:a,l=(0,i.useRef)(),f=(0,i.useRef)(),s=(0,i.useRef)(0),v=function(){var n;l.current&&clearTimeout(l.current),null===(n=f.current)||void 0===n||n.call(f)};return u((function(){e||v()}),[e]),e?{onBefore:function(){v()},onError:function(){s.current+=1},onSuccess:function(){s.current=0},onFinally:function(){-1===c||-1!==c&&s.current<=c?l.current=setTimeout((function(){o||O()?n.refresh():f.current=S((function(){n.refresh()}))}),e):s.current=0},onCancel:function(){v()}}:{}};var E=[];if(C){var j=function(){if(O()&&(!C||void 0===navigator.onLine||navigator.onLine))for(var n=0;n<E.length;n++){(0,E[n])()}};window.addEventListener("visibilitychange",j,!1),window.addEventListener("focus",j,!1)}var A=function(n){return E.push(n),function(){var t=E.indexOf(n);t>-1&&E.splice(t,1)}},x=function(n,t){var e=t.refreshOnWindowFocus,o=t.focusTimespan,u=void 0===o?5e3:o,a=(0,i.useRef)(),c=function(){var n;null===(n=a.current)||void 0===n||n.call(a)};return(0,i.useEffect)((function(){if(e){var t=(i=n.refresh.bind(n),o=u,l=!1,function(){for(var n=[],t=0;t<arguments.length;t++)n[t]=arguments[t];l||(l=!0,i.apply(void 0,(0,r.ev)([],(0,r.CR)(n),!1)),setTimeout((function(){l=!1}),o))});a.current=A((function(){t()}))}var i,o,l;return function(){c()}}),[e,u]),v((function(){c()})),{}},H=function(n,t){var e=t.retryInterval,r=t.retryCount,o=(0,i.useRef)(),u=(0,i.useRef)(0),a=(0,i.useRef)(!1);return r?{onBefore:function(){a.current||(u.current=0),a.current=!1,o.current&&clearTimeout(o.current)},onSuccess:function(){u.current=0},onError:function(){if(u.current+=1,-1===r||u.current<=r){var t=null!=e?e:Math.min(1e3*Math.pow(2,u.current),3e4);o.current=setTimeout((function(){a.current=!0,n.refresh()}),t)}else u.current=0},onCancel:function(){u.current=0,o.current&&clearTimeout(o.current)}}:{}},k=e(38209),B=e.n(k),M=function(n,t){var e=t.throttleWait,o=t.throttleLeading,u=t.throttleTrailing,a=(0,i.useRef)(),c={};return void 0!==o&&(c.leading=o),void 0!==u&&(c.trailing=u),(0,i.useEffect)((function(){if(e){var t=n.runAsync.bind(n);return a.current=B()((function(n){n()}),e,c),n.runAsync=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return new Promise((function(e,i){var o;null===(o=a.current)||void 0===o||o.call(a,(function(){t.apply(void 0,(0,r.ev)([],(0,r.CR)(n),!1)).then(e).catch(i)}))}))},function(){var e;n.runAsync=t,null===(e=a.current)||void 0===e||e.cancel()}}}),[e,o,u]),e?{onCancel:function(){var n;null===(n=a.current)||void 0===n||n.cancel()}}:{}};var D=function(n){var t=(0,i.useRef)(n);t.current=(0,i.useMemo)((function(){return n}),[n]);var e=(0,i.useRef)();return e.current||(e.current=function(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return t.current.apply(this,n)}),e.current},F=function(n){(0,i.useEffect)((function(){null==n||n()}),[])},I=function(){var n=(0,r.CR)((0,i.useState)({}),2)[1];return(0,i.useCallback)((function(){return n({})}),[])},L=function(){function n(n,t,e,i){void 0===i&&(i={}),this.serviceRef=n,this.options=t,this.subscribe=e,this.initState=i,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=(0,r.pi)((0,r.pi)((0,r.pi)({},this.state),{loading:!t.manual}),i)}return n.prototype.setState=function(n){void 0===n&&(n={}),this.state=(0,r.pi)((0,r.pi)({},this.state),n),this.subscribe()},n.prototype.runPluginHandler=function(n){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];var i=this.pluginImpls.map((function(e){var i;return null===(i=e[n])||void 0===i?void 0:i.call.apply(i,(0,r.ev)([e],(0,r.CR)(t),!1))})).filter(Boolean);return Object.assign.apply(Object,(0,r.ev)([{}],(0,r.CR)(i),!1))},n.prototype.runAsync=function(){for(var n,t,e,i,o,u,a,c,l,f,s=[],v=0;v<arguments.length;v++)s[v]=arguments[v];return(0,r.mG)(this,void 0,void 0,(function(){var v,d,p,h,y,m,g,b,w,R,C;return(0,r.Jh)(this,(function(O){switch(O.label){case 0:if(this.count+=1,v=this.count,d=this.runPluginHandler("onBefore",s),p=d.stopNow,h=void 0!==p&&p,y=d.returnNow,m=void 0!==y&&y,g=(0,r._T)(d,["stopNow","returnNow"]),h)return[2,new Promise((function(){}))];if(this.setState((0,r.pi)({loading:!0,params:s},g)),m)return[2,Promise.resolve(g.data)];null===(t=(n=this.options).onBefore)||void 0===t||t.call(n,s),O.label=1;case 1:return O.trys.push([1,3,,4]),(b=this.runPluginHandler("onRequest",this.serviceRef.current,s).servicePromise)||(b=(C=this.serviceRef).current.apply(C,(0,r.ev)([],(0,r.CR)(s),!1))),[4,b];case 2:return w=O.sent(),v!==this.count?[2,new Promise((function(){}))]:(this.setState({data:w,error:void 0,loading:!1}),null===(i=(e=this.options).onSuccess)||void 0===i||i.call(e,w,s),this.runPluginHandler("onSuccess",w,s),null===(u=(o=this.options).onFinally)||void 0===u||u.call(o,s,w,void 0),v===this.count&&this.runPluginHandler("onFinally",s,w,void 0),[2,w]);case 3:if(R=O.sent(),v!==this.count)return[2,new Promise((function(){}))];throw this.setState({error:R,loading:!1}),null===(c=(a=this.options).onError)||void 0===c||c.call(a,R,s),this.runPluginHandler("onError",R,s),null===(f=(l=this.options).onFinally)||void 0===f||f.call(l,s,void 0,R),v===this.count&&this.runPluginHandler("onFinally",s,void 0,R),R;case 4:return[2]}}))}))},n.prototype.run=function(){for(var n=this,t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.runAsync.apply(this,(0,r.ev)([],(0,r.CR)(t),!1)).catch((function(t){n.options.onError||console.error(t)}))},n.prototype.cancel=function(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")},n.prototype.refresh=function(){this.run.apply(this,(0,r.ev)([],(0,r.CR)(this.state.params||[]),!1))},n.prototype.refreshAsync=function(){return this.runAsync.apply(this,(0,r.ev)([],(0,r.CR)(this.state.params||[]),!1))},n.prototype.mutate=function(n){var t=s(n)?n(this.state.data):n;this.runPluginHandler("onMutate",t),this.setState({data:t})},n}(),W=L;var N=function(n,t,e){void 0===t&&(t={}),void 0===e&&(e=[]);var i=t.manual,o=void 0!==i&&i,u=(0,r._T)(t,["manual"]),a=(0,r.pi)({manual:o},u),c=f(n),s=I(),d=l((function(){var n=e.map((function(n){var t;return null===(t=null==n?void 0:n.onInit)||void 0===t?void 0:t.call(n,a)})).filter(Boolean);return new W(c,a,s,Object.assign.apply(Object,(0,r.ev)([{}],(0,r.CR)(n),!1)))}),[]);return d.options=a,d.pluginImpls=e.map((function(n){return n(d,a)})),F((function(){if(!o){var n=d.state.params||t.defaultParams||[];d.run.apply(d,(0,r.ev)([],(0,r.CR)(n),!1))}})),v((function(){d.cancel()})),{loading:d.state.loading,data:d.state.data,error:d.state.error,params:d.state.params||[],cancel:D(d.cancel.bind(d)),refresh:D(d.refresh.bind(d)),refreshAsync:D(d.refreshAsync.bind(d)),run:D(d.run.bind(d)),runAsync:D(d.runAsync.bind(d)),mutate:D(d.mutate.bind(d))}};var z=function(n,t,e){return N(n,t,(0,r.ev)((0,r.ev)([],(0,r.CR)(e||[]),!1),[w,R,T,x,M,c,m,H],!1))}},38209:function(n,t,e){var r=e(66292),i=e(36838);n.exports=function(n,t,e){var o=!0,u=!0;if("function"!=typeof n)throw new TypeError("Expected a function");return i(e)&&(o="leading"in e?!!e.leading:o,u="trailing"in e?!!e.trailing:u),r(n,t,{leading:o,maxWait:t,trailing:u})}},23230:function(n,t,e){"use strict";e.d(t,{CR:function(){return a},Jh:function(){return u},_T:function(){return i},ev:function(){return c},mG:function(){return o},pi:function(){return r}});var r=function(){return r=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},r.apply(this,arguments)};function i(n,t){var e={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&t.indexOf(r)<0&&(e[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(e[r[i]]=n[r[i]])}return e}function o(n,t,e,r){return new(e||(e=Promise))((function(i,o){function u(n){try{c(r.next(n))}catch(n){o(n)}}function a(n){try{c(r.throw(n))}catch(n){o(n)}}function c(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(u,a)}c((r=r.apply(n,t||[])).next())}))}function u(n,t){var e,r,i,o,u={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(a){return function(c){return function(a){if(e)throw new TypeError("Generator is already executing.");for(;o&&(o=0,a[0]&&(u=0)),u;)try{if(e=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return u.label++,{value:a[1],done:!1};case 5:u.label++,r=a[1],a=[0];continue;case 7:a=u.ops.pop(),u.trys.pop();continue;default:if(!(i=u.trys,(i=i.length>0&&i[i.length-1])||6!==a[0]&&2!==a[0])){u=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){u.label=a[1];break}if(6===a[0]&&u.label<i[1]){u.label=i[1],i=a;break}if(i&&u.label<i[2]){u.label=i[2],u.ops.push(a);break}i[2]&&u.ops.pop(),u.trys.pop();continue}a=t.call(n,u)}catch(n){a=[6,n],r=0}finally{e=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}Object.create;function a(n,t){var e="function"==typeof Symbol&&n[Symbol.iterator];if(!e)return n;var r,i,o=e.call(n),u=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)u.push(r.value)}catch(n){i={error:n}}finally{try{r&&!r.done&&(e=o.return)&&e.call(o)}finally{if(i)throw i.error}}return u}function c(n,t,e){if(e||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return n.concat(r||Array.prototype.slice.call(t))}Object.create}}]);