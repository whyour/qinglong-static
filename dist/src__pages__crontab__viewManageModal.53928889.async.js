"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[349],{22800:function(e,n){n.Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M192 474h672q8 0 8 8v60q0 8-8 8H160q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"}},19919:function(e,n,t){t.d(n,{Z:function(){return w}});var r=t(2053),i=t(53162),o=t(75271),a=t(98037),c=t(57904),u=t(82187),s=t.n(u),l=t(3083),d=t(28771),f=t(39765),g=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],h=o.forwardRef((function(e,n){var t=e.className,u=e.component,h=e.viewBox,v=e.spin,p=e.rotate,y=e.tabIndex,m=e.onClick,k=e.children,w=(0,i.Z)(e,g),C=o.useRef(),D=(0,l.x1)(C,n);(0,f.Kp)(Boolean(u||k),"Should have `component` prop or `children`."),(0,f.C3)(C);var b=o.useContext(d.Z),I=b.prefixCls,O=void 0===I?"anticon":I,S=b.rootClassName,P=s()(S,O,(0,c.Z)({},"".concat(O,"-spin"),!!v&&!!u),t),T=s()((0,c.Z)({},"".concat(O,"-spin"),!!v)),x=p?{msTransform:"rotate(".concat(p,"deg)"),transform:"rotate(".concat(p,"deg)")}:void 0,Z=(0,a.Z)((0,a.Z)({},f.vD),{},{className:T,style:x,viewBox:h});h||delete Z.viewBox;var M=y;return void 0===M&&m&&(M=-1),o.createElement("span",(0,r.Z)({role:"img"},w,{ref:D,tabIndex:M,onClick:m,className:P}),u?o.createElement(u,Z,k):k?((0,f.Kp)(Boolean(h)||1===o.Children.count(k)&&o.isValidElement(k)&&"use"===o.Children.only(k).type,"Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),o.createElement("svg",(0,r.Z)({},Z,{viewBox:h}),k)):null)}));h.displayName="AntdIcon";var v=h,p=["type","children"],y=new Set;function m(e){return Boolean("string"==typeof e&&e.length&&!y.has(e))}function k(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=e[n];if(m(t)){var r=document.createElement("script");r.setAttribute("src",t),r.setAttribute("data-namespace",t),e.length>n+1&&(r.onload=function(){k(e,n+1)},r.onerror=function(){k(e,n+1)}),y.add(t),document.body.appendChild(r)}}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.scriptUrl,t=e.extraCommonProps,a=void 0===t?{}:t;n&&"undefined"!=typeof document&&"undefined"!=typeof window&&"function"==typeof document.createElement&&(Array.isArray(n)?k(n.reverse()):k([n]));var c=o.forwardRef((function(e,n){var t=e.type,c=e.children,u=(0,i.Z)(e,p),s=null;return e.type&&(s=o.createElement("use",{xlinkHref:"#".concat(t)})),c&&(s=c),o.createElement(v,(0,r.Z)({},a,u,{ref:n}),s)}));return c.displayName="Iconfont",c}},28423:function(e,n,t){var r=t(2053),i=t(75271),o=t(17338),a=t(48881),c=function(e,n){return i.createElement(a.Z,(0,r.Z)({},e,{ref:n,icon:o.Z}))},u=i.forwardRef(c);n.Z=u},37559:function(e,n,t){t.d(n,{Z:function(){return u}});var r=t(2053),i=t(75271),o={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"minus-circle",theme:"outlined"},a=t(48881),c=function(e,n){return i.createElement(a.Z,(0,r.Z)({},e,{ref:n,icon:o}))};var u=i.forwardRef(c)},21288:function(e,n,t){var r=t(2053),i=t(75271),o=t(22800),a=t(48881),c=function(e,n){return i.createElement(a.Z,(0,r.Z)({},e,{ref:n,icon:o.Z}))},u=i.forwardRef(c);n.Z=u},36199:function(e,n,t){t.r(n);var r=t(15558),i=t.n(r),o=t(26068),a=t.n(o),c=t(48305),u=t.n(c),s=t(67825),l=t.n(s),d=t(72317),f=t(75271),g=t(50691),h=t(9171),v=t(63505),p=t(45520),y=t(61508),m=t(93481),k=t(10948),w=t(16314),C=t(3475),D=t(28423),b=t(88939),I=t(12363),O=t(18708),S=t(78637),P=t(4690),T=t(42208),x=t(52676),Z=["index","moveRow","className","style"],M=g.Z.Text,R="DragableBodyRow",N=function(e){var n=e.index,t=e.moveRow,r=e.className,i=e.style,o=l()(e,Z),c=(0,f.useRef)(),s=(0,I.L)({accept:R,collect:function(e){var t=(e.getItem()||{}).index;return t===n?{}:{isOver:e.isOver(),dropClassName:t<n?" drop-over-downward":" drop-over-upward"}},drop:function(e){t(e.index,n)}}),d=u()(s,2),g=d[0],h=g.isOver,v=g.dropClassName,p=d[1],y=(0,O.c)({type:R,item:{index:n},collect:function(e){return{isDragging:e.isDragging()}}});return p((0,u()(y,2)[1])(c)),(0,x.jsx)("tr",a()({ref:c,className:"".concat(r).concat(h?v:""),style:a()({cursor:"move"},i)},o))};n.default=function(e){var n=e.cronViews,t=e.handleCancel,r=e.cronViewChange,o=function(e){return g.filter((function(e){return!e.isDisabled})).length<=1&&!e.isDisabled},c=[{title:d.ZP.get("名称"),dataIndex:"name",key:"name",render:function(e){return"全部任务"===e?d.ZP.get("全部任务"):e}},{title:d.ZP.get("类型"),dataIndex:"type",key:"type",render:function(e){return 1===e?d.ZP.get("系统"):d.ZP.get("个人")}},{title:d.ZP.get("显示"),key:"isDisabled",dataIndex:"isDisabled",width:100,render:function(e,n,t){return(0,x.jsx)(h.Z,{disabled:o(n),checked:!n.isDisabled,onChange:function(e){return U(e,n,t)}})}},{title:d.ZP.get("操作"),key:"action",width:100,render:function(e,n,t){return 1!==n.type?(0,x.jsxs)(v.Z,{size:"middle",children:[(0,x.jsx)("a",{onClick:function(){return A(n,t)},children:(0,x.jsx)(D.Z,{})}),!o(n)&&(0,x.jsx)("a",{onClick:function(){return z(n,t)},children:(0,x.jsx)(b.Z,{})})]}):"-"}}],s=(0,f.useState)([]),l=u()(s,2),g=l[0],I=l[1],O=(0,f.useState)(!1),Z=u()(O,2),R=Z[0],j=Z[1],E=(0,f.useState)(null),H=u()(E,2),B=H[0],L=H[1],A=function(e,n){L(e),j(!0)},z=function(e,n){p.Z.confirm({title:d.ZP.get("确认删除"),content:(0,x.jsxs)(x.Fragment,{children:[d.ZP.get("确认删除视图")," ",(0,x.jsx)(M,{style:{wordBreak:"break-all"},type:"warning",children:e.name})," ",d.ZP.get("吗")]}),onOk:function(){w.W.delete("".concat(C.Z.apiPrefix,"crons/views"),{data:[e.id]}).then((function(e){var n=e.code;e.data;200===n&&(y.ZP.success(d.ZP.get("删除成功")),r())}))}})},U=function(e,n,t){w.W.put("".concat(C.Z.apiPrefix,"crons/views/").concat(e?"enable":"disable"),[n.id]).then((function(n){var o=n.code;n.data;if(200===o){var c=i()(g);c.splice(t,1,a()(a()({},g[t]),{},{isDisabled:!e})),I(c),r()}}))},q={body:{row:N}},F=(0,f.useCallback)((function(e,n){if(e!==n){var t=g[e];w.W.put("".concat(C.Z.apiPrefix,"crons/views/move"),{fromIndex:e,toIndex:n,id:t.id}).then((function(o){var c=o.code,u=o.data;if(200===c){var s=i()(g);s.splice(e,1),s.splice(n,0,a()(a()({},t),u)),I(s),r()}}))}}),[g]);return(0,f.useEffect)((function(){I(n)}),[n]),(0,x.jsxs)(p.Z,{title:d.ZP.get("视图管理"),open:!0,centered:!0,width:620,onCancel:function(){return t()},className:"view-manage-modal",forceRender:!0,footer:!1,maskClosable:!1,children:[(0,x.jsx)(v.Z,{style:{display:"flex",justifyContent:"flex-end",marginBottom:10},children:(0,x.jsx)(m.Z,{type:"primary",onClick:function(){L(null),j(!0)},children:d.ZP.get("创建视图")},"2")}),(0,x.jsx)(S.W,{backend:P.PD,children:(0,x.jsx)(k.Z,{bordered:!0,columns:c,pagination:!1,dataSource:g,rowKey:"id",size:"middle",style:{marginBottom:20},components:q,onRow:function(e,n){return{index:n,moveRow:F}}})}),R&&(0,x.jsx)(T.default,{view:B,handleCancel:function(e){j(!1),r(e)}})]})}},9171:function(e,n,t){t.d(n,{Z:function(){return C}});var r=t(2053),i=t(57904),o=t(24727),a=t(82187),c=t.n(a),u=t(99459),s=t(53162),l=t(75271),d=t(6522),f=t(1260),g=l.forwardRef((function(e,n){var t,r=e.prefixCls,o=void 0===r?"rc-switch":r,a=e.className,g=e.checked,h=e.defaultChecked,v=e.disabled,p=e.loadingIcon,y=e.checkedChildren,m=e.unCheckedChildren,k=e.onClick,w=e.onChange,C=e.onKeyDown,D=(0,s.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),b=(0,d.Z)(!1,{value:g,defaultValue:h}),I=(0,u.Z)(b,2),O=I[0],S=I[1];function P(e,n){var t=O;return v||(S(t=e),null==w||w(t,n)),t}var T=c()(o,a,(t={},(0,i.Z)(t,"".concat(o,"-checked"),O),(0,i.Z)(t,"".concat(o,"-disabled"),v),t));return l.createElement("button",Object.assign({},D,{type:"button",role:"switch","aria-checked":O,disabled:v,className:T,ref:n,onKeyDown:function(e){e.which===f.Z.LEFT?P(!1,e):e.which===f.Z.RIGHT&&P(!0,e),null==C||C(e)},onClick:function(e){var n=P(!O,e);null==k||k(n,e)}}),p,l.createElement("span",{className:"".concat(o,"-inner")},O?y:m))}));g.displayName="Switch";var h=g,v=t(96820),p=t(30107),y=t(38470),m=t(74244),k=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)n.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(t[r[i]]=e[r[i]])}return t},w=l.forwardRef((function(e,n){var t=e.prefixCls,a=e.size,u=e.disabled,s=e.loading,d=e.className,f=void 0===d?"":d,g=k(e,["prefixCls","size","disabled","loading","className"]),w=l.useContext(v.E_),C=w.getPrefixCls,D=w.direction,b=l.useContext(y.Z),I=l.useContext(p.Z),O=(null!=u?u:I)||s,S=C("switch",t),P=l.createElement("div",{className:"".concat(S,"-handle")},s&&l.createElement(o.Z,{className:"".concat(S,"-loading-icon")})),T=c()((0,i.Z)((0,i.Z)((0,i.Z)({},"".concat(S,"-small"),"small"===(a||b)),"".concat(S,"-loading"),s),"".concat(S,"-rtl"),"rtl"===D),f);return l.createElement(m.Z,{insertExtraNode:!0},l.createElement(h,(0,r.Z)({},g,{prefixCls:S,className:T,disabled:O,ref:n,loadingIcon:P})))}));w.__ANT_SWITCH=!0;var C=w},3341:function(e){e.exports=function e(n,t){if(n===t)return!0;if(n&&t&&"object"==typeof n&&"object"==typeof t){if(n.constructor!==t.constructor)return!1;var r,i,o;if(Array.isArray(n)){if((r=n.length)!=t.length)return!1;for(i=r;0!=i--;)if(!e(n[i],t[i]))return!1;return!0}if(n.constructor===RegExp)return n.source===t.source&&n.flags===t.flags;if(n.valueOf!==Object.prototype.valueOf)return n.valueOf()===t.valueOf();if(n.toString!==Object.prototype.toString)return n.toString()===t.toString();if((r=(o=Object.keys(n)).length)!==Object.keys(t).length)return!1;for(i=r;0!=i--;)if(!Object.prototype.hasOwnProperty.call(t,o[i]))return!1;for(i=r;0!=i--;){var a=o[i];if(!e(n[a],t[a]))return!1}return!0}return n!=n&&t!=t}},95924:function(e,n,t){function r(e,n,t,r){let i=t?t.call(r,e,n):void 0;if(void 0!==i)return!!i;if(e===n)return!0;if("object"!=typeof e||!e||"object"!=typeof n||!n)return!1;const o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;const c=Object.prototype.hasOwnProperty.bind(n);for(let a=0;a<o.length;a++){const u=o[a];if(!c(u))return!1;const s=e[u],l=n[u];if(i=t?t.call(r,s,l,u):void 0,!1===i||void 0===i&&s!==l)return!1}return!0}t.d(n,{w:function(){return r}})},13854:function(e,n,t){t.d(n,{J:function(){return u}});var r=t(48305),i=t(3341),o=t(75271),a=t(35437);function c(e,n,t){var c=function(e,n,t){var c=(0,o.useState)((function(){return n(e)})),u=r(c,2),s=u[0],l=u[1],d=(0,o.useCallback)((function(){var r=n(e);i(s,r)||(l(r),t&&t())}),[s,e,t]);return(0,a.L)(d),[s,d]}(e,n,t),u=r(c,2),s=u[0],l=u[1];return(0,a.L)((function(){var n=e.getHandlerId();if(null!=n)return e.subscribeToStateChange(l,{handlerIds:[n]})}),[e,l]),s}function u(e,n,t){return c(n,e||function(){return{}},(function(){return t.reconnect()}))}},18708:function(e,n,t){t.d(n,{c:function(){return O}});var r=t(6346),i=t(13854),o=t(81597),a=t(75271);function c(e){return(0,a.useMemo)((function(){return e.hooks.dragSource()}),[e])}function u(e){return(0,a.useMemo)((function(){return e.hooks.dragPreview()}),[e])}var s=t(25298),l=t(17069),d=t(95924),f=t(20326),g=t(32050),h=function(){function e(n){var t=this;s(this,e),this.hooks=(0,g.p)({dragSource:function(e,n){t.clearDragSource(),t.dragSourceOptions=n||null,(0,f.d)(e)?t.dragSourceRef=e:t.dragSourceNode=e,t.reconnectDragSource()},dragPreview:function(e,n){t.clearDragPreview(),t.dragPreviewOptions=n||null,(0,f.d)(e)?t.dragPreviewRef=e:t.dragPreviewNode=e,t.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=n}return l(e,[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"reconnect",value:function(){var e=this.reconnectDragSource();this.reconnectDragPreview(e)}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}},{key:"reconnectDragPreview",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=this.dragPreview,t=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();t&&this.disconnectDragPreview(),this.handlerId&&(n?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions)):this.lastConnectedDragPreview=n)}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!(0,d.w)(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!(0,d.w)(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}}]),e}(),v=t(96),p=t(35437);var y=!1,m=!1,k=function(){function e(n){s(this,e),this.sourceId=null,this.internalMonitor=n.getMonitor()}return l(e,[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){(0,r.k)(!y,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return y=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{y=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;(0,r.k)(!m,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return m=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{m=!1}}},{key:"subscribeToStateChange",value:function(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,n){return this.internalMonitor.isOverTarget(e,n)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();var w=t(48305),C=t(55176),D=t(31759),b=function(){function e(n,t,r){s(this,e),this.spec=n,this.monitor=t,this.connector=r}return l(e,[{key:"beginDrag",value:function(){var e=this.spec,n=this.monitor,t=null;return null!=(t="object"===D(e.item)?e.item:"function"==typeof e.item?e.item(n):{})?t:null}},{key:"canDrag",value:function(){var e=this.spec,n=this.monitor;return"boolean"==typeof e.canDrag?e.canDrag:"function"!=typeof e.canDrag||e.canDrag(n)}},{key:"isDragging",value:function(e,n){var t=this.spec,r=this.monitor,i=t.isDragging;return i?i(r):n===e.getSourceId()}},{key:"endDrag",value:function(){var e=this.spec,n=this.monitor,t=this.connector,r=e.end;r&&r(n.getItem(),n),t.reconnect()}}]),e}();function I(e,n,t){var i=(0,v.N)(),o=function(e,n,t){var r=(0,a.useMemo)((function(){return new b(e,n,t)}),[n,t]);return(0,a.useEffect)((function(){r.spec=e}),[e]),r}(e,n,t),c=function(e){return(0,a.useMemo)((function(){var n=e.type;return(0,r.k)(null!=n,"spec.type must be defined"),n}),[e])}(e);(0,p.L)((function(){if(null!=c){var e=(0,C.w)(c,o,i),r=w(e,2),a=r[0],u=r[1];return n.receiveHandlerId(a),t.receiveHandlerId(a),u}}),[i,n,t,o,c])}function O(e,n){var t=(0,o.w)(e,n);(0,r.k)(!t.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");var s,l=(s=(0,v.N)(),(0,a.useMemo)((function(){return new k(s)}),[s])),d=function(e,n){var t=(0,v.N)(),r=(0,a.useMemo)((function(){return new h(t.getBackend())}),[t]);return(0,p.L)((function(){return r.dragSourceOptions=e||null,r.reconnect(),function(){return r.disconnectDragSource()}}),[r,e]),(0,p.L)((function(){return r.dragPreviewOptions=n||null,r.reconnect(),function(){return r.disconnectDragPreview()}}),[r,n]),r}(t.options,t.previewOptions);return I(t,l,d),[(0,i.J)(t.collect,l,d),c(d),u(d)]}},96:function(e,n,t){t.d(n,{N:function(){return a}});var r=t(6346),i=t(75271),o=t(30376);function a(){var e=(0,i.useContext)(o.L).dragDropManager;return(0,r.k)(null!=e,"Expected drag drop context"),e}},12363:function(e,n,t){t.d(n,{L:function(){return D}});var r=t(13854),i=t(81597),o=t(75271);function a(e){return(0,o.useMemo)((function(){return e.hooks.dropTarget()}),[e])}var c=t(25298),u=t(17069),s=t(95924),l=t(20326),d=t(32050),f=function(){function e(n){var t=this;c(this,e),this.hooks=(0,d.p)({dropTarget:function(e,n){t.clearDropTarget(),t.dropTargetOptions=n,(0,l.d)(e)?t.dropTargetRef=e:t.dropTargetNode=e,t.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=n}return u(e,[{key:"connectTarget",get:function(){return this.dropTarget}},{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var n=this.dropTarget;this.handlerId&&(n?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions)):this.lastConnectedDropTarget=n)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!(0,s.w)(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}}]),e}(),g=t(96),h=t(35437);var v=t(6346),p=!1,y=function(){function e(n){c(this,e),this.targetId=null,this.internalMonitor=n.getMonitor()}return u(e,[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;(0,v.k)(!p,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return p=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{p=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();var m=t(48305),k=t(55176);var w=function(){function e(n,t){c(this,e),this.spec=n,this.monitor=t}return u(e,[{key:"canDrop",value:function(){var e=this.spec,n=this.monitor;return!e.canDrop||e.canDrop(n.getItem(),n)}},{key:"hover",value:function(){var e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}},{key:"drop",value:function(){var e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}}]),e}();function C(e,n,t){var r=(0,g.N)(),i=function(e,n){var t=(0,o.useMemo)((function(){return new w(e,n)}),[n]);return(0,o.useEffect)((function(){t.spec=e}),[e]),t}(e,n),a=function(e){var n=e.accept;return(0,o.useMemo)((function(){return(0,v.k)(null!=e.accept,"accept must be defined"),Array.isArray(n)?n:[n]}),[n])}(e);(0,h.L)((function(){var e=(0,k.n)(a,i,r),o=m(e,2),c=o[0],u=o[1];return n.receiveHandlerId(c),t.receiveHandlerId(c),u}),[r,n,i,t,a.map((function(e){return e.toString()})).join("|")])}function D(e,n){var t,c=(0,i.w)(e,n),u=(t=(0,g.N)(),(0,o.useMemo)((function(){return new y(t)}),[t])),s=function(e){var n=(0,g.N)(),t=(0,o.useMemo)((function(){return new f(n.getBackend())}),[n]);return(0,h.L)((function(){return t.dropTargetOptions=e||null,t.reconnect(),function(){return t.disconnectDropTarget()}}),[e]),t}(c.options);return C(c,u,s),[(0,r.J)(c.collect,u,s),a(s)]}},35437:function(e,n,t){t.d(n,{L:function(){return i}});var r=t(75271),i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect},81597:function(e,n,t){t.d(n,{w:function(){return o}});var r=t(15558),i=t(75271);function o(e,n){var t=r(n||[]);return null==n&&"function"!=typeof e&&t.push(e),(0,i.useMemo)((function(){return"function"==typeof e?e():e}),t)}},20326:function(e,n,t){t.d(n,{d:function(){return i}});var r=t(31759);function i(e){return null!==e&&"object"===r(e)&&Object.prototype.hasOwnProperty.call(e,"current")}},55176:function(e,n,t){function r(e,n,t){var r=t.getRegistry(),i=r.addTarget(e,n);return[i,function(){return r.removeTarget(i)}]}function i(e,n,t){var r=t.getRegistry(),i=r.addSource(e,n);return[i,function(){return r.removeSource(i)}]}t.d(n,{n:function(){return r},w:function(){return i}})},32050:function(e,n,t){t.d(n,{p:function(){return a}});var r=t(6346),i=t(75271);function o(e){if("string"!=typeof e.type){var n=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(n," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function a(e){var n={};return Object.keys(e).forEach((function(t){var r=e[t];if(t.endsWith("Ref"))n[t]=e[t];else{var a=function(e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!(0,i.isValidElement)(n)){var r=n;return e(r,t),r}var a=n;o(a);var c=t?function(n){return e(n,t)}:e;return u(a,c)}}(r);n[t]=function(){return a}}})),n}function c(e,n){"function"==typeof e?e(n):e.current=n}function u(e,n){var t=e.ref;return(0,r.k)("string"!=typeof t,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),t?(0,i.cloneElement)(e,{ref:function(e){c(t,e),c(n,e)}}):(0,i.cloneElement)(e,{ref:n})}}}]);