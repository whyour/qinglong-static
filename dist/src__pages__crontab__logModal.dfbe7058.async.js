(self.webpackChunk=self.webpackChunk||[]).push([[3249],{35316:function(t,r,n){"use strict";n.d(r,{Z:function(){return E}});var u=n(56453),o=n(63313),e={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"}}]},name:"loading-3-quarters",theme:"outlined"},c=e,d=n(17536),s=function(O,M){return o.createElement(d.Z,(0,u.Z)((0,u.Z)({},O),{},{ref:M,icon:c}))};s.displayName="Loading3QuartersOutlined";var E=o.forwardRef(s)},33982:function(t,r,n){"use strict";n.r(r);var u=n(46686),o=n.n(u),e=n(63313),c=n.n(e),d=n(27387),s=n(63533),E=n(4352),g=n(59225),O=n(74083),M=n(27382),K=n(35316),S=n(9734),j=n(58406),Z=n(79418),a=n(11527),P;(function(i){i[i.running=0]="running",i[i.idle=1]="idle",i[i.disabled=2]="disabled",i[i.queued=3]="queued"})(P||(P={}));var b=d.Z.Countdown,Q=function(v){var l=v.cron,F=v.handleCancel,m=v.visible,C=v.data,y=v.logUrl,H=(0,e.useState)("\u542F\u52A8\u4E2D..."),A=o()(H,2),$=A[0],h=A[1],z=(0,e.useState)(!0),p=o()(z,2),D=p[0],L=p[1],N=(0,e.useState)(!0),T=o()(N,2),I=T[0],V=T[1],G=(0,e.useState)(!1),R=o()(G,2),J=R[0],X=R[1],Y=function f(U){U&&L(!0),O.W.get(y||"".concat(M.Z.apiPrefix,"crons/").concat(l.id,"/log")).then(function(W){var k=W.code,q=W.data;if(k===200&&localStorage.getItem("logCron")===String(l.id)){var _=q;h(_||"\u6682\u65E0\u65E5\u5FD7");var B=_&&!(0,Z.x$)(_)&&!_.includes("\u91CD\u542F\u9762\u677F")&&!_.includes("\u4EFB\u52A1\u672A\u8FD0\u884C\u6216\u8FD0\u884C\u5931\u8D25\uFF0C\u8BF7\u5C1D\u8BD5\u624B\u52A8\u8FD0\u884C");V(B),setTimeout(function(){document.querySelector("#log-flag").scrollIntoView({behavior:"smooth"})},1e3),B&&setTimeout(function(){f()},2e3),_&&_.includes("\u91CD\u542F\u9762\u677F")&&l.status===P.running&&(s.ZP.warning({content:(0,a.jsxs)("span",{children:["\u7CFB\u7EDF\u5C06\u5728",(0,a.jsx)(b,{className:"inline-countdown",format:"ss",value:Date.now()+1e3*30}),"\u79D2\u540E\u81EA\u52A8\u5237\u65B0"]}),duration:10}),setTimeout(function(){window.location.reload()},3e4))}}).finally(function(){U&&L(!1)})},x=function(){localStorage.removeItem("logCron"),F()},w=function(){return(0,a.jsxs)(a.Fragment,{children:[(I||D)&&(0,a.jsx)(K.Z,{spin:!0}),!I&&!D&&(0,a.jsx)(S.Z,{}),(0,a.jsx)("span",{style:{marginLeft:5},children:l&&l.name})]})};return(0,e.useEffect)(function(){l&&l.id&&m&&Y(!0)},[l,m]),(0,e.useEffect)(function(){C&&h(C)},[C]),(0,e.useEffect)(function(){X(document.body.clientWidth<768)},[]),(0,a.jsxs)(E.Z,{title:w(),open:m,centered:!0,className:"log-modal",bodyStyle:{minHeight:"300px"},forceRender:!0,onOk:function(){return x()},onCancel:function(){return x()},footer:[(0,a.jsx)(g.Z,{type:"primary",onClick:function(){return x()},children:"\u77E5\u9053\u4E86"})],children:[D?(0,a.jsx)(j.Z,{}):(0,a.jsx)("pre",{style:J?{fontFamily:"Source Code Pro",width:375,zoom:.83}:{},children:$}),(0,a.jsx)("div",{id:"log-flag"})]})};r.default=Q},60214:function(t,r,n){"use strict";n.d(r,{Z:function(){return c}});var u=n(6614),o=n(63313),e=n.n(o);function c(){var d=o.useReducer(function(g){return g+1},0),s=(0,u.Z)(d,2),E=s[1];return E}},24669:function(t){var r=Array.isArray;t.exports=r},13989:function(t,r,n){var u=n(33737);function o(e){if(Array.isArray(e))return u(e)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},56037:function(t){function r(n){if(typeof Symbol!="undefined"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},90623:function(t){function r(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},94434:function(t,r,n){var u=n(13989),o=n(56037),e=n(94945),c=n(90623);function d(s){return u(s)||o(s)||e(s)||c()}t.exports=d,t.exports.__esModule=!0,t.exports.default=t.exports}}]);
