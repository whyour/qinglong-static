(self.webpackChunk=self.webpackChunk||[]).push([[3178],{24023:function(X,G,m){"use strict";m.d(G,{Z:function(){return Ir}});var i=m(63313),P=m.n(i),N=m(4675),_=m(66283),k=m(30063),v=m(35999),d=m(39085),h=m(13965),c=m(72508),f=m(84875),C=m.n(f),w=m(33270),Z=m(50631),B=m.n(Z),R=m(13336),Y=m(86505),te=m(46153),I=m(22899),Be=i.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0}),Oe=Be;function ze(t,a,e){return(t-a)/(e-a)}function ct(t,a,e,r){var o=ze(a,e,r),n={};switch(t){case"rtl":n.right="".concat(o*100,"%"),n.transform="translateX(50%)";break;case"btt":n.bottom="".concat(o*100,"%"),n.transform="translateY(50%)";break;case"ttb":n.top="".concat(o*100,"%"),n.transform="translateY(-50%)";break;default:n.left="".concat(o*100,"%"),n.transform="translateX(-50%)";break}return n}function Fe(t,a){return Array.isArray(t)?t[a]:t}var ft=["prefixCls","value","valueIndex","onStartMove","style","render","dragging","onOffsetChange"],ht=i.forwardRef(function(t,a){var e,r,o=t.prefixCls,n=t.value,u=t.valueIndex,s=t.onStartMove,p=t.style,l=t.render,b=t.dragging,O=t.onOffsetChange,S=(0,Y.Z)(t,ft),M=i.useContext(Oe),E=M.min,D=M.max,L=M.direction,z=M.disabled,A=M.range,H=M.tabIndex,ne=M.ariaLabelForHandle,K=M.ariaLabelledByForHandle,Q=M.ariaValueTextFormatterForHandle,j="".concat(o,"-handle"),$=function(de){z||s(de,u)},J=function(de){if(!z){var ae=null;switch(de.which||de.keyCode){case I.Z.LEFT:ae=L==="ltr"||L==="btt"?-1:1;break;case I.Z.RIGHT:ae=L==="ltr"||L==="btt"?1:-1;break;case I.Z.UP:ae=L!=="ttb"?1:-1;break;case I.Z.DOWN:ae=L!=="ttb"?-1:1;break;case I.Z.HOME:ae="min";break;case I.Z.END:ae="max";break;case I.Z.PAGE_UP:ae=2;break;case I.Z.PAGE_DOWN:ae=-2;break}ae!==null&&(de.preventDefault(),O(ae,u))}},q=ct(L,n,E,D),ie=i.createElement("div",(0,h.Z)({ref:a,className:C()(j,(e={},(0,d.Z)(e,"".concat(j,"-").concat(u+1),A),(0,d.Z)(e,"".concat(j,"-dragging"),b),e)),style:(0,te.Z)((0,te.Z)({},q),p),onMouseDown:$,onTouchStart:$,onKeyDown:J,tabIndex:z?null:Fe(H,u),role:"slider","aria-valuemin":E,"aria-valuemax":D,"aria-valuenow":n,"aria-disabled":z,"aria-label":Fe(ne,u),"aria-labelledby":Fe(K,u),"aria-valuetext":(r=Fe(Q,u))===null||r===void 0?void 0:r(n)},S));return l&&(ie=l(ie,{index:u,prefixCls:o,value:n,dragging:b})),ie}),Dt=ht,At=["prefixCls","style","onStartMove","onOffsetChange","values","handleRender","draggingIndex"],Ut=i.forwardRef(function(t,a){var e=t.prefixCls,r=t.style,o=t.onStartMove,n=t.onOffsetChange,u=t.values,s=t.handleRender,p=t.draggingIndex,l=(0,Y.Z)(t,At),b=i.useRef({});return i.useImperativeHandle(a,function(){return{focus:function(S){var M;(M=b.current[S])===null||M===void 0||M.focus()}}}),i.createElement(i.Fragment,null,u.map(function(O,S){return i.createElement(Dt,(0,h.Z)({ref:function(E){E?b.current[S]=E:delete b.current[S]},dragging:p===S,prefixCls:e,style:Fe(r,S),key:S,value:O,valueIndex:S,onStartMove:o,onOffsetChange:n,render:s},l))}))}),Lt=Ut;function Et(t){var a="touches"in t?t.touches[0]:t;return{pageX:a.pageX,pageY:a.pageY}}function kt(t,a,e,r,o,n,u,s,p){var l=i.useState(null),b=(0,c.Z)(l,2),O=b[0],S=b[1],M=i.useState(-1),E=(0,c.Z)(M,2),D=E[0],L=E[1],z=i.useState(e),A=(0,c.Z)(z,2),H=A[0],ne=A[1],K=i.useState(e),Q=(0,c.Z)(K,2),j=Q[0],$=Q[1],J=i.useRef(null),q=i.useRef(null);i.useEffect(function(){D===-1&&ne(e)},[e,D]),i.useEffect(function(){return function(){document.removeEventListener("mousemove",J.current),document.removeEventListener("mouseup",q.current),document.removeEventListener("touchmove",J.current),document.removeEventListener("touchend",q.current)}},[]);var ie=function(V,ce){H.some(function(ge,He){return ge!==V[He]})&&(ce!==void 0&&S(ce),ne(V),u(V))},ue=function(V,ce){if(V===-1){var ge=j[0],He=j[j.length-1],Qe=r-ge,je=o-He,ve=ce*(o-r);ve=Math.max(ve,Qe),ve=Math.min(ve,je);var De=n(ge+ve);ve=De-ge;var Xe=j.map(function(ut){return ut+ve});ie(Xe)}else{var Te=(o-r)*ce,Ae=(0,w.Z)(H);Ae[V]=j[V];var Je=p(Ae,Te,V,"dist");ie(Je.values,Je.value)}},de=i.useRef(ue);de.current=ue;var ae=function(V,ce){V.stopPropagation();var ge=e[ce];L(ce),S(ge),$(e);var He=Et(V),Qe=He.pageX,je=He.pageY,ve=function(Te){Te.preventDefault();var Ae=Et(Te),Je=Ae.pageX,ut=Ae.pageY,dt=Je-Qe,lt=ut-je,re=t.current.getBoundingClientRect(),ee=re.width,Le=re.height,le;switch(a){case"btt":le=-lt/Le;break;case"ttb":le=lt/Le;break;case"rtl":le=-dt/ee;break;default:le=dt/ee}de.current(ce,le)},De=function Xe(Te){Te.preventDefault(),document.removeEventListener("mouseup",Xe),document.removeEventListener("mousemove",ve),document.removeEventListener("touchend",Xe),document.removeEventListener("touchmove",ve),J.current=null,q.current=null,L(-1),s()};document.addEventListener("mouseup",De),document.addEventListener("mousemove",ve),document.addEventListener("touchend",De),document.addEventListener("touchmove",ve),J.current=ve,q.current=De},Me=i.useMemo(function(){var _e=(0,w.Z)(e).sort(function(ce,ge){return ce-ge}),V=(0,w.Z)(H).sort(function(ce,ge){return ce-ge});return _e.every(function(ce,ge){return ce===V[ge]})?H:e},[e,H]);return[D,O,Me,ae]}function T(t){var a=t.prefixCls,e=t.style,r=t.start,o=t.end,n=t.index,u=t.onStartMove,s=i.useContext(Oe),p=s.direction,l=s.min,b=s.max,O=s.disabled,S=s.range,M="".concat(a,"-track"),E=ze(r,l,b),D=ze(o,l,b),L=function(H){!O&&u&&u(H,-1)},z={};switch(p){case"rtl":z.right="".concat(E*100,"%"),z.width="".concat(D*100-E*100,"%");break;case"btt":z.bottom="".concat(E*100,"%"),z.height="".concat(D*100-E*100,"%");break;case"ttb":z.top="".concat(E*100,"%"),z.height="".concat(D*100-E*100,"%");break;default:z.left="".concat(E*100,"%"),z.width="".concat(D*100-E*100,"%")}return i.createElement("div",{className:C()(M,S&&"".concat(M,"-").concat(n+1)),style:(0,te.Z)((0,te.Z)({},z),e),onMouseDown:L,onTouchStart:L})}function g(t){var a=t.prefixCls,e=t.style,r=t.values,o=t.startPoint,n=t.onStartMove,u=i.useContext(Oe),s=u.included,p=u.range,l=u.min,b=i.useMemo(function(){if(!p){if(r.length===0)return[];var O=o!=null?o:l,S=r[0];return[{start:Math.min(O,S),end:Math.max(O,S)}]}for(var M=[],E=0;E<r.length-1;E+=1)M.push({start:r[E],end:r[E+1]});return M},[r,p,o,l]);return s?b.map(function(O,S){var M=O.start,E=O.end;return i.createElement(T,{index:S,prefixCls:a,style:Fe(e,S),start:M,end:E,key:S,onStartMove:n})}):null}function x(t){var a=t.prefixCls,e=t.style,r=t.children,o=t.value,n=t.onClick,u=i.useContext(Oe),s=u.min,p=u.max,l=u.direction,b=u.includedStart,O=u.includedEnd,S=u.included,M="".concat(a,"-text"),E=ct(l,o,s,p);return i.createElement("span",{className:C()(M,(0,d.Z)({},"".concat(M,"-active"),S&&b<=o&&o<=O)),style:(0,te.Z)((0,te.Z)({},E),e),onMouseDown:function(L){L.stopPropagation()},onClick:function(){n(o)}},r)}function y(t){var a=t.prefixCls,e=t.marks,r=t.onClick,o="".concat(a,"-mark");return e.length?i.createElement("div",{className:o},e.map(function(n){var u=n.value,s=n.style,p=n.label;return i.createElement(x,{key:u,prefixCls:o,style:s,value:u,onClick:r},p)})):null}function F(t){var a=t.prefixCls,e=t.value,r=t.style,o=t.activeStyle,n=i.useContext(Oe),u=n.min,s=n.max,p=n.direction,l=n.included,b=n.includedStart,O=n.includedEnd,S="".concat(a,"-dot"),M=l&&b<=e&&e<=O,E=(0,te.Z)((0,te.Z)({},ct(p,e,u,s)),typeof r=="function"?r(e):r);return M&&(E=(0,te.Z)((0,te.Z)({},E),typeof o=="function"?o(e):o)),i.createElement("span",{className:C()(S,(0,d.Z)({},"".concat(S,"-active"),M)),style:E})}function W(t){var a=t.prefixCls,e=t.marks,r=t.dots,o=t.style,n=t.activeStyle,u=i.useContext(Oe),s=u.min,p=u.max,l=u.step,b=i.useMemo(function(){var O=new Set;if(e.forEach(function(M){O.add(M.value)}),r&&l!==null)for(var S=s;S<=p;)O.add(S),S+=l;return Array.from(O)},[s,p,l,r,e]);return i.createElement("div",{className:"".concat(a,"-step")},b.map(function(O){return i.createElement(F,{prefixCls:a,key:O,value:O,style:o,activeStyle:n})}))}function se(t,a,e,r,o,n){var u=i.useCallback(function(M){var E=isFinite(M)?M:t;return E=Math.min(a,M),E=Math.max(t,E),E},[t,a]),s=i.useCallback(function(M){if(e!==null){var E=t+Math.round((u(M)-t)/e)*e,D=function(H){return(String(H).split(".")[1]||"").length},L=Math.max(D(e),D(a),D(t)),z=Number(E.toFixed(L));return t<=z&&z<=a?z:null}return null},[e,t,a,u]),p=i.useCallback(function(M){var E=u(M),D=r.map(function(A){return A.value});e!==null&&D.push(s(M)),D.push(t,a);var L=D[0],z=a-t;return D.forEach(function(A){var H=Math.abs(E-A);H<=z&&(L=A,z=H)}),L},[t,a,r,e,u,s]),l=function M(E,D,L){var z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit";if(typeof D=="number"){var A,H=E[L],ne=H+D,K=[];r.forEach(function(q){K.push(q.value)}),K.push(t,a),K.push(s(H));var Q=D>0?1:-1;z==="unit"?K.push(s(H+Q*e)):K.push(s(ne)),K=K.filter(function(q){return q!==null}).filter(function(q){return D<0?q<=H:q>=H}),z==="unit"&&(K=K.filter(function(q){return q!==H}));var j=z==="unit"?H:ne;A=K[0];var $=Math.abs(A-j);if(K.forEach(function(q){var ie=Math.abs(q-j);ie<$&&(A=q,$=ie)}),A===void 0)return D<0?t:a;if(z==="dist")return A;if(Math.abs(D)>1){var J=(0,w.Z)(E);return J[L]=A,M(J,D-Q,L,z)}return A}else{if(D==="min")return t;if(D==="max")return a}},b=function(E,D,L){var z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",A=E[L],H=l(E,D,L,z);return{value:H,changed:H!==A}},O=function(E){return n===null&&E===0||typeof n=="number"&&E<n},S=function(E,D,L){var z=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"unit",A=E.map(p),H=A[L],ne=l(A,D,L,z);if(A[L]=ne,o===!1){var K=n||0;L>0&&A[L-1]!==H&&(A[L]=Math.max(A[L],A[L-1]+K)),L<A.length-1&&A[L+1]!==H&&(A[L]=Math.min(A[L],A[L+1]-K))}else if(typeof n=="number"||n===null){for(var Q=L+1;Q<A.length;Q+=1)for(var j=!0;O(A[Q]-A[Q-1])&&j;){var $=b(A,1,Q);A[Q]=$.value,j=$.changed}for(var J=L;J>0;J-=1)for(var q=!0;O(A[J]-A[J-1])&&q;){var ie=b(A,-1,J-1);A[J-1]=ie.value,q=ie.changed}for(var ue=A.length-1;ue>0;ue-=1)for(var de=!0;O(A[ue]-A[ue-1])&&de;){var ae=b(A,-1,ue-1);A[ue-1]=ae.value,de=ae.changed}for(var Me=0;Me<A.length-1;Me+=1)for(var _e=!0;O(A[Me+1]-A[Me])&&_e;){var V=b(A,1,Me+1);A[Me+1]=V.value,_e=V.changed}}return{value:A[L],values:A}};return[p,S]}var Pe=m(66661),$e=i.forwardRef(function(t,a){var e,r=t.prefixCls,o=r===void 0?"rc-slider":r,n=t.className,u=t.style,s=t.disabled,p=s===void 0?!1:s,l=t.autoFocus,b=t.onFocus,O=t.onBlur,S=t.min,M=S===void 0?0:S,E=t.max,D=E===void 0?100:E,L=t.step,z=L===void 0?1:L,A=t.value,H=t.defaultValue,ne=t.range,K=t.count,Q=t.onChange,j=t.onBeforeChange,$=t.onAfterChange,J=t.allowCross,q=J===void 0?!0:J,ie=t.pushable,ue=ie===void 0?!1:ie,de=t.draggableTrack,ae=t.reverse,Me=t.vertical,_e=t.included,V=_e===void 0?!0:_e,ce=t.startPoint,ge=t.trackStyle,He=t.handleStyle,Qe=t.railStyle,je=t.dotStyle,ve=t.activeDotStyle,De=t.marks,Xe=t.dots,Te=t.handleRender,Ae=t.tabIndex,Je=Ae===void 0?0:Ae,ut=t.ariaLabelForHandle,dt=t.ariaLabelledByForHandle,lt=t.ariaValueTextFormatterForHandle,re=i.useRef(),ee=i.useRef(),Le=i.useMemo(function(){return Me?ae?"ttb":"btt":ae?"rtl":"ltr"},[ae,Me]),le=i.useMemo(function(){return isFinite(M)?M:0},[M]),ke=i.useMemo(function(){return isFinite(D)?D:100},[D]),xe=i.useMemo(function(){return z!==null&&z<=0?1:z},[z]),vt=i.useMemo(function(){return ue===!0?xe:ue>=0?ue:!1},[ue,xe]),qe=i.useMemo(function(){var pe=Object.keys(De||{});return pe.map(function(oe){var U=De[oe],Se={value:Number(oe)};return U&&(0,v.Z)(U)==="object"&&!i.isValidElement(U)&&("label"in U||"style"in U)?(Se.style=U.style,Se.label=U.label):Se.label=U,Se}).filter(function(oe){var U=oe.label;return U||typeof U=="number"}).sort(function(oe,U){return oe.value-U.value})},[De]),Ye=se(le,ke,xe,qe,q,vt),Ge=(0,c.Z)(Ye,2),Ze=Ge[0],et=Ge[1],tt=(0,R.Z)(H,{value:A}),Ne=(0,c.Z)(tt,2),fe=Ne[0],Rt=Ne[1],Ie=i.useMemo(function(){var pe=fe==null?[]:Array.isArray(fe)?fe:[fe],oe=(0,c.Z)(pe,1),U=oe[0],Se=U===void 0?le:U,me=fe===null?[]:[Se];if(ne){if(me=(0,w.Z)(pe),K||fe===void 0){var wt=K>=0?K+1:2;for(me=me.slice(0,wt);me.length<wt;){var pt;me.push((pt=me[me.length-1])!==null&&pt!==void 0?pt:le)}}me.sort(function(st,Tt){return st-Tt})}return me.forEach(function(st,Tt){me[Tt]=Ze(st)}),me},[fe,ne,le,K,Ze]),mt=i.useRef(Ie);mt.current=Ie;var rt=function(oe){return ne?oe:oe[0]},Ct=function(oe){var U=(0,w.Z)(oe).sort(function(Se,me){return Se-me});Q&&!B()(U,mt.current)&&Q(rt(U)),Rt(U)},gt=function(oe){if(!p){var U=0,Se=ke-le;Ie.forEach(function(wt,pt){var st=Math.abs(oe-wt);st<=Se&&(Se=st,U=pt)});var me=(0,w.Z)(Ie);me[U]=oe,ne&&!Ie.length&&K===void 0&&me.push(oe),j==null||j(rt(me)),Ct(me),$==null||$(rt(me))}},Mt=function(oe){oe.preventDefault();var U=ee.current.getBoundingClientRect(),Se=U.width,me=U.height,wt=U.left,pt=U.top,st=U.bottom,Tt=U.right,dr=oe.clientX,vr=oe.clientY,Ot;switch(Le){case"btt":Ot=(st-vr)/me;break;case"ttb":Ot=(vr-pt)/me;break;case"rtl":Ot=(Tt-dr)/Se;break;default:Ot=(dr-wt)/Se}var Wr=le+Ot*(ke-le);gt(Ze(Wr))},zt=i.useState(null),_t=(0,c.Z)(zt,2),Ft=_t[0],Ht=_t[1],nt=function(oe,U){if(!p){var Se=et(Ie,oe,U);j==null||j(rt(Ie)),Ct(Se.values),$==null||$(rt(Se.values)),Ht(Se.value)}};i.useEffect(function(){if(Ft!==null){var pe=Ie.indexOf(Ft);pe>=0&&re.current.focus(pe)}Ht(null)},[Ft]);var ot=i.useMemo(function(){return de&&xe===null?!1:de},[de,xe]),jt=function(){$==null||$(rt(mt.current))},Br=kt(ee,Le,Ie,le,ke,Ze,Ct,jt,et),Wt=(0,c.Z)(Br,4),ur=Wt[0],zr=Wt[1],Kt=Wt[2],Fr=Wt[3],lr=function(oe,U){Fr(oe,U),j==null||j(rt(mt.current))},sr=ur!==-1;i.useEffect(function(){if(!sr){var pe=Ie.lastIndexOf(zr);re.current.focus(pe)}},[sr]);var bt=i.useMemo(function(){return(0,w.Z)(Kt).sort(function(pe,oe){return pe-oe})},[Kt]),Hr=i.useMemo(function(){return ne?[bt[0],bt[bt.length-1]]:[le,bt[0]]},[bt,ne,le]),cr=(0,c.Z)(Hr,2),fr=cr[0],hr=cr[1];i.useImperativeHandle(a,function(){return{focus:function(){re.current.focus(0)},blur:function(){var oe=document,U=oe.activeElement;ee.current.contains(U)&&(U==null||U.blur())}}}),i.useEffect(function(){l&&re.current.focus(0)},[]);var jr=i.useMemo(function(){return{min:le,max:ke,direction:Le,disabled:p,step:xe,included:V,includedStart:fr,includedEnd:hr,range:ne,tabIndex:Je,ariaLabelForHandle:ut,ariaLabelledByForHandle:dt,ariaValueTextFormatterForHandle:lt}},[le,ke,Le,p,xe,V,fr,hr,ne,Je,ut,dt,lt]);return i.createElement(Oe.Provider,{value:jr},i.createElement("div",{ref:ee,className:C()(o,n,(e={},(0,d.Z)(e,"".concat(o,"-disabled"),p),(0,d.Z)(e,"".concat(o,"-vertical"),Me),(0,d.Z)(e,"".concat(o,"-horizontal"),!Me),(0,d.Z)(e,"".concat(o,"-with-marks"),qe.length),e)),style:u,onMouseDown:Mt},i.createElement("div",{className:"".concat(o,"-rail"),style:Qe}),i.createElement(g,{prefixCls:o,style:ge,values:bt,startPoint:ce,onStartMove:ot?lr:null}),i.createElement(W,{prefixCls:o,marks:qe,dots:Xe,style:je,activeStyle:ve}),i.createElement(Lt,{ref:re,prefixCls:o,style:He,values:Kt,draggingIndex:ur,onStartMove:lr,onOffsetChange:nt,onFocus:b,onBlur:O,handleRender:Te}),i.createElement(y,{prefixCls:o,marks:qe,onClick:gt})))}),Ve=$e,We=Ve,Ue=m(78809),be=m(26171),he=m(4385),ye=m(79697),Ce=i.forwardRef(function(t,a){var e=t.open,r=(0,i.useRef)(null),o=(0,i.useRef)(null);function n(){be.Z.cancel(o.current),o.current=null}function u(){o.current=(0,be.Z)(function(){var s;(s=r.current)===null||s===void 0||s.forcePopupAlign(),o.current=null})}return i.useEffect(function(){return e?u():n(),n},[e,t.title]),i.createElement(ye.Z,(0,h.Z)({ref:(0,he.sQ)(r,a)},t))}),we=Ce,Re=function(t,a){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)a.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]]);return e},Ke=i.forwardRef(function(t,a){var e=i.useContext(Ue.E_),r=e.getPrefixCls,o=e.direction,n=e.getPopupContainer,u=i.useState({}),s=(0,c.Z)(u,2),p=s[0],l=s[1],b=function($,J){l(function(q){return(0,h.Z)((0,h.Z)({},q),(0,d.Z)({},$,J))})},O=function($,J){return $||(J?o==="rtl"?"left":"right":"top")},S=t.prefixCls,M=t.range,E=t.className,D=Re(t,["prefixCls","range","className"]),L=r("slider",S),z=C()(E,(0,d.Z)({},"".concat(L,"-rtl"),o==="rtl"));o==="rtl"&&!D.vertical&&(D.reverse=!D.reverse);var A=i.useMemo(function(){return M?(0,v.Z)(M)==="object"?[!0,M.draggableTrack]:[!0,!1]:[!1]},[M]),H=(0,c.Z)(A,2),ne=H[0],K=H[1],Q=function($,J){var q,ie=J.index,ue=J.dragging,de=r(),ae=t.tooltip,Me=ae===void 0?{}:ae,_e=t.vertical,V=(0,h.Z)({formatter:(q=t.tipFormatter)!==null&&q!==void 0?q:function(Ae){return typeof Ae=="number"?Ae.toString():""},open:t.tooltipVisible,placement:t.tooltipPlacement,getPopupContainer:t.getTooltipPopupContainer},Me),ce=V.open,ge=V.placement,He=V.getPopupContainer,Qe=V.prefixCls,je=V.formatter,ve=je?p[ie]||ue:!1,De=ce||ce===void 0&&ve,Xe=(0,h.Z)((0,h.Z)({},$.props),{onMouseEnter:function(){return b(ie,!0)},onMouseLeave:function(){return b(ie,!1)}}),Te=r("tooltip",Qe);return i.createElement(we,{prefixCls:Te,title:je?je(J.value):"",open:De,placement:O(ge,_e),transitionName:"".concat(de,"-zoom-down"),key:ie,overlayClassName:"".concat(L,"-tooltip"),getPopupContainer:He||n},i.cloneElement($,Xe))};return i.createElement(We,(0,h.Z)({},D,{step:D.step,range:ne,draggableTrack:K,className:z,ref:a,prefixCls:L,handleRender:Q}))}),xt=Ke;var St=function(t,a){return St=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])},St(t,a)};function Gt(t,a){St(t,a);function e(){this.constructor=t}t.prototype=a===null?Object.create(a):(e.prototype=a.prototype,new e)}var Ee=function(){return Ee=Object.assign||function(a){for(var e,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])}return a},Ee.apply(this,arguments)};function Qt(t,a){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)a.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]]);return e}function Ur(t,a,e,r){var o=arguments.length,n=o<3?a:r===null?r=Object.getOwnPropertyDescriptor(a,e):r,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")n=Reflect.decorate(t,a,e,r);else for(var s=t.length-1;s>=0;s--)(u=t[s])&&(n=(o<3?u(n):o>3?u(a,e,n):u(a,e))||n);return o>3&&n&&Object.defineProperty(a,e,n),n}function Gr(t,a){return function(e,r){a(e,r,t)}}function $r(t,a){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,a)}function Xr(t,a,e,r){function o(n){return n instanceof e?n:new e(function(u){u(n)})}return new(e||(e=Promise))(function(n,u){function s(b){try{l(r.next(b))}catch(O){u(O)}}function p(b){try{l(r.throw(b))}catch(O){u(O)}}function l(b){b.done?n(b.value):o(b.value).then(s,p)}l((r=r.apply(t,a||[])).next())})}function Yr(t,a){var e={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},r,o,n,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(l){return function(b){return p([l,b])}}function p(l){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(n=l[0]&2?o.return:l[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,l[1])).done)return n;switch(o=0,n&&(l=[l[0]&2,n.value]),l[0]){case 0:case 1:n=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,o=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(n=e.trys,!(n=n.length>0&&n[n.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!n||l[1]>n[0]&&l[1]<n[3])){e.label=l[1];break}if(l[0]===6&&e.label<n[1]){e.label=n[1],n=l;break}if(n&&e.label<n[2]){e.label=n[2],e.ops.push(l);break}n[2]&&e.ops.pop(),e.trys.pop();continue}l=a.call(t,e)}catch(b){l=[6,b],o=0}finally{r=n=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var Jt=Object.create?function(t,a,e,r){r===void 0&&(r=e),Object.defineProperty(t,r,{enumerable:!0,get:function(){return a[e]}})}:function(t,a,e,r){r===void 0&&(r=e),t[r]=a[e]};function Vr(t,a){for(var e in t)e!=="default"&&!Object.prototype.hasOwnProperty.call(a,e)&&Jt(a,t,e)}function qt(t){var a=typeof Symbol=="function"&&Symbol.iterator,e=a&&t[a],r=0;if(e)return e.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")}function mr(t,a){var e=typeof Symbol=="function"&&t[Symbol.iterator];if(!e)return t;var r=e.call(t),o,n=[],u;try{for(;(a===void 0||a-- >0)&&!(o=r.next()).done;)n.push(o.value)}catch(s){u={error:s}}finally{try{o&&!o.done&&(e=r.return)&&e.call(r)}finally{if(u)throw u.error}}return n}function Kr(){for(var t=[],a=0;a<arguments.length;a++)t=t.concat(mr(arguments[a]));return t}function Qr(){for(var t=0,a=0,e=arguments.length;a<e;a++)t+=arguments[a].length;for(var r=Array(t),o=0,a=0;a<e;a++)for(var n=arguments[a],u=0,s=n.length;u<s;u++,o++)r[o]=n[u];return r}function Zt(t){return this instanceof Zt?(this.v=t,this):new Zt(t)}function Jr(t,a,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e.apply(t,a||[]),o,n=[];return o={},u("next"),u("throw"),u("return"),o[Symbol.asyncIterator]=function(){return this},o;function u(S){r[S]&&(o[S]=function(M){return new Promise(function(E,D){n.push([S,M,E,D])>1||s(S,M)})})}function s(S,M){try{p(r[S](M))}catch(E){O(n[0][3],E)}}function p(S){S.value instanceof Zt?Promise.resolve(S.value.v).then(l,b):O(n[0][2],S)}function l(S){s("next",S)}function b(S){s("throw",S)}function O(S,M){S(M),n.shift(),n.length&&s(n[0][0],n[0][1])}}function qr(t){var a,e;return a={},r("next"),r("throw",function(o){throw o}),r("return"),a[Symbol.iterator]=function(){return this},a;function r(o,n){a[o]=t[o]?function(u){return(e=!e)?{value:Zt(t[o](u)),done:o==="return"}:n?n(u):u}:n}}function en(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=t[Symbol.asyncIterator],e;return a?a.call(t):(t=typeof qt=="function"?qt(t):t[Symbol.iterator](),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(u){return new Promise(function(s,p){u=t[n](u),o(s,p,u.done,u.value)})}}function o(n,u,s,p){Promise.resolve(p).then(function(l){n({value:l,done:s})},u)}}function tn(t,a){return Object.defineProperty?Object.defineProperty(t,"raw",{value:a}):t.raw=a,t}var gr=Object.create?function(t,a){Object.defineProperty(t,"default",{enumerable:!0,value:a})}:function(t,a){t.default=a};function rn(t){if(t&&t.__esModule)return t;var a={};if(t!=null)for(var e in t)e!=="default"&&Object.prototype.hasOwnProperty.call(t,e)&&Jt(a,t,e);return gr(a,t),a}function nn(t){return t&&t.__esModule?t:{default:t}}function on(t,a){if(!a.has(t))throw new TypeError("attempted to get private field on non-instance");return a.get(t)}function an(t,a,e){if(!a.has(t))throw new TypeError("attempted to set private field on non-instance");return a.set(t,e),e}var pr=m(6210),yr=m.n(pr);function Cr(t,a,e,r,o,n){n===void 0&&(n=0);var u=yt(t,a,n),s=u.width,p=u.height,l=Math.min(s,e),b=Math.min(p,r);return l>b*o?{width:b*o,height:b}:{width:l,height:l/o}}function br(t){return t.width>t.height?t.width/t.naturalWidth:t.height/t.naturalHeight}function Nt(t,a,e,r,o){o===void 0&&(o=0);var n=yt(a.width,a.height,o),u=n.width,s=n.height;return{x:er(t.x,u,e.width,r),y:er(t.y,s,e.height,r)}}function er(t,a,e,r){var o=a*r/2-e/2;return It(t,-o,o)}function tr(t,a){return Math.sqrt(Math.pow(t.y-a.y,2)+Math.pow(t.x-a.x,2))}function rr(t,a){return Math.atan2(a.y-t.y,a.x-t.x)*180/Math.PI}function wr(t,a,e,r,o,n,u){n===void 0&&(n=0),u===void 0&&(u=!0);var s=u?Er:xr,p=yt(a.width,a.height,n),l=yt(a.naturalWidth,a.naturalHeight,n),b={x:s(100,((p.width-e.width/o)/2-t.x/o)/p.width*100),y:s(100,((p.height-e.height/o)/2-t.y/o)/p.height*100),width:s(100,e.width/p.width*100/o),height:s(100,e.height/p.height*100/o)},O=Math.round(s(l.width,b.width*l.width/100)),S=Math.round(s(l.height,b.height*l.height/100)),M=l.width>=l.height*r,E=M?{width:Math.round(S*r),height:S}:{width:O,height:Math.round(O/r)},D=Ee(Ee({},E),{x:Math.round(s(l.width-E.width,b.x*l.width/100)),y:Math.round(s(l.height-E.height,b.y*l.height/100))});return{croppedAreaPercentages:b,croppedAreaPixels:D}}function Er(t,a){return Math.min(t,Math.max(0,a))}function xr(t,a){return a}function Sr(t,a,e,r,o,n){var u=yt(a.width,a.height,e),s=It(r.width/u.width*(100/t.width),o,n),p={x:s*u.width/2-r.width/2-u.width*s*(t.x/100),y:s*u.height/2-r.height/2-u.height*s*(t.y/100)};return{crop:p,zoom:s}}function Pr(t,a,e){var r=br(a);return e.height>e.width?e.height/(t.height*r):e.width/(t.width*r)}function Rr(t,a,e,r,o,n){e===void 0&&(e=0);var u=yt(a.naturalWidth,a.naturalHeight,e),s=It(Pr(t,a,r),o,n),p=r.height>r.width?r.height/t.height:r.width/t.width,l={x:((u.width-t.width)/2-t.x)*p,y:((u.height-t.height)/2-t.y)*p};return{crop:l,zoom:s}}function nr(t,a){return{x:(a.x+t.x)/2,y:(a.y+t.y)/2}}function Mr(t){return t*Math.PI/180}function yt(t,a,e){var r=Mr(e);return{width:Math.abs(Math.cos(r)*t)+Math.abs(Math.sin(r)*a),height:Math.abs(Math.sin(r)*t)+Math.abs(Math.cos(r)*a)}}function It(t,a,e){return Math.min(Math.max(t,a),e)}function Bt(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return t.filter(function(e){return typeof e=="string"&&e.length>0}).join(" ").trim()}var _r=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,Tr=1,Or=3,Dr=function(t){Gt(a,t);function a(){var e=t!==null&&t.apply(this,arguments)||this;return e.imageRef=P().createRef(),e.videoRef=P().createRef(),e.containerRef=null,e.styleRef=null,e.containerRect=null,e.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},e.dragStartPosition={x:0,y:0},e.dragStartCrop={x:0,y:0},e.gestureZoomStart=0,e.gestureRotationStart=0,e.isTouching=!1,e.lastPinchDistance=0,e.lastPinchRotation=0,e.rafDragTimeout=null,e.rafPinchTimeout=null,e.wheelTimer=null,e.currentDoc=document,e.currentWindow=window,e.state={cropSize:null,hasWheelJustStarted:!1},e.preventZoomSafari=function(r){return r.preventDefault()},e.cleanEvents=function(){e.currentDoc.removeEventListener("mousemove",e.onMouseMove),e.currentDoc.removeEventListener("mouseup",e.onDragStopped),e.currentDoc.removeEventListener("touchmove",e.onTouchMove),e.currentDoc.removeEventListener("touchend",e.onDragStopped),e.currentDoc.removeEventListener("gesturemove",e.onGestureMove),e.currentDoc.removeEventListener("gestureend",e.onGestureEnd)},e.clearScrollEvent=function(){e.containerRef&&e.containerRef.removeEventListener("wheel",e.onWheel),e.wheelTimer&&clearTimeout(e.wheelTimer)},e.onMediaLoad=function(){var r=e.computeSizes();r&&(e.emitCropData(),e.setInitialCrop(r)),e.props.onMediaLoaded&&e.props.onMediaLoaded(e.mediaSize)},e.setInitialCrop=function(r){if(e.props.initialCroppedAreaPercentages){var o=Sr(e.props.initialCroppedAreaPercentages,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),n=o.crop,u=o.zoom;e.props.onCropChange(n),e.props.onZoomChange&&e.props.onZoomChange(u)}else if(e.props.initialCroppedAreaPixels){var s=Rr(e.props.initialCroppedAreaPixels,e.mediaSize,e.props.rotation,r,e.props.minZoom,e.props.maxZoom),n=s.crop,u=s.zoom;e.props.onCropChange(n),e.props.onZoomChange&&e.props.onZoomChange(u)}},e.computeSizes=function(){var r,o,n,u,s,p,l=e.imageRef.current||e.videoRef.current;if(l&&e.containerRef){e.containerRect=e.containerRef.getBoundingClientRect();var b=e.containerRect.width/e.containerRect.height,O=((r=e.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((o=e.videoRef.current)===null||o===void 0?void 0:o.videoWidth)||0,S=((n=e.imageRef.current)===null||n===void 0?void 0:n.naturalHeight)||((u=e.videoRef.current)===null||u===void 0?void 0:u.videoHeight)||0,M=l.offsetWidth<O||l.offsetHeight<S,E=O/S,D=void 0;if(M)switch(e.props.objectFit){default:case"contain":D=b>E?{width:e.containerRect.height*E,height:e.containerRect.height}:{width:e.containerRect.width,height:e.containerRect.width/E};break;case"horizontal-cover":D={width:e.containerRect.width,height:e.containerRect.width/E};break;case"vertical-cover":D={width:e.containerRect.height*E,height:e.containerRect.height};break;case"auto-cover":D=O>S?{width:e.containerRect.width,height:e.containerRect.width/E}:{width:e.containerRect.height*E,height:e.containerRect.height};break}else D={width:l.offsetWidth,height:l.offsetHeight};e.mediaSize=Ee(Ee({},D),{naturalWidth:O,naturalHeight:S}),e.props.setMediaSize&&e.props.setMediaSize(e.mediaSize);var L=e.props.cropSize?e.props.cropSize:Cr(e.mediaSize.width,e.mediaSize.height,e.containerRect.width,e.containerRect.height,e.props.aspect,e.props.rotation);return(((s=e.state.cropSize)===null||s===void 0?void 0:s.height)!==L.height||((p=e.state.cropSize)===null||p===void 0?void 0:p.width)!==L.width)&&e.props.onCropSizeChange&&e.props.onCropSizeChange(L),e.setState({cropSize:L},e.recomputeCropPosition),e.props.setCropSize&&e.props.setCropSize(L),L}},e.onMouseDown=function(r){r.preventDefault(),e.currentDoc.addEventListener("mousemove",e.onMouseMove),e.currentDoc.addEventListener("mouseup",e.onDragStopped),e.onDragStart(a.getMousePoint(r))},e.onMouseMove=function(r){return e.onDrag(a.getMousePoint(r))},e.onTouchStart=function(r){e.isTouching=!0,!(e.props.onTouchRequest&&!e.props.onTouchRequest(r))&&(e.currentDoc.addEventListener("touchmove",e.onTouchMove,{passive:!1}),e.currentDoc.addEventListener("touchend",e.onDragStopped),r.touches.length===2?e.onPinchStart(r):r.touches.length===1&&e.onDragStart(a.getTouchPoint(r.touches[0])))},e.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?e.onPinchMove(r):r.touches.length===1&&e.onDrag(a.getTouchPoint(r.touches[0]))},e.onGestureStart=function(r){r.preventDefault(),e.currentDoc.addEventListener("gesturechange",e.onGestureMove),e.currentDoc.addEventListener("gestureend",e.onGestureEnd),e.gestureZoomStart=e.props.zoom,e.gestureRotationStart=e.props.rotation},e.onGestureMove=function(r){if(r.preventDefault(),!e.isTouching){var o=a.getMousePoint(r),n=e.gestureZoomStart-1+r.scale;if(e.setNewZoom(n,o,{shouldUpdatePosition:!0}),e.props.onRotationChange){var u=e.gestureRotationStart+r.rotation;e.props.onRotationChange(u)}}},e.onGestureEnd=function(r){e.cleanEvents()},e.onDragStart=function(r){var o,n,u=r.x,s=r.y;e.dragStartPosition={x:u,y:s},e.dragStartCrop=Ee({},e.props.crop),(n=(o=e.props).onInteractionStart)===null||n===void 0||n.call(o)},e.onDrag=function(r){var o=r.x,n=r.y;e.rafDragTimeout&&e.currentWindow.cancelAnimationFrame(e.rafDragTimeout),e.rafDragTimeout=e.currentWindow.requestAnimationFrame(function(){if(!!e.state.cropSize&&!(o===void 0||n===void 0)){var u=o-e.dragStartPosition.x,s=n-e.dragStartPosition.y,p={x:e.dragStartCrop.x+u,y:e.dragStartCrop.y+s},l=e.props.restrictPosition?Nt(p,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):p;e.props.onCropChange(l)}})},e.onDragStopped=function(){var r,o;e.isTouching=!1,e.cleanEvents(),e.emitCropData(),(o=(r=e.props).onInteractionEnd)===null||o===void 0||o.call(r)},e.onWheel=function(r){if(!(e.props.onWheelRequest&&!e.props.onWheelRequest(r))){r.preventDefault();var o=a.getMousePoint(r),n=yr()(r).pixelY,u=e.props.zoom-n*e.props.zoomSpeed/200;e.setNewZoom(u,o,{shouldUpdatePosition:!0}),e.state.hasWheelJustStarted||e.setState({hasWheelJustStarted:!0},function(){var s,p;return(p=(s=e.props).onInteractionStart)===null||p===void 0?void 0:p.call(s)}),e.wheelTimer&&clearTimeout(e.wheelTimer),e.wheelTimer=e.currentWindow.setTimeout(function(){return e.setState({hasWheelJustStarted:!1},function(){var s,p;return(p=(s=e.props).onInteractionEnd)===null||p===void 0?void 0:p.call(s)})},250)}},e.getPointOnContainer=function(r){var o=r.x,n=r.y;if(!e.containerRect)throw new Error("The Cropper is not mounted");return{x:e.containerRect.width/2-(o-e.containerRect.left),y:e.containerRect.height/2-(n-e.containerRect.top)}},e.getPointOnMedia=function(r){var o=r.x,n=r.y,u=e.props,s=u.crop,p=u.zoom;return{x:(o+s.x)/p,y:(n+s.y)/p}},e.setNewZoom=function(r,o,n){var u=(n===void 0?{}:n).shouldUpdatePosition,s=u===void 0?!0:u;if(!(!e.state.cropSize||!e.props.onZoomChange)){var p=It(r,e.props.minZoom,e.props.maxZoom);if(s){var l=e.getPointOnContainer(o),b=e.getPointOnMedia(l),O={x:b.x*p-l.x,y:b.y*p-l.y},S=e.props.restrictPosition?Nt(O,e.mediaSize,e.state.cropSize,p,e.props.rotation):O;e.props.onCropChange(S)}e.props.onZoomChange(p)}},e.getCropData=function(){if(!e.state.cropSize)return null;var r=e.props.restrictPosition?Nt(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;return wr(r,e.mediaSize,e.state.cropSize,e.getAspect(),e.props.zoom,e.props.rotation,e.props.restrictPosition)},e.emitCropData=function(){var r=e.getCropData();if(!!r){var o=r.croppedAreaPercentages,n=r.croppedAreaPixels;e.props.onCropComplete&&e.props.onCropComplete(o,n),e.props.onCropAreaChange&&e.props.onCropAreaChange(o,n)}},e.emitCropAreaChange=function(){var r=e.getCropData();if(!!r){var o=r.croppedAreaPercentages,n=r.croppedAreaPixels;e.props.onCropAreaChange&&e.props.onCropAreaChange(o,n)}},e.recomputeCropPosition=function(){if(!!e.state.cropSize){var r=e.props.restrictPosition?Nt(e.props.crop,e.mediaSize,e.state.cropSize,e.props.zoom,e.props.rotation):e.props.crop;e.props.onCropChange(r),e.emitCropData()}},e}return a.prototype.componentDidMount=function(){this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=_r,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef)},a.prototype.componentWillUnmount=function(){var e;this.currentWindow.removeEventListener("resize",this.computeSizes),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((e=this.styleRef.parentNode)===null||e===void 0||e.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent()},a.prototype.componentDidUpdate=function(e){var r,o,n,u,s,p,l,b,O;e.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):e.aspect!==this.props.aspect?this.computeSizes():e.zoom!==this.props.zoom?this.recomputeCropPosition():((r=e.cropSize)===null||r===void 0?void 0:r.height)!==((o=this.props.cropSize)===null||o===void 0?void 0:o.height)||((n=e.cropSize)===null||n===void 0?void 0:n.width)!==((u=this.props.cropSize)===null||u===void 0?void 0:u.width)?this.computeSizes():(((s=e.crop)===null||s===void 0?void 0:s.x)!==((p=this.props.crop)===null||p===void 0?void 0:p.x)||((l=e.crop)===null||l===void 0?void 0:l.y)!==((b=this.props.crop)===null||b===void 0?void 0:b.y))&&this.emitCropAreaChange(),e.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),e.video!==this.props.video&&((O=this.videoRef.current)===null||O===void 0||O.load())},a.prototype.getAspect=function(){var e=this.props,r=e.cropSize,o=e.aspect;return r?r.width/r.height:o},a.prototype.onPinchStart=function(e){var r=a.getTouchPoint(e.touches[0]),o=a.getTouchPoint(e.touches[1]);this.lastPinchDistance=tr(r,o),this.lastPinchRotation=rr(r,o),this.onDragStart(nr(r,o))},a.prototype.onPinchMove=function(e){var r=this,o=a.getTouchPoint(e.touches[0]),n=a.getTouchPoint(e.touches[1]),u=nr(o,n);this.onDrag(u),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var s=tr(o,n),p=r.props.zoom*(s/r.lastPinchDistance);r.setNewZoom(p,u,{shouldUpdatePosition:!1}),r.lastPinchDistance=s;var l=rr(o,n),b=r.props.rotation+(l-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(b),r.lastPinchRotation=l})},a.prototype.render=function(){var e=this,r=this.props,o=r.image,n=r.video,u=r.mediaProps,s=r.transform,p=r.crop,l=p.x,b=p.y,O=r.rotation,S=r.zoom,M=r.cropShape,E=r.showGrid,D=r.style,L=D.containerStyle,z=D.cropAreaStyle,A=D.mediaStyle,H=r.classes,ne=H.containerClassName,K=H.cropAreaClassName,Q=H.mediaClassName,j=r.objectFit;return P().createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(J){return e.containerRef=J},"data-testid":"container",style:L,className:Bt("reactEasyCrop_Container",ne)},o?P().createElement("img",Ee({alt:"",className:Bt("reactEasyCrop_Image",j==="contain"&&"reactEasyCrop_Contain",j==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",j==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",j==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),Q)},u,{src:o,ref:this.imageRef,style:Ee(Ee({},A),{transform:s||"translate("+l+"px, "+b+"px) rotate("+O+"deg) scale("+S+")"}),onLoad:this.onMediaLoad})):n&&P().createElement("video",Ee({autoPlay:!0,loop:!0,muted:!0,className:Bt("reactEasyCrop_Video",j==="contain"&&"reactEasyCrop_Contain",j==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",j==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",j==="auto-cover"&&(this.mediaSize.naturalWidth>this.mediaSize.naturalHeight?"reactEasyCrop_Cover_Horizontal":"reactEasyCrop_Cover_Vertical"),Q)},u,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Ee(Ee({},A),{transform:s||"translate("+l+"px, "+b+"px) rotate("+O+"deg) scale("+S+")"}),controls:!1}),(Array.isArray(n)?n:[{src:n}]).map(function($){return P().createElement("source",Ee({key:$.src},$))})),this.state.cropSize&&P().createElement("div",{style:Ee(Ee({},z),{width:this.state.cropSize.width,height:this.state.cropSize.height}),"data-testid":"cropper",className:Bt("reactEasyCrop_CropArea",M==="round"&&"reactEasyCrop_CropAreaRound",E&&"reactEasyCrop_CropAreaGrid",K)}))},a.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:Or,minZoom:Tr,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0},a.getMousePoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},a.getTouchPoint=function(e){return{x:Number(e.clientX),y:Number(e.clientY)}},a}(P().Component),Ar=Dr;function Lr(t){if(!!t&&typeof window!="undefined"){var a=document.createElement("style");return a.setAttribute("media","screen"),a.innerHTML=t,document.head.appendChild(a),t}}var at=function(){return at=Object.assign||function(a){for(var e,r=1,o=arguments.length;r<o;r++){e=arguments[r];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n])}return a},at.apply(this,arguments)};function kr(t,a){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&a.indexOf(r)<0&&(e[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)a.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(e[r[o]]=t[r[o]]);return e}function $t(t,a,e,r){function o(n){return n instanceof e?n:new e(function(u){u(n)})}return new(e||(e=Promise))(function(n,u){function s(b){try{l(r.next(b))}catch(O){u(O)}}function p(b){try{l(r.throw(b))}catch(O){u(O)}}function l(b){b.done?n(b.value):o(b.value).then(s,p)}l((r=r.apply(t,a||[])).next())})}function Xt(t,a){var e={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},r,o,n,u;return u={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function s(l){return function(b){return p([l,b])}}function p(l){if(r)throw new TypeError("Generator is already executing.");for(;e;)try{if(r=1,o&&(n=l[0]&2?o.return:l[0]?o.throw||((n=o.return)&&n.call(o),0):o.next)&&!(n=n.call(o,l[1])).done)return n;switch(o=0,n&&(l=[l[0]&2,n.value]),l[0]){case 0:case 1:n=l;break;case 4:return e.label++,{value:l[1],done:!1};case 5:e.label++,o=l[1],l=[0];continue;case 7:l=e.ops.pop(),e.trys.pop();continue;default:if(n=e.trys,!(n=n.length>0&&n[n.length-1])&&(l[0]===6||l[0]===2)){e=0;continue}if(l[0]===3&&(!n||l[1]>n[0]&&l[1]<n[3])){e.label=l[1];break}if(l[0]===6&&e.label<n[1]){e.label=n[1],n=l;break}if(n&&e.label<n[2]){e.label=n[2],e.ops.push(l);break}n[2]&&e.ops.pop(),e.trys.pop();continue}l=a.call(t,e)}catch(b){l=[6,b],o=0}finally{r=n=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}var it="img-crop",or=1,Pt=.1,Yt=0,Vt=1,ar=-180,ir=180,Zr=(0,i.forwardRef)(function(t,a){var e=t.cropperRef,r=t.image,o=t.aspect,n=t.shape,u=t.grid,s=t.zoom,p=t.rotate,l=t.minZoom,b=t.maxZoom,O=t.cropperProps,S=(0,i.useState)({x:0,y:0}),M=S[0],E=S[1],D=(0,i.useState)({width:0,height:0}),L=D[0],z=D[1],A=(0,i.useState)(or),H=A[0],ne=A[1],K=(0,i.useState)(Yt),Q=K[0],j=K[1],$=(0,i.useRef)({width:0,height:0,x:0,y:0}),J=(0,i.useCallback)(function(ie){var ue=ie.width,de=ie.height,ae=de*o;ue>ae?z({width:ae,height:de}):z({width:ue,height:ue/o})},[o]),q=(0,i.useCallback)(function(ie,ue){$.current=ue},[]);return(0,i.useImperativeHandle)(a,function(){return{rotateVal:Q,setZoomVal:ne,setRotateVal:j,cropPixelsRef:$}},[Q]),P().createElement(P().Fragment,null,P().createElement(Ar,at({},O,{ref:e,image:r,crop:M,cropSize:L,onCropChange:E,aspect:o,cropShape:n,showGrid:u,zoomWithScroll:s,zoom:H,rotation:Q,onZoomChange:ne,onRotationChange:j,minZoom:l,maxZoom:b,onMediaLoaded:J,onCropComplete:q,classes:{containerClassName:"".concat(it,"-container"),mediaClassName:"".concat(it,"-media")}})),s&&P().createElement("section",{className:"".concat(it,"-control ").concat(it,"-control-zoom")},P().createElement("button",{onClick:function(){return ne(H-Pt)},disabled:H-Pt<l},"\uFF0D"),P().createElement(xt,{min:l,max:b,step:Pt,value:H,onChange:ne}),P().createElement("button",{onClick:function(){return ne(H+Pt)},disabled:H+Pt>b},"\uFF0B")),p&&P().createElement("section",{className:"".concat(it,"-control ").concat(it,"-control-rotate")},P().createElement("button",{onClick:function(){return j(Q-Vt)},disabled:Q===ar},"\u21BA"),P().createElement(xt,{min:ar,max:ir,step:Vt,value:Q,onChange:j}),P().createElement("button",{onClick:function(){return j(Q+Vt)},disabled:Q===ir},"\u21BB")))}),Nr=(0,i.memo)(Zr);Lr(`.img-crop-modal .img-crop-container {
  position: relative;
  width: 100%;
  height: 40vh;
}
.img-crop-modal .img-crop-control {
  display: flex;
  align-items: center;
  width: 60%;
  margin-left: auto;
  margin-right: auto;
}
.img-crop-modal .img-crop-control:first-of-type {
  margin-top: 16px;
}
.img-crop-modal .img-crop-control:last-of-type {
  margin-bottom: -8px;
}
.img-crop-modal .img-crop-control button {
  display: flex;
  justify-content: center;
  align-items: center;
  width: 34px;
  height: 34px;
  padding: 0;
  font-style: normal;
  background: transparent;
  border: 0;
  outline: 0;
  cursor: pointer;
}
.img-crop-modal .img-crop-control button[disabled] {
  cursor: default;
}
.img-crop-modal .img-crop-control button + div:only-of-type {
  flex: 1;
  margin: 0 8px;
}
.img-crop-modal .img-crop-control-zoom button {
  font-size: 18px;
}
.img-crop-modal .img-crop-control-rotate button {
  font-size: 16px;
}
.img-crop-modal .img-crop-control-rotate button:first-of-type {
  transform: rotate(-20deg);
}
.img-crop-modal .img-crop-control-rotate button:last-of-type {
  transform: rotate(20deg);
}
`);var Ir=(0,i.forwardRef)(function(t,a){var e=t.aspect,r=e===void 0?1:e,o=t.shape,n=o===void 0?"rect":o,u=t.grid,s=u===void 0?!1:u,p=t.quality,l=p===void 0?.4:p,b=t.fillColor,O=b===void 0?"white":b,S=t.zoom,M=S===void 0?!0:S,E=t.rotate,D=E===void 0?!1:E,L=t.minZoom,z=L===void 0?1:L,A=t.maxZoom,H=A===void 0?3:A,ne=t.modalTitle,K=t.modalWidth,Q=t.modalOk,j=t.modalCancel,$=t.modalMaskTransitionName,J=t.modalTransitionName,q=t.modalClassName,ie=t.onModalOk,ue=t.onModalCancel,de=t.beforeCrop,ae=t.onUploadFail,Me=t.cropperProps,_e=t.children,V=(0,i.useRef)({});V.current.onModalOk=ie,V.current.onModalCancel=ue,V.current.beforeCrop=de,V.current.onUploadFail=ae;var ce=(0,i.useState)(""),ge=ce[0],He=ce[1],Qe=(0,i.useRef)(),je=(0,i.useRef)(),ve=(0,i.useRef)(),De=(0,i.useRef)(),Xe=(0,i.useMemo)(function(){var re=Array.isArray(_e)?_e[0]:_e,ee=re.props,Le=ee.beforeUpload,le=ee.accept,ke=kr(ee,["beforeUpload","accept"]);return je.current=Le,at(at({},re),{props:at(at({},ke),{accept:le||"image/*",beforeUpload:function(xe,vt){return new Promise(function(qe,Ye){return $t(void 0,void 0,void 0,function(){var Ge,Ze;return Xt(this,function(et){switch(et.label){case 0:return V.current.beforeCrop?[4,V.current.beforeCrop(xe,vt)]:[3,2];case 1:if(Ge=et.sent(),!Ge)return[2,Ye()];et.label=2;case 2:return Qe.current=xe,ve.current=function(tt){var Ne,fe;(fe=(Ne=V.current).onModalOk)===null||fe===void 0||fe.call(Ne,tt),qe(tt)},De.current=function(tt){var Ne,fe;(fe=(Ne=V.current).onUploadFail)===null||fe===void 0||fe.call(Ne,tt),Ye()},Ze=new FileReader,Ze.addEventListener("load",function(){typeof Ze.result=="string"&&He(Ze.result)}),Ze.readAsDataURL(xe),[2]}})})})}})})},[_e]),Te=(0,i.useRef)({}),Ae=(0,i.useMemo)(function(){var re={width:K,okText:Q,cancelText:j,maskTransitionName:$,transitionName:J};return Object.keys(re).forEach(function(ee){re[ee]||delete re[ee]}),re},[j,$,Q,J,K]),Je=function(){He(""),Te.current.setZoomVal(or),Te.current.setRotateVal(Yt)},ut=(0,i.useCallback)(function(){var re,ee;(ee=(re=V.current).onModalCancel)===null||ee===void 0||ee.call(re),Je()},[]),dt=(0,i.useCallback)(function(){return $t(void 0,void 0,void 0,function(){var re,ee,Le,le,ke,xe,vt,qe,Ye,Ge,Ze,et,tt,Ne,fe,Rt,Ie,mt,rt,Ct,gt,Mt,zt,_t;return Xt(this,function(Ft){return Je(),re=document.createElement("canvas"),ee=re.getContext("2d"),Le=document.querySelector(".".concat(it,"-media")),le=Te.current.cropPixelsRef.current,ke=le.width,xe=le.height,vt=le.x,qe=le.y,D&&Te.current.rotateVal!==Yt?(Ye=Le.naturalWidth,Ge=Le.naturalHeight,Ze=Te.current.rotateVal*(Math.PI/180),et=Math.abs(Math.sin(Ze)),tt=Math.abs(Math.cos(Ze)),Ne=Ye*tt+Ge*et,fe=Ge*tt+Ye*et,re.width=Ne,re.height=fe,ee.fillStyle=O,ee.fillRect(0,0,Ne,fe),Rt=Ne/2,Ie=fe/2,ee.translate(Rt,Ie),ee.rotate(Ze),ee.translate(-Rt,-Ie),mt=(Ne-Ye)/2,rt=(fe-Ge)/2,ee.drawImage(Le,0,0,Ye,Ge,mt,rt,Ye,Ge),Ct=ee.getImageData(0,0,Ne,fe),re.width=ke,re.height=xe,ee.putImageData(Ct,-vt,-qe)):(re.width=ke,re.height=xe,ee.fillStyle=O,ee.fillRect(0,0,ke,xe),ee.drawImage(Le,vt,qe,ke,xe,0,0,ke,xe)),gt=Qe.current,Mt=gt.type,zt=gt.name,_t=gt.uid,re.toBlob(function(Ht){return $t(void 0,void 0,void 0,function(){var nt,ot;return Xt(this,function(jt){switch(jt.label){case 0:return nt=Object.assign(new File([Ht],zt,{type:Mt}),{uid:_t}),je.current?[4,je.current(nt,[nt])]:[2,ve.current(nt)];case 1:return ot=jt.sent(),ot===!0?[2,ve.current(nt)]:ot===!1?[2,De.current(new Error("beforeUpload return false"))]:(delete nt[_.Z.LIST_IGNORE],ot===_.Z.LIST_IGNORE?(Object.defineProperty(nt,_.Z.LIST_IGNORE,{value:!0,configurable:!0}),[2,De.current(new Error("beforeUpload return LIST_IGNORE"))]):typeof ot=="object"&&ot!==null?[2,ve.current(ot)]:[2])}})})},Mt,l),[2]})})},[O,l,D]),lt=function(re){return P().createElement(P().Fragment,null,Xe,ge&&P().createElement(N.Z,at({open:!0,visible:!0,wrapClassName:"".concat(it,"-modal ").concat(q||""),title:re,onOk:dt,onCancel:ut,maskClosable:!1,destroyOnClose:!0},Ae),P().createElement(Nr,{ref:Te,cropperRef:a,image:ge,aspect:r,shape:n,grid:s,zoom:M,rotate:D,minZoom:z,maxZoom:H,cropperProps:Me})))};return ne?lt(ne):P().createElement(k.Z,null,function(re,ee){return lt(ee==="zh-cn"?"\u7F16\u8F91\u56FE\u7247":"Edit image")})})},63395:function(X,G,m){"use strict";var i=m(88577),P=m(86409)},6210:function(X,G,m){X.exports=m(92782)},72906:function(X){"use strict";var G=!!(typeof window!="undefined"&&window.document&&window.document.createElement),m={canUseDOM:G,canUseWorkers:typeof Worker!="undefined",canUseEventListeners:G&&!!(window.addEventListener||window.attachEvent),canUseViewport:G&&!!window.screen,isInWorker:!G};X.exports=m},73211:function(X){var G=!1,m,i,P,N,_,k,v,d,h,c,f,C,w,Z,B;function R(){if(!G){G=!0;var te=navigator.userAgent,I=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(te),Be=/(Mac OS X)|(Windows)|(Linux)/.exec(te);if(C=/\b(iPhone|iP[ao]d)/.exec(te),w=/\b(iP[ao]d)/.exec(te),c=/Android/i.exec(te),Z=/FBAN\/\w+;/i.exec(te),B=/Mobile/i.exec(te),f=!!/Win64/.exec(te),I){m=I[1]?parseFloat(I[1]):I[5]?parseFloat(I[5]):NaN,m&&document&&document.documentMode&&(m=document.documentMode);var Oe=/(?:Trident\/(\d+.\d+))/.exec(te);k=Oe?parseFloat(Oe[1])+4:m,i=I[2]?parseFloat(I[2]):NaN,P=I[3]?parseFloat(I[3]):NaN,N=I[4]?parseFloat(I[4]):NaN,N?(I=/(?:Chrome\/(\d+\.\d+))/.exec(te),_=I&&I[1]?parseFloat(I[1]):NaN):_=NaN}else m=i=P=_=N=NaN;if(Be){if(Be[1]){var ze=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(te);v=ze?parseFloat(ze[1].replace("_",".")):!0}else v=!1;d=!!Be[2],h=!!Be[3]}else v=d=h=!1}}var Y={ie:function(){return R()||m},ieCompatibilityMode:function(){return R()||k>m},ie64:function(){return Y.ie()&&f},firefox:function(){return R()||i},opera:function(){return R()||P},webkit:function(){return R()||N},safari:function(){return Y.webkit()},chrome:function(){return R()||_},windows:function(){return R()||d},osx:function(){return R()||v},linux:function(){return R()||h},iphone:function(){return R()||C},mobile:function(){return R()||C||w||c||B},nativeApp:function(){return R()||Z},android:function(){return R()||c},ipad:function(){return R()||w}};X.exports=Y},16177:function(X,G,m){"use strict";var i=m(72906),P;i.canUseDOM&&(P=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function N(_,k){if(!i.canUseDOM||k&&!("addEventListener"in document))return!1;var v="on"+_,d=v in document;if(!d){var h=document.createElement("div");h.setAttribute(v,"return;"),d=typeof h[v]=="function"}return!d&&P&&_==="wheel"&&(d=document.implementation.hasFeature("Events.wheel","3.0")),d}X.exports=N},92782:function(X,G,m){"use strict";var i=m(73211),P=m(16177),N=10,_=40,k=800;function v(d){var h=0,c=0,f=0,C=0;return"detail"in d&&(c=d.detail),"wheelDelta"in d&&(c=-d.wheelDelta/120),"wheelDeltaY"in d&&(c=-d.wheelDeltaY/120),"wheelDeltaX"in d&&(h=-d.wheelDeltaX/120),"axis"in d&&d.axis===d.HORIZONTAL_AXIS&&(h=c,c=0),f=h*N,C=c*N,"deltaY"in d&&(C=d.deltaY),"deltaX"in d&&(f=d.deltaX),(f||C)&&d.deltaMode&&(d.deltaMode==1?(f*=_,C*=_):(f*=k,C*=k)),f&&!h&&(h=f<1?-1:1),C&&!c&&(c=C<1?-1:1),{spinX:h,spinY:c,pixelX:f,pixelY:C}}v.getEventType=function(){return i.firefox()?"DOMMouseScroll":P("wheel")?"wheel":"mousewheel"},X.exports=v},74049:function(X,G,m){"use strict";var i=m(36257);function P(){}function N(){}N.resetWarningCache=P,X.exports=function(){function _(d,h,c,f,C,w){if(w!==i){var Z=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Z.name="Invariant Violation",Z}}_.isRequired=_;function k(){return _}var v={array:_,bigint:_,bool:_,func:_,number:_,object:_,string:_,symbol:_,any:_,arrayOf:k,element:_,elementType:_,instanceOf:k,node:_,objectOf:k,oneOf:k,oneOfType:k,shape:k,exact:k,checkPropTypes:N,resetWarningCache:P};return v.PropTypes=v,v}},40507:function(X,G,m){if(!1)var i,P;else X.exports=m(74049)()},36257:function(X){"use strict";var G="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";X.exports=G},31688:function(X,G,m){var i=m(45478);function P(N){this.mode=i.MODE_8BIT_BYTE,this.data=N}P.prototype={getLength:function(N){return this.data.length},write:function(N){for(var _=0;_<this.data.length;_++)N.put(this.data.charCodeAt(_),8)}},X.exports=P},77572:function(X){function G(){this.buffer=new Array,this.length=0}G.prototype={get:function(m){var i=Math.floor(m/8);return(this.buffer[i]>>>7-m%8&1)==1},put:function(m,i){for(var P=0;P<i;P++)this.putBit((m>>>i-P-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(m){var i=Math.floor(this.length/8);this.buffer.length<=i&&this.buffer.push(0),m&&(this.buffer[i]|=128>>>this.length%8),this.length++}},X.exports=G},12538:function(X){X.exports={L:1,M:0,Q:3,H:2}},14382:function(X,G,m){var i=m(4897);function P(N,_){if(N.length==null)throw new Error(N.length+"/"+_);for(var k=0;k<N.length&&N[k]==0;)k++;this.num=new Array(N.length-k+_);for(var v=0;v<N.length-k;v++)this.num[v]=N[v+k]}P.prototype={get:function(N){return this.num[N]},getLength:function(){return this.num.length},multiply:function(N){for(var _=new Array(this.getLength()+N.getLength()-1),k=0;k<this.getLength();k++)for(var v=0;v<N.getLength();v++)_[k+v]^=i.gexp(i.glog(this.get(k))+i.glog(N.get(v)));return new P(_,0)},mod:function(N){if(this.getLength()-N.getLength()<0)return this;for(var _=i.glog(this.get(0))-i.glog(N.get(0)),k=new Array(this.getLength()),v=0;v<this.getLength();v++)k[v]=this.get(v);for(var v=0;v<N.getLength();v++)k[v]^=i.gexp(i.glog(N.get(v))+_);return new P(k,0).mod(N)}},X.exports=P},46175:function(X,G,m){var i=m(31688),P=m(77515),N=m(77572),_=m(62739),k=m(14382);function v(h,c){this.typeNumber=h,this.errorCorrectLevel=c,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var d=v.prototype;d.addData=function(h){var c=new i(h);this.dataList.push(c),this.dataCache=null},d.isDark=function(h,c){if(h<0||this.moduleCount<=h||c<0||this.moduleCount<=c)throw new Error(h+","+c);return this.modules[h][c]},d.getModuleCount=function(){return this.moduleCount},d.make=function(){if(this.typeNumber<1){var h=1;for(h=1;h<40;h++){for(var c=P.getRSBlocks(h,this.errorCorrectLevel),f=new N,C=0,w=0;w<c.length;w++)C+=c[w].dataCount;for(var w=0;w<this.dataList.length;w++){var Z=this.dataList[w];f.put(Z.mode,4),f.put(Z.getLength(),_.getLengthInBits(Z.mode,h)),Z.write(f)}if(f.getLengthInBits()<=C*8)break}this.typeNumber=h}this.makeImpl(!1,this.getBestMaskPattern())},d.makeImpl=function(h,c){this.moduleCount=this.typeNumber*4+17,this.modules=new Array(this.moduleCount);for(var f=0;f<this.moduleCount;f++){this.modules[f]=new Array(this.moduleCount);for(var C=0;C<this.moduleCount;C++)this.modules[f][C]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(h,c),this.typeNumber>=7&&this.setupTypeNumber(h),this.dataCache==null&&(this.dataCache=v.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,c)},d.setupPositionProbePattern=function(h,c){for(var f=-1;f<=7;f++)if(!(h+f<=-1||this.moduleCount<=h+f))for(var C=-1;C<=7;C++)c+C<=-1||this.moduleCount<=c+C||(0<=f&&f<=6&&(C==0||C==6)||0<=C&&C<=6&&(f==0||f==6)||2<=f&&f<=4&&2<=C&&C<=4?this.modules[h+f][c+C]=!0:this.modules[h+f][c+C]=!1)},d.getBestMaskPattern=function(){for(var h=0,c=0,f=0;f<8;f++){this.makeImpl(!0,f);var C=_.getLostPoint(this);(f==0||h>C)&&(h=C,c=f)}return c},d.createMovieClip=function(h,c,f){var C=h.createEmptyMovieClip(c,f),w=1;this.make();for(var Z=0;Z<this.modules.length;Z++)for(var B=Z*w,R=0;R<this.modules[Z].length;R++){var Y=R*w,te=this.modules[Z][R];te&&(C.beginFill(0,100),C.moveTo(Y,B),C.lineTo(Y+w,B),C.lineTo(Y+w,B+w),C.lineTo(Y,B+w),C.endFill())}return C},d.setupTimingPattern=function(){for(var h=8;h<this.moduleCount-8;h++)this.modules[h][6]==null&&(this.modules[h][6]=h%2==0);for(var c=8;c<this.moduleCount-8;c++)this.modules[6][c]==null&&(this.modules[6][c]=c%2==0)},d.setupPositionAdjustPattern=function(){for(var h=_.getPatternPosition(this.typeNumber),c=0;c<h.length;c++)for(var f=0;f<h.length;f++){var C=h[c],w=h[f];if(this.modules[C][w]==null)for(var Z=-2;Z<=2;Z++)for(var B=-2;B<=2;B++)Z==-2||Z==2||B==-2||B==2||Z==0&&B==0?this.modules[C+Z][w+B]=!0:this.modules[C+Z][w+B]=!1}},d.setupTypeNumber=function(h){for(var c=_.getBCHTypeNumber(this.typeNumber),f=0;f<18;f++){var C=!h&&(c>>f&1)==1;this.modules[Math.floor(f/3)][f%3+this.moduleCount-8-3]=C}for(var f=0;f<18;f++){var C=!h&&(c>>f&1)==1;this.modules[f%3+this.moduleCount-8-3][Math.floor(f/3)]=C}},d.setupTypeInfo=function(h,c){for(var f=this.errorCorrectLevel<<3|c,C=_.getBCHTypeInfo(f),w=0;w<15;w++){var Z=!h&&(C>>w&1)==1;w<6?this.modules[w][8]=Z:w<8?this.modules[w+1][8]=Z:this.modules[this.moduleCount-15+w][8]=Z}for(var w=0;w<15;w++){var Z=!h&&(C>>w&1)==1;w<8?this.modules[8][this.moduleCount-w-1]=Z:w<9?this.modules[8][15-w-1+1]=Z:this.modules[8][15-w-1]=Z}this.modules[this.moduleCount-8][8]=!h},d.mapData=function(h,c){for(var f=-1,C=this.moduleCount-1,w=7,Z=0,B=this.moduleCount-1;B>0;B-=2)for(B==6&&B--;;){for(var R=0;R<2;R++)if(this.modules[C][B-R]==null){var Y=!1;Z<h.length&&(Y=(h[Z]>>>w&1)==1);var te=_.getMask(c,C,B-R);te&&(Y=!Y),this.modules[C][B-R]=Y,w--,w==-1&&(Z++,w=7)}if(C+=f,C<0||this.moduleCount<=C){C-=f,f=-f;break}}},v.PAD0=236,v.PAD1=17,v.createData=function(h,c,f){for(var C=P.getRSBlocks(h,c),w=new N,Z=0;Z<f.length;Z++){var B=f[Z];w.put(B.mode,4),w.put(B.getLength(),_.getLengthInBits(B.mode,h)),B.write(w)}for(var R=0,Z=0;Z<C.length;Z++)R+=C[Z].dataCount;if(w.getLengthInBits()>R*8)throw new Error("code length overflow. ("+w.getLengthInBits()+">"+R*8+")");for(w.getLengthInBits()+4<=R*8&&w.put(0,4);w.getLengthInBits()%8!=0;)w.putBit(!1);for(;!(w.getLengthInBits()>=R*8||(w.put(v.PAD0,8),w.getLengthInBits()>=R*8));)w.put(v.PAD1,8);return v.createBytes(w,C)},v.createBytes=function(h,c){for(var f=0,C=0,w=0,Z=new Array(c.length),B=new Array(c.length),R=0;R<c.length;R++){var Y=c[R].dataCount,te=c[R].totalCount-Y;C=Math.max(C,Y),w=Math.max(w,te),Z[R]=new Array(Y);for(var I=0;I<Z[R].length;I++)Z[R][I]=255&h.buffer[I+f];f+=Y;var Be=_.getErrorCorrectPolynomial(te),Oe=new k(Z[R],Be.getLength()-1),ze=Oe.mod(Be);B[R]=new Array(Be.getLength()-1);for(var I=0;I<B[R].length;I++){var ct=I+ze.getLength()-B[R].length;B[R][I]=ct>=0?ze.get(ct):0}}for(var Fe=0,I=0;I<c.length;I++)Fe+=c[I].totalCount;for(var ft=new Array(Fe),ht=0,I=0;I<C;I++)for(var R=0;R<c.length;R++)I<Z[R].length&&(ft[ht++]=Z[R][I]);for(var I=0;I<w;I++)for(var R=0;R<c.length;R++)I<B[R].length&&(ft[ht++]=B[R][I]);return ft},X.exports=v},77515:function(X,G,m){var i=m(12538);function P(N,_){this.totalCount=N,this.dataCount=_}P.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],P.getRSBlocks=function(N,_){var k=P.getRsBlockTable(N,_);if(k==null)throw new Error("bad rs block @ typeNumber:"+N+"/errorCorrectLevel:"+_);for(var v=k.length/3,d=new Array,h=0;h<v;h++)for(var c=k[h*3+0],f=k[h*3+1],C=k[h*3+2],w=0;w<c;w++)d.push(new P(f,C));return d},P.getRsBlockTable=function(N,_){switch(_){case i.L:return P.RS_BLOCK_TABLE[(N-1)*4+0];case i.M:return P.RS_BLOCK_TABLE[(N-1)*4+1];case i.Q:return P.RS_BLOCK_TABLE[(N-1)*4+2];case i.H:return P.RS_BLOCK_TABLE[(N-1)*4+3];default:return}},X.exports=P},4897:function(X){for(var G={glog:function(i){if(i<1)throw new Error("glog("+i+")");return G.LOG_TABLE[i]},gexp:function(i){for(;i<0;)i+=255;for(;i>=256;)i-=255;return G.EXP_TABLE[i]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},m=0;m<8;m++)G.EXP_TABLE[m]=1<<m;for(var m=8;m<256;m++)G.EXP_TABLE[m]=G.EXP_TABLE[m-4]^G.EXP_TABLE[m-5]^G.EXP_TABLE[m-6]^G.EXP_TABLE[m-8];for(var m=0;m<255;m++)G.LOG_TABLE[G.EXP_TABLE[m]]=m;X.exports=G},45478:function(X){X.exports={MODE_NUMBER:1<<0,MODE_ALPHA_NUM:1<<1,MODE_8BIT_BYTE:1<<2,MODE_KANJI:1<<3}},62739:function(X,G,m){var i=m(45478),P=m(14382),N=m(4897),_={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7},k={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,G18:1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,G15_MASK:1<<14|1<<12|1<<10|1<<4|1<<1,getBCHTypeInfo:function(v){for(var d=v<<10;k.getBCHDigit(d)-k.getBCHDigit(k.G15)>=0;)d^=k.G15<<k.getBCHDigit(d)-k.getBCHDigit(k.G15);return(v<<10|d)^k.G15_MASK},getBCHTypeNumber:function(v){for(var d=v<<12;k.getBCHDigit(d)-k.getBCHDigit(k.G18)>=0;)d^=k.G18<<k.getBCHDigit(d)-k.getBCHDigit(k.G18);return v<<12|d},getBCHDigit:function(v){for(var d=0;v!=0;)d++,v>>>=1;return d},getPatternPosition:function(v){return k.PATTERN_POSITION_TABLE[v-1]},getMask:function(v,d,h){switch(v){case _.PATTERN000:return(d+h)%2==0;case _.PATTERN001:return d%2==0;case _.PATTERN010:return h%3==0;case _.PATTERN011:return(d+h)%3==0;case _.PATTERN100:return(Math.floor(d/2)+Math.floor(h/3))%2==0;case _.PATTERN101:return d*h%2+d*h%3==0;case _.PATTERN110:return(d*h%2+d*h%3)%2==0;case _.PATTERN111:return(d*h%3+(d+h)%2)%2==0;default:throw new Error("bad maskPattern:"+v)}},getErrorCorrectPolynomial:function(v){for(var d=new P([1],0),h=0;h<v;h++)d=d.multiply(new P([1,N.gexp(h)],0));return d},getLengthInBits:function(v,d){if(1<=d&&d<10)switch(v){case i.MODE_NUMBER:return 10;case i.MODE_ALPHA_NUM:return 9;case i.MODE_8BIT_BYTE:return 8;case i.MODE_KANJI:return 8;default:throw new Error("mode:"+v)}else if(d<27)switch(v){case i.MODE_NUMBER:return 12;case i.MODE_ALPHA_NUM:return 11;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 10;default:throw new Error("mode:"+v)}else if(d<41)switch(v){case i.MODE_NUMBER:return 14;case i.MODE_ALPHA_NUM:return 13;case i.MODE_8BIT_BYTE:return 16;case i.MODE_KANJI:return 12;default:throw new Error("mode:"+v)}else throw new Error("type:"+d)},getLostPoint:function(v){for(var d=v.getModuleCount(),h=0,c=0;c<d;c++)for(var f=0;f<d;f++){for(var C=0,w=v.isDark(c,f),Z=-1;Z<=1;Z++)if(!(c+Z<0||d<=c+Z))for(var B=-1;B<=1;B++)f+B<0||d<=f+B||Z==0&&B==0||w==v.isDark(c+Z,f+B)&&C++;C>5&&(h+=3+C-5)}for(var c=0;c<d-1;c++)for(var f=0;f<d-1;f++){var R=0;v.isDark(c,f)&&R++,v.isDark(c+1,f)&&R++,v.isDark(c,f+1)&&R++,v.isDark(c+1,f+1)&&R++,(R==0||R==4)&&(h+=3)}for(var c=0;c<d;c++)for(var f=0;f<d-6;f++)v.isDark(c,f)&&!v.isDark(c,f+1)&&v.isDark(c,f+2)&&v.isDark(c,f+3)&&v.isDark(c,f+4)&&!v.isDark(c,f+5)&&v.isDark(c,f+6)&&(h+=40);for(var f=0;f<d;f++)for(var c=0;c<d-6;c++)v.isDark(c,f)&&!v.isDark(c+1,f)&&v.isDark(c+2,f)&&v.isDark(c+3,f)&&v.isDark(c+4,f)&&!v.isDark(c+5,f)&&v.isDark(c+6,f)&&(h+=40);for(var Y=0,f=0;f<d;f++)for(var c=0;c<d;c++)v.isDark(c,f)&&Y++;var te=Math.abs(100*Y/d/d-50)/5;return h+=te*10,h}};X.exports=k},48039:function(X,G,m){"use strict";function i(T){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?i=function(x){return typeof x}:i=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},i(T)}function P(){return P=Object.assign||function(T){for(var g=1;g<arguments.length;g++){var x=arguments[g];for(var y in x)Object.prototype.hasOwnProperty.call(x,y)&&(T[y]=x[y])}return T},P.apply(this,arguments)}function N(T,g){var x=Object.keys(T);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(T);g&&(y=y.filter(function(F){return Object.getOwnPropertyDescriptor(T,F).enumerable})),x.push.apply(x,y)}return x}function _(T){for(var g=1;g<arguments.length;g++){var x=arguments[g]!=null?arguments[g]:{};g%2?N(x,!0).forEach(function(y){R(T,y,x[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(x)):N(x).forEach(function(y){Object.defineProperty(T,y,Object.getOwnPropertyDescriptor(x,y))})}return T}function k(T,g){if(T==null)return{};var x=v(T,g),y,F;if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(T);for(F=0;F<W.length;F++)y=W[F],!(g.indexOf(y)>=0)&&(!Object.prototype.propertyIsEnumerable.call(T,y)||(x[y]=T[y]))}return x}function v(T,g){if(T==null)return{};var x={},y=Object.keys(T),F,W;for(W=0;W<y.length;W++)F=y[W],!(g.indexOf(F)>=0)&&(x[F]=T[F]);return x}function d(T,g){if(!(T instanceof g))throw new TypeError("Cannot call a class as a function")}function h(T,g){for(var x=0;x<g.length;x++){var y=g[x];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(T,y.key,y)}}function c(T,g,x){return g&&h(T.prototype,g),x&&h(T,x),T}function f(T,g){return g&&(i(g)==="object"||typeof g=="function")?g:w(T)}function C(T){return C=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},C(T)}function w(T){if(T===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return T}function Z(T,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");T.prototype=Object.create(g&&g.prototype,{constructor:{value:T,writable:!0,configurable:!0}}),g&&B(T,g)}function B(T,g){return B=Object.setPrototypeOf||function(y,F){return y.__proto__=F,y},B(T,g)}function R(T,g,x){return g in T?Object.defineProperty(T,g,{value:x,enumerable:!0,configurable:!0,writable:!0}):T[g]=x,T}var Y=m(63313),te=m(40507),I=m(46175),Be=m(12538);function Oe(T){for(var g="",x=0;x<T.length;x++){var y=T.charCodeAt(x);y<128?g+=String.fromCharCode(y):y<2048?(g+=String.fromCharCode(192|y>>6),g+=String.fromCharCode(128|y&63)):y<55296||y>=57344?(g+=String.fromCharCode(224|y>>12),g+=String.fromCharCode(128|y>>6&63),g+=String.fromCharCode(128|y&63)):(x++,y=65536+((y&1023)<<10|T.charCodeAt(x)&1023),g+=String.fromCharCode(240|y>>18),g+=String.fromCharCode(128|y>>12&63),g+=String.fromCharCode(128|y>>6&63),g+=String.fromCharCode(128|y&63))}return g}var ze={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1},ct={},Fe=4,ft=.1;function ht(T){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=[];return T.forEach(function(y,F){var W=null;y.forEach(function(se,Pe){if(!se&&W!==null){x.push("M".concat(W+g," ").concat(F+g,"h").concat(Pe-W,"v1H").concat(W+g,"z")),W=null;return}if(Pe===y.length-1){if(!se)return;W===null?x.push("M".concat(Pe+g,",").concat(F+g," h1v1H").concat(Pe+g,"z")):x.push("M".concat(W+g,",").concat(F+g," h").concat(Pe+1-W,"v1H").concat(W+g,"z"));return}se&&W===null&&(W=Pe)})}),x.join("")}function Dt(T,g){return T.slice().map(function(x,y){return y<g.y||y>=g.y+g.h?x:x.map(function(F,W){return W<g.x||W>=g.x+g.w?F:!1})})}function At(T,g){var x=T.imageSettings,y=T.size,F=T.includeMargin;if(x==null)return null;var W=F?Fe:0,se=g.length+W*2,Pe=Math.floor(y*ft),$e=se/y,Ve=(x.width||Pe)*$e,We=(x.height||Pe)*$e,Ue=x.x==null?g.length/2-Ve/2:x.x*$e,be=x.y==null?g.length/2-We/2:x.y*$e,he=null;if(x.excavate){var ye=Math.floor(Ue),Ce=Math.floor(be),we=Math.ceil(Ve+Ue-ye),Re=Math.ceil(We+be-Ce);he={x:ye,y:Ce,w:we,h:Re}}return{x:Ue,y:be,h:We,w:Ve,excavation:he}}var Ut=function(){try{new Path2D().addPath(new Path2D)}catch(T){return!1}return!0}(),Lt=function(T){Z(g,T);function g(){var x,y;d(this,g);for(var F=arguments.length,W=new Array(F),se=0;se<F;se++)W[se]=arguments[se];return y=f(this,(x=C(g)).call.apply(x,[this].concat(W))),R(w(y),"_canvas",void 0),R(w(y),"_image",void 0),R(w(y),"state",{imgLoaded:!1}),R(w(y),"handleImageLoad",function(){y.setState({imgLoaded:!0})}),y}return c(g,[{key:"componentDidMount",value:function(){this._image&&this._image.complete&&this.handleImageLoad(),this.update()}},{key:"componentWillReceiveProps",value:function(y){var F,W,se=(F=this.props.imageSettings)===null||F===void 0?void 0:F.src,Pe=(W=y.imageSettings)===null||W===void 0?void 0:W.src;se!==Pe&&this.setState({imgLoaded:!1})}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var y=this.props,F=y.value,W=y.size,se=y.level,Pe=y.bgColor,$e=y.fgColor,Ve=y.includeMargin,We=y.imageSettings,Ue=new I(-1,Be[se]);if(Ue.addData(Oe(F)),Ue.make(),this._canvas!=null){var be=this._canvas,he=be.getContext("2d");if(!he)return;var ye=Ue.modules;if(ye===null)return;var Ce=Ve?Fe:0,we=ye.length+Ce*2,Re=At(this.props,ye);We!=null&&Re!=null&&Re.excavation!=null&&(ye=Dt(ye,Re.excavation));var Ke=window.devicePixelRatio||1;be.height=be.width=W*Ke;var xt=W/we*Ke;he.scale(xt,xt),he.fillStyle=Pe,he.fillRect(0,0,we,we),he.fillStyle=$e,Ut?he.fill(new Path2D(ht(ye,Ce))):ye.forEach(function(St,Gt){St.forEach(function(Ee,Qt){Ee&&he.fillRect(Qt+Ce,Gt+Ce,1,1)})}),this.state.imgLoaded&&this._image&&Re!=null&&he.drawImage(this._image,Re.x+Ce,Re.y+Ce,Re.w,Re.h)}}},{key:"render",value:function(){var y=this,F=this.props,W=F.value,se=F.size,Pe=F.level,$e=F.bgColor,Ve=F.fgColor,We=F.style,Ue=F.includeMargin,be=F.imageSettings,he=k(F,["value","size","level","bgColor","fgColor","style","includeMargin","imageSettings"]),ye=_({height:se,width:se},We),Ce=null,we=be&&be.src;return be!=null&&we!=null&&(Ce=Y.createElement("img",{src:we,style:{display:"none"},onLoad:this.handleImageLoad,ref:function(Ke){return y._image=Ke}})),Y.createElement(Y.Fragment,null,Y.createElement("canvas",P({style:ye,height:se,width:se,ref:function(Ke){return y._canvas=Ke}},he)),Ce)}}]),g}(Y.PureComponent);R(Lt,"defaultProps",ze);var Et=function(T){Z(g,T);function g(){return d(this,g),f(this,C(g).apply(this,arguments))}return c(g,[{key:"render",value:function(){var y=this.props,F=y.value,W=y.size,se=y.level,Pe=y.bgColor,$e=y.fgColor,Ve=y.includeMargin,We=y.imageSettings,Ue=k(y,["value","size","level","bgColor","fgColor","includeMargin","imageSettings"]),be=new I(-1,Be[se]);be.addData(Oe(F)),be.make();var he=be.modules;if(he===null)return null;var ye=Ve?Fe:0,Ce=he.length+ye*2,we=At(this.props,he),Re=null;We!=null&&we!=null&&(we.excavation!=null&&(he=Dt(he,we.excavation)),Re=Y.createElement("image",{xlinkHref:We.src,height:we.h,width:we.w,x:we.x+ye,y:we.y+ye,preserveAspectRatio:"none"}));var Ke=ht(he,ye);return Y.createElement("svg",P({shapeRendering:"crispEdges",height:W,width:W,viewBox:"0 0 ".concat(Ce," ").concat(Ce)},Ue),Y.createElement("path",{fill:Pe,d:"M0,0 h".concat(Ce,"v").concat(Ce,"H0z")}),Y.createElement("path",{fill:$e,d:Ke}),Re)}}]),g}(Y.PureComponent);R(Et,"defaultProps",ze);var kt=function(g){var x=g.renderAs,y=k(g,["renderAs"]),F=x==="svg"?Et:Lt;return Y.createElement(F,y)};kt.defaultProps=_({renderAs:"canvas"},ze),X.exports=kt}}]);
