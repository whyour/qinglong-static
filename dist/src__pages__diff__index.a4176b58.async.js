"use strict";(self.webpackChunk_whyour_qinglong=self.webpackChunk_whyour_qinglong||[]).push([[6401],{63749:function(e,t,n){n.r(t),n.d(t,{default:function(){return S}});var a=n(48305),i=n.n(a),o=n(72317),r=n(75271),c=n(35181),s=n(61508),l=n(93481),f=n(75036),u=n(91757),d=n(72338),h=n(3475),g=n(47508),p=n(16314),m=n(83383),x=n(73674),Z=n.n(x),v=n(98783),w=n(52076),j=n(52676),P=c.Z.Option,S=function(){var e=(0,v.useOutletContext)(),t=e.headerStyle,n=e.isPhone,a=e.theme,x=(0,r.useState)("sample/config.sample.sh"),S=i()(x,2),y=S[0],C=S[1],W=(0,r.useState)("config.sh"),b=i()(W,2),k=b[0],V=b[1],I=(0,r.useState)(""),M=i()(I,2),N=M[0],R=M[1],_=(0,r.useState)(""),q=i()(_,2),E=q[0],X=q[1],O=(0,r.useState)(!0),T=i()(O,2),U=T[0],z=T[1],A=(0,r.useState)([]),B=i()(A,2),D=B[0],H=B[1],$=(0,r.useRef)(null),F=(0,r.useState)("shell"),G=i()(F,2),J=G[0],K=G[1];return(0,r.useEffect)((function(){z(!0),p.W.get("".concat(h.Z.apiPrefix,"configs/samples")).then((function(e){var t=e.code,n=e.data;200===t&&H(n)})).finally((function(){return z(!1)}))}),[]),(0,r.useEffect)((function(){p.W.get("".concat(h.Z.apiPrefix,"configs/detail?path=").concat(encodeURIComponent(y))).then((function(e){var t=e.code,n=e.data;200===t&&R(n)}))}),[y]),(0,r.useEffect)((function(){p.W.get("".concat(h.Z.apiPrefix,"configs/detail?path=").concat(encodeURIComponent(k))).then((function(e){var t=e.code,n=e.data;200===t&&X(n)}))}),[k]),(0,j.jsxs)(g.ZP,{className:"ql-container-wrapper",title:o.ZP.get("对比工具"),loading:U,header:{style:t},extra:!n&&[(0,j.jsx)(l.Z,{type:"primary",onClick:function(){var e=$.current?$.current.getModel().modified.getValue().replace(/\r\n/g,"\n"):E;p.W.post("".concat(h.Z.apiPrefix,"configs/save"),{content:e,name:k}).then((function(e){var t=e.code;e.data;200===t&&s.ZP.success(o.ZP.get("保存成功"))}))},children:o.ZP.get("保存")},"1")],children:[(0,j.jsxs)(f.Z,{gutter:24,className:"diff-switch-file",children:[(0,j.jsx)(u.Z,{span:12,children:(0,j.jsx)(d.Z.Item,{label:o.ZP.get("源文件"),children:(0,j.jsx)(c.Z,{value:y,onChange:function(e,t){V(t.extra.target),C(e);var n=(0,w.H$)(e);K(n)},children:D.map((function(e){return(0,j.jsx)(P,{value:e.value,extra:e,children:e.title},e.value)}))})})}),(0,j.jsx)(u.Z,{span:12,children:(0,j.jsx)(d.Z.Item,{label:o.ZP.get("当前文件"),children:(0,j.jsx)("span",{className:"ant-form-text",children:k})})})]}),n?(0,j.jsx)(Z(),{styles:{diffContainer:{overflowX:"auto",minWidth:768},diffRemoved:{overflowX:"auto",maxWidth:300},diffAdded:{overflowX:"auto",maxWidth:300},line:{wordBreak:"break-word"}},oldValue:N,newValue:E,splitView:!0,leftTitle:"config.sh",rightTitle:"config.sample.sh",disableWordDiff:!0}):(0,j.jsx)(m.SV,{language:J,original:N,modified:E,options:{fontSize:12,lineNumbersMinChars:3,folding:!1,glyphMargin:!1,wordWrap:"on"},theme:a,onMount:function(e){$.current=e}})]})}}}]);