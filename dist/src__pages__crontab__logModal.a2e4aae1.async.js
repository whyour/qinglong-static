(self.webpackChunk=self.webpackChunk||[]).push([[3249,3830],{65601:function(E,o,n){"use strict";n.d(o,{Z:function(){return _}});var u=n(14797),a=n(63313),s={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 1024c-69.1 0-136.2-13.5-199.3-40.2C251.7 958 197 921 150 874c-47-47-84-101.7-109.8-162.7C13.5 648.2 0 581.1 0 512c0-19.9 16.1-36 36-36s36 16.1 36 36c0 59.4 11.6 117 34.6 171.3 22.2 52.4 53.9 99.5 94.3 139.9 40.4 40.4 87.5 72.2 139.9 94.3C395 940.4 452.6 952 512 952c59.4 0 117-11.6 171.3-34.6 52.4-22.2 99.5-53.9 139.9-94.3 40.4-40.4 72.2-87.5 94.3-139.9C940.4 629 952 571.4 952 512c0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.2C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3s-13.5 136.2-40.2 199.3C958 772.3 921 827 874 874c-47 47-101.8 83.9-162.7 109.7-63.1 26.8-130.2 40.3-199.3 40.3z"}}]},name:"loading-3-quarters",theme:"outlined"},t=s,f=n(46420),i=function(m,C){return a.createElement(f.Z,(0,u.Z)((0,u.Z)({},m),{},{ref:C,icon:t}))};i.displayName="Loading3QuartersOutlined";var _=a.forwardRef(i)},42792:function(E,o,n){"use strict";n.r(o);var u=n(54306),a=n.n(u),s=n(88265),t=n(63313),f=n.n(t),i=n(89065),_=n(84163),v=n(24378),m=n(95176),C=n(5558),Z=n(65601),j=n(38101),p=n(91796),Q=n(82428),e=n(11527),nn=i.Z.Countdown,$=function(c){var l=c.cron,z=c.handleCancel,M=c.visible,D=c.data,R=c.logUrl,F=(0,t.useState)(s.ZP.get("\u542F\u52A8\u4E2D...")),A=a()(F,2),T=A[0],I=A[1],N=(0,t.useState)(!0),S=a()(N,2),L=S[0],U=S[1],V=(0,t.useState)(!0),B=a()(V,2),W=B[0],H=B[1],b=(0,t.useState)(!1),y=a()(b,2),G=y[0],J=y[1],g=(0,t.useRef)({value:0,down:!0}),X=function r(O){O&&U(!0),m.W.get(R||"".concat(C.Z.apiPrefix,"crons/").concat(l.id,"/log")).then(function(d){var q=d.code,K=d.data;if(q===200&&localStorage.getItem("logCron")===String(l.id)&&K!==T){var P=K;I(P||s.ZP.get("\u6682\u65E0\u65E5\u5FD7"));var x=!!(P&&!(0,Q.x$)(P)&&!P.includes("\u4EFB\u52A1\u672A\u8FD0\u884C"));H(x),Y(),x&&setTimeout(function(){r()},2e3)}}).finally(function(){O&&U(!1)})},Y=function(){g.current.down&&setTimeout(function(){document.querySelector("#log-flag").scrollIntoView({behavior:"smooth"})},1e3)},h=function(){localStorage.removeItem("logCron"),z()},w=function(O){var d=O.target.scrollTop;g.current.down&&(g.current={value:d,down:d>g.current.value})},k=function(){return(0,e.jsxs)(e.Fragment,{children:[(W||L)&&(0,e.jsx)(Z.Z,{spin:!0}),!W&&!L&&(0,e.jsx)(j.Z,{}),(0,e.jsx)("span",{style:{marginLeft:5},children:l&&l.name})]})};return(0,t.useEffect)(function(){l&&l.id&&M&&X(!0)},[l,M]),(0,t.useEffect)(function(){D&&I(D)},[D]),(0,t.useEffect)(function(){J(document.body.clientWidth<768)},[]),(0,e.jsx)(_.Z,{title:k(),open:M,centered:!0,className:"log-modal",bodyStyle:{minHeight:"300px"},forceRender:!0,onOk:function(){return h()},onCancel:function(){return h()},footer:[(0,e.jsx)(v.Z,{type:"primary",onClick:function(){return h()},children:s.ZP.get("\u77E5\u9053\u4E86")})],children:(0,e.jsxs)("div",{onScroll:w,className:"log-container",children:[L?(0,e.jsx)(p.Z,{}):(0,e.jsx)("pre",{style:G?{fontFamily:"Source Code Pro",width:375,zoom:.83}:{},children:T}),(0,e.jsx)("div",{id:"log-flag"})]})})};o.default=$},92235:function(E,o,n){"use strict";n.d(o,{Z:function(){return t}});var u=n(17079),a=n(63313),s=n.n(a);function t(){var f=a.useReducer(function(v){return v+1},0),i=(0,u.Z)(f,2),_=i[1];return _}},24669:function(E){var o=Array.isArray;E.exports=o}}]);
