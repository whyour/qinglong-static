var Z2=Object.defineProperty,Y2=Object.defineProperties;var Q2=Object.getOwnPropertyDescriptors;var wm=Object.getOwnPropertySymbols;var K1=Object.prototype.hasOwnProperty,$1=Object.prototype.propertyIsEnumerable;var y0=(nt,xe,l)=>xe in nt?Z2(nt,xe,{enumerable:!0,configurable:!0,writable:!0,value:l}):nt[xe]=l,li=(nt,xe)=>{for(var l in xe||(xe={}))K1.call(xe,l)&&y0(nt,l,xe[l]);if(wm)for(var l of wm(xe))$1.call(xe,l)&&y0(nt,l,xe[l]);return nt},io=(nt,xe)=>Y2(nt,Q2(xe));var G1=(nt,xe)=>{var l={};for(var C in nt)K1.call(nt,C)&&xe.indexOf(C)<0&&(l[C]=nt[C]);if(nt!=null&&wm)for(var C of wm(nt))xe.indexOf(C)<0&&$1.call(nt,C)&&(l[C]=nt[C]);return l};var Mo=(nt,xe,l)=>(y0(nt,typeof xe!="symbol"?xe+"":xe,l),l);var zf=(nt,xe,l)=>new Promise((C,d)=>{var j=z=>{try{L(l.next(z))}catch(P){d(P)}},W=z=>{try{L(l.throw(z))}catch(P){d(P)}},L=z=>z.done?C(z.value):Promise.resolve(z.value).then(j,W);L((l=l.apply(nt,xe)).next())});(self.webpackChunk=self.webpackChunk||[]).push([[260],{43837:function(nt,xe,l){"use strict";var C=l(56453),d=l(24255),j=l(30486),W=l(63313),L=l.n(W),z=l(84875),P=l.n(z),A=l(6172),T=l(41129),S=["className","component","viewBox","spin","rotate","tabIndex","onClick","children"],_=W.forwardRef(function(y,u){var a=y.className,b=y.component,D=y.viewBox,N=y.spin,I=y.rotate,E=y.tabIndex,O=y.onClick,R=y.children,M=(0,j.Z)(y,S);(0,T.Kp)(Boolean(b||R),"Should have `component` prop or `children`."),(0,T.C3)();var K=W.useContext(A.Z),Z=K.prefixCls,te=Z===void 0?"anticon":Z,de=K.rootClassName,ge=P()(de,te,a),le=P()((0,d.Z)({},"".concat(te,"-spin"),!!N)),se=I?{msTransform:"rotate(".concat(I,"deg)"),transform:"rotate(".concat(I,"deg)")}:void 0,X=(0,C.Z)((0,C.Z)({},T.vD),{},{className:le,style:se,viewBox:D});D||delete X.viewBox;var re=function(){return b?W.createElement(b,(0,C.Z)({},X),R):R?((0,T.Kp)(Boolean(D)||W.Children.count(R)===1&&W.isValidElement(R)&&W.Children.only(R).type==="use","Make sure that you provide correct `viewBox` prop (default `0 0 1024 1024`) to the icon."),W.createElement("svg",(0,C.Z)((0,C.Z)({},X),{},{viewBox:D}),R)):null},ne=E;return ne===void 0&&O&&(ne=-1),W.createElement("span",(0,C.Z)((0,C.Z)({role:"img"},M),{},{ref:u,tabIndex:ne,onClick:O,className:ge}),re())});_.displayName="AntdIcon",xe.Z=_},82878:function(nt,xe,l){"use strict";l.d(xe,{Z:function(){return S}});var C=l(56453),d=l(30486),j=l(63313),W=l.n(j),L=l(43837),z=["type","children"],P=new Set;function A(_){return Boolean(typeof _=="string"&&_.length&&!P.has(_))}function T(_){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,u=_[y];if(A(u)){var a=document.createElement("script");a.setAttribute("src",u),a.setAttribute("data-namespace",u),_.length>y+1&&(a.onload=function(){T(_,y+1)},a.onerror=function(){T(_,y+1)}),P.add(u),document.body.appendChild(a)}}function S(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},y=_.scriptUrl,u=_.extraCommonProps,a=u===void 0?{}:u;y&&typeof document!="undefined"&&typeof window!="undefined"&&typeof document.createElement=="function"&&(Array.isArray(y)?T(y.reverse()):T([y]));var b=j.forwardRef(function(D,N){var I=D.type,E=D.children,O=(0,d.Z)(D,z),R=null;return D.type&&(R=j.createElement("use",{xlinkHref:"#".concat(I)})),E&&(R=E),j.createElement(L.Z,(0,C.Z)((0,C.Z)((0,C.Z)({},a),O),{},{ref:N}),R)});return b.displayName="Iconfont",b}},53133:function(nt,xe,l){"use strict";l.d(xe,{Z:function(){return P}});var C=l(56453),d=l(63313),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"},W=j,L=l(17536),z=function(T,S){return d.createElement(L.Z,(0,C.Z)((0,C.Z)({},T),{},{ref:S,icon:W}))};z.displayName="EyeOutlined";var P=d.forwardRef(z)},86107:function(nt,xe,l){"use strict";l.d(xe,{Z:function(){return P}});var C=l(56453),d=l(63313),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},W=j,L=l(17536),z=function(T,S){return d.createElement(L.Z,(0,C.Z)((0,C.Z)({},T),{},{ref:S,icon:W}))};z.displayName="LogoutOutlined";var P=d.forwardRef(z)},82639:function(nt,xe,l){"use strict";l.d(xe,{Z:function(){return P}});var C=l(56453),d=l(63313),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 000 13.8z"}}]},name:"menu-fold",theme:"outlined"},W=j,L=l(17536),z=function(T,S){return d.createElement(L.Z,(0,C.Z)((0,C.Z)({},T),{},{ref:S,icon:W}))};z.displayName="MenuFoldOutlined";var P=d.forwardRef(z)},58410:function(nt,xe,l){"use strict";l.d(xe,{Z:function(){return P}});var C=l(56453),d=l(63313),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM142.4 642.1L298.7 519a8.84 8.84 0 000-13.9L142.4 381.9c-5.8-4.6-14.4-.5-14.4 6.9v246.3a8.9 8.9 0 0014.4 7z"}}]},name:"menu-unfold",theme:"outlined"},W=j,L=l(17536),z=function(T,S){return d.createElement(L.Z,(0,C.Z)((0,C.Z)({},T),{},{ref:S,icon:W}))};z.displayName="MenuUnfoldOutlined";var P=d.forwardRef(z)},95752:function(nt,xe,l){"use strict";l.d(xe,{Z:function(){return P}});var C=l(56453),d=l(63313),j={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},W=j,L=l(17536),z=function(T,S){return d.createElement(L.Z,(0,C.Z)((0,C.Z)({},T),{},{ref:S,icon:W}))};z.displayName="SettingOutlined";var P=d.forwardRef(z)},7361:function(nt,xe,l){"use strict";var C=l(63313),d=l.n(C),j=(0,C.createContext)({});xe.Z=j},94080:function(nt,xe,l){"use strict";l.d(xe,{ZP:function(){return gd}});var C=l(87981),d=l(11193),j=l(13512),W=d.ZP;W.Header=d.h4,W.Footer=d.$_,W.Content=d.VY,W.Sider=j.Z;var L=W,z=l(24255),P=l(4321),A=l(88769),T=l(30486),S=l(36178),_=l(98243),y=l(6614),u=l(56453),a=l(11527),b=l(69117);function D(Ue,De){var Pe=typeof Symbol!="undefined"&&Ue[Symbol.iterator]||Ue["@@iterator"];if(!Pe){if(Array.isArray(Ue)||(Pe=(0,b.Z)(Ue))||De&&Ue&&typeof Ue.length=="number"){Pe&&(Ue=Pe);var tt=0,At=function(){};return{s:At,n:function(){return tt>=Ue.length?{done:!0}:{done:!1,value:Ue[tt++]}},e:function(yn){throw yn},f:At}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Bt=!0,Kt=!1,fn;return{s:function(){Pe=Pe.call(Ue)},n:function(){var yn=Pe.next();return Bt=yn.done,yn},e:function(yn){Kt=!0,fn=yn},f:function(){try{!Bt&&Pe.return!=null&&Pe.return()}finally{if(Kt)throw fn}}}}var N=l(41883),I=l(15882),E={locale:"zh_CN",today:"\u4ECA\u5929",now:"\u6B64\u523B",backToToday:"\u8FD4\u56DE\u4ECA\u5929",ok:"\u786E\u5B9A",timeSelect:"\u9009\u62E9\u65F6\u95F4",dateSelect:"\u9009\u62E9\u65E5\u671F",weekSelect:"\u9009\u62E9\u5468",clear:"\u6E05\u9664",month:"\u6708",year:"\u5E74",previousMonth:"\u4E0A\u4E2A\u6708 (\u7FFB\u9875\u4E0A\u952E)",nextMonth:"\u4E0B\u4E2A\u6708 (\u7FFB\u9875\u4E0B\u952E)",monthSelect:"\u9009\u62E9\u6708\u4EFD",yearSelect:"\u9009\u62E9\u5E74\u4EFD",decadeSelect:"\u9009\u62E9\u5E74\u4EE3",yearFormat:"YYYY\u5E74",dayFormat:"D\u65E5",dateFormat:"YYYY\u5E74M\u6708D\u65E5",dateTimeFormat:"YYYY\u5E74M\u6708D\u65E5 HH\u65F6mm\u5206ss\u79D2",previousYear:"\u4E0A\u4E00\u5E74 (Control\u952E\u52A0\u5DE6\u65B9\u5411\u952E)",nextYear:"\u4E0B\u4E00\u5E74 (Control\u952E\u52A0\u53F3\u65B9\u5411\u952E)",previousDecade:"\u4E0A\u4E00\u5E74\u4EE3",nextDecade:"\u4E0B\u4E00\u5E74\u4EE3",previousCentury:"\u4E0A\u4E00\u4E16\u7EAA",nextCentury:"\u4E0B\u4E00\u4E16\u7EAA"},O=E,R={placeholder:"\u8BF7\u9009\u62E9\u65F6\u95F4",rangePlaceholder:["\u5F00\u59CB\u65F6\u95F4","\u7ED3\u675F\u65F6\u95F4"]},M=R,K={lang:(0,I.Z)({placeholder:"\u8BF7\u9009\u62E9\u65E5\u671F",yearPlaceholder:"\u8BF7\u9009\u62E9\u5E74\u4EFD",quarterPlaceholder:"\u8BF7\u9009\u62E9\u5B63\u5EA6",monthPlaceholder:"\u8BF7\u9009\u62E9\u6708\u4EFD",weekPlaceholder:"\u8BF7\u9009\u62E9\u5468",rangePlaceholder:["\u5F00\u59CB\u65E5\u671F","\u7ED3\u675F\u65E5\u671F"],rangeYearPlaceholder:["\u5F00\u59CB\u5E74\u4EFD","\u7ED3\u675F\u5E74\u4EFD"],rangeMonthPlaceholder:["\u5F00\u59CB\u6708\u4EFD","\u7ED3\u675F\u6708\u4EFD"],rangeQuarterPlaceholder:["\u5F00\u59CB\u5B63\u5EA6","\u7ED3\u675F\u5B63\u5EA6"],rangeWeekPlaceholder:["\u5F00\u59CB\u5468","\u7ED3\u675F\u5468"]},O),timePickerLocale:(0,I.Z)({},M)};K.lang.ok="\u786E\u5B9A";var Z=K,te=Z,de="${label}\u4E0D\u662F\u4E00\u4E2A\u6709\u6548\u7684${type}",ge={locale:"zh-cn",Pagination:N.Z,DatePicker:Z,TimePicker:M,Calendar:te,global:{placeholder:"\u8BF7\u9009\u62E9"},Table:{filterTitle:"\u7B5B\u9009",filterConfirm:"\u786E\u5B9A",filterReset:"\u91CD\u7F6E",filterEmptyText:"\u65E0\u7B5B\u9009\u9879",filterCheckall:"\u5168\u9009",filterSearchPlaceholder:"\u5728\u7B5B\u9009\u9879\u4E2D\u641C\u7D22",selectAll:"\u5168\u9009\u5F53\u9875",selectInvert:"\u53CD\u9009\u5F53\u9875",selectNone:"\u6E05\u7A7A\u6240\u6709",selectionAll:"\u5168\u9009\u6240\u6709",sortTitle:"\u6392\u5E8F",expand:"\u5C55\u5F00\u884C",collapse:"\u5173\u95ED\u884C",triggerDesc:"\u70B9\u51FB\u964D\u5E8F",triggerAsc:"\u70B9\u51FB\u5347\u5E8F",cancelSort:"\u53D6\u6D88\u6392\u5E8F"},Modal:{okText:"\u786E\u5B9A",cancelText:"\u53D6\u6D88",justOkText:"\u77E5\u9053\u4E86"},Popconfirm:{cancelText:"\u53D6\u6D88",okText:"\u786E\u5B9A"},Transfer:{titles:["",""],searchPlaceholder:"\u8BF7\u8F93\u5165\u641C\u7D22\u5185\u5BB9",itemUnit:"\u9879",itemsUnit:"\u9879",remove:"\u5220\u9664",selectCurrent:"\u5168\u9009\u5F53\u9875",removeCurrent:"\u5220\u9664\u5F53\u9875",selectAll:"\u5168\u9009\u6240\u6709",removeAll:"\u5220\u9664\u5168\u90E8",selectInvert:"\u53CD\u9009\u5F53\u9875"},Upload:{uploading:"\u6587\u4EF6\u4E0A\u4F20\u4E2D",removeFile:"\u5220\u9664\u6587\u4EF6",uploadError:"\u4E0A\u4F20\u9519\u8BEF",previewFile:"\u9884\u89C8\u6587\u4EF6",downloadFile:"\u4E0B\u8F7D\u6587\u4EF6"},Empty:{description:"\u6682\u65E0\u6570\u636E"},Icon:{icon:"\u56FE\u6807"},Text:{edit:"\u7F16\u8F91",copy:"\u590D\u5236",copied:"\u590D\u5236\u6210\u529F",expand:"\u5C55\u5F00"},PageHeader:{back:"\u8FD4\u56DE"},Form:{optional:"\uFF08\u53EF\u9009\uFF09",defaultValidateMessages:{default:"\u5B57\u6BB5\u9A8C\u8BC1\u9519\u8BEF${label}",required:"\u8BF7\u8F93\u5165${label}",enum:"${label}\u5FC5\u987B\u662F\u5176\u4E2D\u4E00\u4E2A[${enum}]",whitespace:"${label}\u4E0D\u80FD\u4E3A\u7A7A\u5B57\u7B26",date:{format:"${label}\u65E5\u671F\u683C\u5F0F\u65E0\u6548",parse:"${label}\u4E0D\u80FD\u8F6C\u6362\u4E3A\u65E5\u671F",invalid:"${label}\u662F\u4E00\u4E2A\u65E0\u6548\u65E5\u671F"},types:{string:de,method:de,array:de,object:de,number:de,date:de,boolean:de,integer:de,float:de,regexp:de,email:de,url:de,hex:de},string:{len:"${label}\u987B\u4E3A${len}\u4E2A\u5B57\u7B26",min:"${label}\u6700\u5C11${min}\u4E2A\u5B57\u7B26",max:"${label}\u6700\u591A${max}\u4E2A\u5B57\u7B26",range:"${label}\u987B\u5728${min}-${max}\u5B57\u7B26\u4E4B\u95F4"},number:{len:"${label}\u5FC5\u987B\u7B49\u4E8E${len}",min:"${label}\u6700\u5C0F\u503C\u4E3A${min}",max:"${label}\u6700\u5927\u503C\u4E3A${max}",range:"${label}\u987B\u5728${min}-${max}\u4E4B\u95F4"},array:{len:"\u987B\u4E3A${len}\u4E2A${label}",min:"\u6700\u5C11${min}\u4E2A${label}",max:"\u6700\u591A${max}\u4E2A${label}",range:"${label}\u6570\u91CF\u987B\u5728${min}-${max}\u4E4B\u95F4"},pattern:{mismatch:"${label}\u4E0E\u6A21\u5F0F\u4E0D\u5339\u914D${pattern}"}}},Image:{preview:"\u9884\u89C8"}},le=ge,se=l(63313),X=l.n(se);function re(Ue,De,Pe,tt){function At(Bt){return Bt instanceof Pe?Bt:new Pe(function(Kt){Kt(Bt)})}return new(Pe||(Pe=Promise))(function(Bt,Kt){function fn(Gn){try{yn(tt.next(Gn))}catch(Zn){Kt(Zn)}}function Dn(Gn){try{yn(tt.throw(Gn))}catch(Zn){Kt(Zn)}}function yn(Gn){Gn.done?Bt(Gn.value):At(Gn.value).then(fn,Dn)}yn((tt=tt.apply(Ue,De||[])).next())})}function ne(Ue,De){var Pe={label:0,sent:function(){if(Bt[0]&1)throw Bt[1];return Bt[1]},trys:[],ops:[]},tt,At,Bt,Kt;return Kt={next:fn(0),throw:fn(1),return:fn(2)},typeof Symbol=="function"&&(Kt[Symbol.iterator]=function(){return this}),Kt;function fn(yn){return function(Gn){return Dn([yn,Gn])}}function Dn(yn){if(tt)throw new TypeError("Generator is already executing.");for(;Pe;)try{if(tt=1,At&&(Bt=yn[0]&2?At.return:yn[0]?At.throw||((Bt=At.return)&&Bt.call(At),0):At.next)&&!(Bt=Bt.call(At,yn[1])).done)return Bt;switch(At=0,Bt&&(yn=[yn[0]&2,Bt.value]),yn[0]){case 0:case 1:Bt=yn;break;case 4:return Pe.label++,{value:yn[1],done:!1};case 5:Pe.label++,At=yn[1],yn=[0];continue;case 7:yn=Pe.ops.pop(),Pe.trys.pop();continue;default:if(Bt=Pe.trys,!(Bt=Bt.length>0&&Bt[Bt.length-1])&&(yn[0]===6||yn[0]===2)){Pe=0;continue}if(yn[0]===3&&(!Bt||yn[1]>Bt[0]&&yn[1]<Bt[3])){Pe.label=yn[1];break}if(yn[0]===6&&Pe.label<Bt[1]){Pe.label=Bt[1],Bt=yn;break}if(Bt&&Pe.label<Bt[2]){Pe.label=Bt[2],Pe.ops.push(yn);break}Bt[2]&&Pe.ops.pop(),Pe.trys.pop();continue}yn=De.call(Ue,Pe)}catch(Gn){yn=[6,Gn],At=0}finally{tt=Bt=0}if(yn[0]&5)throw yn[1];return{value:yn[0]?yn[1]:void 0,done:!0}}}var U=function(){},oe=U(),q=Object,ae=function(Ue){return Ue===oe},me=function(Ue){return typeof Ue=="function"},ke=function(Ue,De){return q.assign({},Ue,De)},H="undefined",ut=function(){return typeof window!=H},Ke=function(){return typeof document!=H},He=function(){return ut()&&typeof window.requestAnimationFrame!=H},ze=new WeakMap,Le=0,Ze=function(Ue){var De=typeof Ue,Pe=Ue&&Ue.constructor,tt=Pe==Date,At,Bt;if(q(Ue)===Ue&&!tt&&Pe!=RegExp){if(At=ze.get(Ue),At)return At;if(At=++Le+"~",ze.set(Ue,At),Pe==Array){for(At="@",Bt=0;Bt<Ue.length;Bt++)At+=Ze(Ue[Bt])+",";ze.set(Ue,At)}if(Pe==q){At="#";for(var Kt=q.keys(Ue).sort();!ae(Bt=Kt.pop());)ae(Ue[Bt])||(At+=Bt+":"+Ze(Ue[Bt])+",");ze.set(Ue,At)}}else At=tt?Ue.toJSON():De=="symbol"?Ue.toString():De=="string"?JSON.stringify(Ue):""+Ue;return At},Ge=!0,Fe=function(){return Ge},ct=ut(),ft=Ke(),Ot=ct&&window.addEventListener?window.addEventListener.bind(window):U,Et=ft?document.addEventListener.bind(document):U,Vt=ct&&window.removeEventListener?window.removeEventListener.bind(window):U,We=ft?document.removeEventListener.bind(document):U,St=function(){var Ue=ft&&document.visibilityState;return ae(Ue)||Ue!=="hidden"},Re=function(Ue){return Et("visibilitychange",Ue),Ot("focus",Ue),function(){We("visibilitychange",Ue),Vt("focus",Ue)}},Se=function(Ue){var De=function(){Ge=!0,Ue()},Pe=function(){Ge=!1};return Ot("online",De),Ot("offline",Pe),function(){Vt("online",De),Vt("offline",Pe)}},Ee={isOnline:Fe,isVisible:St},Be={initFocus:Re,initReconnect:Se},Xe=!ut()||"Deno"in window,Pt=function(Ue){return He()?window.requestAnimationFrame(Ue):setTimeout(Ue,1)},jt=Xe?se.useEffect:se.useLayoutEffect,pn=typeof navigator!="undefined"&&navigator.connection,at=!Xe&&pn&&(["slow-2g","2g"].includes(pn.effectiveType)||pn.saveData),Mt=function(Ue){if(me(Ue))try{Ue=Ue()}catch(tt){Ue=""}var De=[].concat(Ue);Ue=typeof Ue=="string"?Ue:(Array.isArray(Ue)?Ue.length:Ue)?Ze(Ue):"";var Pe=Ue?"$swr$"+Ue:"";return[Ue,De,Pe]},Gt=new WeakMap,_n=0,Rn=1,Wn=2,wn=function(Ue,De,Pe,tt,At,Bt,Kt){Kt===void 0&&(Kt=!0);var fn=Gt.get(Ue),Dn=fn[0],yn=fn[1],Gn=fn[3],Zn=Dn[De],ti=yn[De];if(Kt&&ti)for(var Ni=0;Ni<ti.length;++Ni)ti[Ni](Pe,tt,At);return Bt&&(delete Gn[De],Zn&&Zn[0])?Zn[0](Wn).then(function(){return Ue.get(De)}):Ue.get(De)},je=0,qn=function(){return++je},vt=function(){for(var Ue=[],De=0;De<arguments.length;De++)Ue[De]=arguments[De];return re(void 0,void 0,void 0,function(){var Pe,tt,At,Bt,Kt,fn,Dn,yn,Gn,Zn,ti,Ni,Gi,Ui,mi,Ai,yi,ao,Ns,Ts,fs;return ne(this,function(Gs){switch(Gs.label){case 0:if(Pe=Ue[0],tt=Ue[1],At=Ue[2],Bt=Ue[3],Kt=typeof Bt=="boolean"?{revalidate:Bt}:Bt||{},fn=ae(Kt.populateCache)?!0:Kt.populateCache,Dn=Kt.revalidate!==!1,yn=Kt.rollbackOnError!==!1,Gn=Kt.optimisticData,Zn=Mt(tt),ti=Zn[0],Ni=Zn[2],!ti)return[2];if(Gi=Gt.get(Pe),Ui=Gi[2],Ue.length<3)return[2,wn(Pe,ti,Pe.get(ti),oe,oe,Dn,!0)];if(mi=At,yi=qn(),Ui[ti]=[yi,0],ao=!ae(Gn),Ns=Pe.get(ti),ao&&(Ts=me(Gn)?Gn(Ns):Gn,Pe.set(ti,Ts),wn(Pe,ti,Ts)),me(mi))try{mi=mi(Pe.get(ti))}catch(Eo){Ai=Eo}return mi&&me(mi.then)?[4,mi.catch(function(Eo){Ai=Eo})]:[3,2];case 1:if(mi=Gs.sent(),yi!==Ui[ti][0]){if(Ai)throw Ai;return[2,mi]}else Ai&&ao&&yn&&(fn=!0,mi=Ns,Pe.set(ti,Ns));Gs.label=2;case 2:return fn&&(Ai||(me(fn)&&(mi=fn(mi,Ns)),Pe.set(ti,mi)),Pe.set(Ni,ke(Pe.get(Ni),{error:Ai}))),Ui[ti][1]=qn(),[4,wn(Pe,ti,mi,Ai,oe,Dn,!!fn)];case 3:if(fs=Gs.sent(),Ai)throw Ai;return[2,fn?fs:mi]}})})},_e=function(Ue,De){for(var Pe in Ue)Ue[Pe][0]&&Ue[Pe][0](De)},ht=function(Ue,De){if(!Gt.has(Ue)){var Pe=ke(Be,De),tt={},At=vt.bind(oe,Ue),Bt=U;if(Gt.set(Ue,[tt,{},{},{},At]),!Xe){var Kt=Pe.initFocus(setTimeout.bind(oe,_e.bind(oe,tt,_n))),fn=Pe.initReconnect(setTimeout.bind(oe,_e.bind(oe,tt,Rn)));Bt=function(){Kt&&Kt(),fn&&fn(),Gt.delete(Ue)}}return[Ue,At,Bt]}return[Ue,Gt.get(Ue)[4]]},yt=function(Ue,De,Pe,tt,At){var Bt=Pe.errorRetryCount,Kt=At.retryCount,fn=~~((Math.random()+.5)*(1<<(Kt<8?Kt:8)))*Pe.errorRetryInterval;!ae(Bt)&&Kt>Bt||setTimeout(tt,fn,At)},ye=ht(new Map),qe=ye[0],Wt=ye[1],Xt=ke({onLoadingSlow:U,onSuccess:U,onError:U,onErrorRetry:yt,onDiscarded:U,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:at?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:at?5e3:3e3,compare:function(Ue,De){return Ze(Ue)==Ze(De)},isPaused:function(){return!1},cache:qe,mutate:Wt,fallback:{}},Ee),mn=function(Ue,De){var Pe=ke(Ue,De);if(De){var tt=Ue.use,At=Ue.fallback,Bt=De.use,Kt=De.fallback;tt&&Bt&&(Pe.use=tt.concat(Bt)),At&&Kt&&(Pe.fallback=ke(At,Kt))}return Pe},bn=(0,se.createContext)({}),ot=function(Ue){var De=Ue.value,Pe=mn((0,se.useContext)(bn),De),tt=De&&De.provider,At=(0,se.useState)(function(){return tt?ht(tt(Pe.cache||qe),De):oe})[0];return At&&(Pe.cache=At[0],Pe.mutate=At[1]),jt(function(){return At?At[2]:oe},[]),(0,se.createElement)(bn.Provider,ke(Ue,{value:Pe}))},Rt=function(Ue,De){var Pe=(0,se.useState)({})[1],tt=(0,se.useRef)(Ue),At=(0,se.useRef)({data:!1,error:!1,isValidating:!1}),Bt=(0,se.useCallback)(function(Kt){var fn=!1,Dn=tt.current;for(var yn in Kt){var Gn=yn;Dn[Gn]!==Kt[Gn]&&(Dn[Gn]=Kt[Gn],At.current[Gn]&&(fn=!0))}fn&&!De.current&&Pe({})},[]);return jt(function(){tt.current=Ue}),[tt,At.current,Bt]},kt=function(Ue){return me(Ue[1])?[Ue[0],Ue[1],Ue[2]||{}]:[Ue[0],null,(Ue[1]===null?Ue[2]:Ue[1])||{}]},wt=function(){return ke(Xt,(0,se.useContext)(bn))},ln=function(Ue){return function(){for(var Pe=[],tt=0;tt<arguments.length;tt++)Pe[tt]=arguments[tt];var At=wt(),Bt=kt(Pe),Kt=Bt[0],fn=Bt[1],Dn=Bt[2],yn=mn(At,Dn),Gn=Ue,Zn=yn.use;if(Zn)for(var ti=Zn.length;ti-- >0;)Gn=Zn[ti](Gn);return Gn(Kt,fn||yn.fetcher,yn)}},_t=function(Ue,De,Pe){var tt=De[Ue]||(De[Ue]=[]);return tt.push(Pe),function(){var At=tt.indexOf(Pe);At>=0&&(tt[At]=tt[tt.length-1],tt.pop())}},di={dedupe:!0},Xn=function(Ue,De,Pe){var tt=Pe.cache,At=Pe.compare,Bt=Pe.fallbackData,Kt=Pe.suspense,fn=Pe.revalidateOnMount,Dn=Pe.refreshInterval,yn=Pe.refreshWhenHidden,Gn=Pe.refreshWhenOffline,Zn=Gt.get(tt),ti=Zn[0],Ni=Zn[1],Gi=Zn[2],Ui=Zn[3],mi=Mt(Ue),Ai=mi[0],yi=mi[1],ao=mi[2],Ns=(0,se.useRef)(!1),Ts=(0,se.useRef)(!1),fs=(0,se.useRef)(Ai),Gs=(0,se.useRef)(De),Eo=(0,se.useRef)(Pe),Is=function(){return Eo.current},Bo=function(){return Is().isVisible()&&Is().isOnline()},Wo=function(hr){return tt.set(ao,ke(tt.get(ao),hr))},pa=tt.get(Ai),kr=ae(Bt)?Pe.fallback[Ai]:Bt,ir=ae(pa)?kr:pa,oa=tt.get(ao)||{},_a=oa.error,ra=!Ns.current,va=function(){return ra&&!ae(fn)?fn:Is().isPaused()?!1:Kt?ae(ir)?!1:Pe.revalidateIfStale:ae(ir)||Pe.revalidateIfStale},yr=function(){return!Ai||!De?!1:oa.isValidating?!0:ra&&va()},Ur=yr(),lc=Rt({data:ir,error:_a,isValidating:Ur},Ts),Mr=lc[0],Ua=lc[1],ka=lc[2],Ma=(0,se.useCallback)(function(hr){return re(void 0,void 0,void 0,function(){var Lr,jo,Vo,Oi,ls,Cs,Ko,Rr,fr,Il,ll,Er,Ca;return ne(this,function(aa){switch(aa.label){case 0:if(Lr=Gs.current,!Ai||!Lr||Ts.current||Is().isPaused())return[2,!1];Oi=!0,ls=hr||{},Cs=!Ui[Ai]||!ls.dedupe,Ko=function(){return!Ts.current&&Ai===fs.current&&Ns.current},Rr=function(){var md=Ui[Ai];md&&md[1]===Vo&&delete Ui[Ai]},fr={isValidating:!1},Il=function(){Wo({isValidating:!1}),Ko()&&ka(fr)},Wo({isValidating:!0}),ka({isValidating:!0}),aa.label=1;case 1:return aa.trys.push([1,3,,4]),Cs&&(wn(tt,Ai,Mr.current.data,Mr.current.error,!0),Pe.loadingTimeout&&!tt.get(Ai)&&setTimeout(function(){Oi&&Ko()&&Is().onLoadingSlow(Ai,Pe)},Pe.loadingTimeout),Ui[Ai]=[Lr.apply(void 0,yi),qn()]),Ca=Ui[Ai],jo=Ca[0],Vo=Ca[1],[4,jo];case 2:return jo=aa.sent(),Cs&&setTimeout(Rr,Pe.dedupingInterval),!Ui[Ai]||Ui[Ai][1]!==Vo?(Cs&&Ko()&&Is().onDiscarded(Ai),[2,!1]):(Wo({error:oe}),fr.error=oe,ll=Gi[Ai],!ae(ll)&&(Vo<=ll[0]||Vo<=ll[1]||ll[1]===0)?(Il(),Cs&&Ko()&&Is().onDiscarded(Ai),[2,!1]):(At(Mr.current.data,jo)?fr.data=Mr.current.data:fr.data=jo,At(tt.get(Ai),jo)||tt.set(Ai,jo),Cs&&Ko()&&Is().onSuccess(jo,Ai,Pe),[3,4]));case 3:return Er=aa.sent(),Rr(),Is().isPaused()||(Wo({error:Er}),fr.error=Er,Cs&&Ko()&&(Is().onError(Er,Ai,Pe),(typeof Pe.shouldRetryOnError=="boolean"&&Pe.shouldRetryOnError||me(Pe.shouldRetryOnError)&&Pe.shouldRetryOnError(Er))&&Bo()&&Is().onErrorRetry(Er,Ai,Pe,Ma,{retryCount:(ls.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return Oi=!1,Il(),Ko()&&Cs&&wn(tt,Ai,fr.data,fr.error,!1),[2,!0]}})})},[Ai]),Ra=(0,se.useCallback)(vt.bind(oe,tt,function(){return fs.current}),[]);if(jt(function(){Gs.current=De,Eo.current=Pe}),jt(function(){if(!!Ai){var hr=Ai!==fs.current,Lr=Ma.bind(oe,di),jo=function(Ko,Rr,fr){ka(ke({error:Rr,isValidating:fr},At(Mr.current.data,Ko)?oe:{data:Ko}))},Vo=0,Oi=function(Ko){if(Ko==_n){var Rr=Date.now();Is().revalidateOnFocus&&Rr>Vo&&Bo()&&(Vo=Rr+Is().focusThrottleInterval,Lr())}else if(Ko==Rn)Is().revalidateOnReconnect&&Bo()&&Lr();else if(Ko==Wn)return Ma()},ls=_t(Ai,Ni,jo),Cs=_t(Ai,ti,Oi);return Ts.current=!1,fs.current=Ai,Ns.current=!0,hr&&ka({data:ir,error:_a,isValidating:Ur}),va()&&(ae(ir)||Xe?Lr():Pt(Lr)),function(){Ts.current=!0,ls(),Cs()}}},[Ai,Ma]),jt(function(){var hr;function Lr(){var Vo=me(Dn)?Dn(ir):Dn;Vo&&hr!==-1&&(hr=setTimeout(jo,Vo))}function jo(){!Mr.current.error&&(yn||Is().isVisible())&&(Gn||Is().isOnline())?Ma(di).then(Lr):Lr()}return Lr(),function(){hr&&(clearTimeout(hr),hr=-1)}},[Dn,yn,Gn,Ma]),(0,se.useDebugValue)(ir),Kt&&ae(ir)&&Ai)throw Gs.current=De,Eo.current=Pe,Ts.current=!1,ae(_a)?Ma(di):_a;return{mutate:Ra,get data(){return Ua.data=!0,ir},get error(){return Ua.error=!0,_a},get isValidating(){return Ua.isValidating=!0,Ur}}},dn=q.defineProperty(ot,"default",{value:Xt}),Ve=function(Ue){return Mt(Ue)[0]},Ce=ln(Xn),dt={moneySymbol:"$",form:{lightFilter:{more:"\u0627\u0644\u0645\u0632\u064A\u062F",clear:"\u0646\u0638\u0641",confirm:"\u062A\u0623\u0643\u064A\u062F",itemUnit:"\u0639\u0646\u0627\u0635\u0631"}},tableForm:{search:"\u0627\u0628\u062D\u062B",reset:"\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646",submit:"\u0627\u0631\u0633\u0627\u0644",collapsed:"\u0645\u064F\u0642\u0644\u0635",expand:"\u0645\u064F\u0648\u0633\u0639",inputPlaceholder:"\u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0625\u062F\u062E\u0627\u0644",selectPlaceholder:"\u0627\u0644\u0631\u062C\u0627\u0621 \u0627\u0644\u0625\u062E\u062A\u064A\u0627\u0631"},alert:{clear:"\u0646\u0638\u0641",selected:"\u0645\u062D\u062F\u062F",item:"\u0639\u0646\u0635\u0631"},pagination:{total:{range:" ",total:"\u0645\u0646",item:"\u0639\u0646\u0627\u0635\u0631"}},tableToolBar:{leftPin:"\u062B\u0628\u062A \u0639\u0644\u0649 \u0627\u0644\u064A\u0633\u0627\u0631",rightPin:"\u062B\u0628\u062A \u0639\u0644\u0649 \u0627\u0644\u064A\u0645\u064A\u0646",noPin:"\u0627\u0644\u063A\u0627\u0621 \u0627\u0644\u062A\u062B\u0628\u064A\u062A",leftFixedTitle:"\u0644\u0635\u0642 \u0639\u0644\u0649 \u0627\u0644\u064A\u0633\u0627\u0631",rightFixedTitle:"\u0644\u0635\u0642 \u0639\u0644\u0649 \u0627\u0644\u064A\u0645\u064A\u0646",noFixedTitle:"\u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0625\u0644\u0635\u0627\u0642",reset:"\u0625\u0639\u0627\u062F\u0629 \u062A\u0639\u064A\u064A\u0646",columnDisplay:"\u0627\u0644\u0623\u0639\u0645\u062F\u0629 \u0627\u0644\u0645\u0639\u0631\u0648\u0636\u0629",columnSetting:"\u0627\u0644\u0625\u0639\u062F\u0627\u062F\u0627\u062A",fullScreen:"\u0648\u0636\u0639 \u0643\u0627\u0645\u0644 \u0627\u0644\u0634\u0627\u0634\u0629",exitFullScreen:"\u0627\u0644\u062E\u0631\u0648\u062C \u0645\u0646 \u0648\u0636\u0639 \u0643\u0627\u0645\u0644 \u0627\u0644\u0634\u0627\u0634\u0629",reload:"\u062A\u062D\u062F\u064A\u062B",density:"\u0627\u0644\u0643\u062B\u0627\u0641\u0629",densityDefault:"\u0627\u0641\u062A\u0631\u0627\u0636\u064A",densityLarger:"\u0623\u0643\u0628\u0631",densityMiddle:"\u0648\u0633\u0637",densitySmall:"\u0645\u062F\u0645\u062C"},stepsForm:{next:"\u0627\u0644\u062A\u0627\u0644\u064A",prev:"\u0627\u0644\u0633\u0627\u0628\u0642",submit:"\u0623\u0646\u0647\u0649"},loginForm:{submitText:"\u062A\u0633\u062C\u064A\u0644 \u0627\u0644\u062F\u062E\u0648\u0644"},editableTable:{action:{save:"\u0623\u0646\u0642\u0630",cancel:"\u0625\u0644\u063A\u0627\u0621 \u0627\u0644\u0623\u0645\u0631",delete:"\u062D\u0630\u0641",add:"\u0625\u0636\u0627\u0641\u0629 \u0635\u0641 \u0645\u0646 \u0627\u0644\u0628\u064A\u0627\u0646\u0627\u062A"}},switch:{open:"\u0645\u0641\u062A\u0648\u062D",close:"\u063A\u0644\u0642"}},Qt={moneySymbol:"\u20AC",form:{lightFilter:{more:"M\xE1is",clear:"Limpar",confirm:"Confirmar",itemUnit:"Elementos"}},tableForm:{search:"Cercar",reset:"Netejar",submit:"Enviar",collapsed:"Expandir",expand:"Col\xB7lapsar",inputPlaceholder:"Introdu\xEFu valor",selectPlaceholder:"Seleccioneu valor"},alert:{clear:"Netejar",selected:"Seleccionat",item:"Article"},pagination:{total:{range:" ",total:"de",item:"articles"}},tableToolBar:{leftPin:"Pin a l'esquerra",rightPin:"Pin a la dreta",noPin:"Sense Pin",leftFixedTitle:"Fixat a l'esquerra",rightFixedTitle:"Fixat a la dreta",noFixedTitle:"Sense fixar",reset:"Reiniciar",columnDisplay:"Mostrar Columna",columnSetting:"Configuraci\xF3",fullScreen:"Pantalla Completa",exitFullScreen:"Sortir Pantalla Completa",reload:"Refrescar",density:"Densitat",densityDefault:"Per Defecte",densityLarger:"Llarg",densityMiddle:"Mitj\xE0",densitySmall:"Compacte"},stepsForm:{next:"Seg\xFCent",prev:"Anterior",submit:"Finalizar"},loginForm:{submitText:"Entrar"},editableTable:{action:{save:"Gardar",cancel:"Cancelar",delete:"Eliminar",add:"engadir unha fila de datos"}},switch:{open:"aberto",close:"pechar"}},en={moneySymbol:"\u20AC",form:{lightFilter:{more:"Mehr",clear:"Zur\xFCcksetzen",confirm:"Best\xE4tigen",itemUnit:"Eintr\xE4ge"}},tableForm:{search:"Suchen",reset:"Zur\xFCcksetzen",submit:"Absenden",collapsed:"Zeige mehr",expand:"Zeige weniger",inputPlaceholder:"Bitte eingeben",selectPlaceholder:"Bitte ausw\xE4hlen"},alert:{clear:"Zur\xFCcksetzen",selected:"Ausgew\xE4hlt",item:"Eintrag"},pagination:{total:{range:" ",total:"von",item:"Eintr\xE4gen"}},tableToolBar:{leftPin:"Links anheften",rightPin:"Rechts anheften",noPin:"Nicht angeheftet",leftFixedTitle:"Links fixiert",rightFixedTitle:"Rechts fixiert",noFixedTitle:"Nicht fixiert",reset:"Zur\xFCcksetzen",columnDisplay:"Angezeigte Reihen",columnSetting:"Einstellungen",fullScreen:"Vollbild",exitFullScreen:"Vollbild verlassen",reload:"Aktualisieren",density:"Abstand",densityDefault:"Standard",densityLarger:"Gr\xF6\xDFer",densityMiddle:"Mittel",densitySmall:"Kompakt"},stepsForm:{next:"Weiter",prev:"Zur\xFCck",submit:"Abschlie\xDFen"},loginForm:{submitText:"Anmelden"},editableTable:{action:{save:"Retten",cancel:"Abbrechen",delete:"L\xF6schen",add:"Hinzuf\xFCgen einer Datenzeile"}},switch:{open:"offen",close:"schlie\xDFen"}},vn={moneySymbol:"\xA3",form:{lightFilter:{more:"More",clear:"Clear",confirm:"Confirm",itemUnit:"Items"}},tableForm:{search:"Query",reset:"Reset",submit:"Submit",collapsed:"Expand",expand:"Collapse",inputPlaceholder:"Please enter",selectPlaceholder:"Please select"},alert:{clear:"Clear",selected:"Selected",item:"Item"},pagination:{total:{range:" ",total:"of",item:"items"}},tableToolBar:{leftPin:"Pin to left",rightPin:"Pin to right",noPin:"Unpinned",leftFixedTitle:"Fixed the left",rightFixedTitle:"Fixed the right",noFixedTitle:"Not Fixed",reset:"Reset",columnDisplay:"Column Display",columnSetting:"Settings",fullScreen:"Full Screen",exitFullScreen:"Exit Full Screen",reload:"Refresh",density:"Density",densityDefault:"Default",densityLarger:"Larger",densityMiddle:"Middle",densitySmall:"Compact"},stepsForm:{next:"Next",prev:"Previous",submit:"Finish"},loginForm:{submitText:"Login"},editableTable:{action:{save:"Save",cancel:"Cancel",delete:"Delete",add:"add a row of data"}},switch:{open:"open",close:"close"}},An={moneySymbol:"$",deleteThisLine:"Delete this line",copyThisLine:"Copy this line",form:{lightFilter:{more:"More",clear:"Clear",confirm:"Confirm",itemUnit:"Items"}},tableForm:{search:"Query",reset:"Reset",submit:"Submit",collapsed:"Expand",expand:"Collapse",inputPlaceholder:"Please enter",selectPlaceholder:"Please select"},alert:{clear:"Clear",selected:"Selected",item:"Item"},pagination:{total:{range:" ",total:"of",item:"items"}},tableToolBar:{leftPin:"Pin to left",rightPin:"Pin to right",noPin:"Unpinned",leftFixedTitle:"Fixed the left",rightFixedTitle:"Fixed the right",noFixedTitle:"Not Fixed",reset:"Reset",columnDisplay:"Column Display",columnSetting:"Settings",fullScreen:"Full Screen",exitFullScreen:"Exit Full Screen",reload:"Refresh",density:"Density",densityDefault:"Default",densityLarger:"Larger",densityMiddle:"Middle",densitySmall:"Compact"},stepsForm:{next:"Next",prev:"Previous",submit:"Finish"},loginForm:{submitText:"Login"},editableTable:{onlyOneLineEditor:"Only one line can be edited",action:{save:"Save",cancel:"Cancel",delete:"Delete",add:"add a row of data"}},switch:{open:"open",close:"close"}},On={moneySymbol:"\u20AC",form:{lightFilter:{more:"M\xE1s",clear:"Limpiar",confirm:"Confirmar",itemUnit:"art\xEDculos"}},tableForm:{search:"Buscar",reset:"Limpiar",submit:"Submit",collapsed:"Expandir",expand:"Colapsar",inputPlaceholder:"Ingrese valor",selectPlaceholder:"Seleccione valor"},alert:{clear:"Limpiar",selected:"Seleccionado",item:"Articulo"},pagination:{total:{range:" ",total:"de",item:"art\xEDculos"}},tableToolBar:{leftPin:"Pin a la izquierda",rightPin:"Pin a la derecha",noPin:"Sin Pin",leftFixedTitle:"Fijado a la izquierda",rightFixedTitle:"Fijado a la derecha",noFixedTitle:"Sin Fijar",reset:"Reiniciar",columnDisplay:"Mostrar Columna",columnSetting:"Configuraci\xF3n",fullScreen:"Pantalla Completa",exitFullScreen:"Salir Pantalla Completa",reload:"Refrescar",density:"Densidad",densityDefault:"Por Defecto",densityLarger:"Largo",densityMiddle:"Medio",densitySmall:"Compacto"},stepsForm:{next:"Siguiente",prev:"Anterior",submit:"Finalizar"},loginForm:{submitText:"Entrar"},editableTable:{action:{save:"Guardar",cancel:"Descartar",delete:"Borrar",add:"a\xF1adir una fila de datos"}},switch:{open:"abrir",close:"cerrar"}},In={moneySymbol:"\u062A\u0648\u0645\u0627\u0646",form:{lightFilter:{more:"\u0628\u06CC\u0634\u062A\u0631",clear:"\u067E\u0627\u06A9 \u06A9\u0631\u062F\u0646",confirm:"\u062A\u0627\u06CC\u06CC\u062F",itemUnit:"\u0645\u0648\u0631\u062F"}},tableForm:{search:"\u062C\u0633\u062A\u062C\u0648",reset:"\u0628\u0627\u0632\u0646\u0634\u0627\u0646\u06CC",submit:"\u062A\u0627\u06CC\u06CC\u062F",collapsed:"\u0646\u0645\u0627\u06CC\u0634 \u0628\u06CC\u0634\u062A\u0631",expand:"\u0646\u0645\u0627\u06CC\u0634 \u06A9\u0645\u062A\u0631",inputPlaceholder:"\u067E\u06CC\u062F\u0627 \u06A9\u0646\u06CC\u062F",selectPlaceholder:"\u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F"},alert:{clear:"\u067E\u0627\u06A9 \u0633\u0627\u0632\u06CC",selected:"\u0627\u0646\u062A\u062E\u0627\u0628",item:"\u0645\u0648\u0631\u062F"},pagination:{total:{range:" ",total:"\u0627\u0632",item:"\u0645\u0648\u0631\u062F"}},tableToolBar:{leftPin:"\u0633\u0646\u062C\u0627\u0642 \u0628\u0647 \u0686\u067E",rightPin:"\u0633\u0646\u062C\u0627\u0642 \u0628\u0647 \u0631\u0627\u0633\u062A",noPin:"\u0633\u0646\u062C\u0627\u0642 \u0646\u0634\u062F\u0647",leftFixedTitle:"\u062B\u0627\u0628\u062A \u0634\u062F\u0647 \u062F\u0631 \u0686\u067E",rightFixedTitle:"\u062B\u0627\u0628\u062A \u0634\u062F\u0647 \u062F\u0631 \u0631\u0627\u0633\u062A",noFixedTitle:"\u0634\u0646\u0627\u0648\u0631",reset:"\u0628\u0627\u0632\u0646\u0634\u0627\u0646\u06CC",columnDisplay:"\u0646\u0645\u0627\u06CC\u0634 \u0647\u0645\u0647",columnSetting:"\u062A\u0646\u0638\u06CC\u0645\u0627\u062A",fullScreen:"\u062A\u0645\u0627\u0645 \u0635\u0641\u062D\u0647",exitFullScreen:"\u062E\u0631\u0648\u062C \u0627\u0632 \u062D\u0627\u0644\u062A \u062A\u0645\u0627\u0645 \u0635\u0641\u062D\u0647",reload:"\u062A\u0627\u0632\u0647 \u0633\u0627\u0632\u06CC",density:"\u062A\u0631\u0627\u06A9\u0645",densityDefault:"\u067E\u06CC\u0634 \u0641\u0631\u0636",densityLarger:"\u0628\u0632\u0631\u06AF",densityMiddle:"\u0645\u062A\u0648\u0633\u0637",densitySmall:"\u06A9\u0648\u0686\u06A9"},stepsForm:{next:"\u0628\u0639\u062F\u06CC",prev:"\u0642\u0628\u0644\u06CC",submit:"\u0627\u062A\u0645\u0627\u0645"},loginForm:{submitText:"\u0648\u0631\u0648\u062F"},editableTable:{action:{save:"\u0630\u062E\u06CC\u0631\u0647",cancel:"\u0644\u063A\u0648",delete:"\u062D\u0630\u0641",add:"\u06CC\u06A9 \u0631\u062F\u06CC\u0641 \u062F\u0627\u062F\u0647 \u0627\u0636\u0627\u0641\u0647 \u06A9\u0646\u06CC\u062F"}},switch:{open:"\u0628\u0627\u0632",close:"\u0646\u0632\u062F\u06CC\u06A9"}},Sn={moneySymbol:"\u20AC",form:{lightFilter:{more:"Plus",clear:"Effacer",confirm:"Confirmer",itemUnit:"Items"}},tableForm:{search:"Rechercher",reset:"R\xE9initialiser",submit:"Envoyer",collapsed:"Agrandir",expand:"R\xE9duire",inputPlaceholder:"Entrer une valeur",selectPlaceholder:"S\xE9lectionner une valeur"},alert:{clear:"R\xE9initialiser",selected:"S\xE9lectionn\xE9",item:"Item"},pagination:{total:{range:" ",total:"sur",item:"\xE9l\xE9ments"}},tableToolBar:{leftPin:"\xC9pingler \xE0 gauche",rightPin:"\xC9pingler \xE0 gauche",noPin:"Sans \xE9pingle",leftFixedTitle:"Fixer \xE0 gauche",rightFixedTitle:"Fixer \xE0 droite",noFixedTitle:"Non fix\xE9",reset:"R\xE9initialiser",columnDisplay:"Affichage colonne",columnSetting:"R\xE9glages",fullScreen:"Plein \xE9cran",exitFullScreen:"Quitter Plein \xE9cran",reload:"Rafraichir",density:"Densit\xE9",densityDefault:"Par d\xE9faut",densityLarger:"Larger",densityMiddle:"Moyenne",densitySmall:"Compacte"},stepsForm:{next:"Suivante",prev:"Pr\xE9c\xE9dente",submit:"Finaliser"},loginForm:{submitText:"Se connecter"},editableTable:{action:{save:"Sauvegarder",cancel:"Annuler",delete:"Supprimer",add:"ajouter une ligne de donn\xE9es"}},switch:{open:"ouvert",close:"pr\xE8s"}},Mn={moneySymbol:"kn",form:{lightFilter:{more:"Vi\u0161e",clear:"O\u010Disti",confirm:"Potvrdi",itemUnit:"Stavke"}},tableForm:{search:"Pretra\u017Ei",reset:"Poni\u0161ti",submit:"Potvrdi",collapsed:"Ra\u0161iri",expand:"Skupi",inputPlaceholder:"Unesite",selectPlaceholder:"Odaberite"},alert:{clear:"O\u010Disti",selected:"Odaberi",item:"stavke"},pagination:{total:{range:" ",total:"od",item:"stavke"}},tableToolBar:{leftPin:"Prika\u010Di lijevo",rightPin:"Prika\u010Di desno",noPin:"Bez prika\u010Denja",leftFixedTitle:"Fiksiraj lijevo",rightFixedTitle:"Fiksiraj desno",noFixedTitle:"Bez fiksiranja",reset:"Resetiraj",columnDisplay:"Prikaz stupaca",columnSetting:"Postavke",fullScreen:"Puni zaslon",exitFullScreen:"Iza\u0111i iz punog zaslona",reload:"Ponovno u\u010Ditaj",density:"Veli\u010Dina",densityDefault:"Zadano",densityLarger:"Veliko",densityMiddle:"Srednje",densitySmall:"Malo"},stepsForm:{next:"Sljede\u0107i",prev:"Prethodni",submit:"Kraj"},loginForm:{submitText:"Prijava"},editableTable:{action:{save:"Spremi",cancel:"Odustani",delete:"Obri\u0161i",add:"dodajte red podataka"}},switch:{open:"otvori",close:"zatvori"}},Bn={moneySymbol:"RP",form:{lightFilter:{more:"Lebih",clear:"Hapus",confirm:"Konfirmasi",itemUnit:"Unit"}},tableForm:{search:"Cari",reset:"Atur ulang",submit:"Kirim",collapsed:"Lebih sedikit",expand:"Lebih banyak",inputPlaceholder:"Masukkan pencarian",selectPlaceholder:"Pilih"},alert:{clear:"Hapus",selected:"Dipilih",item:"Butir"},pagination:{total:{range:" ",total:"Dari",item:"Butir"}},tableToolBar:{leftPin:"Pin kiri",rightPin:"Pin kanan",noPin:"Tidak ada pin",leftFixedTitle:"Rata kiri",rightFixedTitle:"Rata kanan",noFixedTitle:"Tidak tetap",reset:"Atur ulang",columnDisplay:"Tampilan kolom",columnSetting:"Pengaturan",fullScreen:"Layar penuh",exitFullScreen:"Keluar layar penuh",reload:"Atur ulang",density:"Kerapatan",densityDefault:"Standar",densityLarger:"Lebih besar",densityMiddle:"Sedang",densitySmall:"Rapat"},stepsForm:{next:"Selanjutnya",prev:"Sebelumnya",submit:"Selesai"},loginForm:{submitText:"Login"},editableTable:{action:{save:"simpan",cancel:"batal",delete:"hapus",add:"Tambahkan baris data"}},switch:{open:"buka",close:"tutup"}},Jn={moneySymbol:"\u20AC",form:{lightFilter:{more:"pi\xF9",clear:"pulisci",confirm:"conferma",itemUnit:"elementi"}},tableForm:{search:"Filtra",reset:"Pulisci",submit:"Invia",collapsed:"Espandi",expand:"Contrai",inputPlaceholder:"Digita",selectPlaceholder:"Seleziona"},alert:{clear:"Rimuovi",selected:"Selezionati",item:"elementi"},pagination:{total:{range:" ",total:"di",item:"elementi"}},tableToolBar:{leftPin:"Fissa a sinistra",rightPin:"Fissa a destra",noPin:"Ripristina posizione",leftFixedTitle:"Fissato a sinistra",rightFixedTitle:"Fissato a destra",noFixedTitle:"Non fissato",reset:"Ripristina",columnDisplay:"Disposizione colonne",columnSetting:"Impostazioni",fullScreen:"Modalit\xE0 schermo intero",exitFullScreen:"Esci da modalit\xE0 schermo intero",reload:"Ricarica",density:"Grandezza tabella",densityDefault:"predefinito",densityLarger:"Grande",densityMiddle:"Media",densitySmall:"Compatta"},stepsForm:{next:"successivo",prev:"precedente",submit:"finisci"},loginForm:{submitText:"Accedi"},editableTable:{action:{save:"salva",cancel:"annulla",delete:"Delete",add:"add a row of data"}},switch:{open:"open",close:"chiudi"}},ai={moneySymbol:"\xA5",form:{lightFilter:{more:"\u3082\u3063\u3068",clear:"\u660E\u78BA",confirm:"\u78BA\u8A8D",itemUnit:"\u9805\u76EE"}},tableForm:{search:"\u691C\u7D22",reset:"\u30EA\u30BB\u30C3\u30C8",submit:"\u63D0\u4EA4",collapsed:"\u5C55\u958B",expand:"\u53CE\u7D0D",inputPlaceholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",selectPlaceholder:"\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044"},alert:{clear:"\u30AF\u30EA\u30A2",selected:"\u9078\u629E\u3057\u305F",item:"\u9805\u76EE"},pagination:{total:{range:"\u8A18\u4E8B",total:"/\u5408\u8A08",item:" "}},tableToolBar:{leftPin:"\u5DE6\u306B\u56FA\u5B9A",rightPin:"\u53F3\u306B\u56FA\u5B9A",noPin:"\u30AD\u30E3\u30F3\u30BB\u30EB",leftFixedTitle:"\u5DE6\u306B\u56FA\u5B9A\u3055\u308C\u305F\u9805\u76EE",rightFixedTitle:"\u53F3\u306B\u56FA\u5B9A\u3055\u308C\u305F\u9805\u76EE",noFixedTitle:"\u56FA\u5B9A\u3055\u308C\u3066\u306A\u3044\u9805\u76EE",reset:"\u30EA\u30BB\u30C3\u30C8",columnDisplay:"\u8868\u793A\u5217",columnSetting:"\u5217\u8868\u793A\u8A2D\u5B9A",fullScreen:"\u30D5\u30EB\u30B9\u30AF\u30EA\u30FC\u30F3",exitFullScreen:"\u7D42\u4E86",reload:"\u66F4\u65B0",density:"\u884C\u9AD8",densityDefault:"\u30C7\u30D5\u30A9\u30EB\u30C8",densityLarger:"\u9ED8\u8BA4",densityMiddle:"\u4E2D",densitySmall:"\u5C0F"},stepsForm:{next:"\u6B21\u306E\u30B9\u30C6\u30C3\u30D7",prev:"\u524D",submit:"\u9001\u4FE1"},loginForm:{submitText:"\u30ED\u30B0\u30A4\u30F3"},editableTable:{action:{save:"\u6551\u3046",cancel:"\u30AD\u30E3\u30F3\u30BB\u30EB",delete:"\u524A\u9664",add:"1\u884C\u306E\u30C7\u30FC\u30BF\u3092\u8FFD\u52A0\u3057\u307E\u3059"}},switch:{open:"\u30AA\u30FC\u30D7\u30F3",close:"\u8FD1\u3044"}},jn={moneySymbol:"\u20A9",form:{lightFilter:{more:"\uB354\uBCF4\uAE30",clear:"\uCDE8\uC18C",confirm:"\uD655\uC778",itemUnit:"\uAC74\uC218"}},tableForm:{search:"\uC870\uD68C",reset:"\uCD08\uAE30\uD654",submit:"\uC81C\uCD9C",collapsed:"\uD655\uC7A5",expand:"\uB2EB\uAE30",inputPlaceholder:"\uC785\uB825\uD574 \uC8FC\uC138\uC694",selectPlaceholder:"\uC120\uD0DD\uD574 \uC8FC\uC138\uC694"},alert:{clear:"\uCDE8\uC18C",selected:"\uC120\uD0DD",item:"\uAC74"},pagination:{total:{range:" ",total:"/ \uCD1D",item:"\uAC74"}},tableToolBar:{leftPin:"\uC67C\uCABD\uC73C\uB85C \uD540",rightPin:"\uC624\uB978\uCABD\uC73C\uB85C \uD540",noPin:"\uD540 \uC81C\uAC70",leftFixedTitle:"\uC67C\uCABD\uC73C\uB85C \uACE0\uC815",rightFixedTitle:"\uC624\uB978\uCABD\uC73C\uB85C \uACE0\uC815",noFixedTitle:"\uBE44\uACE0\uC815",reset:"\uCD08\uAE30\uD654",columnDisplay:"\uCEEC\uB7FC \uD45C\uC2DC",columnSetting:"\uC124\uC815",fullScreen:"\uC804\uCCB4 \uD654\uBA74",exitFullScreen:"\uC804\uCCB4 \uD654\uBA74 \uCDE8\uC18C",reload:"\uB2E4\uC2DC \uC77D\uAE30",density:"\uC5EC\uBC31",densityDefault:"\uAE30\uBCF8",densityLarger:"\uB9CE\uC740 \uC5EC\uBC31",densityMiddle:"\uC911\uAC04 \uC5EC\uBC31",densitySmall:"\uC881\uC740 \uC5EC\uBC31"},stepsForm:{next:"\uB2E4\uC74C",prev:"\uC774\uC804",submit:"\uC885\uB8CC"},loginForm:{submitText:"\uB85C\uADF8\uC778"},editableTable:{action:{save:"\uC800\uC7A5",cancel:"\uCDE8\uC18C",delete:"\uC0AD\uC81C",add:"\uB370\uC774\uD130 \uD589 \uCD94\uAC00"}},switch:{open:"\uC5F4",close:"\uAC00\uAE4C \uC6B4"}},Ii={moneySymbol:"\u20AE",form:{lightFilter:{more:"\u0418\u043B\u04AF\u04AF",clear:"\u0426\u044D\u0432\u044D\u0440\u043B\u044D\u0445",confirm:"\u0411\u0430\u0442\u0430\u043B\u0433\u0430\u0430\u0436\u0443\u0443\u043B\u0430\u0445",itemUnit:"\u041D\u044D\u0433\u0436\u04AF\u04AF\u0434"}},tableForm:{search:"\u0425\u0430\u0439\u0445",reset:"\u0428\u0438\u043D\u044D\u0447\u043B\u044D\u0445",submit:"\u0418\u043B\u0433\u044D\u044D\u0445",collapsed:"\u04E8\u0440\u0433\u04E9\u0442\u0433\u04E9\u0445",expand:"\u0425\u0443\u0440\u0430\u0430\u0445",inputPlaceholder:"\u0423\u0442\u0433\u0430 \u043E\u0440\u0443\u0443\u043B\u043D\u0430 \u0443\u0443",selectPlaceholder:"\u0423\u0442\u0433\u0430 \u0441\u043E\u043D\u0433\u043E\u043D\u043E \u0443\u0443"},alert:{clear:"\u0426\u044D\u0432\u044D\u0440\u043B\u044D\u0445",selected:"\u0421\u043E\u043D\u0433\u043E\u0433\u0434\u0441\u043E\u043D",item:"\u041D\u044D\u0433\u0436"},pagination:{total:{range:" ",total:"\u041D\u0438\u0439\u0442",item:"\u043C\u04E9\u0440"}},tableToolBar:{leftPin:"\u0417\u04AF\u04AF\u043D \u0442\u0438\u0439\u0448 \u0431\u044D\u0445\u043B\u044D\u0445",rightPin:"\u0411\u0430\u0440\u0443\u0443\u043D \u0442\u0438\u0439\u0448 \u0431\u044D\u0445\u043B\u044D\u0445",noPin:"\u0411\u044D\u0445\u043B\u044D\u0445\u0433\u04AF\u0439",leftFixedTitle:"\u0417\u04AF\u04AF\u043D \u0437\u044D\u0440\u044D\u0433\u0446\u04AF\u04AF\u043B\u044D\u0445",rightFixedTitle:"\u0411\u0430\u0440\u0443\u0443\u043D \u0437\u044D\u0440\u044D\u0433\u0446\u04AF\u04AF\u043B\u044D\u0445",noFixedTitle:"\u0417\u044D\u0440\u044D\u0433\u0446\u04AF\u04AF\u043B\u044D\u0445\u0433\u04AF\u0439",reset:"\u0428\u0438\u043D\u044D\u0447\u043B\u044D\u0445",columnDisplay:"\u0411\u0430\u0433\u0430\u043D\u0430\u0430\u0440 \u0445\u0430\u0440\u0443\u0443\u043B\u0430\u0445",columnSetting:"\u0422\u043E\u0445\u0438\u0440\u0433\u043E\u043E",fullScreen:"\u0411\u04AF\u0442\u044D\u043D \u0434\u044D\u043B\u0433\u044D\u0446\u044D\u044D\u0440",exitFullScreen:"\u0411\u04AF\u0442\u044D\u043D \u0434\u044D\u043B\u0433\u044D\u0446 \u0446\u0443\u0446\u043B\u0430\u0445",reload:"\u0428\u0438\u043D\u044D\u0447\u043B\u044D\u0445",density:"\u0425\u044D\u043C\u0436\u044D\u044D",densityDefault:"\u0425\u044D\u0432\u0438\u0439\u043D",densityLarger:"\u0422\u043E\u043C",densityMiddle:"\u0414\u0443\u043D\u0434",densitySmall:"\u0416\u0438\u0436\u0438\u0433"},stepsForm:{next:"\u0414\u0430\u0440\u0430\u0430\u0445",prev:"\u04E8\u043C\u043D\u04E9\u0445",submit:"\u0414\u0443\u0443\u0441\u0433\u0430\u0445"},loginForm:{submitText:"\u041D\u044D\u0432\u0442\u0440\u044D\u0445"},editableTable:{action:{save:"\u0425\u0430\u0434\u0433\u0430\u043B\u0430\u0445",cancel:"\u0426\u0443\u0446\u043B\u0430\u0445",delete:"\u0423\u0441\u0442\u0433\u0430\u0445",add:"\u041C\u04E9\u0440 \u043D\u044D\u043C\u044D\u0445"}},switch:{open:"\u041D\u044D\u044D\u0445",close:"\u0425\u0430\u0430\u0445"}},ci={moneySymbol:"RM",form:{lightFilter:{more:"Lebih banyak",clear:"Jelas",confirm:"Mengesahkan",itemUnit:"Item"}},tableForm:{search:"Cari",reset:"Menetapkan semula",submit:"Hantar",collapsed:"Kembang",expand:"Kuncup",inputPlaceholder:"Sila masuk",selectPlaceholder:"Sila pilih"},alert:{clear:"Padam",selected:"Dipilih",item:"Item"},pagination:{total:{range:" ",total:"daripada",item:"item"}},tableToolBar:{leftPin:"Pin ke kiri",rightPin:"Pin ke kanan",noPin:"Tidak pin",leftFixedTitle:"Tetap ke kiri",rightFixedTitle:"Tetap ke kanan",noFixedTitle:"Tidak Tetap",reset:"Menetapkan semula",columnDisplay:"Lajur",columnSetting:"Settings",fullScreen:"Full Screen",exitFullScreen:"Keluar Full Screen",reload:"Muat Semula",density:"Densiti",densityDefault:"Biasa",densityLarger:"Besar",densityMiddle:"Tengah",densitySmall:"Kecil"},stepsForm:{next:"Seterusnya",prev:"Sebelumnya",submit:"Selesai"},loginForm:{submitText:"Log Masuk"},editableTable:{action:{save:"Simpan",cancel:"Membatalkan",delete:"Menghapuskan",add:"tambah baris data"}},switch:{open:"Terbuka",close:"Tutup"}},oi={moneySymbol:"z\u0142",form:{lightFilter:{more:"Wi\u0119cej",clear:"Wyczy\u015B\u0107",confirm:"Potwierd\u017A",itemUnit:"Ilo\u015B\u0107"}},tableForm:{search:"Szukaj",reset:"Reset",submit:"Zatwierd\u017A",collapsed:"Poka\u017C wiecej",expand:"Poka\u017C mniej",inputPlaceholder:"Prosz\u0119 poda\u0107",selectPlaceholder:"Prosz\u0119 wybra\u0107"},alert:{clear:"Wyczy\u015B\u0107",selected:"Wybrane",item:"Wpis"},pagination:{total:{range:" ",total:"z",item:"Wpis\xF3w"}},tableToolBar:{leftPin:"Przypnij do lewej",rightPin:"Przypnij do prawej",noPin:"Odepnij",leftFixedTitle:"Przypi\u0119te do lewej",rightFixedTitle:"Przypi\u0119te do prawej",noFixedTitle:"Nieprzypi\u0119te",reset:"Reset",columnDisplay:"Wy\u015Bwietlane wiersze",columnSetting:"Ustawienia",fullScreen:"Pe\u0142en ekran",exitFullScreen:"Zamknij pe\u0142en ekran",reload:"Od\u015Bwie\u017C",density:"Odst\u0119p",densityDefault:"Standard",densityLarger:"Wiekszy",densityMiddle:"Sredni",densitySmall:"Kompaktowy"},stepsForm:{next:"Weiter",prev:"Zur\xFCck",submit:"Abschlie\xDFen"},loginForm:{submitText:"Zaloguj si\u0119"},editableTable:{action:{save:"Zapisa\u0107",cancel:"Anuluj",delete:"Usun\u0105\u0107",add:"dodawanie wiersza danych"}},switch:{open:"otwiera\u0107",close:"zamyka\u0107"}},wi={moneySymbol:"R$",form:{lightFilter:{more:"Mais",clear:"Limpar",confirm:"Confirmar",itemUnit:"Itens"}},tableForm:{search:"Filtrar",reset:"Limpar",submit:"Confirmar",collapsed:"Expandir",expand:"Colapsar",inputPlaceholder:"Por favor insira",selectPlaceholder:"Por favor selecione"},alert:{clear:"Limpar",selected:"Selecionado(s)",item:"Item(s)"},pagination:{total:{range:" ",total:"de",item:"itens"}},tableToolBar:{leftPin:"Fixar \xE0 esquerda",rightPin:"Fixar \xE0 direita",noPin:"Desfixado",leftFixedTitle:"Fixado \xE0 esquerda",rightFixedTitle:"Fixado \xE0 direita",noFixedTitle:"N\xE3o fixado",reset:"Limpar",columnDisplay:"Mostrar Coluna",columnSetting:"Configura\xE7\xF5es",fullScreen:"Tela Cheia",exitFullScreen:"Sair da Tela Cheia",reload:"Atualizar",density:"Densidade",densityDefault:"Padr\xE3o",densityLarger:"Largo",densityMiddle:"M\xE9dio",densitySmall:"Compacto"},stepsForm:{next:"Pr\xF3ximo",prev:"Anterior",submit:"Enviar"},loginForm:{submitText:"Entrar"},editableTable:{action:{save:"Salvar",cancel:"Cancelar",delete:"Apagar",add:"adicionar uma linha de dados"}},switch:{open:"abrir",close:"fechar"}},Li={moneySymbol:"\u20BD",form:{lightFilter:{more:"\u0415\u0449\u0435",clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C",confirm:"\u041E\u041A",itemUnit:"\u041F\u043E\u0437\u0438\u0446\u0438\u0438"}},tableForm:{search:"\u041D\u0430\u0439\u0442\u0438",reset:"\u0421\u0431\u0440\u043E\u0441",submit:"\u041E\u0442\u043F\u0440\u0430\u0432\u0438\u0442\u044C",collapsed:"\u0420\u0430\u0437\u0432\u0435\u0440\u043D\u0443\u0442\u044C",expand:"\u0421\u0432\u0435\u0440\u043D\u0443\u0442\u044C",inputPlaceholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435",selectPlaceholder:"\u0412\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0437\u043D\u0430\u0447\u0435\u043D\u0438\u0435"},alert:{clear:"\u041E\u0447\u0438\u0441\u0442\u0438\u0442\u044C",selected:"\u0412\u044B\u0431\u0440\u0430\u043D\u043E",item:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"},pagination:{total:{range:" ",total:"\u0438\u0437",item:"\u044D\u043B\u0435\u043C\u0435\u043D\u0442\u043E\u0432"}},tableToolBar:{leftPin:"\u0417\u0430\u043A\u0440\u0435\u043F\u0438\u0442\u044C \u0441\u043B\u0435\u0432\u0430",rightPin:"\u0417\u0430\u043A\u0440\u0435\u043F\u0438\u0442\u044C \u0441\u043F\u0440\u0430\u0432\u0430",noPin:"\u041E\u0442\u043A\u0440\u0435\u043F\u0438\u0442\u044C",leftFixedTitle:"\u0417\u0430\u043A\u0440\u0435\u043F\u043B\u0435\u043D\u043E \u0441\u043B\u0435\u0432\u0430",rightFixedTitle:"\u0417\u0430\u043A\u0440\u0435\u043F\u043B\u0435\u043D\u043E \u0441\u043F\u0440\u0430\u0432\u0430",noFixedTitle:"\u041D\u0435 \u0437\u0430\u043A\u0440\u0435\u043F\u043B\u0435\u043D\u043E",reset:"\u0421\u0431\u0440\u043E\u0441",columnDisplay:"\u041E\u0442\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435 \u0441\u0442\u043E\u043B\u0431\u0446\u0430",columnSetting:"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438",fullScreen:"\u041F\u043E\u043B\u043D\u044B\u0439 \u044D\u043A\u0440\u0430\u043D",exitFullScreen:"\u0412\u044B\u0439\u0442\u0438 \u0438\u0437 \u043F\u043E\u043B\u043D\u043E\u044D\u043A\u0440\u0430\u043D\u043D\u043E\u0433\u043E \u0440\u0435\u0436\u0438\u043C\u0430",reload:"\u041E\u0431\u043D\u043E\u0432\u0438\u0442\u044C",density:"\u0420\u0430\u0437\u043C\u0435\u0440",densityDefault:"\u041F\u043E \u0443\u043C\u043E\u043B\u0447\u0430\u043D\u0438\u044E",densityLarger:"\u0411\u043E\u043B\u044C\u0448\u043E\u0439",densityMiddle:"\u0421\u0440\u0435\u0434\u043D\u0438\u0439",densitySmall:"\u0421\u0436\u0430\u0442\u044B\u0439"},stepsForm:{next:"\u0421\u043B\u0435\u0434\u0443\u044E\u0449\u0438\u0439",prev:"\u041F\u0440\u0435\u0434\u044B\u0434\u0443\u0449\u0438\u0439",submit:"\u0417\u0430\u0432\u0435\u0440\u0448\u0438\u0442\u044C"},loginForm:{submitText:"\u0412\u0445\u043E\u0434"},editableTable:{action:{save:"\u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C",cancel:"\u041E\u0442\u043C\u0435\u043D\u0438\u0442\u044C",delete:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",add:"\u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0440\u044F\u0434 \u0434\u0430\u043D\u043D\u044B\u0445"}},switch:{open:"\u041E\u0442\u043A\u0440\u044B\u0442\u044B\u0439 \u0447\u0435\u043C\u043F\u0438\u043E\u043D\u0430\u0442 \u043C\u0438\u0440\u0430 \u043F\u043E \u0442\u0435\u043D\u043D\u0438\u0441\u0443",close:"\u041F\u043E \u0430\u0434\u0440\u0435\u0441\u0443:"}},kn={moneySymbol:"RSD",form:{lightFilter:{more:"Vi\u0161e",clear:"O\u010Disti",confirm:"Potvrdi",itemUnit:"Stavke"}},tableForm:{search:"Prona\u0111i",reset:"Resetuj",submit:"Po\u0161alji",collapsed:"Pro\u0161iri",expand:"Skupi",inputPlaceholder:"Molimo unesite",selectPlaceholder:"Molimo odaberite"},alert:{clear:"O\u010Disti",selected:"Odabrano",item:"Stavka"},pagination:{total:{range:" ",total:"od",item:"stavki"}},tableToolBar:{leftPin:"Zaka\u010Di levo",rightPin:"Zaka\u010Di desno",noPin:"Nije zaka\u010Deno",leftFixedTitle:"Fiksirano levo",rightFixedTitle:"Fiksirano desno",noFixedTitle:"Nije fiksirano",reset:"Resetuj",columnDisplay:"Prikaz kolona",columnSetting:"Pode\u0161avanja",fullScreen:"Pun ekran",exitFullScreen:"Zatvori pun ekran",reload:"Osve\u017Ei",density:"Veli\u010Dina",densityDefault:"Podrazumevana",densityLarger:"Ve\u0107a",densityMiddle:"Srednja",densitySmall:"Kompaktna"},stepsForm:{next:"Dalje",prev:"Nazad",submit:"Gotovo"},loginForm:{submitText:"Prijavi se"},editableTable:{action:{save:"Sa\u010Duvaj",cancel:"Poni\u0161ti",delete:"Obri\u0161i",add:"dodajte red podataka"}},switch:{open:"\u041E\u0442\u0432\u043E\u0440\u0438\u0442\u0435",close:"\u0417\u0430\u0442\u0432\u043E\u0440\u0438\u0442\u0435"}},vi={moneySymbol:"\u20BA",form:{lightFilter:{more:"Daha Fazla",clear:"Temizle",confirm:"Onayla",itemUnit:"\xD6\u011Feler"}},tableForm:{search:"Filtrele",reset:"S\u0131f\u0131rla",submit:"G\xF6nder",collapsed:"Daha fazla",expand:"Daha az",inputPlaceholder:"Filtrelemek i\xE7in bir de\u011Fer girin",selectPlaceholder:"Filtrelemek i\xE7in bir de\u011Fer se\xE7in"},alert:{clear:"Temizle",selected:"Se\xE7ili",item:"\xD6\u011Fe"},pagination:{total:{range:" ",total:"Toplam",item:"\xD6\u011Fe"}},tableToolBar:{leftPin:"Sola sabitle",rightPin:"Sa\u011Fa sabitle",noPin:"Sabitlemeyi kald\u0131r",leftFixedTitle:"Sola sabitlendi",rightFixedTitle:"Sa\u011Fa sabitlendi",noFixedTitle:"Sabitlenmedi",reset:"S\u0131f\u0131rla",columnDisplay:"Kolon G\xF6r\xFCn\xFCm\xFC",columnSetting:"Ayarlar",fullScreen:"Tam Ekran",exitFullScreen:"Tam Ekrandan \xC7\u0131k",reload:"Yenile",density:"Kal\u0131nl\u0131k",densityDefault:"Varsay\u0131lan",densityLarger:"B\xFCy\xFCk",densityMiddle:"Orta",densitySmall:"K\xFC\xE7\xFCk"},stepsForm:{next:"S\u0131radaki",prev:"\xD6nceki",submit:"G\xF6nder"},loginForm:{submitText:"Giri\u015F Yap"},editableTable:{action:{save:"Kaydet",cancel:"Vazge\xE7",delete:"Sil",add:"foegje in rige gegevens ta"}},switch:{open:"a\xE7\u0131k",close:"kapatmak"}},Si={moneySymbol:"\u20AB",form:{lightFilter:{more:"Nhi\u1EC1u h\u01A1n",clear:"Trong",confirm:"X\xE1c nh\u1EADn",itemUnit:"M\u1EE5c"}},tableForm:{search:"T\xECm ki\u1EBFm",reset:"L\xE0m l\u1EA1i",submit:"G\u1EEDi \u0111i",collapsed:"M\u1EDF r\u1ED9ng",expand:"Thu g\u1ECDn",inputPlaceholder:"nh\u1EADp d\u1EEF li\u1EC7u",selectPlaceholder:"Vui l\xF2ng ch\u1ECDn"},alert:{clear:"X\xF3a",selected:"\u0111\xE3 ch\u1ECDn",item:"m\u1EE5c"},pagination:{total:{range:" ",total:"tr\xEAn",item:"m\u1EB7t h\xE0ng"}},tableToolBar:{leftPin:"Ghim tr\xE1i",rightPin:"Ghim ph\u1EA3i",noPin:"B\u1ECF ghim",leftFixedTitle:"C\u1ED1 \u0111\u1ECBnh tr\xE1i",rightFixedTitle:"C\u1ED1 \u0111\u1ECBnh ph\u1EA3i",noFixedTitle:"Ch\u01B0a c\u1ED1 \u0111\u1ECBnh",reset:"L\xE0m l\u1EA1i",columnDisplay:"C\u1ED9t hi\u1EC3n th\u1ECB",columnSetting:"C\u1EA5u h\xECnh",fullScreen:"Ch\u1EBF \u0111\u1ED9 to\xE0n m\xE0n h\xECnh",exitFullScreen:"Tho\xE1t ch\u1EBF \u0111\u1ED9 to\xE0n m\xE0n h\xECnh",reload:"L\xE0m m\u1EDBi",density:"M\u1EADt \u0111\u1ED9 hi\u1EC3n th\u1ECB",densityDefault:"M\u1EB7c \u0111\u1ECBnh",densityLarger:"M\u1EB7c \u0111\u1ECBnh",densityMiddle:"Trung b\xECnh",densitySmall:"Ch\u1EADt"},stepsForm:{next:"Sau",prev:"Tr\u01B0\u1EDBc",submit:"K\u1EBFt th\xFAc"},loginForm:{submitText:"\u0110\u0103ng nh\u1EADp"},editableTable:{action:{save:"C\u1EE9u",cancel:"H\u1EE7y",delete:"X\xF3a",add:"th\xEAm m\u1ED9t h\xE0ng d\u1EEF li\u1EC7u"}},switch:{open:"m\u1EDF",close:"\u0111\xF3ng"}},Ye={moneySymbol:"\uFFE5",deleteThisLine:"\u5220\u9664\u6B64\u884C",copyThisLine:"\u590D\u5236\u6B64\u884C",form:{lightFilter:{more:"\u66F4\u591A\u7B5B\u9009",clear:"\u6E05\u9664",confirm:"\u786E\u8BA4",itemUnit:"\u9879"}},tableForm:{search:"\u67E5\u8BE2",reset:"\u91CD\u7F6E",submit:"\u63D0\u4EA4",collapsed:"\u5C55\u5F00",expand:"\u6536\u8D77",inputPlaceholder:"\u8BF7\u8F93\u5165",selectPlaceholder:"\u8BF7\u9009\u62E9"},alert:{clear:"\u53D6\u6D88\u9009\u62E9",selected:"\u5DF2\u9009\u62E9",item:"\u9879"},pagination:{total:{range:"\u7B2C",total:"\u6761/\u603B\u5171",item:"\u6761"}},tableToolBar:{leftPin:"\u56FA\u5B9A\u5728\u5217\u9996",rightPin:"\u56FA\u5B9A\u5728\u5217\u5C3E",noPin:"\u4E0D\u56FA\u5B9A",leftFixedTitle:"\u56FA\u5B9A\u5728\u5DE6\u4FA7",rightFixedTitle:"\u56FA\u5B9A\u5728\u53F3\u4FA7",noFixedTitle:"\u4E0D\u56FA\u5B9A",reset:"\u91CD\u7F6E",columnDisplay:"\u5217\u5C55\u793A",columnSetting:"\u5217\u8BBE\u7F6E",fullScreen:"\u5168\u5C4F",exitFullScreen:"\u9000\u51FA\u5168\u5C4F",reload:"\u5237\u65B0",density:"\u5BC6\u5EA6",densityDefault:"\u6B63\u5E38",densityLarger:"\u9ED8\u8BA4",densityMiddle:"\u4E2D\u7B49",densitySmall:"\u7D27\u51D1"},stepsForm:{next:"\u4E0B\u4E00\u6B65",prev:"\u4E0A\u4E00\u6B65",submit:"\u63D0\u4EA4"},loginForm:{submitText:"\u767B\u5F55"},editableTable:{onlyOneLineEditor:"\u53EA\u80FD\u540C\u65F6\u7F16\u8F91\u4E00\u884C",action:{save:"\u4FDD\u5B58",cancel:"\u53D6\u6D88",delete:"\u5220\u9664",add:"\u6DFB\u52A0\u4E00\u884C\u6570\u636E"}},switch:{open:"\u6253\u5F00",close:"\u5173\u95ED"}},Tt={moneySymbol:"NT$",form:{lightFilter:{more:"\u66F4\u591A\u7BE9\u9078",clear:"\u6E05\u9664",confirm:"\u78BA\u8A8D",itemUnit:"\u9805"}},tableForm:{search:"\u67E5\u8A62",reset:"\u91CD\u7F6E",submit:"\u63D0\u4EA4",collapsed:"\u5C55\u958B",expand:"\u6536\u8D77",inputPlaceholder:"\u8ACB\u8F38\u5165",selectPlaceholder:"\u8ACB\u9078\u64C7"},alert:{clear:"\u53D6\u6D88\u9078\u64C7",selected:"\u5DF2\u9078\u64C7",item:"\u9805"},pagination:{total:{range:"\u7B2C",total:"\u689D/\u7E3D\u5171",item:"\u689D"}},tableToolBar:{leftPin:"\u56FA\u5B9A\u5230\u5DE6\u908A",rightPin:"\u56FA\u5B9A\u5230\u53F3\u908A",noPin:"\u4E0D\u56FA\u5B9A",leftFixedTitle:"\u56FA\u5B9A\u5728\u5DE6\u5074",rightFixedTitle:"\u56FA\u5B9A\u5728\u53F3\u5074",noFixedTitle:"\u4E0D\u56FA\u5B9A",reset:"\u91CD\u7F6E",columnDisplay:"\u5217\u5C55\u793A",columnSetting:"\u5217\u8A2D\u7F6E",fullScreen:"\u5168\u5C4F",exitFullScreen:"\u9000\u51FA\u5168\u5C4F",reload:"\u5237\u65B0",density:"\u5BC6\u5EA6",densityDefault:"\u6B63\u5E38",densityLarger:"\u9ED8\u8A8D",densityMiddle:"\u4E2D\u7B49",densitySmall:"\u7DCA\u6E4A"},stepsForm:{next:"\u4E0B\u4E00\u500B",prev:"\u4EE5\u524D\u7684",submit:"\u5B8C\u6210"},loginForm:{submitText:"\u767B\u5165"},editableTable:{action:{save:"\u4FDD\u5B58",cancel:"\u53D6\u6D88",delete:"\u522A\u9664",add:"\u6DFB\u52A0\u4E00\u884C\u6578\u64DA"}},switch:{open:"\u6253\u958B",close:"\u95DC\u9589"}};function nn(Ue,De,Pe){var tt=De.replace(/\[(\d+)\]/g,".$1").split("."),At=Ue,Bt=Pe,Kt=D(tt),fn;try{for(Kt.s();!(fn=Kt.n()).done;){var Dn=fn.value;if(Bt=Object(At)[Dn],At=Object(At)[Dn],Bt===void 0)return Pe}}catch(yn){Kt.e(yn)}finally{Kt.f()}return Bt}var hn=function(De,Pe){return{getMessage:function(At,Bt){return nn(Pe,At,Bt)||Bt},locale:De}},Vn=hn("mn_MN",Ii),Hn=hn("ar_EG",dt),Ci=hn("zh_CN",Ye),qi=hn("en_US",An),ri=hn("en_GB",vn),ms=hn("vi_VN",Si),fi=hn("it_IT",Jn),_s=hn("ja_JP",ai),bi=hn("es_ES",On),$i=hn("ca_ES",Qt),Ei=hn("ru_RU",Li),Xi=hn("sr_RS",kn),Es=hn("ms_MY",ci),Ks=hn("zh_TW",Tt),gi=hn("fr_FR",Sn),bs=hn("pt_BR",wi),Di=hn("ko_KR",jn),ws=hn("id_ID",Bn),uo=hn("de_DE",en),Us=hn("fa_IR",In),$s=hn("tr_TR",vi),cs=hn("pl_PL",oi),on=hn("hr_",Mn),ts={"mn-MN":Vn,"ar-EG":Hn,"zh-CN":Ci,"en-US":qi,"en-GB":ri,"vi-VN":ms,"it-IT":fi,"ja-JP":_s,"es-ES":bi,"ca-ES":$i,"ru-RU":Ei,"sr-RS":Xi,"ms-MY":Es,"zh-TW":Ks,"fr-FR":gi,"pt-BR":bs,"ko-KR":Di,"id-ID":ws,"de-DE":uo,"fa-IR":Us,"tr-TR":$s,"pl-PL":cs,"hr-HR":on},Ro=Object.keys(ts),zs=X().createContext({intl:(0,u.Z)((0,u.Z)({},Ci),{},{locale:"default"}),valueTypeMap:{}}),As=zs.Consumer,eo=zs.Provider,so=function(De){if(!De)return"zh-CN";var Pe=De.toLocaleLowerCase();return Ro.find(function(tt){var At=tt.toLocaleLowerCase();return At.includes(Pe)})},oo=function(){var De=wt(),Pe=De.cache;return(0,se.useEffect)(function(){return function(){Pe.clear()}},[]),null},Ho=function(De){var Pe=De.children,tt=De.autoClearCache,At=tt===void 0?!1:tt,Bt=(0,se.useContext)(_.ZP.ConfigContext),Kt=Bt.locale,fn=Kt===void 0?_.ZP:X().Fragment,Dn=(0,a.jsx)(As,{children:function(Gn){var Zn,ti=Kt==null?void 0:Kt.locale,Ni=so(ti),Gi=ti&&((Zn=Gn.intl)===null||Zn===void 0?void 0:Zn.locale)==="default"?ts[Ni]:Gn.intl||ts[Ni],Ui=Kt===void 0?{locale:le}:{};return(0,a.jsx)(fn,(0,u.Z)((0,u.Z)({},Ui),{},{children:(0,a.jsx)(eo,{value:(0,u.Z)((0,u.Z)({},Gn),{},{intl:Gi||Ci}),children:(0,a.jsxs)(a.Fragment,{children:[At&&(0,a.jsx)(oo,{}),Pe]})})}))}});return At?(0,a.jsx)(dn,{value:{provider:function(){return new Map}},children:Dn}):Dn};function es(){var Ue=useContext(_ConfigProvider.ConfigContext),De=Ue.locale,Pe=useContext(zs),tt=Pe.intl;return tt&&tt.locale!=="default"?tt:De!=null&&De.locale?ts[so(De.locale)]:Ci}var as=null,xo=null,Yi=l(28780);function Ln(Ue,De){var Pe=(0,Yi.Z)(Ue,De),tt=(0,y.Z)(Pe,2),At=tt[0],Bt=tt[1];return[At,Bt]}var hi=Ln,si=l(14224),ns=typeof si!="undefined"&&si.versions!=null&&si.versions.node!=null,Xs=function(){return typeof window!="undefined"&&typeof window.document!="undefined"&&typeof window.matchMedia!="undefined"&&!ns},ki=Xs;function we(Ue,De){var Pe=typeof Ue.pageName=="string"?Ue.title:De;(0,se.useEffect)(function(){ki()&&Pe&&(document.title=Pe)},[Ue.title,Pe])}var k=we,F=l(42060),m=l.n(F),B=l(57699);function ee(Ue){for(var De=[],Pe=0;Pe<Ue.length;){var tt=Ue[Pe];if(tt==="*"||tt==="+"||tt==="?"){De.push({type:"MODIFIER",index:Pe,value:Ue[Pe++]});continue}if(tt==="\\"){De.push({type:"ESCAPED_CHAR",index:Pe++,value:Ue[Pe++]});continue}if(tt==="{"){De.push({type:"OPEN",index:Pe,value:Ue[Pe++]});continue}if(tt==="}"){De.push({type:"CLOSE",index:Pe,value:Ue[Pe++]});continue}if(tt===":"){for(var At="",Bt=Pe+1;Bt<Ue.length;){var Kt=Ue.charCodeAt(Bt);if(Kt>=48&&Kt<=57||Kt>=65&&Kt<=90||Kt>=97&&Kt<=122||Kt===95){At+=Ue[Bt++];continue}break}if(!At)throw new TypeError("Missing parameter name at "+Pe);De.push({type:"NAME",index:Pe,value:At}),Pe=Bt;continue}if(tt==="("){var fn=1,Dn="",Bt=Pe+1;if(Ue[Bt]==="?")throw new TypeError('Pattern cannot start with "?" at '+Bt);for(;Bt<Ue.length;){if(Ue[Bt]==="\\"){Dn+=Ue[Bt++]+Ue[Bt++];continue}if(Ue[Bt]===")"){if(fn--,fn===0){Bt++;break}}else if(Ue[Bt]==="("&&(fn++,Ue[Bt+1]!=="?"))throw new TypeError("Capturing groups are not allowed at "+Bt);Dn+=Ue[Bt++]}if(fn)throw new TypeError("Unbalanced pattern at "+Pe);if(!Dn)throw new TypeError("Missing pattern at "+Pe);De.push({type:"PATTERN",index:Pe,value:Dn}),Pe=Bt;continue}De.push({type:"CHAR",index:Pe,value:Ue[Pe++]})}return De.push({type:"END",index:Pe,value:""}),De}function fe(Ue,De){De===void 0&&(De={});for(var Pe=ee(Ue),tt=De.prefixes,At=tt===void 0?"./":tt,Bt="[^"+Ct(De.delimiter||"/#?")+"]+?",Kt=[],fn=0,Dn=0,yn="",Gn=function(fs){if(Dn<Pe.length&&Pe[Dn].type===fs)return Pe[Dn++].value},Zn=function(fs){var Gs=Gn(fs);if(Gs!==void 0)return Gs;var Eo=Pe[Dn],Is=Eo.type,Bo=Eo.index;throw new TypeError("Unexpected "+Is+" at "+Bo+", expected "+fs)},ti=function(){for(var fs="",Gs;Gs=Gn("CHAR")||Gn("ESCAPED_CHAR");)fs+=Gs;return fs};Dn<Pe.length;){var Ni=Gn("CHAR"),Gi=Gn("NAME"),Ui=Gn("PATTERN");if(Gi||Ui){var mi=Ni||"";At.indexOf(mi)===-1&&(yn+=mi,mi=""),yn&&(Kt.push(yn),yn=""),Kt.push({name:Gi||fn++,prefix:mi,suffix:"",pattern:Ui||Bt,modifier:Gn("MODIFIER")||""});continue}var Ai=Ni||Gn("ESCAPED_CHAR");if(Ai){yn+=Ai;continue}yn&&(Kt.push(yn),yn="");var yi=Gn("OPEN");if(yi){var mi=ti(),ao=Gn("NAME")||"",Ns=Gn("PATTERN")||"",Ts=ti();Zn("CLOSE"),Kt.push({name:ao||(Ns?fn++:""),pattern:ao&&!Ns?Bt:Ns,prefix:mi,suffix:Ts,modifier:Gn("MODIFIER")||""});continue}Zn("END")}return Kt}function Ie(Ue,De){return Te(fe(Ue,De),De)}function Te(Ue,De){De===void 0&&(De={});var Pe=It(De),tt=De.encode,At=tt===void 0?function(Dn){return Dn}:tt,Bt=De.validate,Kt=Bt===void 0?!0:Bt,fn=Ue.map(function(Dn){if(typeof Dn=="object")return new RegExp("^(?:"+Dn.pattern+")$",Pe)});return function(Dn){for(var yn="",Gn=0;Gn<Ue.length;Gn++){var Zn=Ue[Gn];if(typeof Zn=="string"){yn+=Zn;continue}var ti=Dn?Dn[Zn.name]:void 0,Ni=Zn.modifier==="?"||Zn.modifier==="*",Gi=Zn.modifier==="*"||Zn.modifier==="+";if(Array.isArray(ti)){if(!Gi)throw new TypeError('Expected "'+Zn.name+'" to not repeat, but got an array');if(ti.length===0){if(Ni)continue;throw new TypeError('Expected "'+Zn.name+'" to not be empty')}for(var Ui=0;Ui<ti.length;Ui++){var mi=At(ti[Ui],Zn);if(Kt&&!fn[Gn].test(mi))throw new TypeError('Expected all "'+Zn.name+'" to match "'+Zn.pattern+'", but got "'+mi+'"');yn+=Zn.prefix+mi+Zn.suffix}continue}if(typeof ti=="string"||typeof ti=="number"){var mi=At(String(ti),Zn);if(Kt&&!fn[Gn].test(mi))throw new TypeError('Expected "'+Zn.name+'" to match "'+Zn.pattern+'", but got "'+mi+'"');yn+=Zn.prefix+mi+Zn.suffix;continue}if(!Ni){var Ai=Gi?"an array":"a string";throw new TypeError('Expected "'+Zn.name+'" to be '+Ai)}}return yn}}function Je(Ue,De){var Pe=[],tt=En(Ue,Pe,De);return it(tt,Pe,De)}function it(Ue,De,Pe){Pe===void 0&&(Pe={});var tt=Pe.decode,At=tt===void 0?function(Bt){return Bt}:tt;return function(Bt){var Kt=Ue.exec(Bt);if(!Kt)return!1;for(var fn=Kt[0],Dn=Kt.index,yn=Object.create(null),Gn=function(ti){if(Kt[ti]===void 0)return"continue";var Ni=De[ti-1];Ni.modifier==="*"||Ni.modifier==="+"?yn[Ni.name]=Kt[ti].split(Ni.prefix+Ni.suffix).map(function(Gi){return At(Gi,Ni)}):yn[Ni.name]=At(Kt[ti],Ni)},Zn=1;Zn<Kt.length;Zn++)Gn(Zn);return{path:fn,index:Dn,params:yn}}}function Ct(Ue){return Ue.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function It(Ue){return Ue&&Ue.sensitive?"":"i"}function Ut(Ue,De){if(!De)return Ue;var Pe=Ue.source.match(/\((?!\?)/g);if(Pe)for(var tt=0;tt<Pe.length;tt++)De.push({name:tt,prefix:"",suffix:"",modifier:"",pattern:""});return Ue}function sn(Ue,De,Pe){var tt=Ue.map(function(At){return En(At,De,Pe).source});return new RegExp("(?:"+tt.join("|")+")",It(Pe))}function tn(Ue,De,Pe){return rn(fe(Ue,Pe),De,Pe)}function rn(Ue,De,Pe){Pe===void 0&&(Pe={});for(var tt=Pe.strict,At=tt===void 0?!1:tt,Bt=Pe.start,Kt=Bt===void 0?!0:Bt,fn=Pe.end,Dn=fn===void 0?!0:fn,yn=Pe.encode,Gn=yn===void 0?function(fs){return fs}:yn,Zn="["+Ct(Pe.endsWith||"")+"]|$",ti="["+Ct(Pe.delimiter||"/#?")+"]",Ni=Kt?"^":"",Gi=0,Ui=Ue;Gi<Ui.length;Gi++){var mi=Ui[Gi];if(typeof mi=="string")Ni+=Ct(Gn(mi));else{var Ai=Ct(Gn(mi.prefix)),yi=Ct(Gn(mi.suffix));if(mi.pattern)if(De&&De.push(mi),Ai||yi)if(mi.modifier==="+"||mi.modifier==="*"){var ao=mi.modifier==="*"?"?":"";Ni+="(?:"+Ai+"((?:"+mi.pattern+")(?:"+yi+Ai+"(?:"+mi.pattern+"))*)"+yi+")"+ao}else Ni+="(?:"+Ai+"("+mi.pattern+")"+yi+")"+mi.modifier;else Ni+="("+mi.pattern+")"+mi.modifier;else Ni+="(?:"+Ai+yi+")"+mi.modifier}}if(Dn)At||(Ni+=ti+"?"),Ni+=Pe.endsWith?"(?="+Zn+")":"$";else{var Ns=Ue[Ue.length-1],Ts=typeof Ns=="string"?ti.indexOf(Ns[Ns.length-1])>-1:Ns===void 0;At||(Ni+="(?:"+ti+"(?="+Zn+"))?"),Ts||(Ni+="(?="+ti+"|"+Zn+")")}return new RegExp(Ni,It(Pe))}function En(Ue,De,Pe){return Ue instanceof RegExp?Ut(Ue,De):Array.isArray(Ue)?sn(Ue,De,Pe):tn(Ue,De,Pe)}function Fn(Ue,De){return De>>>Ue|De<<32-Ue}function Nn(Ue,De,Pe){return Ue&De^~Ue&Pe}function ni(Ue,De,Pe){return Ue&De^Ue&Pe^De&Pe}function Ps(Ue){return Fn(2,Ue)^Fn(13,Ue)^Fn(22,Ue)}function no(Ue){return Fn(6,Ue)^Fn(11,Ue)^Fn(25,Ue)}function js(Ue){return Fn(7,Ue)^Fn(18,Ue)^Ue>>>3}function Co(Ue){return Fn(17,Ue)^Fn(19,Ue)^Ue>>>10}function Wi(Ue,De){return Ue[De&15]+=Co(Ue[De+14&15])+Ue[De+9&15]+js(Ue[De+1&15])}var Io=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],Rs,bo,Ss,Ao="0123456789abcdef";function wo(Ue,De){var Pe=(Ue&65535)+(De&65535),tt=(Ue>>16)+(De>>16)+(Pe>>16);return tt<<16|Pe&65535}function So(){Rs=new Array(8),bo=new Array(2),Ss=new Array(64),bo[0]=bo[1]=0,Rs[0]=1779033703,Rs[1]=3144134277,Rs[2]=1013904242,Rs[3]=2773480762,Rs[4]=1359893119,Rs[5]=2600822924,Rs[6]=528734635,Rs[7]=1541459225}function Ys(){var Ue,De,Pe,tt,At,Bt,Kt,fn,Dn,yn,Gn=new Array(16);Ue=Rs[0],De=Rs[1],Pe=Rs[2],tt=Rs[3],At=Rs[4],Bt=Rs[5],Kt=Rs[6],fn=Rs[7];for(var Zn=0;Zn<16;Zn++)Gn[Zn]=Ss[(Zn<<2)+3]|Ss[(Zn<<2)+2]<<8|Ss[(Zn<<2)+1]<<16|Ss[Zn<<2]<<24;for(var ti=0;ti<64;ti++)Dn=fn+no(At)+Nn(At,Bt,Kt)+Io[ti],ti<16?Dn+=Gn[ti]:Dn+=Wi(Gn,ti),yn=Ps(Ue)+ni(Ue,De,Pe),fn=Kt,Kt=Bt,Bt=At,At=wo(tt,Dn),tt=Pe,Pe=De,De=Ue,Ue=wo(Dn,yn);Rs[0]+=Ue,Rs[1]+=De,Rs[2]+=Pe,Rs[3]+=tt,Rs[4]+=At,Rs[5]+=Bt,Rs[6]+=Kt,Rs[7]+=fn}function et(Ue,De){var Pe,tt,At=0;tt=bo[0]>>3&63;var Bt=De&63;for((bo[0]+=De<<3)<De<<3&&bo[1]++,bo[1]+=De>>29,Pe=0;Pe+63<De;Pe+=64){for(var Kt=tt;Kt<64;Kt++)Ss[Kt]=Ue.charCodeAt(At++);Ys(),tt=0}for(var fn=0;fn<Bt;fn++)Ss[fn]=Ue.charCodeAt(At++)}function Ae(){var Ue=bo[0]>>3&63;if(Ss[Ue++]=128,Ue<=56)for(var De=Ue;De<56;De++)Ss[De]=0;else{for(var Pe=Ue;Pe<64;Pe++)Ss[Pe]=0;Ys();for(var tt=0;tt<56;tt++)Ss[tt]=0}Ss[56]=bo[1]>>>24&255,Ss[57]=bo[1]>>>16&255,Ss[58]=bo[1]>>>8&255,Ss[59]=bo[1]&255,Ss[60]=bo[0]>>>24&255,Ss[61]=bo[0]>>>16&255,Ss[62]=bo[0]>>>8&255,Ss[63]=bo[0]&255,Ys()}function Lt(){for(var Ue=0,De=new Array(32),Pe=0;Pe<8;Pe++)De[Ue++]=Rs[Pe]>>>24&255,De[Ue++]=Rs[Pe]>>>16&255,De[Ue++]=Rs[Pe]>>>8&255,De[Ue++]=Rs[Pe]&255;return De}function zt(){for(var Ue=new String,De=0;De<8;De++)for(var Pe=28;Pe>=0;Pe-=4)Ue+=Ao.charAt(Rs[De]>>>Pe&15);return Ue}function Zt(Ue){return So(),et(Ue,Ue.length),Ae(),zt()}var qt=Zt;function $n(Ue){return $n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(De){return typeof De}:function(De){return De&&typeof Symbol=="function"&&De.constructor===Symbol&&De!==Symbol.prototype?"symbol":typeof De},$n(Ue)}var xi=["pro_layout_parentKeys","children","icon","flatMenu","indexRoute","routes"];function Bi(Ue,De){return hs(Ue)||ps(Ue,De)||Ea(Ue,De)||vs()}function vs(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ps(Ue,De){var Pe=Ue==null?null:typeof Symbol!="undefined"&&Ue[Symbol.iterator]||Ue["@@iterator"];if(Pe!=null){var tt=[],At=!0,Bt=!1,Kt,fn;try{for(Pe=Pe.call(Ue);!(At=(Kt=Pe.next()).done)&&(tt.push(Kt.value),!(De&&tt.length===De));At=!0);}catch(Dn){Bt=!0,fn=Dn}finally{try{!At&&Pe.return!=null&&Pe.return()}finally{if(Bt)throw fn}}return tt}}function hs(Ue){if(Array.isArray(Ue))return Ue}function qs(Ue,De){var Pe=typeof Symbol!="undefined"&&Ue[Symbol.iterator]||Ue["@@iterator"];if(!Pe){if(Array.isArray(Ue)||(Pe=Ea(Ue))||De&&Ue&&typeof Ue.length=="number"){Pe&&(Ue=Pe);var tt=0,At=function(){};return{s:At,n:function(){return tt>=Ue.length?{done:!0}:{done:!1,value:Ue[tt++]}},e:function(yn){throw yn},f:At}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Bt=!0,Kt=!1,fn;return{s:function(){Pe=Pe.call(Ue)},n:function(){var yn=Pe.next();return Bt=yn.done,yn},e:function(yn){Kt=!0,fn=yn},f:function(){try{!Bt&&Pe.return!=null&&Pe.return()}finally{if(Kt)throw fn}}}}function Po(Ue,De){if(!(Ue instanceof De))throw new TypeError("Cannot call a class as a function")}function Fa(Ue,De){for(var Pe=0;Pe<De.length;Pe++){var tt=De[Pe];tt.enumerable=tt.enumerable||!1,tt.configurable=!0,"value"in tt&&(tt.writable=!0),Object.defineProperty(Ue,tt.key,tt)}}function Ya(Ue,De,Pe){return De&&Fa(Ue.prototype,De),Pe&&Fa(Ue,Pe),Object.defineProperty(Ue,"prototype",{writable:!1}),Ue}function zo(Ue,De){if(typeof De!="function"&&De!==null)throw new TypeError("Super expression must either be null or a function");Ue.prototype=Object.create(De&&De.prototype,{constructor:{value:Ue,writable:!0,configurable:!0}}),Object.defineProperty(Ue,"prototype",{writable:!1}),De&&Go(Ue,De)}function Sa(Ue){var De=fl();return function(){var tt=Fr(Ue),At;if(De){var Bt=Fr(this).constructor;At=Reflect.construct(tt,arguments,Bt)}else At=tt.apply(this,arguments);return ya(this,At)}}function ya(Ue,De){if(De&&($n(De)==="object"||typeof De=="function"))return De;if(De!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hl(Ue)}function hl(Ue){if(Ue===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ue}function mr(Ue){var De=typeof Map=="function"?new Map:void 0;return mr=function(tt){if(tt===null||!gl(tt))return tt;if(typeof tt!="function")throw new TypeError("Super expression must either be null or a function");if(typeof De!="undefined"){if(De.has(tt))return De.get(tt);De.set(tt,At)}function At(){return Jo(tt,arguments,Fr(this).constructor)}return At.prototype=Object.create(tt.prototype,{constructor:{value:At,enumerable:!1,writable:!0,configurable:!0}}),Go(At,tt)},mr(Ue)}function Jo(Ue,De,Pe){return fl()?Jo=Reflect.construct.bind():Jo=function(At,Bt,Kt){var fn=[null];fn.push.apply(fn,Bt);var Dn=Function.bind.apply(At,fn),yn=new Dn;return Kt&&Go(yn,Kt.prototype),yn},Jo.apply(null,arguments)}function fl(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ue){return!1}}function gl(Ue){return Function.toString.call(Ue).indexOf("[native code]")!==-1}function Go(Ue,De){return Go=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(tt,At){return tt.__proto__=At,tt},Go(Ue,De)}function Fr(Ue){return Fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Pe){return Pe.__proto__||Object.getPrototypeOf(Pe)},Fr(Ue)}function La(Ue){return Da(Ue)||Qa(Ue)||Ea(Ue)||Lc()}function Lc(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ea(Ue,De){if(!!Ue){if(typeof Ue=="string")return Al(Ue,De);var Pe=Object.prototype.toString.call(Ue).slice(8,-1);if(Pe==="Object"&&Ue.constructor&&(Pe=Ue.constructor.name),Pe==="Map"||Pe==="Set")return Array.from(Ue);if(Pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe))return Al(Ue,De)}}function Qa(Ue){if(typeof Symbol!="undefined"&&Ue[Symbol.iterator]!=null||Ue["@@iterator"]!=null)return Array.from(Ue)}function Da(Ue){if(Array.isArray(Ue))return Al(Ue)}function Al(Ue,De){(De==null||De>Ue.length)&&(De=Ue.length);for(var Pe=0,tt=new Array(De);Pe<De;Pe++)tt[Pe]=Ue[Pe];return tt}function lr(Ue,De){if(Ue==null)return{};var Pe=pr(Ue,De),tt,At;if(Object.getOwnPropertySymbols){var Bt=Object.getOwnPropertySymbols(Ue);for(At=0;At<Bt.length;At++)tt=Bt[At],!(De.indexOf(tt)>=0)&&(!Object.prototype.propertyIsEnumerable.call(Ue,tt)||(Pe[tt]=Ue[tt]))}return Pe}function pr(Ue,De){if(Ue==null)return{};var Pe={},tt=Object.keys(Ue),At,Bt;for(Bt=0;Bt<tt.length;Bt++)At=tt[Bt],!(De.indexOf(At)>=0)&&(Pe[At]=Ue[At]);return Pe}function da(Ue,De){var Pe=Object.keys(Ue);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(Ue);De&&(tt=tt.filter(function(At){return Object.getOwnPropertyDescriptor(Ue,At).enumerable})),Pe.push.apply(Pe,tt)}return Pe}function po(Ue){for(var De=1;De<arguments.length;De++){var Pe=arguments[De]!=null?arguments[De]:{};De%2?da(Object(Pe),!0).forEach(function(tt){ho(Ue,tt,Pe[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ue,Object.getOwnPropertyDescriptors(Pe)):da(Object(Pe)).forEach(function(tt){Object.defineProperty(Ue,tt,Object.getOwnPropertyDescriptor(Pe,tt))})}return Ue}function ho(Ue,De,Pe){return De in Ue?Object.defineProperty(Ue,De,{value:Pe,enumerable:!0,configurable:!0,writable:!0}):Ue[De]=Pe,Ue}var Zi="routes";function Xa(Ue){return Ue.split("?")[0].split("#")[0]}var Ba=function(De){if(!De.startsWith("http"))return!1;try{var Pe=new URL(De);return!!Pe}catch(tt){return!1}},Zr=function(De){var Pe=De.path;if(!Pe||Pe==="/")try{return"/".concat(qt(JSON.stringify(De)))}catch(tt){}return Pe&&Xa(Pe)},cr=function(De,Pe){var tt=De.name,At=De.locale;return"locale"in De&&At===!1||!tt?!1:De.locale||"".concat(Pe,".").concat(tt)},Mi=function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"/";return De.endsWith("/*")?De.replace("/*","/"):(De||Pe).startsWith("/")||Ba(De)?De:"/".concat(Pe,"/").concat(De).replace(/\/\//g,"/").replace(/\/\//g,"/")},Yr=function(De,Pe){var tt=De.menu,At=tt===void 0?{}:tt,Bt=De.indexRoute,Kt=De.path,fn=Kt===void 0?"":Kt,Dn=De.children||De[Zi],yn=At.name,Gn=yn===void 0?De.name:yn,Zn=At.icon,ti=Zn===void 0?De.icon:Zn,Ni=At.hideChildren,Gi=Ni===void 0?De.hideChildren:Ni,Ui=At.flatMenu,mi=Ui===void 0?De.flatMenu:Ui,Ai=Bt&&Object.keys(Bt).join(",")!=="redirect"?[po({path:fn,menu:At},Bt)].concat(Dn||[]):Dn,yi=po({},De);if(Gn&&(yi.name=Gn),ti&&(yi.icon=ti),Ai&&Ai.length){if(Gi)return delete yi[Zi],delete yi.children,yi;var ao=Qr(po(po({},Pe),{},{data:Ai}),De);if(mi)return ao;yi[Zi]=ao}return yi},Oo=function(De){return Array.isArray(De)&&De.length>0};function Qr(Ue){var De=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{path:"/"},Pe=Ue.data,tt=Ue.formatMessage,At=Ue.parentName,Bt=Ue.locale;return!Pe||!Array.isArray(Pe)?[]:Pe.filter(function(Kt){return Kt?Oo(Kt[Zi])||Oo(Kt.children)||Kt.path||Kt.originPath||Kt.layout?!0:(Kt.redirect||Kt.unaccessible,!1):!1}).filter(function(Kt){var fn,Dn;return(Kt==null||(fn=Kt.menu)===null||fn===void 0?void 0:fn.name)||(Kt==null?void 0:Kt.flatMenu)||(Kt==null||(Dn=Kt.menu)===null||Dn===void 0?void 0:Dn.flatMenu)?!0:Kt.menu!==!1}).map(function(Kt){var fn=po({},Kt);return fn.unaccessible&&delete fn.name,fn.path==="*"&&(fn.path="."),fn.path==="/*"&&(fn.path="."),!fn.path&&fn.originPath&&(fn.path=fn.originPath),fn}).map(function(){var Kt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{path:"/"},fn=Kt.children||Kt[Zi],Dn=Mi(Kt.path,De?De.path:"/"),yn=Kt.name,Gn=cr(Kt,At||"menu"),Zn=Gn!==!1&&Bt!==!1&&tt&&Gn?tt({id:Gn,defaultMessage:yn}):yn,ti=De.pro_layout_parentKeys,Ni=ti===void 0?[]:ti,Gi=De.children,Ui=De.icon,mi=De.flatMenu,Ai=De.indexRoute,yi=De.routes,ao=lr(De,xi),Ns=new Set([].concat(La(Ni),La(Kt.parentKeys||[])));De.key&&Ns.add(De.key);var Ts=po(po(po({},ao),{},{menu:void 0},Kt),{},{path:Dn,locale:Gn,key:Kt.key||Zr(po(po({},Kt),{},{path:Dn})),pro_layout_parentKeys:Array.from(Ns).filter(function(Gs){return Gs&&Gs!=="/"})});if(Zn?Ts.name=Zn:delete Ts.name,Ts.menu===void 0&&delete Ts.menu,Oo(fn)){var fs=Qr(po(po({},Ue),{},{data:fn,parentName:Gn||""}),Ts);Oo(fs)&&(Ts[Zi]=fs,Ts.children=fs)}return Yr(Ts,Ue)}).flat(1)}var dr=(0,B.default)(Qr,m()),ml=function Ue(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return De.filter(function(Pe){return Pe&&(Pe.name||Oo(Pe[Zi])||Oo(Pe.children))&&!Pe.hideInMenu&&!Pe.redirect}).map(function(Pe){var tt=po({},Pe),At=tt.children||tt[Zi];if(Oo(At)&&!tt.hideChildrenInMenu&&At.some(function(fn){return fn&&!!fn.name})){var Bt,Kt=Ue(At);if(Kt.length)return po(po({},tt),{},(Bt={},ho(Bt,Zi,Kt),ho(Bt,"children",Kt),Bt))}return po(po({},Pe),{},ho({},Zi,void 0))}).filter(function(Pe){return Pe})},pl=function(Ue){zo(Pe,Ue);var De=Sa(Pe);function Pe(){return Po(this,Pe),De.apply(this,arguments)}return Ya(Pe,[{key:"get",value:function(At){var Bt;try{var Kt=qs(this.entries()),fn;try{for(Kt.s();!(fn=Kt.n()).done;){var Dn=Bi(fn.value,2),yn=Dn[0],Gn=Dn[1],Zn=Xa(yn);if(!Ba(yn)&&En(Zn,[]).test(At)){Bt=Gn;break}}}catch(ti){Kt.e(ti)}finally{Kt.f()}}catch(ti){Bt=void 0}return Bt}}]),Pe}(mr(Map)),Ja=function(De){var Pe=new pl,tt=function At(Bt,Kt){Bt.forEach(function(fn){var Dn=fn.children||fn[Zi];Oo(Dn)&&At(Dn,fn);var yn=Mi(fn.path,Kt?Kt.path:"/");Pe.set(Xa(yn),fn)})};return tt(De),Pe},Hi=(0,B.default)(Ja,m()),Ws=function Ue(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return De.map(function(Pe){var tt=Pe.children||Pe[Zi];if(Oo(tt)){var At=Ue(tt);if(At.length)return po(po({},Pe),{},ho({},Zi,At))}var Bt=po({},Pe);return delete Bt[Zi],delete Bt.children,Bt}).filter(function(Pe){return Pe})},_o=function(De,Pe,tt,At){var Bt=dr({data:De,formatMessage:tt,locale:Pe}),Kt=At?Ws(Bt):ml(Bt),fn=Hi(Bt);return{breadcrumb:fn,menuData:Kt}},ds=_o;function Zo(Ue,De){var Pe=Object.keys(Ue);if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(Ue);De&&(tt=tt.filter(function(At){return Object.getOwnPropertyDescriptor(Ue,At).enumerable})),Pe.push.apply(Pe,tt)}return Pe}function yo(Ue){for(var De=1;De<arguments.length;De++){var Pe=arguments[De]!=null?arguments[De]:{};De%2?Zo(Object(Pe),!0).forEach(function(tt){Fo(Ue,tt,Pe[tt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ue,Object.getOwnPropertyDescriptors(Pe)):Zo(Object(Pe)).forEach(function(tt){Object.defineProperty(Ue,tt,Object.getOwnPropertyDescriptor(Pe,tt))})}return Ue}function Fo(Ue,De,Pe){return De in Ue?Object.defineProperty(Ue,De,{value:Pe,enumerable:!0,configurable:!0,writable:!0}):Ue[De]=Pe,Ue}var Pl=function Ue(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Pe={};return De.forEach(function(tt){if(!(!tt||!tt.key)){var At=tt.children||tt[Zi];Pe[Xa(tt.path||tt.key||"/")]=yo({},tt),Pe[tt.key||tt.path||"/"]=yo({},tt),At&&(Pe=yo(yo({},Pe),Ue(At)))}}),Pe},_l=Pl,Od=function(){var De=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Pe=arguments.length>1?arguments[1]:void 0,tt=arguments.length>2?arguments[2]:void 0;return De.filter(function(At){if(At==="/"&&Pe==="/")return!0;if(At!=="/"&&At!=="/*"&&At&&!Ba(At)){var Bt=Xa(At);try{if(tt&&En("".concat(Bt)).test(Pe)||En("".concat(Bt),[]).test(Pe)||En("".concat(Bt,"/(.*)")).test(Pe))return!0}catch(Kt){}}return!1}).sort(function(At,Bt){return At===Pe?10:Bt===Pe?-10:At.substr(1).split("/").length-Bt.substr(1).split("/").length})},Xr=function(De,Pe,tt,At){var Bt=_l(Pe),Kt=Object.keys(Bt),fn=Od(Kt,De||"/",At);return!fn||fn.length<1?[]:(tt||(fn=[fn[fn.length-1]]),fn.map(function(Dn){var yn=Bt[Dn]||{pro_layout_parentKeys:"",key:""},Gn=new Map,Zn=(yn.pro_layout_parentKeys||[]).map(function(ti){return Gn.has(ti)?null:(Gn.set(ti,!0),Bt[ti])}).filter(function(ti){return ti});return yn.key&&Zn.push(yn),Zn}).flat(1))},ys=Xr,_r=l(84875),Uo=l.n(_r),Ec=l(71770);function vl(Ue,De){return qa(Ue)||Cl(Ue,De)||ha(Ue,De)||ua()}function ua(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ha(Ue,De){if(!!Ue){if(typeof Ue=="string")return Jl(Ue,De);var Pe=Object.prototype.toString.call(Ue).slice(8,-1);if(Pe==="Object"&&Ue.constructor&&(Pe=Ue.constructor.name),Pe==="Map"||Pe==="Set")return Array.from(Ue);if(Pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe))return Jl(Ue,De)}}function Jl(Ue,De){(De==null||De>Ue.length)&&(De=Ue.length);for(var Pe=0,tt=new Array(De);Pe<De;Pe++)tt[Pe]=Ue[Pe];return tt}function Cl(Ue,De){var Pe=Ue&&(typeof Symbol!="undefined"&&Ue[Symbol.iterator]||Ue["@@iterator"]);if(Pe!=null){var tt=[],At=!0,Bt=!1,Kt,fn;try{for(Pe=Pe.call(Ue);!(At=(Kt=Pe.next()).done)&&(tt.push(Kt.value),!(De&&tt.length===De));At=!0);}catch(Dn){Bt=!0,fn=Dn}finally{try{!At&&Pe.return!=null&&Pe.return()}finally{if(Bt)throw fn}}return tt}}function qa(Ue){if(Array.isArray(Ue))return Ue}function vr(Ue){var De=typeof window=="undefined",Pe=(0,se.useState)(function(){return De?!1:window.matchMedia(Ue).matches}),tt=vl(Pe,2),At=tt[0],Bt=tt[1];return(0,se.useLayoutEffect)(function(){if(!De){var Kt=window.matchMedia(Ue),fn=function(yn){return Bt(yn.matches)};return Kt.addListener(fn),function(){return Kt.removeListener(fn)}}},[Ue]),At}function nd(Ue,De){return od(Ue)||sd(Ue,De)||bl(Ue,De)||id()}function id(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bl(Ue,De){if(!!Ue){if(typeof Ue=="string")return Br(Ue,De);var Pe=Object.prototype.toString.call(Ue).slice(8,-1);if(Pe==="Object"&&Ue.constructor&&(Pe=Ue.constructor.name),Pe==="Map"||Pe==="Set")return Array.from(Ue);if(Pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe))return Br(Ue,De)}}function Br(Ue,De){(De==null||De>Ue.length)&&(De=Ue.length);for(var Pe=0,tt=new Array(De);Pe<De;Pe++)tt[Pe]=Ue[Pe];return tt}function sd(Ue,De){var Pe=Ue&&(typeof Symbol!="undefined"&&Ue[Symbol.iterator]||Ue["@@iterator"]);if(Pe!=null){var tt=[],At=!0,Bt=!1,Kt,fn;try{for(Pe=Pe.call(Ue);!(At=(Kt=Pe.next()).done)&&(tt.push(Kt.value),!(De&&tt.length===De));At=!0);}catch(Dn){Bt=!0,fn=Dn}finally{try{!At&&Pe.return!=null&&Pe.return()}finally{if(Bt)throw fn}}return tt}}function od(Ue){if(Array.isArray(Ue))return Ue}var Wr={xs:{maxWidth:575,matchMedia:"(max-width: 575px)"},sm:{minWidth:576,maxWidth:767,matchMedia:"(min-width: 576px) and (max-width: 767px)"},md:{minWidth:768,maxWidth:991,matchMedia:"(min-width: 768px) and (max-width: 991px)"},lg:{minWidth:992,maxWidth:1199,matchMedia:"(min-width: 992px) and (max-width: 1199px)"},xl:{minWidth:1200,maxWidth:1599,matchMedia:"(min-width: 1200px) and (max-width: 1599px)"},xxl:{minWidth:1600,matchMedia:"(min-width: 1600px)"}},ql=function(){var De="md";if(typeof window=="undefined")return De;var Pe=Object.keys(Wr).find(function(tt){var At=Wr[tt].matchMedia;return!!window.matchMedia(At).matches});return De=Pe,De},ec=function(){var De=vr(Wr.md.matchMedia),Pe=vr(Wr.lg.matchMedia),tt=vr(Wr.xxl.matchMedia),At=vr(Wr.xl.matchMedia),Bt=vr(Wr.sm.matchMedia),Kt=vr(Wr.xs.matchMedia),fn=(0,se.useState)(ql()),Dn=nd(fn,2),yn=Dn[0],Gn=Dn[1];return(0,se.useEffect)(function(){if(tt){Gn("xxl");return}if(At){Gn("xl");return}if(Pe){Gn("lg");return}if(De){Gn("md");return}if(Bt){Gn("sm");return}if(Kt){Gn("xs");return}Gn("md")},[De,Pe,tt,At,Bt,Kt]),yn},rd=ec,Fd=l(91190),Ol=l.n(Fd),el=l(7098),Dc=l(42194);function xc(Ue){var De=se.createContext(null);function Pe(At){var Bt=Ue(At.initialState);return se.createElement(De.Provider,{value:Bt},At.children)}function tt(){var At=se.useContext(De);if(At===null)throw new Error("Component must be wrapped with <Container.Provider>");return At}return{Provider:Pe,useContainer:tt}}function Fl(Ue){return Ue.useContainer()}function Yo(){var Ue=(0,se.useState)([]),De=(0,y.Z)(Ue,2),Pe=De[0],tt=De[1];return{flatMenuKeys:Pe,setFlatMenuKeys:tt}}var Cr=xc(Yo),tl=Cr,Ic=l(53498),nl=l(15051),br=l(58410),Wa=l(82639),Vr=l(2793),Hr=l(94100),Jr=l(52113),qr=l(83235),Lo=l(82878),Bl=l(43837),fa=function(De){if(!De||!De.startsWith("http"))return!1;try{var Pe=new URL(De);return!!Pe}catch(tt){return!1}},ea=fa;function zr(Ue){return/\w.(png|jpg|jpeg|svg|webp|gif|bmp)$/i.test(Ue)}var tc=zr,ta={navTheme:"dark",layout:"side",contentWidth:"Fluid",fixedHeader:!1,fixSiderbar:!1,headerHeight:48,iconfontUrl:"",primaryColor:"#1890ff",splitMenus:!1},Nc=ta,nc=function Ue(De){return(De||[]).reduce(function(Pe,tt){if(tt.key&&Pe.push(tt.key),tt.routes){var At=Pe.concat(Ue(tt.routes)||[]);return At}return Pe},[])},Va={daybreak:"#1890ff",dust:"#F5222D",volcano:"#FA541C",sunset:"#FAAD14",cyan:"#13C2C2",green:"#52C41A",geekblue:"#2F54EB",purple:"#722ED1"};function ic(Ue){return Ue&&Va[Ue]?Va[Ue]:Ue}function xa(Ue){return Ue.map(function(De){var Pe=De.children||De.routes,tt=(0,u.Z)({},De);if(!tt.name||tt.hideInMenu)return null;if(tt&&(tt==null?void 0:tt.routes)){if(!tt.hideChildrenInMenu&&Pe.some(function(At){return At&&At.name&&!At.hideInMenu}))return(0,u.Z)((0,u.Z)({},De),{},{children:xa(Pe),routes:xa(Pe)});delete tt.routes,delete tt.children}return tt}).filter(function(De){return De})}var Wl=(0,Lo.Z)({scriptUrl:Nc.iconfontUrl}),ga=function(De){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"icon-";if(typeof De=="string"&&De!==""){if(ea(De)||tc(De))return(0,a.jsx)(Bl.Z,{component:function(){return(0,a.jsx)("img",{src:De,alt:"icon",className:"ant-pro-sider-menu-icon"})}});if(De.startsWith(Pe))return(0,a.jsx)(Wl,{type:De})}return De},Ia=(0,Jr.Z)(function Ue(De){var Pe=this;(0,qr.Z)(this,Ue),this.props=void 0,this.getNavMenuItems=function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],At=arguments.length>1?arguments[1]:void 0;return tt.map(function(Bt){return Pe.getSubMenuOrItem(Bt,At)}).filter(function(Bt){return Bt})},this.getSubMenuOrItem=function(tt,At){var Bt=(tt==null?void 0:tt.children)||(tt==null?void 0:tt.routes);if(Array.isArray(Bt)&&Bt.length>0){var Kt=Pe.getIntlName(tt),fn=Pe.props,Dn=fn.subMenuItemRender,yn=fn.prefixCls,Gn=fn.menu,Zn=fn.iconPrefixes,ti=tt.icon?(0,a.jsxs)("span",{className:"".concat(yn,"-menu-item"),title:Kt,children:[!At&&ga(tt.icon,Zn),(0,a.jsx)("span",{className:"".concat(yn,"-menu-item-title"),children:Kt})]}):(0,a.jsx)("span",{className:"".concat(yn,"-menu-item"),title:Kt,children:Kt}),Ni=Dn?Dn((0,u.Z)((0,u.Z)({},tt),{},{isUrl:!1}),ti,Pe.props):ti;return{type:(Gn==null?void 0:Gn.type)==="group"?"group":void 0,label:Ni,children:Pe.getNavMenuItems(Bt,!0),onTitleClick:tt.onTitleClick,key:tt.key||tt.path}}return{label:Pe.getMenuItemPath(tt,At),title:Pe.getIntlName(tt),key:tt.key||tt.path,disabled:tt.disabled,onClick:function(Ui){var mi;ea(tt==null?void 0:tt.path)&&window.open(tt.path,"_blank"),(mi=tt.onTitleClick)===null||mi===void 0||mi.call(tt,Ui)}}},this.getIntlName=function(tt){var At=tt.name,Bt=tt.locale,Kt=Pe.props,fn=Kt.menu,Dn=Kt.formatMessage;return Bt&&(fn==null?void 0:fn.locale)!==!1?Dn==null?void 0:Dn({id:Bt,defaultMessage:At}):At},this.getMenuItemPath=function(tt,At){var Bt=Pe.conversionPath(tt.path||"/"),Kt=Pe.props,fn=Kt.location,Dn=fn===void 0?{pathname:"/"}:fn,yn=Kt.isMobile,Gn=Kt.onCollapse,Zn=Kt.menuItemRender,ti=Kt.iconPrefixes,Ni=Pe.getIntlName(tt),Gi=Pe.props.prefixCls,Ui=At?null:ga(tt.icon,ti),mi=ea(Bt),Ai=(0,a.jsxs)("span",{className:Uo()("".concat(Gi,"-menu-item"),(0,z.Z)({},"".concat(Gi,"-menu-item-link"),mi)),children:[Ui,(0,a.jsx)("span",{className:"".concat(Gi,"-menu-item-title"),children:Ni})]});if(Zn){var yi=(0,u.Z)((0,u.Z)({},tt),{},{isUrl:mi,itemPath:Bt,isMobile:yn,replace:Bt===Dn.pathname,onClick:function(){mi&&window.open(Bt,"_blank"),Gn&&Gn(!0)},children:void 0});return Zn(yi,Ai,Pe.props)}return Ai},this.conversionPath=function(tt){return tt&&tt.indexOf("http")===0?tt:"/".concat(tt||"").replace(/\/+/g,"/")},this.props=De}),wl=function(De,Pe){var tt=Pe.layout,At=Pe.collapsed,Bt={};return De&&!At&&["side","mix"].includes(tt||"mix")&&(Bt={openKeys:De}),Bt},Ha=function(De){var Pe=De.theme,tt=De.mode,At=De.className,Bt=De.handleOpenChange,Kt=De.style,fn=De.menuData,Dn=De.menu,yn=De.matchMenuKeys,Gn=De.iconfontUrl,Zn=De.collapsed,ti=De.selectedKeys,Ni=De.onSelect,Gi=De.openKeys,Ui=(0,se.useRef)([]),mi=tl.useContainer(),Ai=mi.flatMenuKeys,yi=hi(Dn==null?void 0:Dn.defaultOpenAll),ao=(0,y.Z)(yi,2),Ns=ao[0],Ts=ao[1],fs=hi(function(){return Dn!=null&&Dn.defaultOpenAll?nc(fn)||[]:Gi===!1?!1:[]},{value:Gi===!1?void 0:Gi,onChange:Bt}),Gs=(0,y.Z)(fs,2),Eo=Gs[0],Is=Gs[1],Bo=hi([],{value:ti,onChange:Ni?function(Ur){Ni&&Ur&&Ni(Ur)}:void 0}),Wo=(0,y.Z)(Bo,2),pa=Wo[0],kr=Wo[1];(0,se.useEffect)(function(){(Dn==null?void 0:Dn.defaultOpenAll)||Gi===!1||Ai.length||yn&&(Is(yn),kr(yn))},[yn.join("-")]),(0,se.useEffect)(function(){Gn&&(Wl=(0,Lo.Z)({scriptUrl:Gn}))},[Gn]),(0,se.useEffect)(function(){if(yn.join("-")!==(pa||[]).join("-")&&kr(yn),!Ns&&Gi!==!1&&yn.join("-")!==(Eo||[]).join("-")){var Ur=yn;(Dn==null?void 0:Dn.autoClose)===!1&&(Ur=Array.from(new Set([].concat((0,Hr.Z)(yn),(0,Hr.Z)(Eo||[]))))),Is(Ur)}else(Dn==null?void 0:Dn.ignoreFlatMenu)&&Ns?Is(nc(fn)):Ai.length>0&&Ts(!1)},[yn.join("-"),Zn]);var ir=(0,se.useMemo)(function(){return wl(Eo,De)},[Eo&&Eo.join(","),De.layout,De.collapsed]),oa=(0,se.useState)(function(){return new Ia(De)}),_a=(0,y.Z)(oa,1),ra=_a[0];if(Dn!=null&&Dn.loading)return(0,a.jsx)("div",{style:tt!=null&&tt.includes("inline")?{padding:24}:{marginTop:16},children:(0,a.jsx)(Vr.Z,{active:!0,title:!1,paragraph:{rows:tt!=null&&tt.includes("inline")?6:1}})});var va=Uo()(At,{"top-nav-menu":tt==="horizontal"});ra.props=De,De.openKeys===!1&&!De.handleOpenChange&&(Ui.current=yn);var yr=De.postMenuData?De.postMenuData(fn):fn;return yr&&(yr==null?void 0:yr.length)<1?null:(0,se.createElement)(nl.Z,(0,u.Z)((0,u.Z)({},ir),{},{key:"Menu",mode:tt,items:ra.getNavMenuItems(yr,!1),inlineIndent:16,defaultOpenKeys:Ui.current,theme:Pe,selectedKeys:pa,style:Kt,className:va,onOpenChange:Is},De.menuProps))};Ha.defaultProps={postMenuData:function(De){return De||[]}};var Vl=Ha,Tc=L.Sider,qo=function(De){return typeof De=="string"?(0,a.jsx)("img",{src:De,alt:"logo"}):typeof De=="function"?De():De},fo=function(De){var Pe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"menuHeaderRender",tt=De.logo,At=De.title,Bt=De.layout,Kt=De[Pe||""];if(Kt===!1)return null;var fn=qo(tt),Dn=(0,a.jsx)("h1",{children:At!=null?At:"Ant Design Pro"});return Kt?Kt(fn,De.collapsed?null:Dn,De):Bt==="mix"&&Pe==="menuHeaderRender"?null:(0,a.jsxs)("a",{children:[fn,De.collapsed?null:Dn]})},er=function(De){return De?(0,a.jsx)(br.Z,{}):(0,a.jsx)(Wa.Z,{})},Bs=function(De){var Pe,tt=De.collapsed,At=De.fixSiderbar,Bt=De.menuFooterRender,Kt=De.onCollapse,fn=De.theme,Dn=De.siderWidth,yn=De.isMobile,Gn=De.onMenuHeaderClick,Zn=De.breakpoint,ti=Zn===void 0?"lg":Zn,Ni=De.style,Gi=De.layout,Ui=De.menuExtraRender,mi=Ui===void 0?!1:Ui,Ai=De.collapsedButtonRender,yi=Ai===void 0?er:Ai,ao=De.links,Ns=De.menuContentRender,Ts=De.prefixCls,fs=De.onOpenChange,Gs=De.headerHeight,Eo=De.logoStyle,Is="".concat(Ts,"-sider"),Bo=tl.useContainer(),Wo=Bo.flatMenuKeys,pa=Uo()("".concat(Is),(Pe={},(0,z.Z)(Pe,"".concat(Is,"-fixed"),At),(0,z.Z)(Pe,"".concat(Is,"-layout-").concat(Gi),Gi&&!yn),(0,z.Z)(Pe,"".concat(Is,"-light"),fn!=="dark"),Pe)),kr=fo(De),ir=mi&&mi(De),oa=Ns!==!1&&Wo&&(0,se.createElement)(Vl,(0,u.Z)((0,u.Z)({},De),{},{key:"base-menu",mode:"inline",handleOpenChange:fs,style:{width:"100%"},className:"".concat(Is,"-menu")})),_a=Ns?Ns(De,oa):oa,ra=(ao||[]).map(function(va,yr){return{className:"".concat(Is,"-link"),label:va,key:yr}});return yi&&!yn&&ra.push({className:"".concat(Is,"-collapsed-button"),title:!1,key:"collapsed",onClick:function(){Kt&&Kt(!tt)},label:yi(tt)}),(0,a.jsxs)(a.Fragment,{children:[At&&(0,a.jsx)("div",{style:(0,u.Z)({width:tt?48:Dn,overflow:"hidden",flex:"0 0 ".concat(tt?48:Dn,"px"),maxWidth:tt?48:Dn,minWidth:tt?48:Dn,transition:"background-color 0.3s, min-width 0.3s, max-width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)"},Ni)}),(0,a.jsxs)(Tc,{collapsible:!0,trigger:null,collapsed:tt,breakpoint:ti===!1?void 0:ti,onCollapse:function(yr){yn||Kt==null||Kt(yr)},collapsedWidth:48,style:(0,u.Z)({overflow:"hidden",paddingTop:Gi==="mix"&&!yn?Gs:void 0},Ni),width:Dn,theme:fn,className:pa,children:[kr&&(0,a.jsx)("div",{className:Uo()("".concat(Is,"-logo"),(0,z.Z)({},"".concat(Is,"-collapsed"),tt)),onClick:Gi!=="mix"?Gn:void 0,id:"logo",style:Eo,children:kr}),ir&&(0,a.jsx)("div",{className:"".concat(Is,"-extra ").concat(!kr&&"".concat(Is,"-extra-no-logo")),children:ir}),(0,a.jsx)("div",{style:{flex:1,overflowY:"auto",overflowX:"hidden"},children:_a}),(0,a.jsx)("div",{className:"".concat(Is,"-links"),children:(0,a.jsx)(nl.Z,{theme:fn,inlineIndent:16,className:"".concat(Is,"-link-menu"),selectedKeys:[],openKeys:[],mode:"inline",items:ra})}),Bt&&(0,a.jsx)("div",{className:Uo()("".concat(Is,"-footer"),(0,z.Z)({},"".concat(Is,"-footer-collapsed"),!tt)),children:Bt(De)})]})]})},ad=Bs,Hl=function(De){var Pe=De.isMobile,tt=De.menuData,At=De.siderWidth,Bt=De.collapsed,Kt=De.onCollapse,fn=De.style,Dn=De.className,yn=De.hide,Gn=De.getContainer,Zn=De.prefixCls,ti=De.matchMenuKeys,Ni=tl.useContainer(),Gi=Ni.setFlatMenuKeys;(0,se.useEffect)(function(){if(!(!tt||tt.length<1)){var mi=_l(tt);Gi(Object.keys(mi))}},[ti.join("-")]),(0,se.useEffect)(function(){Pe===!0&&(Kt==null||Kt(!0))},[Pe]);var Ui=(0,Ec.Z)(De,["className","style"]);return yn?null:Pe?(0,a.jsx)(Dc.Z,{visible:!Bt,placement:"left",className:Uo()("".concat(Zn,"-drawer-sider"),Dn),onClose:function(){return Kt==null?void 0:Kt(!0)},style:(0,u.Z)({padding:0,height:"100vh"},fn),getContainer:Gn,width:At,bodyStyle:{height:"100vh",padding:0,display:"flex",flexDirection:"row"},children:(0,a.jsx)(ad,(0,u.Z)((0,u.Z)({},Ui),{},{className:Uo()("".concat(Zn,"-sider"),Dn),collapsed:Pe?!1:Bt,splitMenus:!1}))}):(0,a.jsx)(ad,(0,u.Z)((0,u.Z)({className:Uo()("".concat(Zn,"-sider"),Dn)},Ui),{},{style:fn}))},kc=Hl,za={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm5.6-532.7c53 0 89 33.8 93 83.4.3 4.2 3.8 7.4 8 7.4h56.7c2.6 0 4.7-2.1 4.7-4.7 0-86.7-68.4-147.4-162.7-147.4C407.4 290 344 364.2 344 486.8v52.3C344 660.8 407.4 734 517.3 734c94 0 162.7-58.8 162.7-141.4 0-2.6-2.1-4.7-4.7-4.7h-56.8c-4.2 0-7.6 3.2-8 7.3-4.2 46.1-40.1 77.8-93 77.8-65.3 0-102.1-47.9-102.1-133.6v-52.6c.1-87 37-135.5 102.2-135.5z"}}]},name:"copyright",theme:"outlined"},Mc=za,sc=l(17536),Rc=function(De,Pe){return se.createElement(sc.Z,(0,u.Z)((0,u.Z)({},De),{},{ref:Pe,icon:Mc}))};Rc.displayName="CopyrightOutlined";var il=se.forwardRef(Rc),Ac=function(Ue){var De=Ue.className,Pe=Ue.prefixCls,tt=Ue.links,At=Ue.copyright,Bt=Ue.style,Kt=(0,se.useContext)(_.ZP.ConfigContext),fn=Kt.getPrefixCls(Pe||"pro-global-footer");if((tt==null||tt===!1||Array.isArray(tt)&&tt.length===0)&&(At==null||At===!1))return null;var Dn=Uo()(fn,De);return(0,a.jsxs)("div",{className:Dn,style:Bt,children:[tt&&(0,a.jsx)("div",{className:"".concat(fn,"-links"),children:tt.map(function(yn){return(0,a.jsx)("a",{title:yn.key,target:yn.blankTarget?"_blank":"_self",href:yn.href,rel:"noreferrer",children:yn.title},yn.key)})}),At&&(0,a.jsx)("div",{className:"".concat(fn,"-copyright"),children:At})]})},Na=L.Footer,tr=function(De){var Pe=De.links,tt=De.copyright,At=De.style,Bt=De.className,Kt=De.prefixCls;return(0,a.jsx)(Na,{className:Bt,style:(0,u.Z)({padding:0},At),children:(0,a.jsx)(Ac,{links:Pe,prefixCls:Kt,copyright:tt===!1?null:(0,a.jsxs)(se.Fragment,{children:[(0,a.jsx)(il,{})," ",tt]})})})},Sl=tr,ld=l(58809),pt=l.n(ld),i=function(De,Pe,tt){if(tt){var At=(0,Hr.Z)(tt.keys()).find(function(Kt){return pt()(Kt).test(De)});if(At)return tt.get(At)}if(Pe){var Bt=Object.keys(Pe).find(function(Kt){return pt()(Kt).test(De)});if(Bt)return Pe[Bt]}return{path:""}},c=function(De,Pe){var tt=De.pathname,At=tt===void 0?"/":tt,Bt=De.breadcrumb,Kt=De.breadcrumbMap,fn=De.formatMessage,Dn=De.title,yn=De.menu,Gn=yn===void 0?{locale:!1}:yn,Zn=Pe?"":Dn||"",ti=i(At,Bt,Kt);if(!ti)return{title:Zn,id:"",pageName:Zn};var Ni=ti.name;return Gn.locale!==!1&&ti.locale&&fn&&(Ni=fn({id:ti.locale||"",defaultMessage:ti.name})),Ni?Pe||!Dn?{title:Ni,id:ti.locale||"",pageName:Ni}:{title:"".concat(Ni," - ").concat(Dn),id:ti.locale||"",pageName:Ni}:{title:Zn,id:ti.locale||"",pageName:Zn}},v=function(De,Pe){return c(De,Pe).title},V=null,$=l(1423),ce=l(55859),be=function(De){var Pe=(0,se.useRef)(null);return Pe.current=De,(0,se.useCallback)(function(){for(var tt,At=arguments.length,Bt=new Array(At),Kt=0;Kt<At;Kt++)Bt[Kt]=arguments[Kt];return(tt=Pe.current)===null||tt===void 0?void 0:tt.call.apply(tt,[Pe].concat(Bt))},[])};function Me(Ue,De){var Pe=be(Ue),tt=(0,se.useRef)(),At=(0,se.useCallback)(function(){tt.current&&(clearTimeout(tt.current),tt.current=null)},[]),Bt=(0,se.useCallback)((0,A.Z)((0,P.Z)().mark(function Kt(){var fn,Dn,yn,Gn=arguments;return(0,P.Z)().wrap(function(ti){for(;;)switch(ti.prev=ti.next){case 0:for(fn=Gn.length,Dn=new Array(fn),yn=0;yn<fn;yn++)Dn[yn]=Gn[yn];if(!(De===0||De===void 0)){ti.next=3;break}return ti.abrupt("return",Pe.apply(void 0,Dn));case 3:return At(),ti.abrupt("return",new Promise(function(Ni){tt.current=setTimeout((0,A.Z)((0,P.Z)().mark(function Gi(){return(0,P.Z)().wrap(function(mi){for(;;)switch(mi.prev=mi.next){case 0:return mi.t0=Ni,mi.next=3,Pe.apply(void 0,Dn);case 3:mi.t1=mi.sent,(0,mi.t0)(mi.t1);case 5:case"end":return mi.stop()}},Gi)})),De)}));case 5:case"end":return ti.stop()}},Kt)})),[Pe,At,De]);return(0,se.useEffect)(function(){return At},[At]),{run:Bt,cancel:At}}var Oe=Me,Qe=l(91926),lt=["rightContentRender","prefixCls"],Nt=function(De){var Pe=De.rightContentRender,tt=De.prefixCls,At=(0,T.Z)(De,lt),Bt=(0,se.useState)("auto"),Kt=(0,y.Z)(Bt,2),fn=Kt[0],Dn=Kt[1],yn=Oe(function(){var Gn=(0,A.Z)((0,P.Z)().mark(function Zn(ti){return(0,P.Z)().wrap(function(Gi){for(;;)switch(Gi.prev=Gi.next){case 0:Dn(ti);case 1:case"end":return Gi.stop()}},Zn)}));return function(Zn){return Gn.apply(this,arguments)}}(),160);return(0,a.jsx)("div",{className:"".concat(tt,"-right-content"),style:{minWidth:fn},children:(0,a.jsx)("div",{style:{paddingRight:8},children:(0,a.jsx)(Qe.Z,{onResize:function(Zn){var ti=Zn.width;yn.run(ti)},children:Pe&&(0,a.jsx)("div",{className:"".concat(tt,"-right-content-resize"),children:Pe((0,u.Z)((0,u.Z)({},At),{},{rightContentSize:fn}))})})})})},Dt=function(De){var Pe=(0,se.useRef)(null),tt=De.theme,At=De.onMenuHeaderClick,Bt=De.contentWidth,Kt=De.rightContentRender,fn=De.className,Dn=De.style,yn=De.headerContentRender,Gn=De.layout,Zn="".concat(De.prefixCls||"ant-pro","-top-nav-header"),ti=fo((0,u.Z)((0,u.Z)({},De),{},{collapsed:!1}),Gn==="mix"?"headerTitleRender":void 0),Ni=Uo()(Zn,fn,{light:tt==="light"}),Gi=(0,a.jsx)(Vl,(0,u.Z)((0,u.Z)({},De),De.menuProps)),Ui=yn?yn==null?void 0:yn(De,Gi):Gi;return(0,a.jsx)("div",{className:Ni,style:Dn,children:(0,a.jsxs)("div",{ref:Pe,className:"".concat(Zn,"-main ").concat(Bt==="Fixed"?"wide":""),children:[ti&&(0,a.jsx)("div",{className:"".concat(Zn,"-main-left"),onClick:At,children:(0,a.jsx)("div",{className:"".concat(Zn,"-logo"),id:"logo",children:ti},"logo")}),(0,a.jsx)("div",{style:{flex:1},className:"".concat(Zn,"-menu"),children:Ui}),Kt&&(0,a.jsx)(Nt,(0,u.Z)({rightContentRender:Kt,prefixCls:Zn},De))]})})},Yt=Dt,an=function(De,Pe){return De===!1?null:De?De(Pe,null):Pe},gn=function(De){var Pe=De.isMobile,tt=De.logo,At=De.collapsed,Bt=De.onCollapse,Kt=De.collapsedButtonRender,fn=Kt===void 0?er:Kt,Dn=De.rightContentRender,yn=De.menuHeaderRender,Gn=De.onMenuHeaderClick,Zn=De.className,ti=De.style,Ni=De.layout,Gi=De.children,Ui=De.headerTheme,mi=Ui===void 0?"dark":Ui,Ai=De.splitMenus,yi=De.menuData,ao=De.prefixCls,Ns=(0,se.useContext)(_.ZP.ConfigContext),Ts=Ns.direction,fs="".concat(ao,"-global-header"),Gs=Uo()(Zn,fs,(0,z.Z)({},"".concat(fs,"-layout-").concat(Ni),Ni&&mi==="dark"));if(Ni==="mix"&&!Pe&&Ai){var Eo=(yi||[]).map(function(pa){return(0,u.Z)((0,u.Z)({},pa),{},{children:void 0,routes:void 0})}),Is=xa(Eo);return(0,a.jsx)(Yt,(0,u.Z)((0,u.Z)({mode:"horizontal"},De),{},{splitMenus:!1,menuData:Is,theme:mi}))}var Bo=Uo()("".concat(fs,"-logo"),(0,z.Z)({},"".concat(fs,"-logo-rtl"),Ts==="rtl")),Wo=(0,a.jsx)("span",{className:Bo,children:(0,a.jsx)("a",{children:qo(tt)})},"logo");return(0,a.jsxs)("div",{className:Gs,style:(0,u.Z)({},ti),children:[Pe&&an(yn,Wo),Pe&&fn&&(0,a.jsx)("span",{className:"".concat(fs,"-collapsed-button"),onClick:function(){Bt&&Bt(!At)},children:fn(At)}),Ni==="mix"&&!Pe&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:Bo,onClick:Gn,children:fo((0,u.Z)((0,u.Z)({},De),{},{collapsed:!1}),"headerTitleRender")})}),(0,a.jsx)("div",{style:{flex:1},children:Gi}),Dn&&Dn(De)]})},un=gn,zn=L.Header,Un=function(Ue){(0,$.Z)(Pe,Ue);var De=(0,ce.Z)(Pe);function Pe(){var tt;(0,qr.Z)(this,Pe);for(var At=arguments.length,Bt=new Array(At),Kt=0;Kt<At;Kt++)Bt[Kt]=arguments[Kt];return tt=De.call.apply(De,[this].concat(Bt)),tt.renderContent=function(){var fn=tt.props,Dn=fn.isMobile,yn=fn.onCollapse,Gn=fn.navTheme,Zn=fn.layout,ti=fn.headerRender,Ni=fn.headerContentRender,Gi=Zn==="top",Ui=xa(tt.props.menuData||[]),mi=(0,a.jsx)(un,(0,u.Z)((0,u.Z)({onCollapse:yn},tt.props),{},{menuData:Ui,children:Ni&&Ni(tt.props,null)}));return Gi&&!Dn&&(mi=(0,a.jsx)(Yt,(0,u.Z)((0,u.Z)({theme:Gn,mode:"horizontal",onCollapse:yn},tt.props),{},{menuData:Ui}))),ti&&typeof ti=="function"?ti(tt.props,mi):mi},tt}return(0,Jr.Z)(Pe,[{key:"render",value:function(){var At,Bt=this.props,Kt=Bt.fixedHeader,fn=Bt.layout,Dn=Bt.className,yn=Bt.style,Gn=Bt.navTheme,Zn=Bt.collapsed,ti=Bt.siderWidth,Ni=Bt.hasSiderMenu,Gi=Bt.isMobile,Ui=Bt.prefixCls,mi=Bt.headerHeight,Ai=Kt||fn==="mix",yi=fn==="top",ao=Ai&&Ni&&!yi&&!Gi,Ns=Uo()(Dn,(At={},(0,z.Z)(At,"".concat(Ui,"-fixed-header"),Ai),(0,z.Z)(At,"".concat(Ui,"-fixed-header-action"),!Zn),(0,z.Z)(At,"".concat(Ui,"-top-menu"),yi),(0,z.Z)(At,"".concat(Ui,"-header-").concat(Gn),Gn&&fn!=="mix"),At)),Ts=fn!=="mix"&&ao?"calc(100% - ".concat(Zn?48:ti,"px)"):"100%",fs=Ai?0:void 0;return(0,a.jsxs)(a.Fragment,{children:[Ai&&(0,a.jsx)(zn,{style:{height:mi,lineHeight:"".concat(mi,"px"),background:"transparent"}}),(0,a.jsx)(zn,{style:(0,u.Z)({padding:0,height:mi,lineHeight:"".concat(mi,"px"),width:Ts,zIndex:fn==="mix"?100:19,right:fs},yn),className:Ns,children:this.renderContent()})]})}}]),Pe}(se.Component),Ri=Un,_i={"app.setting.pagestyle":"Page style setting","app.setting.pagestyle.dark":"Dark Menu style","app.setting.pagestyle.light":"Light Menu style","app.setting.pagestyle.realdark":"Dark style (Beta)","app.setting.content-width":"Content Width","app.setting.content-width.fixed":"Fixed","app.setting.content-width.fluid":"Fluid","app.setting.themecolor":"Theme Color","app.setting.themecolor.dust":"Dust Red","app.setting.themecolor.volcano":"Volcano","app.setting.themecolor.sunset":"Sunset Orange","app.setting.themecolor.cyan":"Cyan","app.setting.themecolor.green":"Polar Green","app.setting.themecolor.daybreak":"Daybreak Blue (default)","app.setting.themecolor.geekblue":"Geek Blue","app.setting.themecolor.purple":"Golden Purple","app.setting.navigationmode":"Navigation Mode","app.setting.regionalsettings":"Regional Settings","app.setting.regionalsettings.header":"Header","app.setting.regionalsettings.menu":"Menu","app.setting.regionalsettings.footer":"Footer","app.setting.regionalsettings.menuHeader":"Menu Header","app.setting.sidemenu":"Side Menu Layout","app.setting.topmenu":"Top Menu Layout","app.setting.mixmenu":"Mix Menu Layout","app.setting.splitMenus":"Split Menus","app.setting.fixedheader":"Fixed Header","app.setting.fixedsidebar":"Fixed Sidebar","app.setting.fixedsidebar.hint":"Works on Side Menu Layout","app.setting.hideheader":"Hidden Header when scrolling","app.setting.hideheader.hint":"Works when Hidden Header is enabled","app.setting.othersettings":"Other Settings","app.setting.weakmode":"Weak Mode","app.setting.copy":"Copy Setting","app.setting.loading":"Loading theme","app.setting.copyinfo":"copy success\uFF0Cplease replace defaultSettings in src/models/setting.js","app.setting.production.hint":"Setting panel shows in development environment only, please manually modify"},Vi=(0,u.Z)({},_i),Fi={"app.setting.pagestyle":"Impostazioni di stile","app.setting.pagestyle.dark":"Tema scuro","app.setting.pagestyle.light":"Tema chiaro","app.setting.content-width":"Largezza contenuto","app.setting.content-width.fixed":"Fissa","app.setting.content-width.fluid":"Fluida","app.setting.themecolor":"Colore del tema","app.setting.themecolor.dust":"Rosso polvere","app.setting.themecolor.volcano":"Vulcano","app.setting.themecolor.sunset":"Arancione tramonto","app.setting.themecolor.cyan":"Ciano","app.setting.themecolor.green":"Verde polare","app.setting.themecolor.daybreak":"Blu cielo mattutino (default)","app.setting.themecolor.geekblue":"Blu geek","app.setting.themecolor.purple":"Viola dorato","app.setting.navigationmode":"Modalit\xE0 di navigazione","app.setting.sidemenu":"Menu laterale","app.setting.topmenu":"Menu in testata","app.setting.mixmenu":"Menu misto","app.setting.splitMenus":"Menu divisi","app.setting.fixedheader":"Testata fissa","app.setting.fixedsidebar":"Menu laterale fisso","app.setting.fixedsidebar.hint":"Solo se selezionato Menu laterale","app.setting.hideheader":"Nascondi testata durante lo scorrimento","app.setting.hideheader.hint":"Solo se abilitato Nascondi testata durante lo scorrimento","app.setting.othersettings":"Altre impostazioni","app.setting.weakmode":"Inverti colori","app.setting.copy":"Copia impostazioni","app.setting.loading":"Carico tema...","app.setting.copyinfo":"Impostazioni copiate con successo! Incolla il contenuto in config/defaultSettings.js","app.setting.production.hint":"Questo pannello \xE8 visibile solo durante lo sviluppo. Le impostazioni devono poi essere modificate manulamente"},pi=(0,u.Z)({},Fi),ji={"app.setting.pagestyle":"\uC2A4\uD0C0\uC77C \uC124\uC815","app.setting.pagestyle.dark":"\uB2E4\uD06C \uBAA8\uB4DC","app.setting.pagestyle.light":"\uB77C\uC774\uD2B8 \uBAA8\uB4DC","app.setting.content-width":"\uCEE8\uD150\uCE20 \uB108\uBE44","app.setting.content-width.fixed":"\uACE0\uC815","app.setting.content-width.fluid":"\uD750\uB984","app.setting.themecolor":"\uD14C\uB9C8 \uC0C9\uC0C1","app.setting.themecolor.dust":"Dust Red","app.setting.themecolor.volcano":"Volcano","app.setting.themecolor.sunset":"Sunset Orange","app.setting.themecolor.cyan":"Cyan","app.setting.themecolor.green":"Polar Green","app.setting.themecolor.daybreak":"Daybreak Blue (default)","app.setting.themecolor.geekblue":"Geek Blue","app.setting.themecolor.purple":"Golden Purple","app.setting.navigationmode":"\uB124\uBE44\uAC8C\uC774\uC158 \uBAA8\uB4DC","app.setting.regionalsettings":"\uC601\uC5ED\uBCC4 \uC124\uC815","app.setting.regionalsettings.header":"\uD5E4\uB354","app.setting.regionalsettings.menu":"\uBA54\uB274","app.setting.regionalsettings.footer":"\uBC14\uB2E5\uAE00","app.setting.regionalsettings.menuHeader":"\uBA54\uB274 \uD5E4\uB354","app.setting.sidemenu":"\uBA54\uB274 \uC0AC\uC774\uB4DC \uBC30\uCE58","app.setting.topmenu":"\uBA54\uB274 \uC0C1\uB2E8 \uBC30\uCE58","app.setting.mixmenu":"\uD63C\uD569\uD615 \uBC30\uCE58","app.setting.splitMenus":"\uBA54\uB274 \uBD84\uB9AC","app.setting.fixedheader":"\uD5E4\uB354 \uACE0\uC815","app.setting.fixedsidebar":"\uC0AC\uC774\uB4DC\uBC14 \uACE0\uC815","app.setting.fixedsidebar.hint":"'\uBA54\uB274 \uC0AC\uC774\uB4DC \uBC30\uCE58'\uB97C \uC120\uD0DD\uD588\uC744 \uB54C \uB3D9\uC791\uD568","app.setting.hideheader":"\uC2A4\uD06C\uB864 \uC911 \uD5E4\uB354 \uAC10\uCD94\uAE30","app.setting.hideheader.hint":"'\uD5E4\uB354 \uAC10\uCD94\uAE30 \uC635\uC158'\uC744 \uC120\uD0DD\uD588\uC744 \uB54C \uB3D9\uC791\uD568","app.setting.othersettings":"\uB2E4\uB978 \uC124\uC815","app.setting.weakmode":"\uACE0\uB300\uBE44 \uBAA8\uB4DC","app.setting.copy":"\uC124\uC815\uAC12 \uBCF5\uC0AC","app.setting.loading":"\uD14C\uB9C8 \uB85C\uB529 \uC911","app.setting.copyinfo":"\uBCF5\uC0AC \uC131\uACF5. src/models/settings.js\uC5D0 \uC788\uB294 defaultSettings\uB97C \uAD50\uCCB4\uD574 \uC8FC\uC138\uC694.","app.setting.production.hint":"\uC124\uC815 \uD310\uB12C\uC740 \uAC1C\uBC1C \uD658\uACBD\uC5D0\uC11C\uB9CC \uBCF4\uC5EC\uC9D1\uB2C8\uB2E4. \uC9C1\uC811 \uC218\uB3D9\uC73C\uB85C \uBCC0\uACBD\uBC14\uB78D\uB2C8\uB2E4."},is=(0,u.Z)({},ji),zi={"app.setting.pagestyle":"\u6574\u4F53\u98CE\u683C\u8BBE\u7F6E","app.setting.pagestyle.dark":"\u6697\u8272\u83DC\u5355\u98CE\u683C","app.setting.pagestyle.light":"\u4EAE\u8272\u83DC\u5355\u98CE\u683C","app.setting.pagestyle.realdark":"\u6697\u8272\u98CE\u683C(\u5B9E\u9A8C\u529F\u80FD)","app.setting.content-width":"\u5185\u5BB9\u533A\u57DF\u5BBD\u5EA6","app.setting.content-width.fixed":"\u5B9A\u5BBD","app.setting.content-width.fluid":"\u6D41\u5F0F","app.setting.themecolor":"\u4E3B\u9898\u8272","app.setting.themecolor.dust":"\u8584\u66AE","app.setting.themecolor.volcano":"\u706B\u5C71","app.setting.themecolor.sunset":"\u65E5\u66AE","app.setting.themecolor.cyan":"\u660E\u9752","app.setting.themecolor.green":"\u6781\u5149\u7EFF","app.setting.themecolor.daybreak":"\u62C2\u6653\u84DD\uFF08\u9ED8\u8BA4\uFF09","app.setting.themecolor.geekblue":"\u6781\u5BA2\u84DD","app.setting.themecolor.purple":"\u9171\u7D2B","app.setting.navigationmode":"\u5BFC\u822A\u6A21\u5F0F","app.setting.regionalsettings":"\u5185\u5BB9\u533A\u57DF","app.setting.regionalsettings.header":"\u9876\u680F","app.setting.regionalsettings.menu":"\u83DC\u5355","app.setting.regionalsettings.footer":"\u9875\u811A","app.setting.regionalsettings.menuHeader":"\u83DC\u5355\u5934","app.setting.sidemenu":"\u4FA7\u8FB9\u83DC\u5355\u5E03\u5C40","app.setting.topmenu":"\u9876\u90E8\u83DC\u5355\u5E03\u5C40","app.setting.mixmenu":"\u6DF7\u5408\u83DC\u5355\u5E03\u5C40","app.setting.splitMenus":"\u81EA\u52A8\u5206\u5272\u83DC\u5355","app.setting.fixedheader":"\u56FA\u5B9A Header","app.setting.fixedsidebar":"\u56FA\u5B9A\u4FA7\u8FB9\u83DC\u5355","app.setting.fixedsidebar.hint":"\u4FA7\u8FB9\u83DC\u5355\u5E03\u5C40\u65F6\u53EF\u914D\u7F6E","app.setting.hideheader":"\u4E0B\u6ED1\u65F6\u9690\u85CF Header","app.setting.hideheader.hint":"\u56FA\u5B9A Header \u65F6\u53EF\u914D\u7F6E","app.setting.othersettings":"\u5176\u4ED6\u8BBE\u7F6E","app.setting.weakmode":"\u8272\u5F31\u6A21\u5F0F","app.setting.copy":"\u62F7\u8D1D\u8BBE\u7F6E","app.setting.loading":"\u6B63\u5728\u52A0\u8F7D\u4E3B\u9898","app.setting.copyinfo":"\u62F7\u8D1D\u6210\u529F\uFF0C\u8BF7\u5230 src/defaultSettings.js \u4E2D\u66FF\u6362\u9ED8\u8BA4\u914D\u7F6E","app.setting.production.hint":"\u914D\u7F6E\u680F\u53EA\u5728\u5F00\u53D1\u73AF\u5883\u7528\u4E8E\u9884\u89C8\uFF0C\u751F\u4EA7\u73AF\u5883\u4E0D\u4F1A\u5C55\u73B0\uFF0C\u8BF7\u62F7\u8D1D\u540E\u624B\u52A8\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6"},ro=(0,u.Z)({},zi),Js={"app.setting.pagestyle":"\u6574\u9AD4\u98A8\u683C\u8A2D\u7F6E","app.setting.pagestyle.dark":"\u6697\u8272\u83DC\u55AE\u98A8\u683C","app.setting.pagestyle.realdark":"\u6697\u8272\u98A8\u683C(\u5B9E\u9A8C\u529F\u80FD)","app.setting.pagestyle.light":"\u4EAE\u8272\u83DC\u55AE\u98A8\u683C","app.setting.content-width":"\u5167\u5BB9\u5340\u57DF\u5BEC\u5EA6","app.setting.content-width.fixed":"\u5B9A\u5BEC","app.setting.content-width.fluid":"\u6D41\u5F0F","app.setting.themecolor":"\u4E3B\u984C\u8272","app.setting.themecolor.dust":"\u8584\u66AE","app.setting.themecolor.volcano":"\u706B\u5C71","app.setting.themecolor.sunset":"\u65E5\u66AE","app.setting.themecolor.cyan":"\u660E\u9752","app.setting.themecolor.green":"\u6975\u5149\u7DA0","app.setting.themecolor.daybreak":"\u62C2\u66C9\u85CD\uFF08\u9ED8\u8A8D\uFF09","app.setting.themecolor.geekblue":"\u6975\u5BA2\u85CD","app.setting.themecolor.purple":"\u91AC\u7D2B","app.setting.navigationmode":"\u5C0E\u822A\u6A21\u5F0F","app.setting.sidemenu":"\u5074\u908A\u83DC\u55AE\u5E03\u5C40","app.setting.topmenu":"\u9802\u90E8\u83DC\u55AE\u5E03\u5C40","app.setting.mixmenu":"\u6DF7\u5408\u83DC\u55AE\u5E03\u5C40","app.setting.splitMenus":"\u81EA\u52A8\u5206\u5272\u83DC\u5355","app.setting.fixedheader":"\u56FA\u5B9A Header","app.setting.fixedsidebar":"\u56FA\u5B9A\u5074\u908A\u83DC\u55AE","app.setting.fixedsidebar.hint":"\u5074\u908A\u83DC\u55AE\u5E03\u5C40\u6642\u53EF\u914D\u7F6E","app.setting.hideheader":"\u4E0B\u6ED1\u6642\u96B1\u85CF Header","app.setting.hideheader.hint":"\u56FA\u5B9A Header \u6642\u53EF\u914D\u7F6E","app.setting.othersettings":"\u5176\u4ED6\u8A2D\u7F6E","app.setting.weakmode":"\u8272\u5F31\u6A21\u5F0F","app.setting.copy":"\u62F7\u8C9D\u8A2D\u7F6E","app.setting.loading":"\u6B63\u5728\u52A0\u8F09\u4E3B\u984C","app.setting.copyinfo":"\u62F7\u8C9D\u6210\u529F\uFF0C\u8ACB\u5230 src/defaultSettings.js \u4E2D\u66FF\u63DB\u9ED8\u8A8D\u914D\u7F6E","app.setting.production.hint":"\u914D\u7F6E\u6B04\u53EA\u5728\u958B\u767C\u74B0\u5883\u7528\u65BC\u9810\u89BD\uFF0C\u751F\u7522\u74B0\u5883\u4E0D\u6703\u5C55\u73FE\uFF0C\u8ACB\u62F7\u8C9D\u5F8C\u624B\u52D5\u4FEE\u6539\u914D\u7F6E\u6587\u4EF6"},To=(0,u.Z)({},Js),Pi={"zh-CN":ro,"zh-TW":To,"en-US":Vi,"it-IT":pi,"ko-KR":is},vo=function(){if(!ki())return"zh-CN";var De=window.localStorage.getItem("umi_locale");return De||window.g_locale||navigator.language},No=function(){var De=vo();return Pi[De]||Pi["zh-CN"]},go=l(7361),nr=function(De){var Pe=["sidemenu","topmenu"];return Pe.includes(De)?De==null?void 0:De.replace("menu",""):De},Bd=nr;function Iu(Ue){if(!Ue||Ue==="/")return["/"];var De=Ue.split("/").filter(function(Pe){return Pe});return De.map(function(Pe,tt){return"/".concat(De.slice(0,tt+1).join("/"))})}var wr=function(De){var Pe=De.breadcrumbName,tt=De.path;return(0,a.jsx)("a",{href:tt,children:Pe})},Wd=function(De,Pe){var tt=Pe.formatMessage,At=Pe.menu;return De.locale&&tt&&(At==null?void 0:At.locale)!==!1?tt({id:De.locale,defaultMessage:De.name}):De.name},oc=function(De,Pe){var tt=De.get(Pe);if(!tt){var At=Array.from(De.keys())||[],Bt=At.find(function(Kt){return pt()(Kt.replace("?","")).test(Pe)});Bt&&(tt=De.get(Bt))}return tt||{path:""}},sl=function(De){var Pe=De.location,tt=De.breadcrumbMap;return{location:Pe,breadcrumbMap:tt}},cd=function(De,Pe,tt){var At=Iu(De==null?void 0:De.pathname),Bt=At.map(function(Kt){var fn=oc(Pe,Kt),Dn=Wd(fn,tt),yn=fn.hideInBreadcrumb;return Dn&&!yn?{path:Kt,breadcrumbName:Dn,component:fn.component}:{path:"",breadcrumbName:""}}).filter(function(Kt){return Kt&&Kt.path});return Bt},zl=function(De){var Pe=sl(De),tt=Pe.location,At=Pe.breadcrumbMap;return tt&&tt.pathname&&At?cd(tt,At,De):[]},Vd=function(De,Pe){var tt=De.breadcrumbRender,At=De.itemRender,Bt=Pe.breadcrumbProps||{},Kt=Bt.minLength,fn=Kt===void 0?2:Kt,Dn=zl(De),yn=At||wr,Gn=Dn;return tt&&(Gn=tt(Gn)||[]),(Gn&&Gn.length<fn||tt===!1)&&(Gn=void 0),{routes:Gn,itemRender:yn}};function Nu(Ue){return(0,Hr.Z)(Ue).reduce(function(De,Pe){var tt=(0,y.Z)(Pe,2),At=tt[0],Bt=tt[1];return De[At]=Bt,De},{})}var Hd=function Ue(De,Pe,tt,At){var Bt=ds(De,(Pe==null?void 0:Pe.locale)||!1,tt,!0),Kt=Bt.menuData,fn=Bt.breadcrumb;return At?Ue(At(Kt),Pe,tt,void 0):{breadcrumb:Nu(fn),breadcrumbMap:fn,menuData:Kt}},ol=Hd,zd=l(54465),rc=function(De){var Pe={};if(Object.keys(De||{}).forEach(function(tt){De[tt]!==void 0&&(Pe[tt]=De[tt])}),!(Object.keys(Pe).length<1))return Pe},Th=rc,Pc=function(De){var Pe=(0,se.useState)({}),tt=(0,y.Z)(Pe,2),At=tt[0],Bt=tt[1];return(0,se.useEffect)(function(){Bt(Th({layout:(0,zd.Z)(De.layout)!=="object"?De.layout:void 0,navTheme:De.navTheme,menuRender:De.menuRender,footerRender:De.footerRender,menuHeaderRender:De.menuHeaderRender,headerRender:De.headerRender,fixSiderbar:De.fixSiderbar,headerTheme:De.headerTheme}))},[De.layout,De.navTheme,De.menuRender,De.footerRender,De.menuHeaderRender,De.headerRender,De.fixSiderbar,De.headerTheme]),At},Oc=Pc,Tu=l(85926),ma=l(58849),dd=l(176),rl={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M955.7 856l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zM480 416c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v184c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V416zm32 352a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"warning",theme:"filled"},na=rl,Ta=function(De,Pe){return se.createElement(sc.Z,(0,u.Z)((0,u.Z)({},De),{},{ref:Pe,icon:na}))};Ta.displayName="WarningFilled";var ku=se.forwardRef(Ta),Sr=l(47295),Ud=function(){return se.createElement("svg",{width:"252",height:"294"},se.createElement("defs",null,se.createElement("path",{d:"M0 .387h251.772v251.772H0z"})),se.createElement("g",{fill:"none",fillRule:"evenodd"},se.createElement("g",{transform:"translate(0 .012)"},se.createElement("mask",{fill:"#fff"}),se.createElement("path",{d:"M0 127.32v-2.095C0 56.279 55.892.387 124.838.387h2.096c68.946 0 124.838 55.892 124.838 124.838v2.096c0 68.946-55.892 124.838-124.838 124.838h-2.096C55.892 252.16 0 196.267 0 127.321",fill:"#E4EBF7",mask:"url(#b)"})),se.createElement("path",{d:"M39.755 130.84a8.276 8.276 0 1 1-16.468-1.66 8.276 8.276 0 0 1 16.468 1.66",fill:"#FFF"}),se.createElement("path",{d:"M36.975 134.297l10.482 5.943M48.373 146.508l-12.648 10.788",stroke:"#FFF",strokeWidth:"2"}),se.createElement("path",{d:"M39.875 159.352a5.667 5.667 0 1 1-11.277-1.136 5.667 5.667 0 0 1 11.277 1.136M57.588 143.247a5.708 5.708 0 1 1-11.358-1.145 5.708 5.708 0 0 1 11.358 1.145M99.018 26.875l29.82-.014a4.587 4.587 0 1 0-.003-9.175l-29.82.013a4.587 4.587 0 1 0 .003 9.176M110.424 45.211l29.82-.013a4.588 4.588 0 0 0-.004-9.175l-29.82.013a4.587 4.587 0 1 0 .004 9.175",fill:"#FFF"}),se.createElement("path",{d:"M112.798 26.861v-.002l15.784-.006a4.588 4.588 0 1 0 .003 9.175l-15.783.007v-.002a4.586 4.586 0 0 0-.004-9.172M184.523 135.668c-.553 5.485-5.447 9.483-10.931 8.93-5.485-.553-9.483-5.448-8.93-10.932.552-5.485 5.447-9.483 10.932-8.93 5.485.553 9.483 5.447 8.93 10.932",fill:"#FFF"}),se.createElement("path",{d:"M179.26 141.75l12.64 7.167M193.006 156.477l-15.255 13.011",stroke:"#FFF",strokeWidth:"2"}),se.createElement("path",{d:"M184.668 170.057a6.835 6.835 0 1 1-13.6-1.372 6.835 6.835 0 0 1 13.6 1.372M203.34 153.325a6.885 6.885 0 1 1-13.7-1.382 6.885 6.885 0 0 1 13.7 1.382",fill:"#FFF"}),se.createElement("path",{d:"M151.931 192.324a2.222 2.222 0 1 1-4.444 0 2.222 2.222 0 0 1 4.444 0zM225.27 116.056a2.222 2.222 0 1 1-4.445 0 2.222 2.222 0 0 1 4.444 0zM216.38 151.08a2.223 2.223 0 1 1-4.446-.001 2.223 2.223 0 0 1 4.446 0zM176.917 107.636a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM195.291 92.165a2.223 2.223 0 1 1-4.445 0 2.223 2.223 0 0 1 4.445 0zM202.058 180.711a2.223 2.223 0 1 1-4.446 0 2.223 2.223 0 0 1 4.446 0z",stroke:"#FFF",strokeWidth:"2"}),se.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M214.404 153.302l-1.912 20.184-10.928 5.99M173.661 174.792l-6.356 9.814h-11.36l-4.508 6.484M174.941 125.168v-15.804M220.824 117.25l-12.84 7.901-15.31-7.902V94.39"}),se.createElement("path",{d:"M166.588 65.936h-3.951a4.756 4.756 0 0 1-4.743-4.742 4.756 4.756 0 0 1 4.743-4.743h3.951a4.756 4.756 0 0 1 4.743 4.743 4.756 4.756 0 0 1-4.743 4.742",fill:"#FFF"}),se.createElement("path",{d:"M174.823 30.03c0-16.281 13.198-29.48 29.48-29.48 16.28 0 29.48 13.199 29.48 29.48 0 16.28-13.2 29.48-29.48 29.48-16.282 0-29.48-13.2-29.48-29.48",fill:"#1890FF"}),se.createElement("path",{d:"M205.952 38.387c.5.5.785 1.142.785 1.928s-.286 1.465-.785 1.964c-.572.5-1.214.75-2 .75-.785 0-1.429-.285-1.929-.785-.572-.5-.82-1.143-.82-1.929s.248-1.428.82-1.928c.5-.5 1.144-.75 1.93-.75.785 0 1.462.25 1.999.75m4.285-19.463c1.428 1.249 2.143 2.963 2.143 5.142 0 1.712-.427 3.13-1.219 4.25-.067.096-.137.18-.218.265-.416.429-1.41 1.346-2.956 2.699a5.07 5.07 0 0 0-1.428 1.75 5.207 5.207 0 0 0-.536 2.357v.5h-4.107v-.5c0-1.357.215-2.536.714-3.5.464-.964 1.857-2.464 4.178-4.536l.43-.5c.643-.785.964-1.643.964-2.535 0-1.18-.358-2.108-1-2.785-.678-.68-1.643-1.001-2.858-1.001-1.536 0-2.642.464-3.357 1.43-.37.5-.621 1.135-.76 1.904a1.999 1.999 0 0 1-1.971 1.63h-.004c-1.277 0-2.257-1.183-1.98-2.43.337-1.518 1.02-2.78 2.073-3.784 1.536-1.5 3.607-2.25 6.25-2.25 2.32 0 4.214.607 5.642 1.894",fill:"#FFF"}),se.createElement("path",{d:"M52.04 76.131s21.81 5.36 27.307 15.945c5.575 10.74-6.352 9.26-15.73 4.935-10.86-5.008-24.7-11.822-11.577-20.88",fill:"#FFB594"}),se.createElement("path",{d:"M90.483 67.504l-.449 2.893c-.753.49-4.748-2.663-4.748-2.663l-1.645.748-1.346-5.684s6.815-4.589 8.917-5.018c2.452-.501 9.884.94 10.7 2.278 0 0 1.32.486-2.227.69-3.548.203-5.043.447-6.79 3.132-1.747 2.686-2.412 3.624-2.412 3.624",fill:"#FFC6A0"}),se.createElement("path",{d:"M128.055 111.367c-2.627-7.724-6.15-13.18-8.917-15.478-3.5-2.906-9.34-2.225-11.366-4.187-1.27-1.231-3.215-1.197-3.215-1.197s-14.98-3.158-16.828-3.479c-2.37-.41-2.124-.714-6.054-1.405-1.57-1.907-2.917-1.122-2.917-1.122l-7.11-1.383c-.853-1.472-2.423-1.023-2.423-1.023l-2.468-.897c-1.645 9.976-7.74 13.796-7.74 13.796 1.795 1.122 15.703 8.3 15.703 8.3l5.107 37.11s-3.321 5.694 1.346 9.109c0 0 19.883-3.743 34.921-.329 0 0 3.047-2.546.972-8.806.523-3.01 1.394-8.263 1.736-11.622.385.772 2.019 1.918 3.14 3.477 0 0 9.407-7.365 11.052-14.012-.832-.723-1.598-1.585-2.267-2.453-.567-.736-.358-2.056-.765-2.717-.669-1.084-1.804-1.378-1.907-1.682",fill:"#FFF"}),se.createElement("path",{d:"M101.09 289.998s4.295 2.041 7.354 1.021c2.821-.94 4.53.668 7.08 1.178 2.55.51 6.874 1.1 11.686-1.26-.103-5.51-6.889-3.98-11.96-6.713-2.563-1.38-3.784-4.722-3.598-8.799h-9.402s-1.392 10.52-1.16 14.573",fill:"#CBD1D1"}),se.createElement("path",{d:"M101.067 289.826s2.428 1.271 6.759.653c3.058-.437 3.712.481 7.423 1.031 3.712.55 10.724-.069 11.823-.894.413 1.1-.343 2.063-.343 2.063s-1.512.603-4.812.824c-2.03.136-5.8.291-7.607-.503-1.787-1.375-5.247-1.903-5.728-.241-3.918.95-7.355-.286-7.355-.286l-.16-2.647z",fill:"#2B0849"}),se.createElement("path",{d:"M108.341 276.044h3.094s-.103 6.702 4.536 8.558c-4.64.618-8.558-2.303-7.63-8.558",fill:"#A4AABA"}),se.createElement("path",{d:"M57.542 272.401s-2.107 7.416-4.485 12.306c-1.798 3.695-4.225 7.492 5.465 7.492 6.648 0 8.953-.48 7.423-6.599-1.53-6.12.266-13.199.266-13.199h-8.669z",fill:"#CBD1D1"}),se.createElement("path",{d:"M51.476 289.793s2.097 1.169 6.633 1.169c6.083 0 8.249-1.65 8.249-1.65s.602 1.114-.619 2.165c-.993.855-3.597 1.591-7.39 1.546-4.145-.048-5.832-.566-6.736-1.168-.825-.55-.687-1.58-.137-2.062",fill:"#2B0849"}),se.createElement("path",{d:"M58.419 274.304s.033 1.519-.314 2.93c-.349 1.42-1.078 3.104-1.13 4.139-.058 1.151 4.537 1.58 5.155.034.62-1.547 1.294-6.427 1.913-7.252.619-.825-4.903-2.119-5.624.15",fill:"#A4AABA"}),se.createElement("path",{d:"M99.66 278.514l13.378.092s1.298-54.52 1.853-64.403c.554-9.882 3.776-43.364 1.002-63.128l-12.547-.644-22.849.78s-.434 3.966-1.195 9.976c-.063.496-.682.843-.749 1.365-.075.585.423 1.354.32 1.966-2.364 14.08-6.377 33.104-8.744 46.677-.116.666-1.234 1.009-1.458 2.691-.04.302.211 1.525.112 1.795-6.873 18.744-10.949 47.842-14.277 61.885l14.607-.014s2.197-8.57 4.03-16.97c2.811-12.886 23.111-85.01 23.111-85.01l3.016-.521 1.043 46.35s-.224 1.234.337 2.02c.56.785-.56 1.123-.392 2.244l.392 1.794s-.449 7.178-.898 11.89c-.448 4.71-.092 39.165-.092 39.165",fill:"#7BB2F9"}),se.createElement("path",{d:"M76.085 221.626c1.153.094 4.038-2.019 6.955-4.935M106.36 225.142s2.774-1.11 6.103-3.883",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M107.275 222.1s2.773-1.11 6.102-3.884",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M74.74 224.767s2.622-.591 6.505-3.365M86.03 151.634c-.27 3.106.3 8.525-4.336 9.123M103.625 149.88s.11 14.012-1.293 15.065c-2.219 1.664-2.99 1.944-2.99 1.944M99.79 150.438s.035 12.88-1.196 24.377M93.673 175.911s7.212-1.664 9.431-1.664M74.31 205.861a212.013 212.013 0 0 1-.979 4.56s-1.458 1.832-1.009 3.776c.449 1.944-.947 2.045-4.985 15.355-1.696 5.59-4.49 18.591-6.348 27.597l-.231 1.12M75.689 197.807a320.934 320.934 0 0 1-.882 4.754M82.591 152.233L81.395 162.7s-1.097.15-.5 2.244c.113 1.346-2.674 15.775-5.18 30.43M56.12 274.418h13.31",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M116.241 148.22s-17.047-3.104-35.893.2c.158 2.514-.003 4.15-.003 4.15s14.687-2.818 35.67-.312c.252-2.355.226-4.038.226-4.038",fill:"#192064"}),se.createElement("path",{d:"M106.322 151.165l.003-4.911a.81.81 0 0 0-.778-.815c-2.44-.091-5.066-.108-7.836-.014a.818.818 0 0 0-.789.815l-.003 4.906a.81.81 0 0 0 .831.813c2.385-.06 4.973-.064 7.73.017a.815.815 0 0 0 .842-.81",fill:"#FFF"}),se.createElement("path",{d:"M105.207 150.233l.002-3.076a.642.642 0 0 0-.619-.646 94.321 94.321 0 0 0-5.866-.01.65.65 0 0 0-.63.647v3.072a.64.64 0 0 0 .654.644 121.12 121.12 0 0 1 5.794.011c.362.01.665-.28.665-.642",fill:"#192064"}),se.createElement("path",{d:"M100.263 275.415h12.338M101.436 270.53c.006 3.387.042 5.79.111 6.506M101.451 264.548a915.75 915.75 0 0 0-.015 4.337M100.986 174.965l.898 44.642s.673 1.57-.225 2.692c-.897 1.122 2.468.673.898 2.243-1.57 1.57.897 1.122 0 3.365-.596 1.489-.994 21.1-1.096 35.146",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M46.876 83.427s-.516 6.045 7.223 5.552c11.2-.712 9.218-9.345 31.54-21.655-.786-2.708-2.447-4.744-2.447-4.744s-11.068 3.11-22.584 8.046c-6.766 2.9-13.395 6.352-13.732 12.801M104.46 91.057l.941-5.372-8.884-11.43-5.037 5.372-1.74 7.834a.321.321 0 0 0 .108.32c.965.8 6.5 5.013 14.347 3.544a.332.332 0 0 0 .264-.268",fill:"#FFC6A0"}),se.createElement("path",{d:"M93.942 79.387s-4.533-2.853-2.432-6.855c1.623-3.09 4.513 1.133 4.513 1.133s.52-3.642 3.121-3.642c.52-1.04 1.561-4.162 1.561-4.162s11.445 2.601 13.526 3.121c0 5.203-2.304 19.424-7.84 19.861-8.892.703-12.449-9.456-12.449-9.456",fill:"#FFC6A0"}),se.createElement("path",{d:"M113.874 73.446c2.601-2.081 3.47-9.722 3.47-9.722s-2.479-.49-6.64-2.05c-4.683-2.081-12.798-4.747-17.48.976-9.668 3.223-2.05 19.823-2.05 19.823l2.713-3.021s-3.935-3.287-2.08-6.243c2.17-3.462 3.92 1.073 3.92 1.073s.637-2.387 3.581-3.342c.355-.71 1.036-2.674 1.432-3.85a1.073 1.073 0 0 1 1.263-.704c2.4.558 8.677 2.019 11.356 2.662.522.125.871.615.82 1.15l-.305 3.248z",fill:"#520038"}),se.createElement("path",{d:"M104.977 76.064c-.103.61-.582 1.038-1.07.956-.489-.083-.801-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.644.698 1.254M112.132 77.694c-.103.61-.582 1.038-1.07.956-.488-.083-.8-.644-.698-1.254.103-.61.582-1.038 1.07-.956.488.082.8.643.698 1.254",fill:"#552950"}),se.createElement("path",{stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round",d:"M110.13 74.84l-.896 1.61-.298 4.357h-2.228"}),se.createElement("path",{d:"M110.846 74.481s1.79-.716 2.506.537",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M92.386 74.282s.477-1.114 1.113-.716c.637.398 1.274 1.433.558 1.99-.717.556.159 1.67.159 1.67",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M103.287 72.93s1.83 1.113 4.137.954",stroke:"#5C2552",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M103.685 81.762s2.227 1.193 4.376 1.193M104.64 84.308s.954.398 1.511.318M94.693 81.205s2.308 7.4 10.424 7.639",stroke:"#DB836E",strokeWidth:"1.118",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M81.45 89.384s.45 5.647-4.935 12.787M69 82.654s-.726 9.282-8.204 14.206",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M129.405 122.865s-5.272 7.403-9.422 10.768",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M119.306 107.329s.452 4.366-2.127 32.062",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M150.028 151.232h-49.837a1.01 1.01 0 0 1-1.01-1.01v-31.688c0-.557.452-1.01 1.01-1.01h49.837c.558 0 1.01.453 1.01 1.01v31.688a1.01 1.01 0 0 1-1.01 1.01",fill:"#F2D7AD"}),se.createElement("path",{d:"M150.29 151.232h-19.863v-33.707h20.784v32.786a.92.92 0 0 1-.92.92",fill:"#F4D19D"}),se.createElement("path",{d:"M123.554 127.896H92.917a.518.518 0 0 1-.425-.816l6.38-9.113c.193-.277.51-.442.85-.442h31.092l-7.26 10.371z",fill:"#F2D7AD"}),se.createElement("path",{fill:"#CC9B6E",d:"M123.689 128.447H99.25v-.519h24.169l7.183-10.26.424.298z"}),se.createElement("path",{d:"M158.298 127.896h-18.669a2.073 2.073 0 0 1-1.659-.83l-7.156-9.541h19.965c.49 0 .95.23 1.244.622l6.69 8.92a.519.519 0 0 1-.415.83",fill:"#F4D19D"}),se.createElement("path",{fill:"#CC9B6E",d:"M157.847 128.479h-19.384l-7.857-10.475.415-.31 7.7 10.266h19.126zM130.554 150.685l-.032-8.177.519-.002.032 8.177z"}),se.createElement("path",{fill:"#CC9B6E",d:"M130.511 139.783l-.08-21.414.519-.002.08 21.414zM111.876 140.932l-.498-.143 1.479-5.167.498.143zM108.437 141.06l-2.679-2.935 2.665-3.434.41.318-2.397 3.089 2.384 2.612zM116.607 141.06l-.383-.35 2.383-2.612-2.397-3.089.41-.318 2.665 3.434z"}),se.createElement("path",{d:"M154.316 131.892l-3.114-1.96.038 3.514-1.043.092c-1.682.115-3.634.23-4.789.23-1.902 0-2.693 2.258 2.23 2.648l-2.645-.596s-2.168 1.317.504 2.3c0 0-1.58 1.217.561 2.58-.584 3.504 5.247 4.058 7.122 3.59 1.876-.47 4.233-2.359 4.487-5.16.28-3.085-.89-5.432-3.35-7.238",fill:"#FFC6A0"}),se.createElement("path",{d:"M153.686 133.577s-6.522.47-8.36.372c-1.836-.098-1.904 2.19 2.359 2.264 3.739.15 5.451-.044 5.451-.044",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M145.16 135.877c-1.85 1.346.561 2.355.561 2.355s3.478.898 6.73.617",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M151.89 141.71s-6.28.111-6.73-2.132c-.223-1.346.45-1.402.45-1.402M146.114 140.868s-1.103 3.16 5.44 3.533M151.202 129.932v3.477M52.838 89.286c3.533-.337 8.423-1.248 13.582-7.754",stroke:"#DB836E",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M168.567 248.318a6.647 6.647 0 0 1-6.647-6.647v-66.466a6.647 6.647 0 1 1 13.294 0v66.466a6.647 6.647 0 0 1-6.647 6.647",fill:"#5BA02E"}),se.createElement("path",{d:"M176.543 247.653a6.647 6.647 0 0 1-6.646-6.647v-33.232a6.647 6.647 0 1 1 13.293 0v33.232a6.647 6.647 0 0 1-6.647 6.647",fill:"#92C110"}),se.createElement("path",{d:"M186.443 293.613H158.92a3.187 3.187 0 0 1-3.187-3.187v-46.134a3.187 3.187 0 0 1 3.187-3.187h27.524a3.187 3.187 0 0 1 3.187 3.187v46.134a3.187 3.187 0 0 1-3.187 3.187",fill:"#F2D7AD"}),se.createElement("path",{d:"M88.979 89.48s7.776 5.384 16.6 2.842",stroke:"#E4EBF7",strokeWidth:"1.101",strokeLinecap:"round",strokeLinejoin:"round"})))},ac=Ud,Fc=function(){return se.createElement("svg",{width:"254",height:"294"},se.createElement("defs",null,se.createElement("path",{d:"M0 .335h253.49v253.49H0z"}),se.createElement("path",{d:"M0 293.665h253.49V.401H0z"})),se.createElement("g",{fill:"none",fillRule:"evenodd"},se.createElement("g",{transform:"translate(0 .067)"},se.createElement("mask",{fill:"#fff"}),se.createElement("path",{d:"M0 128.134v-2.11C0 56.608 56.273.334 125.69.334h2.11c69.416 0 125.69 56.274 125.69 125.69v2.11c0 69.417-56.274 125.69-125.69 125.69h-2.11C56.273 253.824 0 197.551 0 128.134",fill:"#E4EBF7",mask:"url(#b)"})),se.createElement("path",{d:"M39.989 132.108a8.332 8.332 0 1 1-16.581-1.671 8.332 8.332 0 0 1 16.58 1.671",fill:"#FFF"}),se.createElement("path",{d:"M37.19 135.59l10.553 5.983M48.665 147.884l-12.734 10.861",stroke:"#FFF",strokeWidth:"2"}),se.createElement("path",{d:"M40.11 160.816a5.706 5.706 0 1 1-11.354-1.145 5.706 5.706 0 0 1 11.354 1.145M57.943 144.6a5.747 5.747 0 1 1-11.436-1.152 5.747 5.747 0 0 1 11.436 1.153M99.656 27.434l30.024-.013a4.619 4.619 0 1 0-.004-9.238l-30.024.013a4.62 4.62 0 0 0 .004 9.238M111.14 45.896l30.023-.013a4.62 4.62 0 1 0-.004-9.238l-30.024.013a4.619 4.619 0 1 0 .004 9.238",fill:"#FFF"}),se.createElement("path",{d:"M113.53 27.421v-.002l15.89-.007a4.619 4.619 0 1 0 .005 9.238l-15.892.007v-.002a4.618 4.618 0 0 0-.004-9.234M150.167 70.091h-3.979a4.789 4.789 0 0 1-4.774-4.775 4.788 4.788 0 0 1 4.774-4.774h3.979a4.789 4.789 0 0 1 4.775 4.774 4.789 4.789 0 0 1-4.775 4.775",fill:"#FFF"}),se.createElement("path",{d:"M171.687 30.234c0-16.392 13.289-29.68 29.681-29.68 16.392 0 29.68 13.288 29.68 29.68 0 16.393-13.288 29.681-29.68 29.681s-29.68-13.288-29.68-29.68",fill:"#FF603B"}),se.createElement("path",{d:"M203.557 19.435l-.676 15.035a1.514 1.514 0 0 1-3.026 0l-.675-15.035a2.19 2.19 0 1 1 4.377 0m-.264 19.378c.513.477.77 1.1.77 1.87s-.257 1.393-.77 1.907c-.55.476-1.21.733-1.943.733a2.545 2.545 0 0 1-1.87-.77c-.55-.514-.806-1.136-.806-1.87 0-.77.256-1.393.806-1.87.513-.513 1.137-.733 1.87-.733.77 0 1.43.22 1.943.733",fill:"#FFF"}),se.createElement("path",{d:"M119.3 133.275c4.426-.598 3.612-1.204 4.079-4.778.675-5.18-3.108-16.935-8.262-25.118-1.088-10.72-12.598-11.24-12.598-11.24s4.312 4.895 4.196 16.199c1.398 5.243.804 14.45.804 14.45s5.255 11.369 11.78 10.487",fill:"#FFB594"}),se.createElement("path",{d:"M100.944 91.61s1.463-.583 3.211.582c8.08 1.398 10.368 6.706 11.3 11.368 1.864 1.282 1.864 2.33 1.864 3.496.365.777 1.515 3.03 1.515 3.03s-7.225 1.748-10.954 6.758c-1.399-6.41-6.936-25.235-6.936-25.235",fill:"#FFF"}),se.createElement("path",{d:"M94.008 90.5l1.019-5.815-9.23-11.874-5.233 5.581-2.593 9.863s8.39 5.128 16.037 2.246",fill:"#FFB594"}),se.createElement("path",{d:"M82.931 78.216s-4.557-2.868-2.445-6.892c1.632-3.107 4.537 1.139 4.537 1.139s.524-3.662 3.139-3.662c.523-1.046 1.569-4.184 1.569-4.184s11.507 2.615 13.6 3.138c-.001 5.23-2.317 19.529-7.884 19.969-8.94.706-12.516-9.508-12.516-9.508",fill:"#FFC6A0"}),se.createElement("path",{d:"M102.971 72.243c2.616-2.093 3.489-9.775 3.489-9.775s-2.492-.492-6.676-2.062c-4.708-2.092-12.867-4.771-17.575.982-9.54 4.41-2.062 19.93-2.062 19.93l2.729-3.037s-3.956-3.304-2.092-6.277c2.183-3.48 3.943 1.08 3.943 1.08s.64-2.4 3.6-3.36c.356-.714 1.04-2.69 1.44-3.872a1.08 1.08 0 0 1 1.27-.707c2.41.56 8.723 2.03 11.417 2.676.524.126.876.619.825 1.156l-.308 3.266z",fill:"#520038"}),se.createElement("path",{d:"M101.22 76.514c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.961.491.083.805.647.702 1.26M94.26 75.074c-.104.613-.585 1.044-1.076.96-.49-.082-.805-.646-.702-1.26.104-.613.585-1.044 1.076-.96.491.082.805.646.702 1.26",fill:"#552950"}),se.createElement("path",{stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round",d:"M99.206 73.644l-.9 1.62-.3 4.38h-2.24"}),se.createElement("path",{d:"M99.926 73.284s1.8-.72 2.52.54",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M81.367 73.084s.48-1.12 1.12-.72c.64.4 1.28 1.44.56 2s.16 1.68.16 1.68",stroke:"#DB836E",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M92.326 71.724s1.84 1.12 4.16.96",stroke:"#5C2552",strokeWidth:"1.117",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M92.726 80.604s2.24 1.2 4.4 1.2M93.686 83.164s.96.4 1.52.32M83.687 80.044s1.786 6.547 9.262 7.954",stroke:"#DB836E",strokeWidth:"1.063",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M95.548 91.663s-1.068 2.821-8.298 2.105c-7.23-.717-10.29-5.044-10.29-5.044",stroke:"#E4EBF7",strokeWidth:"1.136",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M78.126 87.478s6.526 4.972 16.47 2.486c0 0 9.577 1.02 11.536 5.322 5.36 11.77.543 36.835 0 39.962 3.496 4.055-.466 8.483-.466 8.483-15.624-3.548-35.81-.6-35.81-.6-4.849-3.546-1.223-9.044-1.223-9.044L62.38 110.32c-2.485-15.227.833-19.803 3.549-20.743 3.03-1.049 8.04-1.282 8.04-1.282.496-.058 1.08-.076 1.37-.233 2.36-1.282 2.787-.583 2.787-.583",fill:"#FFF"}),se.createElement("path",{d:"M65.828 89.81s-6.875.465-7.59 8.156c-.466 8.857 3.03 10.954 3.03 10.954s6.075 22.102 16.796 22.957c8.39-2.176 4.758-6.702 4.661-11.42-.233-11.304-7.108-16.897-7.108-16.897s-4.212-13.75-9.789-13.75",fill:"#FFC6A0"}),se.createElement("path",{d:"M71.716 124.225s.855 11.264 9.828 6.486c4.765-2.536 7.581-13.828 9.789-22.568 1.456-5.768 2.58-12.197 2.58-12.197l-4.973-1.709s-2.408 5.516-7.769 12.275c-4.335 5.467-9.144 11.11-9.455 17.713",fill:"#FFC6A0"}),se.createElement("path",{d:"M108.463 105.191s1.747 2.724-2.331 30.535c2.376 2.216 1.053 6.012-.233 7.51",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M123.262 131.527s-.427 2.732-11.77 1.981c-15.187-1.006-25.326-3.25-25.326-3.25l.933-5.8s.723.215 9.71-.068c11.887-.373 18.714-6.07 24.964-1.022 4.039 3.263 1.489 8.16 1.489 8.16",fill:"#FFC6A0"}),se.createElement("path",{d:"M70.24 90.974s-5.593-4.739-11.054 2.68c-3.318 7.223.517 15.284 2.664 19.578-.31 3.729 2.33 4.311 2.33 4.311s.108.895 1.516 2.68c4.078-7.03 6.72-9.166 13.711-12.546-.328-.656-1.877-3.265-1.825-3.767.175-1.69-1.282-2.623-1.282-2.623s-.286-.156-1.165-2.738c-.788-2.313-2.036-5.177-4.895-7.575",fill:"#FFF"}),se.createElement("path",{d:"M90.232 288.027s4.855 2.308 8.313 1.155c3.188-1.063 5.12.755 8.002 1.331 2.881.577 7.769 1.243 13.207-1.424-.117-6.228-7.786-4.499-13.518-7.588-2.895-1.56-4.276-5.336-4.066-9.944H91.544s-1.573 11.89-1.312 16.47",fill:"#CBD1D1"}),se.createElement("path",{d:"M90.207 287.833s2.745 1.437 7.639.738c3.456-.494 3.223.66 7.418 1.282 4.195.621 13.092-.194 14.334-1.126.466 1.242-.388 2.33-.388 2.33s-1.709.682-5.438.932c-2.295.154-8.098.276-10.14-.621-2.02-1.554-4.894-1.515-6.06-.234-4.427 1.075-7.184-.31-7.184-.31l-.181-2.991z",fill:"#2B0849"}),se.createElement("path",{d:"M98.429 272.257h3.496s-.117 7.574 5.127 9.671c-5.244.7-9.672-2.602-8.623-9.671",fill:"#A4AABA"}),se.createElement("path",{d:"M44.425 272.046s-2.208 7.774-4.702 12.899c-1.884 3.874-4.428 7.854 5.729 7.854 6.97 0 9.385-.503 7.782-6.917-1.604-6.415.279-13.836.279-13.836h-9.088z",fill:"#CBD1D1"}),se.createElement("path",{d:"M38.066 290.277s2.198 1.225 6.954 1.225c6.376 0 8.646-1.73 8.646-1.73s.63 1.168-.649 2.27c-1.04.897-3.77 1.668-7.745 1.621-4.347-.05-6.115-.593-7.062-1.224-.864-.577-.72-1.657-.144-2.162",fill:"#2B0849"}),se.createElement("path",{d:"M45.344 274.041s.035 1.592-.329 3.07c-.365 1.49-1.13 3.255-1.184 4.34-.061 1.206 4.755 1.657 5.403.036.65-1.622 1.357-6.737 2.006-7.602.648-.865-5.14-2.222-5.896.156",fill:"#A4AABA"}),se.createElement("path",{d:"M89.476 277.57l13.899.095s1.349-56.643 1.925-66.909c.576-10.267 3.923-45.052 1.042-65.585l-13.037-.669-23.737.81s-.452 4.12-1.243 10.365c-.065.515-.708.874-.777 1.417-.078.608.439 1.407.332 2.044-2.455 14.627-5.797 32.736-8.256 46.837-.121.693-1.282 1.048-1.515 2.796-.042.314.22 1.584.116 1.865-7.14 19.473-12.202 52.601-15.66 67.19l15.176-.015s2.282-10.145 4.185-18.871c2.922-13.389 24.012-88.32 24.012-88.32l3.133-.954-.158 48.568s-.233 1.282.35 2.098c.583.815-.581 1.167-.408 2.331l.408 1.864s-.466 7.458-.932 12.352c-.467 4.895 1.145 40.69 1.145 40.69",fill:"#7BB2F9"}),se.createElement("path",{d:"M64.57 218.881c1.197.099 4.195-2.097 7.225-5.127M96.024 222.534s2.881-1.152 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M96.973 219.373s2.882-1.153 6.34-4.034",stroke:"#648BD8",strokeWidth:"1.032",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M63.172 222.144s2.724-.614 6.759-3.496M74.903 146.166c-.281 3.226.31 8.856-4.506 9.478M93.182 144.344s.115 14.557-1.344 15.65c-2.305 1.73-3.107 2.02-3.107 2.02M89.197 144.923s.269 13.144-1.01 25.088M83.525 170.71s6.81-1.051 9.116-1.051M46.026 270.045l-.892 4.538M46.937 263.289l-.815 4.157M62.725 202.503c-.33 1.618-.102 1.904-.449 3.438 0 0-2.756 1.903-2.29 3.923.466 2.02-.31 3.424-4.505 17.252-1.762 5.807-4.233 18.922-6.165 28.278-.03.144-.521 2.646-1.14 5.8M64.158 194.136c-.295 1.658-.6 3.31-.917 4.938M71.33 146.787l-1.244 10.877s-1.14.155-.519 2.33c.117 1.399-2.778 16.39-5.382 31.615M44.242 273.727H58.07",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M106.18 142.117c-3.028-.489-18.825-2.744-36.219.2a.625.625 0 0 0-.518.644c.063 1.307.044 2.343.015 2.995a.617.617 0 0 0 .716.636c3.303-.534 17.037-2.412 35.664-.266.347.04.66-.214.692-.56.124-1.347.16-2.425.17-3.029a.616.616 0 0 0-.52-.62",fill:"#192064"}),se.createElement("path",{d:"M96.398 145.264l.003-5.102a.843.843 0 0 0-.809-.847 114.104 114.104 0 0 0-8.141-.014.85.85 0 0 0-.82.847l-.003 5.097c0 .476.388.857.864.845 2.478-.064 5.166-.067 8.03.017a.848.848 0 0 0 .876-.843",fill:"#FFF"}),se.createElement("path",{d:"M95.239 144.296l.002-3.195a.667.667 0 0 0-.643-.672c-1.9-.061-3.941-.073-6.094-.01a.675.675 0 0 0-.654.672l-.002 3.192c0 .376.305.677.68.669 1.859-.042 3.874-.043 6.02.012.376.01.69-.291.691-.668",fill:"#192064"}),se.createElement("path",{d:"M90.102 273.522h12.819M91.216 269.761c.006 3.519-.072 5.55 0 6.292M90.923 263.474c-.009 1.599-.016 2.558-.016 4.505M90.44 170.404l.932 46.38s.7 1.631-.233 2.796c-.932 1.166 2.564.7.932 2.33-1.63 1.633.933 1.166 0 3.497-.618 1.546-1.031 21.921-1.138 36.513",stroke:"#648BD8",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M73.736 98.665l2.214 4.312s2.098.816 1.865 2.68l.816 2.214M64.297 116.611c.233-.932 2.176-7.147 12.585-10.488M77.598 90.042s7.691 6.137 16.547 2.72",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M91.974 86.954s5.476-.816 7.574-4.545c1.297-.345.72 2.212-.33 3.671-.7.971-1.01 1.554-1.01 1.554s.194.31.155.816c-.053.697-.175.653-.272 1.048-.081.335.108.657 0 1.049-.046.17-.198.5-.382.878-.12.249-.072.687-.2.948-.231.469-1.562 1.87-2.622 2.855-3.826 3.554-5.018 1.644-6.001-.408-.894-1.865-.661-5.127-.874-6.875-.35-2.914-2.622-3.03-1.923-4.429.343-.685 2.87.69 3.263 1.748.757 2.04 2.952 1.807 2.622 1.69",fill:"#FFC6A0"}),se.createElement("path",{d:"M99.8 82.429c-.465.077-.35.272-.97 1.243-.622.971-4.817 2.932-6.39 3.224-2.589.48-2.278-1.56-4.254-2.855-1.69-1.107-3.562-.638-1.398 1.398.99.932.932 1.107 1.398 3.205.335 1.506-.64 3.67.7 5.593",stroke:"#DB836E",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M79.543 108.673c-2.1 2.926-4.266 6.175-5.557 8.762",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M87.72 124.768s-2.098-1.942-5.127-2.719c-3.03-.777-3.574-.155-5.516.078-1.942.233-3.885-.932-3.652.7.233 1.63 5.05 1.01 5.206 2.097.155 1.087-6.37 2.796-8.313 2.175-.777.777.466 1.864 2.02 2.175.233 1.554 2.253 1.554 2.253 1.554s.699 1.01 2.641 1.088c2.486 1.32 8.934-.7 10.954-1.554 2.02-.855-.466-5.594-.466-5.594",fill:"#FFC6A0"}),se.createElement("path",{d:"M73.425 122.826s.66 1.127 3.167 1.418c2.315.27 2.563.583 2.563.583s-2.545 2.894-9.07 2.272M72.416 129.274s3.826.097 4.933-.718M74.98 130.75s1.961.136 3.36-.505M77.232 131.916s1.748.019 2.914-.505M73.328 122.321s-.595-1.032 1.262-.427c1.671.544 2.833.055 5.128.155 1.389.061 3.067-.297 3.982.15 1.606.784 3.632 2.181 3.632 2.181s10.526 1.204 19.033-1.127M78.864 108.104s-8.39 2.758-13.168 12.12",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M109.278 112.533s3.38-3.613 7.575-4.662",stroke:"#E4EBF7",strokeWidth:"1.085",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M107.375 123.006s9.697-2.745 11.445-.88",stroke:"#E59788",strokeWidth:".774",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M194.605 83.656l3.971-3.886M187.166 90.933l3.736-3.655M191.752 84.207l-4.462-4.56M198.453 91.057l-4.133-4.225M129.256 163.074l3.718-3.718M122.291 170.039l3.498-3.498M126.561 163.626l-4.27-4.27M132.975 170.039l-3.955-3.955",stroke:"#BFCDDD",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M190.156 211.779h-1.604a4.023 4.023 0 0 1-4.011-4.011V175.68a4.023 4.023 0 0 1 4.01-4.01h1.605a4.023 4.023 0 0 1 4.011 4.01v32.088a4.023 4.023 0 0 1-4.01 4.01",fill:"#A3B4C6"}),se.createElement("path",{d:"M237.824 212.977a4.813 4.813 0 0 1-4.813 4.813h-86.636a4.813 4.813 0 0 1 0-9.626h86.636a4.813 4.813 0 0 1 4.813 4.813",fill:"#A3B4C6"}),se.createElement("mask",{fill:"#fff"}),se.createElement("path",{fill:"#A3B4C6",mask:"url(#d)",d:"M154.098 190.096h70.513v-84.617h-70.513z"}),se.createElement("path",{d:"M224.928 190.096H153.78a3.219 3.219 0 0 1-3.208-3.209V167.92a3.219 3.219 0 0 1 3.208-3.21h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.219 3.219 0 0 1-3.21 3.209M224.928 130.832H153.78a3.218 3.218 0 0 1-3.208-3.208v-18.968a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.21v18.967a3.218 3.218 0 0 1-3.21 3.208",fill:"#BFCDDD",mask:"url(#d)"}),se.createElement("path",{d:"M159.563 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 120.546a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 120.546h-22.461a.802.802 0 0 1-.802-.802v-3.208c0-.443.359-.803.802-.803h22.46c.444 0 .803.36.803.803v3.208c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),se.createElement("path",{d:"M224.928 160.464H153.78a3.218 3.218 0 0 1-3.208-3.209v-18.967a3.219 3.219 0 0 1 3.208-3.209h71.148a3.219 3.219 0 0 1 3.209 3.209v18.967a3.218 3.218 0 0 1-3.21 3.209",fill:"#BFCDDD",mask:"url(#d)"}),se.createElement("path",{d:"M173.455 130.832h49.301M164.984 130.832h6.089M155.952 130.832h6.75M173.837 160.613h49.3M165.365 160.613h6.089M155.57 160.613h6.751",stroke:"#7C90A5",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),se.createElement("path",{d:"M159.563 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M166.98 151.038a2.407 2.407 0 1 1 0-4.814 2.407 2.407 0 0 1 0 4.814M174.397 151.038a2.407 2.407 0 1 1 .001-4.814 2.407 2.407 0 0 1 0 4.814M222.539 151.038h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802M159.563 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M166.98 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M174.397 179.987a2.407 2.407 0 1 1 0-4.813 2.407 2.407 0 0 1 0 4.813M222.539 179.987h-22.461a.802.802 0 0 1-.802-.802v-3.209c0-.443.359-.802.802-.802h22.46c.444 0 .803.36.803.802v3.209c0 .443-.36.802-.802.802",fill:"#FFF",mask:"url(#d)"}),se.createElement("path",{d:"M203.04 221.108h-27.372a2.413 2.413 0 0 1-2.406-2.407v-11.448a2.414 2.414 0 0 1 2.406-2.407h27.372a2.414 2.414 0 0 1 2.407 2.407V218.7a2.413 2.413 0 0 1-2.407 2.407",fill:"#BFCDDD",mask:"url(#d)"}),se.createElement("path",{d:"M177.259 207.217v11.52M201.05 207.217v11.52",stroke:"#A3B4C6",strokeWidth:"1.124",strokeLinecap:"round",strokeLinejoin:"round",mask:"url(#d)"}),se.createElement("path",{d:"M162.873 267.894a9.422 9.422 0 0 1-9.422-9.422v-14.82a9.423 9.423 0 0 1 18.845 0v14.82a9.423 9.423 0 0 1-9.423 9.422",fill:"#5BA02E",mask:"url(#d)"}),se.createElement("path",{d:"M171.22 267.83a9.422 9.422 0 0 1-9.422-9.423v-3.438a9.423 9.423 0 0 1 18.845 0v3.438a9.423 9.423 0 0 1-9.422 9.423",fill:"#92C110",mask:"url(#d)"}),se.createElement("path",{d:"M181.31 293.666h-27.712a3.209 3.209 0 0 1-3.209-3.21V269.79a3.209 3.209 0 0 1 3.209-3.21h27.711a3.209 3.209 0 0 1 3.209 3.21v20.668a3.209 3.209 0 0 1-3.209 3.209",fill:"#F2D7AD",mask:"url(#d)"})))},ur=Fc,Bc=function(){return se.createElement("svg",{width:"251",height:"294"},se.createElement("g",{fill:"none",fillRule:"evenodd"},se.createElement("path",{d:"M0 129.023v-2.084C0 58.364 55.591 2.774 124.165 2.774h2.085c68.574 0 124.165 55.59 124.165 124.165v2.084c0 68.575-55.59 124.166-124.165 124.166h-2.085C55.591 253.189 0 197.598 0 129.023",fill:"#E4EBF7"}),se.createElement("path",{d:"M41.417 132.92a8.231 8.231 0 1 1-16.38-1.65 8.231 8.231 0 0 1 16.38 1.65",fill:"#FFF"}),se.createElement("path",{d:"M38.652 136.36l10.425 5.91M49.989 148.505l-12.58 10.73",stroke:"#FFF",strokeWidth:"2"}),se.createElement("path",{d:"M41.536 161.28a5.636 5.636 0 1 1-11.216-1.13 5.636 5.636 0 0 1 11.216 1.13M59.154 145.261a5.677 5.677 0 1 1-11.297-1.138 5.677 5.677 0 0 1 11.297 1.138M100.36 29.516l29.66-.013a4.562 4.562 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 0 0 .005 9.126M111.705 47.754l29.659-.013a4.563 4.563 0 1 0-.004-9.126l-29.66.013a4.563 4.563 0 1 0 .005 9.126",fill:"#FFF"}),se.createElement("path",{d:"M114.066 29.503V29.5l15.698-.007a4.563 4.563 0 1 0 .004 9.126l-15.698.007v-.002a4.562 4.562 0 0 0-.004-9.122M185.405 137.723c-.55 5.455-5.418 9.432-10.873 8.882-5.456-.55-9.432-5.418-8.882-10.873.55-5.455 5.418-9.432 10.873-8.882 5.455.55 9.432 5.418 8.882 10.873",fill:"#FFF"}),se.createElement("path",{d:"M180.17 143.772l12.572 7.129M193.841 158.42L178.67 171.36",stroke:"#FFF",strokeWidth:"2"}),se.createElement("path",{d:"M185.55 171.926a6.798 6.798 0 1 1-13.528-1.363 6.798 6.798 0 0 1 13.527 1.363M204.12 155.285a6.848 6.848 0 1 1-13.627-1.375 6.848 6.848 0 0 1 13.626 1.375",fill:"#FFF"}),se.createElement("path",{d:"M152.988 194.074a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0zM225.931 118.217a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM217.09 153.051a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.42 0zM177.84 109.842a2.21 2.21 0 1 1-4.422 0 2.21 2.21 0 0 1 4.421 0zM196.114 94.454a2.21 2.21 0 1 1-4.421 0 2.21 2.21 0 0 1 4.421 0zM202.844 182.523a2.21 2.21 0 1 1-4.42 0 2.21 2.21 0 0 1 4.42 0z",stroke:"#FFF",strokeWidth:"2"}),se.createElement("path",{stroke:"#FFF",strokeWidth:"2",d:"M215.125 155.262l-1.902 20.075-10.87 5.958M174.601 176.636l-6.322 9.761H156.98l-4.484 6.449M175.874 127.28V111.56M221.51 119.404l-12.77 7.859-15.228-7.86V96.668"}),se.createElement("path",{d:"M180.68 29.32C180.68 13.128 193.806 0 210 0c16.193 0 29.32 13.127 29.32 29.32 0 16.194-13.127 29.322-29.32 29.322-16.193 0-29.32-13.128-29.32-29.321",fill:"#A26EF4"}),se.createElement("path",{d:"M221.45 41.706l-21.563-.125a1.744 1.744 0 0 1-1.734-1.754l.071-12.23a1.744 1.744 0 0 1 1.754-1.734l21.562.125c.964.006 1.74.791 1.735 1.755l-.071 12.229a1.744 1.744 0 0 1-1.754 1.734",fill:"#FFF"}),se.createElement("path",{d:"M215.106 29.192c-.015 2.577-2.049 4.654-4.543 4.64-2.494-.014-4.504-2.115-4.489-4.693l.04-6.925c.016-2.577 2.05-4.654 4.543-4.64 2.494.015 4.504 2.116 4.49 4.693l-.04 6.925zm-4.53-14.074a6.877 6.877 0 0 0-6.916 6.837l-.043 7.368a6.877 6.877 0 0 0 13.754.08l.042-7.368a6.878 6.878 0 0 0-6.837-6.917zM167.566 68.367h-3.93a4.73 4.73 0 0 1-4.717-4.717 4.73 4.73 0 0 1 4.717-4.717h3.93a4.73 4.73 0 0 1 4.717 4.717 4.73 4.73 0 0 1-4.717 4.717",fill:"#FFF"}),se.createElement("path",{d:"M168.214 248.838a6.611 6.611 0 0 1-6.61-6.611v-66.108a6.611 6.611 0 0 1 13.221 0v66.108a6.611 6.611 0 0 1-6.61 6.61",fill:"#5BA02E"}),se.createElement("path",{d:"M176.147 248.176a6.611 6.611 0 0 1-6.61-6.61v-33.054a6.611 6.611 0 1 1 13.221 0v33.053a6.611 6.611 0 0 1-6.61 6.611",fill:"#92C110"}),se.createElement("path",{d:"M185.994 293.89h-27.376a3.17 3.17 0 0 1-3.17-3.17v-45.887a3.17 3.17 0 0 1 3.17-3.17h27.376a3.17 3.17 0 0 1 3.17 3.17v45.886a3.17 3.17 0 0 1-3.17 3.17",fill:"#F2D7AD"}),se.createElement("path",{d:"M81.972 147.673s6.377-.927 17.566-1.28c11.729-.371 17.57 1.086 17.57 1.086s3.697-3.855.968-8.424c1.278-12.077 5.982-32.827.335-48.273-1.116-1.339-3.743-1.512-7.536-.62-1.337.315-7.147-.149-7.983-.1l-15.311-.347s-3.487-.17-8.035-.508c-1.512-.113-4.227-1.683-5.458-.338-.406.443-2.425 5.669-1.97 16.077l8.635 35.642s-3.141 3.61 1.219 7.085",fill:"#FFF"}),se.createElement("path",{d:"M75.768 73.325l-.9-6.397 11.982-6.52s7.302-.118 8.038 1.205c.737 1.324-5.616.993-5.616.993s-1.836 1.388-2.615 2.5c-1.654 2.363-.986 6.471-8.318 5.986-1.708.284-2.57 2.233-2.57 2.233",fill:"#FFC6A0"}),se.createElement("path",{d:"M52.44 77.672s14.217 9.406 24.973 14.444c1.061.497-2.094 16.183-11.892 11.811-7.436-3.318-20.162-8.44-21.482-14.496-.71-3.258 2.543-7.643 8.401-11.76M141.862 80.113s-6.693 2.999-13.844 6.876c-3.894 2.11-10.137 4.704-12.33 7.988-6.224 9.314 3.536 11.22 12.947 7.503 6.71-2.651 28.999-12.127 13.227-22.367",fill:"#FFB594"}),se.createElement("path",{d:"M76.166 66.36l3.06 3.881s-2.783 2.67-6.31 5.747c-7.103 6.195-12.803 14.296-15.995 16.44-3.966 2.662-9.754 3.314-12.177-.118-3.553-5.032.464-14.628 31.422-25.95",fill:"#FFC6A0"}),se.createElement("path",{d:"M64.674 85.116s-2.34 8.413-8.912 14.447c.652.548 18.586 10.51 22.144 10.056 5.238-.669 6.417-18.968 1.145-20.531-.702-.208-5.901-1.286-8.853-2.167-.87-.26-1.611-1.71-3.545-.936l-1.98-.869zM128.362 85.826s5.318 1.956 7.325 13.734c-.546.274-17.55 12.35-21.829 7.805-6.534-6.94-.766-17.393 4.275-18.61 4.646-1.121 5.03-1.37 10.23-2.929",fill:"#FFF"}),se.createElement("path",{d:"M78.18 94.656s.911 7.41-4.914 13.078",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M87.397 94.68s3.124 2.572 10.263 2.572c7.14 0 9.074-3.437 9.074-3.437",stroke:"#E4EBF7",strokeWidth:".932",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M117.184 68.639l-6.781-6.177s-5.355-4.314-9.223-.893c-3.867 3.422 4.463 2.083 5.653 4.165 1.19 2.082.848 1.143-2.083.446-5.603-1.331-2.082.893 2.975 5.355 2.091 1.845 6.992.955 6.992.955l2.467-3.851z",fill:"#FFC6A0"}),se.createElement("path",{d:"M105.282 91.315l-.297-10.937-15.918-.027-.53 10.45c-.026.403.17.788.515.999 2.049 1.251 9.387 5.093 15.799.424.287-.21.443-.554.431-.91",fill:"#FFB594"}),se.createElement("path",{d:"M107.573 74.24c.817-1.147.982-9.118 1.015-11.928a1.046 1.046 0 0 0-.965-1.055l-4.62-.365c-7.71-1.044-17.071.624-18.253 6.346-5.482 5.813-.421 13.244-.421 13.244s1.963 3.566 4.305 6.791c.756 1.041.398-3.731 3.04-5.929 5.524-4.594 15.899-7.103 15.899-7.103",fill:"#5C2552"}),se.createElement("path",{d:"M88.426 83.206s2.685 6.202 11.602 6.522c7.82.28 8.973-7.008 7.434-17.505l-.909-5.483c-6.118-2.897-15.478.54-15.478.54s-.576 2.044-.19 5.504c-2.276 2.066-1.824 5.618-1.824 5.618s-.905-1.922-1.98-2.321c-.86-.32-1.897.089-2.322 1.98-1.04 4.632 3.667 5.145 3.667 5.145",fill:"#FFC6A0"}),se.createElement("path",{stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round",d:"M100.843 77.099l1.701-.928-1.015-4.324.674-1.406"}),se.createElement("path",{d:"M105.546 74.092c-.022.713-.452 1.279-.96 1.263-.51-.016-.904-.607-.882-1.32.021-.713.452-1.278.96-1.263.51.016.904.607.882 1.32M97.592 74.349c-.022.713-.452 1.278-.961 1.263-.509-.016-.904-.607-.882-1.32.022-.713.452-1.279.961-1.263.51.016.904.606.882 1.32",fill:"#552950"}),se.createElement("path",{d:"M91.132 86.786s5.269 4.957 12.679 2.327",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M99.776 81.903s-3.592.232-1.44-2.79c1.59-1.496 4.897-.46 4.897-.46s1.156 3.906-3.457 3.25",fill:"#DB836E"}),se.createElement("path",{d:"M102.88 70.6s2.483.84 3.402.715M93.883 71.975s2.492-1.144 4.778-1.073",stroke:"#5C2552",strokeWidth:"1.526",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M86.32 77.374s.961.879 1.458 2.106c-.377.48-1.033 1.152-.236 1.809M99.337 83.719s1.911.151 2.509-.254",stroke:"#DB836E",strokeWidth:"1.145",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M87.782 115.821l15.73-3.012M100.165 115.821l10.04-2.008",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M66.508 86.763s-1.598 8.83-6.697 14.078",stroke:"#E4EBF7",strokeWidth:"1.114",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M128.31 87.934s3.013 4.121 4.06 11.785",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M64.09 84.816s-6.03 9.912-13.607 9.903",stroke:"#DB836E",strokeWidth:".795",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M112.366 65.909l-.142 5.32s5.993 4.472 11.945 9.202c4.482 3.562 8.888 7.455 10.985 8.662 4.804 2.766 8.9 3.355 11.076 1.808 4.071-2.894 4.373-9.878-8.136-15.263-4.271-1.838-16.144-6.36-25.728-9.73",fill:"#FFC6A0"}),se.createElement("path",{d:"M130.532 85.488s4.588 5.757 11.619 6.214",stroke:"#DB836E",strokeWidth:".75",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M121.708 105.73s-.393 8.564-1.34 13.612",stroke:"#E4EBF7",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M115.784 161.512s-3.57-1.488-2.678-7.14",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M101.52 290.246s4.326 2.057 7.408 1.03c2.842-.948 4.564.673 7.132 1.186 2.57.514 6.925 1.108 11.772-1.269-.104-5.551-6.939-4.01-12.048-6.763-2.582-1.39-3.812-4.757-3.625-8.863h-9.471s-1.402 10.596-1.169 14.68",fill:"#CBD1D1"}),se.createElement("path",{d:"M101.496 290.073s2.447 1.281 6.809.658c3.081-.44 3.74.485 7.479 1.039 3.739.554 10.802-.07 11.91-.9.415 1.108-.347 2.077-.347 2.077s-1.523.608-4.847.831c-2.045.137-5.843.293-7.663-.507-1.8-1.385-5.286-1.917-5.77-.243-3.947.958-7.41-.288-7.41-.288l-.16-2.667z",fill:"#2B0849"}),se.createElement("path",{d:"M108.824 276.19h3.116s-.103 6.751 4.57 8.62c-4.673.624-8.62-2.32-7.686-8.62",fill:"#A4AABA"}),se.createElement("path",{d:"M57.65 272.52s-2.122 7.47-4.518 12.396c-1.811 3.724-4.255 7.548 5.505 7.548 6.698 0 9.02-.483 7.479-6.648-1.541-6.164.268-13.296.268-13.296H57.65z",fill:"#CBD1D1"}),se.createElement("path",{d:"M51.54 290.04s2.111 1.178 6.682 1.178c6.128 0 8.31-1.662 8.31-1.662s.605 1.122-.624 2.18c-1 .862-3.624 1.603-7.444 1.559-4.177-.049-5.876-.57-6.786-1.177-.831-.554-.692-1.593-.138-2.078",fill:"#2B0849"}),se.createElement("path",{d:"M58.533 274.438s.034 1.529-.315 2.95c-.352 1.431-1.087 3.127-1.139 4.17-.058 1.16 4.57 1.592 5.194.035.623-1.559 1.303-6.475 1.927-7.306.622-.831-4.94-2.135-5.667.15",fill:"#A4AABA"}),se.createElement("path",{d:"M100.885 277.015l13.306.092s1.291-54.228 1.843-64.056c.552-9.828 3.756-43.13.997-62.788l-12.48-.64-22.725.776s-.433 3.944-1.19 9.921c-.062.493-.677.838-.744 1.358-.075.582.42 1.347.318 1.956-2.35 14.003-6.343 32.926-8.697 46.425-.116.663-1.227 1.004-1.45 2.677-.04.3.21 1.516.112 1.785-6.836 18.643-10.89 47.584-14.2 61.551l14.528-.014s2.185-8.524 4.008-16.878c2.796-12.817 22.987-84.553 22.987-84.553l3-.517 1.037 46.1s-.223 1.228.334 2.008c.558.782-.556 1.117-.39 2.233l.39 1.784s-.446 7.14-.892 11.826c-.446 4.685-.092 38.954-.092 38.954",fill:"#7BB2F9"}),se.createElement("path",{d:"M77.438 220.434c1.146.094 4.016-2.008 6.916-4.91M107.55 223.931s2.758-1.103 6.069-3.862",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M108.459 220.905s2.759-1.104 6.07-3.863",stroke:"#648BD8",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M76.099 223.557s2.608-.587 6.47-3.346M87.33 150.82c-.27 3.088.297 8.478-4.315 9.073M104.829 149.075s.11 13.936-1.286 14.983c-2.207 1.655-2.975 1.934-2.975 1.934M101.014 149.63s.035 12.81-1.19 24.245M94.93 174.965s7.174-1.655 9.38-1.655M75.671 204.754c-.316 1.55-.64 3.067-.973 4.535 0 0-1.45 1.822-1.003 3.756.446 1.934-.943 2.034-4.96 15.273-1.686 5.559-4.464 18.49-6.313 27.447-.078.38-4.018 18.06-4.093 18.423M77.043 196.743a313.269 313.269 0 0 1-.877 4.729M83.908 151.414l-1.19 10.413s-1.091.148-.496 2.23c.111 1.34-2.66 15.692-5.153 30.267M57.58 272.94h13.238",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"}),se.createElement("path",{d:"M117.377 147.423s-16.955-3.087-35.7.199c.157 2.501-.002 4.128-.002 4.128s14.607-2.802 35.476-.31c.251-2.342.226-4.017.226-4.017",fill:"#192064"}),se.createElement("path",{d:"M107.511 150.353l.004-4.885a.807.807 0 0 0-.774-.81c-2.428-.092-5.04-.108-7.795-.014a.814.814 0 0 0-.784.81l-.003 4.88c0 .456.371.82.827.808a140.76 140.76 0 0 1 7.688.017.81.81 0 0 0 .837-.806",fill:"#FFF"}),se.createElement("path",{d:"M106.402 149.426l.002-3.06a.64.64 0 0 0-.616-.643 94.135 94.135 0 0 0-5.834-.009.647.647 0 0 0-.626.643l-.001 3.056c0 .36.291.648.651.64 1.78-.04 3.708-.041 5.762.012.36.009.662-.279.662-.64",fill:"#192064"}),se.createElement("path",{d:"M101.485 273.933h12.272M102.652 269.075c.006 3.368.04 5.759.11 6.47M102.667 263.125c-.009 1.53-.015 2.98-.016 4.313M102.204 174.024l.893 44.402s.669 1.561-.224 2.677c-.892 1.116 2.455.67.893 2.231-1.562 1.562.893 1.116 0 3.347-.592 1.48-.988 20.987-1.09 34.956",stroke:"#648BD8",strokeWidth:"1.051",strokeLinecap:"round",strokeLinejoin:"round"})))},Ul=Bc,yl={success:Tu.Z,error:ma.Z,info:dd.Z,warning:ku},Ll={404:ac,500:ur,403:Ul},Wc=Object.keys(Ll),ud=function(De){var Pe=De.prefixCls,tt=De.icon,At=De.status,Bt=Uo()("".concat(Pe,"-icon"));if(Wc.includes("".concat(At))){var Kt=Ll[At];return se.createElement("div",{className:"".concat(Bt," ").concat(Pe,"-image")},se.createElement(Kt,null))}var fn=se.createElement(yl[At]);return tt===null||tt===!1?null:se.createElement("div",{className:Bt},tt||fn)},hd=function(De){var Pe=De.prefixCls,tt=De.extra;return tt?se.createElement("div",{className:"".concat(Pe,"-extra")},tt):null},El=function(De){var Pe=De.prefixCls,tt=De.className,At=De.subTitle,Bt=De.title,Kt=De.style,fn=De.children,Dn=De.status,yn=Dn===void 0?"info":Dn,Gn=De.icon,Zn=De.extra,ti=se.useContext(Sr.E_),Ni=ti.getPrefixCls,Gi=ti.direction,Ui=Ni("result",Pe),mi=Uo()(Ui,"".concat(Ui,"-").concat(yn),tt,(0,z.Z)({},"".concat(Ui,"-rtl"),Gi==="rtl"));return se.createElement("div",{className:mi,style:Kt},se.createElement(ud,{prefixCls:Ui,status:yn,icon:Gn}),se.createElement("div",{className:"".concat(Ui,"-title")},Bt),At&&se.createElement("div",{className:"".concat(Ui,"-subtitle")},At),se.createElement(hd,{prefixCls:Ui,extra:Zn}),fn&&se.createElement("div",{className:"".concat(Ui,"-content")},fn))};El.PRESENTED_IMAGE_403=Ll[403],El.PRESENTED_IMAGE_404=Ll[404],El.PRESENTED_IMAGE_500=Ll[500];var ia=El,Dl=function(Ue){(0,$.Z)(Pe,Ue);var De=(0,ce.Z)(Pe);function Pe(){var tt;(0,qr.Z)(this,Pe);for(var At=arguments.length,Bt=new Array(At),Kt=0;Kt<At;Kt++)Bt[Kt]=arguments[Kt];return tt=De.call.apply(De,[this].concat(Bt)),tt.state={hasError:!1,errorInfo:""},tt}return(0,Jr.Z)(Pe,[{key:"componentDidCatch",value:function(At,Bt){console.log(At,Bt)}},{key:"render",value:function(){return this.state.hasError?(0,a.jsx)(ia,{status:"error",title:"Something went wrong.",extra:this.state.errorInfo}):this.props.children}}],[{key:"getDerivedStateFromError",value:function(At){return{hasError:!0,errorInfo:At.message}}}]),Pe}(X().Component),Vc=Dl,fd=function(De){var Pe=De.autoClearCache,tt=Pe===void 0?!0:Pe,At=De.style,Bt=De.className,Kt=De.children,fn=De.ErrorBoundary||Vc;return(0,a.jsx)(Ho,{autoClearCache:tt,children:De.ErrorBoundary===!1?(0,a.jsx)(L.Content,{className:Bt,style:At,children:Kt}):(0,a.jsx)(fn,{children:(0,a.jsx)(L.Content,{className:Bt,style:At,children:Kt})})})},al=fd,jd=["id","defaultMessage"],Kd=["fixSiderbar","navTheme","layout"],xl=0,Hc=function(De,Pe){return De.headerRender===!1||De.pure?null:(0,a.jsx)(Ri,(0,u.Z)({matchMenuKeys:Pe},De))},jl=function(De){return De.footerRender===!1||De.pure?null:De.footerRender?De.footerRender((0,u.Z)({},De),(0,a.jsx)(Sl,{})):null},Tr=function(De,Pe){var tt=De.layout,At=De.navTheme,Bt=De.isMobile,Kt=De.openKeys,fn=De.splitMenus,Dn=De.menuRender;if(De.menuRender===!1||De.pure)return null;var yn=De.menuData;if(fn&&(Kt!==!1||tt==="mix")&&!Bt){var Gn=(0,y.Z)(Pe,1),Zn=Gn[0];if(Zn){var ti,Ni;yn=((ti=De.menuData)===null||ti===void 0||(Ni=ti.find(function(mi){return mi.key===Zn}))===null||Ni===void 0?void 0:Ni.routes)||[]}else yn=[]}var Gi=xa(yn||[]);if(Gi&&(Gi==null?void 0:Gi.length)<1&&fn)return null;if(tt==="top"&&!Bt)return(0,a.jsx)(kc,(0,u.Z)((0,u.Z)({matchMenuKeys:Pe},De),{},{hide:!0}));var Ui=(0,a.jsx)(kc,(0,u.Z)((0,u.Z)({matchMenuKeys:Pe},De),{},{style:At==="realDark"?{boxShadow:"0 2px 8px 0 rgba(0, 0, 0, 65%)"}:{},menuData:Gi}));return Dn?Dn(De,Ui):Ui},zc=function(De,Pe){var tt=Pe.pageTitleRender,At=c(De);if(tt===!1)return{title:Pe.title||"",id:"",pageName:""};if(tt){var Bt=tt(De,At.title,At);if(typeof Bt=="string")return(0,u.Z)((0,u.Z)({},At),{},{title:Bt});Ol()(typeof Bt=="string","pro-layout: renderPageTitle return value should be a string")}return At},sa=function(De,Pe,tt){return De?Pe?48:tt:0},Kl=function(De){var Pe,tt,At,Bt,Kt=De||{},fn=Kt.children,Dn=Kt.onCollapse,yn=Kt.location,Gn=yn===void 0?{pathname:"/"}:yn,Zn=Kt.contentStyle,ti=Kt.route,Ni=Kt.defaultCollapsed,Gi=Kt.style,Ui=Kt.disableContentMargin,mi=Kt.siderWidth,Ai=mi===void 0?208:mi,yi=Kt.menu,ao=Kt.isChildrenLayout,Ns=Kt.menuDataRender,Ts=Kt.actionRef,fs=Kt.formatMessage,Gs=Kt.loading,Eo=(0,se.useContext)(_.ZP.ConfigContext),Is=(Pe=De.prefixCls)!==null&&Pe!==void 0?Pe:Eo.getPrefixCls("pro"),Bo=hi(!1,{value:yi==null?void 0:yi.loading,onChange:yi==null?void 0:yi.onLoadingChange}),Wo=(0,y.Z)(Bo,2),pa=Wo[0],kr=Wo[1],ir=(0,se.useState)(function(){return xl+=1,"pro-layout-".concat(xl)}),oa=(0,y.Z)(ir,1),_a=oa[0],ra=(0,se.useCallback)(function(jr){var uc=jr.id,gr=jr.defaultMessage,Jd=(0,T.Z)(jr,jd);if(fs)return fs((0,u.Z)({id:uc,defaultMessage:gr},Jd));var Tl=No();return Tl[uc]?Tl[uc]:gr},[fs]),va=Ce(function(){return yi!=null&&yi.params?[_a,yi==null?void 0:yi.params]:[_a,{}]},function(){var jr=(0,A.Z)((0,P.Z)().mark(function uc(gr,Jd){var Tl,Wu;return(0,P.Z)().wrap(function(hc){for(;;)switch(hc.prev=hc.next){case 0:return kr(!0),hc.next=3,yi==null||(Tl=yi.request)===null||Tl===void 0?void 0:Tl.call(yi,Jd,(ti==null?void 0:ti.routes)||[]);case 3:return Wu=hc.sent,kr(!1),hc.abrupt("return",Wu);case 6:case"end":return hc.stop()}},uc)}));return function(uc,gr){return jr.apply(this,arguments)}}(),{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),yr=va.data,Ur=va.mutate,lc=wt(),Mr=lc.cache;(0,se.useEffect)(function(){return function(){Mr instanceof Map&&Mr.clear()}},[]);var Ua=(0,se.useMemo)(function(){return ol(yr||(ti==null?void 0:ti.routes)||[],yi,ra,Ns)},[ra,yi,Ns,yr,ti==null?void 0:ti.routes]),ka=Ua||{},Ma=ka.breadcrumb,Ra=Ma===void 0?{}:Ma,hr=ka.breadcrumbMap,Lr=ka.menuData,jo=Lr===void 0?[]:Lr;Ts&&(yi==null?void 0:yi.request)&&(Ts.current={reload:function(){Ur()}});var Vo=(0,se.useMemo)(function(){return ys(Gn.pathname||"/",jo||[],!0)},[Gn.pathname,jo]),Oi=(0,se.useMemo)(function(){return Array.from(new Set(Vo.map(function(jr){return jr.key||jr.path||""})))},[Vo]),ls=Vo[Vo.length-1]||{},Cs=Oc(ls),Ko=(0,u.Z)((0,u.Z)({},De),Cs),Rr=Ko.fixSiderbar,fr=Ko.navTheme,Il=Ko.layout,ll=(0,T.Z)(Ko,Kd),Er=Bd(Il),Ca=rd(),aa=(Ca==="sm"||Ca==="xs")&&!De.disableMobile,md=Er!=="top"&&!aa,pd=(0,Yi.Z)(function(){return Ni!==void 0?Ni:!!(aa||Ca==="md")},{value:De.collapsed,onChange:Dn}),$d=(0,y.Z)(pd,2),Uc=$d[0],$l=$d[1],Nl=(0,Ec.Z)((0,u.Z)((0,u.Z)((0,u.Z)({prefixCls:Is},De),{},{siderWidth:Ai},Cs),{},{formatMessage:ra,breadcrumb:Ra,menu:(0,u.Z)((0,u.Z)({},yi),{},{loading:pa}),layout:Er}),["className","style","breadcrumbRender"]),cc=zc((0,u.Z)((0,u.Z)({pathname:Gn.pathname},Nl),{},{breadcrumbMap:hr}),De),Pu=Vd((0,u.Z)((0,u.Z)({},Nl),{},{breadcrumbRender:De.breadcrumbRender,breadcrumbMap:hr}),De),dc=Tr((0,u.Z)((0,u.Z)({},Nl),{},{menuData:jo,onCollapse:$l,isMobile:aa,theme:fr==="dark"?"dark":"light",collapsed:Uc}),Oi),Gd=Hc((0,u.Z)((0,u.Z)({},Nl),{},{hasSiderMenu:!!dc,menuData:jo,isMobile:aa,collapsed:Uc,onCollapse:$l,theme:fr==="dark"?"dark":"light"}),Oi),cl=jl((0,u.Z)({isMobile:aa,collapsed:Uc},Nl)),Zd=(0,se.useContext)(go.Z),_d=Zd.isChildrenLayout,jc=ao!==void 0?ao:_d,ba="".concat(Is,"-basicLayout"),Ou=Uo()(De.className,"ant-design-pro",ba,(tt={},(0,z.Z)(tt,"screen-".concat(Ca),Ca),(0,z.Z)(tt,"".concat(ba,"-top-menu"),Er==="top"),(0,z.Z)(tt,"".concat(ba,"-is-children"),jc),(0,z.Z)(tt,"".concat(ba,"-fix-siderbar"),Rr),(0,z.Z)(tt,"".concat(ba,"-").concat(Er),Er),tt)),kh=sa(!!md,Uc,Ai),Yd={position:"relative"};(jc||Zn&&Zn.minHeight)&&(Yd.minHeight=0);var Fu=Uo()("".concat(ba,"-content"),(At={},(0,z.Z)(At,"".concat(ba,"-has-header"),Gd),(0,z.Z)(At,"".concat(ba,"-content-disable-margin"),Ui),At));(0,se.useEffect)(function(){var jr;(jr=De.onPageChange)===null||jr===void 0||jr.call(De,De.location)},[Gn.pathname,(Bt=Gn.pathname)===null||Bt===void 0?void 0:Bt.search]);var Bu=(0,se.useState)(!1),Qd=(0,y.Z)(Bu,2),Mh=Qd[0],Xd=Qd[1];return k(cc,De.title||!1),(0,a.jsx)(tl.Provider,{children:(0,a.jsx)(go.Z.Provider,{value:(0,u.Z)((0,u.Z)({},Nl),{},{breadcrumb:Pu,menuData:jo,isMobile:aa,collapsed:Uc,isChildrenLayout:!0,title:cc.pageName,hasSiderMenu:!!dc,hasHeader:!!Gd,siderWidth:kh,hasFooter:!!cl,hasFooterToolbar:Mh,setHasFooterToolbar:Xd,pageTitleInfo:cc,matchMenus:Vo,matchMenuKeys:Oi,currentMenu:ls}),children:De.pure?(0,a.jsx)(Ho,{autoClearCache:!0,children:fn}):(0,a.jsx)("div",{className:Ou,children:(0,a.jsxs)(L,{style:(0,u.Z)({minHeight:"100%"},Gi),children:[dc,(0,a.jsxs)("div",{style:Yd,className:Eo.getPrefixCls("layout"),children:[Gd,(0,a.jsx)(al,(0,u.Z)((0,u.Z)({autoClearCache:!1,isChildrenLayout:jc},ll),{},{className:Fu,style:Zn,children:Gs?(0,a.jsx)(el.Z,{}):fn})),cl]})]})})})})},Mu=function(){return(0,a.jsxs)("svg",{width:"32px",height:"32px",viewBox:"0 0 200 200",children:[(0,a.jsxs)("defs",{children:[(0,a.jsxs)("linearGradient",{x1:"62.1023273%",y1:"0%",x2:"108.19718%",y2:"37.8635764%",id:"linearGradient-1",children:[(0,a.jsx)("stop",{stopColor:"#4285EB",offset:"0%"}),(0,a.jsx)("stop",{stopColor:"#2EC7FF",offset:"100%"})]}),(0,a.jsxs)("linearGradient",{x1:"69.644116%",y1:"0%",x2:"54.0428975%",y2:"108.456714%",id:"linearGradient-2",children:[(0,a.jsx)("stop",{stopColor:"#29CDFF",offset:"0%"}),(0,a.jsx)("stop",{stopColor:"#148EFF",offset:"37.8600687%"}),(0,a.jsx)("stop",{stopColor:"#0A60FF",offset:"100%"})]}),(0,a.jsxs)("linearGradient",{x1:"69.6908165%",y1:"-12.9743587%",x2:"16.7228981%",y2:"117.391248%",id:"linearGradient-3",children:[(0,a.jsx)("stop",{stopColor:"#FA816E",offset:"0%"}),(0,a.jsx)("stop",{stopColor:"#F74A5C",offset:"41.472606%"}),(0,a.jsx)("stop",{stopColor:"#F51D2C",offset:"100%"})]}),(0,a.jsxs)("linearGradient",{x1:"68.1279872%",y1:"-35.6905737%",x2:"30.4400914%",y2:"114.942679%",id:"linearGradient-4",children:[(0,a.jsx)("stop",{stopColor:"#FA8E7D",offset:"0%"}),(0,a.jsx)("stop",{stopColor:"#F74A5C",offset:"51.2635191%"}),(0,a.jsx)("stop",{stopColor:"#F51D2C",offset:"100%"})]})]}),(0,a.jsx)("g",{stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd",children:(0,a.jsx)("g",{transform:"translate(-20.000000, -20.000000)",children:(0,a.jsx)("g",{transform:"translate(20.000000, 20.000000)",children:(0,a.jsxs)("g",{children:[(0,a.jsxs)("g",{fillRule:"nonzero",children:[(0,a.jsxs)("g",{children:[(0,a.jsx)("path",{d:"M91.5880863,4.17652823 L4.17996544,91.5127728 C-0.519240605,96.2081146 -0.519240605,103.791885 4.17996544,108.487227 L91.5880863,195.823472 C96.2872923,200.518814 103.877304,200.518814 108.57651,195.823472 L145.225487,159.204632 C149.433969,154.999611 149.433969,148.181924 145.225487,143.976903 C141.017005,139.771881 134.193707,139.771881 129.985225,143.976903 L102.20193,171.737352 C101.032305,172.906015 99.2571609,172.906015 98.0875359,171.737352 L28.285908,101.993122 C27.1162831,100.824459 27.1162831,99.050775 28.285908,97.8821118 L98.0875359,28.1378823 C99.2571609,26.9692191 101.032305,26.9692191 102.20193,28.1378823 L129.985225,55.8983314 C134.193707,60.1033528 141.017005,60.1033528 145.225487,55.8983314 C149.433969,51.69331 149.433969,44.8756232 145.225487,40.6706018 L108.58055,4.05574592 C103.862049,-0.537986846 96.2692618,-0.500797906 91.5880863,4.17652823 Z",fill:"url(#linearGradient-1)"}),(0,a.jsx)("path",{d:"M91.5880863,4.17652823 L4.17996544,91.5127728 C-0.519240605,96.2081146 -0.519240605,103.791885 4.17996544,108.487227 L91.5880863,195.823472 C96.2872923,200.518814 103.877304,200.518814 108.57651,195.823472 L145.225487,159.204632 C149.433969,154.999611 149.433969,148.181924 145.225487,143.976903 C141.017005,139.771881 134.193707,139.771881 129.985225,143.976903 L102.20193,171.737352 C101.032305,172.906015 99.2571609,172.906015 98.0875359,171.737352 L28.285908,101.993122 C27.1162831,100.824459 27.1162831,99.050775 28.285908,97.8821118 L98.0875359,28.1378823 C100.999864,25.6271836 105.751642,20.541824 112.729652,19.3524487 C117.915585,18.4685261 123.585219,20.4140239 129.738554,25.1889424 C125.624663,21.0784292 118.571995,14.0340304 108.58055,4.05574592 C103.862049,-0.537986846 96.2692618,-0.500797906 91.5880863,4.17652823 Z",fill:"url(#linearGradient-2)"})]}),(0,a.jsx)("path",{d:"M153.685633,135.854579 C157.894115,140.0596 164.717412,140.0596 168.925894,135.854579 L195.959977,108.842726 C200.659183,104.147384 200.659183,96.5636133 195.960527,91.8688194 L168.690777,64.7181159 C164.472332,60.5180858 157.646868,60.5241425 153.435895,64.7316526 C149.227413,68.936674 149.227413,75.7543607 153.435895,79.9593821 L171.854035,98.3623765 C173.02366,99.5310396 173.02366,101.304724 171.854035,102.473387 L153.685633,120.626849 C149.47715,124.83187 149.47715,131.649557 153.685633,135.854579 Z",fill:"url(#linearGradient-3)"})]}),(0,a.jsx)("ellipse",{fill:"url(#linearGradient-4)",cx:"100.519339",cy:"100.436681",rx:"23.6001926",ry:"23.580786"})]})})})})]})};Kl.defaultProps=(0,u.Z)((0,u.Z)({logo:(0,a.jsx)(Mu,{})},Nc),{},{location:ki()?window.location:void 0});var Ru=Kl,Au=null,gd=Ru},23840:function(nt,xe,l){"use strict";l.d(xe,{S1:function(){return Co},jp:function(){return Wi}});var C=l(94159),d=l(60081),j=l(37534);const W=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/];class L{static __initStatic(){this.id="InboundFilters"}__init(){this.name=L.id}constructor(Ae={}){this._options=Ae,L.prototype.__init.call(this)}setupOnce(Ae,Lt){const zt=Zt=>{const qt=Lt();if(qt){const $n=qt.getIntegration(L);if($n){const xi=qt.getClient(),Bi=xi?xi.getOptions():{},vs=z($n._options,Bi);return P(Zt,vs)?null:Zt}}return Zt};zt.id=this.name,Ae(zt)}}L.__initStatic();function z(et={},Ae={}){return{allowUrls:[...et.allowUrls||[],...Ae.allowUrls||[]],denyUrls:[...et.denyUrls||[],...Ae.denyUrls||[]],ignoreErrors:[...et.ignoreErrors||[],...Ae.ignoreErrors||[],...W],ignoreInternal:et.ignoreInternal!==void 0?et.ignoreInternal:!0}}function P(et,Ae){return Ae.ignoreInternal&&y(et)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn(`Event dropped due to being internal Sentry Error.
Event: ${(0,d.jH)(et)}`),!0):A(et,Ae.ignoreErrors)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${(0,d.jH)(et)}`),!0):T(et,Ae.denyUrls)?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${(0,d.jH)(et)}.
Url: ${a(et)}`),!0):S(et,Ae.allowUrls)?!1:((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${(0,d.jH)(et)}.
Url: ${a(et)}`),!0)}function A(et,Ae){return!Ae||!Ae.length?!1:_(et).some(Lt=>(0,j.U0)(Lt,Ae))}function T(et,Ae){if(!Ae||!Ae.length)return!1;const Lt=a(et);return Lt?(0,j.U0)(Lt,Ae):!1}function S(et,Ae){if(!Ae||!Ae.length)return!0;const Lt=a(et);return Lt?(0,j.U0)(Lt,Ae):!0}function _(et){if(et.message)return[et.message];if(et.exception)try{const{type:Ae="",value:Lt=""}=et.exception.values&&et.exception.values[0]||{};return[`${Lt}`,`${Ae}: ${Lt}`]}catch(Ae){return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error(`Cannot extract message for event ${(0,d.jH)(et)}`),[]}return[]}function y(et){try{return et.exception.values[0].type==="SentryError"}catch(Ae){}return!1}function u(et=[]){for(let Ae=et.length-1;Ae>=0;Ae--){const Lt=et[Ae];if(Lt&&Lt.filename!=="<anonymous>"&&Lt.filename!=="[native code]")return Lt.filename||null}return null}function a(et){try{let Ae;try{Ae=et.exception.values[0].stacktrace.frames}catch(Lt){}return Ae?u(Ae):null}catch(Ae){return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error(`Cannot extract url for event ${(0,d.jH)(et)}`),null}}var b=l(65410);let D;class N{constructor(){N.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=N.id}setupOnce(){D=Function.prototype.toString,Function.prototype.toString=function(...Ae){const Lt=(0,b.HK)(this)||this;return D.apply(Lt,Ae)}}}N.__initStatic();var I=l(55632),E=l(32625);const O=[];function R(et){const Ae={};return et.forEach(Lt=>{const{name:zt}=Lt,Zt=Ae[zt];Zt&&!Zt.isDefaultInstance&&Lt.isDefaultInstance||(Ae[zt]=Lt)}),Object.values(Ae)}function M(et){const Ae=et.defaultIntegrations||[],Lt=et.integrations;Ae.forEach($n=>{$n.isDefaultInstance=!0});let zt;Array.isArray(Lt)?zt=[...Ae,...Lt]:typeof Lt=="function"?zt=(0,d.lE)(Lt(Ae)):zt=Ae;const Zt=R(zt),qt=Zt.findIndex($n=>$n.name==="Debug");if(qt!==-1){const[$n]=Zt.splice(qt,1);Zt.push($n)}return Zt}function K(et){const Ae={};return et.forEach(Lt=>{Ae[Lt.name]=Lt,O.indexOf(Lt.name)===-1&&(Lt.setupOnce(E.c,I.Gd),O.push(Lt.name),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.log(`Integration installed: ${Lt.name}`))}),Ae}function Z(et,Ae){Ae.debug===!0&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?C.kg.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));const Lt=(0,I.Gd)(),zt=Lt.getScope();zt&&zt.update(Ae.initialScope);const Zt=new et(Ae);Lt.bindClient(Zt)}class te extends Error{constructor(Ae,Lt="warn"){super(Ae),this.message=Ae,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=Lt}}const de=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function ge(et){return et==="http"||et==="https"}function le(et,Ae=!1){const{host:Lt,path:zt,pass:Zt,port:qt,projectId:$n,protocol:xi,publicKey:Bi}=et;return`${xi}://${Bi}${Ae&&Zt?`:${Zt}`:""}@${Lt}${qt?`:${qt}`:""}/${zt&&`${zt}/`}${$n}`}function se(et){const Ae=de.exec(et);if(!Ae)throw new te(`Invalid Sentry Dsn: ${et}`);const[Lt,zt,Zt="",qt,$n="",xi]=Ae.slice(1);let Bi="",vs=xi;const ps=vs.split("/");if(ps.length>1&&(Bi=ps.slice(0,-1).join("/"),vs=ps.pop()),vs){const hs=vs.match(/^\d+/);hs&&(vs=hs[0])}return X({host:qt,pass:Zt,path:Bi,projectId:vs,port:$n,protocol:Lt,publicKey:zt})}function X(et){return{protocol:et.protocol,publicKey:et.publicKey||"",pass:et.pass||"",host:et.host,port:et.port||"",path:et.path||"",projectId:et.projectId}}function re(et){if(!(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__))return;const{port:Ae,projectId:Lt,protocol:zt}=et;if(["protocol","publicKey","host","projectId"].forEach(qt=>{if(!et[qt])throw new te(`Invalid Sentry Dsn: ${qt} missing`)}),!Lt.match(/^\d+$/))throw new te(`Invalid Sentry Dsn: Invalid projectId ${Lt}`);if(!ge(zt))throw new te(`Invalid Sentry Dsn: Invalid protocol ${zt}`);if(Ae&&isNaN(parseInt(Ae,10)))throw new te(`Invalid Sentry Dsn: Invalid port ${Ae}`);return!0}function ne(et){const Ae=typeof et=="string"?se(et):X(et);return re(Ae),Ae}const U="7";function oe(et){const Ae=et.protocol?`${et.protocol}:`:"",Lt=et.port?`:${et.port}`:"";return`${Ae}//${et.host}${Lt}${et.path?`/${et.path}`:""}/api/`}function q(et){return`${oe(et)}${et.projectId}/envelope/`}function ae(et,Ae){return(0,b._j)(li({sentry_key:et.publicKey,sentry_version:U},Ae&&{sentry_client:`${Ae.name}/${Ae.version}`}))}function me(et,Ae={}){const Lt=typeof Ae=="string"?Ae:Ae.tunnel,zt=typeof Ae=="string"||!Ae._metadata?void 0:Ae._metadata.sdk;return Lt||`${q(et)}?${ae(et,zt)}`}function ke(et,Ae){const Lt=ne(et),zt=`${oe(Lt)}embed/error-page/`;let Zt=`dsn=${le(Lt)}`;for(const qt in Ae)if(qt!=="dsn")if(qt==="user"){const $n=Ae.user;if(!$n)continue;$n.name&&(Zt+=`&name=${encodeURIComponent($n.name)}`),$n.email&&(Zt+=`&email=${encodeURIComponent($n.email)}`)}else Zt+=`&${encodeURIComponent(qt)}=${encodeURIComponent(Ae[qt])}`;return`${zt}?${Zt}`}var H=l(15999),ut=l(35953),Ke=l(41961),He=l(88367),ze=l(34132),Le=l(40751);function Ze(){const et=typeof WeakSet=="function",Ae=et?new WeakSet:[];function Lt(Zt){if(et)return Ae.has(Zt)?!0:(Ae.add(Zt),!1);for(let qt=0;qt<Ae.length;qt++)if(Ae[qt]===Zt)return!0;return Ae.push(Zt),!1}function zt(Zt){if(et)Ae.delete(Zt);else for(let qt=0;qt<Ae.length;qt++)if(Ae[qt]===Zt){Ae.splice(qt,1);break}}return[Lt,zt]}function Ge(et,Ae=1/0,Lt=1/0){try{return ct("",et,Ae,Lt)}catch(zt){return{ERROR:`**non-serializable** (${zt})`}}}function Fe(et,Ae=3,Lt=100*1024){const zt=Ge(et,Ae);return Et(zt)>Lt?Fe(et,Ae-1,Lt):zt}function ct(et,Ae,Lt=1/0,zt=1/0,Zt=Ze()){const[qt,$n]=Zt;if(Ae===null||["number","boolean","string"].includes(typeof Ae)&&!(0,ze.i2)(Ae))return Ae;const xi=ft(et,Ae);if(!xi.startsWith("[object "))return xi;if(Ae.__sentry_skip_normalization__)return Ae;if(Lt===0)return xi.replace("object ","");if(qt(Ae))return"[Circular ~]";const Bi=Ae;if(Bi&&typeof Bi.toJSON=="function")try{const qs=Bi.toJSON();return ct("",qs,Lt-1,zt,Zt)}catch(qs){}const vs=Array.isArray(Ae)?[]:{};let ps=0;const hs=(0,b.Sh)(Ae);for(const qs in hs){if(!Object.prototype.hasOwnProperty.call(hs,qs))continue;if(ps>=zt){vs[qs]="[MaxProperties ~]";break}const Po=hs[qs];vs[qs]=ct(qs,Po,Lt-1,zt,Zt),ps++}return $n(Ae),vs}function ft(et,Ae){try{return et==="domain"&&Ae&&typeof Ae=="object"&&Ae._events?"[Domain]":et==="domainEmitter"?"[DomainEmitter]":typeof l.g!="undefined"&&Ae===l.g?"[Global]":typeof window!="undefined"&&Ae===window?"[Window]":typeof document!="undefined"&&Ae===document?"[Document]":(0,ze.Cy)(Ae)?"[SyntheticEvent]":typeof Ae=="number"&&Ae!==Ae?"[NaN]":Ae===void 0?"[undefined]":typeof Ae=="function"?`[Function: ${(0,H.$P)(Ae)}]`:typeof Ae=="symbol"?`[${String(Ae)}]`:typeof Ae=="bigint"?`[BigInt: ${String(Ae)}]`:`[object ${Object.getPrototypeOf(Ae).constructor.name}]`}catch(Lt){return`**non-serializable** (${Lt})`}}function Ot(et){return~-encodeURI(et).split(/%..|./).length}function Et(et){return Ot(JSON.stringify(et))}function Vt(et,Ae=[]){return[et,Ae]}function We(et,Ae){const[Lt,zt]=et;return[Lt,[...zt,Ae]]}function St(et,Ae){et[1].forEach(zt=>{const Zt=zt[0].type;Ae(zt,Zt)})}function Re(et,Ae){return(Ae||new TextEncoder).encode(et)}function Se(et,Ae){const[Lt,zt]=et;let Zt=JSON.stringify(Lt);function qt($n){typeof Zt=="string"?Zt=typeof $n=="string"?Zt+$n:[Re(Zt,Ae),$n]:Zt.push(typeof $n=="string"?Re($n,Ae):$n)}for(const $n of zt){const[xi,Bi]=$n;if(qt(`
${JSON.stringify(xi)}
`),typeof Bi=="string"||Bi instanceof Uint8Array)qt(Bi);else{let vs;try{vs=JSON.stringify(Bi)}catch(ps){vs=JSON.stringify(Ge(Bi))}qt(vs)}}return typeof Zt=="string"?Zt:Ee(Zt)}function Ee(et){const Ae=et.reduce((Zt,qt)=>Zt+qt.length,0),Lt=new Uint8Array(Ae);let zt=0;for(const Zt of et)Lt.set(Zt,zt),zt+=Zt.length;return Lt}function Be(et,Ae,Lt){let zt=typeof et=="string"?Ae.encode(et):et;function Zt(Bi){const vs=zt.subarray(0,Bi);return zt=zt.subarray(Bi+1),vs}function qt(){let Bi=zt.indexOf(10);return Bi<0&&(Bi=zt.length),JSON.parse(Lt.decode(Zt(Bi)))}const $n=qt(),xi=[];for(;zt.length;){const Bi=qt(),vs=typeof Bi.length=="number"?Bi.length:void 0;xi.push([Bi,vs?Zt(vs):qt()])}return[$n,xi]}function Xe(et,Ae){const Lt=typeof et.data=="string"?Re(et.data,Ae):et.data;return[(0,b.Jr)({type:"attachment",length:Lt.length,filename:et.filename,content_type:et.contentType,attachment_type:et.attachmentType}),Lt]}const Pt={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile"};function jt(et){return Pt[et]}function pn(et){if(!et||!et.sdk)return;const{name:Ae,version:Lt}=et.sdk;return{name:Ae,version:Lt}}function at(et,Ae,Lt,zt){const Zt=et.sdkProcessingMetadata&&et.sdkProcessingMetadata.dynamicSamplingContext;return li(li(li({event_id:et.event_id,sent_at:new Date().toISOString()},Ae&&{sdk:Ae}),!!Lt&&{dsn:le(zt)}),et.type==="transaction"&&Zt&&{trace:(0,b.Jr)(li({},Zt))})}var Mt=l(13632);function Gt(et,Ae){return Ae&&(et.sdk=et.sdk||{},et.sdk.name=et.sdk.name||Ae.name,et.sdk.version=et.sdk.version||Ae.version,et.sdk.integrations=[...et.sdk.integrations||[],...Ae.integrations||[]],et.sdk.packages=[...et.sdk.packages||[],...Ae.packages||[]]),et}function _n(et,Ae,Lt,zt){const Zt=pn(Lt),qt=li(li({sent_at:new Date().toISOString()},Zt&&{sdk:Zt}),!!zt&&{dsn:le(Ae)}),$n="aggregates"in et?[{type:"sessions"},et]:[{type:"session"},et];return Vt(qt,[$n])}function Rn(et,Ae,Lt,zt){const Zt=pn(Lt),qt=et.type||"event";Gt(et,Lt&&Lt.sdk);const $n=at(et,Zt,zt,Ae);return delete et.sdkProcessingMetadata,Vt($n,[[{type:qt},et]])}var Wn=l(43246);const wn="Not capturing exception because it's already been captured.";class je{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}constructor(Ae){if(je.prototype.__init.call(this),je.prototype.__init2.call(this),je.prototype.__init3.call(this),je.prototype.__init4.call(this),this._options=Ae,Ae.dsn){this._dsn=ne(Ae.dsn);const Lt=me(this._dsn,Ae);this._transport=Ae.transport(io(li({recordDroppedEvent:this.recordDroppedEvent.bind(this)},Ae.transportOptions),{url:Lt}))}else(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn("No DSN provided, client will not do anything.")}captureException(Ae,Lt,zt){if((0,d.YO)(Ae)){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.log(wn);return}let Zt=Lt&&Lt.event_id;return this._process(this.eventFromException(Ae,Lt).then(qt=>this._captureEvent(qt,Lt,zt)).then(qt=>{Zt=qt})),Zt}captureMessage(Ae,Lt,zt,Zt){let qt=zt&&zt.event_id;const $n=(0,ze.pt)(Ae)?this.eventFromMessage(String(Ae),Lt,zt):this.eventFromException(Ae,zt);return this._process($n.then(xi=>this._captureEvent(xi,zt,Zt)).then(xi=>{qt=xi})),qt}captureEvent(Ae,Lt,zt){if(Lt&&Lt.originalException&&(0,d.YO)(Lt.originalException)){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.log(wn);return}let Zt=Lt&&Lt.event_id;return this._process(this._captureEvent(Ae,Lt,zt).then(qt=>{Zt=qt})),Zt}captureSession(Ae){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn("SDK not enabled, will not capture session.");return}typeof Ae.release!="string"?(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn("Discarded session because of missing or non-string release"):(this.sendSession(Ae),(0,Wn.CT)(Ae,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getTransport(){return this._transport}flush(Ae){const Lt=this._transport;return Lt?this._isClientDoneProcessing(Ae).then(zt=>Lt.flush(Ae).then(Zt=>zt&&Zt)):(0,Le.WD)(!0)}close(Ae){return this.flush(Ae).then(Lt=>(this.getOptions().enabled=!1,Lt))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=K(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(Ae){return this._integrations[Ae]}getIntegration(Ae){try{return this._integrations[Ae.id]||null}catch(Lt){return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn(`Cannot retrieve integration ${Ae.id} from the current Client`),null}}sendEvent(Ae,Lt={}){if(this._dsn){let zt=Rn(Ae,this._dsn,this._options._metadata,this._options.tunnel);for(const Zt of Lt.attachments||[])zt=We(zt,Xe(Zt,this._options.transportOptions&&this._options.transportOptions.textEncoder));this._sendEnvelope(zt)}}sendSession(Ae){if(this._dsn){const Lt=_n(Ae,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(Lt)}}recordDroppedEvent(Ae,Lt,zt){if(this._options.sendClientReports){const Zt=`${Ae}:${Lt}`;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.log(`Adding outcome: "${Zt}"`),this._outcomes[Zt]=this._outcomes[Zt]+1||1}}_updateSessionFromEvent(Ae,Lt){let zt=!1,Zt=!1;const qt=Lt.exception&&Lt.exception.values;if(qt){Zt=!0;for(const Bi of qt){const vs=Bi.mechanism;if(vs&&vs.handled===!1){zt=!0;break}}}const $n=Ae.status==="ok";($n&&Ae.errors===0||$n&&zt)&&((0,Wn.CT)(Ae,io(li({},zt&&{status:"crashed"}),{errors:Ae.errors||Number(Zt||zt)})),this.captureSession(Ae))}_isClientDoneProcessing(Ae){return new Le.cW(Lt=>{let zt=0;const Zt=1,qt=setInterval(()=>{this._numProcessing==0?(clearInterval(qt),Lt(!0)):(zt+=Zt,Ae&&zt>=Ae&&(clearInterval(qt),Lt(!1)))},Zt)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(Ae,Lt,zt){const{normalizeDepth:Zt=3,normalizeMaxBreadth:qt=1e3}=this.getOptions(),$n=io(li({},Ae),{event_id:Ae.event_id||Lt.event_id||(0,d.DM)(),timestamp:Ae.timestamp||(0,Mt.yW)()});this._applyClientOptions($n),this._applyIntegrationsMetadata($n);let xi=zt;Lt.captureContext&&(xi=E.s.clone(xi).update(Lt.captureContext));let Bi=(0,Le.WD)($n);if(xi&&xi.getAttachments){const vs=[...Lt.attachments||[],...xi.getAttachments()];vs.length&&(Lt.attachments=vs),Bi=xi.applyToEvent($n,Lt)}return Bi.then(vs=>typeof Zt=="number"&&Zt>0?this._normalizeEvent(vs,Zt,qt):vs)}_normalizeEvent(Ae,Lt,zt){if(!Ae)return null;const Zt=li(li(li(li(li({},Ae),Ae.breadcrumbs&&{breadcrumbs:Ae.breadcrumbs.map(qt=>li(li({},qt),qt.data&&{data:Ge(qt.data,Lt,zt)}))}),Ae.user&&{user:Ge(Ae.user,Lt,zt)}),Ae.contexts&&{contexts:Ge(Ae.contexts,Lt,zt)}),Ae.extra&&{extra:Ge(Ae.extra,Lt,zt)});return Ae.contexts&&Ae.contexts.trace&&Zt.contexts&&(Zt.contexts.trace=Ae.contexts.trace,Ae.contexts.trace.data&&(Zt.contexts.trace.data=Ge(Ae.contexts.trace.data,Lt,zt))),Ae.spans&&(Zt.spans=Ae.spans.map(qt=>(qt.data&&(qt.data=Ge(qt.data,Lt,zt)),qt))),Zt}_applyClientOptions(Ae){const Lt=this.getOptions(),{environment:zt,release:Zt,dist:qt,maxValueLength:$n=250}=Lt;"environment"in Ae||(Ae.environment="environment"in Lt?zt:"production"),Ae.release===void 0&&Zt!==void 0&&(Ae.release=Zt),Ae.dist===void 0&&qt!==void 0&&(Ae.dist=qt),Ae.message&&(Ae.message=(0,j.$G)(Ae.message,$n));const xi=Ae.exception&&Ae.exception.values&&Ae.exception.values[0];xi&&xi.value&&(xi.value=(0,j.$G)(xi.value,$n));const Bi=Ae.request;Bi&&Bi.url&&(Bi.url=(0,j.$G)(Bi.url,$n))}_applyIntegrationsMetadata(Ae){const Lt=Object.keys(this._integrations);Lt.length>0&&(Ae.sdk=Ae.sdk||{},Ae.sdk.integrations=[...Ae.sdk.integrations||[],...Lt])}_captureEvent(Ae,Lt={},zt){return this._processEvent(Ae,Lt,zt).then(Zt=>Zt.event_id,Zt=>{if(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__){const qt=Zt;qt.logLevel==="log"?C.kg.log(qt.message):C.kg.warn(qt)}})}_processEvent(Ae,Lt,zt){const Zt=this.getOptions(),{sampleRate:qt}=Zt;if(!this._isEnabled())return(0,Le.$2)(new te("SDK not enabled, will not capture event.","log"));const $n=ht(Ae),xi=_e(Ae),Bi=Ae.type||"error",vs=`before send for type \`${Bi}\``;return xi&&typeof qt=="number"&&Math.random()>qt?(this.recordDroppedEvent("sample_rate","error",Ae),(0,Le.$2)(new te(`Discarding event because it's not included in the random sample (sampling rate = ${qt})`,"log"))):this._prepareEvent(Ae,Lt,zt).then(ps=>{if(ps===null)throw this.recordDroppedEvent("event_processor",Bi,Ae),new te("An event processor returned `null`, will not send event.","log");if(Lt.data&&Lt.data.__sentry__===!0)return ps;const qs=vt(Zt,ps,Lt);return qn(qs,vs)}).then(ps=>{if(ps===null)throw this.recordDroppedEvent("before_send",Ae.type||"error",Ae),new te(`${vs} returned \`null\`, will not send event.`,"log");const hs=zt&&zt.getSession();!$n&&hs&&this._updateSessionFromEvent(hs,ps);const qs=ps.transaction_info;if($n&&qs&&ps.transaction!==Ae.transaction){const Po="custom";ps.transaction_info=io(li({},qs),{source:Po,changes:[...qs.changes,{source:Po,timestamp:ps.timestamp,propagations:qs.propagations}]})}return this.sendEvent(ps,Lt),ps}).then(null,ps=>{throw ps instanceof te?ps:(this.captureException(ps,{data:{__sentry__:!0},originalException:ps}),new te(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${ps}`))})}_process(Ae){this._numProcessing++,Ae.then(Lt=>(this._numProcessing--,Lt),Lt=>(this._numProcessing--,Lt))}_sendEnvelope(Ae){this._transport&&this._dsn?this._transport.send(Ae).then(null,Lt=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error("Error while sending event:",Lt)}):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error("Transport disabled")}_clearOutcomes(){const Ae=this._outcomes;return this._outcomes={},Object.keys(Ae).map(Lt=>{const[zt,Zt]=Lt.split(":");return{reason:zt,category:Zt,quantity:Ae[Lt]}})}}function qn(et,Ae){const Lt=`${Ae} must return \`null\` or a valid event.`;if((0,ze.J8)(et))return et.then(zt=>{if(!(0,ze.PO)(zt)&&zt!==null)throw new te(Lt);return zt},zt=>{throw new te(`${Ae} rejected with ${zt}`)});if(!(0,ze.PO)(et)&&et!==null)throw new te(Lt);return et}function vt(et,Ae,Lt){const{beforeSend:zt,beforeSendTransaction:Zt}=et;return _e(Ae)&&zt?zt(Ae,Lt):ht(Ae)&&Zt?Zt(Ae,Lt):Ae}function _e(et){return et.type===void 0}function ht(et){return et.type==="transaction"}var yt=l(79711);function ye(et,Ae,Lt){const zt=[{type:"client_report"},{timestamp:Lt||(0,Mt.yW)(),discarded_events:et}];return Vt(Ae?{dsn:Ae}:{},[zt])}function qe(et,Ae){const Lt=mn(et,Ae),zt={type:Ae&&Ae.name,value:Rt(Ae)};return Lt.length&&(zt.stacktrace={frames:Lt}),zt.type===void 0&&zt.value===""&&(zt.value="Unrecoverable error caught"),zt}function Wt(et,Ae,Lt,zt){const qt=(0,I.Gd)().getClient(),$n=qt&&qt.getOptions().normalizeDepth,xi={exception:{values:[{type:(0,ze.cO)(Ae)?Ae.constructor.name:zt?"UnhandledRejection":"Error",value:`Non-Error ${zt?"promise rejection":"exception"} captured with keys: ${(0,b.zf)(Ae)}`}]},extra:{__serialized__:Fe(Ae,$n)}};if(Lt){const Bi=mn(et,Lt);Bi.length&&(xi.exception.values[0].stacktrace={frames:Bi})}return xi}function Xt(et,Ae){return{exception:{values:[qe(et,Ae)]}}}function mn(et,Ae){const Lt=Ae.stacktrace||Ae.stack||"",zt=ot(Ae);try{return et(Lt,zt)}catch(Zt){}return[]}const bn=/Minified React error #\d+;/i;function ot(et){if(et){if(typeof et.framesToPop=="number")return et.framesToPop;if(bn.test(et.message))return 1}return 0}function Rt(et){const Ae=et&&et.message;return Ae?Ae.error&&typeof Ae.error.message=="string"?Ae.error.message:Ae:"No error message"}function kt(et,Ae,Lt,zt){const Zt=Lt&&Lt.syntheticException||void 0,qt=ln(et,Ae,Zt,zt);return(0,d.EG)(qt),qt.level="error",Lt&&Lt.event_id&&(qt.event_id=Lt.event_id),(0,Le.WD)(qt)}function wt(et,Ae,Lt="info",zt,Zt){const qt=zt&&zt.syntheticException||void 0,$n=_t(et,Ae,qt,Zt);return $n.level=Lt,zt&&zt.event_id&&($n.event_id=zt.event_id),(0,Le.WD)($n)}function ln(et,Ae,Lt,zt,Zt){let qt;if((0,ze.VW)(Ae)&&Ae.error)return Xt(et,Ae.error);if((0,ze.TX)(Ae)||(0,ze.fm)(Ae)){const $n=Ae;if("stack"in Ae)qt=Xt(et,Ae);else{const xi=$n.name||((0,ze.TX)($n)?"DOMError":"DOMException"),Bi=$n.message?`${xi}: ${$n.message}`:xi;qt=_t(et,Bi,Lt,zt),(0,d.Db)(qt,Bi)}return"code"in $n&&(qt.tags=io(li({},qt.tags),{"DOMException.code":`${$n.code}`})),qt}return(0,ze.VZ)(Ae)?Xt(et,Ae):(0,ze.PO)(Ae)||(0,ze.cO)(Ae)?(qt=Wt(et,Ae,Lt,Zt),(0,d.EG)(qt,{synthetic:!0}),qt):(qt=_t(et,Ae,Lt,zt),(0,d.Db)(qt,`${Ae}`,void 0),(0,d.EG)(qt,{synthetic:!0}),qt)}function _t(et,Ae,Lt,zt){const Zt={message:Ae};if(zt&&Lt){const qt=mn(et,Lt);qt.length&&(Zt.exception={values:[{value:Ae,stacktrace:{frames:qt}}]})}return Zt}var di=l(51628),Xn=l(98755);const dn=Xn.n2;let Ve=0;function Ce(){return Ve>0}function dt(){Ve++,setTimeout(()=>{Ve--})}function Qt(et,Ae={},Lt){if(typeof et!="function")return et;try{const Zt=et.__sentry_wrapped__;if(Zt)return Zt;if((0,b.HK)(et))return et}catch(Zt){return et}const zt=function(){const Zt=Array.prototype.slice.call(arguments);try{Lt&&typeof Lt=="function"&&Lt.apply(this,arguments);const qt=Zt.map($n=>Qt($n,Ae));return et.apply(this,qt)}catch(qt){throw dt(),(0,di.$e)($n=>{$n.addEventProcessor(xi=>(Ae.mechanism&&((0,d.Db)(xi,void 0,void 0),(0,d.EG)(xi,Ae.mechanism)),xi.extra=io(li({},xi.extra),{arguments:Zt}),xi)),(0,di.Tb)(qt)}),qt}};try{for(const Zt in et)Object.prototype.hasOwnProperty.call(et,Zt)&&(zt[Zt]=et[Zt])}catch(Zt){}(0,b.$Q)(zt,et),(0,b.xp)(et,"__sentry_wrapped__",zt);try{Object.getOwnPropertyDescriptor(zt,"name").configurable&&Object.defineProperty(zt,"name",{get(){return et.name}})}catch(Zt){}return zt}var en=l(8129);const vn=["fatal","error","warning","log","info","debug"];function An(et){return On(et)}function On(et){return et==="warn"?"warning":vn.includes(et)?et:"log"}function In(et){if(!et)return{};const Ae=et.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!Ae)return{};const Lt=Ae[6]||"",zt=Ae[8]||"";return{host:Ae[4],path:Ae[5],protocol:Ae[2],relative:Ae[5]+Lt+zt}}function Sn(et){return et.split(/[\?#]/,1)[0]}function Mn(et){return et.split(/\\?\//).filter(Ae=>Ae.length>0&&Ae!==",").length}const Bn=1024,Jn="Breadcrumbs";class ai{static __initStatic(){this.id=Jn}__init(){this.name=ai.id}constructor(Ae){ai.prototype.__init.call(this),this.options=li({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},Ae)}setupOnce(){this.options.console&&(0,Ke.o)("console",Ii),this.options.dom&&(0,Ke.o)("dom",jn(this.options.dom)),this.options.xhr&&(0,Ke.o)("xhr",ci),this.options.fetch&&(0,Ke.o)("fetch",oi),this.options.history&&(0,Ke.o)("history",wi)}addSentryBreadcrumb(Ae){this.options.sentry&&(0,I.Gd)().addBreadcrumb({category:`sentry.${Ae.type==="transaction"?"transaction":"event"}`,event_id:Ae.event_id,level:Ae.level,message:(0,d.jH)(Ae)},{event:Ae})}}ai.__initStatic();function jn(et){function Ae(Lt){let zt,Zt=typeof et=="object"?et.serializeAttribute:void 0,qt=typeof et=="object"&&typeof et.maxStringLength=="number"?et.maxStringLength:void 0;qt&&qt>Bn&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn(`\`dom.maxStringLength\` cannot exceed ${Bn}, but a value of ${qt} was configured. Sentry will use ${Bn} instead.`),qt=Bn),typeof Zt=="string"&&(Zt=[Zt]);try{zt=Lt.event.target?(0,en.Rt)(Lt.event.target,{keyAttrs:Zt,maxStringLength:qt}):(0,en.Rt)(Lt.event,{keyAttrs:Zt,maxStringLength:qt})}catch($n){zt="<unknown>"}zt.length!==0&&(0,I.Gd)().addBreadcrumb({category:`ui.${Lt.name}`,message:zt},{event:Lt.event,name:Lt.name,global:Lt.global})}return Ae}function Ii(et){for(let Lt=0;Lt<et.args.length;Lt++)if(et.args[Lt]==="ref=Ref<"){et.args[Lt+1]="viewRef";break}const Ae={category:"console",data:{arguments:et.args,logger:"console"},level:On(et.level),message:(0,j.nK)(et.args," ")};if(et.level==="assert")if(et.args[0]===!1)Ae.message=`Assertion failed: ${(0,j.nK)(et.args.slice(1)," ")||"console.assert"}`,Ae.data.arguments=et.args.slice(1);else return;(0,I.Gd)().addBreadcrumb(Ae,{input:et.args,level:et.level})}function ci(et){if(et.endTimestamp){if(et.xhr.__sentry_own_request__)return;const{method:Ae,url:Lt,status_code:zt,body:Zt}=et.xhr.__sentry_xhr__||{};(0,I.Gd)().addBreadcrumb({category:"xhr",data:{method:Ae,url:Lt,status_code:zt},type:"http"},{xhr:et.xhr,input:Zt});return}}function oi(et){!et.endTimestamp||et.fetchData.url.match(/sentry_key/)&&et.fetchData.method==="POST"||(et.error?(0,I.Gd)().addBreadcrumb({category:"fetch",data:et.fetchData,level:"error",type:"http"},{data:et.error,input:et.args}):(0,I.Gd)().addBreadcrumb({category:"fetch",data:io(li({},et.fetchData),{status_code:et.response.status}),type:"http"},{input:et.args,response:et.response}))}function wi(et){let Ae=et.from,Lt=et.to;const zt=In(dn.location.href);let Zt=In(Ae);const qt=In(Lt);Zt.path||(Zt=zt),zt.protocol===qt.protocol&&zt.host===qt.host&&(Lt=qt.relative),zt.protocol===Zt.protocol&&zt.host===Zt.host&&(Ae=Zt.relative),(0,I.Gd)().addBreadcrumb({category:"navigation",data:{from:Ae,to:Lt}})}class Li extends je{constructor(Ae){Ae._metadata=Ae._metadata||{},Ae._metadata.sdk=Ae._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:yt.J}],version:yt.J},super(Ae),Ae.sendClientReports&&dn.document&&dn.document.addEventListener("visibilitychange",()=>{dn.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(Ae,Lt){return kt(this._options.stackParser,Ae,Lt,this._options.attachStacktrace)}eventFromMessage(Ae,Lt="info",zt){return wt(this._options.stackParser,Ae,Lt,zt,this._options.attachStacktrace)}sendEvent(Ae,Lt){const zt=this.getIntegrationById(Jn);(0,He.x)([zt,"optionalAccess",Zt=>Zt.addSentryBreadcrumb,"optionalCall",Zt=>Zt(Ae)]),super.sendEvent(Ae,Lt)}_prepareEvent(Ae,Lt,zt){return Ae.platform=Ae.platform||"javascript",super._prepareEvent(Ae,Lt,zt)}_flushOutcomes(){const Ae=this._clearOutcomes();if(Ae.length===0){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.log("No outcomes to send");return}if(!this._dsn){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.log("No dsn provided, will not send outcomes");return}(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.log("Sending outcomes:",Ae);const Lt=me(this._dsn,this._options),zt=ye(Ae,this._options.tunnel&&le(this._dsn));try{Object.prototype.toString.call(dn&&dn.navigator)==="[object Navigator]"&&typeof dn.navigator.sendBeacon=="function"&&!this._options.transportOptions?dn.navigator.sendBeacon.bind(dn.navigator)(Lt,Se(zt)):this._sendEnvelope(zt)}catch(Zt){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error(Zt)}}}const kn="?",vi=10,Si=20,Ye=30,Tt=40,nn=50;function hn(et,Ae,Lt,zt){const Zt={filename:et,function:Ae,in_app:!0};return Lt!==void 0&&(Zt.lineno=Lt),zt!==void 0&&(Zt.colno=zt),Zt}const Vn=/^\s*at (?:(.*\).*?|.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,Hn=/\((\S*)(?::(\d+))(?::(\d+))\)/,qi=[Ye,et=>{const Ae=Vn.exec(et);if(Ae){if(Ae[2]&&Ae[2].indexOf("eval")===0){const qt=Hn.exec(Ae[2]);qt&&(Ae[2]=qt[1],Ae[3]=qt[2],Ae[4]=qt[3])}const[zt,Zt]=Us(Ae[1]||kn,Ae[2]);return hn(Zt,zt,Ae[3]?+Ae[3]:void 0,Ae[4]?+Ae[4]:void 0)}}],ri=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|safari-extension|safari-web-extension|capacitor)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ms=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,_s=[nn,et=>{const Ae=ri.exec(et);if(Ae){if(Ae[3]&&Ae[3].indexOf(" > eval")>-1){const qt=ms.exec(Ae[3]);qt&&(Ae[1]=Ae[1]||"eval",Ae[3]=qt[1],Ae[4]=qt[2],Ae[5]="")}let zt=Ae[3],Zt=Ae[1]||kn;return[Zt,zt]=Us(Zt,zt),hn(zt,Zt,Ae[4]?+Ae[4]:void 0,Ae[5]?+Ae[5]:void 0)}}],bi=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,Ei=[Tt,et=>{const Ae=bi.exec(et);return Ae?hn(Ae[2],Ae[1]||kn,+Ae[3],Ae[4]?+Ae[4]:void 0):void 0}],Xi=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,Ks=[vi,et=>{const Ae=Xi.exec(et);return Ae?hn(Ae[2],Ae[3]||kn,+Ae[1]):void 0}],gi=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,Di=[Si,et=>{const Ae=gi.exec(et);return Ae?hn(Ae[5],Ae[3]||Ae[4]||kn,+Ae[1],+Ae[2]):void 0}],ws=[qi,_s,Ei],uo=(0,H.pE)(...ws),Us=(et,Ae)=>{const Lt=et.indexOf("safari-extension")!==-1,zt=et.indexOf("safari-web-extension")!==-1;return Lt||zt?[et.indexOf("@")!==-1?et.split("@")[0]:kn,Lt?`safari-extension:${Ae}`:`safari-web-extension:${Ae}`]:[et,Ae]},$s=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];class cs{static __initStatic(){this.id="TryCatch"}__init(){this.name=cs.id}constructor(Ae){cs.prototype.__init.call(this),this._options=li({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},Ae)}setupOnce(){this._options.setTimeout&&(0,b.hl)(dn,"setTimeout",on),this._options.setInterval&&(0,b.hl)(dn,"setInterval",on),this._options.requestAnimationFrame&&(0,b.hl)(dn,"requestAnimationFrame",ts),this._options.XMLHttpRequest&&"XMLHttpRequest"in dn&&(0,b.hl)(XMLHttpRequest.prototype,"send",Ro);const Ae=this._options.eventTarget;Ae&&(Array.isArray(Ae)?Ae:$s).forEach(zs)}}cs.__initStatic();function on(et){return function(...Ae){const Lt=Ae[0];return Ae[0]=Qt(Lt,{mechanism:{data:{function:(0,H.$P)(et)},handled:!0,type:"instrument"}}),et.apply(this,Ae)}}function ts(et){return function(Ae){return et.apply(this,[Qt(Ae,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,H.$P)(et)},handled:!0,type:"instrument"}})])}}function Ro(et){return function(...Ae){const Lt=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(Zt=>{Zt in Lt&&typeof Lt[Zt]=="function"&&(0,b.hl)(Lt,Zt,function(qt){const $n={mechanism:{data:{function:Zt,handler:(0,H.$P)(qt)},handled:!0,type:"instrument"}},xi=(0,b.HK)(qt);return xi&&($n.mechanism.data.handler=(0,H.$P)(xi)),Qt(qt,$n)})}),et.apply(this,Ae)}}function zs(et){const Ae=dn,Lt=Ae[et]&&Ae[et].prototype;!Lt||!Lt.hasOwnProperty||!Lt.hasOwnProperty("addEventListener")||((0,b.hl)(Lt,"addEventListener",function(zt){return function(Zt,qt,$n){try{typeof qt.handleEvent=="function"&&(qt.handleEvent=Qt(qt.handleEvent,{mechanism:{data:{function:"handleEvent",handler:(0,H.$P)(qt),target:et},handled:!0,type:"instrument"}}))}catch(xi){}return zt.apply(this,[Zt,Qt(qt,{mechanism:{data:{function:"addEventListener",handler:(0,H.$P)(qt),target:et},handled:!0,type:"instrument"}}),$n])}}),(0,b.hl)(Lt,"removeEventListener",function(zt){return function(Zt,qt,$n){const xi=qt;try{const Bi=xi&&xi.__sentry_wrapped__;Bi&&zt.call(this,Zt,Bi,$n)}catch(Bi){}return zt.call(this,Zt,xi,$n)}}))}class As{static __initStatic(){this.id="GlobalHandlers"}__init(){this.name=As.id}__init2(){this._installFunc={onerror:eo,onunhandledrejection:so}}constructor(Ae){As.prototype.__init.call(this),As.prototype.__init2.call(this),this._options=li({onerror:!0,onunhandledrejection:!0},Ae)}setupOnce(){Error.stackTraceLimit=50;const Ae=this._options;for(const Lt in Ae){const zt=this._installFunc[Lt];zt&&Ae[Lt]&&(as(Lt),zt(),this._installFunc[Lt]=void 0)}}}As.__initStatic();function eo(){(0,Ke.o)("error",et=>{const[Ae,Lt,zt]=Yi();if(!Ae.getIntegration(As))return;const{msg:Zt,url:qt,line:$n,column:xi,error:Bi}=et;if(Ce()||Bi&&Bi.__sentry_own_request__)return;const vs=Bi===void 0&&(0,ze.HD)(Zt)?Ho(Zt,qt,$n,xi):es(ln(Lt,Bi||Zt,void 0,zt,!1),qt,$n,xi);vs.level="error",xo(Ae,Bi,vs,"onerror")})}function so(){(0,Ke.o)("unhandledrejection",et=>{const[Ae,Lt,zt]=Yi();if(!Ae.getIntegration(As))return;let Zt=et;try{"reason"in et?Zt=et.reason:"detail"in et&&"reason"in et.detail&&(Zt=et.detail.reason)}catch($n){}if(Ce()||Zt&&Zt.__sentry_own_request__)return!0;const qt=(0,ze.pt)(Zt)?oo(Zt):ln(Lt,Zt,void 0,zt,!0);qt.level="error",xo(Ae,Zt,qt,"onunhandledrejection")})}function oo(et){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(et)}`}]}}}function Ho(et,Ae,Lt,zt){const Zt=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let qt=(0,ze.VW)(et)?et.message:et,$n="Error";const xi=qt.match(Zt);return xi&&($n=xi[1],qt=xi[2]),es({exception:{values:[{type:$n,value:qt}]}},Ae,Lt,zt)}function es(et,Ae,Lt,zt){const Zt=et.exception=et.exception||{},qt=Zt.values=Zt.values||[],$n=qt[0]=qt[0]||{},xi=$n.stacktrace=$n.stacktrace||{},Bi=xi.frames=xi.frames||[],vs=isNaN(parseInt(zt,10))?void 0:zt,ps=isNaN(parseInt(Lt,10))?void 0:Lt,hs=(0,ze.HD)(Ae)&&Ae.length>0?Ae:(0,en.l4)();return Bi.length===0&&Bi.push({colno:vs,filename:hs,function:"?",in_app:!0,lineno:ps}),et}function as(et){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.log(`Global Handler attached: ${et}`)}function xo(et,Ae,Lt,zt){(0,d.EG)(Lt,{handled:!1,type:zt}),et.captureEvent(Lt,{originalException:Ae})}function Yi(){const et=(0,I.Gd)(),Ae=et.getClient(),Lt=Ae&&Ae.getOptions()||{stackParser:()=>[],attachStacktrace:!1};return[et,Lt.stackParser,Lt.attachStacktrace]}const Ln="cause",hi=5;class si{static __initStatic(){this.id="LinkedErrors"}__init(){this.name=si.id}constructor(Ae={}){si.prototype.__init.call(this),this._key=Ae.key||Ln,this._limit=Ae.limit||hi}setupOnce(){const Ae=(0,I.Gd)().getClient();!Ae||(0,E.c)((Lt,zt)=>{const Zt=(0,I.Gd)().getIntegration(si);return Zt?ns(Ae.getOptions().stackParser,Zt._key,Zt._limit,Lt,zt):Lt})}}si.__initStatic();function ns(et,Ae,Lt,zt,Zt){if(!zt.exception||!zt.exception.values||!Zt||!(0,ze.V9)(Zt.originalException,Error))return zt;const qt=Xs(et,Lt,Zt.originalException,Ae);return zt.exception.values=[...qt,...zt.exception.values],zt}function Xs(et,Ae,Lt,zt,Zt=[]){if(!(0,ze.V9)(Lt[zt],Error)||Zt.length+1>=Ae)return Zt;const qt=qe(et,Lt[zt]);return Xs(et,Ae,Lt[zt],zt,[qt,...Zt])}class ki{constructor(){ki.prototype.__init.call(this)}static __initStatic(){this.id="Dedupe"}__init(){this.name=ki.id}setupOnce(Ae,Lt){const zt=Zt=>{const qt=Lt().getIntegration(ki);if(qt){try{if(we(Zt,qt._previousEvent))return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn("Event dropped due to being a duplicate of previously captured event."),null}catch($n){return qt._previousEvent=Zt}return qt._previousEvent=Zt}return Zt};zt.id=this.name,Ae(zt)}}ki.__initStatic();function we(et,Ae){return Ae?!!(k(et,Ae)||F(et,Ae)):!1}function k(et,Ae){const Lt=et.message,zt=Ae.message;return!(!Lt&&!zt||Lt&&!zt||!Lt&&zt||Lt!==zt||!B(et,Ae)||!m(et,Ae))}function F(et,Ae){const Lt=ee(Ae),zt=ee(et);return!(!Lt||!zt||Lt.type!==zt.type||Lt.value!==zt.value||!B(et,Ae)||!m(et,Ae))}function m(et,Ae){let Lt=fe(et),zt=fe(Ae);if(!Lt&&!zt)return!0;if(Lt&&!zt||!Lt&&zt||(Lt=Lt,zt=zt,zt.length!==Lt.length))return!1;for(let Zt=0;Zt<zt.length;Zt++){const qt=zt[Zt],$n=Lt[Zt];if(qt.filename!==$n.filename||qt.lineno!==$n.lineno||qt.colno!==$n.colno||qt.function!==$n.function)return!1}return!0}function B(et,Ae){let Lt=et.fingerprint,zt=Ae.fingerprint;if(!Lt&&!zt)return!0;if(Lt&&!zt||!Lt&&zt)return!1;Lt=Lt,zt=zt;try{return Lt.join("")===zt.join("")}catch(Zt){return!1}}function ee(et){return et.exception&&et.exception.values&&et.exception.values[0]}function fe(et){const Ae=et.exception;if(Ae)try{return Ae.values[0].stacktrace.frames}catch(Lt){return}}class Ie{constructor(){Ie.prototype.__init.call(this)}static __initStatic(){this.id="HttpContext"}__init(){this.name=Ie.id}setupOnce(){(0,E.c)(Ae=>{if((0,I.Gd)().getIntegration(Ie)){if(!dn.navigator&&!dn.location&&!dn.document)return Ae;const Lt=Ae.request&&Ae.request.url||dn.location&&dn.location.href,{referrer:zt}=dn.document||{},{userAgent:Zt}=dn.navigator||{},qt=li(li(li({},Ae.request&&Ae.request.headers),zt&&{Referer:zt}),Zt&&{"User-Agent":Zt}),$n=io(li({},Lt&&{url:Lt}),{headers:qt});return io(li({},Ae),{request:$n})}return Ae})}}Ie.__initStatic();function Te(et){const Ae=[];function Lt(){return et===void 0||Ae.length<et}function zt($n){return Ae.splice(Ae.indexOf($n),1)[0]}function Zt($n){if(!Lt())return(0,Le.$2)(new te("Not adding Promise because buffer limit was reached."));const xi=$n();return Ae.indexOf(xi)===-1&&Ae.push(xi),xi.then(()=>zt(xi)).then(null,()=>zt(xi).then(null,()=>{})),xi}function qt($n){return new Le.cW((xi,Bi)=>{let vs=Ae.length;if(!vs)return xi(!0);const ps=setTimeout(()=>{$n&&$n>0&&xi(!1)},$n);Ae.forEach(hs=>{(0,Le.WD)(hs).then(()=>{--vs||(clearTimeout(ps),xi(!0))},Bi)})})}return{$:Ae,add:Zt,drain:qt}}const Je=60*1e3;function it(et,Ae=Date.now()){const Lt=parseInt(`${et}`,10);if(!isNaN(Lt))return Lt*1e3;const zt=Date.parse(`${et}`);return isNaN(zt)?Je:zt-Ae}function Ct(et,Ae){return et[Ae]||et.all||0}function It(et,Ae,Lt=Date.now()){return Ct(et,Ae)>Lt}function Ut(et,{statusCode:Ae,headers:Lt},zt=Date.now()){const Zt=li({},et),qt=Lt&&Lt["x-sentry-rate-limits"],$n=Lt&&Lt["retry-after"];if(qt)for(const xi of qt.trim().split(",")){const[Bi,vs]=xi.split(":",2),ps=parseInt(Bi,10),hs=(isNaN(ps)?60:ps)*1e3;if(!vs)Zt.all=zt+hs;else for(const qs of vs.split(";"))Zt[qs]=zt+hs}else $n?Zt.all=zt+it($n,zt):Ae===429&&(Zt.all=zt+60*1e3);return Zt}const sn=30;function tn(et,Ae,Lt=Te(et.bufferSize||sn)){let zt={};const Zt=$n=>Lt.drain($n);function qt($n){const xi=[];if(St($n,(hs,qs)=>{const Po=jt(qs);if(It(zt,Po)){const Fa=rn(hs,qs);et.recordDroppedEvent("ratelimit_backoff",Po,Fa)}else xi.push(hs)}),xi.length===0)return(0,Le.WD)();const Bi=Vt($n[0],xi),vs=hs=>{St(Bi,(qs,Po)=>{const Fa=rn(qs,Po);et.recordDroppedEvent(hs,jt(Po),Fa)})},ps=()=>Ae({body:Se(Bi,et.textEncoder)}).then(hs=>{hs.statusCode!==void 0&&(hs.statusCode<200||hs.statusCode>=300)&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn(`Sentry responded with status code ${hs.statusCode} to sent event.`),zt=Ut(zt,hs)},hs=>{(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error("Failed while sending event:",hs),vs("network_error")});return Lt.add(ps).then(hs=>hs,hs=>{if(hs instanceof te)return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error("Skipped sending event because buffer is full."),vs("queue_overflow"),(0,Le.WD)();throw hs})}return{send:qt,flush:Zt}}function rn(et,Ae){if(!(Ae!=="event"&&Ae!=="transaction"))return Array.isArray(et)?et[1]:void 0}let En;function Fn(){if(En)return En;if((0,ut.Du)(dn.fetch))return En=dn.fetch.bind(dn);const et=dn.document;let Ae=dn.fetch;if(et&&typeof et.createElement=="function")try{const Lt=et.createElement("iframe");Lt.hidden=!0,et.head.appendChild(Lt);const zt=Lt.contentWindow;zt&&zt.fetch&&(Ae=zt.fetch),et.head.removeChild(Lt)}catch(Lt){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",Lt)}return En=Ae.bind(dn)}function Nn(){En=void 0}function ni(et,Ae=Fn()){function Lt(zt){const Zt=li({body:zt.body,method:"POST",referrerPolicy:"origin",headers:et.headers,keepalive:zt.body.length<=65536},et.fetchOptions);try{return Ae(et.url,Zt).then(qt=>({statusCode:qt.status,headers:{"x-sentry-rate-limits":qt.headers.get("X-Sentry-Rate-Limits"),"retry-after":qt.headers.get("Retry-After")}}))}catch(qt){return Nn(),(0,Le.$2)(qt)}}return tn(et,Lt)}const Ps=4;function no(et){function Ae(Lt){return new Le.cW((zt,Zt)=>{const qt=new XMLHttpRequest;qt.onerror=Zt,qt.onreadystatechange=()=>{qt.readyState===Ps&&zt({statusCode:qt.status,headers:{"x-sentry-rate-limits":qt.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":qt.getResponseHeader("Retry-After")}})},qt.open("POST",et.url);for(const $n in et.headers)Object.prototype.hasOwnProperty.call(et.headers,$n)&&qt.setRequestHeader($n,et.headers[$n]);qt.send(Lt.body)})}return tn(et,Ae)}const js=[new L,new N,new cs,new ai,new As,new si,new ki,new Ie];function Co(et={}){et.defaultIntegrations===void 0&&(et.defaultIntegrations=js),et.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(et.release=__SENTRY_RELEASE__),dn.SENTRY_RELEASE&&dn.SENTRY_RELEASE.id&&(et.release=dn.SENTRY_RELEASE.id)),et.autoSessionTracking===void 0&&(et.autoSessionTracking=!0),et.sendClientReports===void 0&&(et.sendClientReports=!0);const Ae=io(li({},et),{stackParser:(0,H.Sq)(et.stackParser||uo),integrations:M(et),transport:et.transport||((0,ut.Ak)()?ni:no)});Z(Li,Ae),et.autoSessionTracking&&Ys()}function Wi(et={},Ae=(0,I.Gd)()){if(!dn.document){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error("Global document not defined in showReportDialog call");return}const{client:Lt,scope:zt}=Ae.getStackTop(),Zt=et.dsn||Lt&&Lt.getDsn();if(!Zt){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error("DSN not configured for showReportDialog call");return}zt&&(et.user=li(li({},zt.getUser()),et.user)),et.eventId||(et.eventId=Ae.lastEventId());const qt=dn.document.createElement("script");qt.async=!0,qt.src=ke(Zt,et),et.onLoad&&(qt.onload=et.onLoad);const $n=dn.document.head||dn.document.body;$n?$n.appendChild(qt):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.error("Not injecting report dialog. No injection point found in HTML")}function Io(){return getCurrentHub().lastEventId()}function Rs(){}function bo(et){et()}function Ss(et){const Ae=getCurrentHub().getClient();return Ae?Ae.flush(et):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&logger.warn("Cannot flush events. No client defined."),resolvedSyncPromise(!1))}function Ao(et){const Ae=getCurrentHub().getClient();return Ae?Ae.close(et):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&logger.warn("Cannot flush events and disable SDK. No client defined."),resolvedSyncPromise(!1))}function wo(et){return wrap$1(et)()}function So(et){et.startSession({ignoreDuration:!0}),et.captureSession()}function Ys(){if(typeof dn.document=="undefined"){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}const et=(0,I.Gd)();!et.captureSession||(So(et),(0,Ke.o)("history",({from:Ae,to:Lt})=>{Ae===void 0||Ae===Lt||So((0,I.Gd)())}))}},51628:function(nt,xe,l){"use strict";l.d(xe,{$e:function(){return u},Tb:function(){return d},uT:function(){return j}});var C=l(55632);function d(b,D){return(0,C.Gd)().captureException(b,{captureContext:D})}function j(b,D){const N=typeof D=="string"?D:void 0,I=typeof D!="string"?{captureContext:D}:void 0;return(0,C.Gd)().captureMessage(b,N,I)}function W(b,D){return getCurrentHub().captureEvent(b,D)}function L(b){getCurrentHub().configureScope(b)}function z(b){getCurrentHub().addBreadcrumb(b)}function P(b,D){getCurrentHub().setContext(b,D)}function A(b){getCurrentHub().setExtras(b)}function T(b,D){getCurrentHub().setExtra(b,D)}function S(b){getCurrentHub().setTags(b)}function _(b,D){getCurrentHub().setTag(b,D)}function y(b){getCurrentHub().setUser(b)}function u(b){(0,C.Gd)().withScope(b)}function a(b,D){return getCurrentHub().startTransaction(li({},b),D)}},55632:function(nt,xe,l){"use strict";l.d(xe,{Gd:function(){return u},cu:function(){return _}});var C=l(60081),d=l(13632),j=l(94159),W=l(98755),L=l(47017),z=l(32625),P=l(43246);const A=4,T=100;class S{__init(){this._stack=[{}]}constructor(E,O=new z.s,R=A){this._version=R,S.prototype.__init.call(this),this.getStackTop().scope=O,E&&this.bindClient(E)}isOlderThan(E){return this._version<E}bindClient(E){const O=this.getStackTop();O.client=E,E&&E.setupIntegrations&&E.setupIntegrations()}pushScope(){const E=z.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:E}),E}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(E){const O=this.pushScope();try{E(O)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(E,O){const R=this._lastEventId=O&&O.event_id?O.event_id:(0,C.DM)(),M=new Error("Sentry syntheticException");return this._withClient((K,Z)=>{K.captureException(E,io(li({originalException:E,syntheticException:M},O),{event_id:R}),Z)}),R}captureMessage(E,O,R){const M=this._lastEventId=R&&R.event_id?R.event_id:(0,C.DM)(),K=new Error(E);return this._withClient((Z,te)=>{Z.captureMessage(E,O,io(li({originalException:E,syntheticException:K},R),{event_id:M}),te)}),M}captureEvent(E,O){const R=O&&O.event_id?O.event_id:(0,C.DM)();return E.type!=="transaction"&&(this._lastEventId=R),this._withClient((M,K)=>{M.captureEvent(E,io(li({},O),{event_id:R}),K)}),R}lastEventId(){return this._lastEventId}addBreadcrumb(E,O){const{scope:R,client:M}=this.getStackTop();if(!R||!M)return;const{beforeBreadcrumb:K=null,maxBreadcrumbs:Z=T}=M.getOptions&&M.getOptions()||{};if(Z<=0)return;const te=(0,d.yW)(),de=li({timestamp:te},E),ge=K?(0,j.Cf)(()=>K(de,O)):de;ge!==null&&R.addBreadcrumb(ge,Z)}setUser(E){const O=this.getScope();O&&O.setUser(E)}setTags(E){const O=this.getScope();O&&O.setTags(E)}setExtras(E){const O=this.getScope();O&&O.setExtras(E)}setTag(E,O){const R=this.getScope();R&&R.setTag(E,O)}setExtra(E,O){const R=this.getScope();R&&R.setExtra(E,O)}setContext(E,O){const R=this.getScope();R&&R.setContext(E,O)}configureScope(E){const{scope:O,client:R}=this.getStackTop();O&&R&&E(O)}run(E){const O=y(this);try{E(this)}finally{y(O)}}getIntegration(E){const O=this.getClient();if(!O)return null;try{return O.getIntegration(E)}catch(R){return(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&j.kg.warn(`Cannot retrieve integration ${E.id} from the current Hub`),null}}startTransaction(E,O){return this._callExtensionMethod("startTransaction",E,O)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(E=!1){if(E)return this.endSession();this._sendSessionUpdate()}endSession(){const E=this.getStackTop(),O=E&&E.scope,R=O&&O.getSession();R&&(0,P.RJ)(R),this._sendSessionUpdate(),O&&O.setSession()}startSession(E){const{scope:O,client:R}=this.getStackTop(),{release:M,environment:K}=R&&R.getOptions()||{},{userAgent:Z}=W.n2.navigator||{},te=(0,P.Hv)(li(li(li({release:M,environment:K},O&&{user:O.getUser()}),Z&&{userAgent:Z}),E));if(O){const de=O.getSession&&O.getSession();de&&de.status==="ok"&&(0,P.CT)(de,{status:"exited"}),this.endSession(),O.setSession(te)}return te}shouldSendDefaultPii(){const E=this.getClient(),O=E&&E.getOptions();return Boolean(O&&O.sendDefaultPii)}_sendSessionUpdate(){const{scope:E,client:O}=this.getStackTop();if(!E)return;const R=E.getSession();R&&O&&O.captureSession&&O.captureSession(R)}_withClient(E){const{scope:O,client:R}=this.getStackTop();R&&E(R,O)}_callExtensionMethod(E,...O){const M=_().__SENTRY__;if(M&&M.extensions&&typeof M.extensions[E]=="function")return M.extensions[E].apply(this,O);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&j.kg.warn(`Extension method ${E} couldn't be found, doing nothing.`)}}function _(){return W.n2.__SENTRY__=W.n2.__SENTRY__||{extensions:{},hub:void 0},W.n2}function y(I){const E=_(),O=D(E);return N(E,I),O}function u(){const I=_();return(!b(I)||D(I).isOlderThan(A))&&N(I,new S),(0,L.KV)()?a(I):D(I)}function a(I){try{const E=_().__SENTRY__,O=E&&E.extensions&&E.extensions.domain&&E.extensions.domain.active;if(!O)return D(I);if(!b(O)||D(O).isOlderThan(A)){const R=D(I).getStackTop();N(O,new S(R.client,z.s.clone(R.scope)))}return D(O)}catch(E){return D(I)}}function b(I){return!!(I&&I.__SENTRY__&&I.__SENTRY__.hub)}function D(I){return(0,W.YO)("hub",()=>new S,I)}function N(I,E){if(!I)return!1;const O=I.__SENTRY__=I.__SENTRY__||{};return O.hub=E,!0}},32625:function(nt,xe,l){"use strict";l.d(xe,{c:function(){return _},s:function(){return T}});var C=l(34132),d=l(13632),j=l(40751),W=l(94159),L=l(60081),z=l(98755),P=l(43246);const A=100;class T{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(u){const a=new T;return u&&(a._breadcrumbs=[...u._breadcrumbs],a._tags=li({},u._tags),a._extra=li({},u._extra),a._contexts=li({},u._contexts),a._user=u._user,a._level=u._level,a._span=u._span,a._session=u._session,a._transactionName=u._transactionName,a._fingerprint=u._fingerprint,a._eventProcessors=[...u._eventProcessors],a._requestSession=u._requestSession,a._attachments=[...u._attachments],a._sdkProcessingMetadata=li({},u._sdkProcessingMetadata)),a}addScopeListener(u){this._scopeListeners.push(u)}addEventProcessor(u){return this._eventProcessors.push(u),this}setUser(u){return this._user=u||{},this._session&&(0,P.CT)(this._session,{user:u}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(u){return this._requestSession=u,this}setTags(u){return this._tags=li(li({},this._tags),u),this._notifyScopeListeners(),this}setTag(u,a){return this._tags=io(li({},this._tags),{[u]:a}),this._notifyScopeListeners(),this}setExtras(u){return this._extra=li(li({},this._extra),u),this._notifyScopeListeners(),this}setExtra(u,a){return this._extra=io(li({},this._extra),{[u]:a}),this._notifyScopeListeners(),this}setFingerprint(u){return this._fingerprint=u,this._notifyScopeListeners(),this}setLevel(u){return this._level=u,this._notifyScopeListeners(),this}setTransactionName(u){return this._transactionName=u,this._notifyScopeListeners(),this}setContext(u,a){return a===null?delete this._contexts[u]:this._contexts[u]=a,this._notifyScopeListeners(),this}setSpan(u){return this._span=u,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const u=this.getSpan();return u&&u.transaction}setSession(u){return u?this._session=u:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(u){if(!u)return this;if(typeof u=="function"){const a=u(this);return a instanceof T?a:this}return u instanceof T?(this._tags=li(li({},this._tags),u._tags),this._extra=li(li({},this._extra),u._extra),this._contexts=li(li({},this._contexts),u._contexts),u._user&&Object.keys(u._user).length&&(this._user=u._user),u._level&&(this._level=u._level),u._fingerprint&&(this._fingerprint=u._fingerprint),u._requestSession&&(this._requestSession=u._requestSession)):(0,C.PO)(u)&&(u=u,this._tags=li(li({},this._tags),u.tags),this._extra=li(li({},this._extra),u.extra),this._contexts=li(li({},this._contexts),u.contexts),u.user&&(this._user=u.user),u.level&&(this._level=u.level),u.fingerprint&&(this._fingerprint=u.fingerprint),u.requestSession&&(this._requestSession=u.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(u,a){const b=typeof a=="number"?a:A;if(b<=0)return this;const D=li({timestamp:(0,d.yW)()},u);return this._breadcrumbs=[...this._breadcrumbs,D].slice(-b),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(u){return this._attachments.push(u),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(u,a={}){if(this._extra&&Object.keys(this._extra).length&&(u.extra=li(li({},this._extra),u.extra)),this._tags&&Object.keys(this._tags).length&&(u.tags=li(li({},this._tags),u.tags)),this._user&&Object.keys(this._user).length&&(u.user=li(li({},this._user),u.user)),this._contexts&&Object.keys(this._contexts).length&&(u.contexts=li(li({},this._contexts),u.contexts)),this._level&&(u.level=this._level),this._transactionName&&(u.transaction=this._transactionName),this._span){u.contexts=li({trace:this._span.getTraceContext()},u.contexts);const b=this._span.transaction&&this._span.transaction.name;b&&(u.tags=li({transaction:b},u.tags))}return this._applyFingerprint(u),u.breadcrumbs=[...u.breadcrumbs||[],...this._breadcrumbs],u.breadcrumbs=u.breadcrumbs.length>0?u.breadcrumbs:void 0,u.sdkProcessingMetadata=li(li({},u.sdkProcessingMetadata),this._sdkProcessingMetadata),this._notifyEventProcessors([...S(),...this._eventProcessors],u,a)}setSDKProcessingMetadata(u){return this._sdkProcessingMetadata=li(li({},this._sdkProcessingMetadata),u),this}_notifyEventProcessors(u,a,b,D=0){return new j.cW((N,I)=>{const E=u[D];if(a===null||typeof E!="function")N(a);else{const O=E(li({},a),b);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&E.id&&O===null&&W.kg.log(`Event processor "${E.id}" dropped event`),(0,C.J8)(O)?O.then(R=>this._notifyEventProcessors(u,R,b,D+1).then(N)).then(null,I):this._notifyEventProcessors(u,O,b,D+1).then(N).then(null,I)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(u=>{u(this)}),this._notifyingListeners=!1)}_applyFingerprint(u){u.fingerprint=u.fingerprint?(0,L.lE)(u.fingerprint):[],this._fingerprint&&(u.fingerprint=u.fingerprint.concat(this._fingerprint)),u.fingerprint&&!u.fingerprint.length&&delete u.fingerprint}}function S(){return(0,z.YO)("globalEventProcessors",()=>[])}function _(y){S().push(y)}},43246:function(nt,xe,l){"use strict";l.d(xe,{CT:function(){return L},Hv:function(){return W},RJ:function(){return z}});var C=l(13632),d=l(60081),j=l(65410);function W(A){const T=(0,C.ph)(),S={sid:(0,d.DM)(),init:!0,timestamp:T,started:T,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>P(S)};return A&&L(S,A),S}function L(A,T={}){if(T.user&&(!A.ipAddress&&T.user.ip_address&&(A.ipAddress=T.user.ip_address),!A.did&&!T.did&&(A.did=T.user.id||T.user.email||T.user.username)),A.timestamp=T.timestamp||(0,C.ph)(),T.ignoreDuration&&(A.ignoreDuration=T.ignoreDuration),T.sid&&(A.sid=T.sid.length===32?T.sid:(0,d.DM)()),T.init!==void 0&&(A.init=T.init),!A.did&&T.did&&(A.did=`${T.did}`),typeof T.started=="number"&&(A.started=T.started),A.ignoreDuration)A.duration=void 0;else if(typeof T.duration=="number")A.duration=T.duration;else{const S=A.timestamp-A.started;A.duration=S>=0?S:0}T.release&&(A.release=T.release),T.environment&&(A.environment=T.environment),!A.ipAddress&&T.ipAddress&&(A.ipAddress=T.ipAddress),!A.userAgent&&T.userAgent&&(A.userAgent=T.userAgent),typeof T.errors=="number"&&(A.errors=T.errors),T.status&&(A.status=T.status)}function z(A,T){let S={};T?S={status:T}:A.status==="ok"&&(S={status:"exited"}),L(A,S)}function P(A){return(0,j.Jr)({sid:`${A.sid}`,init:A.init,started:new Date(A.started*1e3).toISOString(),timestamp:new Date(A.timestamp*1e3).toISOString(),status:A.status,errors:A.errors,did:typeof A.did=="number"||typeof A.did=="string"?`${A.did}`:void 0,duration:A.duration,attrs:{release:A.release,environment:A.environment,ip_address:A.ipAddress,user_agent:A.userAgent}})}},79711:function(nt,xe,l){"use strict";l.d(xe,{J:function(){return C}});const C="7.28.1"},80233:function(nt,xe,l){"use strict";l.d(xe,{SV:function(){return u}});var C=l(51628),d=l(23840),j=l(34132),W=l(94159),L=l(72535),z=l.n(L),P=l(63313),A=l.n(P);const T="/home/runner/work/sentry-javascript/sentry-javascript/packages/react/src/errorboundary.tsx";function S(b){const D=b.match(/^([^.]+)/);return D!==null&&parseInt(D[0])>=17}const _="unknown",y={componentStack:null,error:null,eventId:null};class u extends P.Component{constructor(...D){super(...D),u.prototype.__init.call(this),u.prototype.__init2.call(this)}__init(){this.state=y}componentDidCatch(D,{componentStack:N}){const{beforeCapture:I,onError:E,showDialog:O,dialogOptions:R}=this.props;(0,C.$e)(M=>{if(S(P.version)&&(0,j.VZ)(D)){const Z=new Error(D.message);Z.name=`React ErrorBoundary ${Z.name}`,Z.stack=N,D.cause=Z}I&&I(M,D,N);const K=(0,C.Tb)(D,{contexts:{react:{componentStack:N}}});E&&E(D,N,K),O&&(0,d.jp)(io(li({},R),{eventId:K})),this.setState({error:D,componentStack:N,eventId:K})})}componentDidMount(){const{onMount:D}=this.props;D&&D()}componentWillUnmount(){const{error:D,componentStack:N,eventId:I}=this.state,{onUnmount:E}=this.props;E&&E(D,N,I)}__init2(){this.resetErrorBoundary=()=>{const{onReset:D}=this.props,{error:N,componentStack:I,eventId:E}=this.state;D&&D(N,I,E),this.setState(y)}}render(){const{fallback:D,children:N}=this.props,{error:I,componentStack:E,eventId:O}=this.state;if(I){let R;return typeof D=="function"?R=D({error:I,componentStack:E,resetError:this.resetErrorBoundary,eventId:O}):R=D,P.isValidElement(R)?R:(D&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&W.kg.warn("fallback did not produce a valid ReactElement"),null)}return typeof N=="function"?N():N}}function a(b,D){const N=b.displayName||b.name||_,I=E=>React.createElement(u,io(li({},D),{__self:this,__source:{fileName:T,lineNumber:173}}),React.createElement(b,io(li({},E),{__self:this,__source:{fileName:T,lineNumber:174}})));return I.displayName=`errorBoundary(${N})`,hoistNonReactStatics(I,b),I}},72842:function(nt,xe,l){"use strict";l.d(xe,{S:function(){return j}});var C=l(79711),d=l(23840);function j(W){W._metadata=W._metadata||{},W._metadata.sdk=W._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:C.J}],version:C.J},(0,d.S1)(W)}},83738:function(nt,xe,l){"use strict";l.d(xe,{ro:function(){return I},lb:function(){return b}});var C=l(55632),d=l(94159),j=l(34132),W=l(47017),L=l(41961),z=l(75399);function P(){(0,L.o)("error",A),(0,L.o)("unhandledrejection",A)}function A(){const E=(0,z.x1)();if(E){const O="internal_error";(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] Transaction: ${O} -> Global error occured`),E.setStatus(O)}}var T=l(37277),S=l(33498);nt=l.hmd(nt);function _(){const E=this.getScope();if(E){const O=E.getSpan();if(O)return{"sentry-trace":O.toTraceparent()}}return{}}function y(E,O,R){if(!(0,z.zu)(O))return E.sampled=!1,E;if(E.sampled!==void 0)return E.setMetadata({sampleRate:Number(E.sampled)}),E;let M;return typeof O.tracesSampler=="function"?(M=O.tracesSampler(R),E.setMetadata({sampleRate:Number(M)})):R.parentSampled!==void 0?M=R.parentSampled:(M=O.tracesSampleRate,E.setMetadata({sampleRate:Number(M)})),u(M)?M?(E.sampled=Math.random()<M,E.sampled?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] starting ${E.op} transaction - ${E.name}`),E):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(M)})`),E)):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] Discarding transaction because ${typeof O.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),E.sampled=!1,E):((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.warn("[Tracing] Discarding transaction because of invalid sample rate."),E.sampled=!1,E)}function u(E){return(0,j.i2)(E)||!(typeof E=="number"||typeof E=="boolean")?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(E)} of type ${JSON.stringify(typeof E)}.`),!1):E<0||E>1?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${E}.`),!1):!0}function a(E,O){const R=this.getClient(),M=R&&R.getOptions()||{},K=M.instrumenter||"sentry",Z=E.instrumenter||"sentry";K!==Z&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.error(`A transaction was started with instrumenter=\`${Z}\`, but the SDK is configured with the \`${K}\` instrumenter.
The transaction will not be sampled. Please use the ${K} instrumentation to start transactions.`),E.sampled=!1);let te=new S.Y(E,this);return te=y(te,M,li({parentSampled:E.parentSampled,transactionContext:E},O)),te.sampled&&te.initSpanRecorder(M._experiments&&M._experiments.maxSpans),te}function b(E,O,R,M,K,Z,te){const de=E.getClient(),ge=de&&de.getOptions()||{};let le=new T.io(O,E,R,M,te,K);return le=y(le,ge,li({parentSampled:O.parentSampled,transactionContext:O},Z)),le.sampled&&le.initSpanRecorder(ge._experiments&&ge._experiments.maxSpans),le}function D(){const E=(0,C.cu)();!E.__SENTRY__||(E.__SENTRY__.extensions=E.__SENTRY__.extensions||{},E.__SENTRY__.extensions.startTransaction||(E.__SENTRY__.extensions.startTransaction=a),E.__SENTRY__.extensions.traceHeaders||(E.__SENTRY__.extensions.traceHeaders=_))}function N(){const E=(0,C.cu)();if(!E.__SENTRY__)return;const O={mongodb(){const M=(0,W.l$)(nt,"./integrations/node/mongo");return new M.Mongo},mongoose(){const M=(0,W.l$)(nt,"./integrations/node/mongo");return new M.Mongo({mongoose:!0})},mysql(){const M=(0,W.l$)(nt,"./integrations/node/mysql");return new M.Mysql},pg(){const M=(0,W.l$)(nt,"./integrations/node/postgres");return new M.Postgres}},R=Object.keys(O).filter(M=>!!(0,W.$y)(M)).map(M=>{try{return O[M]()}catch(K){return}}).filter(M=>M);R.length>0&&(E.__SENTRY__.integrations=[...E.__SENTRY__.integrations||[],...R])}function I(){D(),(0,W.KV)()&&N(),P()}},37277:function(nt,xe,l){"use strict";l.d(xe,{hd:function(){return P},io:function(){return T},mg:function(){return z},nT:function(){return L}});var C=l(13632),d=l(94159),j=l(64105),W=l(33498);const L=1e3,z=3e4,P=5e3;class A extends j.gB{constructor(y,u,a,b){super(b),this._pushActivity=y,this._popActivity=u,this.transactionSpanId=a}add(y){y.spanId!==this.transactionSpanId&&(y.finish=u=>{y.endTimestamp=typeof u=="number"?u:(0,C._I)(),this._popActivity(y.spanId)},y.endTimestamp===void 0&&this._pushActivity(y.spanId)),super.add(y)}}class T extends W.Y{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._beforeFinishCallbacks=[]}constructor(y,u,a=L,b=z,D=P,N=!1){super(y,u),this._idleHub=u,this._idleTimeout=a,this._finalTimeout=b,this._heartbeatInterval=D,this._onScope=N,T.prototype.__init.call(this),T.prototype.__init2.call(this),T.prototype.__init3.call(this),T.prototype.__init4.call(this),N&&(S(u),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),u.configureScope(I=>I.setSpan(this))),this._startIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this.finish())},this._finalTimeout)}finish(y=(0,C._I)()){if(this._finished=!0,this.activities={},this.spanRecorder){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] finishing IdleTransaction",new Date(y*1e3).toISOString(),this.op);for(const u of this._beforeFinishCallbacks)u(this,y);this.spanRecorder.spans=this.spanRecorder.spans.filter(u=>{if(u.spanId===this.spanId)return!0;u.endTimestamp||(u.endTimestamp=y,u.setStatus("cancelled"),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(u,void 0,2)));const a=u.startTimestamp<y;return a||(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(u,void 0,2)),a}),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] No active IdleTransaction");return this._onScope&&S(this._idleHub),super.finish(y)}registerBeforeFinishCallback(y){this._beforeFinishCallbacks.push(y)}initSpanRecorder(y){if(!this.spanRecorder){const u=b=>{this._finished||this._pushActivity(b)},a=b=>{this._finished||this._popActivity(b)};this.spanRecorder=new A(u,a,this.spanId,y),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}_cancelIdleTimeout(){this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0)}_startIdleTimeout(y){this._cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&this.finish(y)},this._idleTimeout)}_pushActivity(y){this._cancelIdleTimeout(),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] pushActivity: ${y}`),this.activities[y]=!0,(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(y){if(this.activities[y]&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log(`[Tracing] popActivity ${y}`),delete this.activities[y],(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){const u=(0,C._I)()+this._idleTimeout/1e3;this._startIdleTimeout(u)}}_beat(){if(this._finished)return;const y=Object.keys(this.activities).join("");y===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=y,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}}function S(_){const y=_.getScope();y&&y.getTransaction()&&y.setSpan(void 0)}},57333:function(nt,xe,l){"use strict";l.d(xe,{jK:function(){return C}});var C={};l.r(C),l.d(C,{gE:function(){return vt}});var d=l(83738),j=l(88367),W=l(33637),L=l(94159);const z=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function P(ht){const yt=ht.match(z);if(!ht||!yt)return;let ye;return yt[3]==="1"?ye=!0:yt[3]==="0"&&(ye=!1),{traceId:yt[1],parentSampled:ye,parentSpanId:yt[2]}}var A=l(34132);const T="baggage",S="sentry-",_=/^sentry-/,y=8192;function u(ht){if(!(0,A.HD)(ht)&&!Array.isArray(ht))return;let yt={};if(Array.isArray(ht))yt=ht.reduce((qe,Wt)=>{const Xt=b(Wt);return li(li({},qe),Xt)},{});else{if(!ht)return;yt=b(ht)}const ye=Object.entries(yt).reduce((qe,[Wt,Xt])=>{if(Wt.match(_)){const mn=Wt.slice(S.length);qe[mn]=Xt}return qe},{});if(Object.keys(ye).length>0)return ye}function a(ht){const yt=Object.entries(ht).reduce((ye,[qe,Wt])=>(Wt&&(ye[`${S}${qe}`]=Wt),ye),{});return D(yt)}function b(ht){return ht.split(",").map(yt=>yt.split("=").map(ye=>decodeURIComponent(ye.trim()))).reduce((yt,[ye,qe])=>(yt[ye]=qe,yt),{})}function D(ht){if(Object.keys(ht).length!==0)return Object.entries(ht).reduce((yt,[ye,qe],Wt)=>{const Xt=`${encodeURIComponent(ye)}=${encodeURIComponent(qe)}`,mn=Wt===0?Xt:`${yt},${Xt}`;return mn.length>y?((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.warn(`Not adding key: ${ye} with val: ${qe} to baggage header due to exceeding baggage size limits.`),yt):mn},"")}var N=l(8129),I=l(37277),E=l(75399),O=l(98755);const R=O.n2;function M(){R&&R.document?R.document.addEventListener("visibilitychange",()=>{const ht=(0,E.x1)();if(R.document.hidden&&ht){const yt="cancelled";(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.log(`[Tracing] Transaction: ${yt} -> since tab moved to the background, op: ${ht.op}`),ht.status||ht.setStatus(yt),ht.setTag("visibilitychange","document.hidden"),ht.finish()}}):(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.warn("[Tracing] Could not set up background tab detection due to lack of global document")}var K=l(13632);const Z=(ht,yt,ye)=>{let qe,Wt;return Xt=>{yt.value>=0&&(Xt||ye)&&(Wt=yt.value-(qe||0),(Wt||qe===void 0)&&(qe=yt.value,yt.delta=Wt,ht(yt)))}},te=()=>`v3-${Date.now()}-${Math.floor(Math.random()*(9e12-1))+1e12}`,de=()=>{const ht=R.performance.timing,yt=R.performance.navigation.type,ye={entryType:"navigation",startTime:0,type:yt==2?"back_forward":yt===1?"reload":"navigate"};for(const qe in ht)qe!=="navigationStart"&&qe!=="toJSON"&&(ye[qe]=Math.max(ht[qe]-ht.navigationStart,0));return ye},ge=()=>R.__WEB_VITALS_POLYFILL__?R.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||de()):R.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0],le=()=>{const ht=ge();return ht&&ht.activationStart||0},se=(ht,yt)=>{const ye=ge();let qe="navigate";return ye&&(R.document.prerendering||le()>0?qe="prerender":qe=ye.type.replace(/_/g,"-")),{name:ht,value:typeof yt=="undefined"?-1:yt,rating:"good",delta:0,entries:[],id:te(),navigationType:qe}},X=(ht,yt,ye)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(ht)){const qe=new PerformanceObserver(Wt=>{yt(Wt.getEntries())});return qe.observe(Object.assign({type:ht,buffered:!0},ye||{})),qe}}catch(qe){}},re=(ht,yt)=>{const ye=qe=>{(qe.type==="pagehide"||R.document.visibilityState==="hidden")&&(ht(qe),yt&&(removeEventListener("visibilitychange",ye,!0),removeEventListener("pagehide",ye,!0)))};addEventListener("visibilitychange",ye,!0),addEventListener("pagehide",ye,!0)},ne=ht=>{const yt=se("CLS",0);let ye,qe=0,Wt=[];const Xt=bn=>{bn.forEach(ot=>{if(!ot.hadRecentInput){const Rt=Wt[0],kt=Wt[Wt.length-1];qe&&Wt.length!==0&&ot.startTime-kt.startTime<1e3&&ot.startTime-Rt.startTime<5e3?(qe+=ot.value,Wt.push(ot)):(qe=ot.value,Wt=[ot]),qe>yt.value&&(yt.value=qe,yt.entries=Wt,ye&&ye())}})},mn=X("layout-shift",Xt);mn&&(ye=Z(ht,yt),re(()=>{Xt(mn.takeRecords()),ye(!0)}))};let U=-1;const oe=()=>R.document.visibilityState==="hidden"&&!R.document.prerendering?0:1/0,q=()=>{re(({timeStamp:ht})=>{U=ht},!0)},ae=()=>(U<0&&(U=oe(),q()),{get firstHiddenTime(){return U}}),me=ht=>{const yt=ae(),ye=se("FID");let qe;const Wt=bn=>{bn.startTime<yt.firstHiddenTime&&(ye.value=bn.processingStart-bn.startTime,ye.entries.push(bn),qe(!0))},Xt=bn=>{bn.forEach(Wt)},mn=X("first-input",Xt);qe=Z(ht,ye),mn&&re(()=>{Xt(mn.takeRecords()),mn.disconnect()},!0)},ke={},H=ht=>{const yt=ae(),ye=se("LCP");let qe;const Wt=mn=>{const bn=mn[mn.length-1];if(bn){const ot=Math.max(bn.startTime-le(),0);ot<yt.firstHiddenTime&&(ye.value=ot,ye.entries=[bn],qe())}},Xt=X("largest-contentful-paint",Wt);if(Xt){qe=Z(ht,ye);const mn=()=>{ke[ye.id]||(Wt(Xt.takeRecords()),Xt.disconnect(),ke[ye.id]=!0,qe(!0))};["keydown","click"].forEach(bn=>{addEventListener(bn,mn,{once:!0,capture:!0})}),re(mn,!0)}};function ut(ht){return typeof ht=="number"&&isFinite(ht)}function Ke(ht,qe){var Wt=qe,{startTimestamp:yt}=Wt,ye=G1(Wt,["startTimestamp"]);return yt&&ht.startTimestamp>yt&&(ht.startTimestamp=yt),ht.startChild(li({startTimestamp:yt},ye))}function He(){return R&&R.addEventListener&&R.performance}let ze=0,Le={},Ze,Ge;function Fe(){const ht=He();ht&&K.Z1&&(ht.mark&&R.performance.mark("sentry-tracing-init"),ft(),Ot(),Et())}function ct(){X("longtask",yt=>{for(const ye of yt){const qe=(0,E.x1)();if(!qe)return;const Wt=(0,E.XL)(K.Z1+ye.startTime),Xt=(0,E.XL)(ye.duration);qe.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:Wt,endTimestamp:Wt+Xt})}})}function ft(){ne(ht=>{const yt=ht.entries.pop();!yt||((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.log("[Measurements] Adding CLS"),Le.cls={value:ht.value,unit:""},Ge=yt)})}function Ot(){H(ht=>{const yt=ht.entries.pop();!yt||((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.log("[Measurements] Adding LCP"),Le.lcp={value:ht.value,unit:"millisecond"},Ze=yt)})}function Et(){me(ht=>{const yt=ht.entries.pop();if(!yt)return;const ye=(0,E.XL)(K.Z1),qe=(0,E.XL)(yt.startTime);(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.log("[Measurements] Adding FID"),Le.fid={value:ht.value,unit:"millisecond"},Le["mark.fid"]={value:ye+qe,unit:"second"}})}function Vt(ht){const yt=He();if(!yt||!R.performance.getEntries||!K.Z1)return;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.log("[Tracing] Adding & adjusting spans using Performance API");const ye=(0,E.XL)(K.Z1),qe=yt.getEntries();let Wt,Xt;if(qe.slice(ze).forEach(mn=>{const bn=(0,E.XL)(mn.startTime),ot=(0,E.XL)(mn.duration);if(!(ht.op==="navigation"&&ye+bn<ht.startTimestamp))switch(mn.entryType){case"navigation":{St(ht,mn,ye),Wt=ye+(0,E.XL)(mn.responseStart),Xt=ye+(0,E.XL)(mn.requestStart);break}case"mark":case"paint":case"measure":{We(ht,mn,bn,ot,ye);const Rt=ae(),kt=mn.startTime<Rt.firstHiddenTime;mn.name==="first-paint"&&kt&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.log("[Measurements] Adding FP"),Le.fp={value:mn.startTime,unit:"millisecond"}),mn.name==="first-contentful-paint"&&kt&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.log("[Measurements] Adding FCP"),Le.fcp={value:mn.startTime,unit:"millisecond"});break}case"resource":{const Rt=mn.name.replace(R.location.origin,"");Ee(ht,mn,Rt,bn,ot,ye);break}default:}}),ze=Math.max(qe.length-1,0),Be(ht),ht.op==="pageload"){typeof Wt=="number"&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.log("[Measurements] Adding TTFB"),Le.ttfb={value:(Wt-ht.startTimestamp)*1e3,unit:"millisecond"},typeof Xt=="number"&&Xt<=Wt&&(Le["ttfb.requestTime"]={value:(Wt-Xt)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(bn=>{if(!Le[bn]||ye>=ht.startTimestamp)return;const ot=Le[bn].value,Rt=ye+(0,E.XL)(ot),kt=Math.abs((Rt-ht.startTimestamp)*1e3),wt=kt-ot;(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.log(`[Measurements] Normalized ${bn} from ${ot} to ${kt} (${wt})`),Le[bn].value=kt});const mn=Le["mark.fid"];mn&&Le.fid&&(Ke(ht,{description:"first input delay",endTimestamp:mn.value+(0,E.XL)(Le.fid.value),op:"ui.action",startTimestamp:mn.value}),delete Le["mark.fid"]),"fcp"in Le||delete Le.cls,Object.keys(Le).forEach(bn=>{ht.setMeasurement(bn,Le[bn].value,Le[bn].unit)}),Xe(ht)}Ze=void 0,Ge=void 0,Le={}}function We(ht,yt,ye,qe,Wt){const Xt=Wt+ye,mn=Xt+qe;return Ke(ht,{description:yt.name,endTimestamp:mn,op:yt.entryType,startTimestamp:Xt}),Xt}function St(ht,yt,ye){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(qe=>{Re(ht,yt,qe,ye)}),Re(ht,yt,"secureConnection",ye,"TLS/SSL","connectEnd"),Re(ht,yt,"fetch",ye,"cache","domainLookupStart"),Re(ht,yt,"domainLookup",ye,"DNS"),Se(ht,yt,ye)}function Re(ht,yt,ye,qe,Wt,Xt){const mn=Xt?yt[Xt]:yt[`${ye}End`],bn=yt[`${ye}Start`];!bn||!mn||Ke(ht,{op:"browser",description:(0,W.h)(Wt,()=>ye),startTimestamp:qe+(0,E.XL)(bn),endTimestamp:qe+(0,E.XL)(mn)})}function Se(ht,yt,ye){Ke(ht,{op:"browser",description:"request",startTimestamp:ye+(0,E.XL)(yt.requestStart),endTimestamp:ye+(0,E.XL)(yt.responseEnd)}),Ke(ht,{op:"browser",description:"response",startTimestamp:ye+(0,E.XL)(yt.responseStart),endTimestamp:ye+(0,E.XL)(yt.responseEnd)})}function Ee(ht,yt,ye,qe,Wt,Xt){if(yt.initiatorType==="xmlhttprequest"||yt.initiatorType==="fetch")return;const mn={};"transferSize"in yt&&(mn["Transfer Size"]=yt.transferSize),"encodedBodySize"in yt&&(mn["Encoded Body Size"]=yt.encodedBodySize),"decodedBodySize"in yt&&(mn["Decoded Body Size"]=yt.decodedBodySize);const bn=Xt+qe,ot=bn+Wt;Ke(ht,{description:ye,endTimestamp:ot,op:yt.initiatorType?`resource.${yt.initiatorType}`:"resource.other",startTimestamp:bn,data:mn})}function Be(ht){const yt=R.navigator;if(!yt)return;const ye=yt.connection;ye&&(ye.effectiveType&&ht.setTag("effectiveConnectionType",ye.effectiveType),ye.type&&ht.setTag("connectionType",ye.type),ut(ye.rtt)&&(Le["connection.rtt"]={value:ye.rtt,unit:"millisecond"})),ut(yt.deviceMemory)&&ht.setTag("deviceMemory",`${yt.deviceMemory} GB`),ut(yt.hardwareConcurrency)&&ht.setTag("hardwareConcurrency",String(yt.hardwareConcurrency))}function Xe(ht){Ze&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.log("[Measurements] Adding LCP Data"),Ze.element&&ht.setTag("lcp.element",(0,N.Rt)(Ze.element)),Ze.id&&ht.setTag("lcp.id",Ze.id),Ze.url&&ht.setTag("lcp.url",Ze.url.trim().slice(0,200)),ht.setTag("lcp.size",Ze.size)),Ge&&Ge.sources&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.log("[Measurements] Adding CLS Data"),Ge.sources.forEach((yt,ye)=>ht.setTag(`cls.source.${ye+1}`,(0,N.Rt)(yt.node))))}var Pt=l(41961),jt=l(37534);const pn=["localhost",/^\//],at={traceFetch:!0,traceXHR:!0,tracingOrigins:pn,tracePropagationTargets:pn};function Mt(ht){const{traceFetch:yt,traceXHR:ye,tracePropagationTargets:qe,tracingOrigins:Wt,shouldCreateSpanForRequest:Xt}=li({traceFetch:at.traceFetch,traceXHR:at.traceXHR},ht),mn=typeof Xt=="function"?Xt:Rt=>!0,bn=Rt=>Gt(Rt,qe||Wt),ot={};yt&&(0,Pt.o)("fetch",Rt=>{_n(Rt,mn,bn,ot)}),ye&&(0,Pt.o)("xhr",Rt=>{Wn(Rt,mn,bn,ot)})}function Gt(ht,yt){return(0,jt.U0)(ht,yt||pn)}function _n(ht,yt,ye,qe){if(!(0,E.zu)()||!(ht.fetchData&&yt(ht.fetchData.url)))return;if(ht.endTimestamp){const Xt=ht.fetchData.__span;if(!Xt)return;const mn=qe[Xt];mn&&(ht.response?mn.setHttpStatus(ht.response.status):ht.error&&mn.setStatus("internal_error"),mn.finish(),delete qe[Xt]);return}const Wt=(0,E.x1)();if(Wt){const Xt=Wt.startChild({data:io(li({},ht.fetchData),{type:"fetch"}),description:`${ht.fetchData.method} ${ht.fetchData.url}`,op:"http.client"});ht.fetchData.__span=Xt.spanId,qe[Xt.spanId]=Xt;const mn=ht.args[0];ht.args[1]=ht.args[1]||{};const bn=ht.args[1];ye(ht.fetchData.url)&&(bn.headers=Rn(mn,Wt.getDynamicSamplingContext(),Xt,bn),Wt.metadata.propagations++)}}function Rn(ht,yt,ye,qe){const Wt=a(yt),Xt=ye.toTraceparent(),mn=typeof Request!="undefined"&&(0,A.V9)(ht,Request)?ht.headers:qe.headers;if(mn)if(typeof Headers!="undefined"&&(0,A.V9)(mn,Headers)){const bn=new Headers(mn);return bn.append("sentry-trace",Xt),Wt&&bn.append(T,Wt),bn}else if(Array.isArray(mn)){const bn=[...mn,["sentry-trace",Xt]];return Wt&&bn.push([T,Wt]),bn}else{const bn="baggage"in mn?mn.baggage:void 0,ot=[];return Array.isArray(bn)?ot.push(...bn):bn&&ot.push(bn),Wt&&ot.push(Wt),io(li({},mn),{"sentry-trace":Xt,baggage:ot.length>0?ot.join(","):void 0})}else return{"sentry-trace":Xt,baggage:Wt}}function Wn(ht,yt,ye,qe){if(!(0,E.zu)()||ht.xhr&&ht.xhr.__sentry_own_request__||!(ht.xhr&&ht.xhr.__sentry_xhr__&&yt(ht.xhr.__sentry_xhr__.url)))return;const Wt=ht.xhr.__sentry_xhr__;if(ht.endTimestamp){const mn=ht.xhr.__sentry_xhr_span_id__;if(!mn)return;const bn=qe[mn];bn&&(bn.setHttpStatus(Wt.status_code),bn.finish(),delete qe[mn]);return}const Xt=(0,E.x1)();if(Xt){const mn=Xt.startChild({data:io(li({},Wt.data),{type:"xhr",method:Wt.method,url:Wt.url}),description:`${Wt.method} ${Wt.url}`,op:"http.client"});if(ht.xhr.__sentry_xhr_span_id__=mn.spanId,qe[ht.xhr.__sentry_xhr_span_id__]=mn,ht.xhr.setRequestHeader&&ye(ht.xhr.__sentry_xhr__.url))try{ht.xhr.setRequestHeader("sentry-trace",mn.toTraceparent());const bn=Xt.getDynamicSamplingContext(),ot=a(bn);ot&&ht.xhr.setRequestHeader(T,ot),Xt.metadata.propagations++}catch(bn){}}}function wn(ht,yt=!0,ye=!0){if(!R||!R.location){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.warn("Could not initialize routing instrumentation due to invalid location");return}let qe=R.location.href,Wt;yt&&(Wt=ht({name:R.location.pathname,op:"pageload",metadata:{source:"url"}})),ye&&(0,Pt.o)("history",({to:Xt,from:mn})=>{if(mn===void 0&&qe&&qe.indexOf(Xt)!==-1){qe=void 0;return}mn!==Xt&&(qe=void 0,Wt&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.log(`[Tracing] Finishing current transaction with op: ${Wt.op}`),Wt.finish()),Wt=ht({name:R.location.pathname,op:"navigation",metadata:{source:"url"}}))})}const je="BrowserTracing",qn=li({idleTimeout:I.nT,finalTimeout:I.mg,heartbeatInterval:I.hd,markBackgroundTransactions:!0,routingInstrumentation:wn,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,_experiments:{enableLongTask:!0,enableInteractions:!1}},at);class vt{__init(){this.name=je}constructor(yt){vt.prototype.__init.call(this),this.options=li(li({},qn),yt),yt&&!yt.tracePropagationTargets&&yt.tracingOrigins&&(this.options.tracePropagationTargets=yt.tracingOrigins),Fe(),(0,j.x)([this,"access",ye=>ye.options,"access",ye=>ye._experiments,"optionalAccess",ye=>ye.enableLongTask])&&ct()}setupOnce(yt,ye){this._getCurrentHub=ye;const{routingInstrumentation:qe,startTransactionOnLocationChange:Wt,startTransactionOnPageLoad:Xt,markBackgroundTransactions:mn,traceFetch:bn,traceXHR:ot,tracePropagationTargets:Rt,shouldCreateSpanForRequest:kt,_experiments:wt}=this.options;qe(ln=>this._createRouteTransaction(ln),Xt,Wt),mn&&M(),(0,j.x)([wt,"optionalAccess",ln=>ln.enableInteractions])&&this._registerInteractionListener(),Mt({traceFetch:bn,traceXHR:ot,tracePropagationTargets:Rt,shouldCreateSpanForRequest:kt})}_createRouteTransaction(yt){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.warn(`[Tracing] Did not create ${yt.op} transaction because _getCurrentHub is invalid.`);return}const{beforeNavigate:ye,idleTimeout:qe,finalTimeout:Wt,heartbeatInterval:Xt}=this.options,mn=yt.op==="pageload",bn=mn?_e("sentry-trace"):null,ot=mn?_e("baggage"):null,Rt=bn?P(bn):void 0,kt=ot?u(ot):void 0,wt=io(li(li({},yt),Rt),{metadata:io(li({},yt.metadata),{dynamicSamplingContext:Rt&&!kt?{}:kt}),trimEnd:!0}),ln=typeof ye=="function"?ye(wt):wt,_t=ln===void 0?io(li({},wt),{sampled:!1}):ln;_t.metadata=_t.name!==wt.name?io(li({},_t.metadata),{source:"custom"}):_t.metadata,this._latestRouteName=_t.name,this._latestRouteSource=(0,j.x)([_t,"access",Ve=>Ve.metadata,"optionalAccess",Ve=>Ve.source]),_t.sampled===!1&&(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.log(`[Tracing] Will not send ${_t.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.log(`[Tracing] Starting ${_t.op} transaction on scope`);const di=this._getCurrentHub(),{location:Xn}=R,dn=(0,d.lb)(di,_t,qe,Wt,!0,{location:Xn},Xt);return dn.registerBeforeFinishCallback(Ve=>{Vt(Ve)}),dn}_registerInteractionListener(){let yt;const ye=()=>{const{idleTimeout:qe,finalTimeout:Wt,heartbeatInterval:Xt}=this.options,mn="ui.action.click";if(yt&&(yt.finish(),yt=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.warn(`[Tracing] Did not create ${mn} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&L.kg.warn(`[Tracing] Did not create ${mn} transaction because _latestRouteName is missing.`);return}const bn=this._getCurrentHub(),{location:ot}=R,Rt={name:this._latestRouteName,op:mn,trimEnd:!0,metadata:{source:(0,W.h)(this._latestRouteSource,()=>"url")}};yt=(0,d.lb)(bn,Rt,qe,Wt,!0,{location:ot},Xt)};["click"].forEach(qe=>{addEventListener(qe,ye,{once:!1,capture:!0})})}}function _e(ht){const yt=(0,N.qT)(`meta[name=${ht}]`);return yt?yt.getAttribute("content"):null}(typeof __SENTRY_TRACING__=="undefined"||__SENTRY_TRACING__)&&(0,d.ro)()},64105:function(nt,xe,l){"use strict";l.d(xe,{Dr:function(){return P},gB:function(){return z}});var C=l(33637),d=l(60081),j=l(13632),W=l(94159),L=l(65410);class z{__init(){this.spans=[]}constructor(S=1e3){z.prototype.__init.call(this),this._maxlen=S}add(S){this.spans.length>this._maxlen?S.spanRecorder=void 0:this.spans.push(S)}}class P{__init2(){this.traceId=(0,d.DM)()}__init3(){this.spanId=(0,d.DM)().substring(16)}__init4(){this.startTimestamp=(0,j._I)()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(S){if(P.prototype.__init2.call(this),P.prototype.__init3.call(this),P.prototype.__init4.call(this),P.prototype.__init5.call(this),P.prototype.__init6.call(this),P.prototype.__init7.call(this),!S)return this;S.traceId&&(this.traceId=S.traceId),S.spanId&&(this.spanId=S.spanId),S.parentSpanId&&(this.parentSpanId=S.parentSpanId),"sampled"in S&&(this.sampled=S.sampled),S.op&&(this.op=S.op),S.description&&(this.description=S.description),S.data&&(this.data=S.data),S.tags&&(this.tags=S.tags),S.status&&(this.status=S.status),S.startTimestamp&&(this.startTimestamp=S.startTimestamp),S.endTimestamp&&(this.endTimestamp=S.endTimestamp),S.instrumenter&&(this.instrumenter=S.instrumenter)}startChild(S){const _=new P(io(li({},S),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));if(_.spanRecorder=this.spanRecorder,_.spanRecorder&&_.spanRecorder.add(_),_.transaction=this.transaction,(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&_.transaction){const y=S&&S.op||"< unknown op >",u=_.transaction.name||"< unknown name >",a=_.transaction.spanId,b=`[Tracing] Starting '${y}' span on transaction '${u}' (${a}).`;_.transaction.metadata.spanMetadata[_.spanId]={logMessage:b},W.kg.log(b)}return _}setTag(S,_){return this.tags=io(li({},this.tags),{[S]:_}),this}setData(S,_){return this.data=io(li({},this.data),{[S]:_}),this}setStatus(S){return this.status=S,this}setHttpStatus(S){this.setTag("http.status_code",String(S));const _=A(S);return _!=="unknown_error"&&this.setStatus(_),this}isSuccess(){return this.status==="ok"}finish(S){if((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){const{logMessage:_}=this.transaction.metadata.spanMetadata[this.spanId];_&&W.kg.log(_.replace("Starting","Finishing"))}this.endTimestamp=typeof S=="number"?S:(0,j._I)()}toTraceparent(){let S="";return this.sampled!==void 0&&(S=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${S}`}toContext(){return(0,L.Jr)({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(S){return this.data=(0,C.h)(S.data,()=>({})),this.description=S.description,this.endTimestamp=S.endTimestamp,this.op=S.op,this.parentSpanId=S.parentSpanId,this.sampled=S.sampled,this.spanId=(0,C.h)(S.spanId,()=>this.spanId),this.startTimestamp=(0,C.h)(S.startTimestamp,()=>this.startTimestamp),this.status=S.status,this.tags=(0,C.h)(S.tags,()=>({})),this.traceId=(0,C.h)(S.traceId,()=>this.traceId),this}getTraceContext(){return(0,L.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return(0,L.Jr)({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}}function A(T){if(T<400&&T>=100)return"ok";if(T>=400&&T<500)switch(T){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(T>=500&&T<600)switch(T){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}},33498:function(nt,xe,l){"use strict";l.d(xe,{Y:function(){return P}});var C=l(33637),d=l(55632),j=l(13632),W=l(94159),L=l(65410),z=l(64105);class P extends z.Dr{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(T,S){super(T),P.prototype.__init.call(this),P.prototype.__init2.call(this),P.prototype.__init3.call(this),this._hub=S||(0,d.Gd)(),this._name=T.name||"",this.metadata=io(li({source:"custom"},T.metadata),{spanMetadata:{},changes:[],propagations:0}),this._trimEnd=T.trimEnd,this.transaction=this;const _=this.metadata.dynamicSamplingContext;_&&(this._frozenDynamicSamplingContext=li({},_))}get name(){return this._name}set name(T){this.setName(T)}setName(T,S="custom"){(T!==this.name||S!==this.metadata.source)&&this.metadata.changes.push({source:this.metadata.source,timestamp:(0,j.ph)(),propagations:this.metadata.propagations}),this._name=T,this.metadata.source=S}initSpanRecorder(T=1e3){this.spanRecorder||(this.spanRecorder=new z.gB(T)),this.spanRecorder.add(this)}setContext(T,S){S===null?delete this._contexts[T]:this._contexts[T]=S}setMeasurement(T,S,_=""){this._measurements[T]={value:S,unit:_}}setMetadata(T){this.metadata=li(li({},this.metadata),T)}finish(T){if(this.endTimestamp!==void 0)return;if(this.name||((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&W.kg.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(T),this.sampled!==!0){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&W.kg.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.");const a=this._hub.getClient();a&&a.recordDroppedEvent("sample_rate","transaction");return}const S=this.spanRecorder?this.spanRecorder.spans.filter(a=>a!==this&&a.endTimestamp):[];this._trimEnd&&S.length>0&&(this.endTimestamp=S.reduce((a,b)=>a.endTimestamp&&b.endTimestamp?a.endTimestamp>b.endTimestamp?a:b:a).endTimestamp);const _=this.metadata,y=li({contexts:io(li({},this._contexts),{trace:this.getTraceContext()}),spans:S,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:io(li({},_),{dynamicSamplingContext:this.getDynamicSamplingContext()})},_.source&&{transaction_info:{source:_.source,changes:_.changes,propagations:_.propagations}});return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&W.kg.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),y.measurements=this._measurements),(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&W.kg.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(y)}toContext(){const T=super.toContext();return(0,L.Jr)(io(li({},T),{name:this.name,trimEnd:this._trimEnd}))}updateWithContext(T){return super.updateWithContext(T),this.name=(0,C.h)(T.name,()=>""),this._trimEnd=T.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;const T=this._hub||(0,d.Gd)(),S=T&&T.getClient();if(!S)return{};const{environment:_,release:y}=S.getOptions()||{},{publicKey:u}=S.getDsn()||{},a=this.metadata.sampleRate,b=a!==void 0?a.toString():void 0,D=T.getScope(),{segment:N}=D&&D.getUser()||{},I=this.metadata.source,E=I&&I!=="url"?this.name:void 0;return(0,L.Jr)({environment:_,release:y,transaction:E,user_segment:N,public_key:u,trace_id:this.traceId,sample_rate:b})}}},75399:function(nt,xe,l){"use strict";l.d(xe,{XL:function(){return W},x1:function(){return j},zu:function(){return d}});var C=l(55632);function d(z){const P=(0,C.Gd)().getClient(),A=z||P&&P.getOptions();return!!A&&("tracesSampleRate"in A||"tracesSampler"in A)}function j(z){const A=(z||(0,C.Gd)()).getScope();return A&&A.getTransaction()}function W(z){return z/1e3}function L(z){return z*1e3}},8129:function(nt,xe,l){"use strict";l.d(xe,{Rt:function(){return L},l4:function(){return P},qT:function(){return A}});var C=l(34132),d=l(98755);const j=(0,d.Rf)(),W=80;function L(T,S={}){try{let _=T;const y=5,u=[];let a=0,b=0;const D=" > ",N=D.length;let I;const E=Array.isArray(S)?S:S.keyAttrs,O=!Array.isArray(S)&&S.maxStringLength||W;for(;_&&a++<y&&(I=z(_,E),!(I==="html"||a>1&&b+u.length*N+I.length>=O));)u.push(I),b+=I.length,_=_.parentNode;return u.reverse().join(D)}catch(_){return"<unknown>"}}function z(T,S){const _=T,y=[];let u,a,b,D,N;if(!_||!_.tagName)return"";y.push(_.tagName.toLowerCase());const I=S&&S.length?S.filter(O=>_.getAttribute(O)).map(O=>[O,_.getAttribute(O)]):null;if(I&&I.length)I.forEach(O=>{y.push(`[${O[0]}="${O[1]}"]`)});else if(_.id&&y.push(`#${_.id}`),u=_.className,u&&(0,C.HD)(u))for(a=u.split(/\s+/),N=0;N<a.length;N++)y.push(`.${a[N]}`);const E=["type","name","title","alt"];for(N=0;N<E.length;N++)b=E[N],D=_.getAttribute(b),D&&y.push(`[${b}="${D}"]`);return y.join("")}function P(){try{return j.document.location.href}catch(T){return""}}function A(T){return j.document&&j.document.querySelector?j.document.querySelector(T):null}},33637:function(nt,xe,l){"use strict";l.d(xe,{h:function(){return C}});function C(d,j){return d!=null?d:j()}},88367:function(nt,xe,l){"use strict";l.d(xe,{x:function(){return C}});function C(d){let j,W=d[0],L=1;for(;L<d.length;){const z=d[L],P=d[L+1];if(L+=2,(z==="optionalAccess"||z==="optionalCall")&&W==null)return;z==="access"||z==="optionalAccess"?(j=W,W=P(W)):(z==="call"||z==="optionalCall")&&(W=P((...A)=>W.call(j,...A)),j=void 0)}return W}},41961:function(nt,xe,l){"use strict";l.d(xe,{o:function(){return _}});var C=l(34132),d=l(94159),j=l(65410),W=l(15999),L=l(35953),z=l(98755);const P=(0,z.Rf)(),A={},T={};function S(re){if(!T[re])switch(T[re]=!0,re){case"console":u();break;case"dom":de();break;case"xhr":N();break;case"fetch":a();break;case"history":E();break;case"error":le();break;case"unhandledrejection":X();break;default:(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.warn("unknown instrumentation type:",re);return}}function _(re,ne){A[re]=A[re]||[],A[re].push(ne),S(re)}function y(re,ne){if(!(!re||!A[re]))for(const U of A[re]||[])try{U(ne)}catch(oe){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&d.kg.error(`Error while triggering instrumentation handler.
Type: ${re}
Name: ${(0,W.$P)(U)}
Error:`,oe)}}function u(){"console"in P&&d.RU.forEach(function(re){re in P.console&&(0,j.hl)(P.console,re,function(ne){return function(...U){y("console",{args:U,level:re}),ne&&ne.apply(P.console,U)}})})}function a(){!(0,L.t$)()||(0,j.hl)(P,"fetch",function(re){return function(...ne){const U={args:ne,fetchData:{method:b(ne),url:D(ne)},startTimestamp:Date.now()};return y("fetch",li({},U)),re.apply(P,ne).then(oe=>(y("fetch",io(li({},U),{endTimestamp:Date.now(),response:oe})),oe),oe=>{throw y("fetch",io(li({},U),{endTimestamp:Date.now(),error:oe})),oe})}})}function b(re=[]){return"Request"in P&&(0,C.V9)(re[0],Request)&&re[0].method?String(re[0].method).toUpperCase():re[1]&&re[1].method?String(re[1].method).toUpperCase():"GET"}function D(re=[]){return typeof re[0]=="string"?re[0]:"Request"in P&&(0,C.V9)(re[0],Request)?re[0].url:String(re[0])}function N(){if(!("XMLHttpRequest"in P))return;const re=XMLHttpRequest.prototype;(0,j.hl)(re,"open",function(ne){return function(...U){const oe=this,q=U[1],ae=oe.__sentry_xhr__={method:(0,C.HD)(U[0])?U[0].toUpperCase():U[0],url:U[1]};(0,C.HD)(q)&&ae.method==="POST"&&q.match(/sentry_key/)&&(oe.__sentry_own_request__=!0);const me=function(){if(oe.readyState===4){try{ae.status_code=oe.status}catch(ke){}y("xhr",{args:U,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:oe})}};return"onreadystatechange"in oe&&typeof oe.onreadystatechange=="function"?(0,j.hl)(oe,"onreadystatechange",function(ke){return function(...H){return me(),ke.apply(oe,H)}}):oe.addEventListener("readystatechange",me),ne.apply(oe,U)}}),(0,j.hl)(re,"send",function(ne){return function(...U){return this.__sentry_xhr__&&U[0]!==void 0&&(this.__sentry_xhr__.body=U[0]),y("xhr",{args:U,startTimestamp:Date.now(),xhr:this}),ne.apply(this,U)}})}let I;function E(){if(!(0,L.Bf)())return;const re=P.onpopstate;P.onpopstate=function(...U){const oe=P.location.href,q=I;if(I=oe,y("history",{from:q,to:oe}),re)try{return re.apply(this,U)}catch(ae){}};function ne(U){return function(...oe){const q=oe.length>2?oe[2]:void 0;if(q){const ae=I,me=String(q);I=me,y("history",{from:ae,to:me})}return U.apply(this,oe)}}(0,j.hl)(P.history,"pushState",ne),(0,j.hl)(P.history,"replaceState",ne)}const O=1e3;let R,M;function K(re,ne){if(!re||re.type!==ne.type)return!0;try{if(re.target!==ne.target)return!0}catch(U){}return!1}function Z(re){if(re.type!=="keypress")return!1;try{const ne=re.target;if(!ne||!ne.tagName)return!0;if(ne.tagName==="INPUT"||ne.tagName==="TEXTAREA"||ne.isContentEditable)return!1}catch(ne){}return!0}function te(re,ne=!1){return U=>{if(!U||M===U||Z(U))return;const oe=U.type==="keypress"?"input":U.type;R===void 0?(re({event:U,name:oe,global:ne}),M=U):K(M,U)&&(re({event:U,name:oe,global:ne}),M=U),clearTimeout(R),R=P.setTimeout(()=>{R=void 0},O)}}function de(){if(!("document"in P))return;const re=y.bind(null,"dom"),ne=te(re,!0);P.document.addEventListener("click",ne,!1),P.document.addEventListener("keypress",ne,!1),["EventTarget","Node"].forEach(U=>{const oe=P[U]&&P[U].prototype;!oe||!oe.hasOwnProperty||!oe.hasOwnProperty("addEventListener")||((0,j.hl)(oe,"addEventListener",function(q){return function(ae,me,ke){if(ae==="click"||ae=="keypress")try{const H=this,ut=H.__sentry_instrumentation_handlers__=H.__sentry_instrumentation_handlers__||{},Ke=ut[ae]=ut[ae]||{refCount:0};if(!Ke.handler){const He=te(re);Ke.handler=He,q.call(this,ae,He,ke)}Ke.refCount++}catch(H){}return q.call(this,ae,me,ke)}}),(0,j.hl)(oe,"removeEventListener",function(q){return function(ae,me,ke){if(ae==="click"||ae=="keypress")try{const H=this,ut=H.__sentry_instrumentation_handlers__||{},Ke=ut[ae];Ke&&(Ke.refCount--,Ke.refCount<=0&&(q.call(this,ae,Ke.handler,ke),Ke.handler=void 0,delete ut[ae]),Object.keys(ut).length===0&&delete H.__sentry_instrumentation_handlers__)}catch(H){}return q.call(this,ae,me,ke)}}))})}let ge=null;function le(){ge=P.onerror,P.onerror=function(re,ne,U,oe,q){return y("error",{column:oe,error:q,line:U,msg:re,url:ne}),ge?ge.apply(this,arguments):!1}}let se=null;function X(){se=P.onunhandledrejection,P.onunhandledrejection=function(re){return y("unhandledrejection",re),se?se.apply(this,arguments):!0}}},34132:function(nt,xe,l){"use strict";l.d(xe,{Cy:function(){return a},HD:function(){return P},J8:function(){return u},Kj:function(){return y},PO:function(){return T},TX:function(){return L},V9:function(){return D},VW:function(){return W},VZ:function(){return d},cO:function(){return S},fm:function(){return z},i2:function(){return b},kK:function(){return _},pt:function(){return A}});const C=Object.prototype.toString;function d(N){switch(C.call(N)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return D(N,Error)}}function j(N,I){return C.call(N)===`[object ${I}]`}function W(N){return j(N,"ErrorEvent")}function L(N){return j(N,"DOMError")}function z(N){return j(N,"DOMException")}function P(N){return j(N,"String")}function A(N){return N===null||typeof N!="object"&&typeof N!="function"}function T(N){return j(N,"Object")}function S(N){return typeof Event!="undefined"&&D(N,Event)}function _(N){return typeof Element!="undefined"&&D(N,Element)}function y(N){return j(N,"RegExp")}function u(N){return Boolean(N&&N.then&&typeof N.then=="function")}function a(N){return T(N)&&"nativeEvent"in N&&"preventDefault"in N&&"stopPropagation"in N}function b(N){return typeof N=="number"&&N!==N}function D(N,I){try{return N instanceof I}catch(E){return!1}}},94159:function(nt,xe,l){"use strict";l.d(xe,{Cf:function(){return W},RU:function(){return j},kg:function(){return z}});var C=l(98755);const d="Sentry Logger ",j=["debug","info","warn","error","log","assert","trace"];function W(P){if(!("console"in C.n2))return P();const A=C.n2.console,T={};j.forEach(S=>{const _=A[S]&&A[S].__sentry_original__;S in A&&_&&(T[S]=A[S],A[S]=_)});try{return P()}finally{Object.keys(T).forEach(S=>{A[S]=T[S]})}}function L(){let P=!1;const A={enable:()=>{P=!0},disable:()=>{P=!1}};return typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?j.forEach(T=>{A[T]=(...S)=>{P&&W(()=>{C.n2.console[T](`${d}[${T}]:`,...S)})}}):j.forEach(T=>{A[T]=()=>{}}),A}let z;typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__?z=(0,C.YO)("logger",L):z=L()},60081:function(nt,xe,l){"use strict";l.d(xe,{DM:function(){return j},Db:function(){return z},EG:function(){return P},YO:function(){return _},jH:function(){return L},lE:function(){return y}});var C=l(65410),d=l(98755);function j(){const u=d.n2,a=u.crypto||u.msCrypto;if(a&&a.randomUUID)return a.randomUUID().replace(/-/g,"");const b=a&&a.getRandomValues?()=>a.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,D=>(D^(b()&15)>>D/4).toString(16))}function W(u){return u.exception&&u.exception.values?u.exception.values[0]:void 0}function L(u){const{message:a,event_id:b}=u;if(a)return a;const D=W(u);return D?D.type&&D.value?`${D.type}: ${D.value}`:D.type||D.value||b||"<unknown>":b||"<unknown>"}function z(u,a,b){const D=u.exception=u.exception||{},N=D.values=D.values||[],I=N[0]=N[0]||{};I.value||(I.value=a||""),I.type||(I.type=b||"Error")}function P(u,a){const b=W(u);if(!b)return;const D={type:"generic",handled:!0},N=b.mechanism;if(b.mechanism=li(li(li({},D),N),a),a&&"data"in a){const I=li(li({},N&&N.data),a.data);b.mechanism.data=I}}const A=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*)(?:\.(?:0|[1-9]\d*|\d*[a-zA-Z-][0-9a-zA-Z-]*))*))?(?:\+([0-9a-zA-Z-]+(?:\.[0-9a-zA-Z-]+)*))?$/;function T(u){const a=u.match(A)||[],b=parseInt(a[1],10),D=parseInt(a[2],10),N=parseInt(a[3],10);return{buildmetadata:a[5],major:isNaN(b)?void 0:b,minor:isNaN(D)?void 0:D,patch:isNaN(N)?void 0:N,prerelease:a[4]}}function S(u,a,b=5){if(a.lineno===void 0)return;const D=u.length,N=Math.max(Math.min(D,a.lineno-1),0);a.pre_context=u.slice(Math.max(0,N-b),N).map(I=>snipLine(I,0)),a.context_line=snipLine(u[Math.min(D-1,N)],a.colno||0),a.post_context=u.slice(Math.min(N+1,D),N+1+b).map(I=>snipLine(I,0))}function _(u){if(u&&u.__sentry_captured__)return!0;try{(0,C.xp)(u,"__sentry_captured__",!0)}catch(a){}return!1}function y(u){return Array.isArray(u)?u:[u]}},47017:function(nt,xe,l){"use strict";l.d(xe,{l$:function(){return W},KV:function(){return j},$y:function(){return L}});function C(){return typeof __SENTRY_BROWSER_BUNDLE__!="undefined"&&!!__SENTRY_BROWSER_BUNDLE__}nt=l.hmd(nt);var d=l(14224);function j(){return!C()&&Object.prototype.toString.call(typeof d!="undefined"?d:0)==="[object process]"}function W(z,P){return z.require(P)}function L(z){let P;try{P=W(nt,z)}catch(A){}try{const{cwd:A}=W(nt,"process");P=W(nt,`${A()}/node_modules/${z}`)}catch(A){}return P}},65410:function(nt,xe,l){"use strict";l.d(xe,{$Q:function(){return z},HK:function(){return P},Jr:function(){return u},Sh:function(){return T},_j:function(){return A},hl:function(){return W},xp:function(){return L},zf:function(){return y}});var C=l(8129),d=l(34132),j=l(37534);function W(D,N,I){if(!(N in D))return;const E=D[N],O=I(E);if(typeof O=="function")try{z(O,E)}catch(R){}D[N]=O}function L(D,N,I){Object.defineProperty(D,N,{value:I,writable:!0,configurable:!0})}function z(D,N){const I=N.prototype||{};D.prototype=N.prototype=I,L(D,"__sentry_original__",N)}function P(D){return D.__sentry_original__}function A(D){return Object.keys(D).map(N=>`${encodeURIComponent(N)}=${encodeURIComponent(D[N])}`).join("&")}function T(D){if((0,d.VZ)(D))return li({message:D.message,name:D.name,stack:D.stack},_(D));if((0,d.cO)(D)){const N=li({type:D.type,target:S(D.target),currentTarget:S(D.currentTarget)},_(D));return typeof CustomEvent!="undefined"&&(0,d.V9)(D,CustomEvent)&&(N.detail=D.detail),N}else return D}function S(D){try{return(0,d.kK)(D)?(0,C.Rt)(D):Object.prototype.toString.call(D)}catch(N){return"<unknown>"}}function _(D){if(typeof D=="object"&&D!==null){const N={};for(const I in D)Object.prototype.hasOwnProperty.call(D,I)&&(N[I]=D[I]);return N}else return{}}function y(D,N=40){const I=Object.keys(T(D));if(I.sort(),!I.length)return"[object has no keys]";if(I[0].length>=N)return(0,j.$G)(I[0],N);for(let E=I.length;E>0;E--){const O=I.slice(0,E).join(", ");if(!(O.length>N))return E===I.length?O:(0,j.$G)(O,N)}return""}function u(D){return a(D,new Map)}function a(D,N){if((0,d.PO)(D)){const I=N.get(D);if(I!==void 0)return I;const E={};N.set(D,E);for(const O of Object.keys(D))typeof D[O]!="undefined"&&(E[O]=a(D[O],N));return E}if(Array.isArray(D)){const I=N.get(D);if(I!==void 0)return I;const E=[];return N.set(D,E),D.forEach(O=>{E.push(a(O,N))}),E}return D}function b(D){let N;switch(!0){case D==null:N=new String(D);break;case(typeof D=="symbol"||typeof D=="bigint"):N=Object(D);break;case isPrimitive(D):N=new D.constructor(D);break;default:N=D;break}return N}},15999:function(nt,xe,l){"use strict";l.d(xe,{$P:function(){return z},Sq:function(){return j},pE:function(){return d}});const C=50;function d(...T){const S=T.sort((_,y)=>_[0]-y[0]).map(_=>_[1]);return(_,y=0)=>{const u=[];for(const a of _.split(`
`).slice(y)){const b=a.replace(/\(error: (.*)\)/,"$1");for(const D of S){const N=D(b);if(N){u.push(N);break}}}return W(u)}}function j(T){return Array.isArray(T)?d(...T):T}function W(T){if(!T.length)return[];let S=T;const _=S[0].function||"",y=S[S.length-1].function||"";return(_.indexOf("captureMessage")!==-1||_.indexOf("captureException")!==-1)&&(S=S.slice(1)),y.indexOf("sentryWrapped")!==-1&&(S=S.slice(0,-1)),S.slice(0,C).map(u=>io(li({},u),{filename:u.filename||S[0].filename,function:u.function||"?"})).reverse()}const L="<anonymous>";function z(T){try{return!T||typeof T!="function"?L:T.name||L}catch(S){return L}}function P(T){const S=/^\s*[-]{4,}$/,_=/at (?:async )?(?:(.+?)\s+\()?(?:(.+):(\d+):(\d+)?|([^)]+))\)?/;return y=>{if(y.match(S))return{filename:y};const u=y.match(_);if(!u)return;let a,b,D,N,I;if(u[1]){D=u[1];let K=D.lastIndexOf(".");if(D[K-1]==="."&&K--,K>0){a=D.substr(0,K),b=D.substr(K+1);const Z=a.indexOf(".Module");Z>0&&(D=D.substr(Z+1),a=a.substr(0,Z))}N=void 0}b&&(N=a,I=b),b==="<anonymous>"&&(I=void 0,D=void 0),D===void 0&&(I=I||"<anonymous>",D=N?`${N}.${I}`:I);const E=_optionalChain([u,"access",K=>K[2],"optionalAccess",K=>K.startsWith,"call",K=>K("file://")])?u[2].substr(7):u[2],M=!(u[5]==="native"||E&&!E.startsWith("/")&&!E.startsWith(".")&&E.indexOf(":\\")!==1)&&E!==void 0&&!E.includes("node_modules/");return{filename:E,module:_optionalChain([T,"optionalCall",K=>K(E)]),function:D,lineno:parseInt(u[3],10)||void 0,colno:parseInt(u[4],10)||void 0,in_app:M}}}function A(T){return[90,P(T)]}},37534:function(nt,xe,l){"use strict";l.d(xe,{$G:function(){return d},U0:function(){return z},nK:function(){return W}});var C=l(34132);function d(A,T=0){return typeof A!="string"||T===0||A.length<=T?A:`${A.substr(0,T)}...`}function j(A,T){let S=A;const _=S.length;if(_<=150)return S;T>_&&(T=_);let y=Math.max(T-60,0);y<5&&(y=0);let u=Math.min(y+140,_);return u>_-5&&(u=_),u===_&&(y=Math.max(u-140,0)),S=S.slice(y,u),y>0&&(S=`'{snip} ${S}`),u<_&&(S+=" {snip}"),S}function W(A,T){if(!Array.isArray(A))return"";const S=[];for(let _=0;_<A.length;_++){const y=A[_];try{S.push(String(y))}catch(u){S.push("[value cannot be serialized]")}}return S.join(T)}function L(A,T,S=!1){return(0,C.HD)(A)?(0,C.Kj)(T)?T.test(A):(0,C.HD)(T)?S?A===T:A.includes(T):!1:!1}function z(A,T=[],S=!1){return T.some(_=>L(A,_,S))}function P(A){return A.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},35953:function(nt,xe,l){"use strict";l.d(xe,{Ak:function(){return P},Bf:function(){return y},Du:function(){return A},t$:function(){return T}});var C=l(94159),d=l(98755);const j=(0,d.Rf)();function W(){try{return new ErrorEvent(""),!0}catch(u){return!1}}function L(){try{return new DOMError(""),!0}catch(u){return!1}}function z(){try{return new DOMException(""),!0}catch(u){return!1}}function P(){if(!("fetch"in j))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(u){return!1}}function A(u){return u&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(u.toString())}function T(){if(!P())return!1;if(A(j.fetch))return!0;let u=!1;const a=j.document;if(a&&typeof a.createElement=="function")try{const b=a.createElement("iframe");b.hidden=!0,a.head.appendChild(b),b.contentWindow&&b.contentWindow.fetch&&(u=A(b.contentWindow.fetch)),a.head.removeChild(b)}catch(b){(typeof __SENTRY_DEBUG__=="undefined"||__SENTRY_DEBUG__)&&C.kg.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",b)}return u}function S(){return"ReportingObserver"in j}function _(){if(!P())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(u){return!1}}function y(){const u=j.chrome,a=u&&u.app&&u.app.runtime,b="history"in j&&!!j.history.pushState&&!!j.history.replaceState;return!a&&b}},40751:function(nt,xe,l){"use strict";l.d(xe,{$2:function(){return W},WD:function(){return j},cW:function(){return L}});var C=l(34132),d;(function(z){z[z.PENDING=0]="PENDING";const A=1;z[z.RESOLVED=A]="RESOLVED";const T=2;z[z.REJECTED=T]="REJECTED"})(d||(d={}));function j(z){return new L(P=>{P(z)})}function W(z){return new L((P,A)=>{A(z)})}class L{__init(){this._state=d.PENDING}__init2(){this._handlers=[]}constructor(P){L.prototype.__init.call(this),L.prototype.__init2.call(this),L.prototype.__init3.call(this),L.prototype.__init4.call(this),L.prototype.__init5.call(this),L.prototype.__init6.call(this);try{P(this._resolve,this._reject)}catch(A){this._reject(A)}}then(P,A){return new L((T,S)=>{this._handlers.push([!1,_=>{if(!P)T(_);else try{T(P(_))}catch(y){S(y)}},_=>{if(!A)S(_);else try{T(A(_))}catch(y){S(y)}}]),this._executeHandlers()})}catch(P){return this.then(A=>A,P)}finally(P){return new L((A,T)=>{let S,_;return this.then(y=>{_=!1,S=y,P&&P()},y=>{_=!0,S=y,P&&P()}).then(()=>{if(_){T(S);return}A(S)})})}__init3(){this._resolve=P=>{this._setResult(d.RESOLVED,P)}}__init4(){this._reject=P=>{this._setResult(d.REJECTED,P)}}__init5(){this._setResult=(P,A)=>{if(this._state===d.PENDING){if((0,C.J8)(A)){A.then(this._resolve,this._reject);return}this._state=P,this._value=A,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===d.PENDING)return;const P=this._handlers.slice();this._handlers=[],P.forEach(A=>{A[0]||(this._state===d.RESOLVED&&A[1](this._value),this._state===d.REJECTED&&A[2](this._value),A[0]=!0)})}}}},13632:function(nt,xe,l){"use strict";l.d(xe,{Z1:function(){return a},_I:function(){return _},ph:function(){return S},yW:function(){return T}});var C=l(47017),d=l(98755);nt=l.hmd(nt);const j=(0,d.Rf)(),W={nowSeconds:()=>Date.now()/1e3};function L(){const{performance:b}=j;if(!b||!b.now)return;const D=Date.now()-b.now();return{now:()=>b.now(),timeOrigin:D}}function z(){try{return(0,C.l$)(nt,"perf_hooks").performance}catch(b){return}}const P=(0,C.KV)()?z():L(),A=P===void 0?W:{nowSeconds:()=>(P.timeOrigin+P.now())/1e3},T=W.nowSeconds.bind(W),S=A.nowSeconds.bind(A),_=S,y=P!==void 0;let u;const a=(()=>{const{performance:b}=j;if(!b||!b.now){u="none";return}const D=3600*1e3,N=b.now(),I=Date.now(),E=b.timeOrigin?Math.abs(b.timeOrigin+N-I):D,O=E<D,R=b.timing&&b.timing.navigationStart,K=typeof R=="number"?Math.abs(R+N-I):D,Z=K<D;return O||Z?E<=K?(u="timeOrigin",b.timeOrigin):(u="navigationStart",R):(u="dateNow",I)})()},98755:function(nt,xe,l){"use strict";l.d(xe,{Rf:function(){return j},YO:function(){return W},n2:function(){return d}});function C(L){return L&&L.Math==Math?L:void 0}const d=typeof globalThis=="object"&&C(globalThis)||typeof window=="object"&&C(window)||typeof self=="object"&&C(self)||typeof l.g=="object"&&C(l.g)||function(){return this}()||{};function j(){return d}function W(L,z,P){const A=P||d,T=A.__SENTRY__=A.__SENTRY__||{};return T[L]||(T[L]=z())}},97017:function(){"use strict"},53161:function(){"use strict"},2858:function(){"use strict"},53828:function(nt,xe,l){"use strict";var C=l(6614),d=l(63313),j=l.n(d),W=l(16204);xe.Z=function(){var L=d.useState(!1),z=(0,C.Z)(L,2),P=z[0],A=z[1];return d.useEffect(function(){A((0,W.fk)())},[]),P}},15336:function(nt,xe,l){"use strict";l.d(xe,{C:function(){return ne}});var C=l(15882),d=l(24255),j=l(54465),W=l(6614),L=l(84875),z=l.n(L),P=l(91926),A=l(94261),T=l(63313),S=l(47295),_=l(66432),y=l(79315),u=T.createContext("default"),a=function(oe){var q=oe.children,ae=oe.size;return T.createElement(u.Consumer,null,function(me){return T.createElement(u.Provider,{value:ae||me},q)})},b=u,D=function(U,oe){var q={};for(var ae in U)Object.prototype.hasOwnProperty.call(U,ae)&&oe.indexOf(ae)<0&&(q[ae]=U[ae]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var me=0,ae=Object.getOwnPropertySymbols(U);me<ae.length;me++)oe.indexOf(ae[me])<0&&Object.prototype.propertyIsEnumerable.call(U,ae[me])&&(q[ae[me]]=U[ae[me]]);return q},N=function(oe,q){var ae,me,ke=T.useContext(b),H=T.useState(1),ut=(0,W.Z)(H,2),Ke=ut[0],He=ut[1],ze=T.useState(!1),Le=(0,W.Z)(ze,2),Ze=Le[0],Ge=Le[1],Fe=T.useState(!0),ct=(0,W.Z)(Fe,2),ft=ct[0],Ot=ct[1],Et=T.useRef(null),Vt=T.useRef(null),We=(0,A.sQ)(q,Et),St=T.useContext(S.E_),Re=St.getPrefixCls,Se=function(){if(!(!Vt.current||!Et.current)){var ln=Vt.current.offsetWidth,_t=Et.current.offsetWidth;if(ln!==0&&_t!==0){var di=oe.gap,Xn=di===void 0?4:di;Xn*2<_t&&He(_t-Xn*2<ln?(_t-Xn*2)/ln:1)}}};T.useEffect(function(){Ge(!0)},[]),T.useEffect(function(){Ot(!0),He(1)},[oe.src]),T.useEffect(function(){Se()},[oe.gap]);var Ee=function(){var ln=oe.onError,_t=ln?ln():void 0;_t!==!1&&Ot(!1)},Be=oe.prefixCls,Xe=oe.shape,Pt=Xe===void 0?"circle":Xe,jt=oe.size,pn=jt===void 0?"default":jt,at=oe.src,Mt=oe.srcSet,Gt=oe.icon,_n=oe.className,Rn=oe.alt,Wn=oe.draggable,wn=oe.children,je=oe.crossOrigin,qn=D(oe,["prefixCls","shape","size","src","srcSet","icon","className","alt","draggable","children","crossOrigin"]),vt=pn==="default"?ke:pn,_e=Object.keys((0,j.Z)(vt)==="object"?vt||{}:{}).some(function(wt){return["xs","sm","md","lg","xl","xxl"].includes(wt)}),ht=(0,_.Z)(_e),yt=T.useMemo(function(){if((0,j.Z)(vt)!=="object")return{};var wt=y.c4.find(function(_t){return ht[_t]}),ln=vt[wt];return ln?{width:ln,height:ln,lineHeight:"".concat(ln,"px"),fontSize:Gt?ln/2:18}:{}},[ht,vt]),ye=Re("avatar",Be),qe=z()((ae={},(0,d.Z)(ae,"".concat(ye,"-lg"),vt==="large"),(0,d.Z)(ae,"".concat(ye,"-sm"),vt==="small"),ae)),Wt=T.isValidElement(at),Xt=z()(ye,qe,(me={},(0,d.Z)(me,"".concat(ye,"-").concat(Pt),!!Pt),(0,d.Z)(me,"".concat(ye,"-image"),Wt||at&&ft),(0,d.Z)(me,"".concat(ye,"-icon"),!!Gt),me),_n),mn=typeof vt=="number"?{width:vt,height:vt,lineHeight:"".concat(vt,"px"),fontSize:Gt?vt/2:18}:{},bn;if(typeof at=="string"&&ft)bn=T.createElement("img",{src:at,draggable:Wn,srcSet:Mt,onError:Ee,alt:Rn,crossOrigin:je});else if(Wt)bn=at;else if(Gt)bn=Gt;else if(Ze||Ke!==1){var ot="scale(".concat(Ke,") translateX(-50%)"),Rt={msTransform:ot,WebkitTransform:ot,transform:ot},kt=typeof vt=="number"?{lineHeight:"".concat(vt,"px")}:{};bn=T.createElement(P.Z,{onResize:Se},T.createElement("span",{className:"".concat(ye,"-string"),ref:Vt,style:(0,C.Z)((0,C.Z)({},kt),Rt)},wn))}else bn=T.createElement("span",{className:"".concat(ye,"-string"),style:{opacity:0},ref:Vt},wn);return delete qn.onError,delete qn.gap,T.createElement("span",(0,C.Z)({},qn,{style:(0,C.Z)((0,C.Z)((0,C.Z)({},mn),yt),qn.style),className:Xt,ref:We}),bn)},I=T.forwardRef(N),E=I,O=l(33246),R=l(61135),M=function(oe){return oe?typeof oe=="function"?oe():oe:null},K=l(73442),Z=function(U,oe){var q={};for(var ae in U)Object.prototype.hasOwnProperty.call(U,ae)&&oe.indexOf(ae)<0&&(q[ae]=U[ae]);if(U!=null&&typeof Object.getOwnPropertySymbols=="function")for(var me=0,ae=Object.getOwnPropertySymbols(U);me<ae.length;me++)oe.indexOf(ae[me])<0&&Object.prototype.propertyIsEnumerable.call(U,ae[me])&&(q[ae[me]]=U[ae[me]]);return q},te=function(oe){var q=oe.title,ae=oe.content,me=oe.prefixCls;return!q&&!ae?null:T.createElement(T.Fragment,null,q&&T.createElement("div",{className:"".concat(me,"-title")},M(q)),T.createElement("div",{className:"".concat(me,"-inner-content")},M(ae)))},de=T.forwardRef(function(U,oe){var q=U.prefixCls,ae=U.title,me=U.content,ke=U._overlay,H=U.placement,ut=H===void 0?"top":H,Ke=U.trigger,He=Ke===void 0?"hover":Ke,ze=U.mouseEnterDelay,Le=ze===void 0?.1:ze,Ze=U.mouseLeaveDelay,Ge=Ze===void 0?.1:Ze,Fe=U.overlayStyle,ct=Fe===void 0?{}:Fe,ft=Z(U,["prefixCls","title","content","_overlay","placement","trigger","mouseEnterDelay","mouseLeaveDelay","overlayStyle"]),Ot=T.useContext(S.E_),Et=Ot.getPrefixCls,Vt=Et("popover",q),We=Et();return T.createElement(R.Z,(0,C.Z)({placement:ut,trigger:He,mouseEnterDelay:Le,mouseLeaveDelay:Ge,overlayStyle:ct},ft,{prefixCls:Vt,ref:oe,overlay:ke||T.createElement(te,{prefixCls:Vt,title:ae,content:me}),transitionName:(0,K.mL)(We,"zoom-big",ft.transitionName)}))}),ge=de,le=l(51979),se=function(oe){var q=T.useContext(S.E_),ae=q.getPrefixCls,me=q.direction,ke=oe.prefixCls,H=oe.className,ut=H===void 0?"":H,Ke=oe.maxCount,He=oe.maxStyle,ze=oe.size,Le=ae("avatar-group",ke),Ze=z()(Le,(0,d.Z)({},"".concat(Le,"-rtl"),me==="rtl"),ut),Ge=oe.children,Fe=oe.maxPopoverPlacement,ct=Fe===void 0?"top":Fe,ft=oe.maxPopoverTrigger,Ot=ft===void 0?"hover":ft,Et=(0,O.Z)(Ge).map(function(Re,Se){return(0,le.Tm)(Re,{key:"avatar-key-".concat(Se)})}),Vt=Et.length;if(Ke&&Ke<Vt){var We=Et.slice(0,Ke),St=Et.slice(Ke,Vt);return We.push(T.createElement(ge,{key:"avatar-popover-key",content:St,trigger:Ot,placement:ct,overlayClassName:"".concat(Le,"-popover")},T.createElement(E,{style:He},"+".concat(Vt-Ke)))),T.createElement(a,{size:ze},T.createElement("div",{className:Ze,style:oe.style},We))}return T.createElement(a,{size:ze},T.createElement("div",{className:Ze,style:oe.style},Et))},X=se,re=E;re.Group=X;var ne=re},8508:function(nt,xe,l){"use strict";l.d(xe,{Z:function(){return K}});var C=l(24255),d=l(54465),j=l(15882),W=l(84875),L=l.n(W),z=l(45952),P=l(63313),A=l(47295),T=l(51979),S=l(38439);function _(Z){return S.Y.includes(Z)}var y=function(te){var de,ge=te.className,le=te.prefixCls,se=te.style,X=te.color,re=te.children,ne=te.text,U=te.placement,oe=U===void 0?"end":U,q=P.useContext(A.E_),ae=q.getPrefixCls,me=q.direction,ke=ae("ribbon",le),H=_(X),ut=L()(ke,"".concat(ke,"-placement-").concat(oe),(de={},(0,C.Z)(de,"".concat(ke,"-rtl"),me==="rtl"),(0,C.Z)(de,"".concat(ke,"-color-").concat(X),H),de),ge),Ke={},He={};return X&&!H&&(Ke.background=X,He.color=X),P.createElement("div",{className:"".concat(ke,"-wrapper")},re,P.createElement("div",{className:ut,style:(0,j.Z)((0,j.Z)({},Ke),se)},P.createElement("span",{className:"".concat(ke,"-text")},ne),P.createElement("div",{className:"".concat(ke,"-corner"),style:He})))},u=y,a=l(6614);function b(Z){var te=Z.prefixCls,de=Z.value,ge=Z.current,le=Z.offset,se=le===void 0?0:le,X;return se&&(X={position:"absolute",top:"".concat(se,"00%"),left:0}),P.createElement("span",{style:X,className:L()("".concat(te,"-only-unit"),{current:ge})},de)}function D(Z,te,de){for(var ge=Z,le=0;(ge+10)%10!==te;)ge+=de,le+=de;return le}function N(Z){var te=Z.prefixCls,de=Z.count,ge=Z.value,le=Number(ge),se=Math.abs(de),X=P.useState(le),re=(0,a.Z)(X,2),ne=re[0],U=re[1],oe=P.useState(se),q=(0,a.Z)(oe,2),ae=q[0],me=q[1],ke=function(){U(le),me(se)};P.useEffect(function(){var Ge=setTimeout(function(){ke()},1e3);return function(){clearTimeout(Ge)}},[le]);var H,ut;if(ne===le||Number.isNaN(le)||Number.isNaN(ne))H=[P.createElement(b,(0,j.Z)({},Z,{key:le,current:!0}))],ut={transition:"none"};else{H=[];for(var Ke=le+10,He=[],ze=le;ze<=Ke;ze+=1)He.push(ze);var Le=He.findIndex(function(Ge){return Ge%10===ne});H=He.map(function(Ge,Fe){var ct=Ge%10;return P.createElement(b,(0,j.Z)({},Z,{key:Ge,value:ct,offset:Fe-Le,current:Fe===Le}))});var Ze=ae<se?1:-1;ut={transform:"translateY(".concat(-D(ne,le,Ze),"00%)")}}return P.createElement("span",{className:"".concat(te,"-only"),style:ut,onTransitionEnd:ke},H)}var I=function(Z,te){var de={};for(var ge in Z)Object.prototype.hasOwnProperty.call(Z,ge)&&te.indexOf(ge)<0&&(de[ge]=Z[ge]);if(Z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var le=0,ge=Object.getOwnPropertySymbols(Z);le<ge.length;le++)te.indexOf(ge[le])<0&&Object.prototype.propertyIsEnumerable.call(Z,ge[le])&&(de[ge[le]]=Z[ge[le]]);return de},E=function(te){var de=te.prefixCls,ge=te.count,le=te.className,se=te.motionClassName,X=te.style,re=te.title,ne=te.show,U=te.component,oe=U===void 0?"sup":U,q=te.children,ae=I(te,["prefixCls","count","className","motionClassName","style","title","show","component","children"]),me=P.useContext(A.E_),ke=me.getPrefixCls,H=ke("scroll-number",de),ut=(0,j.Z)((0,j.Z)({},ae),{"data-show":ne,style:X,className:L()(H,le,se),title:re}),Ke=ge;if(ge&&Number(ge)%1===0){var He=String(ge).split("");Ke=He.map(function(ze,Le){return P.createElement(N,{prefixCls:H,count:Number(ge),value:ze,key:He.length-Le})})}return X&&X.borderColor&&(ut.style=(0,j.Z)((0,j.Z)({},X),{boxShadow:"0 0 0 1px ".concat(X.borderColor," inset")})),q?(0,T.Tm)(q,function(ze){return{className:L()("".concat(H,"-custom-component"),ze==null?void 0:ze.className,se)}}):P.createElement(oe,ut,Ke)},O=E,R=function(Z,te){var de={};for(var ge in Z)Object.prototype.hasOwnProperty.call(Z,ge)&&te.indexOf(ge)<0&&(de[ge]=Z[ge]);if(Z!=null&&typeof Object.getOwnPropertySymbols=="function")for(var le=0,ge=Object.getOwnPropertySymbols(Z);le<ge.length;le++)te.indexOf(ge[le])<0&&Object.prototype.propertyIsEnumerable.call(Z,ge[le])&&(de[ge[le]]=Z[ge[le]]);return de},M=function(te){var de,ge,le=te.prefixCls,se=te.scrollNumberPrefixCls,X=te.children,re=te.status,ne=te.text,U=te.color,oe=te.count,q=oe===void 0?null:oe,ae=te.overflowCount,me=ae===void 0?99:ae,ke=te.dot,H=ke===void 0?!1:ke,ut=te.size,Ke=ut===void 0?"default":ut,He=te.title,ze=te.offset,Le=te.style,Ze=te.className,Ge=te.showZero,Fe=Ge===void 0?!1:Ge,ct=R(te,["prefixCls","scrollNumberPrefixCls","children","status","text","color","count","overflowCount","dot","size","title","offset","style","className","showZero"]),ft=P.useContext(A.E_),Ot=ft.getPrefixCls,Et=ft.direction,Vt=Ot("badge",le),We=q>me?"".concat(me,"+"):q,St=We==="0"||We===0,Re=q===null||St&&!Fe,Se=(re!=null||U!=null)&&Re,Ee=H&&!St,Be=Ee?"":We,Xe=(0,P.useMemo)(function(){var _e=Be==null||Be==="";return(_e||St&&!Fe)&&!Ee},[Be,St,Fe,Ee]),Pt=(0,P.useRef)(q);Xe||(Pt.current=q);var jt=Pt.current,pn=(0,P.useRef)(Be);Xe||(pn.current=Be);var at=pn.current,Mt=(0,P.useRef)(Ee);Xe||(Mt.current=Ee);var Gt=(0,P.useMemo)(function(){if(!ze)return(0,j.Z)({},Le);var _e={marginTop:ze[1]};return Et==="rtl"?_e.left=parseInt(ze[0],10):_e.right=-parseInt(ze[0],10),(0,j.Z)((0,j.Z)({},_e),Le)},[Et,ze,Le]),_n=He!=null?He:typeof jt=="string"||typeof jt=="number"?jt:void 0,Rn=Xe||!ne?null:P.createElement("span",{className:"".concat(Vt,"-status-text")},ne),Wn=!jt||(0,d.Z)(jt)!=="object"?void 0:(0,T.Tm)(jt,function(_e){return{style:(0,j.Z)((0,j.Z)({},Gt),_e.style)}}),wn=L()((de={},(0,C.Z)(de,"".concat(Vt,"-status-dot"),Se),(0,C.Z)(de,"".concat(Vt,"-status-").concat(re),!!re),(0,C.Z)(de,"".concat(Vt,"-status-").concat(U),_(U)),de)),je={};U&&!_(U)&&(je.background=U);var qn=L()(Vt,(ge={},(0,C.Z)(ge,"".concat(Vt,"-status"),Se),(0,C.Z)(ge,"".concat(Vt,"-not-a-wrapper"),!X),(0,C.Z)(ge,"".concat(Vt,"-rtl"),Et==="rtl"),ge),Ze);if(!X&&Se){var vt=Gt.color;return P.createElement("span",(0,j.Z)({},ct,{className:qn,style:Gt}),P.createElement("span",{className:wn,style:je}),ne&&P.createElement("span",{style:{color:vt},className:"".concat(Vt,"-status-text")},ne))}return P.createElement("span",(0,j.Z)({},ct,{className:qn}),X,P.createElement(z.Z,{visible:!Xe,motionName:"".concat(Vt,"-zoom"),motionAppear:!1,motionDeadline:1e3},function(_e){var ht,yt=_e.className,ye=Ot("scroll-number",se),qe=Mt.current,Wt=L()((ht={},(0,C.Z)(ht,"".concat(Vt,"-dot"),qe),(0,C.Z)(ht,"".concat(Vt,"-count"),!qe),(0,C.Z)(ht,"".concat(Vt,"-count-sm"),Ke==="small"),(0,C.Z)(ht,"".concat(Vt,"-multiple-words"),!qe&&at&&at.toString().length>1),(0,C.Z)(ht,"".concat(Vt,"-status-").concat(re),!!re),(0,C.Z)(ht,"".concat(Vt,"-status-").concat(U),_(U)),ht)),Xt=(0,j.Z)({},Gt);return U&&!_(U)&&(Xt=Xt||{},Xt.background=U),P.createElement(O,{prefixCls:ye,show:!Xe,motionClassName:yt,className:Wt,count:at,title:_n,style:Xt,key:"scrollNumber"},Wn)}),Rn)};M.Ribbon=u;var K=M},36178:function(){"use strict"},22999:function(nt,xe,l){"use strict";var C=l(20652);xe.Z=C.Z},72696:function(nt,xe,l){"use strict";l.d(xe,{Z:function(){return ht}});var C=l(15882),d=l(54465),j=l(53133),W=l(56453),L=l(24255),z=l(6614),P=l(30486),A=l(63313),T=l.n(A),S=l(84875),_=l.n(S),y=l(30337),u=l(28780),a=l(45881),b=l(89517),D=l(58236),N=l(6479),I=["visible","onVisibleChange","getContainer","current","countRender"],E=A.createContext({previewUrls:new Map,setPreviewUrls:function(){return null},current:null,setCurrent:function(){return null},setShowPreview:function(){return null},setMousePosition:function(){return null},registerImage:function(){return function(){return null}},rootClassName:""}),O=E.Provider,R=function(ye){var qe=ye.previewPrefixCls,Wt=qe===void 0?"rc-image-preview":qe,Xt=ye.children,mn=ye.icons,bn=mn===void 0?{}:mn,ot=ye.preview,Rt=(0,d.Z)(ot)==="object"?ot:{},kt=Rt.visible,wt=kt===void 0?void 0:kt,ln=Rt.onVisibleChange,_t=ln===void 0?void 0:ln,di=Rt.getContainer,Xn=di===void 0?void 0:di,dn=Rt.current,Ve=dn===void 0?0:dn,Ce=Rt.countRender,dt=Ce===void 0?void 0:Ce,Qt=(0,P.Z)(Rt,I),en=(0,A.useState)(new Map),vn=(0,z.Z)(en,2),An=vn[0],On=vn[1],In=(0,A.useState)(),Sn=(0,z.Z)(In,2),Mn=Sn[0],Bn=Sn[1],Jn=(0,u.Z)(!!wt,{value:wt,onChange:_t}),ai=(0,z.Z)(Jn,2),jn=ai[0],Ii=ai[1],ci=(0,A.useState)(null),oi=(0,z.Z)(ci,2),wi=oi[0],Li=oi[1],kn=wt!==void 0,vi=Array.from(An.keys()),Si=vi[Ve],Ye=new Map(Array.from(An).filter(function(hn){var Vn=(0,z.Z)(hn,2),Hn=Vn[1].canPreview;return!!Hn}).map(function(hn){var Vn=(0,z.Z)(hn,2),Hn=Vn[0],Ci=Vn[1].url;return[Hn,Ci]})),Tt=function(Vn,Hn){var Ci=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,qi=function(){On(function(ms){var fi=new Map(ms),_s=fi.delete(Vn);return _s?fi:ms})};return On(function(ri){return new Map(ri).set(Vn,{url:Hn,canPreview:Ci})}),qi},nn=function(Vn){Vn.stopPropagation(),Ii(!1),Li(null)};return A.useEffect(function(){Bn(Si)},[Si]),A.useEffect(function(){!jn&&kn&&Bn(Si)},[Si,kn,jn]),A.createElement(O,{value:{isPreviewGroup:!0,previewUrls:Ye,setPreviewUrls:On,current:Mn,setCurrent:Bn,setShowPreview:Ii,setMousePosition:Li,registerImage:Tt}},Xt,A.createElement(ke,(0,C.Z)({"aria-hidden":!jn,visible:jn,prefixCls:Wt,onClose:nn,mousePosition:wi,src:Ye.get(Mn),icons:bn,getContainer:Xn,countRender:dt},Qt)))},M=R,K=l(45952),Z=l(16765),te=1,de=50,ge=1,le=.2,se=function(ye){var qe,Wt=ye.visible,Xt=ye.maskTransitionName,mn=ye.getContainer,bn=ye.prefixCls,ot=ye.rootClassName,Rt=ye.icons,kt=ye.countRender,wt=ye.showSwitch,ln=ye.showProgress,_t=ye.current,di=ye.count,Xn=ye.scale,dn=ye.onSwitchLeft,Ve=ye.onSwitchRight,Ce=ye.onClose,dt=ye.onZoomIn,Qt=ye.onZoomOut,en=ye.onRotateRight,vn=ye.onRotateLeft,An=Rt.rotateLeft,On=Rt.rotateRight,In=Rt.zoomIn,Sn=Rt.zoomOut,Mn=Rt.close,Bn=Rt.left,Jn=Rt.right,ai="".concat(bn,"-operations-operation"),jn="".concat(bn,"-operations-icon"),Ii=[{icon:Mn,onClick:Ce,type:"close"},{icon:In,onClick:dt,type:"zoomIn",disabled:Xn===de},{icon:Sn,onClick:Qt,type:"zoomOut",disabled:Xn===te},{icon:On,onClick:en,type:"rotateRight"},{icon:An,onClick:vn,type:"rotateLeft"}],ci=A.createElement(A.Fragment,null,wt&&A.createElement(A.Fragment,null,A.createElement("div",{className:_()("".concat(bn,"-switch-left"),(0,L.Z)({},"".concat(bn,"-switch-left-disabled"),_t===0)),onClick:dn},Bn),A.createElement("div",{className:_()("".concat(bn,"-switch-right"),(0,L.Z)({},"".concat(bn,"-switch-right-disabled"),_t===di-1)),onClick:Ve},Jn)),A.createElement("ul",{className:"".concat(bn,"-operations")},ln&&A.createElement("li",{className:"".concat(bn,"-operations-progress")},(qe=kt==null?void 0:kt(_t+1,di))!==null&&qe!==void 0?qe:"".concat(_t+1," / ").concat(di)),Ii.map(function(oi){var wi,Li=oi.icon,kn=oi.onClick,vi=oi.type,Si=oi.disabled;return A.createElement("li",{className:_()(ai,(wi={},(0,L.Z)(wi,"".concat(bn,"-operations-operation-").concat(vi),!0),(0,L.Z)(wi,"".concat(bn,"-operations-operation-disabled"),!!Si),wi)),onClick:kn,key:vi},A.isValidElement(Li)?A.cloneElement(Li,{className:jn}):Li)})));return A.createElement(K.Z,{visible:Wt,motionName:Xt},function(oi){var wi=oi.className,Li=oi.style;return A.createElement(Z.Z,{open:!0,getContainer:mn!=null?mn:document.body},A.createElement("div",{className:_()("".concat(bn,"-operations-wrapper"),wi,ot),style:Li},ci))})},X=se,re=l(45829),ne={x:0,y:0,rotate:0,scale:1};function U(yt){var ye=(0,A.useRef)(null),qe=(0,A.useRef)([]),Wt=(0,A.useState)(ne),Xt=(0,z.Z)(Wt,2),mn=Xt[0],bn=Xt[1],ot=function(){bn(ne)},Rt=function(ln){ye.current===null&&(qe.current=[],ye.current=(0,re.Z)(function(){bn(function(_t){var di=_t;return qe.current.forEach(function(Xn){di=(0,W.Z)((0,W.Z)({},di),Xn)}),ye.current=null,di})})),qe.current.push((0,W.Z)((0,W.Z)({},mn),ln))},kt=function(ln,_t,di){var Xn=yt.current,dn=Xn.width,Ve=Xn.height,Ce=Xn.offsetWidth,dt=Xn.offsetHeight,Qt=Xn.offsetLeft,en=Xn.offsetTop,vn=ln,An=mn.scale*ln;An>de?(vn=de/mn.scale,An=de):An<te&&(vn=te/mn.scale,An=te);var On=_t!=null?_t:innerWidth/2,In=di!=null?di:innerHeight/2,Sn=vn-1,Mn=Sn*dn*.5,Bn=Sn*Ve*.5,Jn=Sn*(On-mn.x-Qt),ai=Sn*(In-mn.y-en),jn=mn.x-(Jn-Mn),Ii=mn.y-(ai-Bn);if(ln<1&&An===1){var ci=Ce*An,oi=dt*An,wi=(0,y.g1)(),Li=wi.width,kn=wi.height;ci<=Li&&oi<=kn&&(jn=0,Ii=0)}Rt({x:jn,y:Ii,scale:An})};return{transform:mn,resetTransform:ot,updateTransform:Rt,dispatchZoonChange:kt}}function oe(yt,ye,qe,Wt){var Xt=ye+qe,mn=(qe-Wt)/2;if(qe>Wt){if(ye>0)return(0,L.Z)({},yt,mn);if(ye<0&&Xt<Wt)return(0,L.Z)({},yt,-mn)}else if(ye<0||Xt>Wt)return(0,L.Z)({},yt,ye<0?mn:-mn);return{}}function q(yt,ye,qe,Wt){var Xt=(0,y.g1)(),mn=Xt.width,bn=Xt.height,ot=null;return yt<=mn&&ye<=bn?ot={x:0,y:0}:(yt>mn||ye>bn)&&(ot=(0,W.Z)((0,W.Z)({},oe("x",qe,yt,mn)),oe("y",Wt,ye,bn))),ot}var ae=["prefixCls","src","alt","onClose","afterClose","visible","icons","rootClassName","getContainer","countRender","scaleStep","transitionName","maskTransitionName"],me=function(ye){var qe=ye.prefixCls,Wt=ye.src,Xt=ye.alt,mn=ye.onClose,bn=ye.afterClose,ot=ye.visible,Rt=ye.icons,kt=Rt===void 0?{}:Rt,wt=ye.rootClassName,ln=ye.getContainer,_t=ye.countRender,di=ye.scaleStep,Xn=di===void 0?.5:di,dn=ye.transitionName,Ve=dn===void 0?"zoom":dn,Ce=ye.maskTransitionName,dt=Ce===void 0?"fade":Ce,Qt=(0,P.Z)(ye,ae),en=(0,A.useRef)(),vn=(0,A.useRef)({deltaX:0,deltaY:0,transformX:0,transformY:0}),An=(0,A.useState)(!1),On=(0,z.Z)(An,2),In=On[0],Sn=On[1],Mn=(0,A.useContext)(E),Bn=Mn.previewUrls,Jn=Mn.current,ai=Mn.isPreviewGroup,jn=Mn.setCurrent,Ii=Bn.size,ci=Array.from(Bn.keys()),oi=ci.indexOf(Jn),wi=ai?Bn.get(Jn):Wt,Li=ai&&Ii>1,kn=ai&&Ii>=1,vi=U(en),Si=vi.transform,Ye=vi.resetTransform,Tt=vi.updateTransform,nn=vi.dispatchZoonChange,hn=Si.rotate,Vn=Si.scale,Hn=_()((0,L.Z)({},"".concat(qe,"-moving"),In)),Ci=function(){Ye()},qi=function(){nn(ge+Xn)},ri=function(){nn(ge-Xn)},ms=function(){Tt({rotate:hn+90})},fi=function(){Tt({rotate:hn-90})},_s=function(Di){Di.preventDefault(),Di.stopPropagation(),oi>0&&jn(ci[oi-1])},bi=function(Di){Di.preventDefault(),Di.stopPropagation(),oi<Ii-1&&jn(ci[oi+1])},$i=function(){if(ot&&In){Sn(!1);var Di=vn.current,ws=Di.transformX,uo=Di.transformY,Us=Si.x!==ws&&Si.y!==uo;if(!Us)return;var $s=en.current.offsetWidth*Vn,cs=en.current.offsetHeight*Vn,on=en.current.getBoundingClientRect(),ts=on.left,Ro=on.top,zs=hn%180!==0,As=q(zs?cs:$s,zs?$s:cs,ts,Ro);As&&Tt((0,W.Z)({},As))}},Ei=function(Di){Di.button===0&&(Di.preventDefault(),Di.stopPropagation(),vn.current={deltaX:Di.pageX-Si.x,deltaY:Di.pageY-Si.y,transformX:Si.x,transformY:Si.y},Sn(!0))},Xi=function(Di){ot&&In&&Tt({x:Di.pageX-vn.current.deltaX,y:Di.pageY-vn.current.deltaY})},Es=function(Di){if(!(!ot||Di.deltaY==0)){var ws=Math.abs(Di.deltaY/100),uo=Math.min(ws,le),Us=ge+uo*Xn;Di.deltaY>0&&(Us=ge/Us),nn(Us,Di.clientX,Di.clientY)}},Ks=(0,A.useCallback)(function(bs){!ot||!Li||(bs.keyCode===D.Z.LEFT?oi>0&&jn(ci[oi-1]):bs.keyCode===D.Z.RIGHT&&oi<Ii-1&&jn(ci[oi+1]))},[oi,Ii,ci,jn,Li,ot]),gi=function(Di){ot&&(Vn!==1?Tt({x:0,y:0,scale:1}):nn(ge+Xn,Di.clientX,Di.clientY))};return(0,A.useEffect)(function(){var bs,Di,ws=(0,b.Z)(window,"mouseup",$i,!1),uo=(0,b.Z)(window,"mousemove",Xi,!1),Us=(0,b.Z)(window,"keydown",Ks,!1);try{window.top!==window.self&&(bs=(0,b.Z)(window.top,"mouseup",$i,!1),Di=(0,b.Z)(window.top,"mousemove",Xi,!1))}catch($s){(0,N.Kp)(!1,"[rc-image] ".concat($s))}return function(){var $s,cs;ws.remove(),uo.remove(),Us.remove(),($s=bs)===null||$s===void 0||$s.remove(),(cs=Di)===null||cs===void 0||cs.remove()}},[ot,In,Ks]),T().createElement(T().Fragment,null,T().createElement(a.Z,(0,C.Z)({transitionName:Ve,maskTransitionName:dt,closable:!1,keyboard:!0,prefixCls:qe,onClose:mn,afterClose:Ci,visible:ot,wrapClassName:Hn,rootClassName:wt,getContainer:ln},Qt),T().createElement("div",{className:"".concat(qe,"-img-wrapper")},T().createElement("img",{width:ye.width,height:ye.height,onWheel:Es,onMouseDown:Ei,onDoubleClick:gi,ref:en,className:"".concat(qe,"-img"),src:wi,alt:Xt,style:{transform:"translate3d(".concat(Si.x,"px, ").concat(Si.y,"px, 0) scale3d(").concat(Vn,", ").concat(Vn,", 1) rotate(").concat(hn,"deg)")}}))),T().createElement(X,{visible:ot,maskTransitionName:dt,getContainer:ln,prefixCls:qe,rootClassName:wt,icons:kt,countRender:_t,showSwitch:Li,showProgress:kn,current:oi,count:Ii,scale:Vn,onSwitchLeft:_s,onSwitchRight:bi,onZoomIn:qi,onZoomOut:ri,onRotateRight:ms,onRotateLeft:fi,onClose:mn}))},ke=me,H=["src","alt","onPreviewClose","prefixCls","previewPrefixCls","placeholder","fallback","width","height","style","preview","className","onClick","onError","wrapperClassName","wrapperStyle","rootClassName","crossOrigin","decoding","loading","referrerPolicy","sizes","srcSet","useMap","draggable"],ut=["src","visible","onVisibleChange","getContainer","mask","maskClassName","icons","scaleStep"],Ke=0,He=function(ye){var qe,Wt=ye.src,Xt=ye.alt,mn=ye.onPreviewClose,bn=ye.prefixCls,ot=bn===void 0?"rc-image":bn,Rt=ye.previewPrefixCls,kt=Rt===void 0?"".concat(ot,"-preview"):Rt,wt=ye.placeholder,ln=ye.fallback,_t=ye.width,di=ye.height,Xn=ye.style,dn=ye.preview,Ve=dn===void 0?!0:dn,Ce=ye.className,dt=ye.onClick,Qt=ye.onError,en=ye.wrapperClassName,vn=ye.wrapperStyle,An=ye.rootClassName,On=ye.crossOrigin,In=ye.decoding,Sn=ye.loading,Mn=ye.referrerPolicy,Bn=ye.sizes,Jn=ye.srcSet,ai=ye.useMap,jn=ye.draggable,Ii=(0,P.Z)(ye,H),ci=wt&&wt!==!0,oi=(0,d.Z)(Ve)==="object"?Ve:{},wi=oi.src,Li=oi.visible,kn=Li===void 0?void 0:Li,vi=oi.onVisibleChange,Si=vi===void 0?mn:vi,Ye=oi.getContainer,Tt=Ye===void 0?void 0:Ye,nn=oi.mask,hn=oi.maskClassName,Vn=oi.icons,Hn=oi.scaleStep,Ci=(0,P.Z)(oi,ut),qi=wi!=null?wi:Wt,ri=kn!==void 0,ms=(0,u.Z)(!!kn,{value:kn,onChange:Si}),fi=(0,z.Z)(ms,2),_s=fi[0],bi=fi[1],$i=(0,A.useState)(ci?"loading":"normal"),Ei=(0,z.Z)($i,2),Xi=Ei[0],Es=Ei[1],Ks=(0,A.useState)(null),gi=(0,z.Z)(Ks,2),bs=gi[0],Di=gi[1],ws=Xi==="error",uo=A.useContext(E),Us=uo.isPreviewGroup,$s=uo.setCurrent,cs=uo.setShowPreview,on=uo.setMousePosition,ts=uo.registerImage,Ro=A.useState(function(){return Ke+=1,Ke}),zs=(0,z.Z)(Ro,1),As=zs[0],eo=!!Ve,so=A.useRef(!1),oo=function(){Es("normal")},Ho=function(ns){Qt&&Qt(ns),Es("error")},es=function(ns){if(!ri){var Xs=(0,y.os)(ns.target),ki=Xs.left,we=Xs.top;Us?($s(As),on({x:ki,y:we})):Di({x:ki,y:we})}Us?cs(!0):bi(!0),dt&&dt(ns)},as=function(ns){ns.stopPropagation(),bi(!1),ri||Di(null)},xo=function(ns){so.current=!1,Xi==="loading"&&ns!=null&&ns.complete&&(ns.naturalWidth||ns.naturalHeight)&&(so.current=!0,oo())};A.useEffect(function(){var si=ts(As,qi);return si},[]),A.useEffect(function(){ts(As,qi,eo)},[qi,eo]),A.useEffect(function(){ws&&Es("normal"),ci&&!so.current&&Es("loading")},[Wt]);var Yi=_()(ot,en,An,(0,L.Z)({},"".concat(ot,"-error"),ws)),Ln=ws&&ln?ln:qi,hi={crossOrigin:On,decoding:In,draggable:jn,loading:Sn,referrerPolicy:Mn,sizes:Bn,srcSet:Jn,useMap:ai,alt:Xt,className:_()("".concat(ot,"-img"),(0,L.Z)({},"".concat(ot,"-img-placeholder"),wt===!0),Ce),style:(0,W.Z)({height:di},Xn)};return A.createElement(A.Fragment,null,A.createElement("div",(0,C.Z)({},Ii,{className:Yi,onClick:eo?es:dt,style:(0,W.Z)({width:_t,height:di},vn)}),A.createElement("img",(0,C.Z)({},hi,{ref:xo},ws&&ln?{src:ln}:{onLoad:oo,onError:Ho,src:Wt},{width:_t,height:di})),Xi==="loading"&&A.createElement("div",{"aria-hidden":"true",className:"".concat(ot,"-placeholder")},wt),nn&&eo&&A.createElement("div",{className:_()("".concat(ot,"-mask"),hn),style:{display:((qe=hi.style)===null||qe===void 0?void 0:qe.display)==="none"?"none":void 0}},nn)),!Us&&eo&&A.createElement(ke,(0,C.Z)({"aria-hidden":!_s,visible:_s,prefixCls:kt,onClose:as,mousePosition:bs,src:Ln,alt:Xt,getContainer:Tt,icons:Vn,scaleStep:Hn,rootClassName:An},Ci)))};He.PreviewGroup=M,He.displayName="Image";var ze=He,Le=ze,Ze=l(47295),Ge=l(50672),Fe=l(73442),ct=l(47161),ft=l(92906),Ot=l(71462),Et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M672 418H144c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H188V494h440v326z"}},{tag:"path",attrs:{d:"M819.3 328.5c-78.8-100.7-196-153.6-314.6-154.2l-.2-64c0-6.5-7.6-10.1-12.6-6.1l-128 101c-4 3.1-3.9 9.1 0 12.3L492 318.6c5.1 4 12.7.4 12.6-6.1v-63.9c12.9.1 25.9.9 38.8 2.5 42.1 5.2 82.1 18.2 119 38.7 38.1 21.2 71.2 49.7 98.4 84.3 27.1 34.7 46.7 73.7 58.1 115.8a325.95 325.95 0 016.5 140.9h74.9c14.8-103.6-11.3-213-81-302.3z"}}]},name:"rotate-left",theme:"outlined"},Vt=Et,We=l(17536),St=function(ye,qe){return A.createElement(We.Z,(0,W.Z)((0,W.Z)({},ye),{},{ref:qe,icon:Vt}))};St.displayName="RotateLeftOutlined";var Re=A.forwardRef(St),Se={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M480.5 251.2c13-1.6 25.9-2.4 38.8-2.5v63.9c0 6.5 7.5 10.1 12.6 6.1L660 217.6c4-3.2 4-9.2 0-12.3l-128-101c-5.1-4-12.6-.4-12.6 6.1l-.2 64c-118.6.5-235.8 53.4-314.6 154.2A399.75 399.75 0 00123.5 631h74.9c-.9-5.3-1.7-10.7-2.4-16.1-5.1-42.1-2.1-84.1 8.9-124.8 11.4-42.2 31-81.1 58.1-115.8 27.2-34.7 60.3-63.2 98.4-84.3 37-20.6 76.9-33.6 119.1-38.8z"}},{tag:"path",attrs:{d:"M880 418H352c-17.7 0-32 14.3-32 32v414c0 17.7 14.3 32 32 32h528c17.7 0 32-14.3 32-32V450c0-17.7-14.3-32-32-32zm-44 402H396V494h440v326z"}}]},name:"rotate-right",theme:"outlined"},Ee=Se,Be=function(ye,qe){return A.createElement(We.Z,(0,W.Z)((0,W.Z)({},ye),{},{ref:qe,icon:Ee}))};Be.displayName="RotateRightOutlined";var Xe=A.forwardRef(Be),Pt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H519V309c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v134H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h118v134c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V519h118c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-in",theme:"outlined"},jt=Pt,pn=function(ye,qe){return A.createElement(We.Z,(0,W.Z)((0,W.Z)({},ye),{},{ref:qe,icon:jt}))};pn.displayName="ZoomInOutlined";var at=A.forwardRef(pn),Mt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M637 443H325c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h312c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm284 424L775 721c122.1-148.9 113.6-369.5-26-509-148-148.1-388.4-148.1-537 0-148.1 148.6-148.1 389 0 537 139.5 139.6 360.1 148.1 509 26l146 146c3.2 2.8 8.3 2.8 11 0l43-43c2.8-2.7 2.8-7.8 0-11zM696 696c-118.8 118.7-311.2 118.7-430 0-118.7-118.8-118.7-311.2 0-430 118.8-118.7 311.2-118.7 430 0 118.7 118.8 118.7 311.2 0 430z"}}]},name:"zoom-out",theme:"outlined"},Gt=Mt,_n=function(ye,qe){return A.createElement(We.Z,(0,W.Z)((0,W.Z)({},ye),{},{ref:qe,icon:Gt}))};_n.displayName="ZoomOutOutlined";var Rn=A.forwardRef(_n),Wn=function(yt,ye){var qe={};for(var Wt in yt)Object.prototype.hasOwnProperty.call(yt,Wt)&&ye.indexOf(Wt)<0&&(qe[Wt]=yt[Wt]);if(yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Xt=0,Wt=Object.getOwnPropertySymbols(yt);Xt<Wt.length;Xt++)ye.indexOf(Wt[Xt])<0&&Object.prototype.propertyIsEnumerable.call(yt,Wt[Xt])&&(qe[Wt[Xt]]=yt[Wt[Xt]]);return qe},wn={rotateLeft:A.createElement(Re,null),rotateRight:A.createElement(Xe,null),zoomIn:A.createElement(at,null),zoomOut:A.createElement(Rn,null),close:A.createElement(ct.Z,null),left:A.createElement(ft.Z,null),right:A.createElement(Ot.Z,null)},je=function(ye){var qe=ye.previewPrefixCls,Wt=ye.preview,Xt=Wn(ye,["previewPrefixCls","preview"]),mn=A.useContext(Ze.E_),bn=mn.getPrefixCls,ot=bn("image-preview",qe),Rt=bn(),kt=A.useMemo(function(){if(Wt===!1)return Wt;var wt=(0,d.Z)(Wt)==="object"?Wt:{};return(0,C.Z)((0,C.Z)({},wt),{transitionName:(0,Fe.mL)(Rt,"zoom",wt.transitionName),maskTransitionName:(0,Fe.mL)(Rt,"fade",wt.maskTransitionName)})},[Wt]);return A.createElement(Le.PreviewGroup,(0,C.Z)({preview:kt,previewPrefixCls:ot,icons:wn},Xt))},qn=je,vt=function(yt,ye){var qe={};for(var Wt in yt)Object.prototype.hasOwnProperty.call(yt,Wt)&&ye.indexOf(Wt)<0&&(qe[Wt]=yt[Wt]);if(yt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Xt=0,Wt=Object.getOwnPropertySymbols(yt);Xt<Wt.length;Xt++)ye.indexOf(Wt[Xt])<0&&Object.prototype.propertyIsEnumerable.call(yt,Wt[Xt])&&(qe[Wt[Xt]]=yt[Wt[Xt]]);return qe},_e=function(ye){var qe=ye.prefixCls,Wt=ye.preview,Xt=vt(ye,["prefixCls","preview"]),mn=(0,A.useContext)(Ze.E_),bn=mn.getPrefixCls,ot=mn.locale,Rt=ot===void 0?Ge.Z:ot,kt=mn.getPopupContainer,wt=bn("image",qe),ln=bn(),_t=Rt.Image||Ge.Z.Image,di=A.useMemo(function(){if(Wt===!1)return Wt;var Xn=(0,d.Z)(Wt)==="object"?Wt:{},dn=Xn.getContainer,Ve=vt(Xn,["getContainer"]);return(0,C.Z)((0,C.Z)({mask:A.createElement("div",{className:"".concat(wt,"-mask-info")},A.createElement(j.Z,null),_t==null?void 0:_t.preview),icons:wn},Ve),{getContainer:dn||kt,transitionName:(0,Fe.mL)(ln,"zoom",Xn.transitionName),maskTransitionName:(0,Fe.mL)(ln,"fade",Xn.maskTransitionName)})},[Wt,_t]);return A.createElement(Le,(0,C.Z)({prefixCls:wt,preview:di},Xt))};_e.PreviewGroup=qn;var ht=_e},50672:function(nt,xe,l){"use strict";var C=l(14885);xe.Z=C.Z},53498:function(nt,xe,l){"use strict";var C=l(87981),d=l(39086)},2793:function(nt,xe,l){"use strict";l.d(xe,{Z:function(){return H}});var C=l(24255),d=l(15882),j=l(54465),W=l(84875),L=l.n(W),z=l(63313),P=l(47295),A=l(33759),T=function(Ke){var He,ze,Le=Ke.prefixCls,Ze=Ke.className,Ge=Ke.style,Fe=Ke.size,ct=Ke.shape,ft=L()((He={},(0,C.Z)(He,"".concat(Le,"-lg"),Fe==="large"),(0,C.Z)(He,"".concat(Le,"-sm"),Fe==="small"),He)),Ot=L()((ze={},(0,C.Z)(ze,"".concat(Le,"-circle"),ct==="circle"),(0,C.Z)(ze,"".concat(Le,"-square"),ct==="square"),(0,C.Z)(ze,"".concat(Le,"-round"),ct==="round"),ze)),Et=z.useMemo(function(){return typeof Fe=="number"?{width:Fe,height:Fe,lineHeight:"".concat(Fe,"px")}:{}},[Fe]);return z.createElement("span",{className:L()(Le,ft,Ot,Ze),style:(0,d.Z)((0,d.Z)({},Et),Ge)})},S=T,_=function(Ke){var He=Ke.prefixCls,ze=Ke.className,Le=Ke.active,Ze=Ke.shape,Ge=Ze===void 0?"circle":Ze,Fe=Ke.size,ct=Fe===void 0?"default":Fe,ft=z.useContext(P.E_),Ot=ft.getPrefixCls,Et=Ot("skeleton",He),Vt=(0,A.Z)(Ke,["prefixCls","className"]),We=L()(Et,"".concat(Et,"-element"),(0,C.Z)({},"".concat(Et,"-active"),Le),ze);return z.createElement("div",{className:We},z.createElement(S,(0,d.Z)({prefixCls:"".concat(Et,"-avatar"),shape:Ge,size:ct},Vt)))},y=_,u=function(Ke){var He,ze=Ke.prefixCls,Le=Ke.className,Ze=Ke.active,Ge=Ke.block,Fe=Ge===void 0?!1:Ge,ct=Ke.size,ft=ct===void 0?"default":ct,Ot=z.useContext(P.E_),Et=Ot.getPrefixCls,Vt=Et("skeleton",ze),We=(0,A.Z)(Ke,["prefixCls"]),St=L()(Vt,"".concat(Vt,"-element"),(He={},(0,C.Z)(He,"".concat(Vt,"-active"),Ze),(0,C.Z)(He,"".concat(Vt,"-block"),Fe),He),Le);return z.createElement("div",{className:St},z.createElement(S,(0,d.Z)({prefixCls:"".concat(Vt,"-button"),size:ft},We)))},a=u,b=l(56453),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"},N=D,I=l(17536),E=function(Ke,He){return z.createElement(I.Z,(0,b.Z)((0,b.Z)({},Ke),{},{ref:He,icon:N}))};E.displayName="DotChartOutlined";var O=z.forwardRef(E),R=function(Ke){var He=Ke.prefixCls,ze=Ke.className,Le=Ke.style,Ze=Ke.active,Ge=Ke.children,Fe=z.useContext(P.E_),ct=Fe.getPrefixCls,ft=ct("skeleton",He),Ot=L()(ft,"".concat(ft,"-element"),(0,C.Z)({},"".concat(ft,"-active"),Ze),ze),Et=Ge!=null?Ge:z.createElement(O,null);return z.createElement("div",{className:Ot},z.createElement("div",{className:L()("".concat(ft,"-image"),ze),style:Le},Et))},M=R,K="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",Z=function(Ke){var He=Ke.prefixCls,ze=Ke.className,Le=Ke.style,Ze=Ke.active,Ge=z.useContext(P.E_),Fe=Ge.getPrefixCls,ct=Fe("skeleton",He),ft=L()(ct,"".concat(ct,"-element"),(0,C.Z)({},"".concat(ct,"-active"),Ze),ze);return z.createElement("div",{className:ft},z.createElement("div",{className:L()("".concat(ct,"-image"),ze),style:Le},z.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:"".concat(ct,"-image-svg")},z.createElement("path",{d:K,className:"".concat(ct,"-image-path")}))))},te=Z,de=function(Ke){var He,ze=Ke.prefixCls,Le=Ke.className,Ze=Ke.active,Ge=Ke.block,Fe=Ke.size,ct=Fe===void 0?"default":Fe,ft=z.useContext(P.E_),Ot=ft.getPrefixCls,Et=Ot("skeleton",ze),Vt=(0,A.Z)(Ke,["prefixCls"]),We=L()(Et,"".concat(Et,"-element"),(He={},(0,C.Z)(He,"".concat(Et,"-active"),Ze),(0,C.Z)(He,"".concat(Et,"-block"),Ge),He),Le);return z.createElement("div",{className:We},z.createElement(S,(0,d.Z)({prefixCls:"".concat(Et,"-input"),size:ct},Vt)))},ge=de,le=l(94100),se=function(Ke){var He=function(ft){var Ot=Ke.width,Et=Ke.rows,Vt=Et===void 0?2:Et;if(Array.isArray(Ot))return Ot[ft];if(Vt-1===ft)return Ot},ze=Ke.prefixCls,Le=Ke.className,Ze=Ke.style,Ge=Ke.rows,Fe=(0,le.Z)(Array(Ge)).map(function(ct,ft){return z.createElement("li",{key:ft,style:{width:He(ft)}})});return z.createElement("ul",{className:L()(ze,Le),style:Ze},Fe)},X=se,re=function(Ke){var He=Ke.prefixCls,ze=Ke.className,Le=Ke.width,Ze=Ke.style;return z.createElement("h3",{className:L()(He,ze),style:(0,d.Z)({width:Le},Ze)})},ne=re;function U(ut){return ut&&(0,j.Z)(ut)==="object"?ut:{}}function oe(ut,Ke){return ut&&!Ke?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function q(ut,Ke){return!ut&&Ke?{width:"38%"}:ut&&Ke?{width:"50%"}:{}}function ae(ut,Ke){var He={};return(!ut||!Ke)&&(He.width="61%"),!ut&&Ke?He.rows=3:He.rows=2,He}var me=function(Ke){var He=Ke.prefixCls,ze=Ke.loading,Le=Ke.className,Ze=Ke.style,Ge=Ke.children,Fe=Ke.avatar,ct=Fe===void 0?!1:Fe,ft=Ke.title,Ot=ft===void 0?!0:ft,Et=Ke.paragraph,Vt=Et===void 0?!0:Et,We=Ke.active,St=Ke.round,Re=z.useContext(P.E_),Se=Re.getPrefixCls,Ee=Re.direction,Be=Se("skeleton",He);if(ze||!("loading"in Ke)){var Xe,Pt=!!ct,jt=!!Ot,pn=!!Vt,at;if(Pt){var Mt=(0,d.Z)((0,d.Z)({prefixCls:"".concat(Be,"-avatar")},oe(jt,pn)),U(ct));at=z.createElement("div",{className:"".concat(Be,"-header")},z.createElement(S,(0,d.Z)({},Mt)))}var Gt;if(jt||pn){var _n;if(jt){var Rn=(0,d.Z)((0,d.Z)({prefixCls:"".concat(Be,"-title")},q(Pt,pn)),U(Ot));_n=z.createElement(ne,(0,d.Z)({},Rn))}var Wn;if(pn){var wn=(0,d.Z)((0,d.Z)({prefixCls:"".concat(Be,"-paragraph")},ae(Pt,jt)),U(Vt));Wn=z.createElement(X,(0,d.Z)({},wn))}Gt=z.createElement("div",{className:"".concat(Be,"-content")},_n,Wn)}var je=L()(Be,(Xe={},(0,C.Z)(Xe,"".concat(Be,"-with-avatar"),Pt),(0,C.Z)(Xe,"".concat(Be,"-active"),We),(0,C.Z)(Xe,"".concat(Be,"-rtl"),Ee==="rtl"),(0,C.Z)(Xe,"".concat(Be,"-round"),St),Xe),Le);return z.createElement("div",{className:je,style:Ze},at,Gt)}return typeof Ge!="undefined"?Ge:null};me.Button=a,me.Avatar=y,me.Input=ge,me.Image=te,me.Node=M;var ke=me,H=ke},39086:function(nt,xe,l){"use strict";var C=l(87981)},65415:function(nt,xe){"use strict";xe.byteLength=P,xe.toByteArray=T,xe.fromByteArray=y;for(var l=[],C=[],d=typeof Uint8Array!="undefined"?Uint8Array:Array,j="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",W=0,L=j.length;W<L;++W)l[W]=j[W],C[j.charCodeAt(W)]=W;C["-".charCodeAt(0)]=62,C["_".charCodeAt(0)]=63;function z(u){var a=u.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var b=u.indexOf("=");b===-1&&(b=a);var D=b===a?0:4-b%4;return[b,D]}function P(u){var a=z(u),b=a[0],D=a[1];return(b+D)*3/4-D}function A(u,a,b){return(a+b)*3/4-b}function T(u){var a,b=z(u),D=b[0],N=b[1],I=new d(A(u,D,N)),E=0,O=N>0?D-4:D,R;for(R=0;R<O;R+=4)a=C[u.charCodeAt(R)]<<18|C[u.charCodeAt(R+1)]<<12|C[u.charCodeAt(R+2)]<<6|C[u.charCodeAt(R+3)],I[E++]=a>>16&255,I[E++]=a>>8&255,I[E++]=a&255;return N===2&&(a=C[u.charCodeAt(R)]<<2|C[u.charCodeAt(R+1)]>>4,I[E++]=a&255),N===1&&(a=C[u.charCodeAt(R)]<<10|C[u.charCodeAt(R+1)]<<4|C[u.charCodeAt(R+2)]>>2,I[E++]=a>>8&255,I[E++]=a&255),I}function S(u){return l[u>>18&63]+l[u>>12&63]+l[u>>6&63]+l[u&63]}function _(u,a,b){for(var D,N=[],I=a;I<b;I+=3)D=(u[I]<<16&16711680)+(u[I+1]<<8&65280)+(u[I+2]&255),N.push(S(D));return N.join("")}function y(u){for(var a,b=u.length,D=b%3,N=[],I=16383,E=0,O=b-D;E<O;E+=I)N.push(_(u,E,E+I>O?O:E+I));return D===1?(a=u[b-1],N.push(l[a>>2]+l[a<<4&63]+"==")):D===2&&(a=(u[b-2]<<8)+u[b-1],N.push(l[a>>10]+l[a>>4&63]+l[a<<2&63]+"=")),N.join("")}},36379:function(nt,xe,l){"use strict";var C;var d=l(65415),j=l(30551),W=l(79673);xe.lW=A,C=I,xe.h2=50,A.TYPED_ARRAY_SUPPORT=l.g.TYPED_ARRAY_SUPPORT!==void 0?l.g.TYPED_ARRAY_SUPPORT:L(),C=z();function L(){try{var Re=new Uint8Array(1);return Re.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Re.foo()===42&&typeof Re.subarray=="function"&&Re.subarray(1,1).byteLength===0}catch(Se){return!1}}function z(){return A.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function P(Re,Se){if(z()<Se)throw new RangeError("Invalid typed array length");return A.TYPED_ARRAY_SUPPORT?(Re=new Uint8Array(Se),Re.__proto__=A.prototype):(Re===null&&(Re=new A(Se)),Re.length=Se),Re}function A(Re,Se,Ee){if(!A.TYPED_ARRAY_SUPPORT&&!(this instanceof A))return new A(Re,Se,Ee);if(typeof Re=="number"){if(typeof Se=="string")throw new Error("If encoding is specified then the first argument must be a string");return y(this,Re)}return T(this,Re,Se,Ee)}A.poolSize=8192,A._augment=function(Re){return Re.__proto__=A.prototype,Re};function T(Re,Se,Ee,Be){if(typeof Se=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&Se instanceof ArrayBuffer?b(Re,Se,Ee,Be):typeof Se=="string"?u(Re,Se,Ee):D(Re,Se)}A.from=function(Re,Se,Ee){return T(null,Re,Se,Ee)},A.TYPED_ARRAY_SUPPORT&&(A.prototype.__proto__=Uint8Array.prototype,A.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&A[Symbol.species]===A&&Object.defineProperty(A,Symbol.species,{value:null,configurable:!0}));function S(Re){if(typeof Re!="number")throw new TypeError('"size" argument must be a number');if(Re<0)throw new RangeError('"size" argument must not be negative')}function _(Re,Se,Ee,Be){return S(Se),Se<=0?P(Re,Se):Ee!==void 0?typeof Be=="string"?P(Re,Se).fill(Ee,Be):P(Re,Se).fill(Ee):P(Re,Se)}A.alloc=function(Re,Se,Ee){return _(null,Re,Se,Ee)};function y(Re,Se){if(S(Se),Re=P(Re,Se<0?0:N(Se)|0),!A.TYPED_ARRAY_SUPPORT)for(var Ee=0;Ee<Se;++Ee)Re[Ee]=0;return Re}A.allocUnsafe=function(Re){return y(null,Re)},A.allocUnsafeSlow=function(Re){return y(null,Re)};function u(Re,Se,Ee){if((typeof Ee!="string"||Ee==="")&&(Ee="utf8"),!A.isEncoding(Ee))throw new TypeError('"encoding" must be a valid string encoding');var Be=E(Se,Ee)|0;Re=P(Re,Be);var Xe=Re.write(Se,Ee);return Xe!==Be&&(Re=Re.slice(0,Xe)),Re}function a(Re,Se){var Ee=Se.length<0?0:N(Se.length)|0;Re=P(Re,Ee);for(var Be=0;Be<Ee;Be+=1)Re[Be]=Se[Be]&255;return Re}function b(Re,Se,Ee,Be){if(Se.byteLength,Ee<0||Se.byteLength<Ee)throw new RangeError("'offset' is out of bounds");if(Se.byteLength<Ee+(Be||0))throw new RangeError("'length' is out of bounds");return Ee===void 0&&Be===void 0?Se=new Uint8Array(Se):Be===void 0?Se=new Uint8Array(Se,Ee):Se=new Uint8Array(Se,Ee,Be),A.TYPED_ARRAY_SUPPORT?(Re=Se,Re.__proto__=A.prototype):Re=a(Re,Se),Re}function D(Re,Se){if(A.isBuffer(Se)){var Ee=N(Se.length)|0;return Re=P(Re,Ee),Re.length===0||Se.copy(Re,0,0,Ee),Re}if(Se){if(typeof ArrayBuffer!="undefined"&&Se.buffer instanceof ArrayBuffer||"length"in Se)return typeof Se.length!="number"||St(Se.length)?P(Re,0):a(Re,Se);if(Se.type==="Buffer"&&W(Se.data))return a(Re,Se.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function N(Re){if(Re>=z())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+z().toString(16)+" bytes");return Re|0}function I(Re){return+Re!=Re&&(Re=0),A.alloc(+Re)}A.isBuffer=function(Se){return!!(Se!=null&&Se._isBuffer)},A.compare=function(Se,Ee){if(!A.isBuffer(Se)||!A.isBuffer(Ee))throw new TypeError("Arguments must be Buffers");if(Se===Ee)return 0;for(var Be=Se.length,Xe=Ee.length,Pt=0,jt=Math.min(Be,Xe);Pt<jt;++Pt)if(Se[Pt]!==Ee[Pt]){Be=Se[Pt],Xe=Ee[Pt];break}return Be<Xe?-1:Xe<Be?1:0},A.isEncoding=function(Se){switch(String(Se).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},A.concat=function(Se,Ee){if(!W(Se))throw new TypeError('"list" argument must be an Array of Buffers');if(Se.length===0)return A.alloc(0);var Be;if(Ee===void 0)for(Ee=0,Be=0;Be<Se.length;++Be)Ee+=Se[Be].length;var Xe=A.allocUnsafe(Ee),Pt=0;for(Be=0;Be<Se.length;++Be){var jt=Se[Be];if(!A.isBuffer(jt))throw new TypeError('"list" argument must be an Array of Buffers');jt.copy(Xe,Pt),Pt+=jt.length}return Xe};function E(Re,Se){if(A.isBuffer(Re))return Re.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Re)||Re instanceof ArrayBuffer))return Re.byteLength;typeof Re!="string"&&(Re=""+Re);var Ee=Re.length;if(Ee===0)return 0;for(var Be=!1;;)switch(Se){case"ascii":case"latin1":case"binary":return Ee;case"utf8":case"utf-8":case void 0:return ft(Re).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ee*2;case"hex":return Ee>>>1;case"base64":return Vt(Re).length;default:if(Be)return ft(Re).length;Se=(""+Se).toLowerCase(),Be=!0}}A.byteLength=E;function O(Re,Se,Ee){var Be=!1;if((Se===void 0||Se<0)&&(Se=0),Se>this.length||((Ee===void 0||Ee>this.length)&&(Ee=this.length),Ee<=0)||(Ee>>>=0,Se>>>=0,Ee<=Se))return"";for(Re||(Re="utf8");;)switch(Re){case"hex":return ae(this,Se,Ee);case"utf8":case"utf-8":return re(this,Se,Ee);case"ascii":return oe(this,Se,Ee);case"latin1":case"binary":return q(this,Se,Ee);case"base64":return X(this,Se,Ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,Se,Ee);default:if(Be)throw new TypeError("Unknown encoding: "+Re);Re=(Re+"").toLowerCase(),Be=!0}}A.prototype._isBuffer=!0;function R(Re,Se,Ee){var Be=Re[Se];Re[Se]=Re[Ee],Re[Ee]=Be}A.prototype.swap16=function(){var Se=this.length;if(Se%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var Ee=0;Ee<Se;Ee+=2)R(this,Ee,Ee+1);return this},A.prototype.swap32=function(){var Se=this.length;if(Se%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var Ee=0;Ee<Se;Ee+=4)R(this,Ee,Ee+3),R(this,Ee+1,Ee+2);return this},A.prototype.swap64=function(){var Se=this.length;if(Se%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var Ee=0;Ee<Se;Ee+=8)R(this,Ee,Ee+7),R(this,Ee+1,Ee+6),R(this,Ee+2,Ee+5),R(this,Ee+3,Ee+4);return this},A.prototype.toString=function(){var Se=this.length|0;return Se===0?"":arguments.length===0?re(this,0,Se):O.apply(this,arguments)},A.prototype.equals=function(Se){if(!A.isBuffer(Se))throw new TypeError("Argument must be a Buffer");return this===Se?!0:A.compare(this,Se)===0},A.prototype.inspect=function(){var Se="",Ee=xe.h2;return this.length>0&&(Se=this.toString("hex",0,Ee).match(/.{2}/g).join(" "),this.length>Ee&&(Se+=" ... ")),"<Buffer "+Se+">"},A.prototype.compare=function(Se,Ee,Be,Xe,Pt){if(!A.isBuffer(Se))throw new TypeError("Argument must be a Buffer");if(Ee===void 0&&(Ee=0),Be===void 0&&(Be=Se?Se.length:0),Xe===void 0&&(Xe=0),Pt===void 0&&(Pt=this.length),Ee<0||Be>Se.length||Xe<0||Pt>this.length)throw new RangeError("out of range index");if(Xe>=Pt&&Ee>=Be)return 0;if(Xe>=Pt)return-1;if(Ee>=Be)return 1;if(Ee>>>=0,Be>>>=0,Xe>>>=0,Pt>>>=0,this===Se)return 0;for(var jt=Pt-Xe,pn=Be-Ee,at=Math.min(jt,pn),Mt=this.slice(Xe,Pt),Gt=Se.slice(Ee,Be),_n=0;_n<at;++_n)if(Mt[_n]!==Gt[_n]){jt=Mt[_n],pn=Gt[_n];break}return jt<pn?-1:pn<jt?1:0};function M(Re,Se,Ee,Be,Xe){if(Re.length===0)return-1;if(typeof Ee=="string"?(Be=Ee,Ee=0):Ee>2147483647?Ee=2147483647:Ee<-2147483648&&(Ee=-2147483648),Ee=+Ee,isNaN(Ee)&&(Ee=Xe?0:Re.length-1),Ee<0&&(Ee=Re.length+Ee),Ee>=Re.length){if(Xe)return-1;Ee=Re.length-1}else if(Ee<0)if(Xe)Ee=0;else return-1;if(typeof Se=="string"&&(Se=A.from(Se,Be)),A.isBuffer(Se))return Se.length===0?-1:K(Re,Se,Ee,Be,Xe);if(typeof Se=="number")return Se=Se&255,A.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?Xe?Uint8Array.prototype.indexOf.call(Re,Se,Ee):Uint8Array.prototype.lastIndexOf.call(Re,Se,Ee):K(Re,[Se],Ee,Be,Xe);throw new TypeError("val must be string, number or Buffer")}function K(Re,Se,Ee,Be,Xe){var Pt=1,jt=Re.length,pn=Se.length;if(Be!==void 0&&(Be=String(Be).toLowerCase(),Be==="ucs2"||Be==="ucs-2"||Be==="utf16le"||Be==="utf-16le")){if(Re.length<2||Se.length<2)return-1;Pt=2,jt/=2,pn/=2,Ee/=2}function at(Wn,wn){return Pt===1?Wn[wn]:Wn.readUInt16BE(wn*Pt)}var Mt;if(Xe){var Gt=-1;for(Mt=Ee;Mt<jt;Mt++)if(at(Re,Mt)===at(Se,Gt===-1?0:Mt-Gt)){if(Gt===-1&&(Gt=Mt),Mt-Gt+1===pn)return Gt*Pt}else Gt!==-1&&(Mt-=Mt-Gt),Gt=-1}else for(Ee+pn>jt&&(Ee=jt-pn),Mt=Ee;Mt>=0;Mt--){for(var _n=!0,Rn=0;Rn<pn;Rn++)if(at(Re,Mt+Rn)!==at(Se,Rn)){_n=!1;break}if(_n)return Mt}return-1}A.prototype.includes=function(Se,Ee,Be){return this.indexOf(Se,Ee,Be)!==-1},A.prototype.indexOf=function(Se,Ee,Be){return M(this,Se,Ee,Be,!0)},A.prototype.lastIndexOf=function(Se,Ee,Be){return M(this,Se,Ee,Be,!1)};function Z(Re,Se,Ee,Be){Ee=Number(Ee)||0;var Xe=Re.length-Ee;Be?(Be=Number(Be),Be>Xe&&(Be=Xe)):Be=Xe;var Pt=Se.length;if(Pt%2!==0)throw new TypeError("Invalid hex string");Be>Pt/2&&(Be=Pt/2);for(var jt=0;jt<Be;++jt){var pn=parseInt(Se.substr(jt*2,2),16);if(isNaN(pn))return jt;Re[Ee+jt]=pn}return jt}function te(Re,Se,Ee,Be){return We(ft(Se,Re.length-Ee),Re,Ee,Be)}function de(Re,Se,Ee,Be){return We(Ot(Se),Re,Ee,Be)}function ge(Re,Se,Ee,Be){return de(Re,Se,Ee,Be)}function le(Re,Se,Ee,Be){return We(Vt(Se),Re,Ee,Be)}function se(Re,Se,Ee,Be){return We(Et(Se,Re.length-Ee),Re,Ee,Be)}A.prototype.write=function(Se,Ee,Be,Xe){if(Ee===void 0)Xe="utf8",Be=this.length,Ee=0;else if(Be===void 0&&typeof Ee=="string")Xe=Ee,Be=this.length,Ee=0;else if(isFinite(Ee))Ee=Ee|0,isFinite(Be)?(Be=Be|0,Xe===void 0&&(Xe="utf8")):(Xe=Be,Be=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Pt=this.length-Ee;if((Be===void 0||Be>Pt)&&(Be=Pt),Se.length>0&&(Be<0||Ee<0)||Ee>this.length)throw new RangeError("Attempt to write outside buffer bounds");Xe||(Xe="utf8");for(var jt=!1;;)switch(Xe){case"hex":return Z(this,Se,Ee,Be);case"utf8":case"utf-8":return te(this,Se,Ee,Be);case"ascii":return de(this,Se,Ee,Be);case"latin1":case"binary":return ge(this,Se,Ee,Be);case"base64":return le(this,Se,Ee,Be);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,Se,Ee,Be);default:if(jt)throw new TypeError("Unknown encoding: "+Xe);Xe=(""+Xe).toLowerCase(),jt=!0}},A.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function X(Re,Se,Ee){return Se===0&&Ee===Re.length?d.fromByteArray(Re):d.fromByteArray(Re.slice(Se,Ee))}function re(Re,Se,Ee){Ee=Math.min(Re.length,Ee);for(var Be=[],Xe=Se;Xe<Ee;){var Pt=Re[Xe],jt=null,pn=Pt>239?4:Pt>223?3:Pt>191?2:1;if(Xe+pn<=Ee){var at,Mt,Gt,_n;switch(pn){case 1:Pt<128&&(jt=Pt);break;case 2:at=Re[Xe+1],(at&192)===128&&(_n=(Pt&31)<<6|at&63,_n>127&&(jt=_n));break;case 3:at=Re[Xe+1],Mt=Re[Xe+2],(at&192)===128&&(Mt&192)===128&&(_n=(Pt&15)<<12|(at&63)<<6|Mt&63,_n>2047&&(_n<55296||_n>57343)&&(jt=_n));break;case 4:at=Re[Xe+1],Mt=Re[Xe+2],Gt=Re[Xe+3],(at&192)===128&&(Mt&192)===128&&(Gt&192)===128&&(_n=(Pt&15)<<18|(at&63)<<12|(Mt&63)<<6|Gt&63,_n>65535&&_n<1114112&&(jt=_n))}}jt===null?(jt=65533,pn=1):jt>65535&&(jt-=65536,Be.push(jt>>>10&1023|55296),jt=56320|jt&1023),Be.push(jt),Xe+=pn}return U(Be)}var ne=4096;function U(Re){var Se=Re.length;if(Se<=ne)return String.fromCharCode.apply(String,Re);for(var Ee="",Be=0;Be<Se;)Ee+=String.fromCharCode.apply(String,Re.slice(Be,Be+=ne));return Ee}function oe(Re,Se,Ee){var Be="";Ee=Math.min(Re.length,Ee);for(var Xe=Se;Xe<Ee;++Xe)Be+=String.fromCharCode(Re[Xe]&127);return Be}function q(Re,Se,Ee){var Be="";Ee=Math.min(Re.length,Ee);for(var Xe=Se;Xe<Ee;++Xe)Be+=String.fromCharCode(Re[Xe]);return Be}function ae(Re,Se,Ee){var Be=Re.length;(!Se||Se<0)&&(Se=0),(!Ee||Ee<0||Ee>Be)&&(Ee=Be);for(var Xe="",Pt=Se;Pt<Ee;++Pt)Xe+=ct(Re[Pt]);return Xe}function me(Re,Se,Ee){for(var Be=Re.slice(Se,Ee),Xe="",Pt=0;Pt<Be.length;Pt+=2)Xe+=String.fromCharCode(Be[Pt]+Be[Pt+1]*256);return Xe}A.prototype.slice=function(Se,Ee){var Be=this.length;Se=~~Se,Ee=Ee===void 0?Be:~~Ee,Se<0?(Se+=Be,Se<0&&(Se=0)):Se>Be&&(Se=Be),Ee<0?(Ee+=Be,Ee<0&&(Ee=0)):Ee>Be&&(Ee=Be),Ee<Se&&(Ee=Se);var Xe;if(A.TYPED_ARRAY_SUPPORT)Xe=this.subarray(Se,Ee),Xe.__proto__=A.prototype;else{var Pt=Ee-Se;Xe=new A(Pt,void 0);for(var jt=0;jt<Pt;++jt)Xe[jt]=this[jt+Se]}return Xe};function ke(Re,Se,Ee){if(Re%1!==0||Re<0)throw new RangeError("offset is not uint");if(Re+Se>Ee)throw new RangeError("Trying to access beyond buffer length")}A.prototype.readUIntLE=function(Se,Ee,Be){Se=Se|0,Ee=Ee|0,Be||ke(Se,Ee,this.length);for(var Xe=this[Se],Pt=1,jt=0;++jt<Ee&&(Pt*=256);)Xe+=this[Se+jt]*Pt;return Xe},A.prototype.readUIntBE=function(Se,Ee,Be){Se=Se|0,Ee=Ee|0,Be||ke(Se,Ee,this.length);for(var Xe=this[Se+--Ee],Pt=1;Ee>0&&(Pt*=256);)Xe+=this[Se+--Ee]*Pt;return Xe},A.prototype.readUInt8=function(Se,Ee){return Ee||ke(Se,1,this.length),this[Se]},A.prototype.readUInt16LE=function(Se,Ee){return Ee||ke(Se,2,this.length),this[Se]|this[Se+1]<<8},A.prototype.readUInt16BE=function(Se,Ee){return Ee||ke(Se,2,this.length),this[Se]<<8|this[Se+1]},A.prototype.readUInt32LE=function(Se,Ee){return Ee||ke(Se,4,this.length),(this[Se]|this[Se+1]<<8|this[Se+2]<<16)+this[Se+3]*16777216},A.prototype.readUInt32BE=function(Se,Ee){return Ee||ke(Se,4,this.length),this[Se]*16777216+(this[Se+1]<<16|this[Se+2]<<8|this[Se+3])},A.prototype.readIntLE=function(Se,Ee,Be){Se=Se|0,Ee=Ee|0,Be||ke(Se,Ee,this.length);for(var Xe=this[Se],Pt=1,jt=0;++jt<Ee&&(Pt*=256);)Xe+=this[Se+jt]*Pt;return Pt*=128,Xe>=Pt&&(Xe-=Math.pow(2,8*Ee)),Xe},A.prototype.readIntBE=function(Se,Ee,Be){Se=Se|0,Ee=Ee|0,Be||ke(Se,Ee,this.length);for(var Xe=Ee,Pt=1,jt=this[Se+--Xe];Xe>0&&(Pt*=256);)jt+=this[Se+--Xe]*Pt;return Pt*=128,jt>=Pt&&(jt-=Math.pow(2,8*Ee)),jt},A.prototype.readInt8=function(Se,Ee){return Ee||ke(Se,1,this.length),this[Se]&128?(255-this[Se]+1)*-1:this[Se]},A.prototype.readInt16LE=function(Se,Ee){Ee||ke(Se,2,this.length);var Be=this[Se]|this[Se+1]<<8;return Be&32768?Be|4294901760:Be},A.prototype.readInt16BE=function(Se,Ee){Ee||ke(Se,2,this.length);var Be=this[Se+1]|this[Se]<<8;return Be&32768?Be|4294901760:Be},A.prototype.readInt32LE=function(Se,Ee){return Ee||ke(Se,4,this.length),this[Se]|this[Se+1]<<8|this[Se+2]<<16|this[Se+3]<<24},A.prototype.readInt32BE=function(Se,Ee){return Ee||ke(Se,4,this.length),this[Se]<<24|this[Se+1]<<16|this[Se+2]<<8|this[Se+3]},A.prototype.readFloatLE=function(Se,Ee){return Ee||ke(Se,4,this.length),j.read(this,Se,!0,23,4)},A.prototype.readFloatBE=function(Se,Ee){return Ee||ke(Se,4,this.length),j.read(this,Se,!1,23,4)},A.prototype.readDoubleLE=function(Se,Ee){return Ee||ke(Se,8,this.length),j.read(this,Se,!0,52,8)},A.prototype.readDoubleBE=function(Se,Ee){return Ee||ke(Se,8,this.length),j.read(this,Se,!1,52,8)};function H(Re,Se,Ee,Be,Xe,Pt){if(!A.isBuffer(Re))throw new TypeError('"buffer" argument must be a Buffer instance');if(Se>Xe||Se<Pt)throw new RangeError('"value" argument is out of bounds');if(Ee+Be>Re.length)throw new RangeError("Index out of range")}A.prototype.writeUIntLE=function(Se,Ee,Be,Xe){if(Se=+Se,Ee=Ee|0,Be=Be|0,!Xe){var Pt=Math.pow(2,8*Be)-1;H(this,Se,Ee,Be,Pt,0)}var jt=1,pn=0;for(this[Ee]=Se&255;++pn<Be&&(jt*=256);)this[Ee+pn]=Se/jt&255;return Ee+Be},A.prototype.writeUIntBE=function(Se,Ee,Be,Xe){if(Se=+Se,Ee=Ee|0,Be=Be|0,!Xe){var Pt=Math.pow(2,8*Be)-1;H(this,Se,Ee,Be,Pt,0)}var jt=Be-1,pn=1;for(this[Ee+jt]=Se&255;--jt>=0&&(pn*=256);)this[Ee+jt]=Se/pn&255;return Ee+Be},A.prototype.writeUInt8=function(Se,Ee,Be){return Se=+Se,Ee=Ee|0,Be||H(this,Se,Ee,1,255,0),A.TYPED_ARRAY_SUPPORT||(Se=Math.floor(Se)),this[Ee]=Se&255,Ee+1};function ut(Re,Se,Ee,Be){Se<0&&(Se=65535+Se+1);for(var Xe=0,Pt=Math.min(Re.length-Ee,2);Xe<Pt;++Xe)Re[Ee+Xe]=(Se&255<<8*(Be?Xe:1-Xe))>>>(Be?Xe:1-Xe)*8}A.prototype.writeUInt16LE=function(Se,Ee,Be){return Se=+Se,Ee=Ee|0,Be||H(this,Se,Ee,2,65535,0),A.TYPED_ARRAY_SUPPORT?(this[Ee]=Se&255,this[Ee+1]=Se>>>8):ut(this,Se,Ee,!0),Ee+2},A.prototype.writeUInt16BE=function(Se,Ee,Be){return Se=+Se,Ee=Ee|0,Be||H(this,Se,Ee,2,65535,0),A.TYPED_ARRAY_SUPPORT?(this[Ee]=Se>>>8,this[Ee+1]=Se&255):ut(this,Se,Ee,!1),Ee+2};function Ke(Re,Se,Ee,Be){Se<0&&(Se=4294967295+Se+1);for(var Xe=0,Pt=Math.min(Re.length-Ee,4);Xe<Pt;++Xe)Re[Ee+Xe]=Se>>>(Be?Xe:3-Xe)*8&255}A.prototype.writeUInt32LE=function(Se,Ee,Be){return Se=+Se,Ee=Ee|0,Be||H(this,Se,Ee,4,4294967295,0),A.TYPED_ARRAY_SUPPORT?(this[Ee+3]=Se>>>24,this[Ee+2]=Se>>>16,this[Ee+1]=Se>>>8,this[Ee]=Se&255):Ke(this,Se,Ee,!0),Ee+4},A.prototype.writeUInt32BE=function(Se,Ee,Be){return Se=+Se,Ee=Ee|0,Be||H(this,Se,Ee,4,4294967295,0),A.TYPED_ARRAY_SUPPORT?(this[Ee]=Se>>>24,this[Ee+1]=Se>>>16,this[Ee+2]=Se>>>8,this[Ee+3]=Se&255):Ke(this,Se,Ee,!1),Ee+4},A.prototype.writeIntLE=function(Se,Ee,Be,Xe){if(Se=+Se,Ee=Ee|0,!Xe){var Pt=Math.pow(2,8*Be-1);H(this,Se,Ee,Be,Pt-1,-Pt)}var jt=0,pn=1,at=0;for(this[Ee]=Se&255;++jt<Be&&(pn*=256);)Se<0&&at===0&&this[Ee+jt-1]!==0&&(at=1),this[Ee+jt]=(Se/pn>>0)-at&255;return Ee+Be},A.prototype.writeIntBE=function(Se,Ee,Be,Xe){if(Se=+Se,Ee=Ee|0,!Xe){var Pt=Math.pow(2,8*Be-1);H(this,Se,Ee,Be,Pt-1,-Pt)}var jt=Be-1,pn=1,at=0;for(this[Ee+jt]=Se&255;--jt>=0&&(pn*=256);)Se<0&&at===0&&this[Ee+jt+1]!==0&&(at=1),this[Ee+jt]=(Se/pn>>0)-at&255;return Ee+Be},A.prototype.writeInt8=function(Se,Ee,Be){return Se=+Se,Ee=Ee|0,Be||H(this,Se,Ee,1,127,-128),A.TYPED_ARRAY_SUPPORT||(Se=Math.floor(Se)),Se<0&&(Se=255+Se+1),this[Ee]=Se&255,Ee+1},A.prototype.writeInt16LE=function(Se,Ee,Be){return Se=+Se,Ee=Ee|0,Be||H(this,Se,Ee,2,32767,-32768),A.TYPED_ARRAY_SUPPORT?(this[Ee]=Se&255,this[Ee+1]=Se>>>8):ut(this,Se,Ee,!0),Ee+2},A.prototype.writeInt16BE=function(Se,Ee,Be){return Se=+Se,Ee=Ee|0,Be||H(this,Se,Ee,2,32767,-32768),A.TYPED_ARRAY_SUPPORT?(this[Ee]=Se>>>8,this[Ee+1]=Se&255):ut(this,Se,Ee,!1),Ee+2},A.prototype.writeInt32LE=function(Se,Ee,Be){return Se=+Se,Ee=Ee|0,Be||H(this,Se,Ee,4,2147483647,-2147483648),A.TYPED_ARRAY_SUPPORT?(this[Ee]=Se&255,this[Ee+1]=Se>>>8,this[Ee+2]=Se>>>16,this[Ee+3]=Se>>>24):Ke(this,Se,Ee,!0),Ee+4},A.prototype.writeInt32BE=function(Se,Ee,Be){return Se=+Se,Ee=Ee|0,Be||H(this,Se,Ee,4,2147483647,-2147483648),Se<0&&(Se=4294967295+Se+1),A.TYPED_ARRAY_SUPPORT?(this[Ee]=Se>>>24,this[Ee+1]=Se>>>16,this[Ee+2]=Se>>>8,this[Ee+3]=Se&255):Ke(this,Se,Ee,!1),Ee+4};function He(Re,Se,Ee,Be,Xe,Pt){if(Ee+Be>Re.length)throw new RangeError("Index out of range");if(Ee<0)throw new RangeError("Index out of range")}function ze(Re,Se,Ee,Be,Xe){return Xe||He(Re,Se,Ee,4,34028234663852886e22,-34028234663852886e22),j.write(Re,Se,Ee,Be,23,4),Ee+4}A.prototype.writeFloatLE=function(Se,Ee,Be){return ze(this,Se,Ee,!0,Be)},A.prototype.writeFloatBE=function(Se,Ee,Be){return ze(this,Se,Ee,!1,Be)};function Le(Re,Se,Ee,Be,Xe){return Xe||He(Re,Se,Ee,8,17976931348623157e292,-17976931348623157e292),j.write(Re,Se,Ee,Be,52,8),Ee+8}A.prototype.writeDoubleLE=function(Se,Ee,Be){return Le(this,Se,Ee,!0,Be)},A.prototype.writeDoubleBE=function(Se,Ee,Be){return Le(this,Se,Ee,!1,Be)},A.prototype.copy=function(Se,Ee,Be,Xe){if(Be||(Be=0),!Xe&&Xe!==0&&(Xe=this.length),Ee>=Se.length&&(Ee=Se.length),Ee||(Ee=0),Xe>0&&Xe<Be&&(Xe=Be),Xe===Be||Se.length===0||this.length===0)return 0;if(Ee<0)throw new RangeError("targetStart out of bounds");if(Be<0||Be>=this.length)throw new RangeError("sourceStart out of bounds");if(Xe<0)throw new RangeError("sourceEnd out of bounds");Xe>this.length&&(Xe=this.length),Se.length-Ee<Xe-Be&&(Xe=Se.length-Ee+Be);var Pt=Xe-Be,jt;if(this===Se&&Be<Ee&&Ee<Xe)for(jt=Pt-1;jt>=0;--jt)Se[jt+Ee]=this[jt+Be];else if(Pt<1e3||!A.TYPED_ARRAY_SUPPORT)for(jt=0;jt<Pt;++jt)Se[jt+Ee]=this[jt+Be];else Uint8Array.prototype.set.call(Se,this.subarray(Be,Be+Pt),Ee);return Pt},A.prototype.fill=function(Se,Ee,Be,Xe){if(typeof Se=="string"){if(typeof Ee=="string"?(Xe=Ee,Ee=0,Be=this.length):typeof Be=="string"&&(Xe=Be,Be=this.length),Se.length===1){var Pt=Se.charCodeAt(0);Pt<256&&(Se=Pt)}if(Xe!==void 0&&typeof Xe!="string")throw new TypeError("encoding must be a string");if(typeof Xe=="string"&&!A.isEncoding(Xe))throw new TypeError("Unknown encoding: "+Xe)}else typeof Se=="number"&&(Se=Se&255);if(Ee<0||this.length<Ee||this.length<Be)throw new RangeError("Out of range index");if(Be<=Ee)return this;Ee=Ee>>>0,Be=Be===void 0?this.length:Be>>>0,Se||(Se=0);var jt;if(typeof Se=="number")for(jt=Ee;jt<Be;++jt)this[jt]=Se;else{var pn=A.isBuffer(Se)?Se:ft(new A(Se,Xe).toString()),at=pn.length;for(jt=0;jt<Be-Ee;++jt)this[jt+Ee]=pn[jt%at]}return this};var Ze=/[^+\/0-9A-Za-z-_]/g;function Ge(Re){if(Re=Fe(Re).replace(Ze,""),Re.length<2)return"";for(;Re.length%4!==0;)Re=Re+"=";return Re}function Fe(Re){return Re.trim?Re.trim():Re.replace(/^\s+|\s+$/g,"")}function ct(Re){return Re<16?"0"+Re.toString(16):Re.toString(16)}function ft(Re,Se){Se=Se||1/0;for(var Ee,Be=Re.length,Xe=null,Pt=[],jt=0;jt<Be;++jt){if(Ee=Re.charCodeAt(jt),Ee>55295&&Ee<57344){if(!Xe){if(Ee>56319){(Se-=3)>-1&&Pt.push(239,191,189);continue}else if(jt+1===Be){(Se-=3)>-1&&Pt.push(239,191,189);continue}Xe=Ee;continue}if(Ee<56320){(Se-=3)>-1&&Pt.push(239,191,189),Xe=Ee;continue}Ee=(Xe-55296<<10|Ee-56320)+65536}else Xe&&(Se-=3)>-1&&Pt.push(239,191,189);if(Xe=null,Ee<128){if((Se-=1)<0)break;Pt.push(Ee)}else if(Ee<2048){if((Se-=2)<0)break;Pt.push(Ee>>6|192,Ee&63|128)}else if(Ee<65536){if((Se-=3)<0)break;Pt.push(Ee>>12|224,Ee>>6&63|128,Ee&63|128)}else if(Ee<1114112){if((Se-=4)<0)break;Pt.push(Ee>>18|240,Ee>>12&63|128,Ee>>6&63|128,Ee&63|128)}else throw new Error("Invalid code point")}return Pt}function Ot(Re){for(var Se=[],Ee=0;Ee<Re.length;++Ee)Se.push(Re.charCodeAt(Ee)&255);return Se}function Et(Re,Se){for(var Ee,Be,Xe,Pt=[],jt=0;jt<Re.length&&!((Se-=2)<0);++jt)Ee=Re.charCodeAt(jt),Be=Ee>>8,Xe=Ee%256,Pt.push(Xe),Pt.push(Be);return Pt}function Vt(Re){return d.toByteArray(Ge(Re))}function We(Re,Se,Ee,Be){for(var Xe=0;Xe<Be&&!(Xe+Ee>=Se.length||Xe>=Re.length);++Xe)Se[Xe+Ee]=Re[Xe];return Xe}function St(Re){return Re!==Re}},10280:function(nt,xe,l){(function(C){C(l(43344))})(function(C){"use strict";C.defineMode("javascript",function(d,j){var W=d.indentUnit,L=j.statementIndent,z=j.jsonld,P=j.json||z,A=j.trackScope!==!1,T=j.typescript,S=j.wordCharacters||/[\w$\xa1-\uffff]/,_=function(){function Ye(qi){return{type:qi,style:"keyword"}}var Tt=Ye("keyword a"),nn=Ye("keyword b"),hn=Ye("keyword c"),Vn=Ye("keyword d"),Hn=Ye("operator"),Ci={type:"atom",style:"atom"};return{if:Ye("if"),while:Tt,with:Tt,else:nn,do:nn,try:nn,finally:nn,return:Vn,break:Vn,continue:Vn,new:Ye("new"),delete:hn,void:hn,throw:hn,debugger:Ye("debugger"),var:Ye("var"),const:Ye("var"),let:Ye("var"),function:Ye("function"),catch:Ye("catch"),for:Ye("for"),switch:Ye("switch"),case:Ye("case"),default:Ye("default"),in:Hn,typeof:Hn,instanceof:Hn,true:Ci,false:Ci,null:Ci,undefined:Ci,NaN:Ci,Infinity:Ci,this:Ye("this"),class:Ye("class"),super:Ye("atom"),yield:hn,export:Ye("export"),import:Ye("import"),extends:hn,await:hn}}(),y=/[+\-*&%=<>!?|~^@]/,u=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function a(Ye){for(var Tt=!1,nn,hn=!1;(nn=Ye.next())!=null;){if(!Tt){if(nn=="/"&&!hn)return;nn=="["?hn=!0:hn&&nn=="]"&&(hn=!1)}Tt=!Tt&&nn=="\\"}}var b,D;function N(Ye,Tt,nn){return b=Ye,D=nn,Tt}function I(Ye,Tt){var nn=Ye.next();if(nn=='"'||nn=="'")return Tt.tokenize=E(nn),Tt.tokenize(Ye,Tt);if(nn=="."&&Ye.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return N("number","number");if(nn=="."&&Ye.match(".."))return N("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(nn))return N(nn);if(nn=="="&&Ye.eat(">"))return N("=>","operator");if(nn=="0"&&Ye.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return N("number","number");if(/\d/.test(nn))return Ye.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),N("number","number");if(nn=="/")return Ye.eat("*")?(Tt.tokenize=O,O(Ye,Tt)):Ye.eat("/")?(Ye.skipToEnd(),N("comment","comment")):Si(Ye,Tt,1)?(a(Ye),Ye.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),N("regexp","string-2")):(Ye.eat("="),N("operator","operator",Ye.current()));if(nn=="`")return Tt.tokenize=R,R(Ye,Tt);if(nn=="#"&&Ye.peek()=="!")return Ye.skipToEnd(),N("meta","meta");if(nn=="#"&&Ye.eatWhile(S))return N("variable","property");if(nn=="<"&&Ye.match("!--")||nn=="-"&&Ye.match("->")&&!/\S/.test(Ye.string.slice(0,Ye.start)))return Ye.skipToEnd(),N("comment","comment");if(y.test(nn))return(nn!=">"||!Tt.lexical||Tt.lexical.type!=">")&&(Ye.eat("=")?(nn=="!"||nn=="=")&&Ye.eat("="):/[<>*+\-|&?]/.test(nn)&&(Ye.eat(nn),nn==">"&&Ye.eat(nn))),nn=="?"&&Ye.eat(".")?N("."):N("operator","operator",Ye.current());if(S.test(nn)){Ye.eatWhile(S);var hn=Ye.current();if(Tt.lastType!="."){if(_.propertyIsEnumerable(hn)){var Vn=_[hn];return N(Vn.type,Vn.style,hn)}if(hn=="async"&&Ye.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return N("async","keyword",hn)}return N("variable","variable",hn)}}function E(Ye){return function(Tt,nn){var hn=!1,Vn;if(z&&Tt.peek()=="@"&&Tt.match(u))return nn.tokenize=I,N("jsonld-keyword","meta");for(;(Vn=Tt.next())!=null&&!(Vn==Ye&&!hn);)hn=!hn&&Vn=="\\";return hn||(nn.tokenize=I),N("string","string")}}function O(Ye,Tt){for(var nn=!1,hn;hn=Ye.next();){if(hn=="/"&&nn){Tt.tokenize=I;break}nn=hn=="*"}return N("comment","comment")}function R(Ye,Tt){for(var nn=!1,hn;(hn=Ye.next())!=null;){if(!nn&&(hn=="`"||hn=="$"&&Ye.eat("{"))){Tt.tokenize=I;break}nn=!nn&&hn=="\\"}return N("quasi","string-2",Ye.current())}var M="([{}])";function K(Ye,Tt){Tt.fatArrowAt&&(Tt.fatArrowAt=null);var nn=Ye.string.indexOf("=>",Ye.start);if(!(nn<0)){if(T){var hn=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(Ye.string.slice(Ye.start,nn));hn&&(nn=hn.index)}for(var Vn=0,Hn=!1,Ci=nn-1;Ci>=0;--Ci){var qi=Ye.string.charAt(Ci),ri=M.indexOf(qi);if(ri>=0&&ri<3){if(!Vn){++Ci;break}if(--Vn==0){qi=="("&&(Hn=!0);break}}else if(ri>=3&&ri<6)++Vn;else if(S.test(qi))Hn=!0;else if(/["'\/`]/.test(qi))for(;;--Ci){if(Ci==0)return;var ms=Ye.string.charAt(Ci-1);if(ms==qi&&Ye.string.charAt(Ci-2)!="\\"){Ci--;break}}else if(Hn&&!Vn){++Ci;break}}Hn&&!Vn&&(Tt.fatArrowAt=Ci)}}var Z={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function te(Ye,Tt,nn,hn,Vn,Hn){this.indented=Ye,this.column=Tt,this.type=nn,this.prev=Vn,this.info=Hn,hn!=null&&(this.align=hn)}function de(Ye,Tt){if(!A)return!1;for(var nn=Ye.localVars;nn;nn=nn.next)if(nn.name==Tt)return!0;for(var hn=Ye.context;hn;hn=hn.prev)for(var nn=hn.vars;nn;nn=nn.next)if(nn.name==Tt)return!0}function ge(Ye,Tt,nn,hn,Vn){var Hn=Ye.cc;for(le.state=Ye,le.stream=Vn,le.marked=null,le.cc=Hn,le.style=Tt,Ye.lexical.hasOwnProperty("align")||(Ye.lexical.align=!0);;){var Ci=Hn.length?Hn.pop():P?Ge:Le;if(Ci(nn,hn)){for(;Hn.length&&Hn[Hn.length-1].lex;)Hn.pop()();return le.marked?le.marked:nn=="variable"&&de(Ye,hn)?"variable-2":Tt}}}var le={state:null,column:null,marked:null,cc:null};function se(){for(var Ye=arguments.length-1;Ye>=0;Ye--)le.cc.push(arguments[Ye])}function X(){return se.apply(null,arguments),!0}function re(Ye,Tt){for(var nn=Tt;nn;nn=nn.next)if(nn.name==Ye)return!0;return!1}function ne(Ye){var Tt=le.state;if(le.marked="def",!!A){if(Tt.context){if(Tt.lexical.info=="var"&&Tt.context&&Tt.context.block){var nn=U(Ye,Tt.context);if(nn!=null){Tt.context=nn;return}}else if(!re(Ye,Tt.localVars)){Tt.localVars=new ae(Ye,Tt.localVars);return}}j.globalVars&&!re(Ye,Tt.globalVars)&&(Tt.globalVars=new ae(Ye,Tt.globalVars))}}function U(Ye,Tt){if(Tt)if(Tt.block){var nn=U(Ye,Tt.prev);return nn?nn==Tt.prev?Tt:new q(nn,Tt.vars,!0):null}else return re(Ye,Tt.vars)?Tt:new q(Tt.prev,new ae(Ye,Tt.vars),!1);else return null}function oe(Ye){return Ye=="public"||Ye=="private"||Ye=="protected"||Ye=="abstract"||Ye=="readonly"}function q(Ye,Tt,nn){this.prev=Ye,this.vars=Tt,this.block=nn}function ae(Ye,Tt){this.name=Ye,this.next=Tt}var me=new ae("this",new ae("arguments",null));function ke(){le.state.context=new q(le.state.context,le.state.localVars,!1),le.state.localVars=me}function H(){le.state.context=new q(le.state.context,le.state.localVars,!0),le.state.localVars=null}ke.lex=H.lex=!0;function ut(){le.state.localVars=le.state.context.vars,le.state.context=le.state.context.prev}ut.lex=!0;function Ke(Ye,Tt){var nn=function(){var hn=le.state,Vn=hn.indented;if(hn.lexical.type=="stat")Vn=hn.lexical.indented;else for(var Hn=hn.lexical;Hn&&Hn.type==")"&&Hn.align;Hn=Hn.prev)Vn=Hn.indented;hn.lexical=new te(Vn,le.stream.column(),Ye,null,hn.lexical,Tt)};return nn.lex=!0,nn}function He(){var Ye=le.state;Ye.lexical.prev&&(Ye.lexical.type==")"&&(Ye.indented=Ye.lexical.indented),Ye.lexical=Ye.lexical.prev)}He.lex=!0;function ze(Ye){function Tt(nn){return nn==Ye?X():Ye==";"||nn=="}"||nn==")"||nn=="]"?se():X(Tt)}return Tt}function Le(Ye,Tt){return Ye=="var"?X(Ke("vardef",Tt),Rt,ze(";"),He):Ye=="keyword a"?X(Ke("form"),ct,Le,He):Ye=="keyword b"?X(Ke("form"),Le,He):Ye=="keyword d"?le.stream.match(/^\s*$/,!1)?X():X(Ke("stat"),Ot,ze(";"),He):Ye=="debugger"?X(ze(";")):Ye=="{"?X(Ke("}"),H,Rn,He,ut):Ye==";"?X():Ye=="if"?(le.state.lexical.info=="else"&&le.state.cc[le.state.cc.length-1]==He&&le.state.cc.pop()(),X(Ke("form"),ct,Le,He,Xn)):Ye=="function"?X(dt):Ye=="for"?X(Ke("form"),H,dn,Le,ut,He):Ye=="class"||T&&Tt=="interface"?(le.marked="keyword",X(Ke("form",Ye=="class"?Ye:Tt),On,He)):Ye=="variable"?T&&Tt=="declare"?(le.marked="keyword",X(Le)):T&&(Tt=="module"||Tt=="enum"||Tt=="type")&&le.stream.match(/^\s*\w/,!1)?(le.marked="keyword",Tt=="enum"?X(Li):Tt=="type"?X(en,ze("operator"),vt,ze(";")):X(Ke("form"),kt,ze("{"),Ke("}"),Rn,He,He)):T&&Tt=="namespace"?(le.marked="keyword",X(Ke("form"),Ge,Le,He)):T&&Tt=="abstract"?(le.marked="keyword",X(Le)):X(Ke("stat"),Pt):Ye=="switch"?X(Ke("form"),ct,ze("{"),Ke("}","switch"),H,Rn,He,He,ut):Ye=="case"?X(Ge,ze(":")):Ye=="default"?X(ze(":")):Ye=="catch"?X(Ke("form"),ke,Ze,Le,He,ut):Ye=="export"?X(Ke("stat"),Bn,He):Ye=="import"?X(Ke("stat"),ai,He):Ye=="async"?X(Le):Tt=="@"?X(Ge,Le):se(Ke("stat"),Ge,ze(";"),He)}function Ze(Ye){if(Ye=="(")return X(vn,ze(")"))}function Ge(Ye,Tt){return ft(Ye,Tt,!1)}function Fe(Ye,Tt){return ft(Ye,Tt,!0)}function ct(Ye){return Ye!="("?se():X(Ke(")"),Ot,ze(")"),He)}function ft(Ye,Tt,nn){if(le.state.fatArrowAt==le.stream.start){var hn=nn?Se:Re;if(Ye=="(")return X(ke,Ke(")"),Gt(vn,")"),He,ze("=>"),hn,ut);if(Ye=="variable")return se(ke,kt,ze("=>"),hn,ut)}var Vn=nn?Vt:Et;return Z.hasOwnProperty(Ye)?X(Vn):Ye=="function"?X(dt,Vn):Ye=="class"||T&&Tt=="interface"?(le.marked="keyword",X(Ke("form"),An,He)):Ye=="keyword c"||Ye=="async"?X(nn?Fe:Ge):Ye=="("?X(Ke(")"),Ot,ze(")"),He,Vn):Ye=="operator"||Ye=="spread"?X(nn?Fe:Ge):Ye=="["?X(Ke("]"),wi,He,Vn):Ye=="{"?_n(pn,"}",null,Vn):Ye=="quasi"?se(We,Vn):Ye=="new"?X(Ee(nn)):X()}function Ot(Ye){return Ye.match(/[;\}\)\],]/)?se():se(Ge)}function Et(Ye,Tt){return Ye==","?X(Ot):Vt(Ye,Tt,!1)}function Vt(Ye,Tt,nn){var hn=nn==!1?Et:Vt,Vn=nn==!1?Ge:Fe;if(Ye=="=>")return X(ke,nn?Se:Re,ut);if(Ye=="operator")return/\+\+|--/.test(Tt)||T&&Tt=="!"?X(hn):T&&Tt=="<"&&le.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?X(Ke(">"),Gt(vt,">"),He,hn):Tt=="?"?X(Ge,ze(":"),Vn):X(Vn);if(Ye=="quasi")return se(We,hn);if(Ye!=";"){if(Ye=="(")return _n(Fe,")","call",hn);if(Ye==".")return X(jt,hn);if(Ye=="[")return X(Ke("]"),Ot,ze("]"),He,hn);if(T&&Tt=="as")return le.marked="keyword",X(vt,hn);if(Ye=="regexp")return le.state.lastType=le.marked="operator",le.stream.backUp(le.stream.pos-le.stream.start-1),X(Vn)}}function We(Ye,Tt){return Ye!="quasi"?se():Tt.slice(Tt.length-2)!="${"?X(We):X(Ot,St)}function St(Ye){if(Ye=="}")return le.marked="string-2",le.state.tokenize=R,X(We)}function Re(Ye){return K(le.stream,le.state),se(Ye=="{"?Le:Ge)}function Se(Ye){return K(le.stream,le.state),se(Ye=="{"?Le:Fe)}function Ee(Ye){return function(Tt){return Tt=="."?X(Ye?Xe:Be):Tt=="variable"&&T?X(mn,Ye?Vt:Et):se(Ye?Fe:Ge)}}function Be(Ye,Tt){if(Tt=="target")return le.marked="keyword",X(Et)}function Xe(Ye,Tt){if(Tt=="target")return le.marked="keyword",X(Vt)}function Pt(Ye){return Ye==":"?X(He,Le):se(Et,ze(";"),He)}function jt(Ye){if(Ye=="variable")return le.marked="property",X()}function pn(Ye,Tt){if(Ye=="async")return le.marked="property",X(pn);if(Ye=="variable"||le.style=="keyword"){if(le.marked="property",Tt=="get"||Tt=="set")return X(at);var nn;return T&&le.state.fatArrowAt==le.stream.start&&(nn=le.stream.match(/^\s*:\s*/,!1))&&(le.state.fatArrowAt=le.stream.pos+nn[0].length),X(Mt)}else{if(Ye=="number"||Ye=="string")return le.marked=z?"property":le.style+" property",X(Mt);if(Ye=="jsonld-keyword")return X(Mt);if(T&&oe(Tt))return le.marked="keyword",X(pn);if(Ye=="[")return X(Ge,Wn,ze("]"),Mt);if(Ye=="spread")return X(Fe,Mt);if(Tt=="*")return le.marked="keyword",X(pn);if(Ye==":")return se(Mt)}}function at(Ye){return Ye!="variable"?se(Mt):(le.marked="property",X(dt))}function Mt(Ye){if(Ye==":")return X(Fe);if(Ye=="(")return se(dt)}function Gt(Ye,Tt,nn){function hn(Vn,Hn){if(nn?nn.indexOf(Vn)>-1:Vn==","){var Ci=le.state.lexical;return Ci.info=="call"&&(Ci.pos=(Ci.pos||0)+1),X(function(qi,ri){return qi==Tt||ri==Tt?se():se(Ye)},hn)}return Vn==Tt||Hn==Tt?X():nn&&nn.indexOf(";")>-1?se(Ye):X(ze(Tt))}return function(Vn,Hn){return Vn==Tt||Hn==Tt?X():se(Ye,hn)}}function _n(Ye,Tt,nn){for(var hn=3;hn<arguments.length;hn++)le.cc.push(arguments[hn]);return X(Ke(Tt,nn),Gt(Ye,Tt),He)}function Rn(Ye){return Ye=="}"?X():se(Le,Rn)}function Wn(Ye,Tt){if(T){if(Ye==":")return X(vt);if(Tt=="?")return X(Wn)}}function wn(Ye,Tt){if(T&&(Ye==":"||Tt=="in"))return X(vt)}function je(Ye){if(T&&Ye==":")return le.stream.match(/^\s*\w+\s+is\b/,!1)?X(Ge,qn,vt):X(vt)}function qn(Ye,Tt){if(Tt=="is")return le.marked="keyword",X()}function vt(Ye,Tt){if(Tt=="keyof"||Tt=="typeof"||Tt=="infer"||Tt=="readonly")return le.marked="keyword",X(Tt=="typeof"?Fe:vt);if(Ye=="variable"||Tt=="void")return le.marked="type",X(Xt);if(Tt=="|"||Tt=="&")return X(vt);if(Ye=="string"||Ye=="number"||Ye=="atom")return X(Xt);if(Ye=="[")return X(Ke("]"),Gt(vt,"]",","),He,Xt);if(Ye=="{")return X(Ke("}"),ht,He,Xt);if(Ye=="(")return X(Gt(Wt,")"),_e,Xt);if(Ye=="<")return X(Gt(vt,">"),vt);if(Ye=="quasi")return se(ye,Xt)}function _e(Ye){if(Ye=="=>")return X(vt)}function ht(Ye){return Ye.match(/[\}\)\]]/)?X():Ye==","||Ye==";"?X(ht):se(yt,ht)}function yt(Ye,Tt){if(Ye=="variable"||le.style=="keyword")return le.marked="property",X(yt);if(Tt=="?"||Ye=="number"||Ye=="string")return X(yt);if(Ye==":")return X(vt);if(Ye=="[")return X(ze("variable"),wn,ze("]"),yt);if(Ye=="(")return se(Qt,yt);if(!Ye.match(/[;\}\)\],]/))return X()}function ye(Ye,Tt){return Ye!="quasi"?se():Tt.slice(Tt.length-2)!="${"?X(ye):X(vt,qe)}function qe(Ye){if(Ye=="}")return le.marked="string-2",le.state.tokenize=R,X(ye)}function Wt(Ye,Tt){return Ye=="variable"&&le.stream.match(/^\s*[?:]/,!1)||Tt=="?"?X(Wt):Ye==":"?X(vt):Ye=="spread"?X(Wt):se(vt)}function Xt(Ye,Tt){if(Tt=="<")return X(Ke(">"),Gt(vt,">"),He,Xt);if(Tt=="|"||Ye=="."||Tt=="&")return X(vt);if(Ye=="[")return X(vt,ze("]"),Xt);if(Tt=="extends"||Tt=="implements")return le.marked="keyword",X(vt);if(Tt=="?")return X(vt,ze(":"),vt)}function mn(Ye,Tt){if(Tt=="<")return X(Ke(">"),Gt(vt,">"),He,Xt)}function bn(){return se(vt,ot)}function ot(Ye,Tt){if(Tt=="=")return X(vt)}function Rt(Ye,Tt){return Tt=="enum"?(le.marked="keyword",X(Li)):se(kt,Wn,_t,di)}function kt(Ye,Tt){if(T&&oe(Tt))return le.marked="keyword",X(kt);if(Ye=="variable")return ne(Tt),X();if(Ye=="spread")return X(kt);if(Ye=="[")return _n(ln,"]");if(Ye=="{")return _n(wt,"}")}function wt(Ye,Tt){return Ye=="variable"&&!le.stream.match(/^\s*:/,!1)?(ne(Tt),X(_t)):(Ye=="variable"&&(le.marked="property"),Ye=="spread"?X(kt):Ye=="}"?se():Ye=="["?X(Ge,ze("]"),ze(":"),wt):X(ze(":"),kt,_t))}function ln(){return se(kt,_t)}function _t(Ye,Tt){if(Tt=="=")return X(Fe)}function di(Ye){if(Ye==",")return X(Rt)}function Xn(Ye,Tt){if(Ye=="keyword b"&&Tt=="else")return X(Ke("form","else"),Le,He)}function dn(Ye,Tt){if(Tt=="await")return X(dn);if(Ye=="(")return X(Ke(")"),Ve,He)}function Ve(Ye){return Ye=="var"?X(Rt,Ce):Ye=="variable"?X(Ce):se(Ce)}function Ce(Ye,Tt){return Ye==")"?X():Ye==";"?X(Ce):Tt=="in"||Tt=="of"?(le.marked="keyword",X(Ge,Ce)):se(Ge,Ce)}function dt(Ye,Tt){if(Tt=="*")return le.marked="keyword",X(dt);if(Ye=="variable")return ne(Tt),X(dt);if(Ye=="(")return X(ke,Ke(")"),Gt(vn,")"),He,je,Le,ut);if(T&&Tt=="<")return X(Ke(">"),Gt(bn,">"),He,dt)}function Qt(Ye,Tt){if(Tt=="*")return le.marked="keyword",X(Qt);if(Ye=="variable")return ne(Tt),X(Qt);if(Ye=="(")return X(ke,Ke(")"),Gt(vn,")"),He,je,ut);if(T&&Tt=="<")return X(Ke(">"),Gt(bn,">"),He,Qt)}function en(Ye,Tt){if(Ye=="keyword"||Ye=="variable")return le.marked="type",X(en);if(Tt=="<")return X(Ke(">"),Gt(bn,">"),He)}function vn(Ye,Tt){return Tt=="@"&&X(Ge,vn),Ye=="spread"?X(vn):T&&oe(Tt)?(le.marked="keyword",X(vn)):T&&Ye=="this"?X(Wn,_t):se(kt,Wn,_t)}function An(Ye,Tt){return Ye=="variable"?On(Ye,Tt):In(Ye,Tt)}function On(Ye,Tt){if(Ye=="variable")return ne(Tt),X(In)}function In(Ye,Tt){if(Tt=="<")return X(Ke(">"),Gt(bn,">"),He,In);if(Tt=="extends"||Tt=="implements"||T&&Ye==",")return Tt=="implements"&&(le.marked="keyword"),X(T?vt:Ge,In);if(Ye=="{")return X(Ke("}"),Sn,He)}function Sn(Ye,Tt){if(Ye=="async"||Ye=="variable"&&(Tt=="static"||Tt=="get"||Tt=="set"||T&&oe(Tt))&&le.stream.match(/^\s+#?[\w$\xa1-\uffff]/,!1))return le.marked="keyword",X(Sn);if(Ye=="variable"||le.style=="keyword")return le.marked="property",X(Mn,Sn);if(Ye=="number"||Ye=="string")return X(Mn,Sn);if(Ye=="[")return X(Ge,Wn,ze("]"),Mn,Sn);if(Tt=="*")return le.marked="keyword",X(Sn);if(T&&Ye=="(")return se(Qt,Sn);if(Ye==";"||Ye==",")return X(Sn);if(Ye=="}")return X();if(Tt=="@")return X(Ge,Sn)}function Mn(Ye,Tt){if(Tt=="!"||Tt=="?")return X(Mn);if(Ye==":")return X(vt,_t);if(Tt=="=")return X(Fe);var nn=le.state.lexical.prev,hn=nn&&nn.info=="interface";return se(hn?Qt:dt)}function Bn(Ye,Tt){return Tt=="*"?(le.marked="keyword",X(oi,ze(";"))):Tt=="default"?(le.marked="keyword",X(Ge,ze(";"))):Ye=="{"?X(Gt(Jn,"}"),oi,ze(";")):se(Le)}function Jn(Ye,Tt){if(Tt=="as")return le.marked="keyword",X(ze("variable"));if(Ye=="variable")return se(Fe,Jn)}function ai(Ye){return Ye=="string"?X():Ye=="("?se(Ge):Ye=="."?se(Et):se(jn,Ii,oi)}function jn(Ye,Tt){return Ye=="{"?_n(jn,"}"):(Ye=="variable"&&ne(Tt),Tt=="*"&&(le.marked="keyword"),X(ci))}function Ii(Ye){if(Ye==",")return X(jn,Ii)}function ci(Ye,Tt){if(Tt=="as")return le.marked="keyword",X(jn)}function oi(Ye,Tt){if(Tt=="from")return le.marked="keyword",X(Ge)}function wi(Ye){return Ye=="]"?X():se(Gt(Fe,"]"))}function Li(){return se(Ke("form"),kt,ze("{"),Ke("}"),Gt(kn,"}"),He,He)}function kn(){return se(kt,_t)}function vi(Ye,Tt){return Ye.lastType=="operator"||Ye.lastType==","||y.test(Tt.charAt(0))||/[,.]/.test(Tt.charAt(0))}function Si(Ye,Tt,nn){return Tt.tokenize==I&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(Tt.lastType)||Tt.lastType=="quasi"&&/\{\s*$/.test(Ye.string.slice(0,Ye.pos-(nn||0)))}return{startState:function(Ye){var Tt={tokenize:I,lastType:"sof",cc:[],lexical:new te((Ye||0)-W,0,"block",!1),localVars:j.localVars,context:j.localVars&&new q(null,null,!1),indented:Ye||0};return j.globalVars&&typeof j.globalVars=="object"&&(Tt.globalVars=j.globalVars),Tt},token:function(Ye,Tt){if(Ye.sol()&&(Tt.lexical.hasOwnProperty("align")||(Tt.lexical.align=!1),Tt.indented=Ye.indentation(),K(Ye,Tt)),Tt.tokenize!=O&&Ye.eatSpace())return null;var nn=Tt.tokenize(Ye,Tt);return b=="comment"?nn:(Tt.lastType=b=="operator"&&(D=="++"||D=="--")?"incdec":b,ge(Tt,nn,b,D,Ye))},indent:function(Ye,Tt){if(Ye.tokenize==O||Ye.tokenize==R)return C.Pass;if(Ye.tokenize!=I)return 0;var nn=Tt&&Tt.charAt(0),hn=Ye.lexical,Vn;if(!/^\s*else\b/.test(Tt))for(var Hn=Ye.cc.length-1;Hn>=0;--Hn){var Ci=Ye.cc[Hn];if(Ci==He)hn=hn.prev;else if(Ci!=Xn&&Ci!=ut)break}for(;(hn.type=="stat"||hn.type=="form")&&(nn=="}"||(Vn=Ye.cc[Ye.cc.length-1])&&(Vn==Et||Vn==Vt)&&!/^[,\.=+\-*:?[\(]/.test(Tt));)hn=hn.prev;L&&hn.type==")"&&hn.prev.type=="stat"&&(hn=hn.prev);var qi=hn.type,ri=nn==qi;return qi=="vardef"?hn.indented+(Ye.lastType=="operator"||Ye.lastType==","?hn.info.length+1:0):qi=="form"&&nn=="{"?hn.indented:qi=="form"?hn.indented+W:qi=="stat"?hn.indented+(vi(Ye,Tt)?L||W:0):hn.info=="switch"&&!ri&&j.doubleIndentSwitch!=!1?hn.indented+(/^(?:case|default)\b/.test(Tt)?W:2*W):hn.align?hn.column+(ri?0:1):hn.indented+(ri?0:W)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:P?null:"/*",blockCommentEnd:P?null:"*/",blockCommentContinue:P?null:" * ",lineComment:P?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:P?"json":"javascript",jsonldMode:z,jsonMode:P,expressionAllowed:Si,skipExpression:function(Ye){ge(Ye,"atom","atom","true",new C.StringStream("",2,null))}}}),C.registerHelper("wordChars","javascript",/[\w$]/),C.defineMIME("text/javascript","javascript"),C.defineMIME("text/ecmascript","javascript"),C.defineMIME("application/javascript","javascript"),C.defineMIME("application/x-javascript","javascript"),C.defineMIME("application/ecmascript","javascript"),C.defineMIME("application/json",{name:"javascript",json:!0}),C.defineMIME("application/x-json",{name:"javascript",json:!0}),C.defineMIME("application/manifest+json",{name:"javascript",json:!0}),C.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),C.defineMIME("text/typescript",{name:"javascript",typescript:!0}),C.defineMIME("application/typescript",{name:"javascript",typescript:!0})})},16581:function(nt,xe,l){(function(C){C(l(43344))})(function(C){"use strict";function d(A){return new RegExp("^(("+A.join(")|(")+"))\\b")}var j=d(["and","or","not","is"]),W=["as","assert","break","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","lambda","pass","raise","return","try","while","with","yield","in"],L=["abs","all","any","bin","bool","bytearray","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip","__import__","NotImplemented","Ellipsis","__debug__"];C.registerHelper("hintWords","python",W.concat(L).concat(["exec","print"]));function z(A){return A.scopes[A.scopes.length-1]}C.defineMode("python",function(A,T){for(var S="error",_=T.delimiters||T.singleDelimiters||/^[\(\)\[\]\{\}@,:`=;\.\\]/,y=[T.singleOperators,T.doubleOperators,T.doubleDelimiters,T.tripleDelimiters,T.operators||/^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/],u=0;u<y.length;u++)y[u]||y.splice(u--,1);var a=T.hangingIndent||A.indentUnit,b=W,D=L;T.extra_keywords!=null&&(b=b.concat(T.extra_keywords)),T.extra_builtins!=null&&(D=D.concat(T.extra_builtins));var N=!(T.version&&Number(T.version)<3);if(N){var I=T.identifiers||/^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;b=b.concat(["nonlocal","False","True","None","async","await"]),D=D.concat(["ascii","bytes","exec","print"]);var E=new RegExp(`^(([rbuf]|(br)|(rb)|(fr)|(rf))?('{3}|"{3}|['"]))`,"i")}else{var I=T.identifiers||/^[_A-Za-z][_A-Za-z0-9]*/;b=b.concat(["exec","print"]),D=D.concat(["apply","basestring","buffer","cmp","coerce","execfile","file","intern","long","raw_input","reduce","reload","unichr","unicode","xrange","False","True","None"]);var E=new RegExp(`^(([rubf]|(ur)|(br))?('{3}|"{3}|['"]))`,"i")}var O=d(b),R=d(D);function M(re,ne){var U=re.sol()&&ne.lastToken!="\\";if(U&&(ne.indent=re.indentation()),U&&z(ne).type=="py"){var oe=z(ne).offset;if(re.eatSpace()){var q=re.indentation();return q>oe?de(ne):q<oe&&le(re,ne)&&re.peek()!="#"&&(ne.errorToken=!0),null}else{var ae=K(re,ne);return oe>0&&le(re,ne)&&(ae+=" "+S),ae}}return K(re,ne)}function K(re,ne,U){if(re.eatSpace())return null;if(!U&&re.match(/^#.*/))return"comment";if(re.match(/^[0-9\.]/,!1)){var oe=!1;if(re.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)&&(oe=!0),re.match(/^[\d_]+\.\d*/)&&(oe=!0),re.match(/^\.\d+/)&&(oe=!0),oe)return re.eat(/J/i),"number";var q=!1;if(re.match(/^0x[0-9a-f_]+/i)&&(q=!0),re.match(/^0b[01_]+/i)&&(q=!0),re.match(/^0o[0-7_]+/i)&&(q=!0),re.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)&&(re.eat(/J/i),q=!0),re.match(/^0(?![\dx])/i)&&(q=!0),q)return re.eat(/L/i),"number"}if(re.match(E)){var ae=re.current().toLowerCase().indexOf("f")!==-1;return ae?(ne.tokenize=Z(re.current(),ne.tokenize),ne.tokenize(re,ne)):(ne.tokenize=te(re.current(),ne.tokenize),ne.tokenize(re,ne))}for(var me=0;me<y.length;me++)if(re.match(y[me]))return"operator";return re.match(_)?"punctuation":ne.lastToken=="."&&re.match(I)?"property":re.match(O)||re.match(j)?"keyword":re.match(R)?"builtin":re.match(/^(self|cls)\b/)?"variable-2":re.match(I)?ne.lastToken=="def"||ne.lastToken=="class"?"def":"variable":(re.next(),U?null:S)}function Z(re,ne){for(;"rubf".indexOf(re.charAt(0).toLowerCase())>=0;)re=re.substr(1);var U=re.length==1,oe="string";function q(me){return function(ke,H){var ut=K(ke,H,!0);return ut=="punctuation"&&(ke.current()=="{"?H.tokenize=q(me+1):ke.current()=="}"&&(me>1?H.tokenize=q(me-1):H.tokenize=ae)),ut}}function ae(me,ke){for(;!me.eol();)if(me.eatWhile(/[^'"\{\}\\]/),me.eat("\\")){if(me.next(),U&&me.eol())return oe}else{if(me.match(re))return ke.tokenize=ne,oe;if(me.match("{{"))return oe;if(me.match("{",!1))return ke.tokenize=q(0),me.current()?oe:ke.tokenize(me,ke);if(me.match("}}"))return oe;if(me.match("}"))return S;me.eat(/['"]/)}if(U){if(T.singleLineStringErrors)return S;ke.tokenize=ne}return oe}return ae.isString=!0,ae}function te(re,ne){for(;"rubf".indexOf(re.charAt(0).toLowerCase())>=0;)re=re.substr(1);var U=re.length==1,oe="string";function q(ae,me){for(;!ae.eol();)if(ae.eatWhile(/[^'"\\]/),ae.eat("\\")){if(ae.next(),U&&ae.eol())return oe}else{if(ae.match(re))return me.tokenize=ne,oe;ae.eat(/['"]/)}if(U){if(T.singleLineStringErrors)return S;me.tokenize=ne}return oe}return q.isString=!0,q}function de(re){for(;z(re).type!="py";)re.scopes.pop();re.scopes.push({offset:z(re).offset+A.indentUnit,type:"py",align:null})}function ge(re,ne,U){var oe=re.match(/^[\s\[\{\(]*(?:#|$)/,!1)?null:re.column()+1;ne.scopes.push({offset:ne.indent+a,type:U,align:oe})}function le(re,ne){for(var U=re.indentation();ne.scopes.length>1&&z(ne).offset>U;){if(z(ne).type!="py")return!0;ne.scopes.pop()}return z(ne).offset!=U}function se(re,ne){re.sol()&&(ne.beginningOfLine=!0,ne.dedent=!1);var U=ne.tokenize(re,ne),oe=re.current();if(ne.beginningOfLine&&oe=="@")return re.match(I,!1)?"meta":N?"operator":S;if(/\S/.test(oe)&&(ne.beginningOfLine=!1),(U=="variable"||U=="builtin")&&ne.lastToken=="meta"&&(U="meta"),(oe=="pass"||oe=="return")&&(ne.dedent=!0),oe=="lambda"&&(ne.lambda=!0),oe==":"&&!ne.lambda&&z(ne).type=="py"&&re.match(/^\s*(?:#|$)/,!1)&&de(ne),oe.length==1&&!/string|comment/.test(U)){var q="[({".indexOf(oe);if(q!=-1&&ge(re,ne,"])}".slice(q,q+1)),q="])}".indexOf(oe),q!=-1)if(z(ne).type==oe)ne.indent=ne.scopes.pop().offset-a;else return S}return ne.dedent&&re.eol()&&z(ne).type=="py"&&ne.scopes.length>1&&ne.scopes.pop(),U}var X={startState:function(re){return{tokenize:M,scopes:[{offset:re||0,type:"py",align:null}],indent:re||0,lastToken:null,lambda:!1,dedent:0}},token:function(re,ne){var U=ne.errorToken;U&&(ne.errorToken=!1);var oe=se(re,ne);return oe&&oe!="comment"&&(ne.lastToken=oe=="keyword"||oe=="punctuation"?re.current():oe),oe=="punctuation"&&(oe=null),re.eol()&&ne.lambda&&(ne.lambda=!1),U?oe+" "+S:oe},indent:function(re,ne){if(re.tokenize!=M)return re.tokenize.isString?C.Pass:0;var U=z(re),oe=U.type==ne.charAt(0)||U.type=="py"&&!re.dedent&&/^(else:|elif |except |finally:)/.test(ne);return U.align!=null?U.align-(oe?1:0):U.offset-(oe?a:0)},electricInput:/^\s*([\}\]\)]|else:|elif |except |finally:)$/,closeBrackets:{triples:`'"`},lineComment:"#",fold:"indent"};return X}),C.defineMIME("text/x-python","python");var P=function(A){return A.split(" ")};C.defineMIME("text/x-cython",{name:"python",extra_keywords:P("by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE")})})},66161:function(nt,xe,l){(function(C){C(l(43344))})(function(C){"use strict";C.defineMode("shell",function(){var d={};function j(u,a){for(var b=0;b<a.length;b++)d[a[b]]=u}var W=["true","false"],L=["if","then","do","else","elif","while","until","for","in","esac","fi","fin","fil","done","exit","set","unset","export","function"],z=["ab","awk","bash","beep","cat","cc","cd","chown","chmod","chroot","clear","cp","curl","cut","diff","echo","find","gawk","gcc","get","git","grep","hg","kill","killall","ln","ls","make","mkdir","openssl","mv","nc","nl","node","npm","ping","ps","restart","rm","rmdir","sed","service","sh","shopt","shred","source","sort","sleep","ssh","start","stop","su","sudo","svn","tee","telnet","top","touch","vi","vim","wall","wc","wget","who","write","yes","zsh"];C.registerHelper("hintWords","shell",W.concat(L,z)),j("atom",W),j("keyword",L),j("builtin",z);function P(u,a){if(u.eatSpace())return null;var b=u.sol(),D=u.next();if(D==="\\")return u.next(),null;if(D==="'"||D==='"'||D==="`")return a.tokens.unshift(A(D,D==="`"?"quote":"string")),y(u,a);if(D==="#")return b&&u.eat("!")?(u.skipToEnd(),"meta"):(u.skipToEnd(),"comment");if(D==="$")return a.tokens.unshift(S),y(u,a);if(D==="+"||D==="=")return"operator";if(D==="-")return u.eat("-"),u.eatWhile(/\w/),"attribute";if(D=="<"){if(u.match("<<"))return"operator";var N=u.match(/^<-?\s*['"]?([^'"]*)['"]?/);if(N)return a.tokens.unshift(_(N[1])),"string-2"}if(/\d/.test(D)&&(u.eatWhile(/\d/),u.eol()||!/\w/.test(u.peek())))return"number";u.eatWhile(/[\w-]/);var I=u.current();return u.peek()==="="&&/\w+/.test(I)?"def":d.hasOwnProperty(I)?d[I]:null}function A(u,a){var b=u=="("?")":u=="{"?"}":u;return function(D,N){for(var I,E=!1;(I=D.next())!=null;){if(I===b&&!E){N.tokens.shift();break}else if(I==="$"&&!E&&u!=="'"&&D.peek()!=b){E=!0,D.backUp(1),N.tokens.unshift(S);break}else{if(!E&&u!==b&&I===u)return N.tokens.unshift(A(u,a)),y(D,N);if(!E&&/['"]/.test(I)&&!/['"]/.test(u)){N.tokens.unshift(T(I,"string")),D.backUp(1);break}}E=!E&&I==="\\"}return a}}function T(u,a){return function(b,D){return D.tokens[0]=A(u,a),b.next(),y(b,D)}}var S=function(u,a){a.tokens.length>1&&u.eat("$");var b=u.next();return/['"({]/.test(b)?(a.tokens[0]=A(b,b=="("?"quote":b=="{"?"def":"string"),y(u,a)):(/\d/.test(b)||u.eatWhile(/\w/),a.tokens.shift(),"def")};function _(u){return function(a,b){return a.sol()&&a.string==u&&b.tokens.shift(),a.skipToEnd(),"string-2"}}function y(u,a){return(a.tokens[0]||P)(u,a)}return{startState:function(){return{tokens:[]}},token:function(u,a){return y(u,a)},closeBrackets:"()[]{}''\"\"``",lineComment:"#",fold:"brace"}}),C.defineMIME("text/x-sh","shell"),C.defineMIME("application/x-sh","shell")})},42060:function(nt){"use strict";var xe=typeof BigInt64Array!="undefined";nt.exports=function l(C,d){if(C===d)return!0;if(C&&d&&typeof C=="object"&&typeof d=="object"){if(C.constructor!==d.constructor)return!1;var j,W,L;if(Array.isArray(C)){if(j=C.length,j!=d.length)return!1;for(W=j;W--!==0;)if(!l(C[W],d[W]))return!1;return!0}if(C instanceof Map&&d instanceof Map){if(C.size!==d.size)return!1;for(W of C.entries())if(!d.has(W[0]))return!1;for(W of C.entries())if(!l(W[1],d.get(W[0])))return!1;return!0}if(C instanceof Set&&d instanceof Set){if(C.size!==d.size)return!1;for(W of C.entries())if(!d.has(W[0]))return!1;return!0}if(ArrayBuffer.isView(C)&&ArrayBuffer.isView(d)){if(j=C.length,j!=d.length)return!1;for(W=j;W--!==0;)if(C[W]!==d[W])return!1;return!0}if(C.constructor===RegExp)return C.source===d.source&&C.flags===d.flags;if(C.valueOf!==Object.prototype.valueOf)return C.valueOf()===d.valueOf();if(C.toString!==Object.prototype.toString)return C.toString()===d.toString();if(L=Object.keys(C),j=L.length,j!==Object.keys(d).length)return!1;for(W=j;W--!==0;)if(!Object.prototype.hasOwnProperty.call(d,L[W]))return!1;for(W=j;W--!==0;){var z=L[W];if(!(z==="_owner"&&C.$$typeof)&&!l(C[z],d[z]))return!1}return!0}return C!==C&&d!==d}},72535:function(nt,xe,l){"use strict";var C=l(56237),d={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},j={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},W={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},L={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},z={};z[C.ForwardRef]=W,z[C.Memo]=L;function P(b){return C.isMemo(b)?L:z[b.$$typeof]||d}var A=Object.defineProperty,T=Object.getOwnPropertyNames,S=Object.getOwnPropertySymbols,_=Object.getOwnPropertyDescriptor,y=Object.getPrototypeOf,u=Object.prototype;function a(b,D,N){if(typeof D!="string"){if(u){var I=y(D);I&&I!==u&&a(b,I,N)}var E=T(D);S&&(E=E.concat(S(D)));for(var O=P(b),R=P(D),M=0;M<E.length;++M){var K=E[M];if(!j[K]&&!(N&&N[K])&&!(R&&R[K])&&!(O&&O[K])){var Z=_(D,K);try{A(b,K,Z)}catch(te){}}}}return b}nt.exports=a},30551:function(nt,xe){xe.read=function(l,C,d,j,W){var L,z,P=W*8-j-1,A=(1<<P)-1,T=A>>1,S=-7,_=d?W-1:0,y=d?-1:1,u=l[C+_];for(_+=y,L=u&(1<<-S)-1,u>>=-S,S+=P;S>0;L=L*256+l[C+_],_+=y,S-=8);for(z=L&(1<<-S)-1,L>>=-S,S+=j;S>0;z=z*256+l[C+_],_+=y,S-=8);if(L===0)L=1-T;else{if(L===A)return z?NaN:(u?-1:1)*(1/0);z=z+Math.pow(2,j),L=L-T}return(u?-1:1)*z*Math.pow(2,L-j)},xe.write=function(l,C,d,j,W,L){var z,P,A,T=L*8-W-1,S=(1<<T)-1,_=S>>1,y=W===23?Math.pow(2,-24)-Math.pow(2,-77):0,u=j?0:L-1,a=j?1:-1,b=C<0||C===0&&1/C<0?1:0;for(C=Math.abs(C),isNaN(C)||C===1/0?(P=isNaN(C)?1:0,z=S):(z=Math.floor(Math.log(C)/Math.LN2),C*(A=Math.pow(2,-z))<1&&(z--,A*=2),z+_>=1?C+=y/A:C+=y*Math.pow(2,1-_),C*A>=2&&(z++,A/=2),z+_>=S?(P=0,z=S):z+_>=1?(P=(C*A-1)*Math.pow(2,W),z=z+_):(P=C*Math.pow(2,_-1)*Math.pow(2,W),z=0));W>=8;l[d+u]=P&255,u+=a,P/=256,W-=8);for(z=z<<W|P,T+=W;T>0;l[d+u]=z&255,u+=a,z/=256,T-=8);l[d+u-a]|=b*128}},2937:function(nt){typeof Object.create=="function"?nt.exports=function(l,C){C&&(l.super_=C,l.prototype=Object.create(C.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}))}:nt.exports=function(l,C){if(C){l.super_=C;var d=function(){};d.prototype=C.prototype,l.prototype=new d,l.prototype.constructor=l}}},79673:function(nt){var xe={}.toString;nt.exports=Array.isArray||function(l){return xe.call(l)=="[object Array]"}},57699:function(nt,xe,l){"use strict";l.r(xe);var C=Number.isNaN||function(z){return typeof z=="number"&&z!==z};function d(L,z){return!!(L===z||C(L)&&C(z))}function j(L,z){if(L.length!==z.length)return!1;for(var P=0;P<L.length;P++)if(!d(L[P],z[P]))return!1;return!0}function W(L,z){z===void 0&&(z=j);var P,A=[],T,S=!1;function _(){for(var y=[],u=0;u<arguments.length;u++)y[u]=arguments[u];return S&&P===this&&z(y,A)||(T=L.apply(this,y),S=!0,P=this,A=y),T}return _}xe.default=W},69748:function(nt,xe,l){"use strict";l.r(xe),l.d(xe,{PixelRatio:function(){return A},addMatchMediaChangeListener:function(){return P},getZoomFactor:function(){return T},isAndroid:function(){return N},isChrome:function(){return u},isElectron:function(){return D},isFirefox:function(){return _},isSafari:function(){return a},isStandalone:function(){return E},isWebKit:function(){return y},isWebkitWebView:function(){return b}});var C=l(60218),d=l(94214);class j{constructor(){this._zoomFactor=1}getZoomFactor(){return this._zoomFactor}}j.INSTANCE=new j;class W extends d.JT{constructor(){super(),this._onDidChange=this._register(new C.Q5),this.onDidChange=this._onDidChange.event,this._listener=()=>this._handleChange(!0),this._mediaQueryList=null,this._handleChange(!1)}_handleChange(R){var M;(M=this._mediaQueryList)===null||M===void 0||M.removeEventListener("change",this._listener),this._mediaQueryList=matchMedia(`(resolution: ${window.devicePixelRatio}dppx)`),this._mediaQueryList.addEventListener("change",this._listener),R&&this._onDidChange.fire()}}class L extends d.JT{constructor(){super(),this._onDidChange=this._register(new C.Q5),this.onDidChange=this._onDidChange.event,this._value=this._getPixelRatio();const R=this._register(new W);this._register(R.onDidChange(()=>{this._value=this._getPixelRatio(),this._onDidChange.fire(this._value)}))}get value(){return this._value}_getPixelRatio(){const R=document.createElement("canvas").getContext("2d"),M=window.devicePixelRatio||1,K=R.webkitBackingStorePixelRatio||R.mozBackingStorePixelRatio||R.msBackingStorePixelRatio||R.oBackingStorePixelRatio||R.backingStorePixelRatio||1;return M/K}}class z{constructor(){this._pixelRatioMonitor=null}_getOrCreatePixelRatioMonitor(){return this._pixelRatioMonitor||(this._pixelRatioMonitor=(0,d.dk)(new L)),this._pixelRatioMonitor}get value(){return this._getOrCreatePixelRatioMonitor().value}get onDidChange(){return this._getOrCreatePixelRatioMonitor().onDidChange}}function P(O,R){typeof O=="string"&&(O=window.matchMedia(O)),O.addEventListener("change",R)}const A=new z;function T(){return j.INSTANCE.getZoomFactor()}const S=navigator.userAgent,_=S.indexOf("Firefox")>=0,y=S.indexOf("AppleWebKit")>=0,u=S.indexOf("Chrome")>=0,a=!u&&S.indexOf("Safari")>=0,b=!u&&!a&&y,D=S.indexOf("Electron/")>=0,N=S.indexOf("Android")>=0;let I=!1;if(window.matchMedia){const O=window.matchMedia("(display-mode: standalone)");I=O.matches,P(O,({matches:R})=>{I=R})}function E(){return I}},96491:function(nt,xe,l){"use strict";l.d(xe,{D:function(){return j}});var C=l(69748),d=l(94976);const j={clipboard:{writeText:d.tY||document.queryCommandSupported&&document.queryCommandSupported("copy")||!!(navigator&&navigator.clipboard&&navigator.clipboard.writeText),readText:d.tY||!!(navigator&&navigator.clipboard&&navigator.clipboard.readText)},keyboard:(()=>d.tY||C.isStandalone()?0:navigator.keyboard||C.isSafari?1:2)(),touch:"ontouchstart"in window||navigator.maxTouchPoints>0,pointerEvents:window.PointerEvent&&("ontouchstart"in window||window.navigator.maxTouchPoints>0||navigator.maxTouchPoints>0)}},19183:function(nt,xe,l){"use strict";l.d(xe,{P:function(){return j},g:function(){return d}});var C=l(72086);const d={RESOURCES:"ResourceURLs",DOWNLOAD_URL:"DownloadURL",FILES:"Files",TEXT:C.v.text},j={CurrentDragAndDropData:void 0}},1660:function(nt,xe,l){"use strict";l.d(xe,{$:function(){return Rn},$Z:function(){return Wn},Ay:function(){return Ge},Ce:function(){return pn},Cp:function(){return wn},D6:function(){return se},DI:function(){return ae},Dx:function(){return le},FK:function(){return ke},Fx:function(){return He},GQ:function(){return I},H$:function(){return je},I8:function(){return q},IC:function(){return M},If:function(){return H},OO:function(){return Ze},PO:function(){return _},R3:function(){return jt},Re:function(){return St},Ro:function(){return re},Uh:function(){return qn},Uw:function(){return y},V3:function(){return vt},_0:function(){return Be},_F:function(){return ye},_h:function(){return yt},_q:function(){return qe},dS:function(){return ct},dp:function(){return U},eg:function(){return Wt},fk:function(){return Vt},go:function(){return Pt},i:function(){return oe},jL:function(){return de},jg:function(){return Ke},jt:function(){return _e},lI:function(){return te},mc:function(){return at},mu:function(){return N},nm:function(){return a},tw:function(){return Re},uN:function(){return We},uU:function(){return ze},vL:function(){return Ee},vY:function(){return Fe},w:function(){return me},wY:function(){return ht},wn:function(){return ut},xQ:function(){return ne},zB:function(){return Se}});var C=l(69748),d=l(96491),j=l(91194),W=l(78359),L=l(708),z=l(60218),P=l(91929),A=l(94214),T=l(49407),S=l(94976);function _(ot){for(;ot.firstChild;)ot.firstChild.remove()}function y(ot){var Rt;return(Rt=ot==null?void 0:ot.isConnected)!==null&&Rt!==void 0?Rt:!1}class u{constructor(Rt,kt,wt,ln){this._node=Rt,this._type=kt,this._handler=wt,this._options=ln||!1,this._node.addEventListener(this._type,this._handler,this._options)}dispose(){!this._handler||(this._node.removeEventListener(this._type,this._handler,this._options),this._node=null,this._handler=null)}}function a(ot,Rt,kt,wt){return new u(ot,Rt,kt,wt)}function b(ot){return function(Rt){return ot(new W.n(Rt))}}function D(ot){return function(Rt){return ot(new j.y(Rt))}}const N=function(Rt,kt,wt,ln){let _t=wt;return kt==="click"||kt==="mousedown"?_t=b(wt):(kt==="keydown"||kt==="keypress"||kt==="keyup")&&(_t=D(wt)),a(Rt,kt,_t,ln)},I=function(Rt,kt,wt){const ln=b(kt);return O(Rt,ln,wt)},E=function(Rt,kt,wt){const ln=b(kt);return R(Rt,ln,wt)};function O(ot,Rt,kt){return a(ot,S.gn&&d.D.pointerEvents?Re.POINTER_DOWN:Re.MOUSE_DOWN,Rt,kt)}function R(ot,Rt,kt){return a(ot,platform.isIOS&&BrowserFeatures.pointerEvents?Re.POINTER_UP:Re.MOUSE_UP,Rt,kt)}function M(ot,Rt,kt){let wt=null;const ln=dn=>Xn.fire(dn),_t=()=>{wt||(wt=new u(ot,Rt,ln,kt))},di=()=>{wt&&(wt.dispose(),wt=null)},Xn=new z.Q5({onFirstListenerAdd:_t,onLastListenerRemove:di});return Xn}let K=null;function Z(ot){if(!K){const Rt=kt=>setTimeout(()=>kt(new Date().getTime()),0);K=self.requestAnimationFrame||self.msRequestAnimationFrame||self.webkitRequestAnimationFrame||self.mozRequestAnimationFrame||self.oRequestAnimationFrame||Rt}return K.call(self,ot)}let te,de;class ge{constructor(Rt,kt=0){this._runner=Rt,this.priority=kt,this._canceled=!1}dispose(){this._canceled=!0}execute(){if(!this._canceled)try{this._runner()}catch(Rt){(0,L.dL)(Rt)}}static sort(Rt,kt){return kt.priority-Rt.priority}}(function(){let ot=[],Rt=null,kt=!1,wt=!1;const ln=()=>{for(kt=!1,Rt=ot,ot=[],wt=!0;Rt.length>0;)Rt.sort(ge.sort),Rt.shift().execute();wt=!1};de=(_t,di=0)=>{const Xn=new ge(_t,di);return ot.push(Xn),kt||(kt=!0,Z(ln)),Xn},te=(_t,di)=>{if(wt){const Xn=new ge(_t,di);return Rt.push(Xn),Xn}else return de(_t,di)}})();function le(ot){return document.defaultView.getComputedStyle(ot,null)}function se(ot){if(ot!==document.body)return new re(ot.clientWidth,ot.clientHeight);if(S.gn&&window.visualViewport)return new re(window.visualViewport.width,window.visualViewport.height);if(window.innerWidth&&window.innerHeight)return new re(window.innerWidth,window.innerHeight);if(document.body&&document.body.clientWidth&&document.body.clientHeight)return new re(document.body.clientWidth,document.body.clientHeight);if(document.documentElement&&document.documentElement.clientWidth&&document.documentElement.clientHeight)return new re(document.documentElement.clientWidth,document.documentElement.clientHeight);throw new Error("Unable to figure out browser width and height")}class X{static convertToPixels(Rt,kt){return parseFloat(kt)||0}static getDimension(Rt,kt,wt){const ln=le(Rt);let _t="0";return ln&&(ln.getPropertyValue?_t=ln.getPropertyValue(kt):_t=ln.getAttribute(wt)),X.convertToPixels(Rt,_t)}static getBorderLeftWidth(Rt){return X.getDimension(Rt,"border-left-width","borderLeftWidth")}static getBorderRightWidth(Rt){return X.getDimension(Rt,"border-right-width","borderRightWidth")}static getBorderTopWidth(Rt){return X.getDimension(Rt,"border-top-width","borderTopWidth")}static getBorderBottomWidth(Rt){return X.getDimension(Rt,"border-bottom-width","borderBottomWidth")}static getPaddingLeft(Rt){return X.getDimension(Rt,"padding-left","paddingLeft")}static getPaddingRight(Rt){return X.getDimension(Rt,"padding-right","paddingRight")}static getPaddingTop(Rt){return X.getDimension(Rt,"padding-top","paddingTop")}static getPaddingBottom(Rt){return X.getDimension(Rt,"padding-bottom","paddingBottom")}static getMarginLeft(Rt){return X.getDimension(Rt,"margin-left","marginLeft")}static getMarginTop(Rt){return X.getDimension(Rt,"margin-top","marginTop")}static getMarginRight(Rt){return X.getDimension(Rt,"margin-right","marginRight")}static getMarginBottom(Rt){return X.getDimension(Rt,"margin-bottom","marginBottom")}}class re{constructor(Rt,kt){this.width=Rt,this.height=kt}with(Rt=this.width,kt=this.height){return Rt!==this.width||kt!==this.height?new re(Rt,kt):this}static is(Rt){return typeof Rt=="object"&&typeof Rt.height=="number"&&typeof Rt.width=="number"}static lift(Rt){return Rt instanceof re?Rt:new re(Rt.width,Rt.height)}static equals(Rt,kt){return Rt===kt?!0:!Rt||!kt?!1:Rt.width===kt.width&&Rt.height===kt.height}}re.None=new re(0,0);function ne(ot){let Rt=ot.offsetParent,kt=ot.offsetTop,wt=ot.offsetLeft;for(;(ot=ot.parentNode)!==null&&ot!==document.body&&ot!==document.documentElement;){kt-=ot.scrollTop;const ln=Le(ot)?null:le(ot);ln&&(wt-=ln.direction!=="rtl"?ot.scrollLeft:-ot.scrollLeft),ot===Rt&&(wt+=X.getBorderLeftWidth(ot),kt+=X.getBorderTopWidth(ot),kt+=ot.offsetTop,wt+=ot.offsetLeft,Rt=ot.offsetParent)}return{left:wt,top:kt}}function U(ot,Rt,kt){typeof Rt=="number"&&(ot.style.width=`${Rt}px`),typeof kt=="number"&&(ot.style.height=`${kt}px`)}function oe(ot){const Rt=ot.getBoundingClientRect();return{left:Rt.left+ae.scrollX,top:Rt.top+ae.scrollY,width:Rt.width,height:Rt.height}}function q(ot){let Rt=ot,kt=1;do{const wt=le(Rt).zoom;wt!=null&&wt!=="1"&&(kt*=wt),Rt=Rt.parentElement}while(Rt!==null&&Rt!==document.documentElement);return kt}const ae=new class{get scrollX(){return typeof window.scrollX=="number"?window.scrollX:document.body.scrollLeft+document.documentElement.scrollLeft}get scrollY(){return typeof window.scrollY=="number"?window.scrollY:document.body.scrollTop+document.documentElement.scrollTop}};function me(ot){const Rt=X.getMarginLeft(ot)+X.getMarginRight(ot);return ot.offsetWidth+Rt}function ke(ot){const Rt=X.getBorderLeftWidth(ot)+X.getBorderRightWidth(ot),kt=X.getPaddingLeft(ot)+X.getPaddingRight(ot);return ot.offsetWidth-Rt-kt}function H(ot){const Rt=X.getBorderTopWidth(ot)+X.getBorderBottomWidth(ot),kt=X.getPaddingTop(ot)+X.getPaddingBottom(ot);return ot.offsetHeight-Rt-kt}function ut(ot){const Rt=X.getMarginTop(ot)+X.getMarginBottom(ot);return ot.offsetHeight+Rt}function Ke(ot,Rt){for(;ot;){if(ot===Rt)return!0;ot=ot.parentNode}return!1}function He(ot,Rt,kt){for(;ot&&ot.nodeType===ot.ELEMENT_NODE;){if(ot.classList.contains(Rt))return ot;if(kt){if(typeof kt=="string"){if(ot.classList.contains(kt))return null}else if(ot===kt)return null}ot=ot.parentNode}return null}function ze(ot,Rt,kt){return!!He(ot,Rt,kt)}function Le(ot){return ot&&!!ot.host&&!!ot.mode}function Ze(ot){return!!Ge(ot)}function Ge(ot){for(;ot.parentNode;){if(ot===document.body)return null;ot=ot.parentNode}return Le(ot)?ot:null}function Fe(){let ot=document.activeElement;for(;ot!=null&&ot.shadowRoot;)ot=ot.shadowRoot.activeElement;return ot}function ct(ot=document.getElementsByTagName("head")[0]){const Rt=document.createElement("style");return Rt.type="text/css",Rt.media="screen",ot.appendChild(Rt),Rt}let ft=null;function Ot(){return ft||(ft=ct()),ft}function Et(ot){var Rt,kt;return!((Rt=ot==null?void 0:ot.sheet)===null||Rt===void 0)&&Rt.rules?ot.sheet.rules:!((kt=ot==null?void 0:ot.sheet)===null||kt===void 0)&&kt.cssRules?ot.sheet.cssRules:[]}function Vt(ot,Rt,kt=Ot()){!kt||!Rt||kt.sheet.insertRule(ot+"{"+Rt+"}",0)}function We(ot,Rt=Ot()){if(!Rt)return;const kt=Et(Rt),wt=[];for(let ln=0;ln<kt.length;ln++)kt[ln].selectorText.indexOf(ot)!==-1&&wt.push(ln);for(let ln=wt.length-1;ln>=0;ln--)Rt.sheet.deleteRule(wt[ln])}function St(ot){return typeof HTMLElement=="object"?ot instanceof HTMLElement:ot&&typeof ot=="object"&&ot.nodeType===1&&typeof ot.nodeName=="string"}const Re={CLICK:"click",AUXCLICK:"auxclick",DBLCLICK:"dblclick",MOUSE_UP:"mouseup",MOUSE_DOWN:"mousedown",MOUSE_OVER:"mouseover",MOUSE_MOVE:"mousemove",MOUSE_OUT:"mouseout",MOUSE_ENTER:"mouseenter",MOUSE_LEAVE:"mouseleave",MOUSE_WHEEL:"wheel",POINTER_UP:"pointerup",POINTER_DOWN:"pointerdown",POINTER_MOVE:"pointermove",POINTER_LEAVE:"pointerleave",CONTEXT_MENU:"contextmenu",WHEEL:"wheel",KEY_DOWN:"keydown",KEY_PRESS:"keypress",KEY_UP:"keyup",LOAD:"load",BEFORE_UNLOAD:"beforeunload",UNLOAD:"unload",PAGE_SHOW:"pageshow",PAGE_HIDE:"pagehide",ABORT:"abort",ERROR:"error",RESIZE:"resize",SCROLL:"scroll",FULLSCREEN_CHANGE:"fullscreenchange",WK_FULLSCREEN_CHANGE:"webkitfullscreenchange",SELECT:"select",CHANGE:"change",SUBMIT:"submit",RESET:"reset",FOCUS:"focus",FOCUS_IN:"focusin",FOCUS_OUT:"focusout",BLUR:"blur",INPUT:"input",STORAGE:"storage",DRAG_START:"dragstart",DRAG:"drag",DRAG_ENTER:"dragenter",DRAG_LEAVE:"dragleave",DRAG_OVER:"dragover",DROP:"drop",DRAG_END:"dragend",ANIMATION_START:C.isWebKit?"webkitAnimationStart":"animationstart",ANIMATION_END:C.isWebKit?"webkitAnimationEnd":"animationend",ANIMATION_ITERATION:C.isWebKit?"webkitAnimationIteration":"animationiteration"},Se={stop:function(ot,Rt){ot.preventDefault?ot.preventDefault():ot.returnValue=!1,Rt&&(ot.stopPropagation?ot.stopPropagation():ot.cancelBubble=!0)}};function Ee(ot){const Rt=[];for(let kt=0;ot&&ot.nodeType===ot.ELEMENT_NODE;kt++)Rt[kt]=ot.scrollTop,ot=ot.parentNode;return Rt}function Be(ot,Rt){for(let kt=0;ot&&ot.nodeType===ot.ELEMENT_NODE;kt++)ot.scrollTop!==Rt[kt]&&(ot.scrollTop=Rt[kt]),ot=ot.parentNode}class Xe extends A.JT{constructor(Rt){super(),this._onDidFocus=this._register(new z.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new z.Q5),this.onDidBlur=this._onDidBlur.event;let kt=Xe.hasFocusWithin(Rt),wt=!1;const ln=()=>{wt=!1,kt||(kt=!0,this._onDidFocus.fire())},_t=()=>{kt&&(wt=!0,window.setTimeout(()=>{wt&&(wt=!1,kt=!1,this._onDidBlur.fire())},0))};this._refreshStateHandler=()=>{Xe.hasFocusWithin(Rt)!==kt&&(kt?_t():ln())},this._register(a(Rt,Re.FOCUS,ln,!0)),this._register(a(Rt,Re.BLUR,_t,!0)),this._register(a(Rt,Re.FOCUS_IN,()=>this._refreshStateHandler())),this._register(a(Rt,Re.FOCUS_OUT,()=>this._refreshStateHandler()))}static hasFocusWithin(Rt){const kt=Ge(Rt),wt=kt?kt.activeElement:document.activeElement;return Ke(wt,Rt)}}function Pt(ot){return new Xe(ot)}function jt(ot,...Rt){if(ot.append(...Rt),Rt.length===1&&typeof Rt[0]!="string")return Rt[0]}function pn(ot,Rt){return ot.insertBefore(Rt,ot.firstChild),Rt}function at(ot,...Rt){ot.innerText="",jt(ot,...Rt)}const Mt=/([\w\-]+)?(#([\w\-]+))?((\.([\w\-]+))*)/;var Gt;(function(ot){ot.HTML="http://www.w3.org/1999/xhtml",ot.SVG="http://www.w3.org/2000/svg"})(Gt||(Gt={}));function _n(ot,Rt,kt,...wt){const ln=Mt.exec(Rt);if(!ln)throw new Error("Bad use of emmet");kt=Object.assign({},kt||{});const _t=ln[1]||"div";let di;return ot!==Gt.HTML?di=document.createElementNS(ot,_t):di=document.createElement(_t),ln[3]&&(di.id=ln[3]),ln[4]&&(di.className=ln[4].replace(/\./g," ").trim()),Object.keys(kt).forEach(Xn=>{const dn=kt[Xn];typeof dn!="undefined"&&(/^on\w+$/.test(Xn)?di[Xn]=dn:Xn==="selected"?dn&&di.setAttribute(Xn,"true"):di.setAttribute(Xn,dn))}),di.append(...wt),di}function Rn(ot,Rt,...kt){return _n(Gt.HTML,ot,Rt,...kt)}Rn.SVG=function(ot,Rt,...kt){return _n(Gt.SVG,ot,Rt,...kt)};function Wn(...ot){for(const Rt of ot)Rt.style.display="",Rt.removeAttribute("aria-hidden")}function wn(...ot){for(const Rt of ot)Rt.style.display="none",Rt.setAttribute("aria-hidden","true")}function je(ot){return Array.prototype.slice.call(document.getElementsByTagName(ot),0)}function qn(ot){const Rt=window.devicePixelRatio*ot;return Math.max(1,Math.floor(Rt))/window.devicePixelRatio}function vt(ot){window.open(ot,"_blank","noopener")}function _e(ot){const Rt=()=>{ot(),kt=de(Rt)};let kt=de(Rt);return(0,A.OF)(()=>kt.dispose())}T.WX.setPreferredWebSchema(/^https:/.test(window.location.href)?"https":"http");function ht(ot){return ot?`url('${T.Gi.asBrowserUri(ot).toString(!0).replace(/'/g,"%27")}')`:"url('')"}function yt(ot){return`'${ot.replace(/'/g,"%27")}'`}function ye(ot,Rt=!1){const kt=document.createElement("a");return P.v5("afterSanitizeAttributes",wt=>{for(const ln of["href","src"])if(wt.hasAttribute(ln)){const _t=wt.getAttribute(ln);if(ln==="href"&&_t.startsWith("#"))continue;if(kt.href=_t,!ot.includes(kt.protocol.replace(/:$/,""))){if(Rt&&ln==="src"&&kt.href.startsWith("data:"))continue;wt.removeAttribute(ln)}}}),(0,A.OF)(()=>{P.ok("afterSanitizeAttributes")})}class qe extends z.Q5{constructor(){super(),this._subscriptions=new A.SL,this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1},this._subscriptions.add(a(window,"keydown",Rt=>{if(Rt.defaultPrevented)return;const kt=new j.y(Rt);if(!(kt.keyCode===6&&Rt.repeat)){if(Rt.altKey&&!this._keyStatus.altKey)this._keyStatus.lastKeyPressed="alt";else if(Rt.ctrlKey&&!this._keyStatus.ctrlKey)this._keyStatus.lastKeyPressed="ctrl";else if(Rt.metaKey&&!this._keyStatus.metaKey)this._keyStatus.lastKeyPressed="meta";else if(Rt.shiftKey&&!this._keyStatus.shiftKey)this._keyStatus.lastKeyPressed="shift";else if(kt.keyCode!==6)this._keyStatus.lastKeyPressed=void 0;else return;this._keyStatus.altKey=Rt.altKey,this._keyStatus.ctrlKey=Rt.ctrlKey,this._keyStatus.metaKey=Rt.metaKey,this._keyStatus.shiftKey=Rt.shiftKey,this._keyStatus.lastKeyPressed&&(this._keyStatus.event=Rt,this.fire(this._keyStatus))}},!0)),this._subscriptions.add(a(window,"keyup",Rt=>{Rt.defaultPrevented||(!Rt.altKey&&this._keyStatus.altKey?this._keyStatus.lastKeyReleased="alt":!Rt.ctrlKey&&this._keyStatus.ctrlKey?this._keyStatus.lastKeyReleased="ctrl":!Rt.metaKey&&this._keyStatus.metaKey?this._keyStatus.lastKeyReleased="meta":!Rt.shiftKey&&this._keyStatus.shiftKey?this._keyStatus.lastKeyReleased="shift":this._keyStatus.lastKeyReleased=void 0,this._keyStatus.lastKeyPressed!==this._keyStatus.lastKeyReleased&&(this._keyStatus.lastKeyPressed=void 0),this._keyStatus.altKey=Rt.altKey,this._keyStatus.ctrlKey=Rt.ctrlKey,this._keyStatus.metaKey=Rt.metaKey,this._keyStatus.shiftKey=Rt.shiftKey,this._keyStatus.lastKeyReleased&&(this._keyStatus.event=Rt,this.fire(this._keyStatus)))},!0)),this._subscriptions.add(a(document.body,"mousedown",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(a(document.body,"mouseup",()=>{this._keyStatus.lastKeyPressed=void 0},!0)),this._subscriptions.add(a(document.body,"mousemove",Rt=>{Rt.buttons&&(this._keyStatus.lastKeyPressed=void 0)},!0)),this._subscriptions.add(a(window,"blur",()=>{this.resetKeyStatus()}))}get keyStatus(){return this._keyStatus}resetKeyStatus(){this.doResetKeyStatus(),this.fire(this._keyStatus)}doResetKeyStatus(){this._keyStatus={altKey:!1,shiftKey:!1,ctrlKey:!1,metaKey:!1}}static getInstance(){return qe.instance||(qe.instance=new qe),qe.instance}dispose(){super.dispose(),this._subscriptions.dispose()}}class Wt extends A.JT{constructor(Rt,kt){super(),this.element=Rt,this.callbacks=kt,this.counter=0,this.dragStartTime=0,this.registerListeners()}registerListeners(){this._register(a(this.element,Re.DRAG_ENTER,Rt=>{this.counter++,this.dragStartTime=Rt.timeStamp,this.callbacks.onDragEnter(Rt)})),this._register(a(this.element,Re.DRAG_OVER,Rt=>{var kt,wt;Rt.preventDefault(),(wt=(kt=this.callbacks).onDragOver)===null||wt===void 0||wt.call(kt,Rt,Rt.timeStamp-this.dragStartTime)})),this._register(a(this.element,Re.DRAG_LEAVE,Rt=>{this.counter--,this.counter===0&&(this.dragStartTime=0,this.callbacks.onDragLeave(Rt))})),this._register(a(this.element,Re.DRAG_END,Rt=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDragEnd(Rt)})),this._register(a(this.element,Re.DROP,Rt=>{this.counter=0,this.dragStartTime=0,this.callbacks.onDrop(Rt)}))}}const Xt=new RegExp("(?<tag>[\\w\\-]+)?(?:#(?<id>[\\w\\-]+))?(?<class>(?:\\.(?:[\\w\\-]+))*)(?:@(?<name>(?:[\\w\\_])+))?");function mn(ot,...Rt){let kt,wt;Array.isArray(Rt[0])?(kt={},wt=Rt[0]):(kt=Rt[0]||{},wt=Rt[1]);const ln=Xt.exec(ot);if(!ln||!ln.groups)throw new Error("Bad use of h");const _t=ln.groups.tag||"div",di=document.createElement(_t);ln.groups.id&&(di.id=ln.groups.id),ln.groups.class&&(di.className=ln.groups.class.replace(/\./g," ").trim());const Xn={};if(ln.groups.name&&(Xn[ln.groups.name]=di),wt)for(const dn of wt)dn instanceof HTMLElement?di.appendChild(dn):typeof dn=="string"?di.append(dn):(Object.assign(Xn,dn),di.appendChild(dn.root));for(const[dn,Ve]of Object.entries(kt))if(dn==="style")for(const[Ce,dt]of Object.entries(Ve))di.style.setProperty(bn(Ce),typeof dt=="number"?dt+"px":""+dt);else dn==="tabIndex"?di.tabIndex=Ve:di.setAttribute(bn(dn),Ve.toString());return Xn.root=di,Xn}function bn(ot){return ot.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}},91929:function(nt,xe,l){"use strict";l.d(xe,{Nw:function(){return Re},ok:function(){return Pt},v5:function(){return Xe}});function C(at){if(Array.isArray(at)){for(var Mt=0,Gt=Array(at.length);Mt<at.length;Mt++)Gt[Mt]=at[Mt];return Gt}else return Array.from(at)}var d=Object.hasOwnProperty,j=Object.setPrototypeOf,W=Object.isFrozen,L=Object.getPrototypeOf,z=Object.getOwnPropertyDescriptor,P=Object.freeze,A=Object.seal,T=Object.create,S=typeof Reflect!="undefined"&&Reflect,_=S.apply,y=S.construct;_||(_=function(Mt,Gt,_n){return Mt.apply(Gt,_n)}),P||(P=function(Mt){return Mt}),A||(A=function(Mt){return Mt}),y||(y=function(Mt,Gt){return new(Function.prototype.bind.apply(Mt,[null].concat(C(Gt))))});var u=K(Array.prototype.forEach),a=K(Array.prototype.pop),b=K(Array.prototype.push),D=K(String.prototype.toLowerCase),N=K(String.prototype.match),I=K(String.prototype.replace),E=K(String.prototype.indexOf),O=K(String.prototype.trim),R=K(RegExp.prototype.test),M=Z(TypeError);function K(at){return function(Mt){for(var Gt=arguments.length,_n=Array(Gt>1?Gt-1:0),Rn=1;Rn<Gt;Rn++)_n[Rn-1]=arguments[Rn];return _(at,Mt,_n)}}function Z(at){return function(){for(var Mt=arguments.length,Gt=Array(Mt),_n=0;_n<Mt;_n++)Gt[_n]=arguments[_n];return y(at,Gt)}}function te(at,Mt){j&&j(at,null);for(var Gt=Mt.length;Gt--;){var _n=Mt[Gt];if(typeof _n=="string"){var Rn=D(_n);Rn!==_n&&(W(Mt)||(Mt[Gt]=Rn),_n=Rn)}at[_n]=!0}return at}function de(at){var Mt=T(null),Gt=void 0;for(Gt in at)_(d,at,[Gt])&&(Mt[Gt]=at[Gt]);return Mt}function ge(at,Mt){for(;at!==null;){var Gt=z(at,Mt);if(Gt){if(Gt.get)return K(Gt.get);if(typeof Gt.value=="function")return K(Gt.value)}at=L(at)}function _n(Rn){return console.warn("fallback value for",Rn),null}return _n}var le=P(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),se=P(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),X=P(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),re=P(["animate","color-profile","cursor","discard","fedropshadow","feimage","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),ne=P(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),U=P(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),oe=P(["#text"]),q=P(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),ae=P(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),me=P(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ke=P(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),H=A(/\{\{[\s\S]*|[\s\S]*\}\}/gm),ut=A(/<%[\s\S]*|[\s\S]*%>/gm),Ke=A(/^data-[\-\w.\u00B7-\uFFFF]/),He=A(/^aria-[\-\w]+$/),ze=A(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),Le=A(/^(?:\w+script|data):/i),Ze=A(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),Ge=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(at){return typeof at}:function(at){return at&&typeof Symbol=="function"&&at.constructor===Symbol&&at!==Symbol.prototype?"symbol":typeof at};function Fe(at){if(Array.isArray(at)){for(var Mt=0,Gt=Array(at.length);Mt<at.length;Mt++)Gt[Mt]=at[Mt];return Gt}else return Array.from(at)}var ct=function(){return typeof window=="undefined"?null:window},ft=function(Mt,Gt){if((typeof Mt=="undefined"?"undefined":Ge(Mt))!=="object"||typeof Mt.createPolicy!="function")return null;var _n=null,Rn="data-tt-policy-suffix";Gt.currentScript&&Gt.currentScript.hasAttribute(Rn)&&(_n=Gt.currentScript.getAttribute(Rn));var Wn="dompurify"+(_n?"#"+_n:"");try{return Mt.createPolicy(Wn,{createHTML:function(je){return je}})}catch(wn){return console.warn("TrustedTypes policy "+Wn+" could not be created."),null}};function Ot(){var at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ct(),Mt=function(Ln){return Ot(Ln)};if(Mt.version="2.3.1",Mt.removed=[],!at||!at.document||at.document.nodeType!==9)return Mt.isSupported=!1,Mt;var Gt=at.document,_n=at.document,Rn=at.DocumentFragment,Wn=at.HTMLTemplateElement,wn=at.Node,je=at.Element,qn=at.NodeFilter,vt=at.NamedNodeMap,_e=vt===void 0?at.NamedNodeMap||at.MozNamedAttrMap:vt,ht=at.Text,yt=at.Comment,ye=at.DOMParser,qe=at.trustedTypes,Wt=je.prototype,Xt=ge(Wt,"cloneNode"),mn=ge(Wt,"nextSibling"),bn=ge(Wt,"childNodes"),ot=ge(Wt,"parentNode");if(typeof Wn=="function"){var Rt=_n.createElement("template");Rt.content&&Rt.content.ownerDocument&&(_n=Rt.content.ownerDocument)}var kt=ft(qe,Gt),wt=kt&&hn?kt.createHTML(""):"",ln=_n,_t=ln.implementation,di=ln.createNodeIterator,Xn=ln.createDocumentFragment,dn=ln.getElementsByTagName,Ve=Gt.importNode,Ce={};try{Ce=de(_n).documentMode?_n.documentMode:{}}catch(Yi){}var dt={};Mt.isSupported=typeof ot=="function"&&_t&&typeof _t.createHTMLDocument!="undefined"&&Ce!==9;var Qt=H,en=ut,vn=Ke,An=He,On=Le,In=Ze,Sn=ze,Mn=null,Bn=te({},[].concat(Fe(le),Fe(se),Fe(X),Fe(ne),Fe(oe))),Jn=null,ai=te({},[].concat(Fe(q),Fe(ae),Fe(me),Fe(ke))),jn=null,Ii=null,ci=!0,oi=!0,wi=!1,Li=!1,kn=!1,vi=!1,Si=!1,Ye=!1,Tt=!1,nn=!0,hn=!1,Vn=!0,Hn=!0,Ci=!1,qi={},ri=null,ms=te({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),fi=null,_s=te({},["audio","video","img","source","image","track"]),bi=null,$i=te({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Ei="http://www.w3.org/1998/Math/MathML",Xi="http://www.w3.org/2000/svg",Es="http://www.w3.org/1999/xhtml",Ks=Es,gi=!1,bs=null,Di=_n.createElement("form"),ws=function(Ln){bs&&bs===Ln||((!Ln||(typeof Ln=="undefined"?"undefined":Ge(Ln))!=="object")&&(Ln={}),Ln=de(Ln),Mn="ALLOWED_TAGS"in Ln?te({},Ln.ALLOWED_TAGS):Bn,Jn="ALLOWED_ATTR"in Ln?te({},Ln.ALLOWED_ATTR):ai,bi="ADD_URI_SAFE_ATTR"in Ln?te(de($i),Ln.ADD_URI_SAFE_ATTR):$i,fi="ADD_DATA_URI_TAGS"in Ln?te(de(_s),Ln.ADD_DATA_URI_TAGS):_s,ri="FORBID_CONTENTS"in Ln?te({},Ln.FORBID_CONTENTS):ms,jn="FORBID_TAGS"in Ln?te({},Ln.FORBID_TAGS):{},Ii="FORBID_ATTR"in Ln?te({},Ln.FORBID_ATTR):{},qi="USE_PROFILES"in Ln?Ln.USE_PROFILES:!1,ci=Ln.ALLOW_ARIA_ATTR!==!1,oi=Ln.ALLOW_DATA_ATTR!==!1,wi=Ln.ALLOW_UNKNOWN_PROTOCOLS||!1,Li=Ln.SAFE_FOR_TEMPLATES||!1,kn=Ln.WHOLE_DOCUMENT||!1,Ye=Ln.RETURN_DOM||!1,Tt=Ln.RETURN_DOM_FRAGMENT||!1,nn=Ln.RETURN_DOM_IMPORT!==!1,hn=Ln.RETURN_TRUSTED_TYPE||!1,Si=Ln.FORCE_BODY||!1,Vn=Ln.SANITIZE_DOM!==!1,Hn=Ln.KEEP_CONTENT!==!1,Ci=Ln.IN_PLACE||!1,Sn=Ln.ALLOWED_URI_REGEXP||Sn,Ks=Ln.NAMESPACE||Es,Li&&(oi=!1),Tt&&(Ye=!0),qi&&(Mn=te({},[].concat(Fe(oe))),Jn=[],qi.html===!0&&(te(Mn,le),te(Jn,q)),qi.svg===!0&&(te(Mn,se),te(Jn,ae),te(Jn,ke)),qi.svgFilters===!0&&(te(Mn,X),te(Jn,ae),te(Jn,ke)),qi.mathMl===!0&&(te(Mn,ne),te(Jn,me),te(Jn,ke))),Ln.ADD_TAGS&&(Mn===Bn&&(Mn=de(Mn)),te(Mn,Ln.ADD_TAGS)),Ln.ADD_ATTR&&(Jn===ai&&(Jn=de(Jn)),te(Jn,Ln.ADD_ATTR)),Ln.ADD_URI_SAFE_ATTR&&te(bi,Ln.ADD_URI_SAFE_ATTR),Ln.FORBID_CONTENTS&&(ri===ms&&(ri=de(ri)),te(ri,Ln.FORBID_CONTENTS)),Hn&&(Mn["#text"]=!0),kn&&te(Mn,["html","head","body"]),Mn.table&&(te(Mn,["tbody"]),delete jn.tbody),P&&P(Ln),bs=Ln)},uo=te({},["mi","mo","mn","ms","mtext"]),Us=te({},["foreignobject","desc","title","annotation-xml"]),$s=te({},se);te($s,X),te($s,re);var cs=te({},ne);te(cs,U);var on=function(Ln){var hi=ot(Ln);(!hi||!hi.tagName)&&(hi={namespaceURI:Es,tagName:"template"});var si=D(Ln.tagName),ns=D(hi.tagName);if(Ln.namespaceURI===Xi)return hi.namespaceURI===Es?si==="svg":hi.namespaceURI===Ei?si==="svg"&&(ns==="annotation-xml"||uo[ns]):Boolean($s[si]);if(Ln.namespaceURI===Ei)return hi.namespaceURI===Es?si==="math":hi.namespaceURI===Xi?si==="math"&&Us[ns]:Boolean(cs[si]);if(Ln.namespaceURI===Es){if(hi.namespaceURI===Xi&&!Us[ns]||hi.namespaceURI===Ei&&!uo[ns])return!1;var Xs=te({},["title","style","font","a","script"]);return!cs[si]&&(Xs[si]||!$s[si])}return!1},ts=function(Ln){b(Mt.removed,{element:Ln});try{Ln.parentNode.removeChild(Ln)}catch(hi){try{Ln.outerHTML=wt}catch(si){Ln.remove()}}},Ro=function(Ln,hi){try{b(Mt.removed,{attribute:hi.getAttributeNode(Ln),from:hi})}catch(si){b(Mt.removed,{attribute:null,from:hi})}if(hi.removeAttribute(Ln),Ln==="is"&&!Jn[Ln])if(Ye||Tt)try{ts(hi)}catch(si){}else try{hi.setAttribute(Ln,"")}catch(si){}},zs=function(Ln){var hi=void 0,si=void 0;if(Si)Ln="<remove></remove>"+Ln;else{var ns=N(Ln,/^[\r\n\t ]+/);si=ns&&ns[0]}var Xs=kt?kt.createHTML(Ln):Ln;if(Ks===Es)try{hi=new ye().parseFromString(Xs,"text/html")}catch(we){}if(!hi||!hi.documentElement){hi=_t.createDocument(Ks,"template",null);try{hi.documentElement.innerHTML=gi?"":Xs}catch(we){}}var ki=hi.body||hi.documentElement;return Ln&&si&&ki.insertBefore(_n.createTextNode(si),ki.childNodes[0]||null),Ks===Es?dn.call(hi,kn?"html":"body")[0]:kn?hi.documentElement:ki},As=function(Ln){return di.call(Ln.ownerDocument||Ln,Ln,qn.SHOW_ELEMENT|qn.SHOW_COMMENT|qn.SHOW_TEXT,null,!1)},eo=function(Ln){return Ln instanceof ht||Ln instanceof yt?!1:typeof Ln.nodeName!="string"||typeof Ln.textContent!="string"||typeof Ln.removeChild!="function"||!(Ln.attributes instanceof _e)||typeof Ln.removeAttribute!="function"||typeof Ln.setAttribute!="function"||typeof Ln.namespaceURI!="string"||typeof Ln.insertBefore!="function"},so=function(Ln){return(typeof wn=="undefined"?"undefined":Ge(wn))==="object"?Ln instanceof wn:Ln&&(typeof Ln=="undefined"?"undefined":Ge(Ln))==="object"&&typeof Ln.nodeType=="number"&&typeof Ln.nodeName=="string"},oo=function(Ln,hi,si){!dt[Ln]||u(dt[Ln],function(ns){ns.call(Mt,hi,si,bs)})},Ho=function(Ln){var hi=void 0;if(oo("beforeSanitizeElements",Ln,null),eo(Ln)||N(Ln.nodeName,/[\u0080-\uFFFF]/))return ts(Ln),!0;var si=D(Ln.nodeName);if(oo("uponSanitizeElement",Ln,{tagName:si,allowedTags:Mn}),!so(Ln.firstElementChild)&&(!so(Ln.content)||!so(Ln.content.firstElementChild))&&R(/<[/\w]/g,Ln.innerHTML)&&R(/<[/\w]/g,Ln.textContent)||si==="select"&&R(/<template/i,Ln.innerHTML))return ts(Ln),!0;if(!Mn[si]||jn[si]){if(Hn&&!ri[si]){var ns=ot(Ln)||Ln.parentNode,Xs=bn(Ln)||Ln.childNodes;if(Xs&&ns)for(var ki=Xs.length,we=ki-1;we>=0;--we)ns.insertBefore(Xt(Xs[we],!0),mn(Ln))}return ts(Ln),!0}return Ln instanceof je&&!on(Ln)||(si==="noscript"||si==="noembed")&&R(/<\/no(script|embed)/i,Ln.innerHTML)?(ts(Ln),!0):(Li&&Ln.nodeType===3&&(hi=Ln.textContent,hi=I(hi,Qt," "),hi=I(hi,en," "),Ln.textContent!==hi&&(b(Mt.removed,{element:Ln.cloneNode()}),Ln.textContent=hi)),oo("afterSanitizeElements",Ln,null),!1)},es=function(Ln,hi,si){if(Vn&&(hi==="id"||hi==="name")&&(si in _n||si in Di))return!1;if(!(oi&&!Ii[hi]&&R(vn,hi))){if(!(ci&&R(An,hi))){if(!Jn[hi]||Ii[hi])return!1;if(!bi[hi]){if(!R(Sn,I(si,In,""))){if(!((hi==="src"||hi==="xlink:href"||hi==="href")&&Ln!=="script"&&E(si,"data:")===0&&fi[Ln])){if(!(wi&&!R(On,I(si,In,"")))){if(si)return!1}}}}}}return!0},as=function(Ln){var hi=void 0,si=void 0,ns=void 0,Xs=void 0;oo("beforeSanitizeAttributes",Ln,null);var ki=Ln.attributes;if(!!ki){var we={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:Jn};for(Xs=ki.length;Xs--;){hi=ki[Xs];var k=hi,F=k.name,m=k.namespaceURI;if(si=O(hi.value),ns=D(F),we.attrName=ns,we.attrValue=si,we.keepAttr=!0,we.forceKeepAttr=void 0,oo("uponSanitizeAttribute",Ln,we),si=we.attrValue,!we.forceKeepAttr&&(Ro(F,Ln),!!we.keepAttr)){if(R(/\/>/i,si)){Ro(F,Ln);continue}Li&&(si=I(si,Qt," "),si=I(si,en," "));var B=Ln.nodeName.toLowerCase();if(!!es(B,ns,si))try{m?Ln.setAttributeNS(m,F,si):Ln.setAttribute(F,si),a(Mt.removed)}catch(ee){}}}oo("afterSanitizeAttributes",Ln,null)}},xo=function Yi(Ln){var hi=void 0,si=As(Ln);for(oo("beforeSanitizeShadowDOM",Ln,null);hi=si.nextNode();)oo("uponSanitizeShadowNode",hi,null),!Ho(hi)&&(hi.content instanceof Rn&&Yi(hi.content),as(hi));oo("afterSanitizeShadowDOM",Ln,null)};return Mt.sanitize=function(Yi,Ln){var hi=void 0,si=void 0,ns=void 0,Xs=void 0,ki=void 0;if(gi=!Yi,gi&&(Yi="<!-->"),typeof Yi!="string"&&!so(Yi)){if(typeof Yi.toString!="function")throw M("toString is not a function");if(Yi=Yi.toString(),typeof Yi!="string")throw M("dirty is not a string, aborting")}if(!Mt.isSupported){if(Ge(at.toStaticHTML)==="object"||typeof at.toStaticHTML=="function"){if(typeof Yi=="string")return at.toStaticHTML(Yi);if(so(Yi))return at.toStaticHTML(Yi.outerHTML)}return Yi}if(vi||ws(Ln),Mt.removed=[],typeof Yi=="string"&&(Ci=!1),!Ci)if(Yi instanceof wn)hi=zs("<!---->"),si=hi.ownerDocument.importNode(Yi,!0),si.nodeType===1&&si.nodeName==="BODY"||si.nodeName==="HTML"?hi=si:hi.appendChild(si);else{if(!Ye&&!Li&&!kn&&Yi.indexOf("<")===-1)return kt&&hn?kt.createHTML(Yi):Yi;if(hi=zs(Yi),!hi)return Ye?null:wt}hi&&Si&&ts(hi.firstChild);for(var we=As(Ci?Yi:hi);ns=we.nextNode();)ns.nodeType===3&&ns===Xs||Ho(ns)||(ns.content instanceof Rn&&xo(ns.content),as(ns),Xs=ns);if(Xs=null,Ci)return Yi;if(Ye){if(Tt)for(ki=Xn.call(hi.ownerDocument);hi.firstChild;)ki.appendChild(hi.firstChild);else ki=hi;return nn&&(ki=Ve.call(Gt,ki,!0)),ki}var k=kn?hi.outerHTML:hi.innerHTML;return Li&&(k=I(k,Qt," "),k=I(k,en," ")),kt&&hn?kt.createHTML(k):k},Mt.setConfig=function(Yi){ws(Yi),vi=!0},Mt.clearConfig=function(){bs=null,vi=!1},Mt.isValidAttribute=function(Yi,Ln,hi){bs||ws({});var si=D(Yi),ns=D(Ln);return es(si,ns,hi)},Mt.addHook=function(Yi,Ln){typeof Ln=="function"&&(dt[Yi]=dt[Yi]||[],b(dt[Yi],Ln))},Mt.removeHook=function(Yi){dt[Yi]&&a(dt[Yi])},Mt.removeHooks=function(Yi){dt[Yi]&&(dt[Yi]=[])},Mt.removeAllHooks=function(){dt={}},Mt}var Et=Ot(),Vt=null;const We=Et.version,St=Et.isSupported,Re=Et.sanitize,Se=Et.setConfig,Ee=Et.clearConfig,Be=Et.isValidAttribute,Xe=Et.addHook,Pt=Et.removeHook,jt=Et.removeHooks,pn=Et.removeAllHooks},31545:function(nt,xe,l){"use strict";l.d(xe,{Y:function(){return d},p:function(){return j}});var C=l(60218);class d{constructor(L,z,P){const A=T=>this.emitter.fire(T);this.emitter=new C.Q5({onFirstListenerAdd:()=>L.addEventListener(z,A,P),onLastListenerRemove:()=>L.removeEventListener(z,A,P)})}get event(){return this.emitter.event}dispose(){this.emitter.dispose()}}function j(W){return W.preventDefault(),W.stopPropagation(),W}},52948:function(nt,xe,l){"use strict";l.d(xe,{X:function(){return j},Z:function(){return C}});class C{constructor(L){this.domNode=L,this._maxWidth="",this._width="",this._height="",this._top="",this._left="",this._bottom="",this._right="",this._fontFamily="",this._fontWeight="",this._fontSize="",this._fontStyle="",this._fontFeatureSettings="",this._textDecoration="",this._lineHeight="",this._letterSpacing="",this._className="",this._display="",this._position="",this._visibility="",this._color="",this._backgroundColor="",this._layerHint=!1,this._contain="none",this._boxShadow=""}setMaxWidth(L){const z=d(L);this._maxWidth!==z&&(this._maxWidth=z,this.domNode.style.maxWidth=this._maxWidth)}setWidth(L){const z=d(L);this._width!==z&&(this._width=z,this.domNode.style.width=this._width)}setHeight(L){const z=d(L);this._height!==z&&(this._height=z,this.domNode.style.height=this._height)}setTop(L){const z=d(L);this._top!==z&&(this._top=z,this.domNode.style.top=this._top)}setLeft(L){const z=d(L);this._left!==z&&(this._left=z,this.domNode.style.left=this._left)}setBottom(L){const z=d(L);this._bottom!==z&&(this._bottom=z,this.domNode.style.bottom=this._bottom)}setRight(L){const z=d(L);this._right!==z&&(this._right=z,this.domNode.style.right=this._right)}setFontFamily(L){this._fontFamily!==L&&(this._fontFamily=L,this.domNode.style.fontFamily=this._fontFamily)}setFontWeight(L){this._fontWeight!==L&&(this._fontWeight=L,this.domNode.style.fontWeight=this._fontWeight)}setFontSize(L){const z=d(L);this._fontSize!==z&&(this._fontSize=z,this.domNode.style.fontSize=this._fontSize)}setFontStyle(L){this._fontStyle!==L&&(this._fontStyle=L,this.domNode.style.fontStyle=this._fontStyle)}setFontFeatureSettings(L){this._fontFeatureSettings!==L&&(this._fontFeatureSettings=L,this.domNode.style.fontFeatureSettings=this._fontFeatureSettings)}setTextDecoration(L){this._textDecoration!==L&&(this._textDecoration=L,this.domNode.style.textDecoration=this._textDecoration)}setLineHeight(L){const z=d(L);this._lineHeight!==z&&(this._lineHeight=z,this.domNode.style.lineHeight=this._lineHeight)}setLetterSpacing(L){const z=d(L);this._letterSpacing!==z&&(this._letterSpacing=z,this.domNode.style.letterSpacing=this._letterSpacing)}setClassName(L){this._className!==L&&(this._className=L,this.domNode.className=this._className)}toggleClassName(L,z){this.domNode.classList.toggle(L,z),this._className=this.domNode.className}setDisplay(L){this._display!==L&&(this._display=L,this.domNode.style.display=this._display)}setPosition(L){this._position!==L&&(this._position=L,this.domNode.style.position=this._position)}setVisibility(L){this._visibility!==L&&(this._visibility=L,this.domNode.style.visibility=this._visibility)}setColor(L){this._color!==L&&(this._color=L,this.domNode.style.color=this._color)}setBackgroundColor(L){this._backgroundColor!==L&&(this._backgroundColor=L,this.domNode.style.backgroundColor=this._backgroundColor)}setLayerHinting(L){this._layerHint!==L&&(this._layerHint=L,this.domNode.style.transform=this._layerHint?"translate3d(0px, 0px, 0px)":"")}setBoxShadow(L){this._boxShadow!==L&&(this._boxShadow=L,this.domNode.style.boxShadow=L)}setContain(L){this._contain!==L&&(this._contain=L,this.domNode.style.contain=this._contain)}setAttribute(L,z){this.domNode.setAttribute(L,z)}removeAttribute(L){this.domNode.removeAttribute(L)}appendChild(L){this.domNode.appendChild(L.domNode)}removeChild(L){this.domNode.removeChild(L.domNode)}}function d(W){return typeof W=="number"?`${W}px`:W}function j(W){return new C(W)}},2361:function(nt,xe,l){"use strict";l.d(xe,{BO:function(){return j},IY:function(){return d},az:function(){return W}});var C=l(1660);function d(S,_={}){const y=W(_);return y.textContent=S,y}function j(S,_={}){const y=W(_);return z(y,P(S,!!_.renderCodeSegments),_.actionHandler,_.renderCodeSegments),y}function W(S){const _=S.inline?"span":"div",y=document.createElement(_);return S.className&&(y.className=S.className),y}class L{constructor(_){this.source=_,this.index=0}eos(){return this.index>=this.source.length}next(){const _=this.peek();return this.advance(),_}peek(){return this.source[this.index]}advance(){this.index++}}function z(S,_,y,u){let a;if(_.type===2)a=document.createTextNode(_.content||"");else if(_.type===3)a=document.createElement("b");else if(_.type===4)a=document.createElement("i");else if(_.type===7&&u)a=document.createElement("code");else if(_.type===5&&y){const b=document.createElement("a");y.disposables.add(C.mu(b,"click",D=>{y.callback(String(_.index),D)})),a=b}else _.type===8?a=document.createElement("br"):_.type===1&&(a=S);a&&S!==a&&S.appendChild(a),a&&Array.isArray(_.children)&&_.children.forEach(b=>{z(a,b,y,u)})}function P(S,_){const y={type:1,children:[]};let u=0,a=y;const b=[],D=new L(S);for(;!D.eos();){let N=D.next();const I=N==="\\"&&T(D.peek(),_)!==0;if(I&&(N=D.next()),!I&&A(N,_)&&N===D.peek()){D.advance(),a.type===2&&(a=b.pop());const E=T(N,_);if(a.type===E||a.type===5&&E===6)a=b.pop();else{const O={type:E,children:[]};E===5&&(O.index=u,u++),a.children.push(O),b.push(a),a=O}}else if(N===`
`)a.type===2&&(a=b.pop()),a.children.push({type:8});else if(a.type!==2){const E={type:2,content:N};a.children.push(E),b.push(a),a=E}else a.content+=N}return a.type===2&&(a=b.pop()),b.length,y}function A(S,_){return T(S,_)!==0}function T(S,_){switch(S){case"*":return 3;case"_":return 4;case"[":return 5;case"]":return 6;case"`":return _?7:0;default:return 0}}},9138:function(nt,xe,l){"use strict";l.d(xe,{C:function(){return j}});var C=l(1660),d=l(94214);class j{constructor(){this._hooks=new d.SL,this._pointerMoveCallback=null,this._onStopCallback=null}dispose(){this.stopMonitoring(!1),this._hooks.dispose()}stopMonitoring(L,z){if(!this.isMonitoring())return;this._hooks.clear(),this._pointerMoveCallback=null;const P=this._onStopCallback;this._onStopCallback=null,L&&P&&P(z)}isMonitoring(){return!!this._pointerMoveCallback}startMonitoring(L,z,P,A,T){this.isMonitoring()&&this.stopMonitoring(!1),this._pointerMoveCallback=A,this._onStopCallback=T;let S=L;try{L.setPointerCapture(z),this._hooks.add((0,d.OF)(()=>{L.releasePointerCapture(z)}))}catch(_){S=window}this._hooks.add(C.nm(S,C.tw.POINTER_MOVE,_=>{if(_.buttons!==P){this.stopMonitoring(!0);return}_.preventDefault(),this._pointerMoveCallback(_)})),this._hooks.add(C.nm(S,C.tw.POINTER_UP,_=>this.stopMonitoring(!0)))}}},91194:function(nt,xe,l){"use strict";l.d(xe,{y:function(){return S}});var C=l(69748),d=l(1184),j=l(44174),W=l(94976);function L(_){if(_.charCode){const u=String.fromCharCode(_.charCode).toUpperCase();return d.kL.fromString(u)}const y=_.keyCode;if(y===3)return 7;if(C.isFirefox){if(y===59)return 80;if(y===107)return 81;if(y===109)return 83;if(W.dz&&y===224)return 57}else if(C.isWebKit){if(y===91)return 57;if(W.dz&&y===93)return 57;if(!W.dz&&y===92)return 57}return d.H_[y]||0}const z=W.dz?256:2048,P=512,A=1024,T=W.dz?2048:256;class S{constructor(y){this._standardKeyboardEventBrand=!0;const u=y;this.browserEvent=u,this.target=u.target,this.ctrlKey=u.ctrlKey,this.shiftKey=u.shiftKey,this.altKey=u.altKey,this.metaKey=u.metaKey,this.keyCode=L(u),this.code=u.code,this.ctrlKey=this.ctrlKey||this.keyCode===5,this.altKey=this.altKey||this.keyCode===6,this.shiftKey=this.shiftKey||this.keyCode===4,this.metaKey=this.metaKey||this.keyCode===57,this._asKeybinding=this._computeKeybinding(),this._asRuntimeKeybinding=this._computeRuntimeKeybinding()}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation&&this.browserEvent.stopPropagation()}toKeybinding(){return this._asRuntimeKeybinding}equals(y){return this._asKeybinding===y}_computeKeybinding(){let y=0;this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(y=this.keyCode);let u=0;return this.ctrlKey&&(u|=z),this.altKey&&(u|=P),this.shiftKey&&(u|=A),this.metaKey&&(u|=T),u|=y,u}_computeRuntimeKeybinding(){let y=0;return this.keyCode!==5&&this.keyCode!==4&&this.keyCode!==6&&this.keyCode!==57&&(y=this.keyCode),new j.QC(this.ctrlKey,this.shiftKey,this.altKey,this.metaKey,y)}}},78359:function(nt,xe,l){"use strict";l.d(xe,{n:function(){return P},q:function(){return A}});var C=l(69748);let d=!1,j=null;function W(T){if(!T.parent||T.parent===T)return null;try{const S=T.location,_=T.parent.location;if(S.origin!=="null"&&_.origin!=="null"&&S.origin!==_.origin)return d=!0,null}catch(S){return d=!0,null}return T.parent}class L{static getSameOriginWindowChain(){if(!j){j=[];let S=window,_;do _=W(S),_?j.push({window:S,iframeElement:S.frameElement||null}):j.push({window:S,iframeElement:null}),S=_;while(S)}return j.slice(0)}static getPositionOfChildWindowRelativeToAncestorWindow(S,_){if(!_||S===_)return{top:0,left:0};let y=0,u=0;const a=this.getSameOriginWindowChain();for(const b of a){if(y+=b.window.scrollY,u+=b.window.scrollX,b.window===_||!b.iframeElement)break;const D=b.iframeElement.getBoundingClientRect();y+=D.top,u+=D.left}return{top:y,left:u}}}var z=l(94976);class P{constructor(S){this.timestamp=Date.now(),this.browserEvent=S,this.leftButton=S.button===0,this.middleButton=S.button===1,this.rightButton=S.button===2,this.buttons=S.buttons,this.target=S.target,this.detail=S.detail||1,S.type==="dblclick"&&(this.detail=2),this.ctrlKey=S.ctrlKey,this.shiftKey=S.shiftKey,this.altKey=S.altKey,this.metaKey=S.metaKey,typeof S.pageX=="number"?(this.posx=S.pageX,this.posy=S.pageY):(this.posx=S.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.posy=S.clientY+document.body.scrollTop+document.documentElement.scrollTop);const _=L.getPositionOfChildWindowRelativeToAncestorWindow(self,S.view);this.posx-=_.left,this.posy-=_.top}preventDefault(){this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent.stopPropagation()}}class A{constructor(S,_=0,y=0){if(this.browserEvent=S||null,this.target=S?S.target||S.targetNode||S.srcElement:null,this.deltaY=y,this.deltaX=_,S){const u=S,a=S;if(typeof u.wheelDeltaY!="undefined")this.deltaY=u.wheelDeltaY/120;else if(typeof a.VERTICAL_AXIS!="undefined"&&a.axis===a.VERTICAL_AXIS)this.deltaY=-a.detail/3;else if(S.type==="wheel"){const b=S;b.deltaMode===b.DOM_DELTA_LINE?C.isFirefox&&!z.dz?this.deltaY=-S.deltaY/3:this.deltaY=-S.deltaY:this.deltaY=-S.deltaY/40}if(typeof u.wheelDeltaX!="undefined")C.isSafari&&z.ED?this.deltaX=-(u.wheelDeltaX/120):this.deltaX=u.wheelDeltaX/120;else if(typeof a.HORIZONTAL_AXIS!="undefined"&&a.axis===a.HORIZONTAL_AXIS)this.deltaX=-S.detail/3;else if(S.type==="wheel"){const b=S;b.deltaMode===b.DOM_DELTA_LINE?C.isFirefox&&!z.dz?this.deltaX=-S.deltaX/3:this.deltaX=-S.deltaX:this.deltaX=-S.deltaX/40}this.deltaY===0&&this.deltaX===0&&S.wheelDelta&&(this.deltaY=S.wheelDelta/120)}}preventDefault(){this.browserEvent&&this.browserEvent.preventDefault()}stopPropagation(){this.browserEvent&&this.browserEvent.stopPropagation()}}},32003:function(nt,xe,l){"use strict";l.d(xe,{o:function(){return P},t:function(){return z}});var C=l(1660),d=l(84553),j=l(86602),W=l(94214),L=function(A,T,S,_){var y=arguments.length,u=y<3?T:_===null?_=Object.getOwnPropertyDescriptor(T,S):_,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(A,T,S,_);else for(var b=A.length-1;b>=0;b--)(a=A[b])&&(u=(y<3?a(u):y>3?a(T,S,u):a(T,S))||u);return y>3&&u&&Object.defineProperty(T,S,u),u},z;(function(A){A.Tap="-monaco-gesturetap",A.Change="-monaco-gesturechange",A.Start="-monaco-gesturestart",A.End="-monaco-gesturesend",A.Contextmenu="-monaco-gesturecontextmenu"})(z||(z={}));class P extends W.JT{constructor(){super(),this.dispatched=!1,this.activeTouches={},this.handle=null,this.targets=[],this.ignoreTargets=[],this._lastSetTapCountTime=0,this._register(C.nm(document,"touchstart",T=>this.onTouchStart(T),{passive:!1})),this._register(C.nm(document,"touchend",T=>this.onTouchEnd(T))),this._register(C.nm(document,"touchmove",T=>this.onTouchMove(T),{passive:!1}))}static addTarget(T){return P.isTouchDevice()?(P.INSTANCE||(P.INSTANCE=new P),P.INSTANCE.targets.push(T),{dispose:()=>{P.INSTANCE.targets=P.INSTANCE.targets.filter(S=>S!==T)}}):W.JT.None}static ignoreTarget(T){return P.isTouchDevice()?(P.INSTANCE||(P.INSTANCE=new P),P.INSTANCE.ignoreTargets.push(T),{dispose:()=>{P.INSTANCE.ignoreTargets=P.INSTANCE.ignoreTargets.filter(S=>S!==T)}}):W.JT.None}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}dispose(){this.handle&&(this.handle.dispose(),this.handle=null),super.dispose()}onTouchStart(T){const S=Date.now();this.handle&&(this.handle.dispose(),this.handle=null);for(let _=0,y=T.targetTouches.length;_<y;_++){const u=T.targetTouches.item(_);this.activeTouches[u.identifier]={id:u.identifier,initialTarget:u.target,initialTimeStamp:S,initialPageX:u.pageX,initialPageY:u.pageY,rollingTimestamps:[S],rollingPageX:[u.pageX],rollingPageY:[u.pageY]};const a=this.newGestureEvent(z.Start,u.target);a.pageX=u.pageX,a.pageY=u.pageY,this.dispatchEvent(a)}this.dispatched&&(T.preventDefault(),T.stopPropagation(),this.dispatched=!1)}onTouchEnd(T){const S=Date.now(),_=Object.keys(this.activeTouches).length;for(let y=0,u=T.changedTouches.length;y<u;y++){const a=T.changedTouches.item(y);if(!this.activeTouches.hasOwnProperty(String(a.identifier))){console.warn("move of an UNKNOWN touch",a);continue}const b=this.activeTouches[a.identifier],D=Date.now()-b.initialTimeStamp;if(D<P.HOLD_DELAY&&Math.abs(b.initialPageX-d.Gb(b.rollingPageX))<30&&Math.abs(b.initialPageY-d.Gb(b.rollingPageY))<30){const N=this.newGestureEvent(z.Tap,b.initialTarget);N.pageX=d.Gb(b.rollingPageX),N.pageY=d.Gb(b.rollingPageY),this.dispatchEvent(N)}else if(D>=P.HOLD_DELAY&&Math.abs(b.initialPageX-d.Gb(b.rollingPageX))<30&&Math.abs(b.initialPageY-d.Gb(b.rollingPageY))<30){const N=this.newGestureEvent(z.Contextmenu,b.initialTarget);N.pageX=d.Gb(b.rollingPageX),N.pageY=d.Gb(b.rollingPageY),this.dispatchEvent(N)}else if(_===1){const N=d.Gb(b.rollingPageX),I=d.Gb(b.rollingPageY),E=d.Gb(b.rollingTimestamps)-b.rollingTimestamps[0],O=N-b.rollingPageX[0],R=I-b.rollingPageY[0],M=this.targets.filter(K=>b.initialTarget instanceof Node&&K.contains(b.initialTarget));this.inertia(M,S,Math.abs(O)/E,O>0?1:-1,N,Math.abs(R)/E,R>0?1:-1,I)}this.dispatchEvent(this.newGestureEvent(z.End,b.initialTarget)),delete this.activeTouches[a.identifier]}this.dispatched&&(T.preventDefault(),T.stopPropagation(),this.dispatched=!1)}newGestureEvent(T,S){const _=document.createEvent("CustomEvent");return _.initEvent(T,!1,!0),_.initialTarget=S,_.tapCount=0,_}dispatchEvent(T){if(T.type===z.Tap){const S=new Date().getTime();let _=0;S-this._lastSetTapCountTime>P.CLEAR_TAP_COUNT_TIME?_=1:_=2,this._lastSetTapCountTime=S,T.tapCount=_}else(T.type===z.Change||T.type===z.Contextmenu)&&(this._lastSetTapCountTime=0);for(let S=0;S<this.ignoreTargets.length;S++)if(T.initialTarget instanceof Node&&this.ignoreTargets[S].contains(T.initialTarget))return;this.targets.forEach(S=>{T.initialTarget instanceof Node&&S.contains(T.initialTarget)&&(S.dispatchEvent(T),this.dispatched=!0)})}inertia(T,S,_,y,u,a,b,D){this.handle=C.jL(()=>{const N=Date.now(),I=N-S;let E=0,O=0,R=!0;_+=P.SCROLL_FRICTION*I,a+=P.SCROLL_FRICTION*I,_>0&&(R=!1,E=y*_*I),a>0&&(R=!1,O=b*a*I);const M=this.newGestureEvent(z.Change);M.translationX=E,M.translationY=O,T.forEach(K=>K.dispatchEvent(M)),R||this.inertia(T,N,_,y,u+E,a,b,D+O)})}onTouchMove(T){const S=Date.now();for(let _=0,y=T.changedTouches.length;_<y;_++){const u=T.changedTouches.item(_);if(!this.activeTouches.hasOwnProperty(String(u.identifier))){console.warn("end of an UNKNOWN touch",u);continue}const a=this.activeTouches[u.identifier],b=this.newGestureEvent(z.Change,a.initialTarget);b.translationX=u.pageX-d.Gb(a.rollingPageX),b.translationY=u.pageY-d.Gb(a.rollingPageY),b.pageX=u.pageX,b.pageY=u.pageY,this.dispatchEvent(b),a.rollingPageX.length>3&&(a.rollingPageX.shift(),a.rollingPageY.shift(),a.rollingTimestamps.shift()),a.rollingPageX.push(u.pageX),a.rollingPageY.push(u.pageY),a.rollingTimestamps.push(S)}this.dispatched&&(T.preventDefault(),T.stopPropagation(),this.dispatched=!1)}}P.SCROLL_FRICTION=-.005,P.HOLD_DELAY=700,P.CLEAR_TAP_COUNT_TIME=400,L([j.H],P,"isTouchDevice",null)},21045:function(nt,xe,l){"use strict";l.d(xe,{Y:function(){return y},g:function(){return u}});var C=l(69748),d=l(19183),j=l(1660),W=l(32003),L=l(65795),z=l(3553),P=l(94214),A=l(94976),T=l(17014),S=l(97017),_=l(83218);class y extends P.JT{constructor(b,D,N={}){super(),this.options=N,this._context=b||this,this._action=D,D instanceof z.aU&&this._register(D.onDidChange(I=>{!this.element||this.handleActionChangeEvent(I)}))}get action(){return this._action}handleActionChangeEvent(b){b.enabled!==void 0&&this.updateEnabled(),b.checked!==void 0&&this.updateChecked(),b.class!==void 0&&this.updateClass(),b.label!==void 0&&(this.updateLabel(),this.updateTooltip()),b.tooltip!==void 0&&this.updateTooltip()}get actionRunner(){return this._actionRunner||(this._actionRunner=this._register(new z.Wi)),this._actionRunner}set actionRunner(b){this._actionRunner=b}getAction(){return this._action}isEnabled(){return this._action.enabled}setActionContext(b){this._context=b}render(b){const D=this.element=b;this._register(W.o.addTarget(b));const N=this.options&&this.options.draggable;N&&(b.draggable=!0,C.isFirefox&&this._register((0,j.nm)(b,j.tw.DRAG_START,I=>{var E;return(E=I.dataTransfer)===null||E===void 0?void 0:E.setData(d.g.TEXT,this._action.label)}))),this._register((0,j.nm)(D,W.t.Tap,I=>this.onClick(I,!0))),this._register((0,j.nm)(D,j.tw.MOUSE_DOWN,I=>{N||j.zB.stop(I,!0),this._action.enabled&&I.button===0&&D.classList.add("active")})),A.dz&&this._register((0,j.nm)(D,j.tw.CONTEXT_MENU,I=>{I.button===0&&I.ctrlKey===!0&&this.onClick(I)})),this._register((0,j.nm)(D,j.tw.CLICK,I=>{j.zB.stop(I,!0),this.options&&this.options.isMenu||this.onClick(I)})),this._register((0,j.nm)(D,j.tw.DBLCLICK,I=>{j.zB.stop(I,!0)})),[j.tw.MOUSE_UP,j.tw.MOUSE_OUT].forEach(I=>{this._register((0,j.nm)(D,I,E=>{j.zB.stop(E),D.classList.remove("active")}))})}onClick(b,D=!1){var N;j.zB.stop(b,!0);const I=T.Jp(this._context)?!((N=this.options)===null||N===void 0)&&N.useEventAsContext?b:{preserveFocus:D}:this._context;this.actionRunner.run(this._action,I)}focus(){this.element&&(this.element.tabIndex=0,this.element.focus(),this.element.classList.add("focused"))}blur(){this.element&&(this.element.blur(),this.element.tabIndex=-1,this.element.classList.remove("focused"))}setFocusable(b){this.element&&(this.element.tabIndex=b?0:-1)}get trapsArrowNavigation(){return!1}updateEnabled(){}updateLabel(){}getTooltip(){return this.getAction().tooltip}updateTooltip(){var b;if(!this.element)return;const D=(b=this.getTooltip())!==null&&b!==void 0?b:"";this.element.setAttribute("aria-label",D),this.options.hoverDelegate?(this.element.title="",this.customHover?this.customHover.update(D):(this.customHover=(0,L.g)(this.options.hoverDelegate,this.element,D),this._store.add(this.customHover))):this.element.title=D}updateClass(){}updateChecked(){}dispose(){this.element&&(this.element.remove(),this.element=void 0),super.dispose()}}class u extends y{constructor(b,D,N={}){super(b,D,N),this.options=N,this.options.icon=N.icon!==void 0?N.icon:!1,this.options.label=N.label!==void 0?N.label:!0,this.cssClass=""}render(b){super.render(b),this.element&&(this.label=(0,j.R3)(this.element,(0,j.$)("a.action-label"))),this.label&&(this._action.id===z.Z0.ID?this.label.setAttribute("role","presentation"):this.options.isMenu?this.label.setAttribute("role","menuitem"):this.label.setAttribute("role","button")),this.options.label&&this.options.keybinding&&this.element&&((0,j.R3)(this.element,(0,j.$)("span.keybinding")).textContent=this.options.keybinding),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked()}focus(){this.label&&(this.label.tabIndex=0,this.label.focus())}blur(){this.label&&(this.label.tabIndex=-1)}setFocusable(b){this.label&&(this.label.tabIndex=b?0:-1)}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this.getAction().label)}getTooltip(){let b=null;return this.getAction().tooltip?b=this.getAction().tooltip:!this.options.label&&this.getAction().label&&this.options.icon&&(b=this.getAction().label,this.options.keybinding&&(b=_.NC({key:"titleLabel",comment:["action title","action keybinding"]},"{0} ({1})",b,this.options.keybinding))),b!=null?b:void 0}updateClass(){var b;this.cssClass&&this.label&&this.label.classList.remove(...this.cssClass.split(" ")),this.options.icon?(this.cssClass=this.getAction().class,this.label&&(this.label.classList.add("codicon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" "))),this.updateEnabled()):(b=this.label)===null||b===void 0||b.classList.remove("codicon")}updateEnabled(){var b,D;this.getAction().enabled?(this.label&&(this.label.removeAttribute("aria-disabled"),this.label.classList.remove("disabled")),(b=this.element)===null||b===void 0||b.classList.remove("disabled")):(this.label&&(this.label.setAttribute("aria-disabled","true"),this.label.classList.add("disabled")),(D=this.element)===null||D===void 0||D.classList.add("disabled"))}updateChecked(){this.label&&(this.getAction().checked?this.label.classList.add("checked"):this.label.classList.remove("checked"))}}},52594:function(nt,xe,l){"use strict";l.d(xe,{o:function(){return S}});var C=l(1660),d=l(91194),j=l(21045),W=l(3553),L=l(60218),z=l(94214),P=l(17014),A=l(97017),T=function(_,y,u,a){function b(D){return D instanceof u?D:new u(function(N){N(D)})}return new(u||(u=Promise))(function(D,N){function I(R){try{O(a.next(R))}catch(M){N(M)}}function E(R){try{O(a.throw(R))}catch(M){N(M)}}function O(R){R.done?D(R.value):b(R.value).then(I,E)}O((a=a.apply(_,y||[])).next())})};class S extends z.JT{constructor(y,u={}){var a,b,D,N,I,E;super(),this.triggerKeyDown=!1,this.focusable=!0,this._onDidBlur=this._register(new L.Q5),this.onDidBlur=this._onDidBlur.event,this._onDidCancel=this._register(new L.Q5({onFirstListenerAdd:()=>this.cancelHasListener=!0})),this.onDidCancel=this._onDidCancel.event,this.cancelHasListener=!1,this._onDidRun=this._register(new L.Q5),this.onDidRun=this._onDidRun.event,this._onBeforeRun=this._register(new L.Q5),this.onBeforeRun=this._onBeforeRun.event,this.options=u,this._context=(a=u.context)!==null&&a!==void 0?a:null,this._orientation=(b=this.options.orientation)!==null&&b!==void 0?b:0,this._triggerKeys={keyDown:(N=(D=this.options.triggerKeys)===null||D===void 0?void 0:D.keyDown)!==null&&N!==void 0?N:!1,keys:(E=(I=this.options.triggerKeys)===null||I===void 0?void 0:I.keys)!==null&&E!==void 0?E:[3,10]},this.options.actionRunner?this._actionRunner=this.options.actionRunner:(this._actionRunner=new W.Wi,this._register(this._actionRunner)),this._register(this._actionRunner.onDidRun(M=>this._onDidRun.fire(M))),this._register(this._actionRunner.onBeforeRun(M=>this._onBeforeRun.fire(M))),this._actionIds=[],this.viewItems=[],this.viewItemDisposables=new Map,this.focusedItem=void 0,this.domNode=document.createElement("div"),this.domNode.className="monaco-action-bar",u.animated!==!1&&this.domNode.classList.add("animated");let O,R;switch(this._orientation){case 0:O=[15],R=[17];break;case 1:O=[16],R=[18],this.domNode.className+=" vertical";break}this._register(C.nm(this.domNode,C.tw.KEY_DOWN,M=>{const K=new d.y(M);let Z=!0;const te=typeof this.focusedItem=="number"?this.viewItems[this.focusedItem]:void 0;O&&(K.equals(O[0])||K.equals(O[1]))?Z=this.focusPrevious():R&&(K.equals(R[0])||K.equals(R[1]))?Z=this.focusNext():K.equals(9)&&this.cancelHasListener?this._onDidCancel.fire():K.equals(14)?Z=this.focusFirst():K.equals(13)?Z=this.focusLast():K.equals(2)&&te instanceof j.Y&&te.trapsArrowNavigation?Z=this.focusNext():this.isTriggerKeyEvent(K)?this._triggerKeys.keyDown?this.doTrigger(K):this.triggerKeyDown=!0:Z=!1,Z&&(K.preventDefault(),K.stopPropagation())})),this._register(C.nm(this.domNode,C.tw.KEY_UP,M=>{const K=new d.y(M);this.isTriggerKeyEvent(K)?(!this._triggerKeys.keyDown&&this.triggerKeyDown&&(this.triggerKeyDown=!1,this.doTrigger(K)),K.preventDefault(),K.stopPropagation()):(K.equals(2)||K.equals(1026))&&this.updateFocusedItem()})),this.focusTracker=this._register(C.go(this.domNode)),this._register(this.focusTracker.onDidBlur(()=>{(C.vY()===this.domNode||!C.jg(C.vY(),this.domNode))&&(this._onDidBlur.fire(),this.focusedItem=void 0,this.previouslyFocusedItem=void 0,this.triggerKeyDown=!1)})),this._register(this.focusTracker.onDidFocus(()=>this.updateFocusedItem())),this.actionsList=document.createElement("ul"),this.actionsList.className="actions-container",this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"),this.options.ariaLabel&&this.actionsList.setAttribute("aria-label",this.options.ariaLabel),this.domNode.appendChild(this.actionsList),y.appendChild(this.domNode)}refreshRole(){this.length()>=2?this.actionsList.setAttribute("role",this.options.ariaRole||"toolbar"):this.actionsList.setAttribute("role","presentation")}setFocusable(y){if(this.focusable=y,this.focusable){const u=this.viewItems.find(a=>a instanceof j.Y&&a.isEnabled());u instanceof j.Y&&u.setFocusable(!0)}else this.viewItems.forEach(u=>{u instanceof j.Y&&u.setFocusable(!1)})}isTriggerKeyEvent(y){let u=!1;return this._triggerKeys.keys.forEach(a=>{u=u||y.equals(a)}),u}updateFocusedItem(){for(let y=0;y<this.actionsList.children.length;y++){const u=this.actionsList.children[y];if(C.jg(C.vY(),u)){this.focusedItem=y;break}}}get context(){return this._context}set context(y){this._context=y,this.viewItems.forEach(u=>u.setActionContext(y))}get actionRunner(){return this._actionRunner}set actionRunner(y){y&&(this._actionRunner=y,this.viewItems.forEach(u=>u.actionRunner=y))}getContainer(){return this.domNode}push(y,u={}){const a=Array.isArray(y)?y:[y];let b=P.hj(u.index)?u.index:null;a.forEach(D=>{const N=document.createElement("li");N.className="action-item",N.setAttribute("role","presentation");let I;this.options.actionViewItemProvider&&(I=this.options.actionViewItemProvider(D)),I||(I=new j.g(this.context,D,Object.assign({hoverDelegate:this.options.hoverDelegate},u))),this.options.allowContextMenu||this.viewItemDisposables.set(I,C.nm(N,C.tw.CONTEXT_MENU,E=>{C.zB.stop(E,!0)})),I.actionRunner=this._actionRunner,I.setActionContext(this.context),I.render(N),this.focusable&&I instanceof j.Y&&this.viewItems.length===0&&I.setFocusable(!0),b===null||b<0||b>=this.actionsList.children.length?(this.actionsList.appendChild(N),this.viewItems.push(I),this._actionIds.push(D.id)):(this.actionsList.insertBefore(N,this.actionsList.children[b]),this.viewItems.splice(b,0,I),this._actionIds.splice(b,0,D.id),b++)}),typeof this.focusedItem=="number"&&this.focus(this.focusedItem),this.refreshRole()}clear(){(0,z.B9)(this.viewItems),this.viewItemDisposables.forEach(y=>y.dispose()),this.viewItemDisposables.clear(),this.viewItems=[],this._actionIds=[],C.PO(this.actionsList),this.refreshRole()}length(){return this.viewItems.length}focus(y){let u=!1,a;if(y===void 0?u=!0:typeof y=="number"?a=y:typeof y=="boolean"&&(u=y),u&&typeof this.focusedItem=="undefined"){const b=this.viewItems.findIndex(D=>D.isEnabled());this.focusedItem=b===-1?void 0:b,this.updateFocus(void 0,void 0,!0)}else a!==void 0&&(this.focusedItem=a),this.updateFocus(void 0,void 0,!0)}focusFirst(){return this.focusedItem=this.length()-1,this.focusNext(!0)}focusLast(){return this.focusedItem=0,this.focusPrevious(!0)}focusNext(y){if(typeof this.focusedItem=="undefined")this.focusedItem=this.viewItems.length-1;else if(this.viewItems.length<=1)return!1;const u=this.focusedItem;let a;do{if(!y&&this.options.preventLoopNavigation&&this.focusedItem+1>=this.viewItems.length)return this.focusedItem=u,!1;this.focusedItem=(this.focusedItem+1)%this.viewItems.length,a=this.viewItems[this.focusedItem]}while(this.focusedItem!==u&&(this.options.focusOnlyEnabledItems&&!a.isEnabled()||a.action.id===W.Z0.ID));return this.updateFocus(),!0}focusPrevious(y){if(typeof this.focusedItem=="undefined")this.focusedItem=0;else if(this.viewItems.length<=1)return!1;const u=this.focusedItem;let a;do{if(this.focusedItem=this.focusedItem-1,this.focusedItem<0){if(!y&&this.options.preventLoopNavigation)return this.focusedItem=u,!1;this.focusedItem=this.viewItems.length-1}a=this.viewItems[this.focusedItem]}while(this.focusedItem!==u&&(this.options.focusOnlyEnabledItems&&!a.isEnabled()||a.action.id===W.Z0.ID));return this.updateFocus(!0),!0}updateFocus(y,u,a=!1){var b;typeof this.focusedItem=="undefined"&&this.actionsList.focus({preventScroll:u}),this.previouslyFocusedItem!==void 0&&this.previouslyFocusedItem!==this.focusedItem&&((b=this.viewItems[this.previouslyFocusedItem])===null||b===void 0||b.blur());const D=this.focusedItem!==void 0&&this.viewItems[this.focusedItem];if(D){let N=!0;P.mf(D.focus)||(N=!1),this.options.focusOnlyEnabledItems&&P.mf(D.isEnabled)&&!D.isEnabled()&&(N=!1),D.action.id===W.Z0.ID&&(N=!1),N?(a||this.previouslyFocusedItem!==this.focusedItem)&&(D.focus(y),this.previouslyFocusedItem=this.focusedItem):(this.actionsList.focus({preventScroll:u}),this.previouslyFocusedItem=void 0)}}doTrigger(y){if(typeof this.focusedItem=="undefined")return;const u=this.viewItems[this.focusedItem];if(u instanceof j.Y){const a=u._context===null||u._context===void 0?y:u._context;this.run(u._action,a)}}run(y,u){return T(this,void 0,void 0,function*(){yield this._actionRunner.run(y,u)})}dispose(){(0,z.B9)(this.viewItems),this.viewItems=[],this._actionIds=[],this.getContainer().remove(),super.dispose()}}},14679:function(nt,xe,l){"use strict";l.d(xe,{Z9:function(){return S},wW:function(){return T},i7:function(){return _}});var C=l(1660),d=l(94976);const j=2e4;let W,L,z,P,A;function T(u){W=document.createElement("div"),W.className="monaco-aria-container";const a=()=>{const D=document.createElement("div");return D.className="monaco-alert",D.setAttribute("role","alert"),D.setAttribute("aria-atomic","true"),W.appendChild(D),D};L=a(),z=a();const b=()=>{const D=document.createElement("div");return D.className="monaco-status",D.setAttribute("role","complementary"),D.setAttribute("aria-live","polite"),D.setAttribute("aria-atomic","true"),W.appendChild(D),D};P=b(),A=b(),u.appendChild(W)}function S(u){!W||(L.textContent!==u?(C.PO(z),y(L,u)):(C.PO(L),y(z,u)))}function _(u){!W||(d.dz?S(u):P.textContent!==u?(C.PO(A),y(P,u)):(C.PO(P),y(A,u)))}function y(u,a){C.PO(u),a.length>j&&(a=a.substr(0,j)),u.textContent=a,u.style.visibility="hidden",u.style.visibility="visible"}},91816:function(nt,xe,l){"use strict";l.d(xe,{a:function(){return d}});var C=l(64272);function d(j){let W=j.definition;for(;W instanceof C.lA;)W=W.definition;return`.codicon-${j.id}:before { content: '${W.fontCharacter}'; }`}},2877:function(nt,xe,l){"use strict";l.d(xe,{Z:function(){return z}});var C=l(1660),d=l(15304),j=l(43299),W=l(22297);const L={badgeBackground:d.Il.fromHex("#4D4D4D"),badgeForeground:d.Il.fromHex("#FFFFFF")};class z{constructor(A,T){this.count=0,this.options=T||Object.create(null),(0,j.jB)(this.options,L,!1),this.badgeBackground=this.options.badgeBackground,this.badgeForeground=this.options.badgeForeground,this.badgeBorder=this.options.badgeBorder,this.element=(0,C.R3)(A,(0,C.$)(".monaco-count-badge")),this.countFormat=this.options.countFormat||"{0}",this.titleFormat=this.options.titleFormat||"",this.setCount(this.options.count||0)}setCount(A){this.count=A,this.render()}setTitleFormat(A){this.titleFormat=A,this.render()}render(){this.element.textContent=(0,W.WU)(this.countFormat,this.count),this.element.title=(0,W.WU)(this.titleFormat,this.count),this.applyStyles()}style(A){this.badgeBackground=A.badgeBackground,this.badgeForeground=A.badgeForeground,this.badgeBorder=A.badgeBorder,this.applyStyles()}applyStyles(){if(this.element){const A=this.badgeBackground?this.badgeBackground.toString():"",T=this.badgeForeground?this.badgeForeground.toString():"",S=this.badgeBorder?this.badgeBorder.toString():"";this.element.style.backgroundColor=A,this.element.style.color=T,this.element.style.borderWidth=S?"1px":"",this.element.style.borderStyle=S?"solid":"",this.element.style.borderColor=S}}}},81234:function(nt,xe,l){"use strict";l.d(xe,{V:function(){return T}});var C=l(1660),d=l(77036),j=l(50738),W=l(15088),L=l(60218),z=l(53161),P=l(83218);const A=P.NC("defaultLabel","input");class T extends W.${constructor(_,y,u,a){var b;super(),this._showOptionButtons=u,this.fixFocusOnOptionClickEnabled=!0,this.imeSessionInProgress=!1,this.additionalToggles=[],this._onDidOptionChange=this._register(new L.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new L.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new L.Q5),this.onMouseDown=this._onMouseDown.event,this._onInput=this._register(new L.Q5),this._onKeyUp=this._register(new L.Q5),this._onCaseSensitiveKeyDown=this._register(new L.Q5),this.onCaseSensitiveKeyDown=this._onCaseSensitiveKeyDown.event,this._onRegexKeyDown=this._register(new L.Q5),this.onRegexKeyDown=this._onRegexKeyDown.event,this._lastHighlightFindOptions=0,this.contextViewProvider=y,this.placeholder=a.placeholder||"",this.validation=a.validation,this.label=a.label||A,this.inputActiveOptionBorder=a.inputActiveOptionBorder,this.inputActiveOptionForeground=a.inputActiveOptionForeground,this.inputActiveOptionBackground=a.inputActiveOptionBackground,this.inputBackground=a.inputBackground,this.inputForeground=a.inputForeground,this.inputBorder=a.inputBorder,this.inputValidationInfoBorder=a.inputValidationInfoBorder,this.inputValidationInfoBackground=a.inputValidationInfoBackground,this.inputValidationInfoForeground=a.inputValidationInfoForeground,this.inputValidationWarningBorder=a.inputValidationWarningBorder,this.inputValidationWarningBackground=a.inputValidationWarningBackground,this.inputValidationWarningForeground=a.inputValidationWarningForeground,this.inputValidationErrorBorder=a.inputValidationErrorBorder,this.inputValidationErrorBackground=a.inputValidationErrorBackground,this.inputValidationErrorForeground=a.inputValidationErrorForeground;const D=a.appendCaseSensitiveLabel||"",N=a.appendWholeWordsLabel||"",I=a.appendRegexLabel||"",E=a.history||[],O=!!a.flexibleHeight,R=!!a.flexibleWidth,M=a.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new j.p(this.domNode,this.contextViewProvider,{placeholder:this.placeholder||"",ariaLabel:this.label||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:E,showHistoryHint:a.showHistoryHint,flexibleHeight:O,flexibleWidth:R,flexibleMaxHeight:M})),this.regex=this._register(new d.eH({appendTitle:I,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.regex.onChange(Z=>{this._onDidOptionChange.fire(Z),!Z&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.regex.onKeyDown(Z=>{this._onRegexKeyDown.fire(Z)})),this.wholeWords=this._register(new d.Qx({appendTitle:N,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.wholeWords.onChange(Z=>{this._onDidOptionChange.fire(Z),!Z&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this.caseSensitive=this._register(new d.rk({appendTitle:D,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.caseSensitive.onChange(Z=>{this._onDidOptionChange.fire(Z),!Z&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.caseSensitive.onKeyDown(Z=>{this._onCaseSensitiveKeyDown.fire(Z)}));const K=[this.caseSensitive.domNode,this.wholeWords.domNode,this.regex.domNode];this.onkeydown(this.domNode,Z=>{if(Z.equals(15)||Z.equals(17)||Z.equals(9)){const te=K.indexOf(document.activeElement);if(te>=0){let de=-1;Z.equals(17)?de=(te+1)%K.length:Z.equals(15)&&(te===0?de=K.length-1:de=te-1),Z.equals(9)?(K[te].blur(),this.inputBox.focus()):de>=0&&K[de].focus(),C.zB.stop(Z,!0)}}}),this.controls=document.createElement("div"),this.controls.className="controls",this.controls.style.display=this._showOptionButtons?"block":"none",this.controls.appendChild(this.caseSensitive.domNode),this.controls.appendChild(this.wholeWords.domNode),this.controls.appendChild(this.regex.domNode),this._showOptionButtons||(this.caseSensitive.domNode.style.display="none",this.wholeWords.domNode.style.display="none",this.regex.domNode.style.display="none");for(const Z of(b=a==null?void 0:a.additionalToggles)!==null&&b!==void 0?b:[])this._register(Z),this.controls.appendChild(Z.domNode),this._register(Z.onChange(te=>{this._onDidOptionChange.fire(te),!te&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus()})),this.additionalToggles.push(Z);this.additionalToggles.length>0&&(this.controls.style.display="block"),this.inputBox.paddingRight=(this._showOptionButtons?this.caseSensitive.width()+this.wholeWords.width()+this.regex.width():0)+this.additionalToggles.reduce((Z,te)=>Z+te.width(),0),this.domNode.appendChild(this.controls),_==null||_.appendChild(this.domNode),this._register(C.nm(this.inputBox.inputElement,"compositionstart",Z=>{this.imeSessionInProgress=!0})),this._register(C.nm(this.inputBox.inputElement,"compositionend",Z=>{this.imeSessionInProgress=!1,this._onInput.fire()})),this.onkeydown(this.inputBox.inputElement,Z=>this._onKeyDown.fire(Z)),this.onkeyup(this.inputBox.inputElement,Z=>this._onKeyUp.fire(Z)),this.oninput(this.inputBox.inputElement,Z=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,Z=>this._onMouseDown.fire(Z))}get onDidChange(){return this.inputBox.onDidChange}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.regex.enable(),this.wholeWords.enable(),this.caseSensitive.enable();for(const _ of this.additionalToggles)_.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.regex.disable(),this.wholeWords.disable(),this.caseSensitive.disable();for(const _ of this.additionalToggles)_.disable()}setFocusInputOnOptionClick(_){this.fixFocusOnOptionClickEnabled=_}setEnabled(_){_?this.enable():this.disable()}getValue(){return this.inputBox.value}setValue(_){this.inputBox.value!==_&&(this.inputBox.value=_)}style(_){this.inputActiveOptionBorder=_.inputActiveOptionBorder,this.inputActiveOptionForeground=_.inputActiveOptionForeground,this.inputActiveOptionBackground=_.inputActiveOptionBackground,this.inputBackground=_.inputBackground,this.inputForeground=_.inputForeground,this.inputBorder=_.inputBorder,this.inputValidationInfoBackground=_.inputValidationInfoBackground,this.inputValidationInfoForeground=_.inputValidationInfoForeground,this.inputValidationInfoBorder=_.inputValidationInfoBorder,this.inputValidationWarningBackground=_.inputValidationWarningBackground,this.inputValidationWarningForeground=_.inputValidationWarningForeground,this.inputValidationWarningBorder=_.inputValidationWarningBorder,this.inputValidationErrorBackground=_.inputValidationErrorBackground,this.inputValidationErrorForeground=_.inputValidationErrorForeground,this.inputValidationErrorBorder=_.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const _={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.regex.style(_),this.wholeWords.style(_),this.caseSensitive.style(_);for(const u of this.additionalToggles)u.style(_);const y={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(y)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getCaseSensitive(){return this.caseSensitive.checked}setCaseSensitive(_){this.caseSensitive.checked=_}getWholeWords(){return this.wholeWords.checked}setWholeWords(_){this.wholeWords.checked=_}getRegex(){return this.regex.checked}setRegex(_){this.regex.checked=_,this.validate()}focusOnCaseSensitive(){this.caseSensitive.focus()}highlightFindOptions(){this.domNode.classList.remove("highlight-"+this._lastHighlightFindOptions),this._lastHighlightFindOptions=1-this._lastHighlightFindOptions,this.domNode.classList.add("highlight-"+this._lastHighlightFindOptions)}validate(){this.inputBox.validate()}showMessage(_){this.inputBox.showMessage(_)}clearMessage(){this.inputBox.hideMessage()}}},77036:function(nt,xe,l){"use strict";l.d(xe,{Qx:function(){return A},eH:function(){return T},rk:function(){return P}});var C=l(34232),d=l(64272),j=l(83218);const W=j.NC("caseDescription","Match Case"),L=j.NC("wordsDescription","Match Whole Word"),z=j.NC("regexDescription","Use Regular Expression");class P extends C.Z{constructor(_){super({icon:d.lA.caseSensitive,title:W+_.appendTitle,isChecked:_.isChecked,inputActiveOptionBorder:_.inputActiveOptionBorder,inputActiveOptionForeground:_.inputActiveOptionForeground,inputActiveOptionBackground:_.inputActiveOptionBackground})}}class A extends C.Z{constructor(_){super({icon:d.lA.wholeWord,title:L+_.appendTitle,isChecked:_.isChecked,inputActiveOptionBorder:_.inputActiveOptionBorder,inputActiveOptionForeground:_.inputActiveOptionForeground,inputActiveOptionBackground:_.inputActiveOptionBackground})}}class T extends C.Z{constructor(_){super({icon:d.lA.regex,title:z+_.appendTitle,isChecked:_.isChecked,inputActiveOptionBorder:_.inputActiveOptionBorder,inputActiveOptionForeground:_.inputActiveOptionForeground,inputActiveOptionBackground:_.inputActiveOptionBackground})}}},97760:function(nt,xe,l){"use strict";l.d(xe,{q:function(){return W}});var C=l(1660),d=l(10658),j=l(43299);class W{constructor(z,P){var A;this.text="",this.title="",this.highlights=[],this.didEverRender=!1,this.supportIcons=(A=P==null?void 0:P.supportIcons)!==null&&A!==void 0?A:!1,this.domNode=C.R3(z,C.$("span.monaco-highlighted-label"))}get element(){return this.domNode}set(z,P=[],A="",T){z||(z=""),T&&(z=W.escapeNewLines(z,P)),!(this.didEverRender&&this.text===z&&this.title===A&&j.fS(this.highlights,P))&&(this.text=z,this.title=A,this.highlights=P,this.render())}render(){const z=[];let P=0;for(const A of this.highlights){if(A.end===A.start)continue;if(P<A.start){const _=this.text.substring(P,A.start);z.push(C.$("span",void 0,...this.supportIcons?(0,d.T)(_):[_])),P=A.end}const T=this.text.substring(A.start,A.end),S=C.$("span.highlight",void 0,...this.supportIcons?(0,d.T)(T):[T]);A.extraClasses&&S.classList.add(...A.extraClasses),z.push(S),P=A.end}if(P<this.text.length){const A=this.text.substring(P);z.push(C.$("span",void 0,...this.supportIcons?(0,d.T)(A):[A]))}C.mc(this.domNode,...z),this.title?this.domNode.title=this.title:this.domNode.removeAttribute("title"),this.didEverRender=!0}static escapeNewLines(z,P){let A=0,T=0;return z.replace(/\r\n|\r|\n/g,(S,_)=>{T=S===`\r
`?-1:0,_+=A;for(const y of P)y.end<=_||(y.start>=_&&(y.start+=T),y.end>=_&&(y.end+=T));return A+=T,"\u23CE"})}}},21801:function(nt,xe,l){"use strict";l.d(xe,{g:function(){return A}});var C=l(1660),d=l(97760),j=l(65795),W=l(94214),L=l(43299),z=l(31446);class P{constructor(u){this._element=u}get element(){return this._element}set textContent(u){this.disposed||u===this._textContent||(this._textContent=u,this._element.textContent=u)}set className(u){this.disposed||u===this._className||(this._className=u,this._element.className=u)}set empty(u){this.disposed||u===this._empty||(this._empty=u,this._element.style.marginLeft=u?"0":"")}dispose(){this.disposed=!0}}class A extends W.JT{constructor(u,a){super(),this.customHovers=new Map,this.domNode=this._register(new P(C.R3(u,C.$(".monaco-icon-label")))),this.labelContainer=C.R3(this.domNode.element,C.$(".monaco-icon-label-container"));const b=C.R3(this.labelContainer,C.$("span.monaco-icon-name-container"));this.descriptionContainer=this._register(new P(C.R3(this.labelContainer,C.$("span.monaco-icon-description-container")))),(a==null?void 0:a.supportHighlights)||(a==null?void 0:a.supportIcons)?this.nameNode=new _(b,!!a.supportIcons):this.nameNode=new T(b),a!=null&&a.supportDescriptionHighlights?this.descriptionNodeFactory=()=>new d.q(C.R3(this.descriptionContainer.element,C.$("span.label-description")),{supportIcons:!!a.supportIcons}):this.descriptionNodeFactory=()=>this._register(new P(C.R3(this.descriptionContainer.element,C.$("span.label-description")))),this.hoverDelegate=a==null?void 0:a.hoverDelegate}get element(){return this.domNode.element}setLabel(u,a,b){const D=["monaco-icon-label"];b&&(b.extraClasses&&D.push(...b.extraClasses),b.italic&&D.push("italic"),b.strikethrough&&D.push("strikethrough")),this.domNode.className=D.join(" "),this.setupHover(b!=null&&b.descriptionTitle?this.labelContainer:this.element,b==null?void 0:b.title),this.nameNode.setLabel(u,b),(a||this.descriptionNode)&&(this.descriptionNode||(this.descriptionNode=this.descriptionNodeFactory()),this.descriptionNode instanceof d.q?(this.descriptionNode.set(a||"",b?b.descriptionMatches:void 0),this.setupHover(this.descriptionNode.element,b==null?void 0:b.descriptionTitle)):(this.descriptionNode.textContent=a||"",this.setupHover(this.descriptionNode.element,(b==null?void 0:b.descriptionTitle)||""),this.descriptionNode.empty=!a))}setupHover(u,a){const b=this.customHovers.get(u);if(b&&(b.dispose(),this.customHovers.delete(u)),!a){u.removeAttribute("title");return}if(!this.hoverDelegate)(0,j.O)(u,a);else{const D=(0,j.g)(this.hoverDelegate,u,a);D&&this.customHovers.set(u,D)}}dispose(){super.dispose();for(const u of this.customHovers.values())u.dispose();this.customHovers.clear()}}class T{constructor(u){this.container=u,this.label=void 0,this.singleLabel=void 0}setLabel(u,a){if(!(this.label===u&&(0,L.fS)(this.options,a)))if(this.label=u,this.options=a,typeof u=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=C.R3(this.container,C.$("a.label-name",{id:a==null?void 0:a.domId}))),this.singleLabel.textContent=u;else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;for(let b=0;b<u.length;b++){const D=u[b],N=(a==null?void 0:a.domId)&&`${a==null?void 0:a.domId}_${b}`;C.R3(this.container,C.$("a.label-name",{id:N,"data-icon-label-count":u.length,"data-icon-label-index":b,role:"treeitem"},D)),b<u.length-1&&C.R3(this.container,C.$("span.label-separator",void 0,(a==null?void 0:a.separator)||"/"))}}}}function S(y,u,a){if(!a)return;let b=0;return y.map(D=>{const N={start:b,end:b+D.length},I=a.map(E=>z.e.intersect(N,E)).filter(E=>!z.e.isEmpty(E)).map(({start:E,end:O})=>({start:E-b,end:O-b}));return b=N.end+u.length,I})}class _{constructor(u,a){this.container=u,this.supportIcons=a,this.label=void 0,this.singleLabel=void 0}setLabel(u,a){if(!(this.label===u&&(0,L.fS)(this.options,a)))if(this.label=u,this.options=a,typeof u=="string")this.singleLabel||(this.container.innerText="",this.container.classList.remove("multiple"),this.singleLabel=new d.q(C.R3(this.container,C.$("a.label-name",{id:a==null?void 0:a.domId})),{supportIcons:this.supportIcons})),this.singleLabel.set(u,a==null?void 0:a.matches,void 0,a==null?void 0:a.labelEscapeNewLines);else{this.container.innerText="",this.container.classList.add("multiple"),this.singleLabel=void 0;const b=(a==null?void 0:a.separator)||"/",D=S(u,b,a==null?void 0:a.matches);for(let N=0;N<u.length;N++){const I=u[N],E=D?D[N]:void 0,O=(a==null?void 0:a.domId)&&`${a==null?void 0:a.domId}_${N}`,R=C.$("a.label-name",{id:O,"data-icon-label-count":u.length,"data-icon-label-index":N,role:"treeitem"});new d.q(C.R3(this.container,R),{supportIcons:this.supportIcons}).set(I,E,void 0,a==null?void 0:a.labelEscapeNewLines),N<u.length-1&&C.R3(R,C.$("span.label-separator",void 0,b))}}}}},65795:function(nt,xe,l){"use strict";l.d(xe,{O:function(){return S},g:function(){return y}});var C=l(1660),d=l(84180),j=l(28885),W=l(72920),L=l(15392),z=l(94214),P=l(17014),A=l(83218),T=function(u,a,b,D){function N(I){return I instanceof b?I:new b(function(E){E(I)})}return new(b||(b=Promise))(function(I,E){function O(K){try{M(D.next(K))}catch(Z){E(Z)}}function R(K){try{M(D.throw(K))}catch(Z){E(Z)}}function M(K){K.done?I(K.value):N(K.value).then(O,R)}M((D=D.apply(u,a||[])).next())})};function S(u,a){(0,P.HD)(a)?u.title=(0,L.x$)(a):a!=null&&a.markdownNotSupportedFallback?u.title=a.markdownNotSupportedFallback:u.removeAttribute("title")}class _{constructor(a,b,D){this.hoverDelegate=a,this.target=b,this.fadeInAnimation=D}update(a,b,D){var N;return T(this,void 0,void 0,function*(){if(this._cancellationTokenSource&&(this._cancellationTokenSource.dispose(!0),this._cancellationTokenSource=void 0),this.isDisposed)return;let I;if(a===void 0||(0,P.HD)(a)||a instanceof HTMLElement)I=a;else if(!(0,P.mf)(a.markdown))I=(N=a.markdown)!==null&&N!==void 0?N:a.markdownNotSupportedFallback;else{this._hoverWidget||this.show((0,A.NC)("iconLabel.loading","Loading..."),b),this._cancellationTokenSource=new j.A;const E=this._cancellationTokenSource.token;if(I=yield a.markdown(E),I===void 0&&(I=a.markdownNotSupportedFallback),this.isDisposed||E.isCancellationRequested)return}this.show(I,b,D)})}show(a,b,D){const N=this._hoverWidget;if(this.hasContent(a)){const I=Object.assign({content:a,target:this.target,showPointer:this.hoverDelegate.placement==="element",hoverPosition:2,skipFadeInAnimation:!this.fadeInAnimation||!!N},D);this._hoverWidget=this.hoverDelegate.showHover(I,b)}N==null||N.dispose()}hasContent(a){return a?(0,W.Fr)(a)?!!a.value:!0:!1}get isDisposed(){var a;return(a=this._hoverWidget)===null||a===void 0?void 0:a.isDisposed}dispose(){var a,b;(a=this._hoverWidget)===null||a===void 0||a.dispose(),(b=this._cancellationTokenSource)===null||b===void 0||b.dispose(!0),this._cancellationTokenSource=void 0}}function y(u,a,b,D){let N,I;const E=(Z,te)=>{var de;Z&&(I==null||I.dispose(),I=void 0),te&&(N==null||N.dispose(),N=void 0),(de=u.onDidHideHover)===null||de===void 0||de.call(u)},O=(Z,te,de)=>new d._F(()=>T(this,void 0,void 0,function*(){(!I||I.isDisposed)&&(I=new _(u,de||a,Z>0),yield I.update(b,te,D))}),Z),R=()=>{if(N)return;const Z=new z.SL,te=le=>E(!1,le.fromElement===a);Z.add(C.nm(a,C.tw.MOUSE_LEAVE,te,!0));const de=()=>E(!0,!0);Z.add(C.nm(a,C.tw.MOUSE_DOWN,de,!0));const ge={targetElements:[a],dispose:()=>{}};if(u.placement===void 0||u.placement==="mouse"){const le=se=>{ge.x=se.x+10,se.target instanceof HTMLElement&&se.target.classList.contains("action-label")&&E(!0,!0)};Z.add(C.nm(a,C.tw.MOUSE_MOVE,le,!0))}Z.add(O(u.delay,!1,ge)),N=Z},M=C.nm(a,C.tw.MOUSE_OVER,R,!0);return{show:Z=>{E(!1,!0),O(0,Z)},hide:()=>{E(!0,!0)},update:(Z,te)=>T(this,void 0,void 0,function*(){b=Z,yield I==null?void 0:I.update(b,void 0,te)}),dispose:()=>{M.dispose(),E(!0,!0)}}}},10658:function(nt,xe,l){"use strict";l.d(xe,{T:function(){return W}});var C=l(1660),d=l(64272);const j=new RegExp(`(\\\\)?\\$\\((${d.dT.iconNameExpression}(?:${d.dT.iconModifierExpression})?)\\)`,"g");function W(z){const P=new Array;let A,T=0,S=0;for(;(A=j.exec(z))!==null;){S=A.index||0,P.push(z.substring(T,S)),T=(A.index||0)+A[0].length;const[,_,y]=A;P.push(_?`$(${y})`:L({id:y}))}return T<z.length&&P.push(z.substring(T)),P}function L(z){const P=C.$("span");return P.classList.add(...d.dT.asClassNameArray(z)),P}},50738:function(nt,xe,l){"use strict";l.d(xe,{p:function(){return N},W:function(){return D}});var C=l(1660),d=l(31545),j=l(2361),W=l(52594),L=l(14679),z=l(37886),P=l(15088),A=l(15304),T=l(60218);class S{constructor(E,O=0,R=E.length,M=O-1){this.items=E,this.start=O,this.end=R,this.index=M}current(){return this.index===this.start-1||this.index===this.end?null:this.items[this.index]}next(){return this.index=Math.min(this.index+1,this.end),this.current()}previous(){return this.index=Math.max(this.index-1,this.start-1),this.current()}first(){return this.index=this.start,this.current()}last(){return this.index=this.end-1,this.current()}}class _{constructor(E=[],O=10){this._initialize(E),this._limit=O,this._onChange()}getHistory(){return this._elements}add(E){this._history.delete(E),this._history.add(E),this._onChange()}next(){return this._currentPosition()!==this._elements.length-1?this._navigator.next():null}previous(){return this._currentPosition()!==0?this._navigator.previous():null}current(){return this._navigator.current()}first(){return this._navigator.first()}last(){return this._navigator.last()}has(E){return this._history.has(E)}_onChange(){this._reduceToLimit();const E=this._elements;this._navigator=new S(E,0,E.length,E.length)}_reduceToLimit(){const E=this._elements;E.length>this._limit&&this._initialize(E.slice(E.length-this._limit))}_currentPosition(){const E=this._navigator.current();return E?this._elements.indexOf(E):-1}_initialize(E){this._history=new Set;for(const O of E)this._history.add(O)}get _elements(){const E=[];return this._history.forEach(O=>E.push(O)),E}}var y=l(43299),u=l(83218);const a=C.$,b={inputBackground:A.Il.fromHex("#3C3C3C"),inputForeground:A.Il.fromHex("#CCCCCC"),inputValidationInfoBorder:A.Il.fromHex("#55AAFF"),inputValidationInfoBackground:A.Il.fromHex("#063B49"),inputValidationWarningBorder:A.Il.fromHex("#B89500"),inputValidationWarningBackground:A.Il.fromHex("#352A05"),inputValidationErrorBorder:A.Il.fromHex("#BE1100"),inputValidationErrorBackground:A.Il.fromHex("#5A1D1D")};class D extends P.${constructor(E,O,R){var M;super(),this.state="idle",this.maxHeight=Number.POSITIVE_INFINITY,this._onDidChange=this._register(new T.Q5),this.onDidChange=this._onDidChange.event,this._onDidHeightChange=this._register(new T.Q5),this.onDidHeightChange=this._onDidHeightChange.event,this.contextViewProvider=O,this.options=R||Object.create(null),(0,y.jB)(this.options,b,!1),this.message=null,this.placeholder=this.options.placeholder||"",this.tooltip=(M=this.options.tooltip)!==null&&M!==void 0?M:this.placeholder||"",this.ariaLabel=this.options.ariaLabel||"",this.inputBackground=this.options.inputBackground,this.inputForeground=this.options.inputForeground,this.inputBorder=this.options.inputBorder,this.inputValidationInfoBorder=this.options.inputValidationInfoBorder,this.inputValidationInfoBackground=this.options.inputValidationInfoBackground,this.inputValidationInfoForeground=this.options.inputValidationInfoForeground,this.inputValidationWarningBorder=this.options.inputValidationWarningBorder,this.inputValidationWarningBackground=this.options.inputValidationWarningBackground,this.inputValidationWarningForeground=this.options.inputValidationWarningForeground,this.inputValidationErrorBorder=this.options.inputValidationErrorBorder,this.inputValidationErrorBackground=this.options.inputValidationErrorBackground,this.inputValidationErrorForeground=this.options.inputValidationErrorForeground,this.options.validationOptions&&(this.validation=this.options.validationOptions.validation),this.element=C.R3(E,a(".monaco-inputbox.idle"));const K=this.options.flexibleHeight?"textarea":"input",Z=C.R3(this.element,a(".ibwrapper"));if(this.input=C.R3(Z,a(K+".input.empty")),this.input.setAttribute("autocorrect","off"),this.input.setAttribute("autocapitalize","off"),this.input.setAttribute("spellcheck","false"),this.onfocus(this.input,()=>this.element.classList.add("synthetic-focus")),this.onblur(this.input,()=>this.element.classList.remove("synthetic-focus")),this.options.flexibleHeight){this.maxHeight=typeof this.options.flexibleMaxHeight=="number"?this.options.flexibleMaxHeight:Number.POSITIVE_INFINITY,this.mirror=C.R3(Z,a("div.mirror")),this.mirror.innerText="\xA0",this.scrollableElement=new z.NB(this.element,{vertical:1}),this.options.flexibleWidth&&(this.input.setAttribute("wrap","off"),this.mirror.style.whiteSpace="pre",this.mirror.style.wordWrap="initial"),C.R3(E,this.scrollableElement.getDomNode()),this._register(this.scrollableElement),this._register(this.scrollableElement.onScroll(ge=>this.input.scrollTop=ge.scrollTop));const te=this._register(new d.Y(document,"selectionchange")),de=T.ju.filter(te.event,()=>{const ge=document.getSelection();return(ge==null?void 0:ge.anchorNode)===Z});this._register(de(this.updateScrollDimensions,this)),this._register(this.onDidHeightChange(this.updateScrollDimensions,this))}else this.input.type=this.options.type||"text",this.input.setAttribute("wrap","off");this.ariaLabel&&this.input.setAttribute("aria-label",this.ariaLabel),this.placeholder&&!this.options.showPlaceholderOnFocus&&this.setPlaceHolder(this.placeholder),this.tooltip&&this.setTooltip(this.tooltip),this.oninput(this.input,()=>this.onValueChange()),this.onblur(this.input,()=>this.onBlur()),this.onfocus(this.input,()=>this.onFocus()),this.ignoreGesture(this.input),setTimeout(()=>this.updateMirror(),0),this.options.actions&&(this.actionbar=this._register(new W.o(this.element)),this.actionbar.push(this.options.actions,{icon:!0,label:!1})),this.applyStyles()}onBlur(){this._hideMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder","")}onFocus(){this._showMessage(),this.options.showPlaceholderOnFocus&&this.input.setAttribute("placeholder",this.placeholder||"")}setPlaceHolder(E){this.placeholder=E,this.input.setAttribute("placeholder",E)}setTooltip(E){this.tooltip=E,this.input.title=E}setAriaLabel(E){this.ariaLabel=E,E?this.input.setAttribute("aria-label",this.ariaLabel):this.input.removeAttribute("aria-label")}getAriaLabel(){return this.ariaLabel}get inputElement(){return this.input}get value(){return this.input.value}set value(E){this.input.value!==E&&(this.input.value=E,this.onValueChange())}get height(){return typeof this.cachedHeight=="number"?this.cachedHeight:C.wn(this.element)}focus(){this.input.focus()}blur(){this.input.blur()}hasFocus(){return document.activeElement===this.input}select(E=null){this.input.select(),E&&(this.input.setSelectionRange(E.start,E.end),E.end===this.input.value.length&&(this.input.scrollLeft=this.input.scrollWidth))}isSelectionAtEnd(){return this.input.selectionEnd===this.input.value.length&&this.input.selectionStart===this.input.selectionEnd}enable(){this.input.removeAttribute("disabled")}disable(){this.blur(),this.input.disabled=!0,this._hideMessage()}get width(){return C.w(this.input)}set width(E){if(this.options.flexibleHeight&&this.options.flexibleWidth){let O=0;if(this.mirror){const R=parseFloat(this.mirror.style.paddingLeft||"")||0,M=parseFloat(this.mirror.style.paddingRight||"")||0;O=R+M}this.input.style.width=E-O+"px"}else this.input.style.width=E+"px";this.mirror&&(this.mirror.style.width=E+"px")}set paddingRight(E){this.input.style.width=`calc(100% - ${E}px)`,this.mirror&&(this.mirror.style.paddingRight=E+"px")}updateScrollDimensions(){if(typeof this.cachedContentHeight!="number"||typeof this.cachedHeight!="number"||!this.scrollableElement)return;const E=this.cachedContentHeight,O=this.cachedHeight,R=this.input.scrollTop;this.scrollableElement.setScrollDimensions({scrollHeight:E,height:O}),this.scrollableElement.setScrollPosition({scrollTop:R})}showMessage(E,O){this.message=E,this.element.classList.remove("idle"),this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add(this.classForType(E.type));const R=this.stylesForType(this.message.type);this.element.style.border=R.border?`1px solid ${R.border}`:"",(this.hasFocus()||O)&&this._showMessage()}hideMessage(){this.message=null,this.element.classList.remove("info"),this.element.classList.remove("warning"),this.element.classList.remove("error"),this.element.classList.add("idle"),this._hideMessage(),this.applyStyles()}validate(){let E=null;return this.validation&&(E=this.validation(this.value),E?(this.inputElement.setAttribute("aria-invalid","true"),this.showMessage(E)):this.inputElement.hasAttribute("aria-invalid")&&(this.inputElement.removeAttribute("aria-invalid"),this.hideMessage())),E==null?void 0:E.type}stylesForType(E){switch(E){case 1:return{border:this.inputValidationInfoBorder,background:this.inputValidationInfoBackground,foreground:this.inputValidationInfoForeground};case 2:return{border:this.inputValidationWarningBorder,background:this.inputValidationWarningBackground,foreground:this.inputValidationWarningForeground};default:return{border:this.inputValidationErrorBorder,background:this.inputValidationErrorBackground,foreground:this.inputValidationErrorForeground}}}classForType(E){switch(E){case 1:return"info";case 2:return"warning";default:return"error"}}_showMessage(){if(!this.contextViewProvider||!this.message)return;let E;const O=()=>E.style.width=C.w(this.element)+"px";this.contextViewProvider.showContextView({getAnchor:()=>this.element,anchorAlignment:1,render:M=>{if(!this.message)return null;E=C.R3(M,a(".monaco-inputbox-container")),O();const K={inline:!0,className:"monaco-inputbox-message"},Z=this.message.formatContent?(0,j.BO)(this.message.content,K):(0,j.IY)(this.message.content,K);Z.classList.add(this.classForType(this.message.type));const te=this.stylesForType(this.message.type);return Z.style.backgroundColor=te.background?te.background.toString():"",Z.style.color=te.foreground?te.foreground.toString():"",Z.style.border=te.border?`1px solid ${te.border}`:"",C.R3(E,Z),null},onHide:()=>{this.state="closed"},layout:O});let R;this.message.type===3?R=u.NC("alertErrorMessage","Error: {0}",this.message.content):this.message.type===2?R=u.NC("alertWarningMessage","Warning: {0}",this.message.content):R=u.NC("alertInfoMessage","Info: {0}",this.message.content),L.Z9(R),this.state="open"}_hideMessage(){!this.contextViewProvider||(this.state==="open"&&this.contextViewProvider.hideContextView(),this.state="idle")}onValueChange(){this._onDidChange.fire(this.value),this.validate(),this.updateMirror(),this.input.classList.toggle("empty",!this.value),this.state==="open"&&this.contextViewProvider&&this.contextViewProvider.layout()}updateMirror(){if(!this.mirror)return;const E=this.value,R=E.charCodeAt(E.length-1)===10?" ":"";(E+R).replace(/\u000c/g,"")?this.mirror.textContent=E+R:this.mirror.innerText="\xA0",this.layout()}style(E){this.inputBackground=E.inputBackground,this.inputForeground=E.inputForeground,this.inputBorder=E.inputBorder,this.inputValidationInfoBackground=E.inputValidationInfoBackground,this.inputValidationInfoForeground=E.inputValidationInfoForeground,this.inputValidationInfoBorder=E.inputValidationInfoBorder,this.inputValidationWarningBackground=E.inputValidationWarningBackground,this.inputValidationWarningForeground=E.inputValidationWarningForeground,this.inputValidationWarningBorder=E.inputValidationWarningBorder,this.inputValidationErrorBackground=E.inputValidationErrorBackground,this.inputValidationErrorForeground=E.inputValidationErrorForeground,this.inputValidationErrorBorder=E.inputValidationErrorBorder,this.applyStyles()}applyStyles(){const E=this.inputBackground?this.inputBackground.toString():"",O=this.inputForeground?this.inputForeground.toString():"",R=this.inputBorder?this.inputBorder.toString():"";this.element.style.backgroundColor=E,this.element.style.color=O,this.input.style.backgroundColor="inherit",this.input.style.color=O,this.element.style.borderWidth=R?"1px":"",this.element.style.borderStyle=R?"solid":"",this.element.style.borderColor=R}layout(){if(!this.mirror)return;const E=this.cachedContentHeight;this.cachedContentHeight=C.wn(this.mirror),E!==this.cachedContentHeight&&(this.cachedHeight=Math.min(this.cachedContentHeight,this.maxHeight),this.input.style.height=this.cachedHeight+"px",this._onDidHeightChange.fire(this.cachedContentHeight))}insertAtCursor(E){const O=this.inputElement,R=O.selectionStart,M=O.selectionEnd,K=O.value;R!==null&&M!==null&&(this.value=K.substr(0,R)+E+K.substr(M),O.setSelectionRange(R+1,R+1),this.layout())}dispose(){this._hideMessage(),this.message=null,this.actionbar&&this.actionbar.dispose(),super.dispose()}}class N extends D{constructor(E,O,R){const M=u.NC({key:"history.inputbox.hint",comment:["Text will be prefixed with \u21C5 plus a single space, then used as a hint where input field keeps history"]},"for history"),K=` or \u21C5 ${M}`,Z=` (\u21C5 ${M})`;super(E,O,R),this._onDidFocus=this._register(new T.Q5),this.onDidFocus=this._onDidFocus.event,this._onDidBlur=this._register(new T.Q5),this.onDidBlur=this._onDidBlur.event,this.history=new _(R.history,100);const te=()=>{if(R.showHistoryHint&&R.showHistoryHint()&&!this.placeholder.endsWith(K)&&!this.placeholder.endsWith(Z)&&this.history.getHistory().length){const de=this.placeholder.endsWith(")")?K:Z,ge=this.placeholder+de;R.showPlaceholderOnFocus&&document.activeElement!==this.input?this.placeholder=ge:this.setPlaceHolder(ge)}};this.observer=new MutationObserver((de,ge)=>{de.forEach(le=>{le.target.textContent||te()})}),this.observer.observe(this.input,{attributeFilter:["class"]}),this.onfocus(this.input,()=>te()),this.onblur(this.input,()=>{const de=ge=>{if(this.placeholder.endsWith(ge)){const le=this.placeholder.slice(0,this.placeholder.length-ge.length);return R.showPlaceholderOnFocus?this.placeholder=le:this.setPlaceHolder(le),!0}else return!1};de(Z)||de(K)})}dispose(){super.dispose(),this.observer&&(this.observer.disconnect(),this.observer=void 0)}addToHistory(){this.value&&this.value!==this.getCurrentValue()&&this.history.add(this.value)}showNextValue(){this.history.has(this.value)||this.addToHistory();let E=this.getNextValue();E&&(E=E===this.value?this.getNextValue():E),E&&(this.value=E,L.i7(this.value))}showPreviousValue(){this.history.has(this.value)||this.addToHistory();let E=this.getPreviousValue();E&&(E=E===this.value?this.getPreviousValue():E),E&&(this.value=E,L.i7(this.value))}onBlur(){super.onBlur(),this._onDidBlur.fire()}onFocus(){super.onFocus(),this._onDidFocus.fire()}getCurrentValue(){let E=this.history.current();return E||(E=this.history.last(),this.history.next()),E}getPreviousValue(){return this.history.previous()||this.history.first()}getNextValue(){return this.history.next()||this.history.last()}}},90563:function(nt,xe,l){"use strict";l.d(xe,{kX:function(){return K},Bv:function(){return le}});var C=l(69748),d=l(19183),j=l(1660),W=l(31545),L=l(32003),z=l(37886),P=l(84553),A=l(84180),T=l(86602),S=l(60218),_=l(94214),y=l(31446),u=l(83485);function a(se,X){const re=[];for(const ne of X){if(se.start>=ne.range.end)continue;if(se.end<ne.range.start)break;const U=y.e.intersect(se,ne.range);y.e.isEmpty(U)||re.push({range:U,size:ne.size})}return re}function b({start:se,end:X},re){return{start:se+re,end:X+re}}function D(se){const X=[];let re=null;for(const ne of se){const U=ne.range.start,oe=ne.range.end,q=ne.size;if(re&&q===re.size){re.range.end=oe;continue}re={range:{start:U,end:oe},size:q},X.push(re)}return X}function N(...se){return D(se.reduce((X,re)=>X.concat(re),[]))}class I{constructor(){this.groups=[],this._size=0}splice(X,re,ne=[]){const U=ne.length-re,oe=a({start:0,end:X},this.groups),q=a({start:X+re,end:Number.POSITIVE_INFINITY},this.groups).map(me=>({range:b(me.range,U),size:me.size})),ae=ne.map((me,ke)=>({range:{start:X+ke,end:X+ke+1},size:me.size}));this.groups=N(oe,ae,q),this._size=this.groups.reduce((me,ke)=>me+ke.size*(ke.range.end-ke.range.start),0)}get count(){const X=this.groups.length;return X?this.groups[X-1].range.end:0}get size(){return this._size}indexAt(X){if(X<0)return-1;let re=0,ne=0;for(const U of this.groups){const oe=U.range.end-U.range.start,q=ne+oe*U.size;if(X<q)return re+Math.floor((X-ne)/U.size);re+=oe,ne=q}return re}indexAfter(X){return Math.min(this.indexAt(X)+1,this.count)}positionAt(X){if(X<0)return-1;let re=0,ne=0;for(const U of this.groups){const oe=U.range.end-U.range.start,q=ne+oe;if(X<q)return re+(X-ne)*U.size;re+=oe*U.size,ne=q}return-1}}function E(se){var X;try{(X=se.parentElement)===null||X===void 0||X.removeChild(se)}catch(re){}}class O{constructor(X){this.renderers=X,this.cache=new Map}alloc(X){let re=this.getTemplateCache(X).pop();if(!re){const ne=(0,j.$)(".monaco-list-row"),oe=this.getRenderer(X).renderTemplate(ne);re={domNode:ne,templateId:X,templateData:oe}}return re}release(X){!X||this.releaseRow(X)}releaseRow(X){const{domNode:re,templateId:ne}=X;re&&(re.classList.remove("scrolling"),E(re)),this.getTemplateCache(ne).push(X)}getTemplateCache(X){let re=this.cache.get(X);return re||(re=[],this.cache.set(X,re)),re}dispose(){this.cache.forEach((X,re)=>{for(const ne of X)this.getRenderer(re).disposeTemplate(ne.templateData),ne.templateData=null}),this.cache.clear()}getRenderer(X){const re=this.renderers.get(X);if(!re)throw new Error(`No renderer found for ${X}`);return re}}var R=function(se,X,re,ne){var U=arguments.length,oe=U<3?X:ne===null?ne=Object.getOwnPropertyDescriptor(X,re):ne,q;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")oe=Reflect.decorate(se,X,re,ne);else for(var ae=se.length-1;ae>=0;ae--)(q=se[ae])&&(oe=(U<3?q(oe):U>3?q(X,re,oe):q(X,re))||oe);return U>3&&oe&&Object.defineProperty(X,re,oe),oe};const M={useShadows:!0,verticalScrollMode:1,setRowLineHeight:!0,setRowHeight:!0,supportDynamicHeights:!1,dnd:{getDragElements(se){return[se]},getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}},horizontalScrolling:!1,transformOptimization:!0,alwaysConsumeMouseWheel:!0};class K{constructor(X){this.elements=X}update(){}getData(){return this.elements}}class Z{constructor(X){this.elements=X}update(){}getData(){return this.elements}}class te{constructor(){this.types=[],this.files=[]}update(X){if(X.types&&this.types.splice(0,this.types.length,...X.types),X.files){this.files.splice(0,this.files.length);for(let re=0;re<X.files.length;re++){const ne=X.files.item(re);ne&&(ne.size||ne.type)&&this.files.push(ne)}}}getData(){return{types:this.types,files:this.files}}}function de(se,X){return Array.isArray(se)&&Array.isArray(X)?(0,P.fS)(se,X):se===X}class ge{constructor(X){X!=null&&X.getSetSize?this.getSetSize=X.getSetSize.bind(X):this.getSetSize=(re,ne,U)=>U,X!=null&&X.getPosInSet?this.getPosInSet=X.getPosInSet.bind(X):this.getPosInSet=(re,ne)=>ne+1,X!=null&&X.getRole?this.getRole=X.getRole.bind(X):this.getRole=re=>"listitem",X!=null&&X.isChecked?this.isChecked=X.isChecked.bind(X):this.isChecked=re=>{}}}class le{constructor(X,re,ne,U=M){var oe,q,ae,me,ke,H,ut,Ke,He,ze;if(this.virtualDelegate=re,this.domId=`list_id_${++le.InstanceCount}`,this.renderers=new Map,this.renderWidth=0,this._scrollHeight=0,this.scrollableElementUpdateDisposable=null,this.scrollableElementWidthDelayer=new A.vp(50),this.splicing=!1,this.dragOverAnimationStopDisposable=_.JT.None,this.dragOverMouseY=0,this.canDrop=!1,this.currentDragFeedbackDisposable=_.JT.None,this.onDragLeaveTimeout=_.JT.None,this.disposables=new _.SL,this._onDidChangeContentHeight=new S.Q5,this._horizontalScrolling=!1,U.horizontalScrolling&&U.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");this.items=[],this.itemId=0,this.rangeMap=new I;for(const Ze of ne)this.renderers.set(Ze.templateId,Ze);this.cache=this.disposables.add(new O(this.renderers)),this.lastRenderTop=0,this.lastRenderHeight=0,this.domNode=document.createElement("div"),this.domNode.className="monaco-list",this.domNode.classList.add(this.domId),this.domNode.tabIndex=0,this.domNode.classList.toggle("mouse-support",typeof U.mouseSupport=="boolean"?U.mouseSupport:!0),this._horizontalScrolling=(oe=U.horizontalScrolling)!==null&&oe!==void 0?oe:M.horizontalScrolling,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this.additionalScrollHeight=typeof U.additionalScrollHeight=="undefined"?0:U.additionalScrollHeight,this.accessibilityProvider=new ge(U.accessibilityProvider),this.rowsContainer=document.createElement("div"),this.rowsContainer.className="monaco-list-rows",((q=U.transformOptimization)!==null&&q!==void 0?q:M.transformOptimization)&&(this.rowsContainer.style.transform="translate3d(0px, 0px, 0px)"),this.disposables.add(L.o.addTarget(this.rowsContainer)),this.scrollable=new u.Rm({forceIntegerValues:!0,smoothScrollDuration:(ae=U.smoothScrolling)!==null&&ae!==void 0&&ae?125:0,scheduleAtNextAnimationFrame:Ze=>(0,j.jL)(Ze)}),this.scrollableElement=this.disposables.add(new z.$Z(this.rowsContainer,{alwaysConsumeMouseWheel:(me=U.alwaysConsumeMouseWheel)!==null&&me!==void 0?me:M.alwaysConsumeMouseWheel,horizontal:1,vertical:(ke=U.verticalScrollMode)!==null&&ke!==void 0?ke:M.verticalScrollMode,useShadows:(H=U.useShadows)!==null&&H!==void 0?H:M.useShadows,mouseWheelScrollSensitivity:U.mouseWheelScrollSensitivity,fastScrollSensitivity:U.fastScrollSensitivity},this.scrollable)),this.domNode.appendChild(this.scrollableElement.getDomNode()),X.appendChild(this.domNode),this.scrollableElement.onScroll(this.onScroll,this,this.disposables),this.disposables.add((0,j.nm)(this.rowsContainer,L.t.Change,Ze=>this.onTouchChange(Ze))),this.disposables.add((0,j.nm)(this.scrollableElement.getDomNode(),"scroll",Ze=>Ze.target.scrollTop=0)),this.disposables.add((0,j.nm)(this.domNode,"dragover",Ze=>this.onDragOver(this.toDragEvent(Ze)))),this.disposables.add((0,j.nm)(this.domNode,"drop",Ze=>this.onDrop(this.toDragEvent(Ze)))),this.disposables.add((0,j.nm)(this.domNode,"dragleave",Ze=>this.onDragLeave(this.toDragEvent(Ze)))),this.disposables.add((0,j.nm)(this.domNode,"dragend",Ze=>this.onDragEnd(Ze))),this.setRowLineHeight=(ut=U.setRowLineHeight)!==null&&ut!==void 0?ut:M.setRowLineHeight,this.setRowHeight=(Ke=U.setRowHeight)!==null&&Ke!==void 0?Ke:M.setRowHeight,this.supportDynamicHeights=(He=U.supportDynamicHeights)!==null&&He!==void 0?He:M.supportDynamicHeights,this.dnd=(ze=U.dnd)!==null&&ze!==void 0?ze:M.dnd,this.layout()}get contentHeight(){return this.rangeMap.size}get horizontalScrolling(){return this._horizontalScrolling}set horizontalScrolling(X){if(X!==this._horizontalScrolling){if(X&&this.supportDynamicHeights)throw new Error("Horizontal scrolling and dynamic heights not supported simultaneously");if(this._horizontalScrolling=X,this.domNode.classList.toggle("horizontal-scrolling",this._horizontalScrolling),this._horizontalScrolling){for(const re of this.items)this.measureItemWidth(re);this.updateScrollWidth(),this.scrollableElement.setScrollDimensions({width:(0,j.FK)(this.domNode)}),this.rowsContainer.style.width=`${Math.max(this.scrollWidth||0,this.renderWidth)}px`}else this.scrollableElementWidthDelayer.cancel(),this.scrollableElement.setScrollDimensions({width:this.renderWidth,scrollWidth:this.renderWidth}),this.rowsContainer.style.width=""}}updateOptions(X){X.additionalScrollHeight!==void 0&&(this.additionalScrollHeight=X.additionalScrollHeight,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),X.smoothScrolling!==void 0&&this.scrollable.setSmoothScrollDuration(X.smoothScrolling?125:0),X.horizontalScrolling!==void 0&&(this.horizontalScrolling=X.horizontalScrolling),X.mouseWheelScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({mouseWheelScrollSensitivity:X.mouseWheelScrollSensitivity}),X.fastScrollSensitivity!==void 0&&this.scrollableElement.updateOptions({fastScrollSensitivity:X.fastScrollSensitivity})}splice(X,re,ne=[]){if(this.splicing)throw new Error("Can't run recursive splices.");this.splicing=!0;try{return this._splice(X,re,ne)}finally{this.splicing=!1,this._onDidChangeContentHeight.fire(this.contentHeight)}}_splice(X,re,ne=[]){const U=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),oe={start:X,end:X+re},q=y.e.intersect(U,oe),ae=new Map;for(let Et=q.end-1;Et>=q.start;Et--){const Vt=this.items[Et];if(Vt.dragStartDisposable.dispose(),Vt.checkedDisposable.dispose(),Vt.row){let We=ae.get(Vt.templateId);We||(We=[],ae.set(Vt.templateId,We));const St=this.renderers.get(Vt.templateId);St&&St.disposeElement&&St.disposeElement(Vt.element,Et,Vt.row.templateData,Vt.size),We.push(Vt.row)}Vt.row=null}const me={start:X+re,end:this.items.length},ke=y.e.intersect(me,U),H=y.e.relativeComplement(me,U),ut=ne.map(Et=>({id:String(this.itemId++),element:Et,templateId:this.virtualDelegate.getTemplateId(Et),size:this.virtualDelegate.getHeight(Et),width:void 0,hasDynamicHeight:!!this.virtualDelegate.hasDynamicHeight&&this.virtualDelegate.hasDynamicHeight(Et),lastDynamicHeightWidth:void 0,row:null,uri:void 0,dropTarget:!1,dragStartDisposable:_.JT.None,checkedDisposable:_.JT.None}));let Ke;X===0&&re>=this.items.length?(this.rangeMap=new I,this.rangeMap.splice(0,0,ut),Ke=this.items,this.items=ut):(this.rangeMap.splice(X,re,ut),Ke=this.items.splice(X,re,...ut));const He=ne.length-re,ze=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight),Le=b(ke,He),Ze=y.e.intersect(ze,Le);for(let Et=Ze.start;Et<Ze.end;Et++)this.updateItemInDOM(this.items[Et],Et);const Ge=y.e.relativeComplement(Le,ze);for(const Et of Ge)for(let Vt=Et.start;Vt<Et.end;Vt++)this.removeItemFromDOM(Vt);const Fe=H.map(Et=>b(Et,He)),ft=[{start:X,end:X+ne.length},...Fe].map(Et=>y.e.intersect(ze,Et)),Ot=this.getNextToLastElement(ft);for(const Et of ft)for(let Vt=Et.start;Vt<Et.end;Vt++){const We=this.items[Vt],St=ae.get(We.templateId),Re=St==null?void 0:St.pop();this.insertItemInDOM(Vt,Ot,Re)}for(const Et of ae.values())for(const Vt of Et)this.cache.release(Vt);return this.eventuallyUpdateScrollDimensions(),this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight),Ke.map(Et=>Et.element)}eventuallyUpdateScrollDimensions(){this._scrollHeight=this.contentHeight,this.rowsContainer.style.height=`${this._scrollHeight}px`,this.scrollableElementUpdateDisposable||(this.scrollableElementUpdateDisposable=(0,j.jL)(()=>{this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight}),this.updateScrollWidth(),this.scrollableElementUpdateDisposable=null}))}eventuallyUpdateScrollWidth(){if(!this.horizontalScrolling){this.scrollableElementWidthDelayer.cancel();return}this.scrollableElementWidthDelayer.trigger(()=>this.updateScrollWidth())}updateScrollWidth(){if(!this.horizontalScrolling)return;let X=0;for(const re of this.items)typeof re.width!="undefined"&&(X=Math.max(X,re.width));this.scrollWidth=X,this.scrollableElement.setScrollDimensions({scrollWidth:X===0?0:X+10})}rerender(){if(!!this.supportDynamicHeights){for(const X of this.items)X.lastDynamicHeightWidth=void 0;this._rerender(this.lastRenderTop,this.lastRenderHeight)}}get length(){return this.items.length}get renderHeight(){return this.scrollableElement.getScrollDimensions().height}element(X){return this.items[X].element}domElement(X){const re=this.items[X].row;return re&&re.domNode}elementHeight(X){return this.items[X].size}elementTop(X){return this.rangeMap.positionAt(X)}indexAt(X){return this.rangeMap.indexAt(X)}indexAfter(X){return this.rangeMap.indexAfter(X)}layout(X,re){const ne={height:typeof X=="number"?X:(0,j.If)(this.domNode)};this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,ne.scrollHeight=this.scrollHeight),this.scrollableElement.setScrollDimensions(ne),typeof re!="undefined"&&(this.renderWidth=re,this.supportDynamicHeights&&this._rerender(this.scrollTop,this.renderHeight)),this.horizontalScrolling&&this.scrollableElement.setScrollDimensions({width:typeof re=="number"?re:(0,j.FK)(this.domNode)})}render(X,re,ne,U,oe,q=!1){const ae=this.getRenderRange(re,ne),me=y.e.relativeComplement(ae,X),ke=y.e.relativeComplement(X,ae),H=this.getNextToLastElement(me);if(q){const ut=y.e.intersect(X,ae);for(let Ke=ut.start;Ke<ut.end;Ke++)this.updateItemInDOM(this.items[Ke],Ke)}for(const ut of me)for(let Ke=ut.start;Ke<ut.end;Ke++)this.insertItemInDOM(Ke,H);for(const ut of ke)for(let Ke=ut.start;Ke<ut.end;Ke++)this.removeItemFromDOM(Ke);U!==void 0&&(this.rowsContainer.style.left=`-${U}px`),this.rowsContainer.style.top=`-${re}px`,this.horizontalScrolling&&oe!==void 0&&(this.rowsContainer.style.width=`${Math.max(oe,this.renderWidth)}px`),this.lastRenderTop=re,this.lastRenderHeight=ne}insertItemInDOM(X,re,ne){const U=this.items[X];U.row||(U.row=ne!=null?ne:this.cache.alloc(U.templateId));const oe=this.accessibilityProvider.getRole(U.element)||"listitem";U.row.domNode.setAttribute("role",oe);const q=this.accessibilityProvider.isChecked(U.element);if(typeof q=="boolean")U.row.domNode.setAttribute("aria-checked",String(!!q));else if(q){const ke=H=>U.row.domNode.setAttribute("aria-checked",String(!!H));ke(q.value),U.checkedDisposable=q.onDidChange(ke)}U.row.domNode.parentElement||(re?this.rowsContainer.insertBefore(U.row.domNode,re):this.rowsContainer.appendChild(U.row.domNode)),this.updateItemInDOM(U,X);const ae=this.renderers.get(U.templateId);if(!ae)throw new Error(`No renderer found for template id ${U.templateId}`);ae==null||ae.renderElement(U.element,X,U.row.templateData,U.size);const me=this.dnd.getDragURI(U.element);U.dragStartDisposable.dispose(),U.row.domNode.draggable=!!me,me&&(U.dragStartDisposable=(0,j.nm)(U.row.domNode,"dragstart",ke=>this.onDragStart(U.element,me,ke))),this.horizontalScrolling&&(this.measureItemWidth(U),this.eventuallyUpdateScrollWidth())}measureItemWidth(X){if(!X.row||!X.row.domNode)return;X.row.domNode.style.width=C.isFirefox?"-moz-fit-content":"fit-content",X.width=(0,j.FK)(X.row.domNode);const re=window.getComputedStyle(X.row.domNode);re.paddingLeft&&(X.width+=parseFloat(re.paddingLeft)),re.paddingRight&&(X.width+=parseFloat(re.paddingRight)),X.row.domNode.style.width=""}updateItemInDOM(X,re){X.row.domNode.style.top=`${this.elementTop(re)}px`,this.setRowHeight&&(X.row.domNode.style.height=`${X.size}px`),this.setRowLineHeight&&(X.row.domNode.style.lineHeight=`${X.size}px`),X.row.domNode.setAttribute("data-index",`${re}`),X.row.domNode.setAttribute("data-last-element",re===this.length-1?"true":"false"),X.row.domNode.setAttribute("data-parity",re%2===0?"even":"odd"),X.row.domNode.setAttribute("aria-setsize",String(this.accessibilityProvider.getSetSize(X.element,re,this.length))),X.row.domNode.setAttribute("aria-posinset",String(this.accessibilityProvider.getPosInSet(X.element,re))),X.row.domNode.setAttribute("id",this.getElementDomId(re)),X.row.domNode.classList.toggle("drop-target",X.dropTarget)}removeItemFromDOM(X){const re=this.items[X];if(re.dragStartDisposable.dispose(),re.checkedDisposable.dispose(),re.row){const ne=this.renderers.get(re.templateId);ne&&ne.disposeElement&&ne.disposeElement(re.element,X,re.row.templateData,re.size),this.cache.release(re.row),re.row=null}this.horizontalScrolling&&this.eventuallyUpdateScrollWidth()}getScrollTop(){return this.scrollableElement.getScrollPosition().scrollTop}setScrollTop(X,re){this.scrollableElementUpdateDisposable&&(this.scrollableElementUpdateDisposable.dispose(),this.scrollableElementUpdateDisposable=null,this.scrollableElement.setScrollDimensions({scrollHeight:this.scrollHeight})),this.scrollableElement.setScrollPosition({scrollTop:X,reuseAnimation:re})}get scrollTop(){return this.getScrollTop()}set scrollTop(X){this.setScrollTop(X)}get scrollHeight(){return this._scrollHeight+(this.horizontalScrolling?10:0)+this.additionalScrollHeight}get onMouseClick(){return S.ju.map(this.disposables.add(new W.Y(this.domNode,"click")).event,X=>this.toMouseEvent(X),this.disposables)}get onMouseDblClick(){return S.ju.map(this.disposables.add(new W.Y(this.domNode,"dblclick")).event,X=>this.toMouseEvent(X),this.disposables)}get onMouseMiddleClick(){return S.ju.filter(S.ju.map(this.disposables.add(new W.Y(this.domNode,"auxclick")).event,X=>this.toMouseEvent(X),this.disposables),X=>X.browserEvent.button===1,this.disposables)}get onMouseDown(){return S.ju.map(this.disposables.add(new W.Y(this.domNode,"mousedown")).event,X=>this.toMouseEvent(X),this.disposables)}get onMouseOver(){return S.ju.map(this.disposables.add(new W.Y(this.domNode,"mouseover")).event,X=>this.toMouseEvent(X),this.disposables)}get onContextMenu(){return S.ju.any(S.ju.map(this.disposables.add(new W.Y(this.domNode,"contextmenu")).event,X=>this.toMouseEvent(X),this.disposables),S.ju.map(this.disposables.add(new W.Y(this.domNode,L.t.Contextmenu)).event,X=>this.toGestureEvent(X),this.disposables))}get onTouchStart(){return S.ju.map(this.disposables.add(new W.Y(this.domNode,"touchstart")).event,X=>this.toTouchEvent(X),this.disposables)}get onTap(){return S.ju.map(this.disposables.add(new W.Y(this.rowsContainer,L.t.Tap)).event,X=>this.toGestureEvent(X),this.disposables)}toMouseEvent(X){const re=this.getItemIndexFromEventTarget(X.target||null),ne=typeof re=="undefined"?void 0:this.items[re],U=ne&&ne.element;return{browserEvent:X,index:re,element:U}}toTouchEvent(X){const re=this.getItemIndexFromEventTarget(X.target||null),ne=typeof re=="undefined"?void 0:this.items[re],U=ne&&ne.element;return{browserEvent:X,index:re,element:U}}toGestureEvent(X){const re=this.getItemIndexFromEventTarget(X.initialTarget||null),ne=typeof re=="undefined"?void 0:this.items[re],U=ne&&ne.element;return{browserEvent:X,index:re,element:U}}toDragEvent(X){const re=this.getItemIndexFromEventTarget(X.target||null),ne=typeof re=="undefined"?void 0:this.items[re],U=ne&&ne.element;return{browserEvent:X,index:re,element:U}}onScroll(X){try{const re=this.getRenderRange(this.lastRenderTop,this.lastRenderHeight);this.render(re,X.scrollTop,X.height,X.scrollLeft,X.scrollWidth),this.supportDynamicHeights&&this._rerender(X.scrollTop,X.height,X.inSmoothScrolling)}catch(re){throw console.error("Got bad scroll event:",X),re}}onTouchChange(X){X.preventDefault(),X.stopPropagation(),this.scrollTop-=X.translationY}onDragStart(X,re,ne){var U,oe;if(!ne.dataTransfer)return;const q=this.dnd.getDragElements(X);if(ne.dataTransfer.effectAllowed="copyMove",ne.dataTransfer.setData(d.g.TEXT,re),ne.dataTransfer.setDragImage){let ae;this.dnd.getDragLabel&&(ae=this.dnd.getDragLabel(q,ne)),typeof ae=="undefined"&&(ae=String(q.length));const me=(0,j.$)(".monaco-drag-image");me.textContent=ae,document.body.appendChild(me),ne.dataTransfer.setDragImage(me,-10,-10),setTimeout(()=>document.body.removeChild(me),0)}this.currentDragData=new K(q),d.P.CurrentDragAndDropData=new Z(q),(oe=(U=this.dnd).onDragStart)===null||oe===void 0||oe.call(U,this.currentDragData,ne)}onDragOver(X){var re;if(X.browserEvent.preventDefault(),this.onDragLeaveTimeout.dispose(),d.P.CurrentDragAndDropData&&d.P.CurrentDragAndDropData.getData()==="vscode-ui"||(this.setupDragAndDropScrollTopAnimation(X.browserEvent),!X.browserEvent.dataTransfer))return!1;if(!this.currentDragData)if(d.P.CurrentDragAndDropData)this.currentDragData=d.P.CurrentDragAndDropData;else{if(!X.browserEvent.dataTransfer.types)return!1;this.currentDragData=new te}const ne=this.dnd.onDragOver(this.currentDragData,X.element,X.index,X.browserEvent);if(this.canDrop=typeof ne=="boolean"?ne:ne.accept,!this.canDrop)return this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),!1;X.browserEvent.dataTransfer.dropEffect=typeof ne!="boolean"&&ne.effect===0?"copy":"move";let U;if(typeof ne!="boolean"&&ne.feedback?U=ne.feedback:typeof X.index=="undefined"?U=[-1]:U=[X.index],U=(0,P.EB)(U).filter(oe=>oe>=-1&&oe<this.length).sort((oe,q)=>oe-q),U=U[0]===-1?[-1]:U,de(this.currentDragFeedback,U))return!0;if(this.currentDragFeedback=U,this.currentDragFeedbackDisposable.dispose(),U[0]===-1)this.domNode.classList.add("drop-target"),this.rowsContainer.classList.add("drop-target"),this.currentDragFeedbackDisposable=(0,_.OF)(()=>{this.domNode.classList.remove("drop-target"),this.rowsContainer.classList.remove("drop-target")});else{for(const oe of U){const q=this.items[oe];q.dropTarget=!0,(re=q.row)===null||re===void 0||re.domNode.classList.add("drop-target")}this.currentDragFeedbackDisposable=(0,_.OF)(()=>{var oe;for(const q of U){const ae=this.items[q];ae.dropTarget=!1,(oe=ae.row)===null||oe===void 0||oe.domNode.classList.remove("drop-target")}})}return!0}onDragLeave(X){var re,ne;this.onDragLeaveTimeout.dispose(),this.onDragLeaveTimeout=(0,A.Vg)(()=>this.clearDragOverFeedback(),100),this.currentDragData&&((ne=(re=this.dnd).onDragLeave)===null||ne===void 0||ne.call(re,this.currentDragData,X.element,X.index,X.browserEvent))}onDrop(X){if(!this.canDrop)return;const re=this.currentDragData;this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,d.P.CurrentDragAndDropData=void 0,!(!re||!X.browserEvent.dataTransfer)&&(X.browserEvent.preventDefault(),re.update(X.browserEvent.dataTransfer),this.dnd.drop(re,X.element,X.index,X.browserEvent))}onDragEnd(X){var re,ne;this.canDrop=!1,this.teardownDragAndDropScrollTopAnimation(),this.clearDragOverFeedback(),this.currentDragData=void 0,d.P.CurrentDragAndDropData=void 0,(ne=(re=this.dnd).onDragEnd)===null||ne===void 0||ne.call(re,X)}clearDragOverFeedback(){this.currentDragFeedback=void 0,this.currentDragFeedbackDisposable.dispose(),this.currentDragFeedbackDisposable=_.JT.None}setupDragAndDropScrollTopAnimation(X){if(!this.dragOverAnimationDisposable){const re=(0,j.xQ)(this.domNode).top;this.dragOverAnimationDisposable=(0,j.jt)(this.animateDragAndDropScrollTop.bind(this,re))}this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationStopDisposable=(0,A.Vg)(()=>{this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)},1e3),this.dragOverMouseY=X.pageY}animateDragAndDropScrollTop(X){if(this.dragOverMouseY===void 0)return;const re=this.dragOverMouseY-X,ne=this.renderHeight-35;re<35?this.scrollTop+=Math.max(-14,Math.floor(.3*(re-35))):re>ne&&(this.scrollTop+=Math.min(14,Math.floor(.3*(re-ne))))}teardownDragAndDropScrollTopAnimation(){this.dragOverAnimationStopDisposable.dispose(),this.dragOverAnimationDisposable&&(this.dragOverAnimationDisposable.dispose(),this.dragOverAnimationDisposable=void 0)}getItemIndexFromEventTarget(X){const re=this.scrollableElement.getDomNode();let ne=X;for(;ne instanceof HTMLElement&&ne!==this.rowsContainer&&re.contains(ne);){const U=ne.getAttribute("data-index");if(U){const oe=Number(U);if(!isNaN(oe))return oe}ne=ne.parentElement}}getRenderRange(X,re){return{start:this.rangeMap.indexAt(X),end:this.rangeMap.indexAfter(X+re-1)}}_rerender(X,re,ne){const U=this.getRenderRange(X,re);let oe,q;X===this.elementTop(U.start)?(oe=U.start,q=0):U.end-U.start>1&&(oe=U.start+1,q=this.elementTop(oe)-X);let ae=0;for(;;){const me=this.getRenderRange(X,re);let ke=!1;for(let H=me.start;H<me.end;H++){const ut=this.probeDynamicHeight(H);ut!==0&&this.rangeMap.splice(H,1,[this.items[H]]),ae+=ut,ke=ke||ut!==0}if(!ke){ae!==0&&this.eventuallyUpdateScrollDimensions();const H=y.e.relativeComplement(U,me);for(const Ke of H)for(let He=Ke.start;He<Ke.end;He++)this.items[He].row&&this.removeItemFromDOM(He);const ut=y.e.relativeComplement(me,U);for(const Ke of ut)for(let He=Ke.start;He<Ke.end;He++){const ze=He+1,Le=ze<this.items.length?this.items[ze].row:null,Ze=Le?Le.domNode:null;this.insertItemInDOM(He,Ze)}for(let Ke=me.start;Ke<me.end;Ke++)this.items[Ke].row&&this.updateItemInDOM(this.items[Ke],Ke);if(typeof oe=="number"){const Ke=this.scrollable.getFutureScrollPosition().scrollTop-X,He=this.elementTop(oe)-q+Ke;this.setScrollTop(He,ne)}this._onDidChangeContentHeight.fire(this.contentHeight);return}}}probeDynamicHeight(X){var re,ne,U;const oe=this.items[X];if(this.virtualDelegate.getDynamicHeight){const ke=this.virtualDelegate.getDynamicHeight(oe.element);if(ke!==null){const H=oe.size;return oe.size=ke,oe.lastDynamicHeightWidth=this.renderWidth,ke-H}}if(!oe.hasDynamicHeight||oe.lastDynamicHeightWidth===this.renderWidth||!!this.virtualDelegate.hasDynamicHeight&&!this.virtualDelegate.hasDynamicHeight(oe.element))return 0;const q=oe.size;if(!this.setRowHeight&&oe.row){const ke=oe.row.domNode.offsetHeight;return oe.size=ke,oe.lastDynamicHeightWidth=this.renderWidth,ke-q}const ae=this.cache.alloc(oe.templateId);ae.domNode.style.height="",this.rowsContainer.appendChild(ae.domNode);const me=this.renderers.get(oe.templateId);return me&&(me.renderElement(oe.element,X,ae.templateData,void 0),(re=me.disposeElement)===null||re===void 0||re.call(me,oe.element,X,ae.templateData,void 0)),oe.size=ae.domNode.offsetHeight,(U=(ne=this.virtualDelegate).setDynamicHeight)===null||U===void 0||U.call(ne,oe.element,oe.size),oe.lastDynamicHeightWidth=this.renderWidth,this.rowsContainer.removeChild(ae.domNode),this.cache.release(ae),oe.size-q}getNextToLastElement(X){const re=X[X.length-1];if(!re)return null;const ne=this.items[re.end];return!ne||!ne.row?null:ne.row.domNode}getElementDomId(X){return`${this.domId}_${X}`}dispose(){var X;if(this.items){for(const re of this.items)if(re.row){const ne=this.renderers.get(re.row.templateId);ne&&((X=ne.disposeElement)===null||X===void 0||X.call(ne,re.element,-1,re.row.templateData,void 0),ne.disposeTemplate(re.row.templateData))}this.items=[]}this.domNode&&this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),(0,_.B9)(this.disposables)}}le.InstanceCount=0,R([T.H],le.prototype,"onMouseClick",null),R([T.H],le.prototype,"onMouseDblClick",null),R([T.H],le.prototype,"onMouseMiddleClick",null),R([T.H],le.prototype,"onMouseDown",null),R([T.H],le.prototype,"onMouseOver",null),R([T.H],le.prototype,"onContextMenu",null),R([T.H],le.prototype,"onTouchStart",null),R([T.H],le.prototype,"onTap",null)},3522:function(nt,xe,l){"use strict";l.d(xe,{wD:function(){return Ke},aV:function(){return Et},sx:function(){return ut},AA:function(){return re},iK:function(){return se},cK:function(){return ge},hD:function(){return le},wn:function(){return me},Zo:function(){return ae}});var C=l(1660),d=l(31545),j=l(91194),W=l(32003),L=l(14679);class z{constructor(We){this.spliceables=We}splice(We,St,Re){this.spliceables.forEach(Se=>Se.splice(We,St,Re))}}var P=l(84553),A=l(84180),T=l(15304),S=l(86602),_=l(60218),y=l(12562),u=l(94214),a=l(91959),b=l(43299),D=l(94976),N=l(17014),I=l(2858);class E extends Error{constructor(We,St){super(`ListError [${We}] ${St}`)}}var O=l(90563),R=function(Vt,We,St,Re){var Se=arguments.length,Ee=Se<3?We:Re===null?Re=Object.getOwnPropertyDescriptor(We,St):Re,Be;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ee=Reflect.decorate(Vt,We,St,Re);else for(var Xe=Vt.length-1;Xe>=0;Xe--)(Be=Vt[Xe])&&(Ee=(Se<3?Be(Ee):Se>3?Be(We,St,Ee):Be(We,St))||Ee);return Se>3&&Ee&&Object.defineProperty(We,St,Ee),Ee},M=function(Vt,We,St,Re){function Se(Ee){return Ee instanceof St?Ee:new St(function(Be){Be(Ee)})}return new(St||(St=Promise))(function(Ee,Be){function Xe(pn){try{jt(Re.next(pn))}catch(at){Be(at)}}function Pt(pn){try{jt(Re.throw(pn))}catch(at){Be(at)}}function jt(pn){pn.done?Ee(pn.value):Se(pn.value).then(Xe,Pt)}jt((Re=Re.apply(Vt,We||[])).next())})};class K{constructor(We){this.trait=We,this.renderedElements=[]}get templateId(){return`template:${this.trait.name}`}renderTemplate(We){return We}renderElement(We,St,Re){const Se=this.renderedElements.findIndex(Ee=>Ee.templateData===Re);if(Se>=0){const Ee=this.renderedElements[Se];this.trait.unrender(Re),Ee.index=St}else{const Ee={index:St,templateData:Re};this.renderedElements.push(Ee)}this.trait.renderIndex(St,Re)}splice(We,St,Re){const Se=[];for(const Ee of this.renderedElements)Ee.index<We?Se.push(Ee):Ee.index>=We+St&&Se.push({index:Ee.index+Re-St,templateData:Ee.templateData});this.renderedElements=Se}renderIndexes(We){for(const{index:St,templateData:Re}of this.renderedElements)We.indexOf(St)>-1&&this.trait.renderIndex(St,Re)}disposeTemplate(We){const St=this.renderedElements.findIndex(Re=>Re.templateData===We);St<0||this.renderedElements.splice(St,1)}}class Z{constructor(We){this._trait=We,this.length=0,this.indexes=[],this.sortedIndexes=[],this._onChange=new _.Q5,this.onChange=this._onChange.event}get name(){return this._trait}get renderer(){return new K(this)}splice(We,St,Re){var Se;St=Math.max(0,Math.min(St,this.length-We));const Ee=Re.length-St,Be=We+St,Xe=[...this.sortedIndexes.filter(jt=>jt<We),...Re.map((jt,pn)=>jt?pn+We:-1).filter(jt=>jt!==-1),...this.sortedIndexes.filter(jt=>jt>=Be).map(jt=>jt+Ee)],Pt=this.length+Ee;if(this.sortedIndexes.length>0&&Xe.length===0&&Pt>0){const jt=(Se=this.sortedIndexes.find(pn=>pn>=We))!==null&&Se!==void 0?Se:Pt-1;Xe.push(Math.min(jt,Pt-1))}this.renderer.splice(We,St,Re.length),this._set(Xe,Xe),this.length=Pt}renderIndex(We,St){St.classList.toggle(this._trait,this.contains(We))}unrender(We){We.classList.remove(this._trait)}set(We,St){return this._set(We,[...We].sort(Fe),St)}_set(We,St,Re){const Se=this.indexes,Ee=this.sortedIndexes;this.indexes=We,this.sortedIndexes=St;const Be=Ze(Ee,We);return this.renderer.renderIndexes(Be),this._onChange.fire({indexes:We,browserEvent:Re}),Se}get(){return this.indexes}contains(We){return(0,P.ry)(this.sortedIndexes,We,Fe)>=0}dispose(){(0,u.B9)(this._onChange)}}R([S.H],Z.prototype,"renderer",null);class te extends Z{constructor(We){super("selected"),this.setAriaSelected=We}renderIndex(We,St){super.renderIndex(We,St),this.setAriaSelected&&(this.contains(We)?St.setAttribute("aria-selected","true"):St.setAttribute("aria-selected","false"))}}class de{constructor(We,St,Re){this.trait=We,this.view=St,this.identityProvider=Re}splice(We,St,Re){if(!this.identityProvider)return this.trait.splice(We,St,Re.map(()=>!1));const Se=this.trait.get().map(Be=>this.identityProvider.getId(this.view.element(Be)).toString()),Ee=Re.map(Be=>Se.indexOf(this.identityProvider.getId(Be).toString())>-1);this.trait.splice(We,St,Ee)}}function ge(Vt){return Vt.tagName==="INPUT"||Vt.tagName==="TEXTAREA"}function le(Vt){return Vt.classList.contains("monaco-editor")?!0:Vt.classList.contains("monaco-list")||!Vt.parentElement?!1:le(Vt.parentElement)}function se(Vt){return Vt.tagName==="A"&&Vt.classList.contains("monaco-button")||Vt.tagName==="DIV"&&Vt.classList.contains("monaco-button-dropdown")?!0:Vt.classList.contains("monaco-list")||!Vt.parentElement?!1:se(Vt.parentElement)}class X{constructor(We,St,Re){this.list=We,this.view=St,this.disposables=new u.SL,this.multipleSelectionDisposables=new u.SL,this.onKeyDown.filter(Se=>Se.keyCode===3).on(this.onEnter,this,this.disposables),this.onKeyDown.filter(Se=>Se.keyCode===16).on(this.onUpArrow,this,this.disposables),this.onKeyDown.filter(Se=>Se.keyCode===18).on(this.onDownArrow,this,this.disposables),this.onKeyDown.filter(Se=>Se.keyCode===11).on(this.onPageUpArrow,this,this.disposables),this.onKeyDown.filter(Se=>Se.keyCode===12).on(this.onPageDownArrow,this,this.disposables),this.onKeyDown.filter(Se=>Se.keyCode===9).on(this.onEscape,this,this.disposables),Re.multipleSelectionSupport!==!1&&this.onKeyDown.filter(Se=>(D.dz?Se.metaKey:Se.ctrlKey)&&Se.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables)}get onKeyDown(){return this.disposables.add(_.ju.chain(this.disposables.add(new d.Y(this.view.domNode,"keydown")).event).filter(We=>!ge(We.target)).map(We=>new j.y(We)))}updateOptions(We){We.multipleSelectionSupport!==void 0&&(this.multipleSelectionDisposables.clear(),We.multipleSelectionSupport&&this.onKeyDown.filter(St=>(D.dz?St.metaKey:St.ctrlKey)&&St.keyCode===31).on(this.onCtrlA,this,this.multipleSelectionDisposables))}onEnter(We){We.preventDefault(),We.stopPropagation(),this.list.setSelection(this.list.getFocus(),We.browserEvent)}onUpArrow(We){We.preventDefault(),We.stopPropagation(),this.list.focusPrevious(1,!1,We.browserEvent);const St=this.list.getFocus()[0];this.list.setAnchor(St),this.list.reveal(St),this.view.domNode.focus()}onDownArrow(We){We.preventDefault(),We.stopPropagation(),this.list.focusNext(1,!1,We.browserEvent);const St=this.list.getFocus()[0];this.list.setAnchor(St),this.list.reveal(St),this.view.domNode.focus()}onPageUpArrow(We){We.preventDefault(),We.stopPropagation(),this.list.focusPreviousPage(We.browserEvent);const St=this.list.getFocus()[0];this.list.setAnchor(St),this.list.reveal(St),this.view.domNode.focus()}onPageDownArrow(We){We.preventDefault(),We.stopPropagation(),this.list.focusNextPage(We.browserEvent);const St=this.list.getFocus()[0];this.list.setAnchor(St),this.list.reveal(St),this.view.domNode.focus()}onCtrlA(We){We.preventDefault(),We.stopPropagation(),this.list.setSelection((0,P.w6)(this.list.length),We.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus()}onEscape(We){this.list.getSelection().length&&(We.preventDefault(),We.stopPropagation(),this.list.setSelection([],We.browserEvent),this.list.setAnchor(void 0),this.view.domNode.focus())}dispose(){this.disposables.dispose(),this.multipleSelectionDisposables.dispose()}}R([S.H],X.prototype,"onKeyDown",null);var re;(function(Vt){Vt[Vt.Automatic=0]="Automatic",Vt[Vt.Trigger=1]="Trigger"})(re||(re={}));var ne;(function(Vt){Vt[Vt.Idle=0]="Idle",Vt[Vt.Typing=1]="Typing"})(ne||(ne={}));const U=new class{mightProducePrintableCharacter(Vt){return Vt.ctrlKey||Vt.metaKey||Vt.altKey?!1:Vt.keyCode>=31&&Vt.keyCode<=56||Vt.keyCode>=21&&Vt.keyCode<=30||Vt.keyCode>=93&&Vt.keyCode<=102||Vt.keyCode>=80&&Vt.keyCode<=90}};class oe{constructor(We,St,Re,Se,Ee){this.list=We,this.view=St,this.keyboardNavigationLabelProvider=Re,this.keyboardNavigationEventFilter=Se,this.delegate=Ee,this.enabled=!1,this.state=ne.Idle,this.mode=re.Automatic,this.triggered=!1,this.previouslyFocused=-1,this.enabledDisposables=new u.SL,this.disposables=new u.SL,this.updateOptions(We.options)}updateOptions(We){var St,Re;!((St=We.typeNavigationEnabled)!==null&&St!==void 0)||St?this.enable():this.disable(),this.mode=(Re=We.typeNavigationMode)!==null&&Re!==void 0?Re:re.Automatic}enable(){if(this.enabled)return;let We=!1;const St=this.enabledDisposables.add(_.ju.chain(this.enabledDisposables.add(new d.Y(this.view.domNode,"keydown")).event)).filter(Ee=>!ge(Ee.target)).filter(()=>this.mode===re.Automatic||this.triggered).map(Ee=>new j.y(Ee)).filter(Ee=>We||this.keyboardNavigationEventFilter(Ee)).filter(Ee=>this.delegate.mightProducePrintableCharacter(Ee)).forEach(d.p).map(Ee=>Ee.browserEvent.key).event,Re=_.ju.debounce(St,()=>null,800,void 0,void 0,this.enabledDisposables);_.ju.reduce(_.ju.any(St,Re),(Ee,Be)=>Be===null?null:(Ee||"")+Be,void 0,this.enabledDisposables)(this.onInput,this,this.enabledDisposables),Re(this.onClear,this,this.enabledDisposables),St(()=>We=!0,void 0,this.enabledDisposables),Re(()=>We=!1,void 0,this.enabledDisposables),this.enabled=!0,this.triggered=!1}disable(){!this.enabled||(this.enabledDisposables.clear(),this.enabled=!1,this.triggered=!1)}onClear(){var We;const St=this.list.getFocus();if(St.length>0&&St[0]===this.previouslyFocused){const Re=(We=this.list.options.accessibilityProvider)===null||We===void 0?void 0:We.getAriaLabel(this.list.element(St[0]));Re&&(0,L.Z9)(Re)}this.previouslyFocused=-1}onInput(We){if(!We){this.state=ne.Idle,this.triggered=!1;return}const St=this.list.getFocus(),Re=St.length>0?St[0]:0,Se=this.state===ne.Idle?1:0;this.state=ne.Typing;for(let Ee=0;Ee<this.list.length;Ee++){const Be=(Re+Ee+Se)%this.list.length,Xe=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(this.view.element(Be)),Pt=Xe&&Xe.toString();if(typeof Pt=="undefined"||(0,y.Ji)(We,Pt)){this.previouslyFocused=Re,this.list.setFocus([Be]),this.list.reveal(Be);return}}}dispose(){this.disable(),this.enabledDisposables.dispose(),this.disposables.dispose()}}class q{constructor(We,St){this.list=We,this.view=St,this.disposables=new u.SL,this.disposables.add(_.ju.chain(this.disposables.add(new d.Y(St.domNode,"keydown")).event)).filter(Se=>!ge(Se.target)).map(Se=>new j.y(Se)).filter(Se=>Se.keyCode===2&&!Se.ctrlKey&&!Se.metaKey&&!Se.shiftKey&&!Se.altKey).on(this.onTab,this,this.disposables)}onTab(We){if(We.target!==this.view.domNode)return;const St=this.list.getFocus();if(St.length===0)return;const Re=this.view.domElement(St[0]);if(!Re)return;const Se=Re.querySelector("[tabIndex]");if(!Se||!(Se instanceof HTMLElement)||Se.tabIndex===-1)return;const Ee=window.getComputedStyle(Se);Ee.visibility==="hidden"||Ee.display==="none"||(We.preventDefault(),We.stopPropagation(),Se.focus())}dispose(){this.disposables.dispose()}}function ae(Vt){return D.dz?Vt.browserEvent.metaKey:Vt.browserEvent.ctrlKey}function me(Vt){return Vt.browserEvent.shiftKey}function ke(Vt){return Vt instanceof MouseEvent&&Vt.button===2}const H={isSelectionSingleChangeEvent:ae,isSelectionRangeChangeEvent:me};class ut{constructor(We){this.list=We,this.disposables=new u.SL,this._onPointer=new _.Q5,this.onPointer=this._onPointer.event,We.options.multipleSelectionSupport!==!1&&(this.multipleSelectionController=this.list.options.multipleSelectionController||H),this.mouseSupport=typeof We.options.mouseSupport=="undefined"||!!We.options.mouseSupport,this.mouseSupport&&(We.onMouseDown(this.onMouseDown,this,this.disposables),We.onContextMenu(this.onContextMenu,this,this.disposables),We.onMouseDblClick(this.onDoubleClick,this,this.disposables),We.onTouchStart(this.onMouseDown,this,this.disposables),this.disposables.add(W.o.addTarget(We.getHTMLElement()))),_.ju.any(We.onMouseClick,We.onMouseMiddleClick,We.onTap)(this.onViewPointer,this,this.disposables)}updateOptions(We){We.multipleSelectionSupport!==void 0&&(this.multipleSelectionController=void 0,We.multipleSelectionSupport&&(this.multipleSelectionController=this.list.options.multipleSelectionController||H))}isSelectionSingleChangeEvent(We){return this.multipleSelectionController?this.multipleSelectionController.isSelectionSingleChangeEvent(We):!1}isSelectionRangeChangeEvent(We){return this.multipleSelectionController?this.multipleSelectionController.isSelectionRangeChangeEvent(We):!1}isSelectionChangeEvent(We){return this.isSelectionSingleChangeEvent(We)||this.isSelectionRangeChangeEvent(We)}onMouseDown(We){le(We.browserEvent.target)||document.activeElement!==We.browserEvent.target&&this.list.domFocus()}onContextMenu(We){if(le(We.browserEvent.target))return;const St=typeof We.index=="undefined"?[]:[We.index];this.list.setFocus(St,We.browserEvent)}onViewPointer(We){if(!this.mouseSupport||ge(We.browserEvent.target)||le(We.browserEvent.target))return;const St=We.index;if(typeof St=="undefined"){this.list.setFocus([],We.browserEvent),this.list.setSelection([],We.browserEvent),this.list.setAnchor(void 0);return}if(this.isSelectionRangeChangeEvent(We))return this.changeSelection(We);if(this.isSelectionChangeEvent(We))return this.changeSelection(We);this.list.setFocus([St],We.browserEvent),this.list.setAnchor(St),ke(We.browserEvent)||this.list.setSelection([St],We.browserEvent),this._onPointer.fire(We)}onDoubleClick(We){if(ge(We.browserEvent.target)||le(We.browserEvent.target)||this.isSelectionChangeEvent(We))return;const St=this.list.getFocus();this.list.setSelection(St,We.browserEvent)}changeSelection(We){const St=We.index;let Re=this.list.getAnchor();if(this.isSelectionRangeChangeEvent(We)){if(typeof Re=="undefined"){const pn=this.list.getFocus()[0];Re=pn!=null?pn:St,this.list.setAnchor(Re)}const Se=Math.min(Re,St),Ee=Math.max(Re,St),Be=(0,P.w6)(Se,Ee+1),Xe=this.list.getSelection(),Pt=Le(Ze(Xe,[Re]),Re);if(Pt.length===0)return;const jt=Ze(Be,Ge(Xe,Pt));this.list.setSelection(jt,We.browserEvent),this.list.setFocus([St],We.browserEvent)}else if(this.isSelectionSingleChangeEvent(We)){const Se=this.list.getSelection(),Ee=Se.filter(Be=>Be!==St);this.list.setFocus([St]),this.list.setAnchor(St),Se.length===Ee.length?this.list.setSelection([...Ee,St],We.browserEvent):this.list.setSelection(Ee,We.browserEvent)}}dispose(){this.disposables.dispose()}}class Ke{constructor(We,St){this.styleElement=We,this.selectorSuffix=St}style(We){const St=this.selectorSuffix&&`.${this.selectorSuffix}`,Re=[];We.listBackground&&(We.listBackground.isOpaque()?Re.push(`.monaco-list${St} .monaco-list-rows { background: ${We.listBackground}; }`):D.dz||console.warn(`List with id '${this.selectorSuffix}' was styled with a non-opaque background color. This will break sub-pixel antialiasing.`)),We.listFocusBackground&&(Re.push(`.monaco-list${St}:focus .monaco-list-row.focused { background-color: ${We.listFocusBackground}; }`),Re.push(`.monaco-list${St}:focus .monaco-list-row.focused:hover { background-color: ${We.listFocusBackground}; }`)),We.listFocusForeground&&Re.push(`.monaco-list${St}:focus .monaco-list-row.focused { color: ${We.listFocusForeground}; }`),We.listActiveSelectionBackground&&(Re.push(`.monaco-list${St}:focus .monaco-list-row.selected { background-color: ${We.listActiveSelectionBackground}; }`),Re.push(`.monaco-list${St}:focus .monaco-list-row.selected:hover { background-color: ${We.listActiveSelectionBackground}; }`)),We.listActiveSelectionForeground&&Re.push(`.monaco-list${St}:focus .monaco-list-row.selected { color: ${We.listActiveSelectionForeground}; }`),We.listActiveSelectionIconForeground&&Re.push(`.monaco-list${St}:focus .monaco-list-row.selected .codicon { color: ${We.listActiveSelectionIconForeground}; }`),We.listFocusAndSelectionOutline&&Re.push(`.monaco-list${St}:focus .monaco-list-row.selected { outline-color: ${We.listFocusAndSelectionOutline} !important; }`),We.listFocusAndSelectionBackground&&Re.push(`
				.monaco-drag-image,
				.monaco-list${St}:focus .monaco-list-row.selected.focused { background-color: ${We.listFocusAndSelectionBackground}; }
			`),We.listFocusAndSelectionForeground&&Re.push(`
				.monaco-drag-image,
				.monaco-list${St}:focus .monaco-list-row.selected.focused { color: ${We.listFocusAndSelectionForeground}; }
			`),We.listInactiveFocusForeground&&(Re.push(`.monaco-list${St} .monaco-list-row.focused { color:  ${We.listInactiveFocusForeground}; }`),Re.push(`.monaco-list${St} .monaco-list-row.focused:hover { color:  ${We.listInactiveFocusForeground}; }`)),We.listInactiveSelectionIconForeground&&Re.push(`.monaco-list${St} .monaco-list-row.focused .codicon { color:  ${We.listInactiveSelectionIconForeground}; }`),We.listInactiveFocusBackground&&(Re.push(`.monaco-list${St} .monaco-list-row.focused { background-color:  ${We.listInactiveFocusBackground}; }`),Re.push(`.monaco-list${St} .monaco-list-row.focused:hover { background-color:  ${We.listInactiveFocusBackground}; }`)),We.listInactiveSelectionBackground&&(Re.push(`.monaco-list${St} .monaco-list-row.selected { background-color:  ${We.listInactiveSelectionBackground}; }`),Re.push(`.monaco-list${St} .monaco-list-row.selected:hover { background-color:  ${We.listInactiveSelectionBackground}; }`)),We.listInactiveSelectionForeground&&Re.push(`.monaco-list${St} .monaco-list-row.selected { color: ${We.listInactiveSelectionForeground}; }`),We.listHoverBackground&&Re.push(`.monaco-list${St}:not(.drop-target) .monaco-list-row:hover:not(.selected):not(.focused) { background-color: ${We.listHoverBackground}; }`),We.listHoverForeground&&Re.push(`.monaco-list${St} .monaco-list-row:hover:not(.selected):not(.focused) { color:  ${We.listHoverForeground}; }`),We.listSelectionOutline&&Re.push(`.monaco-list${St} .monaco-list-row.selected { outline: 1px dotted ${We.listSelectionOutline}; outline-offset: -1px; }`),We.listFocusOutline&&Re.push(`
				.monaco-drag-image,
				.monaco-list${St}:focus .monaco-list-row.focused { outline: 1px solid ${We.listFocusOutline}; outline-offset: -1px; }
				.monaco-workbench.context-menu-visible .monaco-list${St}.last-focused .monaco-list-row.focused { outline: 1px solid ${We.listFocusOutline}; outline-offset: -1px; }
			`),We.listInactiveFocusOutline&&Re.push(`.monaco-list${St} .monaco-list-row.focused { outline: 1px dotted ${We.listInactiveFocusOutline}; outline-offset: -1px; }`),We.listHoverOutline&&Re.push(`.monaco-list${St} .monaco-list-row:hover { outline: 1px dashed ${We.listHoverOutline}; outline-offset: -1px; }`),We.listDropBackground&&Re.push(`
				.monaco-list${St}.drop-target,
				.monaco-list${St} .monaco-list-rows.drop-target,
				.monaco-list${St} .monaco-list-row.drop-target { background-color: ${We.listDropBackground} !important; color: inherit !important; }
			`),We.tableColumnsBorder&&Re.push(`
				.monaco-table:hover > .monaco-split-view2,
				.monaco-table:hover > .monaco-split-view2 .monaco-sash.vertical::before {
					border-color: ${We.tableColumnsBorder};
			}`),We.tableOddRowsBackgroundColor&&Re.push(`
				.monaco-table .monaco-list-row[data-parity=odd]:not(.focused):not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(:focus) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr,
				.monaco-table .monaco-list:not(.focused) .monaco-list-row[data-parity=odd].focused:not(.selected):not(:hover) .monaco-table-tr {
					background-color: ${We.tableOddRowsBackgroundColor};
				}
			`),this.styleElement.textContent=Re.join(`
`)}}const He={listFocusBackground:T.Il.fromHex("#7FB0D0"),listActiveSelectionBackground:T.Il.fromHex("#0E639C"),listActiveSelectionForeground:T.Il.fromHex("#FFFFFF"),listActiveSelectionIconForeground:T.Il.fromHex("#FFFFFF"),listFocusAndSelectionOutline:T.Il.fromHex("#90C2F9"),listFocusAndSelectionBackground:T.Il.fromHex("#094771"),listFocusAndSelectionForeground:T.Il.fromHex("#FFFFFF"),listInactiveSelectionBackground:T.Il.fromHex("#3F3F46"),listInactiveSelectionIconForeground:T.Il.fromHex("#FFFFFF"),listHoverBackground:T.Il.fromHex("#2A2D2E"),listDropBackground:T.Il.fromHex("#383B3D"),treeIndentGuidesStroke:T.Il.fromHex("#a9a9a9"),tableColumnsBorder:T.Il.fromHex("#cccccc").transparent(.2),tableOddRowsBackgroundColor:T.Il.fromHex("#cccccc").transparent(.04)},ze={keyboardSupport:!0,mouseSupport:!0,multipleSelectionSupport:!0,dnd:{getDragURI(){return null},onDragStart(){},onDragOver(){return!1},drop(){}}};function Le(Vt,We){const St=Vt.indexOf(We);if(St===-1)return[];const Re=[];let Se=St-1;for(;Se>=0&&Vt[Se]===We-(St-Se);)Re.push(Vt[Se--]);for(Re.reverse(),Se=St;Se<Vt.length&&Vt[Se]===We+(Se-St);)Re.push(Vt[Se++]);return Re}function Ze(Vt,We){const St=[];let Re=0,Se=0;for(;Re<Vt.length||Se<We.length;)if(Re>=Vt.length)St.push(We[Se++]);else if(Se>=We.length)St.push(Vt[Re++]);else if(Vt[Re]===We[Se]){St.push(Vt[Re]),Re++,Se++;continue}else Vt[Re]<We[Se]?St.push(Vt[Re++]):St.push(We[Se++]);return St}function Ge(Vt,We){const St=[];let Re=0,Se=0;for(;Re<Vt.length||Se<We.length;)if(Re>=Vt.length)St.push(We[Se++]);else if(Se>=We.length)St.push(Vt[Re++]);else if(Vt[Re]===We[Se]){Re++,Se++;continue}else Vt[Re]<We[Se]?St.push(Vt[Re++]):Se++;return St}const Fe=(Vt,We)=>Vt-We;class ct{constructor(We,St){this._templateId=We,this.renderers=St}get templateId(){return this._templateId}renderTemplate(We){return this.renderers.map(St=>St.renderTemplate(We))}renderElement(We,St,Re,Se){let Ee=0;for(const Be of this.renderers)Be.renderElement(We,St,Re[Ee++],Se)}disposeElement(We,St,Re,Se){var Ee;let Be=0;for(const Xe of this.renderers)(Ee=Xe.disposeElement)===null||Ee===void 0||Ee.call(Xe,We,St,Re[Be],Se),Be+=1}disposeTemplate(We){let St=0;for(const Re of this.renderers)Re.disposeTemplate(We[St++])}}class ft{constructor(We){this.accessibilityProvider=We,this.templateId="a18n"}renderTemplate(We){return We}renderElement(We,St,Re){const Se=this.accessibilityProvider.getAriaLabel(We);Se?Re.setAttribute("aria-label",Se):Re.removeAttribute("aria-label");const Ee=this.accessibilityProvider.getAriaLevel&&this.accessibilityProvider.getAriaLevel(We);typeof Ee=="number"?Re.setAttribute("aria-level",`${Ee}`):Re.removeAttribute("aria-level")}disposeTemplate(We){}}class Ot{constructor(We,St){this.list=We,this.dnd=St}getDragElements(We){const St=this.list.getSelectedElements();return St.indexOf(We)>-1?St:[We]}getDragURI(We){return this.dnd.getDragURI(We)}getDragLabel(We,St){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(We,St)}onDragStart(We,St){var Re,Se;(Se=(Re=this.dnd).onDragStart)===null||Se===void 0||Se.call(Re,We,St)}onDragOver(We,St,Re,Se){return this.dnd.onDragOver(We,St,Re,Se)}onDragLeave(We,St,Re,Se){var Ee,Be;(Be=(Ee=this.dnd).onDragLeave)===null||Be===void 0||Be.call(Ee,We,St,Re,Se)}onDragEnd(We){var St,Re;(Re=(St=this.dnd).onDragEnd)===null||Re===void 0||Re.call(St,We)}drop(We,St,Re,Se){this.dnd.drop(We,St,Re,Se)}}class Et{constructor(We,St,Re,Se,Ee=ze){var Be,Xe,Pt,jt;this.user=We,this._options=Ee,this.focus=new Z("focused"),this.anchor=new Z("anchor"),this.eventBufferer=new _.E7,this._ariaLabel="",this.disposables=new u.SL,this._onDidDispose=new _.Q5,this.onDidDispose=this._onDidDispose.event;const pn=this._options.accessibilityProvider&&this._options.accessibilityProvider.getWidgetRole?(Be=this._options.accessibilityProvider)===null||Be===void 0?void 0:Be.getWidgetRole():"list";this.selection=new te(pn!=="listbox"),(0,b.jB)(Ee,He,!1);const at=[this.focus.renderer,this.selection.renderer];this.accessibilityProvider=Ee.accessibilityProvider,this.accessibilityProvider&&(at.push(new ft(this.accessibilityProvider)),(Pt=(Xe=this.accessibilityProvider).onDidChangeActiveDescendant)===null||Pt===void 0||Pt.call(Xe,this.onDidChangeActiveDescendant,this,this.disposables)),Se=Se.map(Gt=>new ct(Gt.templateId,[...at,Gt]));const Mt=Object.assign(Object.assign({},Ee),{dnd:Ee.dnd&&new Ot(this,Ee.dnd)});if(this.view=new O.Bv(St,Re,Se,Mt),this.view.domNode.setAttribute("role",pn),Ee.styleController)this.styleController=Ee.styleController(this.view.domId);else{const Gt=(0,C.dS)(this.view.domNode);this.styleController=new Ke(Gt,this.view.domId)}if(this.spliceable=new z([new de(this.focus,this.view,Ee.identityProvider),new de(this.selection,this.view,Ee.identityProvider),new de(this.anchor,this.view,Ee.identityProvider),this.view]),this.disposables.add(this.focus),this.disposables.add(this.selection),this.disposables.add(this.anchor),this.disposables.add(this.view),this.disposables.add(this._onDidDispose),this.disposables.add(new q(this,this.view)),(typeof Ee.keyboardSupport!="boolean"||Ee.keyboardSupport)&&(this.keyboardController=new X(this,this.view,Ee),this.disposables.add(this.keyboardController)),Ee.keyboardNavigationLabelProvider){const Gt=Ee.keyboardNavigationDelegate||U;this.typeNavigationController=new oe(this,this.view,Ee.keyboardNavigationLabelProvider,(jt=Ee.keyboardNavigationEventFilter)!==null&&jt!==void 0?jt:()=>!0,Gt),this.disposables.add(this.typeNavigationController)}this.mouseController=this.createMouseController(Ee),this.disposables.add(this.mouseController),this.onDidChangeFocus(this._onFocusChange,this,this.disposables),this.onDidChangeSelection(this._onSelectionChange,this,this.disposables),this.accessibilityProvider&&(this.ariaLabel=this.accessibilityProvider.getWidgetAriaLabel()),this._options.multipleSelectionSupport!==!1&&this.view.domNode.setAttribute("aria-multiselectable","true")}get onDidChangeFocus(){return _.ju.map(this.eventBufferer.wrapEvent(this.focus.onChange),We=>this.toListEvent(We),this.disposables)}get onDidChangeSelection(){return _.ju.map(this.eventBufferer.wrapEvent(this.selection.onChange),We=>this.toListEvent(We),this.disposables)}get domId(){return this.view.domId}get onMouseClick(){return this.view.onMouseClick}get onMouseDblClick(){return this.view.onMouseDblClick}get onMouseMiddleClick(){return this.view.onMouseMiddleClick}get onPointer(){return this.mouseController.onPointer}get onMouseDown(){return this.view.onMouseDown}get onMouseOver(){return this.view.onMouseOver}get onTouchStart(){return this.view.onTouchStart}get onTap(){return this.view.onTap}get onContextMenu(){let We=!1;const St=this.disposables.add(_.ju.chain(this.disposables.add(new d.Y(this.view.domNode,"keydown")).event)).map(Ee=>new j.y(Ee)).filter(Ee=>We=Ee.keyCode===58||Ee.shiftKey&&Ee.keyCode===68).map(d.p).filter(()=>!1).event,Re=this.disposables.add(_.ju.chain(this.disposables.add(new d.Y(this.view.domNode,"keyup")).event)).forEach(()=>We=!1).map(Ee=>new j.y(Ee)).filter(Ee=>Ee.keyCode===58||Ee.shiftKey&&Ee.keyCode===68).map(d.p).map(({browserEvent:Ee})=>{const Be=this.getFocus(),Xe=Be.length?Be[0]:void 0,Pt=typeof Xe!="undefined"?this.view.element(Xe):void 0,jt=typeof Xe!="undefined"?this.view.domElement(Xe):this.view.domNode;return{index:Xe,element:Pt,anchor:jt,browserEvent:Ee}}).event,Se=this.disposables.add(_.ju.chain(this.view.onContextMenu)).filter(Ee=>!We).map(({element:Ee,index:Be,browserEvent:Xe})=>({element:Ee,index:Be,anchor:{x:Xe.pageX+1,y:Xe.pageY},browserEvent:Xe})).event;return _.ju.any(St,Re,Se)}get onKeyDown(){return this.disposables.add(new d.Y(this.view.domNode,"keydown")).event}get onDidFocus(){return _.ju.signal(this.disposables.add(new d.Y(this.view.domNode,"focus",!0)).event)}createMouseController(We){return new ut(this)}updateOptions(We={}){var St,Re;this._options=Object.assign(Object.assign({},this._options),We),(St=this.typeNavigationController)===null||St===void 0||St.updateOptions(this._options),this._options.multipleSelectionController!==void 0&&(this._options.multipleSelectionSupport?this.view.domNode.setAttribute("aria-multiselectable","true"):this.view.domNode.removeAttribute("aria-multiselectable")),this.mouseController.updateOptions(We),(Re=this.keyboardController)===null||Re===void 0||Re.updateOptions(We),this.view.updateOptions(We)}get options(){return this._options}splice(We,St,Re=[]){if(We<0||We>this.view.length)throw new E(this.user,`Invalid start index: ${We}`);if(St<0)throw new E(this.user,`Invalid delete count: ${St}`);St===0&&Re.length===0||this.eventBufferer.bufferEvents(()=>this.spliceable.splice(We,St,Re))}rerender(){this.view.rerender()}element(We){return this.view.element(We)}get length(){return this.view.length}get contentHeight(){return this.view.contentHeight}get scrollTop(){return this.view.getScrollTop()}set scrollTop(We){this.view.setScrollTop(We)}get ariaLabel(){return this._ariaLabel}set ariaLabel(We){this._ariaLabel=We,this.view.domNode.setAttribute("aria-label",We)}domFocus(){this.view.domNode.focus({preventScroll:!0})}layout(We,St){this.view.layout(We,St)}setSelection(We,St){for(const Re of We)if(Re<0||Re>=this.length)throw new E(this.user,`Invalid index ${Re}`);this.selection.set(We,St)}getSelection(){return this.selection.get()}getSelectedElements(){return this.getSelection().map(We=>this.view.element(We))}setAnchor(We){if(typeof We=="undefined"){this.anchor.set([]);return}if(We<0||We>=this.length)throw new E(this.user,`Invalid index ${We}`);this.anchor.set([We])}getAnchor(){return(0,P.Xh)(this.anchor.get(),void 0)}getAnchorElement(){const We=this.getAnchor();return typeof We=="undefined"?void 0:this.element(We)}setFocus(We,St){for(const Re of We)if(Re<0||Re>=this.length)throw new E(this.user,`Invalid index ${Re}`);this.focus.set(We,St)}focusNext(We=1,St=!1,Re,Se){if(this.length===0)return;const Ee=this.focus.get(),Be=this.findNextIndex(Ee.length>0?Ee[0]+We:0,St,Se);Be>-1&&this.setFocus([Be],Re)}focusPrevious(We=1,St=!1,Re,Se){if(this.length===0)return;const Ee=this.focus.get(),Be=this.findPreviousIndex(Ee.length>0?Ee[0]-We:0,St,Se);Be>-1&&this.setFocus([Be],Re)}focusNextPage(We,St){return M(this,void 0,void 0,function*(){let Re=this.view.indexAt(this.view.getScrollTop()+this.view.renderHeight);Re=Re===0?0:Re-1;const Se=this.getFocus()[0];if(Se!==Re&&(Se===void 0||Re>Se)){const Ee=this.findPreviousIndex(Re,!1,St);Ee>-1&&Se!==Ee?this.setFocus([Ee],We):this.setFocus([Re],We)}else{const Ee=this.view.getScrollTop();let Be=Ee+this.view.renderHeight;Re>Se&&(Be-=this.view.elementHeight(Re)),this.view.setScrollTop(Be),this.view.getScrollTop()!==Ee&&(this.setFocus([]),yield(0,A.Vs)(0),yield this.focusNextPage(We,St))}})}focusPreviousPage(We,St){return M(this,void 0,void 0,function*(){let Re;const Se=this.view.getScrollTop();Se===0?Re=this.view.indexAt(Se):Re=this.view.indexAfter(Se-1);const Ee=this.getFocus()[0];if(Ee!==Re&&(Ee===void 0||Ee>=Re)){const Be=this.findNextIndex(Re,!1,St);Be>-1&&Ee!==Be?this.setFocus([Be],We):this.setFocus([Re],We)}else{const Be=Se;this.view.setScrollTop(Se-this.view.renderHeight),this.view.getScrollTop()!==Be&&(this.setFocus([]),yield(0,A.Vs)(0),yield this.focusPreviousPage(We,St))}})}focusLast(We,St){if(this.length===0)return;const Re=this.findPreviousIndex(this.length-1,!1,St);Re>-1&&this.setFocus([Re],We)}focusFirst(We,St){this.focusNth(0,We,St)}focusNth(We,St,Re){if(this.length===0)return;const Se=this.findNextIndex(We,!1,Re);Se>-1&&this.setFocus([Se],St)}findNextIndex(We,St=!1,Re){for(let Se=0;Se<this.length;Se++){if(We>=this.length&&!St)return-1;if(We=We%this.length,!Re||Re(this.element(We)))return We;We++}return-1}findPreviousIndex(We,St=!1,Re){for(let Se=0;Se<this.length;Se++){if(We<0&&!St)return-1;if(We=(this.length+We%this.length)%this.length,!Re||Re(this.element(We)))return We;We--}return-1}getFocus(){return this.focus.get()}getFocusedElements(){return this.getFocus().map(We=>this.view.element(We))}reveal(We,St){if(We<0||We>=this.length)throw new E(this.user,`Invalid index ${We}`);const Re=this.view.getScrollTop(),Se=this.view.elementTop(We),Ee=this.view.elementHeight(We);if((0,N.hj)(St)){const Be=Ee-this.view.renderHeight;this.view.setScrollTop(Be*(0,a.uZ)(St,0,1)+Se)}else{const Be=Se+Ee,Xe=Re+this.view.renderHeight;Se<Re&&Be>=Xe||(Se<Re||Be>=Xe&&Ee>=this.view.renderHeight?this.view.setScrollTop(Se):Be>=Xe&&this.view.setScrollTop(Be-this.view.renderHeight))}}getHTMLElement(){return this.view.domNode}getElementID(We){return this.view.getElementDomId(We)}style(We){this.styleController.style(We)}toListEvent({indexes:We,browserEvent:St}){return{indexes:We,elements:We.map(Re=>this.view.element(Re)),browserEvent:St}}_onFocusChange(){const We=this.focus.get();this.view.domNode.classList.toggle("element-focused",We.length>0),this.onDidChangeActiveDescendant()}onDidChangeActiveDescendant(){var We;const St=this.focus.get();if(St.length>0){let Re;!((We=this.accessibilityProvider)===null||We===void 0)&&We.getActiveDescendantId&&(Re=this.accessibilityProvider.getActiveDescendantId(this.view.element(St[0]))),this.view.domNode.setAttribute("aria-activedescendant",Re||this.view.getElementDomId(St[0]))}else this.view.domNode.removeAttribute("aria-activedescendant")}_onSelectionChange(){const We=this.selection.get();this.view.domNode.classList.toggle("selection-none",We.length===0),this.view.domNode.classList.toggle("selection-single",We.length===1),this.view.domNode.classList.toggle("selection-multiple",We.length>1)}dispose(){this._onDidDispose.fire(),this.disposables.dispose(),this._onDidDispose.dispose()}}R([S.H],Et.prototype,"onDidChangeFocus",null),R([S.H],Et.prototype,"onDidChangeSelection",null),R([S.H],Et.prototype,"onContextMenu",null),R([S.H],Et.prototype,"onKeyDown",null),R([S.H],Et.prototype,"onDidFocus",null)},62014:function(nt,xe,l){"use strict";l.d(xe,{S:function(){return C}});const C="monaco-mouse-cursor-text"},64872:function(nt,xe,l){"use strict";l.d(xe,{l:function(){return _},g:function(){return O}});var C=l(1660),d=l(31545),j=l(32003),W=l(84180),L=l(86602),z=l(60218),P=l(94214),A=l(94976),T=function(R,M,K,Z){var te=arguments.length,de=te<3?M:Z===null?Z=Object.getOwnPropertyDescriptor(M,K):Z,ge;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")de=Reflect.decorate(R,M,K,Z);else for(var le=R.length-1;le>=0;le--)(ge=R[le])&&(de=(te<3?ge(de):te>3?ge(M,K,de):ge(M,K))||de);return te>3&&de&&Object.defineProperty(M,K,de),de};const S=!1;var _;(function(R){R.North="north",R.South="south",R.East="east",R.West="west"})(_||(_={}));let y=4;const u=new z.Q5;let a=300;const b=new z.Q5;class D{constructor(){this.disposables=new P.SL}get onPointerMove(){return this.disposables.add(new d.Y(window,"mousemove")).event}get onPointerUp(){return this.disposables.add(new d.Y(window,"mouseup")).event}dispose(){this.disposables.dispose()}}T([L.H],D.prototype,"onPointerMove",null),T([L.H],D.prototype,"onPointerUp",null);class N{constructor(M){this.el=M,this.disposables=new P.SL}get onPointerMove(){return this.disposables.add(new d.Y(this.el,j.t.Change)).event}get onPointerUp(){return this.disposables.add(new d.Y(this.el,j.t.End)).event}dispose(){this.disposables.dispose()}}T([L.H],N.prototype,"onPointerMove",null),T([L.H],N.prototype,"onPointerUp",null);class I{constructor(M){this.factory=M}get onPointerMove(){return this.factory.onPointerMove}get onPointerUp(){return this.factory.onPointerUp}dispose(){}}T([L.H],I.prototype,"onPointerMove",null),T([L.H],I.prototype,"onPointerUp",null);const E="pointer-events-disabled";class O extends P.JT{constructor(M,K,Z){super(),this.hoverDelay=a,this.hoverDelayer=this._register(new W.vp(this.hoverDelay)),this._state=3,this.onDidEnablementChange=this._register(new z.Q5),this._onDidStart=this._register(new z.Q5),this._onDidChange=this._register(new z.Q5),this._onDidReset=this._register(new z.Q5),this._onDidEnd=this._register(new z.Q5),this.orthogonalStartSashDisposables=this._register(new P.SL),this.orthogonalStartDragHandleDisposables=this._register(new P.SL),this.orthogonalEndSashDisposables=this._register(new P.SL),this.orthogonalEndDragHandleDisposables=this._register(new P.SL),this.onDidStart=this._onDidStart.event,this.onDidChange=this._onDidChange.event,this.onDidReset=this._onDidReset.event,this.onDidEnd=this._onDidEnd.event,this.linkedSash=void 0,this.el=(0,C.R3)(M,(0,C.$)(".monaco-sash")),Z.orthogonalEdge&&this.el.classList.add(`orthogonal-edge-${Z.orthogonalEdge}`),A.dz&&this.el.classList.add("mac");const te=this._register(new d.Y(this.el,"mousedown")).event;this._register(te(ne=>this.onPointerStart(ne,new D),this));const de=this._register(new d.Y(this.el,"dblclick")).event;this._register(de(this.onPointerDoublePress,this));const ge=this._register(new d.Y(this.el,"mouseenter")).event;this._register(ge(()=>O.onMouseEnter(this)));const le=this._register(new d.Y(this.el,"mouseleave")).event;this._register(le(()=>O.onMouseLeave(this))),this._register(j.o.addTarget(this.el));const se=z.ju.map(this._register(new d.Y(this.el,j.t.Start)).event,ne=>{var U;return Object.assign(Object.assign({},ne),{target:(U=ne.initialTarget)!==null&&U!==void 0?U:null})});this._register(se(ne=>this.onPointerStart(ne,new N(this.el)),this));const X=this._register(new d.Y(this.el,j.t.Tap)).event,re=z.ju.map(z.ju.filter(z.ju.debounce(X,(ne,U)=>{var oe;return{event:U,count:((oe=ne==null?void 0:ne.count)!==null&&oe!==void 0?oe:0)+1}},250),({count:ne})=>ne===2),({event:ne})=>{var U;return Object.assign(Object.assign({},ne),{target:(U=ne.initialTarget)!==null&&U!==void 0?U:null})});this._register(re(this.onPointerDoublePress,this)),typeof Z.size=="number"?(this.size=Z.size,Z.orientation===0?this.el.style.width=`${this.size}px`:this.el.style.height=`${this.size}px`):(this.size=y,this._register(u.event(ne=>{this.size=ne,this.layout()}))),this._register(b.event(ne=>this.hoverDelay=ne)),this.layoutProvider=K,this.orthogonalStartSash=Z.orthogonalStartSash,this.orthogonalEndSash=Z.orthogonalEndSash,this.orientation=Z.orientation||0,this.orientation===1?(this.el.classList.add("horizontal"),this.el.classList.remove("vertical")):(this.el.classList.remove("horizontal"),this.el.classList.add("vertical")),this.el.classList.toggle("debug",S),this.layout()}get state(){return this._state}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}set state(M){this._state!==M&&(this.el.classList.toggle("disabled",M===0),this.el.classList.toggle("minimum",M===1),this.el.classList.toggle("maximum",M===2),this._state=M,this.onDidEnablementChange.fire(M))}set orthogonalStartSash(M){if(this.orthogonalStartDragHandleDisposables.clear(),this.orthogonalStartSashDisposables.clear(),M){const K=Z=>{this.orthogonalStartDragHandleDisposables.clear(),Z!==0&&(this._orthogonalStartDragHandle=(0,C.R3)(this.el,(0,C.$)(".orthogonal-drag-handle.start")),this.orthogonalStartDragHandleDisposables.add((0,P.OF)(()=>this._orthogonalStartDragHandle.remove())),this.orthogonalStartDragHandleDisposables.add(new d.Y(this._orthogonalStartDragHandle,"mouseenter")).event(()=>O.onMouseEnter(M),void 0,this.orthogonalStartDragHandleDisposables),this.orthogonalStartDragHandleDisposables.add(new d.Y(this._orthogonalStartDragHandle,"mouseleave")).event(()=>O.onMouseLeave(M),void 0,this.orthogonalStartDragHandleDisposables))};this.orthogonalStartSashDisposables.add(M.onDidEnablementChange.event(K,this)),K(M.state)}this._orthogonalStartSash=M}set orthogonalEndSash(M){if(this.orthogonalEndDragHandleDisposables.clear(),this.orthogonalEndSashDisposables.clear(),M){const K=Z=>{this.orthogonalEndDragHandleDisposables.clear(),Z!==0&&(this._orthogonalEndDragHandle=(0,C.R3)(this.el,(0,C.$)(".orthogonal-drag-handle.end")),this.orthogonalEndDragHandleDisposables.add((0,P.OF)(()=>this._orthogonalEndDragHandle.remove())),this.orthogonalEndDragHandleDisposables.add(new d.Y(this._orthogonalEndDragHandle,"mouseenter")).event(()=>O.onMouseEnter(M),void 0,this.orthogonalEndDragHandleDisposables),this.orthogonalEndDragHandleDisposables.add(new d.Y(this._orthogonalEndDragHandle,"mouseleave")).event(()=>O.onMouseLeave(M),void 0,this.orthogonalEndDragHandleDisposables))};this.orthogonalEndSashDisposables.add(M.onDidEnablementChange.event(K,this)),K(M.state)}this._orthogonalEndSash=M}onPointerStart(M,K){C.zB.stop(M);let Z=!1;if(!M.__orthogonalSashEvent){const q=this.getOrthogonalSash(M);q&&(Z=!0,M.__orthogonalSashEvent=!0,q.onPointerStart(M,new I(K)))}if(this.linkedSash&&!M.__linkedSashEvent&&(M.__linkedSashEvent=!0,this.linkedSash.onPointerStart(M,new I(K))),!this.state)return;const te=(0,C.H$)("iframe");for(const q of te)q.classList.add(E);const de=M.pageX,ge=M.pageY,le=M.altKey,se={startX:de,currentX:de,startY:ge,currentY:ge,altKey:le};this.el.classList.add("active"),this._onDidStart.fire(se);const X=(0,C.dS)(this.el),re=()=>{let q="";Z?q="all-scroll":this.orientation===1?this.state===1?q="s-resize":this.state===2?q="n-resize":q=A.dz?"row-resize":"ns-resize":this.state===1?q="e-resize":this.state===2?q="w-resize":q=A.dz?"col-resize":"ew-resize",X.textContent=`* { cursor: ${q} !important; }`},ne=new P.SL;re(),Z||this.onDidEnablementChange.event(re,null,ne);const U=q=>{C.zB.stop(q,!1);const ae={startX:de,currentX:q.pageX,startY:ge,currentY:q.pageY,altKey:le};this._onDidChange.fire(ae)},oe=q=>{C.zB.stop(q,!1),this.el.removeChild(X),this.el.classList.remove("active"),this._onDidEnd.fire(),ne.dispose();for(const ae of te)ae.classList.remove(E)};K.onPointerMove(U,null,ne),K.onPointerUp(oe,null,ne),ne.add(K)}onPointerDoublePress(M){const K=this.getOrthogonalSash(M);K&&K._onDidReset.fire(),this.linkedSash&&this.linkedSash._onDidReset.fire(),this._onDidReset.fire()}static onMouseEnter(M,K=!1){M.el.classList.contains("active")?(M.hoverDelayer.cancel(),M.el.classList.add("hover")):M.hoverDelayer.trigger(()=>M.el.classList.add("hover"),M.hoverDelay).then(void 0,()=>{}),!K&&M.linkedSash&&O.onMouseEnter(M.linkedSash,!0)}static onMouseLeave(M,K=!1){M.hoverDelayer.cancel(),M.el.classList.remove("hover"),!K&&M.linkedSash&&O.onMouseLeave(M.linkedSash,!0)}clearSashHoverState(){O.onMouseLeave(this)}layout(){if(this.orientation===0){const M=this.layoutProvider;this.el.style.left=M.getVerticalSashLeft(this)-this.size/2+"px",M.getVerticalSashTop&&(this.el.style.top=M.getVerticalSashTop(this)+"px"),M.getVerticalSashHeight&&(this.el.style.height=M.getVerticalSashHeight(this)+"px")}else{const M=this.layoutProvider;this.el.style.top=M.getHorizontalSashTop(this)-this.size/2+"px",M.getHorizontalSashLeft&&(this.el.style.left=M.getHorizontalSashLeft(this)+"px"),M.getHorizontalSashWidth&&(this.el.style.width=M.getHorizontalSashWidth(this)+"px")}}getOrthogonalSash(M){if(!(!M.target||!(M.target instanceof HTMLElement))&&M.target.classList.contains("orthogonal-drag-handle"))return M.target.classList.contains("start")?this.orthogonalStartSash:this.orthogonalEndSash}dispose(){super.dispose(),this.el.remove()}}},37886:function(nt,xe,l){"use strict";l.d(xe,{s$:function(){return X},NB:function(){return le},$Z:function(){return se}});var C=l(69748),d=l(1660),j=l(52948),W=l(78359),L=l(9138),z=l(15088),P=l(84180);const A=11;class T extends z.${constructor(U){super(),this._onActivate=U.onActivate,this.bgDomNode=document.createElement("div"),this.bgDomNode.className="arrow-background",this.bgDomNode.style.position="absolute",this.bgDomNode.style.width=U.bgWidth+"px",this.bgDomNode.style.height=U.bgHeight+"px",typeof U.top!="undefined"&&(this.bgDomNode.style.top="0px"),typeof U.left!="undefined"&&(this.bgDomNode.style.left="0px"),typeof U.bottom!="undefined"&&(this.bgDomNode.style.bottom="0px"),typeof U.right!="undefined"&&(this.bgDomNode.style.right="0px"),this.domNode=document.createElement("div"),this.domNode.className=U.className,this.domNode.classList.add(...U.icon.classNamesArray),this.domNode.style.position="absolute",this.domNode.style.width=A+"px",this.domNode.style.height=A+"px",typeof U.top!="undefined"&&(this.domNode.style.top=U.top+"px"),typeof U.left!="undefined"&&(this.domNode.style.left=U.left+"px"),typeof U.bottom!="undefined"&&(this.domNode.style.bottom=U.bottom+"px"),typeof U.right!="undefined"&&(this.domNode.style.right=U.right+"px"),this._pointerMoveMonitor=this._register(new L.C),this._register(d.mu(this.bgDomNode,d.tw.POINTER_DOWN,oe=>this._arrowPointerDown(oe))),this._register(d.mu(this.domNode,d.tw.POINTER_DOWN,oe=>this._arrowPointerDown(oe))),this._pointerdownRepeatTimer=this._register(new P.zh),this._pointerdownScheduleRepeatTimer=this._register(new P._F)}_arrowPointerDown(U){if(!U.target||!(U.target instanceof Element))return;const oe=()=>{this._pointerdownRepeatTimer.cancelAndSet(()=>this._onActivate(),1e3/24)};this._onActivate(),this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancelAndSet(oe,200),this._pointerMoveMonitor.startMonitoring(U.target,U.pointerId,U.buttons,q=>{},()=>{this._pointerdownRepeatTimer.cancel(),this._pointerdownScheduleRepeatTimer.cancel()}),U.preventDefault()}}var S=l(94214);class _ extends S.JT{constructor(U,oe,q){super(),this._visibility=U,this._visibleClassName=oe,this._invisibleClassName=q,this._domNode=null,this._isVisible=!1,this._isNeeded=!1,this._rawShouldBeVisible=!1,this._shouldBeVisible=!1,this._revealTimer=this._register(new P._F)}setVisibility(U){this._visibility!==U&&(this._visibility=U,this._updateShouldBeVisible())}setShouldBeVisible(U){this._rawShouldBeVisible=U,this._updateShouldBeVisible()}_applyVisibilitySetting(){return this._visibility===2?!1:this._visibility===3?!0:this._rawShouldBeVisible}_updateShouldBeVisible(){const U=this._applyVisibilitySetting();this._shouldBeVisible!==U&&(this._shouldBeVisible=U,this.ensureVisibility())}setIsNeeded(U){this._isNeeded!==U&&(this._isNeeded=U,this.ensureVisibility())}setDomNode(U){this._domNode=U,this._domNode.setClassName(this._invisibleClassName),this.setShouldBeVisible(!1)}ensureVisibility(){if(!this._isNeeded){this._hide(!1);return}this._shouldBeVisible?this._reveal():this._hide(!0)}_reveal(){this._isVisible||(this._isVisible=!0,this._revealTimer.setIfNotSet(()=>{var U;(U=this._domNode)===null||U===void 0||U.setClassName(this._visibleClassName)},0))}_hide(U){var oe;this._revealTimer.cancel(),this._isVisible&&(this._isVisible=!1,(oe=this._domNode)===null||oe===void 0||oe.setClassName(this._invisibleClassName+(U?" fade":"")))}}var y=l(94976);const u=140;class a extends z.${constructor(U){super(),this._lazyRender=U.lazyRender,this._host=U.host,this._scrollable=U.scrollable,this._scrollByPage=U.scrollByPage,this._scrollbarState=U.scrollbarState,this._visibilityController=this._register(new _(U.visibility,"visible scrollbar "+U.extraScrollbarClassName,"invisible scrollbar "+U.extraScrollbarClassName)),this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._pointerMoveMonitor=this._register(new L.C),this._shouldRender=!0,this.domNode=(0,j.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this._visibilityController.setDomNode(this.domNode),this.domNode.setPosition("absolute"),this._register(d.nm(this.domNode.domNode,d.tw.POINTER_DOWN,oe=>this._domNodePointerDown(oe)))}_createArrow(U){const oe=this._register(new T(U));this.domNode.domNode.appendChild(oe.bgDomNode),this.domNode.domNode.appendChild(oe.domNode)}_createSlider(U,oe,q,ae){this.slider=(0,j.X)(document.createElement("div")),this.slider.setClassName("slider"),this.slider.setPosition("absolute"),this.slider.setTop(U),this.slider.setLeft(oe),typeof q=="number"&&this.slider.setWidth(q),typeof ae=="number"&&this.slider.setHeight(ae),this.slider.setLayerHinting(!0),this.slider.setContain("strict"),this.domNode.domNode.appendChild(this.slider.domNode),this._register(d.nm(this.slider.domNode,d.tw.POINTER_DOWN,me=>{me.button===0&&(me.preventDefault(),this._sliderPointerDown(me))})),this.onclick(this.slider.domNode,me=>{me.leftButton&&me.stopPropagation()})}_onElementSize(U){return this._scrollbarState.setVisibleSize(U)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollSize(U){return this._scrollbarState.setScrollSize(U)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}_onElementScrollPosition(U){return this._scrollbarState.setScrollPosition(U)&&(this._visibilityController.setIsNeeded(this._scrollbarState.isNeeded()),this._shouldRender=!0,this._lazyRender||this.render()),this._shouldRender}beginReveal(){this._visibilityController.setShouldBeVisible(!0)}beginHide(){this._visibilityController.setShouldBeVisible(!1)}render(){!this._shouldRender||(this._shouldRender=!1,this._renderDomNode(this._scrollbarState.getRectangleLargeSize(),this._scrollbarState.getRectangleSmallSize()),this._updateSlider(this._scrollbarState.getSliderSize(),this._scrollbarState.getArrowSize()+this._scrollbarState.getSliderPosition()))}_domNodePointerDown(U){U.target===this.domNode.domNode&&this._onPointerDown(U)}delegatePointerDown(U){const oe=this.domNode.domNode.getClientRects()[0].top,q=oe+this._scrollbarState.getSliderPosition(),ae=oe+this._scrollbarState.getSliderPosition()+this._scrollbarState.getSliderSize(),me=this._sliderPointerPosition(U);q<=me&&me<=ae?U.button===0&&(U.preventDefault(),this._sliderPointerDown(U)):this._onPointerDown(U)}_onPointerDown(U){let oe,q;if(U.target===this.domNode.domNode&&typeof U.offsetX=="number"&&typeof U.offsetY=="number")oe=U.offsetX,q=U.offsetY;else{const me=d.i(this.domNode.domNode);oe=U.pageX-me.left,q=U.pageY-me.top}const ae=this._pointerDownRelativePosition(oe,q);this._setDesiredScrollPositionNow(this._scrollByPage?this._scrollbarState.getDesiredScrollPositionFromOffsetPaged(ae):this._scrollbarState.getDesiredScrollPositionFromOffset(ae)),U.button===0&&(U.preventDefault(),this._sliderPointerDown(U))}_sliderPointerDown(U){if(!U.target||!(U.target instanceof Element))return;const oe=this._sliderPointerPosition(U),q=this._sliderOrthogonalPointerPosition(U),ae=this._scrollbarState.clone();this.slider.toggleClassName("active",!0),this._pointerMoveMonitor.startMonitoring(U.target,U.pointerId,U.buttons,me=>{const ke=this._sliderOrthogonalPointerPosition(me),H=Math.abs(ke-q);if(y.ED&&H>u){this._setDesiredScrollPositionNow(ae.getScrollPosition());return}const Ke=this._sliderPointerPosition(me)-oe;this._setDesiredScrollPositionNow(ae.getDesiredScrollPositionFromDelta(Ke))},()=>{this.slider.toggleClassName("active",!1),this._host.onDragEnd()}),this._host.onDragStart()}_setDesiredScrollPositionNow(U){const oe={};this.writeScrollPosition(oe,U),this._scrollable.setScrollPositionNow(oe)}updateScrollbarSize(U){this._updateScrollbarSize(U),this._scrollbarState.setScrollbarSize(U),this._shouldRender=!0,this._lazyRender||this.render()}isNeeded(){return this._scrollbarState.isNeeded()}}const b=20;class D{constructor(U,oe,q,ae,me,ke){this._scrollbarSize=Math.round(oe),this._oppositeScrollbarSize=Math.round(q),this._arrowSize=Math.round(U),this._visibleSize=ae,this._scrollSize=me,this._scrollPosition=ke,this._computedAvailableSize=0,this._computedIsNeeded=!1,this._computedSliderSize=0,this._computedSliderRatio=0,this._computedSliderPosition=0,this._refreshComputedValues()}clone(){return new D(this._arrowSize,this._scrollbarSize,this._oppositeScrollbarSize,this._visibleSize,this._scrollSize,this._scrollPosition)}setVisibleSize(U){const oe=Math.round(U);return this._visibleSize!==oe?(this._visibleSize=oe,this._refreshComputedValues(),!0):!1}setScrollSize(U){const oe=Math.round(U);return this._scrollSize!==oe?(this._scrollSize=oe,this._refreshComputedValues(),!0):!1}setScrollPosition(U){const oe=Math.round(U);return this._scrollPosition!==oe?(this._scrollPosition=oe,this._refreshComputedValues(),!0):!1}setScrollbarSize(U){this._scrollbarSize=Math.round(U)}setOppositeScrollbarSize(U){this._oppositeScrollbarSize=Math.round(U)}static _computeValues(U,oe,q,ae,me){const ke=Math.max(0,q-U),H=Math.max(0,ke-2*oe),ut=ae>0&&ae>q;if(!ut)return{computedAvailableSize:Math.round(ke),computedIsNeeded:ut,computedSliderSize:Math.round(H),computedSliderRatio:0,computedSliderPosition:0};const Ke=Math.round(Math.max(b,Math.floor(q*H/ae))),He=(H-Ke)/(ae-q),ze=me*He;return{computedAvailableSize:Math.round(ke),computedIsNeeded:ut,computedSliderSize:Math.round(Ke),computedSliderRatio:He,computedSliderPosition:Math.round(ze)}}_refreshComputedValues(){const U=D._computeValues(this._oppositeScrollbarSize,this._arrowSize,this._visibleSize,this._scrollSize,this._scrollPosition);this._computedAvailableSize=U.computedAvailableSize,this._computedIsNeeded=U.computedIsNeeded,this._computedSliderSize=U.computedSliderSize,this._computedSliderRatio=U.computedSliderRatio,this._computedSliderPosition=U.computedSliderPosition}getArrowSize(){return this._arrowSize}getScrollPosition(){return this._scrollPosition}getRectangleLargeSize(){return this._computedAvailableSize}getRectangleSmallSize(){return this._scrollbarSize}isNeeded(){return this._computedIsNeeded}getSliderSize(){return this._computedSliderSize}getSliderPosition(){return this._computedSliderPosition}getDesiredScrollPositionFromOffset(U){if(!this._computedIsNeeded)return 0;const oe=U-this._arrowSize-this._computedSliderSize/2;return Math.round(oe/this._computedSliderRatio)}getDesiredScrollPositionFromOffsetPaged(U){if(!this._computedIsNeeded)return 0;const oe=U-this._arrowSize;let q=this._scrollPosition;return oe<this._computedSliderPosition?q-=this._visibleSize:q+=this._visibleSize,q}getDesiredScrollPositionFromDelta(U){if(!this._computedIsNeeded)return 0;const oe=this._computedSliderPosition+U;return Math.round(oe/this._computedSliderRatio)}}var N=l(64272);class I extends a{constructor(U,oe,q){const ae=U.getScrollDimensions(),me=U.getCurrentScrollPosition();if(super({lazyRender:oe.lazyRender,host:q,scrollbarState:new D(oe.horizontalHasArrows?oe.arrowSize:0,oe.horizontal===2?0:oe.horizontalScrollbarSize,oe.vertical===2?0:oe.verticalScrollbarSize,ae.width,ae.scrollWidth,me.scrollLeft),visibility:oe.horizontal,extraScrollbarClassName:"horizontal",scrollable:U,scrollByPage:oe.scrollByPage}),oe.horizontalHasArrows){const ke=(oe.arrowSize-A)/2,H=(oe.horizontalScrollbarSize-A)/2;this._createArrow({className:"scra",icon:N.lA.scrollbarButtonLeft,top:H,left:ke,bottom:void 0,right:void 0,bgWidth:oe.arrowSize,bgHeight:oe.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new W.q(null,1,0))}),this._createArrow({className:"scra",icon:N.lA.scrollbarButtonRight,top:H,left:void 0,bottom:void 0,right:ke,bgWidth:oe.arrowSize,bgHeight:oe.horizontalScrollbarSize,onActivate:()=>this._host.onMouseWheel(new W.q(null,-1,0))})}this._createSlider(Math.floor((oe.horizontalScrollbarSize-oe.horizontalSliderSize)/2),0,void 0,oe.horizontalSliderSize)}_updateSlider(U,oe){this.slider.setWidth(U),this.slider.setLeft(oe)}_renderDomNode(U,oe){this.domNode.setWidth(U),this.domNode.setHeight(oe),this.domNode.setLeft(0),this.domNode.setBottom(0)}onDidScroll(U){return this._shouldRender=this._onElementScrollSize(U.scrollWidth)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(U.scrollLeft)||this._shouldRender,this._shouldRender=this._onElementSize(U.width)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(U,oe){return U}_sliderPointerPosition(U){return U.pageX}_sliderOrthogonalPointerPosition(U){return U.pageY}_updateScrollbarSize(U){this.slider.setHeight(U)}writeScrollPosition(U,oe){U.scrollLeft=oe}updateOptions(U){this.updateScrollbarSize(U.horizontal===2?0:U.horizontalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(U.vertical===2?0:U.verticalScrollbarSize),this._visibilityController.setVisibility(U.horizontal),this._scrollByPage=U.scrollByPage}}class E extends a{constructor(U,oe,q){const ae=U.getScrollDimensions(),me=U.getCurrentScrollPosition();if(super({lazyRender:oe.lazyRender,host:q,scrollbarState:new D(oe.verticalHasArrows?oe.arrowSize:0,oe.vertical===2?0:oe.verticalScrollbarSize,0,ae.height,ae.scrollHeight,me.scrollTop),visibility:oe.vertical,extraScrollbarClassName:"vertical",scrollable:U,scrollByPage:oe.scrollByPage}),oe.verticalHasArrows){const ke=(oe.arrowSize-A)/2,H=(oe.verticalScrollbarSize-A)/2;this._createArrow({className:"scra",icon:N.lA.scrollbarButtonUp,top:ke,left:H,bottom:void 0,right:void 0,bgWidth:oe.verticalScrollbarSize,bgHeight:oe.arrowSize,onActivate:()=>this._host.onMouseWheel(new W.q(null,0,1))}),this._createArrow({className:"scra",icon:N.lA.scrollbarButtonDown,top:void 0,left:H,bottom:ke,right:void 0,bgWidth:oe.verticalScrollbarSize,bgHeight:oe.arrowSize,onActivate:()=>this._host.onMouseWheel(new W.q(null,0,-1))})}this._createSlider(0,Math.floor((oe.verticalScrollbarSize-oe.verticalSliderSize)/2),oe.verticalSliderSize,void 0)}_updateSlider(U,oe){this.slider.setHeight(U),this.slider.setTop(oe)}_renderDomNode(U,oe){this.domNode.setWidth(oe),this.domNode.setHeight(U),this.domNode.setRight(0),this.domNode.setTop(0)}onDidScroll(U){return this._shouldRender=this._onElementScrollSize(U.scrollHeight)||this._shouldRender,this._shouldRender=this._onElementScrollPosition(U.scrollTop)||this._shouldRender,this._shouldRender=this._onElementSize(U.height)||this._shouldRender,this._shouldRender}_pointerDownRelativePosition(U,oe){return oe}_sliderPointerPosition(U){return U.pageY}_sliderOrthogonalPointerPosition(U){return U.pageX}_updateScrollbarSize(U){this.slider.setWidth(U)}writeScrollPosition(U,oe){U.scrollTop=oe}updateOptions(U){this.updateScrollbarSize(U.vertical===2?0:U.verticalScrollbarSize),this._scrollbarState.setOppositeScrollbarSize(0),this._visibilityController.setVisibility(U.vertical),this._scrollByPage=U.scrollByPage}}var O=l(60218),R=l(83485);const M=500,K=50,Z=!0;class te{constructor(U,oe,q){this.timestamp=U,this.deltaX=oe,this.deltaY=q,this.score=0}}class de{constructor(){this._capacity=5,this._memory=[],this._front=-1,this._rear=-1}isPhysicalMouseWheel(){if(this._front===-1&&this._rear===-1)return!1;let U=1,oe=0,q=1,ae=this._rear;do{const me=ae===this._front?U:Math.pow(2,-q);if(U-=me,oe+=this._memory[ae].score*me,ae===this._front)break;ae=(this._capacity+ae-1)%this._capacity,q++}while(!0);return oe<=.5}accept(U,oe,q){const ae=new te(U,oe,q);ae.score=this._computeScore(ae),this._front===-1&&this._rear===-1?(this._memory[0]=ae,this._front=0,this._rear=0):(this._rear=(this._rear+1)%this._capacity,this._rear===this._front&&(this._front=(this._front+1)%this._capacity),this._memory[this._rear]=ae)}_computeScore(U){if(Math.abs(U.deltaX)>0&&Math.abs(U.deltaY)>0)return 1;let oe=.5;const q=this._front===-1&&this._rear===-1?null:this._memory[this._rear];return(!this._isAlmostInt(U.deltaX)||!this._isAlmostInt(U.deltaY))&&(oe+=.25),Math.min(Math.max(oe,0),1)}_isAlmostInt(U){return Math.abs(Math.round(U)-U)<.01}}de.INSTANCE=new de;class ge extends z.${constructor(U,oe,q){super(),this._onScroll=this._register(new O.Q5),this.onScroll=this._onScroll.event,this._onWillScroll=this._register(new O.Q5),U.style.overflow="hidden",this._options=re(oe),this._scrollable=q,this._register(this._scrollable.onScroll(me=>{this._onWillScroll.fire(me),this._onDidScroll(me),this._onScroll.fire(me)}));const ae={onMouseWheel:me=>this._onMouseWheel(me),onDragStart:()=>this._onDragStart(),onDragEnd:()=>this._onDragEnd()};this._verticalScrollbar=this._register(new E(this._scrollable,this._options,ae)),this._horizontalScrollbar=this._register(new I(this._scrollable,this._options,ae)),this._domNode=document.createElement("div"),this._domNode.className="monaco-scrollable-element "+this._options.className,this._domNode.setAttribute("role","presentation"),this._domNode.style.position="relative",this._domNode.style.overflow="hidden",this._domNode.appendChild(U),this._domNode.appendChild(this._horizontalScrollbar.domNode.domNode),this._domNode.appendChild(this._verticalScrollbar.domNode.domNode),this._options.useShadows?(this._leftShadowDomNode=(0,j.X)(document.createElement("div")),this._leftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._leftShadowDomNode.domNode),this._topShadowDomNode=(0,j.X)(document.createElement("div")),this._topShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topShadowDomNode.domNode),this._topLeftShadowDomNode=(0,j.X)(document.createElement("div")),this._topLeftShadowDomNode.setClassName("shadow"),this._domNode.appendChild(this._topLeftShadowDomNode.domNode)):(this._leftShadowDomNode=null,this._topShadowDomNode=null,this._topLeftShadowDomNode=null),this._listenOnDomNode=this._options.listenOnDomNode||this._domNode,this._mouseWheelToDispose=[],this._setListeningToMouseWheel(this._options.handleMouseWheel),this.onmouseover(this._listenOnDomNode,me=>this._onMouseOver(me)),this.onmouseleave(this._listenOnDomNode,me=>this._onMouseLeave(me)),this._hideTimeout=this._register(new P._F),this._isDragging=!1,this._mouseIsOver=!1,this._shouldRender=!0,this._revealOnScroll=!0}get options(){return this._options}dispose(){this._mouseWheelToDispose=(0,S.B9)(this._mouseWheelToDispose),super.dispose()}getDomNode(){return this._domNode}getOverviewRulerLayoutInfo(){return{parent:this._domNode,insertBefore:this._verticalScrollbar.domNode.domNode}}delegateVerticalScrollbarPointerDown(U){this._verticalScrollbar.delegatePointerDown(U)}getScrollDimensions(){return this._scrollable.getScrollDimensions()}setScrollDimensions(U){this._scrollable.setScrollDimensions(U,!1)}updateClassName(U){this._options.className=U,y.dz&&(this._options.className+=" mac"),this._domNode.className="monaco-scrollable-element "+this._options.className}updateOptions(U){typeof U.handleMouseWheel!="undefined"&&(this._options.handleMouseWheel=U.handleMouseWheel,this._setListeningToMouseWheel(this._options.handleMouseWheel)),typeof U.mouseWheelScrollSensitivity!="undefined"&&(this._options.mouseWheelScrollSensitivity=U.mouseWheelScrollSensitivity),typeof U.fastScrollSensitivity!="undefined"&&(this._options.fastScrollSensitivity=U.fastScrollSensitivity),typeof U.scrollPredominantAxis!="undefined"&&(this._options.scrollPredominantAxis=U.scrollPredominantAxis),typeof U.horizontal!="undefined"&&(this._options.horizontal=U.horizontal),typeof U.vertical!="undefined"&&(this._options.vertical=U.vertical),typeof U.horizontalScrollbarSize!="undefined"&&(this._options.horizontalScrollbarSize=U.horizontalScrollbarSize),typeof U.verticalScrollbarSize!="undefined"&&(this._options.verticalScrollbarSize=U.verticalScrollbarSize),typeof U.scrollByPage!="undefined"&&(this._options.scrollByPage=U.scrollByPage),this._horizontalScrollbar.updateOptions(this._options),this._verticalScrollbar.updateOptions(this._options),this._options.lazyRender||this._render()}_setListeningToMouseWheel(U){if(this._mouseWheelToDispose.length>0!==U&&(this._mouseWheelToDispose=(0,S.B9)(this._mouseWheelToDispose),U)){const q=ae=>{this._onMouseWheel(new W.q(ae))};this._mouseWheelToDispose.push(d.nm(this._listenOnDomNode,d.tw.MOUSE_WHEEL,q,{passive:!1}))}}_onMouseWheel(U){const oe=de.INSTANCE;if(Z){const me=window.devicePixelRatio/(0,C.getZoomFactor)();y.ED||y.IJ?oe.accept(Date.now(),U.deltaX/me,U.deltaY/me):oe.accept(Date.now(),U.deltaX,U.deltaY)}let q=!1;if(U.deltaY||U.deltaX){let me=U.deltaY*this._options.mouseWheelScrollSensitivity,ke=U.deltaX*this._options.mouseWheelScrollSensitivity;this._options.scrollPredominantAxis&&(Math.abs(me)>=Math.abs(ke)?ke=0:me=0),this._options.flipAxes&&([me,ke]=[ke,me]);const H=!y.dz&&U.browserEvent&&U.browserEvent.shiftKey;(this._options.scrollYToX||H)&&!ke&&(ke=me,me=0),U.browserEvent&&U.browserEvent.altKey&&(ke=ke*this._options.fastScrollSensitivity,me=me*this._options.fastScrollSensitivity);const ut=this._scrollable.getFutureScrollPosition();let Ke={};if(me){const He=K*me,ze=ut.scrollTop-(He<0?Math.floor(He):Math.ceil(He));this._verticalScrollbar.writeScrollPosition(Ke,ze)}if(ke){const He=K*ke,ze=ut.scrollLeft-(He<0?Math.floor(He):Math.ceil(He));this._horizontalScrollbar.writeScrollPosition(Ke,ze)}Ke=this._scrollable.validateScrollPosition(Ke),(ut.scrollLeft!==Ke.scrollLeft||ut.scrollTop!==Ke.scrollTop)&&(Z&&this._options.mouseWheelSmoothScroll&&oe.isPhysicalMouseWheel()?this._scrollable.setScrollPositionSmooth(Ke):this._scrollable.setScrollPositionNow(Ke),q=!0)}let ae=q;!ae&&this._options.alwaysConsumeMouseWheel&&(ae=!0),!ae&&this._options.consumeMouseWheelIfScrollbarIsNeeded&&(this._verticalScrollbar.isNeeded()||this._horizontalScrollbar.isNeeded())&&(ae=!0),ae&&(U.preventDefault(),U.stopPropagation())}_onDidScroll(U){this._shouldRender=this._horizontalScrollbar.onDidScroll(U)||this._shouldRender,this._shouldRender=this._verticalScrollbar.onDidScroll(U)||this._shouldRender,this._options.useShadows&&(this._shouldRender=!0),this._revealOnScroll&&this._reveal(),this._options.lazyRender||this._render()}renderNow(){if(!this._options.lazyRender)throw new Error("Please use `lazyRender` together with `renderNow`!");this._render()}_render(){if(!!this._shouldRender&&(this._shouldRender=!1,this._horizontalScrollbar.render(),this._verticalScrollbar.render(),this._options.useShadows)){const U=this._scrollable.getCurrentScrollPosition(),oe=U.scrollTop>0,q=U.scrollLeft>0,ae=q?" left":"",me=oe?" top":"",ke=q||oe?" top-left-corner":"";this._leftShadowDomNode.setClassName(`shadow${ae}`),this._topShadowDomNode.setClassName(`shadow${me}`),this._topLeftShadowDomNode.setClassName(`shadow${ke}${me}${ae}`)}}_onDragStart(){this._isDragging=!0,this._reveal()}_onDragEnd(){this._isDragging=!1,this._hide()}_onMouseLeave(U){this._mouseIsOver=!1,this._hide()}_onMouseOver(U){this._mouseIsOver=!0,this._reveal()}_reveal(){this._verticalScrollbar.beginReveal(),this._horizontalScrollbar.beginReveal(),this._scheduleHide()}_hide(){!this._mouseIsOver&&!this._isDragging&&(this._verticalScrollbar.beginHide(),this._horizontalScrollbar.beginHide())}_scheduleHide(){!this._mouseIsOver&&!this._isDragging&&this._hideTimeout.cancelAndSet(()=>this._hide(),M)}}class le extends ge{constructor(U,oe){oe=oe||{},oe.mouseWheelSmoothScroll=!1;const q=new R.Rm({forceIntegerValues:!0,smoothScrollDuration:0,scheduleAtNextAnimationFrame:ae=>d.jL(ae)});super(U,oe,q),this._register(q)}setScrollPosition(U){this._scrollable.setScrollPositionNow(U)}}class se extends ge{constructor(U,oe,q){super(U,oe,q)}setScrollPosition(U){U.reuseAnimation?this._scrollable.setScrollPositionSmooth(U,U.reuseAnimation):this._scrollable.setScrollPositionNow(U)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}}class X extends ge{constructor(U,oe){oe=oe||{},oe.mouseWheelSmoothScroll=!1;const q=new R.Rm({forceIntegerValues:!1,smoothScrollDuration:0,scheduleAtNextAnimationFrame:ae=>d.jL(ae)});super(U,oe,q),this._register(q),this._element=U,this.onScroll(ae=>{ae.scrollTopChanged&&(this._element.scrollTop=ae.scrollTop),ae.scrollLeftChanged&&(this._element.scrollLeft=ae.scrollLeft)}),this.scanDomNode()}setScrollPosition(U){this._scrollable.setScrollPositionNow(U)}getScrollPosition(){return this._scrollable.getCurrentScrollPosition()}scanDomNode(){this.setScrollDimensions({width:this._element.clientWidth,scrollWidth:this._element.scrollWidth,height:this._element.clientHeight,scrollHeight:this._element.scrollHeight}),this.setScrollPosition({scrollLeft:this._element.scrollLeft,scrollTop:this._element.scrollTop})}}function re(ne){const U={lazyRender:typeof ne.lazyRender!="undefined"?ne.lazyRender:!1,className:typeof ne.className!="undefined"?ne.className:"",useShadows:typeof ne.useShadows!="undefined"?ne.useShadows:!0,handleMouseWheel:typeof ne.handleMouseWheel!="undefined"?ne.handleMouseWheel:!0,flipAxes:typeof ne.flipAxes!="undefined"?ne.flipAxes:!1,consumeMouseWheelIfScrollbarIsNeeded:typeof ne.consumeMouseWheelIfScrollbarIsNeeded!="undefined"?ne.consumeMouseWheelIfScrollbarIsNeeded:!1,alwaysConsumeMouseWheel:typeof ne.alwaysConsumeMouseWheel!="undefined"?ne.alwaysConsumeMouseWheel:!1,scrollYToX:typeof ne.scrollYToX!="undefined"?ne.scrollYToX:!1,mouseWheelScrollSensitivity:typeof ne.mouseWheelScrollSensitivity!="undefined"?ne.mouseWheelScrollSensitivity:1,fastScrollSensitivity:typeof ne.fastScrollSensitivity!="undefined"?ne.fastScrollSensitivity:5,scrollPredominantAxis:typeof ne.scrollPredominantAxis!="undefined"?ne.scrollPredominantAxis:!0,mouseWheelSmoothScroll:typeof ne.mouseWheelSmoothScroll!="undefined"?ne.mouseWheelSmoothScroll:!0,arrowSize:typeof ne.arrowSize!="undefined"?ne.arrowSize:11,listenOnDomNode:typeof ne.listenOnDomNode!="undefined"?ne.listenOnDomNode:null,horizontal:typeof ne.horizontal!="undefined"?ne.horizontal:1,horizontalScrollbarSize:typeof ne.horizontalScrollbarSize!="undefined"?ne.horizontalScrollbarSize:10,horizontalSliderSize:typeof ne.horizontalSliderSize!="undefined"?ne.horizontalSliderSize:0,horizontalHasArrows:typeof ne.horizontalHasArrows!="undefined"?ne.horizontalHasArrows:!1,vertical:typeof ne.vertical!="undefined"?ne.vertical:1,verticalScrollbarSize:typeof ne.verticalScrollbarSize!="undefined"?ne.verticalScrollbarSize:10,verticalHasArrows:typeof ne.verticalHasArrows!="undefined"?ne.verticalHasArrows:!1,verticalSliderSize:typeof ne.verticalSliderSize!="undefined"?ne.verticalSliderSize:0,scrollByPage:typeof ne.scrollByPage!="undefined"?ne.scrollByPage:!1};return U.horizontalSliderSize=typeof ne.horizontalSliderSize!="undefined"?ne.horizontalSliderSize:U.horizontalScrollbarSize,U.verticalSliderSize=typeof ne.verticalSliderSize!="undefined"?ne.verticalSliderSize:U.verticalScrollbarSize,y.dz&&(U.className+=" mac"),U}},4830:function(nt,xe,l){"use strict";l.d(xe,{M:function(){return D},z:function(){return N}});var C=l(1660),d=l(64872),j=l(37886),W=l(84553),L=l(15304),z=l(60218),P=l(94214),A=l(91959),T=l(83485),S=l(17014);const _={separatorBorder:L.Il.transparent};class y{constructor(E,O,R,M){this.container=E,this.view=O,this.disposable=M,this._cachedVisibleSize=void 0,typeof R=="number"?(this._size=R,this._cachedVisibleSize=void 0,E.classList.add("visible")):(this._size=0,this._cachedVisibleSize=R.cachedVisibleSize)}set size(E){this._size=E}get size(){return this._size}get visible(){return typeof this._cachedVisibleSize=="undefined"}setVisible(E,O){var R,M;E!==this.visible&&(E?(this.size=(0,A.uZ)(this._cachedVisibleSize,this.viewMinimumSize,this.viewMaximumSize),this._cachedVisibleSize=void 0):(this._cachedVisibleSize=typeof O=="number"?O:this.size,this.size=0),this.container.classList.toggle("visible",E),(M=(R=this.view).setVisible)===null||M===void 0||M.call(R,E))}get minimumSize(){return this.visible?this.view.minimumSize:0}get viewMinimumSize(){return this.view.minimumSize}get maximumSize(){return this.visible?this.view.maximumSize:0}get viewMaximumSize(){return this.view.maximumSize}get priority(){return this.view.priority}get snap(){return!!this.view.snap}set enabled(E){this.container.style.pointerEvents=E?"":"none"}layout(E,O){this.layoutContainer(E),this.view.layout(this.size,E,O)}dispose(){return this.disposable.dispose(),this.view}}class u extends y{layoutContainer(E){this.container.style.top=`${E}px`,this.container.style.height=`${this.size}px`}}class a extends y{layoutContainer(E){this.container.style.left=`${E}px`,this.container.style.width=`${this.size}px`}}var b;(function(I){I[I.Idle=0]="Idle",I[I.Busy=1]="Busy"})(b||(b={}));var D;(function(I){I.Distribute={type:"distribute"};function E(R){return{type:"split",index:R}}I.Split=E;function O(R){return{type:"invisible",cachedVisibleSize:R}}I.Invisible=O})(D||(D={}));class N extends P.JT{constructor(E,O={}){var R,M,K,Z,te;super(),this.size=0,this.contentSize=0,this.proportions=void 0,this.viewItems=[],this.sashItems=[],this.state=b.Idle,this._onDidSashChange=this._register(new z.Q5),this._onDidSashReset=this._register(new z.Q5),this._startSnappingEnabled=!0,this._endSnappingEnabled=!0,this.onDidSashChange=this._onDidSashChange.event,this.onDidSashReset=this._onDidSashReset.event,this.orientation=(R=O.orientation)!==null&&R!==void 0?R:0,this.inverseAltBehavior=(M=O.inverseAltBehavior)!==null&&M!==void 0?M:!1,this.proportionalLayout=(K=O.proportionalLayout)!==null&&K!==void 0?K:!0,this.getSashOrthogonalSize=O.getSashOrthogonalSize,this.el=document.createElement("div"),this.el.classList.add("monaco-split-view2"),this.el.classList.add(this.orientation===0?"vertical":"horizontal"),E.appendChild(this.el),this.sashContainer=(0,C.R3)(this.el,(0,C.$)(".sash-container")),this.viewContainer=(0,C.$)(".split-view-container"),this.scrollable=new T.Rm({forceIntegerValues:!0,smoothScrollDuration:125,scheduleAtNextAnimationFrame:C.jL}),this.scrollableElement=this._register(new j.$Z(this.viewContainer,{vertical:this.orientation===0?(Z=O.scrollbarVisibility)!==null&&Z!==void 0?Z:1:2,horizontal:this.orientation===1?(te=O.scrollbarVisibility)!==null&&te!==void 0?te:1:2},this.scrollable)),this.onDidScroll=this.scrollableElement.onScroll,this._register(this.onDidScroll(de=>{this.viewContainer.scrollTop=de.scrollTop,this.viewContainer.scrollLeft=de.scrollLeft})),(0,C.R3)(this.el,this.scrollableElement.getDomNode()),this.style(O.styles||_),O.descriptor&&(this.size=O.descriptor.size,O.descriptor.views.forEach((de,ge)=>{const le=S.o8(de.visible)||de.visible?de.size:{type:"invisible",cachedVisibleSize:de.size},se=de.view;this.doAddView(se,le,ge,!0)}),this.contentSize=this.viewItems.reduce((de,ge)=>de+ge.size,0),this.saveProportions())}get orthogonalStartSash(){return this._orthogonalStartSash}get orthogonalEndSash(){return this._orthogonalEndSash}get startSnappingEnabled(){return this._startSnappingEnabled}get endSnappingEnabled(){return this._endSnappingEnabled}set orthogonalStartSash(E){for(const O of this.sashItems)O.sash.orthogonalStartSash=E;this._orthogonalStartSash=E}set orthogonalEndSash(E){for(const O of this.sashItems)O.sash.orthogonalEndSash=E;this._orthogonalEndSash=E}set startSnappingEnabled(E){this._startSnappingEnabled!==E&&(this._startSnappingEnabled=E,this.updateSashEnablement())}set endSnappingEnabled(E){this._endSnappingEnabled!==E&&(this._endSnappingEnabled=E,this.updateSashEnablement())}style(E){E.separatorBorder.isTransparent()?(this.el.classList.remove("separator-border"),this.el.style.removeProperty("--separator-border")):(this.el.classList.add("separator-border"),this.el.style.setProperty("--separator-border",E.separatorBorder.toString()))}addView(E,O,R=this.viewItems.length,M){this.doAddView(E,O,R,M)}layout(E,O){const R=Math.max(this.size,this.contentSize);if(this.size=E,this.layoutContext=O,this.proportions)for(let M=0;M<this.viewItems.length;M++){const K=this.viewItems[M];K.size=(0,A.uZ)(Math.round(this.proportions[M]*E),K.minimumSize,K.maximumSize)}else{const M=(0,W.w6)(this.viewItems.length),K=M.filter(te=>this.viewItems[te].priority===1),Z=M.filter(te=>this.viewItems[te].priority===2);this.resize(this.viewItems.length-1,E-R,void 0,K,Z)}this.distributeEmptySpace(),this.layoutViews()}saveProportions(){this.proportionalLayout&&this.contentSize>0&&(this.proportions=this.viewItems.map(E=>E.size/this.contentSize))}onSashStart({sash:E,start:O,alt:R}){for(const te of this.viewItems)te.enabled=!1;const M=this.sashItems.findIndex(te=>te.sash===E),K=(0,P.F8)((0,C.nm)(document.body,"keydown",te=>Z(this.sashDragState.current,te.altKey)),(0,C.nm)(document.body,"keyup",()=>Z(this.sashDragState.current,!1))),Z=(te,de)=>{const ge=this.viewItems.map(ne=>ne.size);let le=Number.NEGATIVE_INFINITY,se=Number.POSITIVE_INFINITY;if(this.inverseAltBehavior&&(de=!de),de)if(M===this.sashItems.length-1){const U=this.viewItems[M];le=(U.minimumSize-U.size)/2,se=(U.maximumSize-U.size)/2}else{const U=this.viewItems[M+1];le=(U.size-U.maximumSize)/2,se=(U.size-U.minimumSize)/2}let X,re;if(!de){const ne=(0,W.w6)(M,-1),U=(0,W.w6)(M+1,this.viewItems.length),oe=ne.reduce((He,ze)=>He+(this.viewItems[ze].minimumSize-ge[ze]),0),q=ne.reduce((He,ze)=>He+(this.viewItems[ze].viewMaximumSize-ge[ze]),0),ae=U.length===0?Number.POSITIVE_INFINITY:U.reduce((He,ze)=>He+(ge[ze]-this.viewItems[ze].minimumSize),0),me=U.length===0?Number.NEGATIVE_INFINITY:U.reduce((He,ze)=>He+(ge[ze]-this.viewItems[ze].viewMaximumSize),0),ke=Math.max(oe,me),H=Math.min(ae,q),ut=this.findFirstSnapIndex(ne),Ke=this.findFirstSnapIndex(U);if(typeof ut=="number"){const He=this.viewItems[ut],ze=Math.floor(He.viewMinimumSize/2);X={index:ut,limitDelta:He.visible?ke-ze:ke+ze,size:He.size}}if(typeof Ke=="number"){const He=this.viewItems[Ke],ze=Math.floor(He.viewMinimumSize/2);re={index:Ke,limitDelta:He.visible?H+ze:H-ze,size:He.size}}}this.sashDragState={start:te,current:te,index:M,sizes:ge,minDelta:le,maxDelta:se,alt:de,snapBefore:X,snapAfter:re,disposable:K}};Z(O,R)}onSashChange({current:E}){const{index:O,start:R,sizes:M,alt:K,minDelta:Z,maxDelta:te,snapBefore:de,snapAfter:ge}=this.sashDragState;this.sashDragState.current=E;const le=E-R,se=this.resize(O,le,M,void 0,void 0,Z,te,de,ge);if(K){const X=O===this.sashItems.length-1,re=this.viewItems.map(me=>me.size),ne=X?O:O+1,U=this.viewItems[ne],oe=U.size-U.maximumSize,q=U.size-U.minimumSize,ae=X?O-1:O+1;this.resize(ae,-se,re,void 0,void 0,oe,q)}this.distributeEmptySpace(),this.layoutViews()}onSashEnd(E){this._onDidSashChange.fire(E),this.sashDragState.disposable.dispose(),this.saveProportions();for(const O of this.viewItems)O.enabled=!0}onViewChange(E,O){const R=this.viewItems.indexOf(E);R<0||R>=this.viewItems.length||(O=typeof O=="number"?O:E.size,O=(0,A.uZ)(O,E.minimumSize,E.maximumSize),this.inverseAltBehavior&&R>0?(this.resize(R-1,Math.floor((E.size-O)/2)),this.distributeEmptySpace(),this.layoutViews()):(E.size=O,this.relayout([R],void 0)))}resizeView(E,O){if(this.state!==b.Idle)throw new Error("Cant modify splitview");if(this.state=b.Busy,E<0||E>=this.viewItems.length)return;const R=(0,W.w6)(this.viewItems.length).filter(te=>te!==E),M=[...R.filter(te=>this.viewItems[te].priority===1),E],K=R.filter(te=>this.viewItems[te].priority===2),Z=this.viewItems[E];O=Math.round(O),O=(0,A.uZ)(O,Z.minimumSize,Math.min(Z.maximumSize,this.size)),Z.size=O,this.relayout(M,K),this.state=b.Idle}distributeViewSizes(){const E=[];let O=0;for(const te of this.viewItems)te.maximumSize-te.minimumSize>0&&(E.push(te),O+=te.size);const R=Math.floor(O/E.length);for(const te of E)te.size=(0,A.uZ)(R,te.minimumSize,te.maximumSize);const M=(0,W.w6)(this.viewItems.length),K=M.filter(te=>this.viewItems[te].priority===1),Z=M.filter(te=>this.viewItems[te].priority===2);this.relayout(K,Z)}getViewSize(E){return E<0||E>=this.viewItems.length?-1:this.viewItems[E].size}doAddView(E,O,R=this.viewItems.length,M){if(this.state!==b.Idle)throw new Error("Cant modify splitview");this.state=b.Busy;const K=(0,C.$)(".split-view-view");R===this.viewItems.length?this.viewContainer.appendChild(K):this.viewContainer.insertBefore(K,this.viewContainer.children.item(R));const Z=E.onDidChange(X=>this.onViewChange(le,X)),te=(0,P.OF)(()=>this.viewContainer.removeChild(K)),de=(0,P.F8)(Z,te);let ge;typeof O=="number"?ge=O:O.type==="split"?ge=this.getViewSize(O.index)/2:O.type==="invisible"?ge={cachedVisibleSize:O.cachedVisibleSize}:ge=E.minimumSize;const le=this.orientation===0?new u(K,E,ge,de):new a(K,E,ge,de);if(this.viewItems.splice(R,0,le),this.viewItems.length>1){const X={orthogonalStartSash:this.orthogonalStartSash,orthogonalEndSash:this.orthogonalEndSash},re=this.orientation===0?new d.g(this.sashContainer,{getHorizontalSashTop:He=>this.getSashPosition(He),getHorizontalSashWidth:this.getSashOrthogonalSize},Object.assign(Object.assign({},X),{orientation:1})):new d.g(this.sashContainer,{getVerticalSashLeft:He=>this.getSashPosition(He),getVerticalSashHeight:this.getSashOrthogonalSize},Object.assign(Object.assign({},X),{orientation:0})),ne=this.orientation===0?He=>({sash:re,start:He.startY,current:He.currentY,alt:He.altKey}):He=>({sash:re,start:He.startX,current:He.currentX,alt:He.altKey}),oe=z.ju.map(re.onDidStart,ne)(this.onSashStart,this),ae=z.ju.map(re.onDidChange,ne)(this.onSashChange,this),ke=z.ju.map(re.onDidEnd,()=>this.sashItems.findIndex(He=>He.sash===re))(this.onSashEnd,this),H=re.onDidReset(()=>{const He=this.sashItems.findIndex(Fe=>Fe.sash===re),ze=(0,W.w6)(He,-1),Le=(0,W.w6)(He+1,this.viewItems.length),Ze=this.findFirstSnapIndex(ze),Ge=this.findFirstSnapIndex(Le);typeof Ze=="number"&&!this.viewItems[Ze].visible||typeof Ge=="number"&&!this.viewItems[Ge].visible||this._onDidSashReset.fire(He)}),ut=(0,P.F8)(oe,ae,ke,H,re),Ke={sash:re,disposable:ut};this.sashItems.splice(R-1,0,Ke)}K.appendChild(E.element);let se;typeof O!="number"&&O.type==="split"&&(se=[O.index]),M||this.relayout([R],se),this.state=b.Idle,!M&&typeof O!="number"&&O.type==="distribute"&&this.distributeViewSizes()}relayout(E,O){const R=this.viewItems.reduce((M,K)=>M+K.size,0);this.resize(this.viewItems.length-1,this.size-R,void 0,E,O),this.distributeEmptySpace(),this.layoutViews(),this.saveProportions()}resize(E,O,R=this.viewItems.map(le=>le.size),M,K,Z=Number.NEGATIVE_INFINITY,te=Number.POSITIVE_INFINITY,de,ge){if(E<0||E>=this.viewItems.length)return 0;const le=(0,W.w6)(E,-1),se=(0,W.w6)(E+1,this.viewItems.length);if(K)for(const Ke of K)(0,W.zI)(le,Ke),(0,W.zI)(se,Ke);if(M)for(const Ke of M)(0,W.al)(le,Ke),(0,W.al)(se,Ke);const X=le.map(Ke=>this.viewItems[Ke]),re=le.map(Ke=>R[Ke]),ne=se.map(Ke=>this.viewItems[Ke]),U=se.map(Ke=>R[Ke]),oe=le.reduce((Ke,He)=>Ke+(this.viewItems[He].minimumSize-R[He]),0),q=le.reduce((Ke,He)=>Ke+(this.viewItems[He].maximumSize-R[He]),0),ae=se.length===0?Number.POSITIVE_INFINITY:se.reduce((Ke,He)=>Ke+(R[He]-this.viewItems[He].minimumSize),0),me=se.length===0?Number.NEGATIVE_INFINITY:se.reduce((Ke,He)=>Ke+(R[He]-this.viewItems[He].maximumSize),0),ke=Math.max(oe,me,Z),H=Math.min(ae,q,te);let ut=!1;if(de){const Ke=this.viewItems[de.index],He=O>=de.limitDelta;ut=He!==Ke.visible,Ke.setVisible(He,de.size)}if(!ut&&ge){const Ke=this.viewItems[ge.index],He=O<ge.limitDelta;ut=He!==Ke.visible,Ke.setVisible(He,ge.size)}if(ut)return this.resize(E,O,R,M,K,Z,te);O=(0,A.uZ)(O,ke,H);for(let Ke=0,He=O;Ke<X.length;Ke++){const ze=X[Ke],Le=(0,A.uZ)(re[Ke]+He,ze.minimumSize,ze.maximumSize),Ze=Le-re[Ke];He-=Ze,ze.size=Le}for(let Ke=0,He=O;Ke<ne.length;Ke++){const ze=ne[Ke],Le=(0,A.uZ)(U[Ke]-He,ze.minimumSize,ze.maximumSize),Ze=Le-U[Ke];He+=Ze,ze.size=Le}return O}distributeEmptySpace(E){const O=this.viewItems.reduce((te,de)=>te+de.size,0);let R=this.size-O;const M=(0,W.w6)(this.viewItems.length-1,-1),K=M.filter(te=>this.viewItems[te].priority===1),Z=M.filter(te=>this.viewItems[te].priority===2);for(const te of Z)(0,W.zI)(M,te);for(const te of K)(0,W.al)(M,te);typeof E=="number"&&(0,W.al)(M,E);for(let te=0;R!==0&&te<M.length;te++){const de=this.viewItems[M[te]],ge=(0,A.uZ)(de.size+R,de.minimumSize,de.maximumSize),le=ge-de.size;R-=le,de.size=ge}}layoutViews(){this.contentSize=this.viewItems.reduce((O,R)=>O+R.size,0);let E=0;for(const O of this.viewItems)O.layout(E,this.layoutContext),E+=O.size;this.sashItems.forEach(O=>O.sash.layout()),this.updateSashEnablement(),this.updateScrollableElement()}updateScrollableElement(){this.orientation===0?this.scrollableElement.setScrollDimensions({height:this.size,scrollHeight:this.contentSize}):this.scrollableElement.setScrollDimensions({width:this.size,scrollWidth:this.contentSize})}updateSashEnablement(){let E=!1;const O=this.viewItems.map(de=>E=de.size-de.minimumSize>0||E);E=!1;const R=this.viewItems.map(de=>E=de.maximumSize-de.size>0||E),M=[...this.viewItems].reverse();E=!1;const K=M.map(de=>E=de.size-de.minimumSize>0||E).reverse();E=!1;const Z=M.map(de=>E=de.maximumSize-de.size>0||E).reverse();let te=0;for(let de=0;de<this.sashItems.length;de++){const{sash:ge}=this.sashItems[de],le=this.viewItems[de];te+=le.size;const se=!(O[de]&&Z[de+1]),X=!(R[de]&&K[de+1]);if(se&&X){const re=(0,W.w6)(de,-1),ne=(0,W.w6)(de+1,this.viewItems.length),U=this.findFirstSnapIndex(re),oe=this.findFirstSnapIndex(ne),q=typeof U=="number"&&!this.viewItems[U].visible,ae=typeof oe=="number"&&!this.viewItems[oe].visible;q&&K[de]&&(te>0||this.startSnappingEnabled)?ge.state=1:ae&&O[de]&&(te<this.contentSize||this.endSnappingEnabled)?ge.state=2:ge.state=0}else se&&!X?ge.state=1:!se&&X?ge.state=2:ge.state=3}}getSashPosition(E){let O=0;for(let R=0;R<this.sashItems.length;R++)if(O+=this.viewItems[R].size,this.sashItems[R].sash===E)return O;return 0}findFirstSnapIndex(E){for(const O of E){const R=this.viewItems[O];if(!!R.visible&&R.snap)return O}for(const O of E){const R=this.viewItems[O];if(R.visible&&R.maximumSize-R.minimumSize>0)return;if(!R.visible&&R.snap)return O}}dispose(){super.dispose(),(0,P.B9)(this.viewItems),this.viewItems=[],this.sashItems.forEach(E=>E.disposable.dispose()),this.sashItems=[]}}},34232:function(nt,xe,l){"use strict";l.d(xe,{Z:function(){return z}});var C=l(15088),d=l(64272),j=l(15304),W=l(60218);const L={inputActiveOptionBorder:j.Il.fromHex("#007ACC00"),inputActiveOptionForeground:j.Il.fromHex("#FFFFFF"),inputActiveOptionBackground:j.Il.fromHex("#0E639C50")};class z extends C.${constructor(A){super(),this._onChange=this._register(new W.Q5),this.onChange=this._onChange.event,this._onKeyDown=this._register(new W.Q5),this.onKeyDown=this._onKeyDown.event,this._opts=Object.assign(Object.assign({},L),A),this._checked=this._opts.isChecked;const T=["monaco-custom-toggle"];this._opts.icon&&(this._icon=this._opts.icon,T.push(...d.dT.asClassNameArray(this._icon))),this._opts.actionClassName&&T.push(...this._opts.actionClassName.split(" ")),this._checked&&T.push("checked"),this.domNode=document.createElement("div"),this.domNode.title=this._opts.title,this.domNode.classList.add(...T),this._opts.notFocusable||(this.domNode.tabIndex=0),this.domNode.setAttribute("role","checkbox"),this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.setAttribute("aria-label",this._opts.title),this.applyStyles(),this.onclick(this.domNode,S=>{this.enabled&&(this.checked=!this._checked,this._onChange.fire(!1),S.preventDefault())}),this.ignoreGesture(this.domNode),this.onkeydown(this.domNode,S=>{if(S.keyCode===10||S.keyCode===3){this.checked=!this._checked,this._onChange.fire(!0),S.preventDefault(),S.stopPropagation();return}this._onKeyDown.fire(S)})}get enabled(){return this.domNode.getAttribute("aria-disabled")!=="true"}focus(){this.domNode.focus()}get checked(){return this._checked}set checked(A){this._checked=A,this.domNode.setAttribute("aria-checked",String(this._checked)),this.domNode.classList.toggle("checked",this._checked),this.applyStyles()}width(){return 2+2+2+16}style(A){A.inputActiveOptionBorder&&(this._opts.inputActiveOptionBorder=A.inputActiveOptionBorder),A.inputActiveOptionForeground&&(this._opts.inputActiveOptionForeground=A.inputActiveOptionForeground),A.inputActiveOptionBackground&&(this._opts.inputActiveOptionBackground=A.inputActiveOptionBackground),this.applyStyles()}applyStyles(){this.domNode&&(this.domNode.style.borderColor=this._checked&&this._opts.inputActiveOptionBorder?this._opts.inputActiveOptionBorder.toString():"",this.domNode.style.color=this._checked&&this._opts.inputActiveOptionForeground?this._opts.inputActiveOptionForeground.toString():"inherit",this.domNode.style.backgroundColor=this._checked&&this._opts.inputActiveOptionBackground?this._opts.inputActiveOptionBackground.toString():"")}enable(){this.domNode.setAttribute("aria-disabled",String(!1))}disable(){this.domNode.setAttribute("aria-disabled",String(!0))}}},15088:function(nt,xe,l){"use strict";l.d(xe,{$:function(){return z}});var C=l(1660),d=l(91194),j=l(78359),W=l(32003),L=l(94214);class z extends L.JT{onclick(A,T){this._register(C.nm(A,C.tw.CLICK,S=>T(new j.n(S))))}onmousedown(A,T){this._register(C.nm(A,C.tw.MOUSE_DOWN,S=>T(new j.n(S))))}onmouseover(A,T){this._register(C.nm(A,C.tw.MOUSE_OVER,S=>T(new j.n(S))))}onmouseleave(A,T){this._register(C.nm(A,C.tw.MOUSE_LEAVE,S=>T(new j.n(S))))}onkeydown(A,T){this._register(C.nm(A,C.tw.KEY_DOWN,S=>T(new d.y(S))))}onkeyup(A,T){this._register(C.nm(A,C.tw.KEY_UP,S=>T(new d.y(S))))}oninput(A,T){this._register(C.nm(A,C.tw.INPUT,T))}onblur(A,T){this._register(C.nm(A,C.tw.BLUR,T))}onfocus(A,T){this._register(C.nm(A,C.tw.FOCUS,T))}ignoreGesture(A){W.o.ignoreTarget(A)}}},3553:function(nt,xe,l){"use strict";l.d(xe,{Wi:function(){return z},Z0:function(){return P},aU:function(){return L},eZ:function(){return T},wY:function(){return A},xw:function(){return S}});var C=l(60218),d=l(94214),j=l(83218),W=function(_,y,u,a){function b(D){return D instanceof u?D:new u(function(N){N(D)})}return new(u||(u=Promise))(function(D,N){function I(R){try{O(a.next(R))}catch(M){N(M)}}function E(R){try{O(a.throw(R))}catch(M){N(M)}}function O(R){R.done?D(R.value):b(R.value).then(I,E)}O((a=a.apply(_,y||[])).next())})};class L extends d.JT{constructor(y,u="",a="",b=!0,D){super(),this._onDidChange=this._register(new C.Q5),this.onDidChange=this._onDidChange.event,this._enabled=!0,this._id=y,this._label=u,this._cssClass=a,this._enabled=b,this._actionCallback=D}get id(){return this._id}get label(){return this._label}set label(y){this._setLabel(y)}_setLabel(y){this._label!==y&&(this._label=y,this._onDidChange.fire({label:y}))}get tooltip(){return this._tooltip||""}set tooltip(y){this._setTooltip(y)}_setTooltip(y){this._tooltip!==y&&(this._tooltip=y,this._onDidChange.fire({tooltip:y}))}get class(){return this._cssClass}set class(y){this._setClass(y)}_setClass(y){this._cssClass!==y&&(this._cssClass=y,this._onDidChange.fire({class:y}))}get enabled(){return this._enabled}set enabled(y){this._setEnabled(y)}_setEnabled(y){this._enabled!==y&&(this._enabled=y,this._onDidChange.fire({enabled:y}))}get checked(){return this._checked}set checked(y){this._setChecked(y)}_setChecked(y){this._checked!==y&&(this._checked=y,this._onDidChange.fire({checked:y}))}run(y,u){return W(this,void 0,void 0,function*(){this._actionCallback&&(yield this._actionCallback(y))})}}class z extends d.JT{constructor(){super(...arguments),this._onBeforeRun=this._register(new C.Q5),this.onBeforeRun=this._onBeforeRun.event,this._onDidRun=this._register(new C.Q5),this.onDidRun=this._onDidRun.event}run(y,u){return W(this,void 0,void 0,function*(){if(!y.enabled)return;this._onBeforeRun.fire({action:y});let a;try{yield this.runAction(y,u)}catch(b){a=b}this._onDidRun.fire({action:y,error:a})})}runAction(y,u){return W(this,void 0,void 0,function*(){yield y.run(u)})}}class P extends L{constructor(y){super(P.ID,y,y?"separator text":"separator"),this.checked=!1,this.enabled=!1}}P.ID="vs.actions.separator";class A{constructor(y,u,a,b){this.tooltip="",this.enabled=!0,this.checked=void 0,this.id=y,this.label=u,this.class=b,this._actions=a}get actions(){return this._actions}dispose(){}run(){return W(this,void 0,void 0,function*(){})}}class T extends L{constructor(){super(T.ID,j.NC("submenu.empty","(empty)"),void 0,!1)}}T.ID="vs.actions.empty";function S(_){var y,u;return{id:_.id,label:_.label,class:void 0,enabled:(y=_.enabled)!==null&&y!==void 0?y:!0,checked:(u=_.checked)!==null&&u!==void 0?u:!1,run:()=>W(this,void 0,void 0,function*(){return _.run()}),tooltip:_.label,dispose:()=>{}}}},84553:function(nt,xe,l){"use strict";l.d(xe,{Dc:function(){return se},EB:function(){return u},Gb:function(){return C},H9:function(){return ne},HW:function(){return A},JH:function(){return d},LS:function(){return W},Of:function(){return y},VJ:function(){return re},XY:function(){return _},Xh:function(){return D},Zv:function(){return I},_2:function(){return M},al:function(){return O},dF:function(){return a},db:function(){return Z},fS:function(){return j},fv:function(){return le},jV:function(){return X},kX:function(){return S},lG:function(){return P},ry:function(){return L},tT:function(){return ge},vA:function(){return R},vM:function(){return T},w6:function(){return N},zI:function(){return E}});function C(U,oe=0){return U[U.length-(1+oe)]}function d(U){if(U.length===0)throw new Error("Invalid tail call");return[U.slice(0,U.length-1),U[U.length-1]]}function j(U,oe,q=(ae,me)=>ae===me){if(U===oe)return!0;if(!U||!oe||U.length!==oe.length)return!1;for(let ae=0,me=U.length;ae<me;ae++)if(!q(U[ae],oe[ae]))return!1;return!0}function W(U,oe){const q=U.length-1;oe<q&&(U[oe]=U[q]),U.pop()}function L(U,oe,q){return z(U.length,ae=>q(U[ae],oe))}function z(U,oe){let q=0,ae=U-1;for(;q<=ae;){const me=(q+ae)/2|0,ke=oe(me);if(ke<0)q=me+1;else if(ke>0)ae=me-1;else return me}return-(q+1)}function P(U,oe){let q=0,ae=U.length;if(ae===0)return 0;for(;q<ae;){const me=Math.floor((q+ae)/2);oe(U[me])?ae=me:q=me+1}return q}function A(U,oe,q){if(U=U|0,U>=oe.length)throw new TypeError("invalid index");const ae=oe[Math.floor(oe.length*Math.random())],me=[],ke=[],H=[];for(const ut of oe){const Ke=q(ut,ae);Ke<0?me.push(ut):Ke>0?ke.push(ut):H.push(ut)}return U<me.length?A(U,me,q):U<me.length+H.length?H[0]:A(U-(me.length+H.length),ke,q)}function T(U,oe){const q=[];let ae;for(const me of U.slice(0).sort(oe))!ae||oe(ae[0],me)!==0?(ae=[me],q.push(ae)):ae.push(me);return q}function S(U){return U.filter(oe=>!!oe)}function _(U){return!Array.isArray(U)||U.length===0}function y(U){return Array.isArray(U)&&U.length>0}function u(U,oe=q=>q){const q=new Set;return U.filter(ae=>{const me=oe(ae);return q.has(me)?!1:(q.add(me),!0)})}function a(U,oe){const q=b(U,oe);if(q!==-1)return U[q]}function b(U,oe){for(let q=U.length-1;q>=0;q--){const ae=U[q];if(oe(ae))return q}return-1}function D(U,oe){return U.length>0?U[0]:oe}function N(U,oe){let q=typeof oe=="number"?U:0;typeof oe=="number"?q=U:(q=0,oe=U);const ae=[];if(q<=oe)for(let me=q;me<oe;me++)ae.push(me);else for(let me=q;me>oe;me--)ae.push(me);return ae}function I(U,oe,q){const ae=U.slice(0,oe),me=U.slice(oe);return ae.concat(q,me)}function E(U,oe){const q=U.indexOf(oe);q>-1&&(U.splice(q,1),U.unshift(oe))}function O(U,oe){const q=U.indexOf(oe);q>-1&&(U.splice(q,1),U.push(oe))}function R(U,oe){for(const q of oe)U.push(q)}function M(U){return Array.isArray(U)?U:[U]}function K(U,oe,q){const ae=te(U,oe),me=U.length,ke=q.length;U.length=me+ke;for(let H=me-1;H>=ae;H--)U[H+ke]=U[H];for(let H=0;H<ke;H++)U[H+ae]=q[H]}function Z(U,oe,q,ae){const me=te(U,oe),ke=U.splice(me,q);return K(U,me,ae),ke}function te(U,oe){return oe<0?Math.max(oe+U.length,0):Math.min(oe,U.length)}var de;(function(U){function oe(me){return me<0}U.isLessThan=oe;function q(me){return me>0}U.isGreaterThan=q;function ae(me){return me===0}U.isNeitherLessOrGreaterThan=ae,U.greaterThan=1,U.lessThan=-1,U.neitherLessOrGreaterThan=0})(de||(de={}));function ge(U,oe){return(q,ae)=>oe(U(q),U(ae))}const le=(U,oe)=>U-oe;function se(U,oe){if(U.length===0)return;let q=U[0];for(let ae=1;ae<U.length;ae++){const me=U[ae];oe(me,q)>0&&(q=me)}return q}function X(U,oe){if(U.length===0)return;let q=U[0];for(let ae=1;ae<U.length;ae++){const me=U[ae];oe(me,q)>=0&&(q=me)}return q}function re(U,oe){return se(U,(q,ae)=>-oe(q,ae))}class ne{constructor(oe){this.items=oe,this.firstIdx=0,this.lastIdx=this.items.length-1}get length(){return this.lastIdx-this.firstIdx+1}takeWhile(oe){let q=this.firstIdx;for(;q<this.items.length&&oe(this.items[q]);)q++;const ae=q===this.firstIdx?null:this.items.slice(this.firstIdx,q);return this.firstIdx=q,ae}takeFromEndWhile(oe){let q=this.lastIdx;for(;q>=0&&oe(this.items[q]);)q--;const ae=q===this.lastIdx?null:this.items.slice(q+1,this.lastIdx+1);return this.lastIdx=q,ae}peek(){if(this.length!==0)return this.items[this.firstIdx]}dequeue(){const oe=this.items[this.firstIdx];return this.firstIdx++,oe}takeCount(oe){const q=this.items.slice(this.firstIdx,this.firstIdx+oe);return this.firstIdx+=oe,q}}},15621:function(nt,xe,l){"use strict";l.d(xe,{ok:function(){return C}});function C(d,j){if(!d)throw new Error(j?`Assertion failed (${j})`:"Assertion Failed")}},84180:function(nt,xe,l){"use strict";l.d(xe,{Aq:function(){return ge},CR:function(){return te},J8:function(){return A},PG:function(){return T},Ps:function(){return E},To:function(){return K},Ue:function(){return Z},Vg:function(){return I},Vs:function(){return N},_F:function(){return O},eP:function(){return S},jT:function(){return de},ne:function(){return a},pY:function(){return M},rH:function(){return D},vp:function(){return b},zS:function(){return se},zh:function(){return R}});var C=l(28885),d=l(708),j=l(60218),W=l(94214),L=l(94976),z=function(X,re,ne,U){function oe(q){return q instanceof ne?q:new ne(function(ae){ae(q)})}return new(ne||(ne=Promise))(function(q,ae){function me(ut){try{H(U.next(ut))}catch(Ke){ae(Ke)}}function ke(ut){try{H(U.throw(ut))}catch(Ke){ae(Ke)}}function H(ut){ut.done?q(ut.value):oe(ut.value).then(me,ke)}H((U=U.apply(X,re||[])).next())})},P=function(X){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var re=X[Symbol.asyncIterator],ne;return re?re.call(X):(X=typeof __values=="function"?__values(X):X[Symbol.iterator](),ne={},U("next"),U("throw"),U("return"),ne[Symbol.asyncIterator]=function(){return this},ne);function U(q){ne[q]=X[q]&&function(ae){return new Promise(function(me,ke){ae=X[q](ae),oe(me,ke,ae.done,ae.value)})}}function oe(q,ae,me,ke){Promise.resolve(ke).then(function(H){q({value:H,done:me})},ae)}};function A(X){return!!X&&typeof X.then=="function"}function T(X){const re=new C.A,ne=X(re.token),U=new Promise((oe,q)=>{const ae=re.token.onCancellationRequested(()=>{ae.dispose(),re.dispose(),q(new d.FU)});Promise.resolve(ne).then(me=>{ae.dispose(),re.dispose(),oe(me)},me=>{ae.dispose(),re.dispose(),q(me)})});return new class{cancel(){re.cancel()}then(oe,q){return U.then(oe,q)}catch(oe){return this.then(void 0,oe)}finally(oe){return U.finally(oe)}}}function S(X,re,ne){return new Promise((U,oe)=>{const q=re.onCancellationRequested(()=>{q.dispose(),U(ne)});X.then(U,oe).finally(()=>q.dispose())})}class _{constructor(){this.activePromise=null,this.queuedPromise=null,this.queuedPromiseFactory=null}queue(re){if(this.activePromise){if(this.queuedPromiseFactory=re,!this.queuedPromise){const ne=()=>{this.queuedPromise=null;const U=this.queue(this.queuedPromiseFactory);return this.queuedPromiseFactory=null,U};this.queuedPromise=new Promise(U=>{this.activePromise.then(ne,ne).then(U)})}return new Promise((ne,U)=>{this.queuedPromise.then(ne,U)})}return this.activePromise=re(),new Promise((ne,U)=>{this.activePromise.then(oe=>{this.activePromise=null,ne(oe)},oe=>{this.activePromise=null,U(oe)})})}}const y=(X,re)=>{let ne=!0;const U=setTimeout(()=>{ne=!1,re()},X);return{isTriggered:()=>ne,dispose:()=>{clearTimeout(U),ne=!1}}},u=X=>{let re=!0;return queueMicrotask(()=>{re&&(re=!1,X())}),{isTriggered:()=>re,dispose:()=>{re=!1}}},a=Symbol("MicrotaskDelay");class b{constructor(re){this.defaultDelay=re,this.deferred=null,this.completionPromise=null,this.doResolve=null,this.doReject=null,this.task=null}trigger(re,ne=this.defaultDelay){this.task=re,this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((oe,q)=>{this.doResolve=oe,this.doReject=q}).then(()=>{if(this.completionPromise=null,this.doResolve=null,this.task){const oe=this.task;return this.task=null,oe()}}));const U=()=>{var oe;this.deferred=null,(oe=this.doResolve)===null||oe===void 0||oe.call(this,null)};return this.deferred=ne===a?u(U):y(ne,U),this.completionPromise}isTriggered(){var re;return!!(!((re=this.deferred)===null||re===void 0)&&re.isTriggered())}cancel(){var re;this.cancelTimeout(),this.completionPromise&&((re=this.doReject)===null||re===void 0||re.call(this,new d.FU),this.completionPromise=null)}cancelTimeout(){var re;(re=this.deferred)===null||re===void 0||re.dispose(),this.deferred=null}dispose(){this.cancel()}}class D{constructor(re){this.delayer=new b(re),this.throttler=new _}trigger(re,ne){return this.delayer.trigger(()=>this.throttler.queue(re),ne)}dispose(){this.delayer.dispose()}}function N(X,re){return re?new Promise((ne,U)=>{const oe=setTimeout(()=>{q.dispose(),ne()},X),q=re.onCancellationRequested(()=>{clearTimeout(oe),q.dispose(),U(new d.FU)})}):T(ne=>N(X,ne))}function I(X,re=0){const ne=setTimeout(X,re);return(0,W.OF)(()=>clearTimeout(ne))}function E(X,re=U=>!!U,ne=null){let U=0;const oe=X.length,q=()=>{if(U>=oe)return Promise.resolve(ne);const ae=X[U++];return Promise.resolve(ae()).then(ke=>re(ke)?Promise.resolve(ke):q())};return q()}class O{constructor(re,ne){this._token=-1,typeof re=="function"&&typeof ne=="number"&&this.setIfNotSet(re,ne)}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearTimeout(this._token),this._token=-1)}cancelAndSet(re,ne){this.cancel(),this._token=setTimeout(()=>{this._token=-1,re()},ne)}setIfNotSet(re,ne){this._token===-1&&(this._token=setTimeout(()=>{this._token=-1,re()},ne))}}class R{constructor(){this._token=-1}dispose(){this.cancel()}cancel(){this._token!==-1&&(clearInterval(this._token),this._token=-1)}cancelAndSet(re,ne){this.cancel(),this._token=setInterval(()=>{re()},ne)}}class M{constructor(re,ne){this.timeoutToken=-1,this.runner=re,this.timeout=ne,this.timeoutHandler=this.onTimeout.bind(this)}dispose(){this.cancel(),this.runner=null}cancel(){this.isScheduled()&&(clearTimeout(this.timeoutToken),this.timeoutToken=-1)}schedule(re=this.timeout){this.cancel(),this.timeoutToken=setTimeout(this.timeoutHandler,re)}get delay(){return this.timeout}set delay(re){this.timeout=re}isScheduled(){return this.timeoutToken!==-1}onTimeout(){this.timeoutToken=-1,this.runner&&this.doRun()}doRun(){var re;(re=this.runner)===null||re===void 0||re.call(this)}}let K;(function(){typeof requestIdleCallback!="function"||typeof cancelIdleCallback!="function"?K=X=>{(0,L.fn)(()=>{if(re)return;const ne=Date.now()+15;X(Object.freeze({didTimeout:!0,timeRemaining(){return Math.max(0,ne-Date.now())}}))});let re=!1;return{dispose(){re||(re=!0)}}}:K=(X,re)=>{const ne=requestIdleCallback(X,typeof re=="number"?{timeout:re}:void 0);let U=!1;return{dispose(){U||(U=!0,cancelIdleCallback(ne))}}}})();class Z{constructor(re){this._didRun=!1,this._executor=()=>{try{this._value=re()}catch(ne){this._error=ne}finally{this._didRun=!0}},this._handle=K(()=>this._executor())}dispose(){this._handle.dispose()}get value(){if(this._didRun||(this._handle.dispose(),this._executor()),this._error)throw this._error;return this._value}get isInitialized(){return this._didRun}}class te{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise((re,ne)=>{this.completeCallback=re,this.errorCallback=ne})}get isRejected(){return this.rejected}get isSettled(){return this.rejected||this.resolved}complete(re){return new Promise(ne=>{this.completeCallback(re),this.resolved=!0,ne()})}cancel(){new Promise(re=>{this.errorCallback(new d.FU),this.rejected=!0,re()})}}var de;(function(X){function re(U){return z(this,void 0,void 0,function*(){let oe;const q=yield Promise.all(U.map(ae=>ae.then(me=>me,me=>{oe||(oe=me)})));if(typeof oe!="undefined")throw oe;return q})}X.settled=re;function ne(U){return new Promise((oe,q)=>z(this,void 0,void 0,function*(){try{yield U(oe,q)}catch(ae){q(ae)}}))}X.withAsyncBody=ne})(de||(de={}));class ge{constructor(re){this._state=0,this._results=[],this._error=null,this._onStateChanged=new j.Q5,queueMicrotask(()=>z(this,void 0,void 0,function*(){const ne={emitOne:U=>this.emitOne(U),emitMany:U=>this.emitMany(U),reject:U=>this.reject(U)};try{yield Promise.resolve(re(ne)),this.resolve()}catch(U){this.reject(U)}finally{ne.emitOne=void 0,ne.emitMany=void 0,ne.reject=void 0}}))}static fromArray(re){return new ge(ne=>{ne.emitMany(re)})}static fromPromise(re){return new ge(ne=>z(this,void 0,void 0,function*(){ne.emitMany(yield re)}))}static fromPromises(re){return new ge(ne=>z(this,void 0,void 0,function*(){yield Promise.all(re.map(U=>z(this,void 0,void 0,function*(){return ne.emitOne(yield U)})))}))}static merge(re){return new ge(ne=>z(this,void 0,void 0,function*(){yield Promise.all(re.map(U=>{var oe,q;return z(this,void 0,void 0,function*(){var ae,me;try{for(oe=P(U);q=yield oe.next(),!q.done;){const ke=q.value;ne.emitOne(ke)}}catch(ke){ae={error:ke}}finally{try{q&&!q.done&&(me=oe.return)&&(yield me.call(oe))}finally{if(ae)throw ae.error}}})}))}))}[Symbol.asyncIterator](){let re=0;return{next:()=>z(this,void 0,void 0,function*(){do{if(this._state===2)throw this._error;if(re<this._results.length)return{done:!1,value:this._results[re++]};if(this._state===1)return{done:!0,value:void 0};yield j.ju.toPromise(this._onStateChanged.event)}while(!0)})}}static map(re,ne){return new ge(U=>z(this,void 0,void 0,function*(){var oe,q;try{for(var ae=P(re),me;me=yield ae.next(),!me.done;){const ke=me.value;U.emitOne(ne(ke))}}catch(ke){oe={error:ke}}finally{try{me&&!me.done&&(q=ae.return)&&(yield q.call(ae))}finally{if(oe)throw oe.error}}}))}map(re){return ge.map(this,re)}static filter(re,ne){return new ge(U=>z(this,void 0,void 0,function*(){var oe,q;try{for(var ae=P(re),me;me=yield ae.next(),!me.done;){const ke=me.value;ne(ke)&&U.emitOne(ke)}}catch(ke){oe={error:ke}}finally{try{me&&!me.done&&(q=ae.return)&&(yield q.call(ae))}finally{if(oe)throw oe.error}}}))}filter(re){return ge.filter(this,re)}static coalesce(re){return ge.filter(re,ne=>!!ne)}coalesce(){return ge.coalesce(this)}static toPromise(re){var ne,U,oe,q;return z(this,void 0,void 0,function*(){const ae=[];try{for(ne=P(re);U=yield ne.next(),!U.done;){const me=U.value;ae.push(me)}}catch(me){oe={error:me}}finally{try{U&&!U.done&&(q=ne.return)&&(yield q.call(ne))}finally{if(oe)throw oe.error}}return ae})}toPromise(){return ge.toPromise(this)}emitOne(re){this._state===0&&(this._results.push(re),this._onStateChanged.fire())}emitMany(re){this._state===0&&(this._results=this._results.concat(re),this._onStateChanged.fire())}resolve(){this._state===0&&(this._state=1,this._onStateChanged.fire())}reject(re){this._state===0&&(this._state=2,this._error=re,this._onStateChanged.fire())}}ge.EMPTY=ge.fromArray([]);class le extends ge{constructor(re,ne){super(ne),this._source=re}cancel(){this._source.cancel()}}function se(X){const re=new C.A,ne=X(re.token);return new le(re,U=>z(this,void 0,void 0,function*(){var oe,q;const ae=re.token.onCancellationRequested(()=>{ae.dispose(),re.dispose(),U.reject(new d.FU)});try{try{for(var me=P(ne),ke;ke=yield me.next(),!ke.done;){const H=ke.value;if(re.token.isCancellationRequested)return;U.emitOne(H)}}catch(H){oe={error:H}}finally{try{ke&&!ke.done&&(q=me.return)&&(yield q.call(me))}finally{if(oe)throw oe.error}}ae.dispose(),re.dispose()}catch(H){ae.dispose(),re.dispose(),U.reject(H)}}))}},90357:function(nt,xe,l){"use strict";l.d(xe,{Ag:function(){return P},Cg:function(){return S},KN:function(){return W},Q$:function(){return T},T4:function(){return A},mP:function(){return L},oq:function(){return z}});var C=l(36379).lW;const d=typeof C!="undefined";let j;class W{constructor(y){this.buffer=y,this.byteLength=this.buffer.byteLength}static wrap(y){return d&&!C.isBuffer(y)&&(y=C.from(y.buffer,y.byteOffset,y.byteLength)),new W(y)}toString(){return d?this.buffer.toString():(j||(j=new TextDecoder),j.decode(this.buffer))}}function L(_,y){return _[y+0]<<0>>>0|_[y+1]<<8>>>0}function z(_,y,u){_[u+0]=y&255,y=y>>>8,_[u+1]=y&255}function P(_,y){return _[y]*Math.pow(2,24)+_[y+1]*Math.pow(2,16)+_[y+2]*Math.pow(2,8)+_[y+3]}function A(_,y,u){_[u+3]=y,y=y>>>8,_[u+2]=y,y=y>>>8,_[u+1]=y,y=y>>>8,_[u]=y}function T(_,y){return _[y]}function S(_,y,u){_[u]=y}},71030:function(nt,xe,l){"use strict";l.d(xe,{b:function(){return d},t:function(){return C}});class C{constructor(W){this.fn=W,this.lastCache=void 0,this.lastArgKey=void 0}get(W){const L=JSON.stringify(W);return this.lastArgKey!==L&&(this.lastArgKey=L,this.lastCache=this.fn(W)),this.lastCache}}class d{constructor(W){this.fn=W,this._map=new Map}get cachedValues(){return this._map}get(W){if(this._map.has(W))return this._map.get(W);const L=this.fn(W);return this._map.set(W,L),L}}},28885:function(nt,xe,l){"use strict";l.d(xe,{A:function(){return L},T:function(){return j}});var C=l(60218);const d=Object.freeze(function(z,P){const A=setTimeout(z.bind(P),0);return{dispose(){clearTimeout(A)}}});var j;(function(z){function P(A){return A===z.None||A===z.Cancelled||A instanceof W?!0:!A||typeof A!="object"?!1:typeof A.isCancellationRequested=="boolean"&&typeof A.onCancellationRequested=="function"}z.isCancellationToken=P,z.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:C.ju.None}),z.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:d})})(j||(j={}));class W{constructor(){this._isCancelled=!1,this._emitter=null}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?d:(this._emitter||(this._emitter=new C.Q5),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=null)}}class L{constructor(P){this._token=void 0,this._parentListener=void 0,this._parentListener=P&&P.onCancellationRequested(this.cancel,this)}get token(){return this._token||(this._token=new W),this._token}cancel(){this._token?this._token instanceof W&&this._token.cancel():this._token=j.Cancelled}dispose(P=!1){P&&this.cancel(),this._parentListener&&this._parentListener.dispose(),this._token?this._token instanceof W&&this._token.dispose():this._token=j.None}}},64272:function(nt,xe,l){"use strict";l.d(xe,{JL:function(){return C},dT:function(){return j},lA:function(){return d}});function C(W){return W?W.replace(/\$\((.*?)\)/g,(L,z)=>` ${z} `).trim():""}class d{constructor(L,z,P){this.id=L,this.definition=z,this.description=P,d._allCodicons.push(this)}get classNames(){return"codicon codicon-"+this.id}get classNamesArray(){return["codicon","codicon-"+this.id]}get cssSelector(){return".codicon.codicon-"+this.id}static getAll(){return d._allCodicons}}d._allCodicons=[],d.add=new d("add",{fontCharacter:"\\ea60"}),d.plus=new d("plus",d.add.definition),d.gistNew=new d("gist-new",d.add.definition),d.repoCreate=new d("repo-create",d.add.definition),d.lightbulb=new d("lightbulb",{fontCharacter:"\\ea61"}),d.lightBulb=new d("light-bulb",{fontCharacter:"\\ea61"}),d.repo=new d("repo",{fontCharacter:"\\ea62"}),d.repoDelete=new d("repo-delete",{fontCharacter:"\\ea62"}),d.gistFork=new d("gist-fork",{fontCharacter:"\\ea63"}),d.repoForked=new d("repo-forked",{fontCharacter:"\\ea63"}),d.gitPullRequest=new d("git-pull-request",{fontCharacter:"\\ea64"}),d.gitPullRequestAbandoned=new d("git-pull-request-abandoned",{fontCharacter:"\\ea64"}),d.recordKeys=new d("record-keys",{fontCharacter:"\\ea65"}),d.keyboard=new d("keyboard",{fontCharacter:"\\ea65"}),d.tag=new d("tag",{fontCharacter:"\\ea66"}),d.tagAdd=new d("tag-add",{fontCharacter:"\\ea66"}),d.tagRemove=new d("tag-remove",{fontCharacter:"\\ea66"}),d.person=new d("person",{fontCharacter:"\\ea67"}),d.personFollow=new d("person-follow",{fontCharacter:"\\ea67"}),d.personOutline=new d("person-outline",{fontCharacter:"\\ea67"}),d.personFilled=new d("person-filled",{fontCharacter:"\\ea67"}),d.gitBranch=new d("git-branch",{fontCharacter:"\\ea68"}),d.gitBranchCreate=new d("git-branch-create",{fontCharacter:"\\ea68"}),d.gitBranchDelete=new d("git-branch-delete",{fontCharacter:"\\ea68"}),d.sourceControl=new d("source-control",{fontCharacter:"\\ea68"}),d.mirror=new d("mirror",{fontCharacter:"\\ea69"}),d.mirrorPublic=new d("mirror-public",{fontCharacter:"\\ea69"}),d.star=new d("star",{fontCharacter:"\\ea6a"}),d.starAdd=new d("star-add",{fontCharacter:"\\ea6a"}),d.starDelete=new d("star-delete",{fontCharacter:"\\ea6a"}),d.starEmpty=new d("star-empty",{fontCharacter:"\\ea6a"}),d.comment=new d("comment",{fontCharacter:"\\ea6b"}),d.commentAdd=new d("comment-add",{fontCharacter:"\\ea6b"}),d.alert=new d("alert",{fontCharacter:"\\ea6c"}),d.warning=new d("warning",{fontCharacter:"\\ea6c"}),d.search=new d("search",{fontCharacter:"\\ea6d"}),d.searchSave=new d("search-save",{fontCharacter:"\\ea6d"}),d.logOut=new d("log-out",{fontCharacter:"\\ea6e"}),d.signOut=new d("sign-out",{fontCharacter:"\\ea6e"}),d.logIn=new d("log-in",{fontCharacter:"\\ea6f"}),d.signIn=new d("sign-in",{fontCharacter:"\\ea6f"}),d.eye=new d("eye",{fontCharacter:"\\ea70"}),d.eyeUnwatch=new d("eye-unwatch",{fontCharacter:"\\ea70"}),d.eyeWatch=new d("eye-watch",{fontCharacter:"\\ea70"}),d.circleFilled=new d("circle-filled",{fontCharacter:"\\ea71"}),d.primitiveDot=new d("primitive-dot",{fontCharacter:"\\ea71"}),d.closeDirty=new d("close-dirty",{fontCharacter:"\\ea71"}),d.debugBreakpoint=new d("debug-breakpoint",{fontCharacter:"\\ea71"}),d.debugBreakpointDisabled=new d("debug-breakpoint-disabled",{fontCharacter:"\\ea71"}),d.debugHint=new d("debug-hint",{fontCharacter:"\\ea71"}),d.primitiveSquare=new d("primitive-square",{fontCharacter:"\\ea72"}),d.edit=new d("edit",{fontCharacter:"\\ea73"}),d.pencil=new d("pencil",{fontCharacter:"\\ea73"}),d.info=new d("info",{fontCharacter:"\\ea74"}),d.issueOpened=new d("issue-opened",{fontCharacter:"\\ea74"}),d.gistPrivate=new d("gist-private",{fontCharacter:"\\ea75"}),d.gitForkPrivate=new d("git-fork-private",{fontCharacter:"\\ea75"}),d.lock=new d("lock",{fontCharacter:"\\ea75"}),d.mirrorPrivate=new d("mirror-private",{fontCharacter:"\\ea75"}),d.close=new d("close",{fontCharacter:"\\ea76"}),d.removeClose=new d("remove-close",{fontCharacter:"\\ea76"}),d.x=new d("x",{fontCharacter:"\\ea76"}),d.repoSync=new d("repo-sync",{fontCharacter:"\\ea77"}),d.sync=new d("sync",{fontCharacter:"\\ea77"}),d.clone=new d("clone",{fontCharacter:"\\ea78"}),d.desktopDownload=new d("desktop-download",{fontCharacter:"\\ea78"}),d.beaker=new d("beaker",{fontCharacter:"\\ea79"}),d.microscope=new d("microscope",{fontCharacter:"\\ea79"}),d.vm=new d("vm",{fontCharacter:"\\ea7a"}),d.deviceDesktop=new d("device-desktop",{fontCharacter:"\\ea7a"}),d.file=new d("file",{fontCharacter:"\\ea7b"}),d.fileText=new d("file-text",{fontCharacter:"\\ea7b"}),d.more=new d("more",{fontCharacter:"\\ea7c"}),d.ellipsis=new d("ellipsis",{fontCharacter:"\\ea7c"}),d.kebabHorizontal=new d("kebab-horizontal",{fontCharacter:"\\ea7c"}),d.mailReply=new d("mail-reply",{fontCharacter:"\\ea7d"}),d.reply=new d("reply",{fontCharacter:"\\ea7d"}),d.organization=new d("organization",{fontCharacter:"\\ea7e"}),d.organizationFilled=new d("organization-filled",{fontCharacter:"\\ea7e"}),d.organizationOutline=new d("organization-outline",{fontCharacter:"\\ea7e"}),d.newFile=new d("new-file",{fontCharacter:"\\ea7f"}),d.fileAdd=new d("file-add",{fontCharacter:"\\ea7f"}),d.newFolder=new d("new-folder",{fontCharacter:"\\ea80"}),d.fileDirectoryCreate=new d("file-directory-create",{fontCharacter:"\\ea80"}),d.trash=new d("trash",{fontCharacter:"\\ea81"}),d.trashcan=new d("trashcan",{fontCharacter:"\\ea81"}),d.history=new d("history",{fontCharacter:"\\ea82"}),d.clock=new d("clock",{fontCharacter:"\\ea82"}),d.folder=new d("folder",{fontCharacter:"\\ea83"}),d.fileDirectory=new d("file-directory",{fontCharacter:"\\ea83"}),d.symbolFolder=new d("symbol-folder",{fontCharacter:"\\ea83"}),d.logoGithub=new d("logo-github",{fontCharacter:"\\ea84"}),d.markGithub=new d("mark-github",{fontCharacter:"\\ea84"}),d.github=new d("github",{fontCharacter:"\\ea84"}),d.terminal=new d("terminal",{fontCharacter:"\\ea85"}),d.console=new d("console",{fontCharacter:"\\ea85"}),d.repl=new d("repl",{fontCharacter:"\\ea85"}),d.zap=new d("zap",{fontCharacter:"\\ea86"}),d.symbolEvent=new d("symbol-event",{fontCharacter:"\\ea86"}),d.error=new d("error",{fontCharacter:"\\ea87"}),d.stop=new d("stop",{fontCharacter:"\\ea87"}),d.variable=new d("variable",{fontCharacter:"\\ea88"}),d.symbolVariable=new d("symbol-variable",{fontCharacter:"\\ea88"}),d.array=new d("array",{fontCharacter:"\\ea8a"}),d.symbolArray=new d("symbol-array",{fontCharacter:"\\ea8a"}),d.symbolModule=new d("symbol-module",{fontCharacter:"\\ea8b"}),d.symbolPackage=new d("symbol-package",{fontCharacter:"\\ea8b"}),d.symbolNamespace=new d("symbol-namespace",{fontCharacter:"\\ea8b"}),d.symbolObject=new d("symbol-object",{fontCharacter:"\\ea8b"}),d.symbolMethod=new d("symbol-method",{fontCharacter:"\\ea8c"}),d.symbolFunction=new d("symbol-function",{fontCharacter:"\\ea8c"}),d.symbolConstructor=new d("symbol-constructor",{fontCharacter:"\\ea8c"}),d.symbolBoolean=new d("symbol-boolean",{fontCharacter:"\\ea8f"}),d.symbolNull=new d("symbol-null",{fontCharacter:"\\ea8f"}),d.symbolNumeric=new d("symbol-numeric",{fontCharacter:"\\ea90"}),d.symbolNumber=new d("symbol-number",{fontCharacter:"\\ea90"}),d.symbolStructure=new d("symbol-structure",{fontCharacter:"\\ea91"}),d.symbolStruct=new d("symbol-struct",{fontCharacter:"\\ea91"}),d.symbolParameter=new d("symbol-parameter",{fontCharacter:"\\ea92"}),d.symbolTypeParameter=new d("symbol-type-parameter",{fontCharacter:"\\ea92"}),d.symbolKey=new d("symbol-key",{fontCharacter:"\\ea93"}),d.symbolText=new d("symbol-text",{fontCharacter:"\\ea93"}),d.symbolReference=new d("symbol-reference",{fontCharacter:"\\ea94"}),d.goToFile=new d("go-to-file",{fontCharacter:"\\ea94"}),d.symbolEnum=new d("symbol-enum",{fontCharacter:"\\ea95"}),d.symbolValue=new d("symbol-value",{fontCharacter:"\\ea95"}),d.symbolRuler=new d("symbol-ruler",{fontCharacter:"\\ea96"}),d.symbolUnit=new d("symbol-unit",{fontCharacter:"\\ea96"}),d.activateBreakpoints=new d("activate-breakpoints",{fontCharacter:"\\ea97"}),d.archive=new d("archive",{fontCharacter:"\\ea98"}),d.arrowBoth=new d("arrow-both",{fontCharacter:"\\ea99"}),d.arrowDown=new d("arrow-down",{fontCharacter:"\\ea9a"}),d.arrowLeft=new d("arrow-left",{fontCharacter:"\\ea9b"}),d.arrowRight=new d("arrow-right",{fontCharacter:"\\ea9c"}),d.arrowSmallDown=new d("arrow-small-down",{fontCharacter:"\\ea9d"}),d.arrowSmallLeft=new d("arrow-small-left",{fontCharacter:"\\ea9e"}),d.arrowSmallRight=new d("arrow-small-right",{fontCharacter:"\\ea9f"}),d.arrowSmallUp=new d("arrow-small-up",{fontCharacter:"\\eaa0"}),d.arrowUp=new d("arrow-up",{fontCharacter:"\\eaa1"}),d.bell=new d("bell",{fontCharacter:"\\eaa2"}),d.bold=new d("bold",{fontCharacter:"\\eaa3"}),d.book=new d("book",{fontCharacter:"\\eaa4"}),d.bookmark=new d("bookmark",{fontCharacter:"\\eaa5"}),d.debugBreakpointConditionalUnverified=new d("debug-breakpoint-conditional-unverified",{fontCharacter:"\\eaa6"}),d.debugBreakpointConditional=new d("debug-breakpoint-conditional",{fontCharacter:"\\eaa7"}),d.debugBreakpointConditionalDisabled=new d("debug-breakpoint-conditional-disabled",{fontCharacter:"\\eaa7"}),d.debugBreakpointDataUnverified=new d("debug-breakpoint-data-unverified",{fontCharacter:"\\eaa8"}),d.debugBreakpointData=new d("debug-breakpoint-data",{fontCharacter:"\\eaa9"}),d.debugBreakpointDataDisabled=new d("debug-breakpoint-data-disabled",{fontCharacter:"\\eaa9"}),d.debugBreakpointLogUnverified=new d("debug-breakpoint-log-unverified",{fontCharacter:"\\eaaa"}),d.debugBreakpointLog=new d("debug-breakpoint-log",{fontCharacter:"\\eaab"}),d.debugBreakpointLogDisabled=new d("debug-breakpoint-log-disabled",{fontCharacter:"\\eaab"}),d.briefcase=new d("briefcase",{fontCharacter:"\\eaac"}),d.broadcast=new d("broadcast",{fontCharacter:"\\eaad"}),d.browser=new d("browser",{fontCharacter:"\\eaae"}),d.bug=new d("bug",{fontCharacter:"\\eaaf"}),d.calendar=new d("calendar",{fontCharacter:"\\eab0"}),d.caseSensitive=new d("case-sensitive",{fontCharacter:"\\eab1"}),d.check=new d("check",{fontCharacter:"\\eab2"}),d.checklist=new d("checklist",{fontCharacter:"\\eab3"}),d.chevronDown=new d("chevron-down",{fontCharacter:"\\eab4"}),d.dropDownButton=new d("drop-down-button",d.chevronDown.definition),d.chevronLeft=new d("chevron-left",{fontCharacter:"\\eab5"}),d.chevronRight=new d("chevron-right",{fontCharacter:"\\eab6"}),d.chevronUp=new d("chevron-up",{fontCharacter:"\\eab7"}),d.chromeClose=new d("chrome-close",{fontCharacter:"\\eab8"}),d.chromeMaximize=new d("chrome-maximize",{fontCharacter:"\\eab9"}),d.chromeMinimize=new d("chrome-minimize",{fontCharacter:"\\eaba"}),d.chromeRestore=new d("chrome-restore",{fontCharacter:"\\eabb"}),d.circleOutline=new d("circle-outline",{fontCharacter:"\\eabc"}),d.debugBreakpointUnverified=new d("debug-breakpoint-unverified",{fontCharacter:"\\eabc"}),d.circleSlash=new d("circle-slash",{fontCharacter:"\\eabd"}),d.circuitBoard=new d("circuit-board",{fontCharacter:"\\eabe"}),d.clearAll=new d("clear-all",{fontCharacter:"\\eabf"}),d.clippy=new d("clippy",{fontCharacter:"\\eac0"}),d.closeAll=new d("close-all",{fontCharacter:"\\eac1"}),d.cloudDownload=new d("cloud-download",{fontCharacter:"\\eac2"}),d.cloudUpload=new d("cloud-upload",{fontCharacter:"\\eac3"}),d.code=new d("code",{fontCharacter:"\\eac4"}),d.collapseAll=new d("collapse-all",{fontCharacter:"\\eac5"}),d.colorMode=new d("color-mode",{fontCharacter:"\\eac6"}),d.commentDiscussion=new d("comment-discussion",{fontCharacter:"\\eac7"}),d.compareChanges=new d("compare-changes",{fontCharacter:"\\eafd"}),d.creditCard=new d("credit-card",{fontCharacter:"\\eac9"}),d.dash=new d("dash",{fontCharacter:"\\eacc"}),d.dashboard=new d("dashboard",{fontCharacter:"\\eacd"}),d.database=new d("database",{fontCharacter:"\\eace"}),d.debugContinue=new d("debug-continue",{fontCharacter:"\\eacf"}),d.debugDisconnect=new d("debug-disconnect",{fontCharacter:"\\ead0"}),d.debugPause=new d("debug-pause",{fontCharacter:"\\ead1"}),d.debugRestart=new d("debug-restart",{fontCharacter:"\\ead2"}),d.debugStart=new d("debug-start",{fontCharacter:"\\ead3"}),d.debugStepInto=new d("debug-step-into",{fontCharacter:"\\ead4"}),d.debugStepOut=new d("debug-step-out",{fontCharacter:"\\ead5"}),d.debugStepOver=new d("debug-step-over",{fontCharacter:"\\ead6"}),d.debugStop=new d("debug-stop",{fontCharacter:"\\ead7"}),d.debug=new d("debug",{fontCharacter:"\\ead8"}),d.deviceCameraVideo=new d("device-camera-video",{fontCharacter:"\\ead9"}),d.deviceCamera=new d("device-camera",{fontCharacter:"\\eada"}),d.deviceMobile=new d("device-mobile",{fontCharacter:"\\eadb"}),d.diffAdded=new d("diff-added",{fontCharacter:"\\eadc"}),d.diffIgnored=new d("diff-ignored",{fontCharacter:"\\eadd"}),d.diffModified=new d("diff-modified",{fontCharacter:"\\eade"}),d.diffRemoved=new d("diff-removed",{fontCharacter:"\\eadf"}),d.diffRenamed=new d("diff-renamed",{fontCharacter:"\\eae0"}),d.diff=new d("diff",{fontCharacter:"\\eae1"}),d.discard=new d("discard",{fontCharacter:"\\eae2"}),d.editorLayout=new d("editor-layout",{fontCharacter:"\\eae3"}),d.emptyWindow=new d("empty-window",{fontCharacter:"\\eae4"}),d.exclude=new d("exclude",{fontCharacter:"\\eae5"}),d.extensions=new d("extensions",{fontCharacter:"\\eae6"}),d.eyeClosed=new d("eye-closed",{fontCharacter:"\\eae7"}),d.fileBinary=new d("file-binary",{fontCharacter:"\\eae8"}),d.fileCode=new d("file-code",{fontCharacter:"\\eae9"}),d.fileMedia=new d("file-media",{fontCharacter:"\\eaea"}),d.filePdf=new d("file-pdf",{fontCharacter:"\\eaeb"}),d.fileSubmodule=new d("file-submodule",{fontCharacter:"\\eaec"}),d.fileSymlinkDirectory=new d("file-symlink-directory",{fontCharacter:"\\eaed"}),d.fileSymlinkFile=new d("file-symlink-file",{fontCharacter:"\\eaee"}),d.fileZip=new d("file-zip",{fontCharacter:"\\eaef"}),d.files=new d("files",{fontCharacter:"\\eaf0"}),d.filter=new d("filter",{fontCharacter:"\\eaf1"}),d.flame=new d("flame",{fontCharacter:"\\eaf2"}),d.foldDown=new d("fold-down",{fontCharacter:"\\eaf3"}),d.foldUp=new d("fold-up",{fontCharacter:"\\eaf4"}),d.fold=new d("fold",{fontCharacter:"\\eaf5"}),d.folderActive=new d("folder-active",{fontCharacter:"\\eaf6"}),d.folderOpened=new d("folder-opened",{fontCharacter:"\\eaf7"}),d.gear=new d("gear",{fontCharacter:"\\eaf8"}),d.gift=new d("gift",{fontCharacter:"\\eaf9"}),d.gistSecret=new d("gist-secret",{fontCharacter:"\\eafa"}),d.gist=new d("gist",{fontCharacter:"\\eafb"}),d.gitCommit=new d("git-commit",{fontCharacter:"\\eafc"}),d.gitCompare=new d("git-compare",{fontCharacter:"\\eafd"}),d.gitMerge=new d("git-merge",{fontCharacter:"\\eafe"}),d.githubAction=new d("github-action",{fontCharacter:"\\eaff"}),d.githubAlt=new d("github-alt",{fontCharacter:"\\eb00"}),d.globe=new d("globe",{fontCharacter:"\\eb01"}),d.grabber=new d("grabber",{fontCharacter:"\\eb02"}),d.graph=new d("graph",{fontCharacter:"\\eb03"}),d.gripper=new d("gripper",{fontCharacter:"\\eb04"}),d.heart=new d("heart",{fontCharacter:"\\eb05"}),d.home=new d("home",{fontCharacter:"\\eb06"}),d.horizontalRule=new d("horizontal-rule",{fontCharacter:"\\eb07"}),d.hubot=new d("hubot",{fontCharacter:"\\eb08"}),d.inbox=new d("inbox",{fontCharacter:"\\eb09"}),d.issueClosed=new d("issue-closed",{fontCharacter:"\\eba4"}),d.issueReopened=new d("issue-reopened",{fontCharacter:"\\eb0b"}),d.issues=new d("issues",{fontCharacter:"\\eb0c"}),d.italic=new d("italic",{fontCharacter:"\\eb0d"}),d.jersey=new d("jersey",{fontCharacter:"\\eb0e"}),d.json=new d("json",{fontCharacter:"\\eb0f"}),d.kebabVertical=new d("kebab-vertical",{fontCharacter:"\\eb10"}),d.key=new d("key",{fontCharacter:"\\eb11"}),d.law=new d("law",{fontCharacter:"\\eb12"}),d.lightbulbAutofix=new d("lightbulb-autofix",{fontCharacter:"\\eb13"}),d.linkExternal=new d("link-external",{fontCharacter:"\\eb14"}),d.link=new d("link",{fontCharacter:"\\eb15"}),d.listOrdered=new d("list-ordered",{fontCharacter:"\\eb16"}),d.listUnordered=new d("list-unordered",{fontCharacter:"\\eb17"}),d.liveShare=new d("live-share",{fontCharacter:"\\eb18"}),d.loading=new d("loading",{fontCharacter:"\\eb19"}),d.location=new d("location",{fontCharacter:"\\eb1a"}),d.mailRead=new d("mail-read",{fontCharacter:"\\eb1b"}),d.mail=new d("mail",{fontCharacter:"\\eb1c"}),d.markdown=new d("markdown",{fontCharacter:"\\eb1d"}),d.megaphone=new d("megaphone",{fontCharacter:"\\eb1e"}),d.mention=new d("mention",{fontCharacter:"\\eb1f"}),d.milestone=new d("milestone",{fontCharacter:"\\eb20"}),d.mortarBoard=new d("mortar-board",{fontCharacter:"\\eb21"}),d.move=new d("move",{fontCharacter:"\\eb22"}),d.multipleWindows=new d("multiple-windows",{fontCharacter:"\\eb23"}),d.mute=new d("mute",{fontCharacter:"\\eb24"}),d.noNewline=new d("no-newline",{fontCharacter:"\\eb25"}),d.note=new d("note",{fontCharacter:"\\eb26"}),d.octoface=new d("octoface",{fontCharacter:"\\eb27"}),d.openPreview=new d("open-preview",{fontCharacter:"\\eb28"}),d.package_=new d("package",{fontCharacter:"\\eb29"}),d.paintcan=new d("paintcan",{fontCharacter:"\\eb2a"}),d.pin=new d("pin",{fontCharacter:"\\eb2b"}),d.play=new d("play",{fontCharacter:"\\eb2c"}),d.run=new d("run",{fontCharacter:"\\eb2c"}),d.plug=new d("plug",{fontCharacter:"\\eb2d"}),d.preserveCase=new d("preserve-case",{fontCharacter:"\\eb2e"}),d.preview=new d("preview",{fontCharacter:"\\eb2f"}),d.project=new d("project",{fontCharacter:"\\eb30"}),d.pulse=new d("pulse",{fontCharacter:"\\eb31"}),d.question=new d("question",{fontCharacter:"\\eb32"}),d.quote=new d("quote",{fontCharacter:"\\eb33"}),d.radioTower=new d("radio-tower",{fontCharacter:"\\eb34"}),d.reactions=new d("reactions",{fontCharacter:"\\eb35"}),d.references=new d("references",{fontCharacter:"\\eb36"}),d.refresh=new d("refresh",{fontCharacter:"\\eb37"}),d.regex=new d("regex",{fontCharacter:"\\eb38"}),d.remoteExplorer=new d("remote-explorer",{fontCharacter:"\\eb39"}),d.remote=new d("remote",{fontCharacter:"\\eb3a"}),d.remove=new d("remove",{fontCharacter:"\\eb3b"}),d.replaceAll=new d("replace-all",{fontCharacter:"\\eb3c"}),d.replace=new d("replace",{fontCharacter:"\\eb3d"}),d.repoClone=new d("repo-clone",{fontCharacter:"\\eb3e"}),d.repoForcePush=new d("repo-force-push",{fontCharacter:"\\eb3f"}),d.repoPull=new d("repo-pull",{fontCharacter:"\\eb40"}),d.repoPush=new d("repo-push",{fontCharacter:"\\eb41"}),d.report=new d("report",{fontCharacter:"\\eb42"}),d.requestChanges=new d("request-changes",{fontCharacter:"\\eb43"}),d.rocket=new d("rocket",{fontCharacter:"\\eb44"}),d.rootFolderOpened=new d("root-folder-opened",{fontCharacter:"\\eb45"}),d.rootFolder=new d("root-folder",{fontCharacter:"\\eb46"}),d.rss=new d("rss",{fontCharacter:"\\eb47"}),d.ruby=new d("ruby",{fontCharacter:"\\eb48"}),d.saveAll=new d("save-all",{fontCharacter:"\\eb49"}),d.saveAs=new d("save-as",{fontCharacter:"\\eb4a"}),d.save=new d("save",{fontCharacter:"\\eb4b"}),d.screenFull=new d("screen-full",{fontCharacter:"\\eb4c"}),d.screenNormal=new d("screen-normal",{fontCharacter:"\\eb4d"}),d.searchStop=new d("search-stop",{fontCharacter:"\\eb4e"}),d.server=new d("server",{fontCharacter:"\\eb50"}),d.settingsGear=new d("settings-gear",{fontCharacter:"\\eb51"}),d.settings=new d("settings",{fontCharacter:"\\eb52"}),d.shield=new d("shield",{fontCharacter:"\\eb53"}),d.smiley=new d("smiley",{fontCharacter:"\\eb54"}),d.sortPrecedence=new d("sort-precedence",{fontCharacter:"\\eb55"}),d.splitHorizontal=new d("split-horizontal",{fontCharacter:"\\eb56"}),d.splitVertical=new d("split-vertical",{fontCharacter:"\\eb57"}),d.squirrel=new d("squirrel",{fontCharacter:"\\eb58"}),d.starFull=new d("star-full",{fontCharacter:"\\eb59"}),d.starHalf=new d("star-half",{fontCharacter:"\\eb5a"}),d.symbolClass=new d("symbol-class",{fontCharacter:"\\eb5b"}),d.symbolColor=new d("symbol-color",{fontCharacter:"\\eb5c"}),d.symbolCustomColor=new d("symbol-customcolor",{fontCharacter:"\\eb5c"}),d.symbolConstant=new d("symbol-constant",{fontCharacter:"\\eb5d"}),d.symbolEnumMember=new d("symbol-enum-member",{fontCharacter:"\\eb5e"}),d.symbolField=new d("symbol-field",{fontCharacter:"\\eb5f"}),d.symbolFile=new d("symbol-file",{fontCharacter:"\\eb60"}),d.symbolInterface=new d("symbol-interface",{fontCharacter:"\\eb61"}),d.symbolKeyword=new d("symbol-keyword",{fontCharacter:"\\eb62"}),d.symbolMisc=new d("symbol-misc",{fontCharacter:"\\eb63"}),d.symbolOperator=new d("symbol-operator",{fontCharacter:"\\eb64"}),d.symbolProperty=new d("symbol-property",{fontCharacter:"\\eb65"}),d.wrench=new d("wrench",{fontCharacter:"\\eb65"}),d.wrenchSubaction=new d("wrench-subaction",{fontCharacter:"\\eb65"}),d.symbolSnippet=new d("symbol-snippet",{fontCharacter:"\\eb66"}),d.tasklist=new d("tasklist",{fontCharacter:"\\eb67"}),d.telescope=new d("telescope",{fontCharacter:"\\eb68"}),d.textSize=new d("text-size",{fontCharacter:"\\eb69"}),d.threeBars=new d("three-bars",{fontCharacter:"\\eb6a"}),d.thumbsdown=new d("thumbsdown",{fontCharacter:"\\eb6b"}),d.thumbsup=new d("thumbsup",{fontCharacter:"\\eb6c"}),d.tools=new d("tools",{fontCharacter:"\\eb6d"}),d.triangleDown=new d("triangle-down",{fontCharacter:"\\eb6e"}),d.triangleLeft=new d("triangle-left",{fontCharacter:"\\eb6f"}),d.triangleRight=new d("triangle-right",{fontCharacter:"\\eb70"}),d.triangleUp=new d("triangle-up",{fontCharacter:"\\eb71"}),d.twitter=new d("twitter",{fontCharacter:"\\eb72"}),d.unfold=new d("unfold",{fontCharacter:"\\eb73"}),d.unlock=new d("unlock",{fontCharacter:"\\eb74"}),d.unmute=new d("unmute",{fontCharacter:"\\eb75"}),d.unverified=new d("unverified",{fontCharacter:"\\eb76"}),d.verified=new d("verified",{fontCharacter:"\\eb77"}),d.versions=new d("versions",{fontCharacter:"\\eb78"}),d.vmActive=new d("vm-active",{fontCharacter:"\\eb79"}),d.vmOutline=new d("vm-outline",{fontCharacter:"\\eb7a"}),d.vmRunning=new d("vm-running",{fontCharacter:"\\eb7b"}),d.watch=new d("watch",{fontCharacter:"\\eb7c"}),d.whitespace=new d("whitespace",{fontCharacter:"\\eb7d"}),d.wholeWord=new d("whole-word",{fontCharacter:"\\eb7e"}),d.window=new d("window",{fontCharacter:"\\eb7f"}),d.wordWrap=new d("word-wrap",{fontCharacter:"\\eb80"}),d.zoomIn=new d("zoom-in",{fontCharacter:"\\eb81"}),d.zoomOut=new d("zoom-out",{fontCharacter:"\\eb82"}),d.listFilter=new d("list-filter",{fontCharacter:"\\eb83"}),d.listFlat=new d("list-flat",{fontCharacter:"\\eb84"}),d.listSelection=new d("list-selection",{fontCharacter:"\\eb85"}),d.selection=new d("selection",{fontCharacter:"\\eb85"}),d.listTree=new d("list-tree",{fontCharacter:"\\eb86"}),d.debugBreakpointFunctionUnverified=new d("debug-breakpoint-function-unverified",{fontCharacter:"\\eb87"}),d.debugBreakpointFunction=new d("debug-breakpoint-function",{fontCharacter:"\\eb88"}),d.debugBreakpointFunctionDisabled=new d("debug-breakpoint-function-disabled",{fontCharacter:"\\eb88"}),d.debugStackframeActive=new d("debug-stackframe-active",{fontCharacter:"\\eb89"}),d.circleSmallFilled=new d("circle-small-filled",{fontCharacter:"\\eb8a"}),d.debugStackframeDot=new d("debug-stackframe-dot",d.circleSmallFilled.definition),d.debugStackframe=new d("debug-stackframe",{fontCharacter:"\\eb8b"}),d.debugStackframeFocused=new d("debug-stackframe-focused",{fontCharacter:"\\eb8b"}),d.debugBreakpointUnsupported=new d("debug-breakpoint-unsupported",{fontCharacter:"\\eb8c"}),d.symbolString=new d("symbol-string",{fontCharacter:"\\eb8d"}),d.debugReverseContinue=new d("debug-reverse-continue",{fontCharacter:"\\eb8e"}),d.debugStepBack=new d("debug-step-back",{fontCharacter:"\\eb8f"}),d.debugRestartFrame=new d("debug-restart-frame",{fontCharacter:"\\eb90"}),d.callIncoming=new d("call-incoming",{fontCharacter:"\\eb92"}),d.callOutgoing=new d("call-outgoing",{fontCharacter:"\\eb93"}),d.menu=new d("menu",{fontCharacter:"\\eb94"}),d.expandAll=new d("expand-all",{fontCharacter:"\\eb95"}),d.feedback=new d("feedback",{fontCharacter:"\\eb96"}),d.groupByRefType=new d("group-by-ref-type",{fontCharacter:"\\eb97"}),d.ungroupByRefType=new d("ungroup-by-ref-type",{fontCharacter:"\\eb98"}),d.account=new d("account",{fontCharacter:"\\eb99"}),d.bellDot=new d("bell-dot",{fontCharacter:"\\eb9a"}),d.debugConsole=new d("debug-console",{fontCharacter:"\\eb9b"}),d.library=new d("library",{fontCharacter:"\\eb9c"}),d.output=new d("output",{fontCharacter:"\\eb9d"}),d.runAll=new d("run-all",{fontCharacter:"\\eb9e"}),d.syncIgnored=new d("sync-ignored",{fontCharacter:"\\eb9f"}),d.pinned=new d("pinned",{fontCharacter:"\\eba0"}),d.githubInverted=new d("github-inverted",{fontCharacter:"\\eba1"}),d.debugAlt=new d("debug-alt",{fontCharacter:"\\eb91"}),d.serverProcess=new d("server-process",{fontCharacter:"\\eba2"}),d.serverEnvironment=new d("server-environment",{fontCharacter:"\\eba3"}),d.pass=new d("pass",{fontCharacter:"\\eba4"}),d.stopCircle=new d("stop-circle",{fontCharacter:"\\eba5"}),d.playCircle=new d("play-circle",{fontCharacter:"\\eba6"}),d.record=new d("record",{fontCharacter:"\\eba7"}),d.debugAltSmall=new d("debug-alt-small",{fontCharacter:"\\eba8"}),d.vmConnect=new d("vm-connect",{fontCharacter:"\\eba9"}),d.cloud=new d("cloud",{fontCharacter:"\\ebaa"}),d.merge=new d("merge",{fontCharacter:"\\ebab"}),d.exportIcon=new d("export",{fontCharacter:"\\ebac"}),d.graphLeft=new d("graph-left",{fontCharacter:"\\ebad"}),d.magnet=new d("magnet",{fontCharacter:"\\ebae"}),d.notebook=new d("notebook",{fontCharacter:"\\ebaf"}),d.redo=new d("redo",{fontCharacter:"\\ebb0"}),d.checkAll=new d("check-all",{fontCharacter:"\\ebb1"}),d.pinnedDirty=new d("pinned-dirty",{fontCharacter:"\\ebb2"}),d.passFilled=new d("pass-filled",{fontCharacter:"\\ebb3"}),d.circleLargeFilled=new d("circle-large-filled",{fontCharacter:"\\ebb4"}),d.circleLargeOutline=new d("circle-large-outline",{fontCharacter:"\\ebb5"}),d.combine=new d("combine",{fontCharacter:"\\ebb6"}),d.gather=new d("gather",{fontCharacter:"\\ebb6"}),d.table=new d("table",{fontCharacter:"\\ebb7"}),d.variableGroup=new d("variable-group",{fontCharacter:"\\ebb8"}),d.typeHierarchy=new d("type-hierarchy",{fontCharacter:"\\ebb9"}),d.typeHierarchySub=new d("type-hierarchy-sub",{fontCharacter:"\\ebba"}),d.typeHierarchySuper=new d("type-hierarchy-super",{fontCharacter:"\\ebbb"}),d.gitPullRequestCreate=new d("git-pull-request-create",{fontCharacter:"\\ebbc"}),d.runAbove=new d("run-above",{fontCharacter:"\\ebbd"}),d.runBelow=new d("run-below",{fontCharacter:"\\ebbe"}),d.notebookTemplate=new d("notebook-template",{fontCharacter:"\\ebbf"}),d.debugRerun=new d("debug-rerun",{fontCharacter:"\\ebc0"}),d.workspaceTrusted=new d("workspace-trusted",{fontCharacter:"\\ebc1"}),d.workspaceUntrusted=new d("workspace-untrusted",{fontCharacter:"\\ebc2"}),d.workspaceUnspecified=new d("workspace-unspecified",{fontCharacter:"\\ebc3"}),d.terminalCmd=new d("terminal-cmd",{fontCharacter:"\\ebc4"}),d.terminalDebian=new d("terminal-debian",{fontCharacter:"\\ebc5"}),d.terminalLinux=new d("terminal-linux",{fontCharacter:"\\ebc6"}),d.terminalPowershell=new d("terminal-powershell",{fontCharacter:"\\ebc7"}),d.terminalTmux=new d("terminal-tmux",{fontCharacter:"\\ebc8"}),d.terminalUbuntu=new d("terminal-ubuntu",{fontCharacter:"\\ebc9"}),d.terminalBash=new d("terminal-bash",{fontCharacter:"\\ebca"}),d.arrowSwap=new d("arrow-swap",{fontCharacter:"\\ebcb"}),d.copy=new d("copy",{fontCharacter:"\\ebcc"}),d.personAdd=new d("person-add",{fontCharacter:"\\ebcd"}),d.filterFilled=new d("filter-filled",{fontCharacter:"\\ebce"}),d.wand=new d("wand",{fontCharacter:"\\ebcf"}),d.debugLineByLine=new d("debug-line-by-line",{fontCharacter:"\\ebd0"}),d.inspect=new d("inspect",{fontCharacter:"\\ebd1"}),d.layers=new d("layers",{fontCharacter:"\\ebd2"}),d.layersDot=new d("layers-dot",{fontCharacter:"\\ebd3"}),d.layersActive=new d("layers-active",{fontCharacter:"\\ebd4"}),d.compass=new d("compass",{fontCharacter:"\\ebd5"}),d.compassDot=new d("compass-dot",{fontCharacter:"\\ebd6"}),d.compassActive=new d("compass-active",{fontCharacter:"\\ebd7"}),d.azure=new d("azure",{fontCharacter:"\\ebd8"}),d.issueDraft=new d("issue-draft",{fontCharacter:"\\ebd9"}),d.gitPullRequestClosed=new d("git-pull-request-closed",{fontCharacter:"\\ebda"}),d.gitPullRequestDraft=new d("git-pull-request-draft",{fontCharacter:"\\ebdb"}),d.debugAll=new d("debug-all",{fontCharacter:"\\ebdc"}),d.debugCoverage=new d("debug-coverage",{fontCharacter:"\\ebdd"}),d.runErrors=new d("run-errors",{fontCharacter:"\\ebde"}),d.folderLibrary=new d("folder-library",{fontCharacter:"\\ebdf"}),d.debugContinueSmall=new d("debug-continue-small",{fontCharacter:"\\ebe0"}),d.beakerStop=new d("beaker-stop",{fontCharacter:"\\ebe1"}),d.graphLine=new d("graph-line",{fontCharacter:"\\ebe2"}),d.graphScatter=new d("graph-scatter",{fontCharacter:"\\ebe3"}),d.pieChart=new d("pie-chart",{fontCharacter:"\\ebe4"}),d.bracket=new d("bracket",d.json.definition),d.bracketDot=new d("bracket-dot",{fontCharacter:"\\ebe5"}),d.bracketError=new d("bracket-error",{fontCharacter:"\\ebe6"}),d.lockSmall=new d("lock-small",{fontCharacter:"\\ebe7"}),d.azureDevops=new d("azure-devops",{fontCharacter:"\\ebe8"}),d.verifiedFilled=new d("verified-filled",{fontCharacter:"\\ebe9"}),d.newLine=new d("newline",{fontCharacter:"\\ebea"}),d.layout=new d("layout",{fontCharacter:"\\ebeb"}),d.layoutActivitybarLeft=new d("layout-activitybar-left",{fontCharacter:"\\ebec"}),d.layoutActivitybarRight=new d("layout-activitybar-right",{fontCharacter:"\\ebed"}),d.layoutPanelLeft=new d("layout-panel-left",{fontCharacter:"\\ebee"}),d.layoutPanelCenter=new d("layout-panel-center",{fontCharacter:"\\ebef"}),d.layoutPanelJustify=new d("layout-panel-justify",{fontCharacter:"\\ebf0"}),d.layoutPanelRight=new d("layout-panel-right",{fontCharacter:"\\ebf1"}),d.layoutPanel=new d("layout-panel",{fontCharacter:"\\ebf2"}),d.layoutSidebarLeft=new d("layout-sidebar-left",{fontCharacter:"\\ebf3"}),d.layoutSidebarRight=new d("layout-sidebar-right",{fontCharacter:"\\ebf4"}),d.layoutStatusbar=new d("layout-statusbar",{fontCharacter:"\\ebf5"}),d.layoutMenubar=new d("layout-menubar",{fontCharacter:"\\ebf6"}),d.layoutCentered=new d("layout-centered",{fontCharacter:"\\ebf7"}),d.layoutSidebarRightOff=new d("layout-sidebar-right-off",{fontCharacter:"\\ec00"}),d.layoutPanelOff=new d("layout-panel-off",{fontCharacter:"\\ec01"}),d.layoutSidebarLeftOff=new d("layout-sidebar-left-off",{fontCharacter:"\\ec02"}),d.target=new d("target",{fontCharacter:"\\ebf8"}),d.indent=new d("indent",{fontCharacter:"\\ebf9"}),d.recordSmall=new d("record-small",{fontCharacter:"\\ebfa"}),d.errorSmall=new d("error-small",{fontCharacter:"\\ebfb"}),d.arrowCircleDown=new d("arrow-circle-down",{fontCharacter:"\\ebfc"}),d.arrowCircleLeft=new d("arrow-circle-left",{fontCharacter:"\\ebfd"}),d.arrowCircleRight=new d("arrow-circle-right",{fontCharacter:"\\ebfe"}),d.arrowCircleUp=new d("arrow-circle-up",{fontCharacter:"\\ebff"}),d.heartFilled=new d("heart-filled",{fontCharacter:"\\ec04"}),d.map=new d("map",{fontCharacter:"\\ec05"}),d.mapFilled=new d("map-filled",{fontCharacter:"\\ec06"}),d.circleSmall=new d("circle-small",{fontCharacter:"\\ec07"}),d.bellSlash=new d("bell-slash",{fontCharacter:"\\ec08"}),d.bellSlashDot=new d("bell-slash-dot",{fontCharacter:"\\ec09"}),d.commentUnresolved=new d("comment-unresolved",{fontCharacter:"\\ec0a"}),d.gitPullRequestGoToChanges=new d("git-pull-request-go-to-changes",{fontCharacter:"\\ec0b"}),d.gitPullRequestNewChanges=new d("git-pull-request-new-changes",{fontCharacter:"\\ec0c"}),d.dialogError=new d("dialog-error",d.error.definition),d.dialogWarning=new d("dialog-warning",d.warning.definition),d.dialogInfo=new d("dialog-info",d.info.definition),d.dialogClose=new d("dialog-close",d.close.definition),d.treeItemExpanded=new d("tree-item-expanded",d.chevronDown.definition),d.treeFilterOnTypeOn=new d("tree-filter-on-type-on",d.listFilter.definition),d.treeFilterOnTypeOff=new d("tree-filter-on-type-off",d.listSelection.definition),d.treeFilterClear=new d("tree-filter-clear",d.close.definition),d.treeItemLoading=new d("tree-item-loading",d.loading.definition),d.menuSelection=new d("menu-selection",d.check.definition),d.menuSubmenu=new d("menu-submenu",d.chevronRight.definition),d.menuBarMore=new d("menubar-more",d.more.definition),d.scrollbarButtonLeft=new d("scrollbar-button-left",d.triangleLeft.definition),d.scrollbarButtonRight=new d("scrollbar-button-right",d.triangleRight.definition),d.scrollbarButtonUp=new d("scrollbar-button-up",d.triangleUp.definition),d.scrollbarButtonDown=new d("scrollbar-button-down",d.triangleDown.definition),d.toolBarMore=new d("toolbar-more",d.more.definition),d.quickInputBack=new d("quick-input-back",d.arrowLeft.definition);var j;(function(W){W.iconNameSegment="[A-Za-z0-9]+",W.iconNameExpression="[A-Za-z0-9-]+",W.iconModifierExpression="~[A-Za-z]+",W.iconNameCharacter="[A-Za-z0-9~-]";const L=new RegExp(`^(${W.iconNameExpression})(${W.iconModifierExpression})?$`);function z(T){if(T instanceof d)return["codicon","codicon-"+T.id];const S=L.exec(T.id);if(!S)return z(d.error);const[,_,y]=S,u=["codicon","codicon-"+_];return y&&u.push("codicon-modifier-"+y.substr(1)),u}W.asClassNameArray=z;function P(T){return z(T).join(" ")}W.asClassName=P;function A(T){return"."+z(T).join(".")}W.asCSSSelector=A})(j||(j={}))},15304:function(nt,xe,l){"use strict";l.d(xe,{Il:function(){return L},VS:function(){return d},tx:function(){return W}});function C(z,P){const A=Math.pow(10,P);return Math.round(z*A)/A}class d{constructor(P,A,T,S=1){this._rgbaBrand=void 0,this.r=Math.min(255,Math.max(0,P))|0,this.g=Math.min(255,Math.max(0,A))|0,this.b=Math.min(255,Math.max(0,T))|0,this.a=C(Math.max(Math.min(1,S),0),3)}static equals(P,A){return P.r===A.r&&P.g===A.g&&P.b===A.b&&P.a===A.a}}class j{constructor(P,A,T,S){this._hslaBrand=void 0,this.h=Math.max(Math.min(360,P),0)|0,this.s=C(Math.max(Math.min(1,A),0),3),this.l=C(Math.max(Math.min(1,T),0),3),this.a=C(Math.max(Math.min(1,S),0),3)}static equals(P,A){return P.h===A.h&&P.s===A.s&&P.l===A.l&&P.a===A.a}static fromRGBA(P){const A=P.r/255,T=P.g/255,S=P.b/255,_=P.a,y=Math.max(A,T,S),u=Math.min(A,T,S);let a=0,b=0;const D=(u+y)/2,N=y-u;if(N>0){switch(b=Math.min(D<=.5?N/(2*D):N/(2-2*D),1),y){case A:a=(T-S)/N+(T<S?6:0);break;case T:a=(S-A)/N+2;break;case S:a=(A-T)/N+4;break}a*=60,a=Math.round(a)}return new j(a,b,D,_)}static _hue2rgb(P,A,T){return T<0&&(T+=1),T>1&&(T-=1),T<1/6?P+(A-P)*6*T:T<1/2?A:T<2/3?P+(A-P)*(2/3-T)*6:P}static toRGBA(P){const A=P.h/360,{s:T,l:S,a:_}=P;let y,u,a;if(T===0)y=u=a=S;else{const b=S<.5?S*(1+T):S+T-S*T,D=2*S-b;y=j._hue2rgb(D,b,A+1/3),u=j._hue2rgb(D,b,A),a=j._hue2rgb(D,b,A-1/3)}return new d(Math.round(y*255),Math.round(u*255),Math.round(a*255),_)}}class W{constructor(P,A,T,S){this._hsvaBrand=void 0,this.h=Math.max(Math.min(360,P),0)|0,this.s=C(Math.max(Math.min(1,A),0),3),this.v=C(Math.max(Math.min(1,T),0),3),this.a=C(Math.max(Math.min(1,S),0),3)}static equals(P,A){return P.h===A.h&&P.s===A.s&&P.v===A.v&&P.a===A.a}static fromRGBA(P){const A=P.r/255,T=P.g/255,S=P.b/255,_=Math.max(A,T,S),y=Math.min(A,T,S),u=_-y,a=_===0?0:u/_;let b;return u===0?b=0:_===A?b=((T-S)/u%6+6)%6:_===T?b=(S-A)/u+2:b=(A-T)/u+4,new W(Math.round(b*60),a,_,P.a)}static toRGBA(P){const{h:A,s:T,v:S,a:_}=P,y=S*T,u=y*(1-Math.abs(A/60%2-1)),a=S-y;let[b,D,N]=[0,0,0];return A<60?(b=y,D=u):A<120?(b=u,D=y):A<180?(D=y,N=u):A<240?(D=u,N=y):A<300?(b=u,N=y):A<=360&&(b=y,N=u),b=Math.round((b+a)*255),D=Math.round((D+a)*255),N=Math.round((N+a)*255),new d(b,D,N,_)}}class L{constructor(P){if(P)if(P instanceof d)this.rgba=P;else if(P instanceof j)this._hsla=P,this.rgba=j.toRGBA(P);else if(P instanceof W)this._hsva=P,this.rgba=W.toRGBA(P);else throw new Error("Invalid color ctor argument");else throw new Error("Color needs a value")}static fromHex(P){return L.Format.CSS.parseHex(P)||L.red}get hsla(){return this._hsla?this._hsla:j.fromRGBA(this.rgba)}get hsva(){return this._hsva?this._hsva:W.fromRGBA(this.rgba)}equals(P){return!!P&&d.equals(this.rgba,P.rgba)&&j.equals(this.hsla,P.hsla)&&W.equals(this.hsva,P.hsva)}getRelativeLuminance(){const P=L._relativeLuminanceForComponent(this.rgba.r),A=L._relativeLuminanceForComponent(this.rgba.g),T=L._relativeLuminanceForComponent(this.rgba.b),S=.2126*P+.7152*A+.0722*T;return C(S,4)}static _relativeLuminanceForComponent(P){const A=P/255;return A<=.03928?A/12.92:Math.pow((A+.055)/1.055,2.4)}isLighter(){return(this.rgba.r*299+this.rgba.g*587+this.rgba.b*114)/1e3>=128}isLighterThan(P){const A=this.getRelativeLuminance(),T=P.getRelativeLuminance();return A>T}isDarkerThan(P){const A=this.getRelativeLuminance(),T=P.getRelativeLuminance();return A<T}lighten(P){return new L(new j(this.hsla.h,this.hsla.s,this.hsla.l+this.hsla.l*P,this.hsla.a))}darken(P){return new L(new j(this.hsla.h,this.hsla.s,this.hsla.l-this.hsla.l*P,this.hsla.a))}transparent(P){const{r:A,g:T,b:S,a:_}=this.rgba;return new L(new d(A,T,S,_*P))}isTransparent(){return this.rgba.a===0}isOpaque(){return this.rgba.a===1}opposite(){return new L(new d(255-this.rgba.r,255-this.rgba.g,255-this.rgba.b,this.rgba.a))}toString(){return this._toString||(this._toString=L.Format.CSS.format(this)),this._toString}static getLighterColor(P,A,T){if(P.isLighterThan(A))return P;T=T||.5;const S=P.getRelativeLuminance(),_=A.getRelativeLuminance();return T=T*(_-S)/_,P.lighten(T)}static getDarkerColor(P,A,T){if(P.isDarkerThan(A))return P;T=T||.5;const S=P.getRelativeLuminance(),_=A.getRelativeLuminance();return T=T*(S-_)/S,P.darken(T)}}L.white=new L(new d(255,255,255,1)),L.black=new L(new d(0,0,0,1)),L.red=new L(new d(255,0,0,1)),L.blue=new L(new d(0,0,255,1)),L.green=new L(new d(0,255,0,1)),L.cyan=new L(new d(0,255,255,1)),L.lightgrey=new L(new d(211,211,211,1)),L.transparent=new L(new d(0,0,0,0)),function(z){let P;(function(A){let T;(function(S){function _(R){return R.rgba.a===1?`rgb(${R.rgba.r}, ${R.rgba.g}, ${R.rgba.b})`:z.Format.CSS.formatRGBA(R)}S.formatRGB=_;function y(R){return`rgba(${R.rgba.r}, ${R.rgba.g}, ${R.rgba.b}, ${+R.rgba.a.toFixed(2)})`}S.formatRGBA=y;function u(R){return R.hsla.a===1?`hsl(${R.hsla.h}, ${(R.hsla.s*100).toFixed(2)}%, ${(R.hsla.l*100).toFixed(2)}%)`:z.Format.CSS.formatHSLA(R)}S.formatHSL=u;function a(R){return`hsla(${R.hsla.h}, ${(R.hsla.s*100).toFixed(2)}%, ${(R.hsla.l*100).toFixed(2)}%, ${R.hsla.a.toFixed(2)})`}S.formatHSLA=a;function b(R){const M=R.toString(16);return M.length!==2?"0"+M:M}function D(R){return`#${b(R.rgba.r)}${b(R.rgba.g)}${b(R.rgba.b)}`}S.formatHex=D;function N(R,M=!1){return M&&R.rgba.a===1?z.Format.CSS.formatHex(R):`#${b(R.rgba.r)}${b(R.rgba.g)}${b(R.rgba.b)}${b(Math.round(R.rgba.a*255))}`}S.formatHexA=N;function I(R){return R.isOpaque()?z.Format.CSS.formatHex(R):z.Format.CSS.formatRGBA(R)}S.format=I;function E(R){const M=R.length;if(M===0||R.charCodeAt(0)!==35)return null;if(M===7){const K=16*O(R.charCodeAt(1))+O(R.charCodeAt(2)),Z=16*O(R.charCodeAt(3))+O(R.charCodeAt(4)),te=16*O(R.charCodeAt(5))+O(R.charCodeAt(6));return new z(new d(K,Z,te,1))}if(M===9){const K=16*O(R.charCodeAt(1))+O(R.charCodeAt(2)),Z=16*O(R.charCodeAt(3))+O(R.charCodeAt(4)),te=16*O(R.charCodeAt(5))+O(R.charCodeAt(6)),de=16*O(R.charCodeAt(7))+O(R.charCodeAt(8));return new z(new d(K,Z,te,de/255))}if(M===4){const K=O(R.charCodeAt(1)),Z=O(R.charCodeAt(2)),te=O(R.charCodeAt(3));return new z(new d(16*K+K,16*Z+Z,16*te+te))}if(M===5){const K=O(R.charCodeAt(1)),Z=O(R.charCodeAt(2)),te=O(R.charCodeAt(3)),de=O(R.charCodeAt(4));return new z(new d(16*K+K,16*Z+Z,16*te+te,(16*de+de)/255))}return null}S.parseHex=E;function O(R){switch(R){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 65:return 10;case 98:return 11;case 66:return 11;case 99:return 12;case 67:return 12;case 100:return 13;case 68:return 13;case 101:return 14;case 69:return 14;case 102:return 15;case 70:return 15}return 0}})(T=A.CSS||(A.CSS={}))})(P=z.Format||(z.Format={}))}(L||(L={}))},86602:function(nt,xe,l){"use strict";l.d(xe,{H:function(){return C}});function C(d,j,W){let L=null,z=null;if(typeof W.value=="function"?(L="value",z=W.value,z.length!==0&&console.warn("Memoize should only be used in functions with zero parameters")):typeof W.get=="function"&&(L="get",z=W.get),!z)throw new Error("not supported");const P=`$memoize$${j}`;W[L]=function(...A){return this.hasOwnProperty(P)||Object.defineProperty(this,P,{configurable:!1,enumerable:!1,writable:!1,value:z.apply(this,A)}),this[P]}}},32853:function(nt,xe,l){"use strict";l.d(xe,{Hs:function(){return A},a$:function(){return W}});class C{constructor(S,_,y,u){this.originalStart=S,this.originalLength=_,this.modifiedStart=y,this.modifiedLength=u}getOriginalEnd(){return this.originalStart+this.originalLength}getModifiedEnd(){return this.modifiedStart+this.modifiedLength}}var d=l(16746);class j{constructor(S){this.source=S}getElements(){const S=this.source,_=new Int32Array(S.length);for(let y=0,u=S.length;y<u;y++)_[y]=S.charCodeAt(y);return _}}function W(T,S,_){return new A(new j(T),new j(S)).ComputeDiff(_).changes}class L{static Assert(S,_){if(!S)throw new Error(_)}}class z{static Copy(S,_,y,u,a){for(let b=0;b<a;b++)y[u+b]=S[_+b]}static Copy2(S,_,y,u,a){for(let b=0;b<a;b++)y[u+b]=S[_+b]}}class P{constructor(){this.m_changes=[],this.m_originalStart=1073741824,this.m_modifiedStart=1073741824,this.m_originalCount=0,this.m_modifiedCount=0}MarkNextChange(){(this.m_originalCount>0||this.m_modifiedCount>0)&&this.m_changes.push(new C(this.m_originalStart,this.m_originalCount,this.m_modifiedStart,this.m_modifiedCount)),this.m_originalCount=0,this.m_modifiedCount=0,this.m_originalStart=1073741824,this.m_modifiedStart=1073741824}AddOriginalElement(S,_){this.m_originalStart=Math.min(this.m_originalStart,S),this.m_modifiedStart=Math.min(this.m_modifiedStart,_),this.m_originalCount++}AddModifiedElement(S,_){this.m_originalStart=Math.min(this.m_originalStart,S),this.m_modifiedStart=Math.min(this.m_modifiedStart,_),this.m_modifiedCount++}getChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes}getReverseChanges(){return(this.m_originalCount>0||this.m_modifiedCount>0)&&this.MarkNextChange(),this.m_changes.reverse(),this.m_changes}}class A{constructor(S,_,y=null){this.ContinueProcessingPredicate=y,this._originalSequence=S,this._modifiedSequence=_;const[u,a,b]=A._getElements(S),[D,N,I]=A._getElements(_);this._hasStrings=b&&I,this._originalStringElements=u,this._originalElementsOrHash=a,this._modifiedStringElements=D,this._modifiedElementsOrHash=N,this.m_forwardHistory=[],this.m_reverseHistory=[]}static _isStringArray(S){return S.length>0&&typeof S[0]=="string"}static _getElements(S){const _=S.getElements();if(A._isStringArray(_)){const y=new Int32Array(_.length);for(let u=0,a=_.length;u<a;u++)y[u]=(0,d.Cv)(_[u],0);return[_,y,!0]}return _ instanceof Int32Array?[[],_,!1]:[[],new Int32Array(_),!1]}ElementsAreEqual(S,_){return this._originalElementsOrHash[S]!==this._modifiedElementsOrHash[_]?!1:this._hasStrings?this._originalStringElements[S]===this._modifiedStringElements[_]:!0}ElementsAreStrictEqual(S,_){if(!this.ElementsAreEqual(S,_))return!1;const y=A._getStrictElement(this._originalSequence,S),u=A._getStrictElement(this._modifiedSequence,_);return y===u}static _getStrictElement(S,_){return typeof S.getStrictElement=="function"?S.getStrictElement(_):null}OriginalElementsAreEqual(S,_){return this._originalElementsOrHash[S]!==this._originalElementsOrHash[_]?!1:this._hasStrings?this._originalStringElements[S]===this._originalStringElements[_]:!0}ModifiedElementsAreEqual(S,_){return this._modifiedElementsOrHash[S]!==this._modifiedElementsOrHash[_]?!1:this._hasStrings?this._modifiedStringElements[S]===this._modifiedStringElements[_]:!0}ComputeDiff(S){return this._ComputeDiff(0,this._originalElementsOrHash.length-1,0,this._modifiedElementsOrHash.length-1,S)}_ComputeDiff(S,_,y,u,a){const b=[!1];let D=this.ComputeDiffRecursive(S,_,y,u,b);return a&&(D=this.PrettifyChanges(D)),{quitEarly:b[0],changes:D}}ComputeDiffRecursive(S,_,y,u,a){for(a[0]=!1;S<=_&&y<=u&&this.ElementsAreEqual(S,y);)S++,y++;for(;_>=S&&u>=y&&this.ElementsAreEqual(_,u);)_--,u--;if(S>_||y>u){let O;return y<=u?(L.Assert(S===_+1,"originalStart should only be one more than originalEnd"),O=[new C(S,0,y,u-y+1)]):S<=_?(L.Assert(y===u+1,"modifiedStart should only be one more than modifiedEnd"),O=[new C(S,_-S+1,y,0)]):(L.Assert(S===_+1,"originalStart should only be one more than originalEnd"),L.Assert(y===u+1,"modifiedStart should only be one more than modifiedEnd"),O=[]),O}const b=[0],D=[0],N=this.ComputeRecursionPoint(S,_,y,u,b,D,a),I=b[0],E=D[0];if(N!==null)return N;if(!a[0]){const O=this.ComputeDiffRecursive(S,I,y,E,a);let R=[];return a[0]?R=[new C(I+1,_-(I+1)+1,E+1,u-(E+1)+1)]:R=this.ComputeDiffRecursive(I+1,_,E+1,u,a),this.ConcatenateChanges(O,R)}return[new C(S,_-S+1,y,u-y+1)]}WALKTRACE(S,_,y,u,a,b,D,N,I,E,O,R,M,K,Z,te,de,ge){let le=null,se=null,X=new P,re=_,ne=y,U=M[0]-te[0]-u,oe=-1073741824,q=this.m_forwardHistory.length-1;do{const ae=U+S;ae===re||ae<ne&&I[ae-1]<I[ae+1]?(O=I[ae+1],K=O-U-u,O<oe&&X.MarkNextChange(),oe=O,X.AddModifiedElement(O+1,K),U=ae+1-S):(O=I[ae-1]+1,K=O-U-u,O<oe&&X.MarkNextChange(),oe=O-1,X.AddOriginalElement(O,K+1),U=ae-1-S),q>=0&&(I=this.m_forwardHistory[q],S=I[0],re=1,ne=I.length-1)}while(--q>=-1);if(le=X.getReverseChanges(),ge[0]){let ae=M[0]+1,me=te[0]+1;if(le!==null&&le.length>0){const ke=le[le.length-1];ae=Math.max(ae,ke.getOriginalEnd()),me=Math.max(me,ke.getModifiedEnd())}se=[new C(ae,R-ae+1,me,Z-me+1)]}else{X=new P,re=b,ne=D,U=M[0]-te[0]-N,oe=1073741824,q=de?this.m_reverseHistory.length-1:this.m_reverseHistory.length-2;do{const ae=U+a;ae===re||ae<ne&&E[ae-1]>=E[ae+1]?(O=E[ae+1]-1,K=O-U-N,O>oe&&X.MarkNextChange(),oe=O+1,X.AddOriginalElement(O+1,K+1),U=ae+1-a):(O=E[ae-1],K=O-U-N,O>oe&&X.MarkNextChange(),oe=O,X.AddModifiedElement(O+1,K+1),U=ae-1-a),q>=0&&(E=this.m_reverseHistory[q],a=E[0],re=1,ne=E.length-1)}while(--q>=-1);se=X.getChanges()}return this.ConcatenateChanges(le,se)}ComputeRecursionPoint(S,_,y,u,a,b,D){let N=0,I=0,E=0,O=0,R=0,M=0;S--,y--,a[0]=0,b[0]=0,this.m_forwardHistory=[],this.m_reverseHistory=[];const K=_-S+(u-y),Z=K+1,te=new Int32Array(Z),de=new Int32Array(Z),ge=u-y,le=_-S,se=S-y,X=_-u,ne=(le-ge)%2===0;te[ge]=S,de[le]=_,D[0]=!1;for(let U=1;U<=K/2+1;U++){let oe=0,q=0;E=this.ClipDiagonalBound(ge-U,U,ge,Z),O=this.ClipDiagonalBound(ge+U,U,ge,Z);for(let me=E;me<=O;me+=2){me===E||me<O&&te[me-1]<te[me+1]?N=te[me+1]:N=te[me-1]+1,I=N-(me-ge)-se;const ke=N;for(;N<_&&I<u&&this.ElementsAreEqual(N+1,I+1);)N++,I++;if(te[me]=N,N+I>oe+q&&(oe=N,q=I),!ne&&Math.abs(me-le)<=U-1&&N>=de[me])return a[0]=N,b[0]=I,ke<=de[me]&&1447>0&&U<=1447+1?this.WALKTRACE(ge,E,O,se,le,R,M,X,te,de,N,_,a,I,u,b,ne,D):null}const ae=(oe-S+(q-y)-U)/2;if(this.ContinueProcessingPredicate!==null&&!this.ContinueProcessingPredicate(oe,ae))return D[0]=!0,a[0]=oe,b[0]=q,ae>0&&1447>0&&U<=1447+1?this.WALKTRACE(ge,E,O,se,le,R,M,X,te,de,N,_,a,I,u,b,ne,D):(S++,y++,[new C(S,_-S+1,y,u-y+1)]);R=this.ClipDiagonalBound(le-U,U,le,Z),M=this.ClipDiagonalBound(le+U,U,le,Z);for(let me=R;me<=M;me+=2){me===R||me<M&&de[me-1]>=de[me+1]?N=de[me+1]-1:N=de[me-1],I=N-(me-le)-X;const ke=N;for(;N>S&&I>y&&this.ElementsAreEqual(N,I);)N--,I--;if(de[me]=N,ne&&Math.abs(me-ge)<=U&&N<=te[me])return a[0]=N,b[0]=I,ke>=te[me]&&1447>0&&U<=1447+1?this.WALKTRACE(ge,E,O,se,le,R,M,X,te,de,N,_,a,I,u,b,ne,D):null}if(U<=1447){let me=new Int32Array(O-E+2);me[0]=ge-E+1,z.Copy2(te,E,me,1,O-E+1),this.m_forwardHistory.push(me),me=new Int32Array(M-R+2),me[0]=le-R+1,z.Copy2(de,R,me,1,M-R+1),this.m_reverseHistory.push(me)}}return this.WALKTRACE(ge,E,O,se,le,R,M,X,te,de,N,_,a,I,u,b,ne,D)}PrettifyChanges(S){for(let _=0;_<S.length;_++){const y=S[_],u=_<S.length-1?S[_+1].originalStart:this._originalElementsOrHash.length,a=_<S.length-1?S[_+1].modifiedStart:this._modifiedElementsOrHash.length,b=y.originalLength>0,D=y.modifiedLength>0;for(;y.originalStart+y.originalLength<u&&y.modifiedStart+y.modifiedLength<a&&(!b||this.OriginalElementsAreEqual(y.originalStart,y.originalStart+y.originalLength))&&(!D||this.ModifiedElementsAreEqual(y.modifiedStart,y.modifiedStart+y.modifiedLength));){const I=this.ElementsAreStrictEqual(y.originalStart,y.modifiedStart);if(this.ElementsAreStrictEqual(y.originalStart+y.originalLength,y.modifiedStart+y.modifiedLength)&&!I)break;y.originalStart++,y.modifiedStart++}const N=[null];if(_<S.length-1&&this.ChangesOverlap(S[_],S[_+1],N)){S[_]=N[0],S.splice(_+1,1),_--;continue}}for(let _=S.length-1;_>=0;_--){const y=S[_];let u=0,a=0;if(_>0){const O=S[_-1];u=O.originalStart+O.originalLength,a=O.modifiedStart+O.modifiedLength}const b=y.originalLength>0,D=y.modifiedLength>0;let N=0,I=this._boundaryScore(y.originalStart,y.originalLength,y.modifiedStart,y.modifiedLength);for(let O=1;;O++){const R=y.originalStart-O,M=y.modifiedStart-O;if(R<u||M<a||b&&!this.OriginalElementsAreEqual(R,R+y.originalLength)||D&&!this.ModifiedElementsAreEqual(M,M+y.modifiedLength))break;const Z=(R===u&&M===a?5:0)+this._boundaryScore(R,y.originalLength,M,y.modifiedLength);Z>I&&(I=Z,N=O)}y.originalStart-=N,y.modifiedStart-=N;const E=[null];if(_>0&&this.ChangesOverlap(S[_-1],S[_],E)){S[_-1]=E[0],S.splice(_,1),_++;continue}}if(this._hasStrings)for(let _=1,y=S.length;_<y;_++){const u=S[_-1],a=S[_],b=a.originalStart-u.originalStart-u.originalLength,D=u.originalStart,N=a.originalStart+a.originalLength,I=N-D,E=u.modifiedStart,O=a.modifiedStart+a.modifiedLength,R=O-E;if(b<5&&I<20&&R<20){const M=this._findBetterContiguousSequence(D,I,E,R,b);if(M){const[K,Z]=M;(K!==u.originalStart+u.originalLength||Z!==u.modifiedStart+u.modifiedLength)&&(u.originalLength=K-u.originalStart,u.modifiedLength=Z-u.modifiedStart,a.originalStart=K+b,a.modifiedStart=Z+b,a.originalLength=N-a.originalStart,a.modifiedLength=O-a.modifiedStart)}}}return S}_findBetterContiguousSequence(S,_,y,u,a){if(_<a||u<a)return null;const b=S+_-a+1,D=y+u-a+1;let N=0,I=0,E=0;for(let O=S;O<b;O++)for(let R=y;R<D;R++){const M=this._contiguousSequenceScore(O,R,a);M>0&&M>N&&(N=M,I=O,E=R)}return N>0?[I,E]:null}_contiguousSequenceScore(S,_,y){let u=0;for(let a=0;a<y;a++){if(!this.ElementsAreEqual(S+a,_+a))return 0;u+=this._originalStringElements[S+a].length}return u}_OriginalIsBoundary(S){return S<=0||S>=this._originalElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._originalStringElements[S])}_OriginalRegionIsBoundary(S,_){if(this._OriginalIsBoundary(S)||this._OriginalIsBoundary(S-1))return!0;if(_>0){const y=S+_;if(this._OriginalIsBoundary(y-1)||this._OriginalIsBoundary(y))return!0}return!1}_ModifiedIsBoundary(S){return S<=0||S>=this._modifiedElementsOrHash.length-1?!0:this._hasStrings&&/^\s*$/.test(this._modifiedStringElements[S])}_ModifiedRegionIsBoundary(S,_){if(this._ModifiedIsBoundary(S)||this._ModifiedIsBoundary(S-1))return!0;if(_>0){const y=S+_;if(this._ModifiedIsBoundary(y-1)||this._ModifiedIsBoundary(y))return!0}return!1}_boundaryScore(S,_,y,u){const a=this._OriginalRegionIsBoundary(S,_)?1:0,b=this._ModifiedRegionIsBoundary(y,u)?1:0;return a+b}ConcatenateChanges(S,_){const y=[];if(S.length===0||_.length===0)return _.length>0?_:S;if(this.ChangesOverlap(S[S.length-1],_[0],y)){const u=new Array(S.length+_.length-1);return z.Copy(S,0,u,0,S.length-1),u[S.length-1]=y[0],z.Copy(_,1,u,S.length,_.length-1),u}else{const u=new Array(S.length+_.length);return z.Copy(S,0,u,0,S.length),z.Copy(_,0,u,S.length,_.length),u}}ChangesOverlap(S,_,y){if(L.Assert(S.originalStart<=_.originalStart,"Left change is not less than or equal to right change"),L.Assert(S.modifiedStart<=_.modifiedStart,"Left change is not less than or equal to right change"),S.originalStart+S.originalLength>=_.originalStart||S.modifiedStart+S.modifiedLength>=_.modifiedStart){const u=S.originalStart;let a=S.originalLength;const b=S.modifiedStart;let D=S.modifiedLength;return S.originalStart+S.originalLength>=_.originalStart&&(a=_.originalStart+_.originalLength-S.originalStart),S.modifiedStart+S.modifiedLength>=_.modifiedStart&&(D=_.modifiedStart+_.modifiedLength-S.modifiedStart),y[0]=new C(u,a,b,D),!0}else return y[0]=null,!1}ClipDiagonalBound(S,_,y,u){if(S>=0&&S<u)return S;const a=y,b=u-y-1,D=_%2===0;if(S<0){const N=a%2===0;return D===N?0:1}else{const N=b%2===0;return D===N?u-1:u-2}}}},708:function(nt,xe,l){"use strict";l.d(xe,{B8:function(){return y},Cp:function(){return W},F0:function(){return T},FU:function(){return A},L6:function(){return _},b1:function(){return S},dL:function(){return j},he:function(){return a},n2:function(){return P},ri:function(){return L}});class C{constructor(){this.listeners=[],this.unexpectedErrorHandler=function(D){setTimeout(()=>{throw D.stack?u.isErrorNoTelemetry(D)?new u(D.message+`

`+D.stack):new Error(D.message+`

`+D.stack):D},0)}}emit(D){this.listeners.forEach(N=>{N(D)})}onUnexpectedError(D){this.unexpectedErrorHandler(D),this.emit(D)}onUnexpectedExternalError(D){this.unexpectedErrorHandler(D)}}const d=new C;function j(b){P(b)||d.onUnexpectedError(b)}function W(b){P(b)||d.onUnexpectedExternalError(b)}function L(b){if(b instanceof Error){const{name:D,message:N}=b,I=b.stacktrace||b.stack;return{$isError:!0,name:D,message:N,stack:I,noTelemetry:u.isErrorNoTelemetry(b)}}return b}const z="Canceled";function P(b){return b instanceof A?!0:b instanceof Error&&b.name===z&&b.message===z}class A extends Error{constructor(){super(z),this.name=this.message}}function T(){const b=new Error(z);return b.name=b.message,b}function S(b){return b?new Error(`Illegal argument: ${b}`):new Error("Illegal argument")}function _(b){return b?new Error(`Illegal state: ${b}`):new Error("Illegal state")}class y extends Error{constructor(D){super("NotSupported"),D&&(this.message=D)}}class u extends Error{constructor(D){super(D),this.name="ErrorNoTelemetry"}static fromError(D){if(D instanceof u)return D;const N=new u;return N.message=D.message,N.stack=D.stack,N}static isErrorNoTelemetry(D){return D.name==="ErrorNoTelemetry"}}class a extends Error{constructor(D){super(D||"An unexpected bug occurred."),Object.setPrototypeOf(this,a.prototype);debugger}}},60218:function(nt,xe,l){"use strict";l.d(xe,{D0:function(){return I},E7:function(){return E},F3:function(){return a},K3:function(){return N},Q5:function(){return u},ZD:function(){return O},ju:function(){return P}});var C=l(708),d=l(94214),j=l(69368),W=l(49960);const L=!1,z=!1;var P;(function(R){R.None=()=>d.JT.None;function M(Le){if(z){const{onListenerDidAdd:Ze}=Le,Ge=_.create();let Fe=0;Le.onListenerDidAdd=()=>{++Fe===2&&(console.warn("snapshotted emitter LIKELY used public and SHOULD HAVE BEEN created with DisposableStore. snapshotted here"),Ge.print()),Ze==null||Ze()}}}function K(Le){return(Ze,Ge=null,Fe)=>{let ct=!1,ft;return ft=Le(Ot=>{if(!ct)return ft?ft.dispose():ct=!0,Ze.call(Ge,Ot)},null,Fe),ct&&ft.dispose(),ft}}R.once=K;function Z(Le,Ze,Ge){return X((Fe,ct=null,ft)=>Le(Ot=>Fe.call(ct,Ze(Ot)),null,ft),Ge)}R.map=Z;function te(Le,Ze,Ge){return X((Fe,ct=null,ft)=>Le(Ot=>{Ze(Ot),Fe.call(ct,Ot)},null,ft),Ge)}R.forEach=te;function de(Le,Ze,Ge){return X((Fe,ct=null,ft)=>Le(Ot=>Ze(Ot)&&Fe.call(ct,Ot),null,ft),Ge)}R.filter=de;function ge(Le){return Le}R.signal=ge;function le(...Le){return(Ze,Ge=null,Fe)=>(0,d.F8)(...Le.map(ct=>ct(ft=>Ze.call(Ge,ft),null,Fe)))}R.any=le;function se(Le,Ze,Ge,Fe){let ct=Ge;return Z(Le,ft=>(ct=Ze(ct,ft),ct),Fe)}R.reduce=se;function X(Le,Ze){let Ge;const Fe={onFirstListenerAdd(){Ge=Le(ct.fire,ct)},onLastListenerRemove(){Ge==null||Ge.dispose()}};Ze||M(Fe);const ct=new u(Fe);return Ze==null||Ze.add(ct),ct.event}function re(Le,Ze,Ge=100,Fe=!1,ct,ft){let Ot,Et,Vt,We=0;const St={leakWarningThreshold:ct,onFirstListenerAdd(){Ot=Le(Se=>{We++,Et=Ze(Et,Se),Fe&&!Vt&&(Re.fire(Et),Et=void 0),clearTimeout(Vt),Vt=setTimeout(()=>{const Ee=Et;Et=void 0,Vt=void 0,(!Fe||We>1)&&Re.fire(Ee),We=0},Ge)})},onLastListenerRemove(){Ot.dispose()}};ft||M(St);const Re=new u(St);return ft==null||ft.add(Re),Re.event}R.debounce=re;function ne(Le,Ze=(Fe,ct)=>Fe===ct,Ge){let Fe=!0,ct;return de(Le,ft=>{const Ot=Fe||!Ze(ft,ct);return Fe=!1,ct=ft,Ot},Ge)}R.latch=ne;function U(Le,Ze,Ge){return[R.filter(Le,Ze,Ge),R.filter(Le,Fe=>!Ze(Fe),Ge)]}R.split=U;function oe(Le,Ze=!1,Ge=[]){let Fe=Ge.slice(),ct=Le(Et=>{Fe?Fe.push(Et):Ot.fire(Et)});const ft=()=>{Fe==null||Fe.forEach(Et=>Ot.fire(Et)),Fe=null},Ot=new u({onFirstListenerAdd(){ct||(ct=Le(Et=>Ot.fire(Et)))},onFirstListenerDidAdd(){Fe&&(Ze?setTimeout(ft):ft())},onLastListenerRemove(){ct&&ct.dispose(),ct=null}});return Ot.event}R.buffer=oe;class q{constructor(Ze){this.event=Ze,this.disposables=new d.SL}map(Ze){return new q(Z(this.event,Ze,this.disposables))}forEach(Ze){return new q(te(this.event,Ze,this.disposables))}filter(Ze){return new q(de(this.event,Ze,this.disposables))}reduce(Ze,Ge){return new q(se(this.event,Ze,Ge,this.disposables))}latch(){return new q(ne(this.event,void 0,this.disposables))}debounce(Ze,Ge=100,Fe=!1,ct){return new q(re(this.event,Ze,Ge,Fe,ct,this.disposables))}on(Ze,Ge,Fe){return this.event(Ze,Ge,Fe)}once(Ze,Ge,Fe){return K(this.event)(Ze,Ge,Fe)}dispose(){this.disposables.dispose()}}function ae(Le){return new q(Le)}R.chain=ae;function me(Le,Ze,Ge=Fe=>Fe){const Fe=(...Et)=>Ot.fire(Ge(...Et)),ct=()=>Le.on(Ze,Fe),ft=()=>Le.removeListener(Ze,Fe),Ot=new u({onFirstListenerAdd:ct,onLastListenerRemove:ft});return Ot.event}R.fromNodeEventEmitter=me;function ke(Le,Ze,Ge=Fe=>Fe){const Fe=(...Et)=>Ot.fire(Ge(...Et)),ct=()=>Le.addEventListener(Ze,Fe),ft=()=>Le.removeEventListener(Ze,Fe),Ot=new u({onFirstListenerAdd:ct,onLastListenerRemove:ft});return Ot.event}R.fromDOMEventEmitter=ke;function H(Le){return new Promise(Ze=>K(Le)(Ze))}R.toPromise=H;function ut(Le,Ze){return Ze(void 0),Le(Ge=>Ze(Ge))}R.runAndSubscribe=ut;function Ke(Le,Ze){let Ge=null;function Fe(ft){Ge==null||Ge.dispose(),Ge=new d.SL,Ze(ft,Ge)}Fe(void 0);const ct=Le(ft=>Fe(ft));return(0,d.OF)(()=>{ct.dispose(),Ge==null||Ge.dispose()})}R.runAndSubscribeWithStore=Ke;class He{constructor(Ze,Ge){this.obs=Ze,this._counter=0,this._hasChanged=!1;const Fe={onFirstListenerAdd:()=>{Ze.addObserver(this)},onLastListenerRemove:()=>{Ze.removeObserver(this)}};Ge||M(Fe),this.emitter=new u(Fe),Ge&&Ge.add(this.emitter)}beginUpdate(Ze){this._counter++}handleChange(Ze,Ge){this._hasChanged=!0}endUpdate(Ze){--this._counter===0&&this._hasChanged&&(this._hasChanged=!1,this.emitter.fire(this.obs.get()))}}function ze(Le,Ze){return new He(Le,Ze).emitter.event}R.fromObservable=ze})(P||(P={}));class A{constructor(M){this._listenerCount=0,this._invocationCount=0,this._elapsedOverall=0,this._name=`${M}_${A._idPool++}`}start(M){this._stopWatch=new W.G(!0),this._listenerCount=M}stop(){if(this._stopWatch){const M=this._stopWatch.elapsed();this._elapsedOverall+=M,this._invocationCount+=1,console.info(`did FIRE ${this._name}: elapsed_ms: ${M.toFixed(5)}, listener: ${this._listenerCount} (elapsed_overall: ${this._elapsedOverall.toFixed(2)}, invocations: ${this._invocationCount})`),this._stopWatch=void 0}}}A._idPool=0;let T=-1;class S{constructor(M,K=Math.random().toString(18).slice(2,5)){this.customThreshold=M,this.name=K,this._warnCountdown=0}dispose(){this._stacks&&this._stacks.clear()}check(M,K){let Z=T;if(typeof this.customThreshold=="number"&&(Z=this.customThreshold),Z<=0||K<Z)return;this._stacks||(this._stacks=new Map);const te=this._stacks.get(M.value)||0;if(this._stacks.set(M.value,te+1),this._warnCountdown-=1,this._warnCountdown<=0){this._warnCountdown=Z*.5;let de,ge=0;for(const[le,se]of this._stacks)(!de||ge<se)&&(de=le,ge=se);console.warn(`[${this.name}] potential listener LEAK detected, having ${K} listeners already. MOST frequent listener (${ge}):`),console.warn(de)}return()=>{const de=this._stacks.get(M.value)||0;this._stacks.set(M.value,de-1)}}}class _{constructor(M){this.value=M}static create(){var M;return new _((M=new Error().stack)!==null&&M!==void 0?M:"")}print(){console.warn(this.value.split(`
`).slice(2).join(`
`))}}class y{constructor(M,K,Z){this.callback=M,this.callbackThis=K,this.stack=Z,this.subscription=new d.dt}invoke(M){this.callback.call(this.callbackThis,M)}}class u{constructor(M){var K,Z;this._disposed=!1,this._options=M,this._leakageMon=T>0?new S(this._options&&this._options.leakWarningThreshold):void 0,this._perfMon=!((K=this._options)===null||K===void 0)&&K._profName?new A(this._options._profName):void 0,this._deliveryQueue=(Z=this._options)===null||Z===void 0?void 0:Z.deliveryQueue}dispose(){var M,K,Z,te;if(!this._disposed){if(this._disposed=!0,this._listeners){if(L){const de=Array.from(this._listeners);queueMicrotask(()=>{var ge;for(const le of de)le.subscription.isset()&&(le.subscription.unset(),(ge=le.stack)===null||ge===void 0||ge.print())})}this._listeners.clear()}(M=this._deliveryQueue)===null||M===void 0||M.clear(this),(Z=(K=this._options)===null||K===void 0?void 0:K.onLastListenerRemove)===null||Z===void 0||Z.call(K),(te=this._leakageMon)===null||te===void 0||te.dispose()}}get event(){return this._event||(this._event=(M,K,Z)=>{var te,de,ge;this._listeners||(this._listeners=new j.S);const le=this._listeners.isEmpty();le&&((te=this._options)===null||te===void 0?void 0:te.onFirstListenerAdd)&&this._options.onFirstListenerAdd(this);let se,X;this._leakageMon&&this._listeners.size>=30&&(X=_.create(),se=this._leakageMon.check(X,this._listeners.size+1)),L&&(X=X!=null?X:_.create());const re=new y(M,K,X),ne=this._listeners.push(re);le&&((de=this._options)===null||de===void 0?void 0:de.onFirstListenerDidAdd)&&this._options.onFirstListenerDidAdd(this),!((ge=this._options)===null||ge===void 0)&&ge.onListenerDidAdd&&this._options.onListenerDidAdd(this,M,K);const U=re.subscription.set(()=>{se==null||se(),this._disposed||(ne(),this._options&&this._options.onLastListenerRemove&&(this._listeners&&!this._listeners.isEmpty()||this._options.onLastListenerRemove(this)))});return Z instanceof d.SL?Z.add(U):Array.isArray(Z)&&Z.push(U),U}),this._event}fire(M){var K,Z;if(this._listeners){this._deliveryQueue||(this._deliveryQueue=new b);for(const te of this._listeners)this._deliveryQueue.push(this,te,M);(K=this._perfMon)===null||K===void 0||K.start(this._deliveryQueue.size),this._deliveryQueue.deliver(),(Z=this._perfMon)===null||Z===void 0||Z.stop()}}}class a{constructor(){this._queue=new j.S}get size(){return this._queue.size}push(M,K,Z){this._queue.push(new D(M,K,Z))}clear(M){const K=new j.S;for(const Z of this._queue)Z.emitter!==M&&K.push(Z);this._queue=K}deliver(){for(;this._queue.size>0;){const M=this._queue.shift();try{M.listener.invoke(M.event)}catch(K){(0,C.dL)(K)}}}}class b extends a{clear(M){this._queue.clear()}}class D{constructor(M,K,Z){this.emitter=M,this.listener=K,this.event=Z}}class N extends u{constructor(M){super(M),this._isPaused=0,this._eventQueue=new j.S,this._mergeFn=M==null?void 0:M.merge}pause(){this._isPaused++}resume(){if(this._isPaused!==0&&--this._isPaused===0)if(this._mergeFn){const M=Array.from(this._eventQueue);this._eventQueue.clear(),super.fire(this._mergeFn(M))}else for(;!this._isPaused&&this._eventQueue.size!==0;)super.fire(this._eventQueue.shift())}fire(M){this._listeners&&(this._isPaused!==0?this._eventQueue.push(M):super.fire(M))}}class I extends N{constructor(M){var K;super(M),this._delay=(K=M.delay)!==null&&K!==void 0?K:100}fire(M){this._handle||(this.pause(),this._handle=setTimeout(()=>{this._handle=void 0,this.resume()},this._delay)),super.fire(M)}}class E{constructor(){this.buffers=[]}wrapEvent(M){return(K,Z,te)=>M(de=>{const ge=this.buffers[this.buffers.length-1];ge?ge.push(()=>K.call(Z,de)):K.call(Z,de)},void 0,te)}bufferEvents(M){const K=[];this.buffers.push(K);const Z=M();return this.buffers.pop(),K.forEach(te=>te()),Z}}class O{constructor(){this.listening=!1,this.inputEvent=P.None,this.inputEventListener=d.JT.None,this.emitter=new u({onFirstListenerDidAdd:()=>{this.listening=!0,this.inputEventListener=this.inputEvent(this.emitter.fire,this.emitter)},onLastListenerRemove:()=>{this.listening=!1,this.inputEventListener.dispose()}}),this.event=this.emitter.event}set input(M){this.inputEvent=M,this.listening&&(this.inputEventListener.dispose(),this.inputEventListener=M(this.emitter.fire,this.emitter))}dispose(){this.inputEventListener.dispose(),this.emitter.dispose()}}},34975:function(nt,xe,l){"use strict";l.d(xe,{KM:function(){return A},ej:function(){return L},fn:function(){return z},oP:function(){return S},yj:function(){return P}});var C=l(46267),d=l(94976),j=l(22297);function W(_){return _===47||_===92}function L(_){return _.replace(/[\\/]/g,C.KR.sep)}function z(_){return _.indexOf("/")===-1&&(_=L(_)),/^[a-zA-Z]:(\/|$)/.test(_)&&(_="/"+_),_}function P(_,y=C.KR.sep){if(!_)return"";const u=_.length,a=_.charCodeAt(0);if(W(a)){if(W(_.charCodeAt(1))&&!W(_.charCodeAt(2))){let D=3;const N=D;for(;D<u&&!W(_.charCodeAt(D));D++);if(N!==D&&!W(_.charCodeAt(D+1))){for(D+=1;D<u;D++)if(W(_.charCodeAt(D)))return _.slice(0,D+1).replace(/[\\/]/g,y)}}return y}else if(T(a)&&_.charCodeAt(1)===58)return W(_.charCodeAt(2))?_.slice(0,2)+y:_.slice(0,2);let b=_.indexOf("://");if(b!==-1){for(b+=3;b<u;b++)if(W(_.charCodeAt(b)))return _.slice(0,b+1)}return""}function A(_,y,u,a=C.ir){if(_===y)return!0;if(!_||!y||y.length>_.length)return!1;if(u){if(!(0,j.ok)(_,y))return!1;if(y.length===_.length)return!0;let D=y.length;return y.charAt(y.length-1)===a&&D--,_.charAt(D)===a}return y.charAt(y.length-1)!==a&&(y+=a),_.indexOf(y)===0}function T(_){return _>=65&&_<=90||_>=97&&_<=122}function S(_,y=d.ED){return y?T(_.charCodeAt(0))&&_.charCodeAt(1)===58:!1}},12562:function(nt,xe,l){"use strict";l.d(xe,{CL:function(){return Ot},EW:function(){return Vt},Ji:function(){return L},KZ:function(){return de},Oh:function(){return ne},Sy:function(){return A},ir:function(){return P},jB:function(){return U},l7:function(){return Re},mB:function(){return oe},mX:function(){return Et},or:function(){return j}});var C=l(36230),d=l(22297);function j(...Be){return function(Xe,Pt){for(let jt=0,pn=Be.length;jt<pn;jt++){const at=Be[jt](Xe,Pt);if(at)return at}return null}}const W=z.bind(void 0,!1),L=z.bind(void 0,!0);function z(Be,Xe,Pt){if(!Pt||Pt.length<Xe.length)return null;let jt;return Be?jt=d.ok(Pt,Xe):jt=Pt.indexOf(Xe)===0,jt?Xe.length>0?[{start:0,end:Xe.length}]:[]:null}function P(Be,Xe){const Pt=Xe.toLowerCase().indexOf(Be.toLowerCase());return Pt===-1?null:[{start:Pt,end:Pt+Be.length}]}function A(Be,Xe){return T(Be.toLowerCase(),Xe.toLowerCase(),0,0)}function T(Be,Xe,Pt,jt){if(Pt===Be.length)return[];if(jt===Xe.length)return null;if(Be[Pt]===Xe[jt]){let pn=null;return(pn=T(Be,Xe,Pt+1,jt+1))?I({start:jt,end:jt+1},pn):null}return T(Be,Xe,Pt,jt+1)}function S(Be){return 97<=Be&&Be<=122}function _(Be){return 65<=Be&&Be<=90}function y(Be){return 48<=Be&&Be<=57}function u(Be){return Be===32||Be===9||Be===10||Be===13}const a=new Set;"()[]{}<>`'\"-/;:,.?!".split("").forEach(Be=>a.add(Be.charCodeAt(0)));function b(Be){return u(Be)||a.has(Be)}function D(Be,Xe){return Be===Xe||b(Be)&&b(Xe)}function N(Be){return S(Be)||_(Be)||y(Be)}function I(Be,Xe){return Xe.length===0?Xe=[Be]:Be.end===Xe[0].start?Xe[0].start=Be.start:Xe.unshift(Be),Xe}function E(Be,Xe){for(let Pt=Xe;Pt<Be.length;Pt++){const jt=Be.charCodeAt(Pt);if(_(jt)||y(jt)||Pt>0&&!N(Be.charCodeAt(Pt-1)))return Pt}return Be.length}function O(Be,Xe,Pt,jt){if(Pt===Be.length)return[];if(jt===Xe.length)return null;if(Be[Pt]!==Xe[jt].toLowerCase())return null;{let pn=null,at=jt+1;for(pn=O(Be,Xe,Pt+1,jt+1);!pn&&(at=E(Xe,at))<Xe.length;)pn=O(Be,Xe,Pt+1,at),at++;return pn===null?null:I({start:jt,end:jt+1},pn)}}function R(Be){let Xe=0,Pt=0,jt=0,pn=0,at=0;for(let Wn=0;Wn<Be.length;Wn++)at=Be.charCodeAt(Wn),_(at)&&Xe++,S(at)&&Pt++,N(at)&&jt++,y(at)&&pn++;const Mt=Xe/Be.length,Gt=Pt/Be.length,_n=jt/Be.length,Rn=pn/Be.length;return{upperPercent:Mt,lowerPercent:Gt,alphaPercent:_n,numericPercent:Rn}}function M(Be){const{upperPercent:Xe,lowerPercent:Pt}=Be;return Pt===0&&Xe>.6}function K(Be){const{upperPercent:Xe,lowerPercent:Pt,alphaPercent:jt,numericPercent:pn}=Be;return Pt>.2&&Xe<.8&&jt>.6&&pn<.2}function Z(Be){let Xe=0,Pt=0,jt=0,pn=0;for(let at=0;at<Be.length;at++)jt=Be.charCodeAt(at),_(jt)&&Xe++,S(jt)&&Pt++,u(jt)&&pn++;return(Xe===0||Pt===0)&&pn===0?Be.length<=30:Xe<=5}function te(Be,Xe){if(!Xe||(Xe=Xe.trim(),Xe.length===0)||!Z(Be)||Xe.length>60)return null;const Pt=R(Xe);if(!K(Pt)){if(!M(Pt))return null;Xe=Xe.toLowerCase()}let jt=null,pn=0;for(Be=Be.toLowerCase();pn<Xe.length&&(jt=O(Be,Xe,0,pn))===null;)pn=E(Xe,pn+1);return jt}function de(Be,Xe,Pt=!1){if(!Xe||Xe.length===0)return null;let jt=null,pn=0;for(Be=Be.toLowerCase(),Xe=Xe.toLowerCase();pn<Xe.length&&(jt=ge(Be,Xe,0,pn,Pt))===null;)pn=le(Xe,pn+1);return jt}function ge(Be,Xe,Pt,jt,pn){if(Pt===Be.length)return[];if(jt===Xe.length)return null;if(D(Be.charCodeAt(Pt),Xe.charCodeAt(jt))){let at=null,Mt=jt+1;if(at=ge(Be,Xe,Pt+1,jt+1,pn),!pn)for(;!at&&(Mt=le(Xe,Mt))<Xe.length;)at=ge(Be,Xe,Pt+1,Mt,pn),Mt++;return at===null?null:I({start:jt,end:jt+1},at)}else return null}function le(Be,Xe){for(let Pt=Xe;Pt<Be.length;Pt++)if(b(Be.charCodeAt(Pt))||Pt>0&&b(Be.charCodeAt(Pt-1)))return Pt;return Be.length}const se=j(L,te,P),X=j(L,te,A),re=new C.z6(1e4);function ne(Be,Xe,Pt=!1){if(typeof Be!="string"||typeof Xe!="string")return null;let jt=re.get(Be);jt||(jt=new RegExp(d.un(Be),"i"),re.set(Be,jt));const pn=jt.exec(Xe);return pn?[{start:pn.index,end:pn.index+pn[0].length}]:Pt?X(Be,Xe):se(Be,Xe)}function U(Be,Xe,Pt,jt,pn,at){const Mt=Math.min(13,Be.length);for(;Pt<Mt;Pt++){const Gt=Vt(Be,Xe,Pt,jt,pn,at,{firstMatchCanBeWeak:!1,boostFullMatch:!0});if(Gt)return Gt}return[0,at]}function oe(Be){if(typeof Be=="undefined")return[];const Xe=[],Pt=Be[1];for(let jt=Be.length-1;jt>1;jt--){const pn=Be[jt]+Pt,at=Xe[Xe.length-1];at&&at.end===pn?at.end=pn+1:Xe.push({start:pn,end:pn+1})}return Xe}const q=128;function ae(){const Be=[],Xe=[];for(let Pt=0;Pt<=q;Pt++)Xe[Pt]=0;for(let Pt=0;Pt<=q;Pt++)Be.push(Xe.slice(0));return Be}function me(Be){const Xe=[];for(let Pt=0;Pt<=Be;Pt++)Xe[Pt]=0;return Xe}const ke=me(2*q),H=me(2*q),ut=ae(),Ke=ae(),He=ae(),ze=!1;function Le(Be,Xe,Pt,jt,pn){function at(Gt,_n,Rn=" "){for(;Gt.length<_n;)Gt=Rn+Gt;return Gt}let Mt=` |   |${jt.split("").map(Gt=>at(Gt,3)).join("|")}
`;for(let Gt=0;Gt<=Pt;Gt++)Gt===0?Mt+=" |":Mt+=`${Xe[Gt-1]}|`,Mt+=Be[Gt].slice(0,pn+1).map(_n=>at(_n.toString(),3)).join("|")+`
`;return Mt}function Ze(Be,Xe,Pt,jt){Be=Be.substr(Xe),Pt=Pt.substr(jt),console.log(Le(Ke,Be,Be.length,Pt,Pt.length)),console.log(Le(He,Be,Be.length,Pt,Pt.length)),console.log(Le(ut,Be,Be.length,Pt,Pt.length))}function Ge(Be,Xe){if(Xe<0||Xe>=Be.length)return!1;const Pt=Be.codePointAt(Xe);switch(Pt){case 95:case 45:case 46:case 32:case 47:case 92:case 39:case 34:case 58:case 36:case 60:case 62:case 40:case 41:case 91:case 93:case 123:case 125:return!0;case void 0:return!1;default:return!!d.C8(Pt)}}function Fe(Be,Xe){if(Xe<0||Xe>=Be.length)return!1;switch(Be.charCodeAt(Xe)){case 32:case 9:return!0;default:return!1}}function ct(Be,Xe,Pt){return Xe[Be]!==Pt[Be]}function ft(Be,Xe,Pt,jt,pn,at,Mt=!1){for(;Xe<Pt&&pn<at;)Be[Xe]===jt[pn]&&(Mt&&(ke[Xe]=pn),Xe+=1),pn+=1;return Xe===Pt}var Ot;(function(Be){Be.Default=[-100,0];function Xe(Pt){return!Pt||Pt.length===2&&Pt[0]===-100&&Pt[1]===0}Be.isDefault=Xe})(Ot||(Ot={}));class Et{constructor(Xe,Pt){this.firstMatchCanBeWeak=Xe,this.boostFullMatch=Pt}}Et.default={boostFullMatch:!0,firstMatchCanBeWeak:!1};function Vt(Be,Xe,Pt,jt,pn,at,Mt=Et.default){const Gt=Be.length>q?q:Be.length,_n=jt.length>q?q:jt.length;if(Pt>=Gt||at>=_n||Gt-Pt>_n-at||!ft(Xe,Pt,Gt,pn,at,_n,!0))return;We(Gt,_n,Pt,at,Xe,pn);let Rn=1,Wn=1,wn=Pt,je=at;const qn=[!1];for(Rn=1,wn=Pt;wn<Gt;Rn++,wn++){const ye=ke[wn],qe=H[wn],Wt=wn+1<Gt?H[wn+1]:_n;for(Wn=ye-at+1,je=ye;je<Wt;Wn++,je++){let Xt=Number.MIN_SAFE_INTEGER,mn=!1;je<=qe&&(Xt=St(Be,Xe,wn,Pt,jt,pn,je,_n,at,ut[Rn-1][Wn-1]===0,qn));let bn=0;Xt!==Number.MAX_SAFE_INTEGER&&(mn=!0,bn=Xt+Ke[Rn-1][Wn-1]);const ot=je>ye,Rt=ot?Ke[Rn][Wn-1]+(ut[Rn][Wn-1]>0?-5:0):0,kt=je>ye+1&&ut[Rn][Wn-1]>0,wt=kt?Ke[Rn][Wn-2]+(ut[Rn][Wn-2]>0?-5:0):0;if(kt&&(!ot||wt>=Rt)&&(!mn||wt>=bn))Ke[Rn][Wn]=wt,He[Rn][Wn]=3,ut[Rn][Wn]=0;else if(ot&&(!mn||Rt>=bn))Ke[Rn][Wn]=Rt,He[Rn][Wn]=2,ut[Rn][Wn]=0;else if(mn)Ke[Rn][Wn]=bn,He[Rn][Wn]=1,ut[Rn][Wn]=ut[Rn-1][Wn-1]+1;else throw new Error("not possible")}}if(ze&&Ze(Be,Pt,jt,at),!qn[0]&&!Mt.firstMatchCanBeWeak)return;Rn--,Wn--;const vt=[Ke[Rn][Wn],at];let _e=0,ht=0;for(;Rn>=1;){let ye=Wn;do{const qe=He[Rn][ye];if(qe===3)ye=ye-2;else if(qe===2)ye=ye-1;else break}while(ye>=1);_e>1&&Xe[Pt+Rn-1]===pn[at+Wn-1]&&!ct(ye+at-1,jt,pn)&&_e+1>ut[Rn][ye]&&(ye=Wn),ye===Wn?_e++:_e=1,ht||(ht=ye),Rn--,Wn=ye-1,vt.push(Wn)}_n===Gt&&Mt.boostFullMatch&&(vt[0]+=2);const yt=ht-Gt;return vt[0]-=yt,vt}function We(Be,Xe,Pt,jt,pn,at){let Mt=Be-1,Gt=Xe-1;for(;Mt>=Pt&&Gt>=jt;)pn[Mt]===at[Gt]&&(H[Mt]=Gt,Mt--),Gt--}function St(Be,Xe,Pt,jt,pn,at,Mt,Gt,_n,Rn,Wn){if(Xe[Pt]!==at[Mt])return Number.MIN_SAFE_INTEGER;let wn=1,je=!1;return Mt===Pt-jt?wn=Be[Pt]===pn[Mt]?7:5:ct(Mt,pn,at)&&(Mt===0||!ct(Mt-1,pn,at))?(wn=Be[Pt]===pn[Mt]?7:5,je=!0):Ge(at,Mt)&&(Mt===0||!Ge(at,Mt-1))?wn=5:(Ge(at,Mt-1)||Fe(at,Mt-1))&&(wn=5,je=!0),wn>1&&Pt===jt&&(Wn[0]=!0),je||(je=ct(Mt,pn,at)||Ge(at,Mt-1)||Fe(at,Mt-1)),Pt===jt?Mt>_n&&(wn-=je?3:5):Rn?wn+=je?2:0:wn+=je?0:1,Mt+1===Gt&&(wn-=je?3:5),wn}function Re(Be,Xe,Pt,jt,pn,at,Mt){return Se(Be,Xe,Pt,jt,pn,at,!0,Mt)}function Se(Be,Xe,Pt,jt,pn,at,Mt,Gt){let _n=Vt(Be,Xe,Pt,jt,pn,at,Gt);if(_n&&!Mt)return _n;if(Be.length>=3){const Rn=Math.min(7,Be.length-1);for(let Wn=Pt+1;Wn<Rn;Wn++){const wn=Ee(Be,Wn);if(wn){const je=Vt(wn,wn.toLowerCase(),Pt,jt,pn,at,Gt);je&&(je[0]-=3,(!_n||je[0]>_n[0])&&(_n=je))}}}return _n}function Ee(Be,Xe){if(Xe+1>=Be.length)return;const Pt=Be[Xe],jt=Be[Xe+1];if(Pt!==jt)return Be.slice(0,Xe)+jt+Pt+Be.slice(Xe+2)}},48466:function(nt,xe,l){"use strict";l.d(xe,{I:function(){return C}});function C(d){const j=this;let W=!1,L;return function(){return W||(W=!0,L=d.apply(j,arguments)),L}}},16746:function(nt,xe,l){"use strict";l.d(xe,{Cv:function(){return z},SP:function(){return j},vp:function(){return d},yP:function(){return u}});var C=l(22297);function d(a){return j(a,0)}function j(a,b){switch(typeof a){case"object":return a===null?W(349,b):Array.isArray(a)?P(a,b):A(a,b);case"string":return z(a,b);case"boolean":return L(a,b);case"number":return W(a,b);case"undefined":return W(937,b);default:return W(617,b)}}function W(a,b){return(b<<5)-b+a|0}function L(a,b){return W(a?433:863,b)}function z(a,b){b=W(149417,b);for(let D=0,N=a.length;D<N;D++)b=W(a.charCodeAt(D),b);return b}function P(a,b){return b=W(104579,b),a.reduce((D,N)=>j(N,D),b)}function A(a,b){return b=W(181387,b),Object.keys(a).sort().reduce((D,N)=>(D=z(N,D),j(a[N],D)),b)}function T(a,b,D=32){const N=D-b,I=~((1<<N)-1);return(a<<b|(I&a)>>>N)>>>0}function S(a,b=0,D=a.byteLength,N=0){for(let I=0;I<D;I++)a[b+I]=N}function _(a,b,D="0"){for(;a.length<b;)a=D+a;return a}function y(a,b=32){return a instanceof ArrayBuffer?Array.from(new Uint8Array(a)).map(D=>D.toString(16).padStart(2,"0")).join(""):_((a>>>0).toString(16),b/4)}class u{constructor(){this._h0=1732584193,this._h1=4023233417,this._h2=2562383102,this._h3=271733878,this._h4=3285377520,this._buff=new Uint8Array(64+3),this._buffDV=new DataView(this._buff.buffer),this._buffLen=0,this._totalLen=0,this._leftoverHighSurrogate=0,this._finished=!1}update(b){const D=b.length;if(D===0)return;const N=this._buff;let I=this._buffLen,E=this._leftoverHighSurrogate,O,R;for(E!==0?(O=E,R=-1,E=0):(O=b.charCodeAt(0),R=0);;){let M=O;if(C.ZG(O))if(R+1<D){const K=b.charCodeAt(R+1);C.YK(K)?(R++,M=C.rL(O,K)):M=65533}else{E=O;break}else C.YK(O)&&(M=65533);if(I=this._push(N,I,M),R++,R<D)O=b.charCodeAt(R);else break}this._buffLen=I,this._leftoverHighSurrogate=E}_push(b,D,N){return N<128?b[D++]=N:N<2048?(b[D++]=192|(N&1984)>>>6,b[D++]=128|(N&63)>>>0):N<65536?(b[D++]=224|(N&61440)>>>12,b[D++]=128|(N&4032)>>>6,b[D++]=128|(N&63)>>>0):(b[D++]=240|(N&1835008)>>>18,b[D++]=128|(N&258048)>>>12,b[D++]=128|(N&4032)>>>6,b[D++]=128|(N&63)>>>0),D>=64&&(this._step(),D-=64,this._totalLen+=64,b[0]=b[64+0],b[1]=b[64+1],b[2]=b[64+2]),D}digest(){return this._finished||(this._finished=!0,this._leftoverHighSurrogate&&(this._leftoverHighSurrogate=0,this._buffLen=this._push(this._buff,this._buffLen,65533)),this._totalLen+=this._buffLen,this._wrapUp()),y(this._h0)+y(this._h1)+y(this._h2)+y(this._h3)+y(this._h4)}_wrapUp(){this._buff[this._buffLen++]=128,S(this._buff,this._buffLen),this._buffLen>56&&(this._step(),S(this._buff));const b=8*this._totalLen;this._buffDV.setUint32(56,Math.floor(b/4294967296),!1),this._buffDV.setUint32(60,b%4294967296,!1),this._step()}_step(){const b=u._bigBlock32,D=this._buffDV;for(let te=0;te<64;te+=4)b.setUint32(te,D.getUint32(te,!1),!1);for(let te=64;te<320;te+=4)b.setUint32(te,T(b.getUint32(te-12,!1)^b.getUint32(te-32,!1)^b.getUint32(te-56,!1)^b.getUint32(te-64,!1),1),!1);let N=this._h0,I=this._h1,E=this._h2,O=this._h3,R=this._h4,M,K,Z;for(let te=0;te<80;te++)te<20?(M=I&E|~I&O,K=1518500249):te<40?(M=I^E^O,K=1859775393):te<60?(M=I&E|I&O|E&O,K=2400959708):(M=I^E^O,K=3395469782),Z=T(N,5)+M+R+K+b.getUint32(te*4,!1)&4294967295,R=O,O=E,E=T(I,30),I=N,N=Z;this._h0=this._h0+N&4294967295,this._h1=this._h1+I&4294967295,this._h2=this._h2+E&4294967295,this._h3=this._h3+O&4294967295,this._h4=this._h4+R&4294967295}}u._bigBlock32=new DataView(new ArrayBuffer(320))},72920:function(nt,xe,l){"use strict";l.d(xe,{CP:function(){return L},Fr:function(){return z},W5:function(){return W},d9:function(){return A},oR:function(){return T},v1:function(){return S}});var C=l(708),d=l(15392),j=l(22297);class W{constructor(y="",u=!1){var a,b,D;if(this.value=y,typeof this.value!="string")throw(0,C.b1)("value");typeof u=="boolean"?(this.isTrusted=u,this.supportThemeIcons=!1,this.supportHtml=!1):(this.isTrusted=(a=u.isTrusted)!==null&&a!==void 0?a:void 0,this.supportThemeIcons=(b=u.supportThemeIcons)!==null&&b!==void 0?b:!1,this.supportHtml=(D=u.supportHtml)!==null&&D!==void 0?D:!1)}appendText(y,u=0){return this.value+=P(this.supportThemeIcons?(0,d.Qo)(y):y).replace(/([ \t]+)/g,(a,b)=>"&nbsp;".repeat(b.length)).replace(/\>/gm,"\\>").replace(/\n/g,u===1?`\\
`:`

`),this}appendMarkdown(y){return this.value+=y,this}appendCodeblock(y,u){return this.value+="\n```",this.value+=y,this.value+=`
`,this.value+=u,this.value+="\n```\n",this}appendLink(y,u,a){return this.value+="[",this.value+=this._escape(u,"]"),this.value+="](",this.value+=this._escape(String(y),")"),a&&(this.value+=` "${this._escape(this._escape(a,'"'),")")}"`),this.value+=")",this}_escape(y,u){const a=new RegExp((0,j.ec)(u),"g");return y.replace(a,(b,D)=>y.charAt(D-1)!=="\\"?`\\${b}`:b)}}function L(_){return z(_)?!_.value:Array.isArray(_)?_.every(L):!0}function z(_){return _ instanceof W?!0:_&&typeof _=="object"?typeof _.value=="string"&&(typeof _.isTrusted=="boolean"||_.isTrusted===void 0)&&(typeof _.supportThemeIcons=="boolean"||_.supportThemeIcons===void 0):!1}function P(_){return _.replace(/[\\`*_{}[\]()#+\-!]/g,"\\$&")}function A(_){return _.replace(/"/g,"&quot;")}function T(_){return _&&_.replace(/\\([\\`*_{}[\]()#+\-.!])/g,"$1")}function S(_){const y=[],u=_.split("|").map(b=>b.trim());_=u[0];const a=u[1];if(a){const b=/height=(\d+)/.exec(a),D=/width=(\d+)/.exec(a),N=b?b[1]:"",I=D?D[1]:"",E=isFinite(parseInt(I)),O=isFinite(parseInt(N));E&&y.push(`width="${I}"`),O&&y.push(`height="${N}"`)}return{href:_,dimensions:y}}},15392:function(nt,xe,l){"use strict";l.d(xe,{Gt:function(){return b},Ho:function(){return u},Qo:function(){return A},f$:function(){return S},x$:function(){return y}});var C=l(64272),d=l(12562),j=l(22297);const W="$(",L=new RegExp(`\\$\\(${C.dT.iconNameExpression}(?:${C.dT.iconModifierExpression})?\\)`,"g"),z=new RegExp(C.dT.iconNameCharacter),P=new RegExp(`(\\\\)?${L.source}`,"g");function A(D){return D.replace(P,(N,I)=>I?N:`\\${N}`)}const T=new RegExp(`\\\\${L.source}`,"g");function S(D){return D.replace(T,N=>`\\${N}`)}const _=new RegExp(`(\\s)?(\\\\)?${L.source}(\\s)?`,"g");function y(D){return D.indexOf(W)===-1?D:D.replace(_,(N,I,E,O)=>E?N:I||O||"")}function u(D){const N=D.indexOf(W);return N===-1?{text:D}:a(D,N)}function a(D,N){const I=[];let E="";function O(le){if(le){E+=le;for(const se of le)I.push(K)}}let R=-1,M="",K=0,Z,te,de=N;const ge=D.length;for(O(D.substr(0,N));de<ge;){if(Z=D[de],te=D[de+1],Z===W[0]&&te===W[1])R=de,O(M),M=W,de++;else if(Z===")"&&R!==-1){const le=de-R+1;K+=le,R=-1,M=""}else R!==-1?z.test(Z)?M+=Z:(O(M),R=-1,M=""):O(Z);de++}return O(M),{text:E,iconOffsets:I}}function b(D,N,I=!1){const{text:E,iconOffsets:O}=N;if(!O||O.length===0)return(0,d.Oh)(D,E,I);const R=(0,j.j3)(E," "),M=E.length-R.length,K=(0,d.Oh)(D,R,I);if(K)for(const Z of K){const te=O[Z.start+M]+M;Z.start+=te,Z.end+=te}return K}},52268:function(nt,xe,l){"use strict";l.d(xe,{R:function(){return C},a:function(){return d}});class C{constructor(W){this._prefix=W,this._lastId=0}nextId(){return this._prefix+ ++this._lastId}}const d=new C("id#")},37371:function(nt,xe,l){"use strict";l.d(xe,{$:function(){return C}});var C;(function(d){function j(M){return M&&typeof M=="object"&&typeof M[Symbol.iterator]=="function"}d.is=j;const W=Object.freeze([]);function L(){return W}d.empty=L;function*z(M){yield M}d.single=z;function P(M){return M||W}d.from=P;function A(M){return!M||M[Symbol.iterator]().next().done===!0}d.isEmpty=A;function T(M){return M[Symbol.iterator]().next().value}d.first=T;function S(M,K){for(const Z of M)if(K(Z))return!0;return!1}d.some=S;function _(M,K){for(const Z of M)if(K(Z))return Z}d.find=_;function*y(M,K){for(const Z of M)K(Z)&&(yield Z)}d.filter=y;function*u(M,K){let Z=0;for(const te of M)yield K(te,Z++)}d.map=u;function*a(...M){for(const K of M)for(const Z of K)yield Z}d.concat=a;function*b(M){for(const K of M)for(const Z of K)yield Z}d.concatNested=b;function D(M,K,Z){let te=Z;for(const de of M)te=K(te,de);return te}d.reduce=D;function N(M,K){let Z=0;for(const te of M)K(te,Z++)}d.forEach=N;function*I(M,K,Z=M.length){for(K<0&&(K+=M.length),Z<0?Z+=M.length:Z>M.length&&(Z=M.length);K<Z;K++)yield M[K]}d.slice=I;function E(M,K=Number.POSITIVE_INFINITY){const Z=[];if(K===0)return[Z,M];const te=M[Symbol.iterator]();for(let de=0;de<K;de++){const ge=te.next();if(ge.done)return[Z,d.empty()];Z.push(ge.value)}return[Z,{[Symbol.iterator](){return te}}]}d.consume=E;function O(M){return E(M)[0]}d.collect=O;function R(M,K,Z=(te,de)=>te===de){const te=M[Symbol.iterator](),de=K[Symbol.iterator]();for(;;){const ge=te.next(),le=de.next();if(ge.done!==le.done)return!1;if(ge.done)return!0;if(!Z(ge.value,le.value))return!1}}d.equals=R})(C||(C={}))},1184:function(nt,xe,l){"use strict";l.d(xe,{H_:function(){return L},Vd:function(){return S},gx:function(){return u},kL:function(){return y}});class C{constructor(){this._keyCodeToStr=[],this._strToKeyCode=Object.create(null)}define(b,D){this._keyCodeToStr[b]=D,this._strToKeyCode[D.toLowerCase()]=b}keyCodeToStr(b){return this._keyCodeToStr[b]}strToKeyCode(b){return this._strToKeyCode[b.toLowerCase()]||0}}const d=new C,j=new C,W=new C,L=new Array(230),z={},P=[],A=Object.create(null),T=Object.create(null),S=[],_=[];for(let a=0;a<=193;a++)S[a]=-1;for(let a=0;a<=127;a++)_[a]=-1;(function(){const a="",b=[[0,1,0,"None",0,"unknown",0,"VK_UNKNOWN",a,a],[0,1,1,"Hyper",0,a,0,a,a,a],[0,1,2,"Super",0,a,0,a,a,a],[0,1,3,"Fn",0,a,0,a,a,a],[0,1,4,"FnLock",0,a,0,a,a,a],[0,1,5,"Suspend",0,a,0,a,a,a],[0,1,6,"Resume",0,a,0,a,a,a],[0,1,7,"Turbo",0,a,0,a,a,a],[0,1,8,"Sleep",0,a,0,"VK_SLEEP",a,a],[0,1,9,"WakeUp",0,a,0,a,a,a],[31,0,10,"KeyA",31,"A",65,"VK_A",a,a],[32,0,11,"KeyB",32,"B",66,"VK_B",a,a],[33,0,12,"KeyC",33,"C",67,"VK_C",a,a],[34,0,13,"KeyD",34,"D",68,"VK_D",a,a],[35,0,14,"KeyE",35,"E",69,"VK_E",a,a],[36,0,15,"KeyF",36,"F",70,"VK_F",a,a],[37,0,16,"KeyG",37,"G",71,"VK_G",a,a],[38,0,17,"KeyH",38,"H",72,"VK_H",a,a],[39,0,18,"KeyI",39,"I",73,"VK_I",a,a],[40,0,19,"KeyJ",40,"J",74,"VK_J",a,a],[41,0,20,"KeyK",41,"K",75,"VK_K",a,a],[42,0,21,"KeyL",42,"L",76,"VK_L",a,a],[43,0,22,"KeyM",43,"M",77,"VK_M",a,a],[44,0,23,"KeyN",44,"N",78,"VK_N",a,a],[45,0,24,"KeyO",45,"O",79,"VK_O",a,a],[46,0,25,"KeyP",46,"P",80,"VK_P",a,a],[47,0,26,"KeyQ",47,"Q",81,"VK_Q",a,a],[48,0,27,"KeyR",48,"R",82,"VK_R",a,a],[49,0,28,"KeyS",49,"S",83,"VK_S",a,a],[50,0,29,"KeyT",50,"T",84,"VK_T",a,a],[51,0,30,"KeyU",51,"U",85,"VK_U",a,a],[52,0,31,"KeyV",52,"V",86,"VK_V",a,a],[53,0,32,"KeyW",53,"W",87,"VK_W",a,a],[54,0,33,"KeyX",54,"X",88,"VK_X",a,a],[55,0,34,"KeyY",55,"Y",89,"VK_Y",a,a],[56,0,35,"KeyZ",56,"Z",90,"VK_Z",a,a],[22,0,36,"Digit1",22,"1",49,"VK_1",a,a],[23,0,37,"Digit2",23,"2",50,"VK_2",a,a],[24,0,38,"Digit3",24,"3",51,"VK_3",a,a],[25,0,39,"Digit4",25,"4",52,"VK_4",a,a],[26,0,40,"Digit5",26,"5",53,"VK_5",a,a],[27,0,41,"Digit6",27,"6",54,"VK_6",a,a],[28,0,42,"Digit7",28,"7",55,"VK_7",a,a],[29,0,43,"Digit8",29,"8",56,"VK_8",a,a],[30,0,44,"Digit9",30,"9",57,"VK_9",a,a],[21,0,45,"Digit0",21,"0",48,"VK_0",a,a],[3,1,46,"Enter",3,"Enter",13,"VK_RETURN",a,a],[9,1,47,"Escape",9,"Escape",27,"VK_ESCAPE",a,a],[1,1,48,"Backspace",1,"Backspace",8,"VK_BACK",a,a],[2,1,49,"Tab",2,"Tab",9,"VK_TAB",a,a],[10,1,50,"Space",10,"Space",32,"VK_SPACE",a,a],[83,0,51,"Minus",83,"-",189,"VK_OEM_MINUS","-","OEM_MINUS"],[81,0,52,"Equal",81,"=",187,"VK_OEM_PLUS","=","OEM_PLUS"],[87,0,53,"BracketLeft",87,"[",219,"VK_OEM_4","[","OEM_4"],[89,0,54,"BracketRight",89,"]",221,"VK_OEM_6","]","OEM_6"],[88,0,55,"Backslash",88,"\\",220,"VK_OEM_5","\\","OEM_5"],[0,0,56,"IntlHash",0,a,0,a,a,a],[80,0,57,"Semicolon",80,";",186,"VK_OEM_1",";","OEM_1"],[90,0,58,"Quote",90,"'",222,"VK_OEM_7","'","OEM_7"],[86,0,59,"Backquote",86,"`",192,"VK_OEM_3","`","OEM_3"],[82,0,60,"Comma",82,",",188,"VK_OEM_COMMA",",","OEM_COMMA"],[84,0,61,"Period",84,".",190,"VK_OEM_PERIOD",".","OEM_PERIOD"],[85,0,62,"Slash",85,"/",191,"VK_OEM_2","/","OEM_2"],[8,1,63,"CapsLock",8,"CapsLock",20,"VK_CAPITAL",a,a],[59,1,64,"F1",59,"F1",112,"VK_F1",a,a],[60,1,65,"F2",60,"F2",113,"VK_F2",a,a],[61,1,66,"F3",61,"F3",114,"VK_F3",a,a],[62,1,67,"F4",62,"F4",115,"VK_F4",a,a],[63,1,68,"F5",63,"F5",116,"VK_F5",a,a],[64,1,69,"F6",64,"F6",117,"VK_F6",a,a],[65,1,70,"F7",65,"F7",118,"VK_F7",a,a],[66,1,71,"F8",66,"F8",119,"VK_F8",a,a],[67,1,72,"F9",67,"F9",120,"VK_F9",a,a],[68,1,73,"F10",68,"F10",121,"VK_F10",a,a],[69,1,74,"F11",69,"F11",122,"VK_F11",a,a],[70,1,75,"F12",70,"F12",123,"VK_F12",a,a],[0,1,76,"PrintScreen",0,a,0,a,a,a],[79,1,77,"ScrollLock",79,"ScrollLock",145,"VK_SCROLL",a,a],[7,1,78,"Pause",7,"PauseBreak",19,"VK_PAUSE",a,a],[19,1,79,"Insert",19,"Insert",45,"VK_INSERT",a,a],[14,1,80,"Home",14,"Home",36,"VK_HOME",a,a],[11,1,81,"PageUp",11,"PageUp",33,"VK_PRIOR",a,a],[20,1,82,"Delete",20,"Delete",46,"VK_DELETE",a,a],[13,1,83,"End",13,"End",35,"VK_END",a,a],[12,1,84,"PageDown",12,"PageDown",34,"VK_NEXT",a,a],[17,1,85,"ArrowRight",17,"RightArrow",39,"VK_RIGHT","Right",a],[15,1,86,"ArrowLeft",15,"LeftArrow",37,"VK_LEFT","Left",a],[18,1,87,"ArrowDown",18,"DownArrow",40,"VK_DOWN","Down",a],[16,1,88,"ArrowUp",16,"UpArrow",38,"VK_UP","Up",a],[78,1,89,"NumLock",78,"NumLock",144,"VK_NUMLOCK",a,a],[108,1,90,"NumpadDivide",108,"NumPad_Divide",111,"VK_DIVIDE",a,a],[103,1,91,"NumpadMultiply",103,"NumPad_Multiply",106,"VK_MULTIPLY",a,a],[106,1,92,"NumpadSubtract",106,"NumPad_Subtract",109,"VK_SUBTRACT",a,a],[104,1,93,"NumpadAdd",104,"NumPad_Add",107,"VK_ADD",a,a],[3,1,94,"NumpadEnter",3,a,0,a,a,a],[94,1,95,"Numpad1",94,"NumPad1",97,"VK_NUMPAD1",a,a],[95,1,96,"Numpad2",95,"NumPad2",98,"VK_NUMPAD2",a,a],[96,1,97,"Numpad3",96,"NumPad3",99,"VK_NUMPAD3",a,a],[97,1,98,"Numpad4",97,"NumPad4",100,"VK_NUMPAD4",a,a],[98,1,99,"Numpad5",98,"NumPad5",101,"VK_NUMPAD5",a,a],[99,1,100,"Numpad6",99,"NumPad6",102,"VK_NUMPAD6",a,a],[100,1,101,"Numpad7",100,"NumPad7",103,"VK_NUMPAD7",a,a],[101,1,102,"Numpad8",101,"NumPad8",104,"VK_NUMPAD8",a,a],[102,1,103,"Numpad9",102,"NumPad9",105,"VK_NUMPAD9",a,a],[93,1,104,"Numpad0",93,"NumPad0",96,"VK_NUMPAD0",a,a],[107,1,105,"NumpadDecimal",107,"NumPad_Decimal",110,"VK_DECIMAL",a,a],[92,0,106,"IntlBackslash",92,"OEM_102",226,"VK_OEM_102",a,a],[58,1,107,"ContextMenu",58,"ContextMenu",93,a,a,a],[0,1,108,"Power",0,a,0,a,a,a],[0,1,109,"NumpadEqual",0,a,0,a,a,a],[71,1,110,"F13",71,"F13",124,"VK_F13",a,a],[72,1,111,"F14",72,"F14",125,"VK_F14",a,a],[73,1,112,"F15",73,"F15",126,"VK_F15",a,a],[74,1,113,"F16",74,"F16",127,"VK_F16",a,a],[75,1,114,"F17",75,"F17",128,"VK_F17",a,a],[76,1,115,"F18",76,"F18",129,"VK_F18",a,a],[77,1,116,"F19",77,"F19",130,"VK_F19",a,a],[0,1,117,"F20",0,a,0,"VK_F20",a,a],[0,1,118,"F21",0,a,0,"VK_F21",a,a],[0,1,119,"F22",0,a,0,"VK_F22",a,a],[0,1,120,"F23",0,a,0,"VK_F23",a,a],[0,1,121,"F24",0,a,0,"VK_F24",a,a],[0,1,122,"Open",0,a,0,a,a,a],[0,1,123,"Help",0,a,0,a,a,a],[0,1,124,"Select",0,a,0,a,a,a],[0,1,125,"Again",0,a,0,a,a,a],[0,1,126,"Undo",0,a,0,a,a,a],[0,1,127,"Cut",0,a,0,a,a,a],[0,1,128,"Copy",0,a,0,a,a,a],[0,1,129,"Paste",0,a,0,a,a,a],[0,1,130,"Find",0,a,0,a,a,a],[0,1,131,"AudioVolumeMute",112,"AudioVolumeMute",173,"VK_VOLUME_MUTE",a,a],[0,1,132,"AudioVolumeUp",113,"AudioVolumeUp",175,"VK_VOLUME_UP",a,a],[0,1,133,"AudioVolumeDown",114,"AudioVolumeDown",174,"VK_VOLUME_DOWN",a,a],[105,1,134,"NumpadComma",105,"NumPad_Separator",108,"VK_SEPARATOR",a,a],[110,0,135,"IntlRo",110,"ABNT_C1",193,"VK_ABNT_C1",a,a],[0,1,136,"KanaMode",0,a,0,a,a,a],[0,0,137,"IntlYen",0,a,0,a,a,a],[0,1,138,"Convert",0,a,0,a,a,a],[0,1,139,"NonConvert",0,a,0,a,a,a],[0,1,140,"Lang1",0,a,0,a,a,a],[0,1,141,"Lang2",0,a,0,a,a,a],[0,1,142,"Lang3",0,a,0,a,a,a],[0,1,143,"Lang4",0,a,0,a,a,a],[0,1,144,"Lang5",0,a,0,a,a,a],[0,1,145,"Abort",0,a,0,a,a,a],[0,1,146,"Props",0,a,0,a,a,a],[0,1,147,"NumpadParenLeft",0,a,0,a,a,a],[0,1,148,"NumpadParenRight",0,a,0,a,a,a],[0,1,149,"NumpadBackspace",0,a,0,a,a,a],[0,1,150,"NumpadMemoryStore",0,a,0,a,a,a],[0,1,151,"NumpadMemoryRecall",0,a,0,a,a,a],[0,1,152,"NumpadMemoryClear",0,a,0,a,a,a],[0,1,153,"NumpadMemoryAdd",0,a,0,a,a,a],[0,1,154,"NumpadMemorySubtract",0,a,0,a,a,a],[0,1,155,"NumpadClear",126,"Clear",12,"VK_CLEAR",a,a],[0,1,156,"NumpadClearEntry",0,a,0,a,a,a],[5,1,0,a,5,"Ctrl",17,"VK_CONTROL",a,a],[4,1,0,a,4,"Shift",16,"VK_SHIFT",a,a],[6,1,0,a,6,"Alt",18,"VK_MENU",a,a],[57,1,0,a,57,"Meta",0,"VK_COMMAND",a,a],[5,1,157,"ControlLeft",5,a,0,"VK_LCONTROL",a,a],[4,1,158,"ShiftLeft",4,a,0,"VK_LSHIFT",a,a],[6,1,159,"AltLeft",6,a,0,"VK_LMENU",a,a],[57,1,160,"MetaLeft",57,a,0,"VK_LWIN",a,a],[5,1,161,"ControlRight",5,a,0,"VK_RCONTROL",a,a],[4,1,162,"ShiftRight",4,a,0,"VK_RSHIFT",a,a],[6,1,163,"AltRight",6,a,0,"VK_RMENU",a,a],[57,1,164,"MetaRight",57,a,0,"VK_RWIN",a,a],[0,1,165,"BrightnessUp",0,a,0,a,a,a],[0,1,166,"BrightnessDown",0,a,0,a,a,a],[0,1,167,"MediaPlay",0,a,0,a,a,a],[0,1,168,"MediaRecord",0,a,0,a,a,a],[0,1,169,"MediaFastForward",0,a,0,a,a,a],[0,1,170,"MediaRewind",0,a,0,a,a,a],[114,1,171,"MediaTrackNext",119,"MediaTrackNext",176,"VK_MEDIA_NEXT_TRACK",a,a],[115,1,172,"MediaTrackPrevious",120,"MediaTrackPrevious",177,"VK_MEDIA_PREV_TRACK",a,a],[116,1,173,"MediaStop",121,"MediaStop",178,"VK_MEDIA_STOP",a,a],[0,1,174,"Eject",0,a,0,a,a,a],[117,1,175,"MediaPlayPause",122,"MediaPlayPause",179,"VK_MEDIA_PLAY_PAUSE",a,a],[0,1,176,"MediaSelect",123,"LaunchMediaPlayer",181,"VK_MEDIA_LAUNCH_MEDIA_SELECT",a,a],[0,1,177,"LaunchMail",124,"LaunchMail",180,"VK_MEDIA_LAUNCH_MAIL",a,a],[0,1,178,"LaunchApp2",125,"LaunchApp2",183,"VK_MEDIA_LAUNCH_APP2",a,a],[0,1,179,"LaunchApp1",0,a,0,"VK_MEDIA_LAUNCH_APP1",a,a],[0,1,180,"SelectTask",0,a,0,a,a,a],[0,1,181,"LaunchScreenSaver",0,a,0,a,a,a],[0,1,182,"BrowserSearch",115,"BrowserSearch",170,"VK_BROWSER_SEARCH",a,a],[0,1,183,"BrowserHome",116,"BrowserHome",172,"VK_BROWSER_HOME",a,a],[112,1,184,"BrowserBack",117,"BrowserBack",166,"VK_BROWSER_BACK",a,a],[113,1,185,"BrowserForward",118,"BrowserForward",167,"VK_BROWSER_FORWARD",a,a],[0,1,186,"BrowserStop",0,a,0,"VK_BROWSER_STOP",a,a],[0,1,187,"BrowserRefresh",0,a,0,"VK_BROWSER_REFRESH",a,a],[0,1,188,"BrowserFavorites",0,a,0,"VK_BROWSER_FAVORITES",a,a],[0,1,189,"ZoomToggle",0,a,0,a,a,a],[0,1,190,"MailReply",0,a,0,a,a,a],[0,1,191,"MailForward",0,a,0,a,a,a],[0,1,192,"MailSend",0,a,0,a,a,a],[109,1,0,a,109,"KeyInComposition",229,a,a,a],[111,1,0,a,111,"ABNT_C2",194,"VK_ABNT_C2",a,a],[91,1,0,a,91,"OEM_8",223,"VK_OEM_8",a,a],[0,1,0,a,0,a,0,"VK_KANA",a,a],[0,1,0,a,0,a,0,"VK_HANGUL",a,a],[0,1,0,a,0,a,0,"VK_JUNJA",a,a],[0,1,0,a,0,a,0,"VK_FINAL",a,a],[0,1,0,a,0,a,0,"VK_HANJA",a,a],[0,1,0,a,0,a,0,"VK_KANJI",a,a],[0,1,0,a,0,a,0,"VK_CONVERT",a,a],[0,1,0,a,0,a,0,"VK_NONCONVERT",a,a],[0,1,0,a,0,a,0,"VK_ACCEPT",a,a],[0,1,0,a,0,a,0,"VK_MODECHANGE",a,a],[0,1,0,a,0,a,0,"VK_SELECT",a,a],[0,1,0,a,0,a,0,"VK_PRINT",a,a],[0,1,0,a,0,a,0,"VK_EXECUTE",a,a],[0,1,0,a,0,a,0,"VK_SNAPSHOT",a,a],[0,1,0,a,0,a,0,"VK_HELP",a,a],[0,1,0,a,0,a,0,"VK_APPS",a,a],[0,1,0,a,0,a,0,"VK_PROCESSKEY",a,a],[0,1,0,a,0,a,0,"VK_PACKET",a,a],[0,1,0,a,0,a,0,"VK_DBE_SBCSCHAR",a,a],[0,1,0,a,0,a,0,"VK_DBE_DBCSCHAR",a,a],[0,1,0,a,0,a,0,"VK_ATTN",a,a],[0,1,0,a,0,a,0,"VK_CRSEL",a,a],[0,1,0,a,0,a,0,"VK_EXSEL",a,a],[0,1,0,a,0,a,0,"VK_EREOF",a,a],[0,1,0,a,0,a,0,"VK_PLAY",a,a],[0,1,0,a,0,a,0,"VK_ZOOM",a,a],[0,1,0,a,0,a,0,"VK_NONAME",a,a],[0,1,0,a,0,a,0,"VK_PA1",a,a],[0,1,0,a,0,a,0,"VK_OEM_CLEAR",a,a]],D=[],N=[];for(const I of b){const[E,O,R,M,K,Z,te,de,ge,le]=I;if(N[R]||(N[R]=!0,P[R]=M,A[M]=R,T[M.toLowerCase()]=R,O&&(S[R]=K,K!==0&&K!==3&&K!==5&&K!==4&&K!==6&&K!==57&&(_[K]=R))),!D[K]){if(D[K]=!0,!Z)throw new Error(`String representation missing for key code ${K} around scan code ${M}`);d.define(K,Z),j.define(K,ge||Z),W.define(K,le||ge||Z)}te&&(L[te]=K),de&&(z[de]=K)}_[3]=46})();var y;(function(a){function b(R){return d.keyCodeToStr(R)}a.toString=b;function D(R){return d.strToKeyCode(R)}a.fromString=D;function N(R){return j.keyCodeToStr(R)}a.toUserSettingsUS=N;function I(R){return W.keyCodeToStr(R)}a.toUserSettingsGeneral=I;function E(R){return j.strToKeyCode(R)||W.strToKeyCode(R)}a.fromUserSettings=E;function O(R){if(R>=93&&R<=108)return null;switch(R){case 16:return"Up";case 18:return"Down";case 15:return"Left";case 17:return"Right"}return d.keyCodeToStr(R)}a.toElectronAccelerator=O})(y||(y={}));function u(a,b){const D=(b&65535)<<16>>>0;return(a|D)>>>0}},82499:function(nt,xe,l){"use strict";l.d(xe,{X4:function(){return W},jC:function(){return L},xo:function(){return j}});var C=l(83218);class d{constructor(T,S,_=S){this.modifierLabels=[null],this.modifierLabels[2]=T,this.modifierLabels[1]=S,this.modifierLabels[3]=_}toLabel(T,S,_){if(S.length===0)return null;const y=[];for(let u=0,a=S.length;u<a;u++){const b=S[u],D=_(b);if(D===null)return null;y[u]=P(b,D,this.modifierLabels[T])}return y.join(" ")}}const j=new d({ctrlKey:"\u2303",shiftKey:"\u21E7",altKey:"\u2325",metaKey:"\u2318",separator:""},{ctrlKey:C.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:C.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:C.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:C.NC({key:"windowsKey",comment:["This is the short form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:C.NC({key:"ctrlKey",comment:["This is the short form for the Control key on the keyboard"]},"Ctrl"),shiftKey:C.NC({key:"shiftKey",comment:["This is the short form for the Shift key on the keyboard"]},"Shift"),altKey:C.NC({key:"altKey",comment:["This is the short form for the Alt key on the keyboard"]},"Alt"),metaKey:C.NC({key:"superKey",comment:["This is the short form for the Super key on the keyboard"]},"Super"),separator:"+"}),W=new d({ctrlKey:C.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:C.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:C.NC({key:"optKey.long",comment:["This is the long form for the Alt/Option key on the keyboard"]},"Option"),metaKey:C.NC({key:"cmdKey.long",comment:["This is the long form for the Command key on the keyboard"]},"Command"),separator:"+"},{ctrlKey:C.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:C.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:C.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:C.NC({key:"windowsKey.long",comment:["This is the long form for the Windows key on the keyboard"]},"Windows"),separator:"+"},{ctrlKey:C.NC({key:"ctrlKey.long",comment:["This is the long form for the Control key on the keyboard"]},"Control"),shiftKey:C.NC({key:"shiftKey.long",comment:["This is the long form for the Shift key on the keyboard"]},"Shift"),altKey:C.NC({key:"altKey.long",comment:["This is the long form for the Alt key on the keyboard"]},"Alt"),metaKey:C.NC({key:"superKey.long",comment:["This is the long form for the Super key on the keyboard"]},"Super"),separator:"+"}),L=new d({ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Cmd",separator:"+"},{ctrlKey:"Ctrl",shiftKey:"Shift",altKey:"Alt",metaKey:"Super",separator:"+"}),z=new d({ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"cmd",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"win",separator:"+"},{ctrlKey:"ctrl",shiftKey:"shift",altKey:"alt",metaKey:"meta",separator:"+"});function P(A,T,S){if(T===null)return"";const _=[];return A.ctrlKey&&_.push(S.ctrlKey),A.shiftKey&&_.push(S.shiftKey),A.altKey&&_.push(S.altKey),A.metaKey&&_.push(S.metaKey),T!==""&&_.push(T),_.join(S.separator)}},44174:function(nt,xe,l){"use strict";l.d(xe,{BQ:function(){return P},QC:function(){return W},X_:function(){return L},f1:function(){return A},gm:function(){return d}});var C=l(708);function d(T,S){if(T===0)return null;const _=(T&65535)>>>0,y=(T&4294901760)>>>16;return y!==0?new L([j(_,S),j(y,S)]):new L([j(_,S)])}function j(T,S){const _=!!(T&2048),y=!!(T&256),u=S===2?y:_,a=!!(T&1024),b=!!(T&512),D=S===2?_:y,N=T&255;return new W(u,a,b,D,N)}class W{constructor(S,_,y,u,a){this.ctrlKey=S,this.shiftKey=_,this.altKey=y,this.metaKey=u,this.keyCode=a}equals(S){return this.ctrlKey===S.ctrlKey&&this.shiftKey===S.shiftKey&&this.altKey===S.altKey&&this.metaKey===S.metaKey&&this.keyCode===S.keyCode}isModifierKey(){return this.keyCode===0||this.keyCode===5||this.keyCode===57||this.keyCode===6||this.keyCode===4}toChord(){return new L([this])}isDuplicateModifierCase(){return this.ctrlKey&&this.keyCode===5||this.shiftKey&&this.keyCode===4||this.altKey&&this.keyCode===6||this.metaKey&&this.keyCode===57}}class L{constructor(S){if(S.length===0)throw(0,C.b1)("parts");this.parts=S}}class z{constructor(S,_,y,u,a){this.ctrlKey=S,this.shiftKey=_,this.altKey=y,this.metaKey=u,this.scanCode=a}isDuplicateModifierCase(){return this.ctrlKey&&(this.scanCode===157||this.scanCode===161)||this.shiftKey&&(this.scanCode===158||this.scanCode===162)||this.altKey&&(this.scanCode===159||this.scanCode===163)||this.metaKey&&(this.scanCode===160||this.scanCode===164)}}class P{constructor(S,_,y,u,a,b){this.ctrlKey=S,this.shiftKey=_,this.altKey=y,this.metaKey=u,this.keyLabel=a,this.keyAriaLabel=b}}class A{}},79320:function(nt,xe,l){"use strict";l.d(xe,{o:function(){return C}});class C{constructor(j){this.executor=j,this._didRun=!1}hasValue(){return this._didRun}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(j){this._error=j}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}}},94214:function(nt,xe,l){"use strict";l.d(xe,{B9:function(){return u},F8:function(){return a},JT:function(){return N},Jz:function(){return R},L6:function(){return E},OF:function(){return b},SL:function(){return D},Wf:function(){return y},XK:function(){return I},dk:function(){return S},dt:function(){return O}});var C=l(48466),d=l(37371);const j=!1;let W=null;function L(M){W=M}if(j){const M="__is_disposable_tracked__";L(new class{trackDisposable(K){const Z=new Error("Potentially leaked disposable").stack;setTimeout(()=>{K[M]||console.log(Z)},3e3)}setParent(K,Z){if(K&&K!==N.None)try{K[M]=!0}catch(te){}}markAsDisposed(K){if(K&&K!==N.None)try{K[M]=!0}catch(Z){}}markAsSingleton(K){}})}function z(M){return W==null||W.trackDisposable(M),M}function P(M){W==null||W.markAsDisposed(M)}function A(M,K){W==null||W.setParent(M,K)}function T(M,K){if(!!W)for(const Z of M)W.setParent(Z,K)}function S(M){return W==null||W.markAsSingleton(M),M}class _ extends Error{constructor(K){super(`Encountered errors while disposing of store. Errors: [${K.join(", ")}]`),this.errors=K}}function y(M){return typeof M.dispose=="function"&&M.dispose.length===0}function u(M){if(d.$.is(M)){const K=[];for(const Z of M)if(Z)try{Z.dispose()}catch(te){K.push(te)}if(K.length===1)throw K[0];if(K.length>1)throw new _(K);return Array.isArray(M)?[]:M}else if(M)return M.dispose(),M}function a(...M){const K=b(()=>u(M));return T(M,K),K}function b(M){const K=z({dispose:(0,C.I)(()=>{P(K),M()})});return K}class D{constructor(){this._toDispose=new Set,this._isDisposed=!1,z(this)}dispose(){this._isDisposed||(P(this),this._isDisposed=!0,this.clear())}get isDisposed(){return this._isDisposed}clear(){try{u(this._toDispose.values())}finally{this._toDispose.clear()}}add(K){if(!K)return K;if(K===this)throw new Error("Cannot register a disposable on itself!");return A(K,this),this._isDisposed?D.DISABLE_DISPOSED_WARNING||console.warn(new Error("Trying to add a disposable to a DisposableStore that has already been disposed of. The added object will be leaked!").stack):this._toDispose.add(K),K}}D.DISABLE_DISPOSED_WARNING=!1;class N{constructor(){this._store=new D,z(this),A(this._store,this)}dispose(){P(this),this._store.dispose()}_register(K){if(K===this)throw new Error("Cannot register a disposable on itself!");return this._store.add(K)}}N.None=Object.freeze({dispose(){}});class I{constructor(){this._isDisposed=!1,z(this)}get value(){return this._isDisposed?void 0:this._value}set value(K){var Z;this._isDisposed||K===this._value||((Z=this._value)===null||Z===void 0||Z.dispose(),K&&A(K,this),this._value=K)}clear(){this.value=void 0}dispose(){var K;this._isDisposed=!0,P(this),(K=this._value)===null||K===void 0||K.dispose(),this._value=void 0}clearAndLeak(){const K=this._value;return this._value=void 0,K&&A(K,null),K}}class E{constructor(K){this._disposable=K,this._counter=1}acquire(){return this._counter++,this}release(){return--this._counter===0&&this._disposable.dispose(),this}}class O{constructor(){this.dispose=()=>{},this.unset=()=>{},this.isset=()=>!1,z(this)}set(K){let Z=K;return this.unset=()=>Z=void 0,this.isset=()=>Z!==void 0,this.dispose=()=>{Z&&(Z(),Z=void 0,P(this))},this}}class R{constructor(K){this.object=K}dispose(){}}},69368:function(nt,xe,l){"use strict";l.d(xe,{S:function(){return d}});class C{constructor(W){this.element=W,this.next=C.Undefined,this.prev=C.Undefined}}C.Undefined=new C(void 0);class d{constructor(){this._first=C.Undefined,this._last=C.Undefined,this._size=0}get size(){return this._size}isEmpty(){return this._first===C.Undefined}clear(){let W=this._first;for(;W!==C.Undefined;){const L=W.next;W.prev=C.Undefined,W.next=C.Undefined,W=L}this._first=C.Undefined,this._last=C.Undefined,this._size=0}unshift(W){return this._insert(W,!1)}push(W){return this._insert(W,!0)}_insert(W,L){const z=new C(W);if(this._first===C.Undefined)this._first=z,this._last=z;else if(L){const A=this._last;this._last=z,z.prev=A,A.next=z}else{const A=this._first;this._first=z,z.next=A,A.prev=z}this._size+=1;let P=!1;return()=>{P||(P=!0,this._remove(z))}}shift(){if(this._first!==C.Undefined){const W=this._first.element;return this._remove(this._first),W}}pop(){if(this._last!==C.Undefined){const W=this._last.element;return this._remove(this._last),W}}_remove(W){if(W.prev!==C.Undefined&&W.next!==C.Undefined){const L=W.prev;L.next=W.next,W.next.prev=L}else W.prev===C.Undefined&&W.next===C.Undefined?(this._first=C.Undefined,this._last=C.Undefined):W.next===C.Undefined?(this._last=this._last.prev,this._last.next=C.Undefined):W.prev===C.Undefined&&(this._first=this._first.next,this._first.prev=C.Undefined);this._size-=1}*[Symbol.iterator](){let W=this._first;for(;W!==C.Undefined;)yield W.element,W=W.next}}},36230:function(nt,xe,l){"use strict";l.d(xe,{Id:function(){return T},Y9:function(){return _},z6:function(){return u}});var C=l(22297),d,j;class W{constructor(){this._value="",this._pos=0}reset(b){return this._value=b,this._pos=0,this}next(){return this._pos+=1,this}hasNext(){return this._pos<this._value.length-1}cmp(b){const D=b.charCodeAt(0),N=this._value.charCodeAt(this._pos);return D-N}value(){return this._value[this._pos]}}class L{constructor(b=!0){this._caseSensitive=b}reset(b){return this._value=b,this._from=0,this._to=0,this.next()}hasNext(){return this._to<this._value.length}next(){this._from=this._to;let b=!0;for(;this._to<this._value.length;this._to++)if(this._value.charCodeAt(this._to)===46)if(b)this._from++;else break;else b=!1;return this}cmp(b){return this._caseSensitive?(0,C.TT)(b,this._value,0,b.length,this._from,this._to):(0,C.j_)(b,this._value,0,b.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class z{constructor(b=!0,D=!0){this._splitOnBackslash=b,this._caseSensitive=D}reset(b){this._from=0,this._to=0,this._value=b,this._valueLen=b.length;for(let D=b.length-1;D>=0;D--,this._valueLen--){const N=this._value.charCodeAt(D);if(!(N===47||this._splitOnBackslash&&N===92))break}return this.next()}hasNext(){return this._to<this._valueLen}next(){this._from=this._to;let b=!0;for(;this._to<this._valueLen;this._to++){const D=this._value.charCodeAt(this._to);if(D===47||this._splitOnBackslash&&D===92)if(b)this._from++;else break;else b=!1}return this}cmp(b){return this._caseSensitive?(0,C.TT)(b,this._value,0,b.length,this._from,this._to):(0,C.j_)(b,this._value,0,b.length,this._from,this._to)}value(){return this._value.substring(this._from,this._to)}}class P{constructor(b,D){this._ignorePathCasing=b,this._ignoreQueryAndFragment=D,this._states=[],this._stateIdx=0}reset(b){return this._value=b,this._states=[],this._value.scheme&&this._states.push(1),this._value.authority&&this._states.push(2),this._value.path&&(this._pathIterator=new z(!1,!this._ignorePathCasing(b)),this._pathIterator.reset(b.path),this._pathIterator.value()&&this._states.push(3)),this._ignoreQueryAndFragment(b)||(this._value.query&&this._states.push(4),this._value.fragment&&this._states.push(5)),this._stateIdx=0,this}next(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()?this._pathIterator.next():this._stateIdx+=1,this}hasNext(){return this._states[this._stateIdx]===3&&this._pathIterator.hasNext()||this._stateIdx<this._states.length-1}cmp(b){if(this._states[this._stateIdx]===1)return(0,C.zY)(b,this._value.scheme);if(this._states[this._stateIdx]===2)return(0,C.zY)(b,this._value.authority);if(this._states[this._stateIdx]===3)return this._pathIterator.cmp(b);if(this._states[this._stateIdx]===4)return(0,C.qu)(b,this._value.query);if(this._states[this._stateIdx]===5)return(0,C.qu)(b,this._value.fragment);throw new Error}value(){if(this._states[this._stateIdx]===1)return this._value.scheme;if(this._states[this._stateIdx]===2)return this._value.authority;if(this._states[this._stateIdx]===3)return this._pathIterator.value();if(this._states[this._stateIdx]===4)return this._value.query;if(this._states[this._stateIdx]===5)return this._value.fragment;throw new Error}}class A{constructor(){this.height=1}rotateLeft(){const b=this.right;return this.right=b.left,b.left=this,this.updateHeight(),b.updateHeight(),b}rotateRight(){const b=this.left;return this.left=b.right,b.right=this,this.updateHeight(),b.updateHeight(),b}updateHeight(){this.height=1+Math.max(this.heightLeft,this.heightRight)}balanceFactor(){return this.heightRight-this.heightLeft}get heightLeft(){var b,D;return(D=(b=this.left)===null||b===void 0?void 0:b.height)!==null&&D!==void 0?D:0}get heightRight(){var b,D;return(D=(b=this.right)===null||b===void 0?void 0:b.height)!==null&&D!==void 0?D:0}}class T{constructor(b){this._iter=b}static forUris(b=()=>!1,D=()=>!1){return new T(new P(b,D))}static forStrings(){return new T(new W)}static forConfigKeys(){return new T(new L)}clear(){this._root=void 0}set(b,D){const N=this._iter.reset(b);let I;this._root||(this._root=new A,this._root.segment=N.value());const E=[];for(I=this._root;;){const R=N.cmp(I.segment);if(R>0)I.left||(I.left=new A,I.left.segment=N.value()),E.push([-1,I]),I=I.left;else if(R<0)I.right||(I.right=new A,I.right.segment=N.value()),E.push([1,I]),I=I.right;else if(N.hasNext())N.next(),I.mid||(I.mid=new A,I.mid.segment=N.value()),E.push([0,I]),I=I.mid;else break}const O=I.value;I.value=D,I.key=b;for(let R=E.length-1;R>=0;R--){const M=E[R][1];M.updateHeight();const K=M.balanceFactor();if(K<-1||K>1){const Z=E[R][0],te=E[R+1][0];if(Z===1&&te===1)E[R][1]=M.rotateLeft();else if(Z===-1&&te===-1)E[R][1]=M.rotateRight();else if(Z===1&&te===-1)M.right=E[R+1][1]=E[R+1][1].rotateRight(),E[R][1]=M.rotateLeft();else if(Z===-1&&te===1)M.left=E[R+1][1]=E[R+1][1].rotateLeft(),E[R][1]=M.rotateRight();else throw new Error;if(R>0)switch(E[R-1][0]){case-1:E[R-1][1].left=E[R][1];break;case 1:E[R-1][1].right=E[R][1];break;case 0:E[R-1][1].mid=E[R][1];break}else this._root=E[0][1]}}return O}get(b){var D;return(D=this._getNode(b))===null||D===void 0?void 0:D.value}_getNode(b){const D=this._iter.reset(b);let N=this._root;for(;N;){const I=D.cmp(N.segment);if(I>0)N=N.left;else if(I<0)N=N.right;else if(D.hasNext())D.next(),N=N.mid;else break}return N}has(b){const D=this._getNode(b);return!((D==null?void 0:D.value)===void 0&&(D==null?void 0:D.mid)===void 0)}delete(b){return this._delete(b,!1)}deleteSuperstr(b){return this._delete(b,!0)}_delete(b,D){var N;const I=this._iter.reset(b),E=[];let O=this._root;for(;O;){const R=I.cmp(O.segment);if(R>0)E.push([-1,O]),O=O.left;else if(R<0)E.push([1,O]),O=O.right;else if(I.hasNext())I.next(),E.push([0,O]),O=O.mid;else break}if(!!O){if(D?(O.left=void 0,O.mid=void 0,O.right=void 0,O.height=1):(O.key=void 0,O.value=void 0),!O.mid&&!O.value)if(O.left&&O.right){const R=this._min(O.right),{key:M,value:K,segment:Z}=R;this._delete(R.key,!1),O.key=M,O.value=K,O.segment=Z}else{const R=(N=O.left)!==null&&N!==void 0?N:O.right;if(E.length>0){const[M,K]=E[E.length-1];switch(M){case-1:K.left=R;break;case 0:K.mid=R;break;case 1:K.right=R;break}}else this._root=R}for(let R=E.length-1;R>=0;R--){const M=E[R][1];M.updateHeight();const K=M.balanceFactor();if(K>1?(M.right.balanceFactor()>=0||(M.right=M.right.rotateRight()),E[R][1]=M.rotateLeft()):K<-1&&(M.left.balanceFactor()<=0||(M.left=M.left.rotateLeft()),E[R][1]=M.rotateRight()),R>0)switch(E[R-1][0]){case-1:E[R-1][1].left=E[R][1];break;case 1:E[R-1][1].right=E[R][1];break;case 0:E[R-1][1].mid=E[R][1];break}else this._root=E[0][1]}}}_min(b){for(;b.left;)b=b.left;return b}findSubstr(b){const D=this._iter.reset(b);let N=this._root,I;for(;N;){const E=D.cmp(N.segment);if(E>0)N=N.left;else if(E<0)N=N.right;else if(D.hasNext())D.next(),I=N.value||I,N=N.mid;else break}return N&&N.value||I}findSuperstr(b){const D=this._iter.reset(b);let N=this._root;for(;N;){const I=D.cmp(N.segment);if(I>0)N=N.left;else if(I<0)N=N.right;else if(D.hasNext())D.next(),N=N.mid;else return N.mid?this._entries(N.mid):void 0}}forEach(b){for(const[D,N]of this)b(N,D)}*[Symbol.iterator](){yield*this._entries(this._root)}_entries(b){const D=[];return this._dfsEntries(b,D),D[Symbol.iterator]()}_dfsEntries(b,D){!b||(b.left&&this._dfsEntries(b.left,D),b.value&&D.push([b.key,b.value]),b.mid&&this._dfsEntries(b.mid,D),b.right&&this._dfsEntries(b.right,D))}}class S{constructor(b,D){this.uri=b,this.value=D}}class _{constructor(b,D){this[d]="ResourceMap",b instanceof _?(this.map=new Map(b.map),this.toKey=D!=null?D:_.defaultToKey):(this.map=new Map,this.toKey=b!=null?b:_.defaultToKey)}set(b,D){return this.map.set(this.toKey(b),new S(b,D)),this}get(b){var D;return(D=this.map.get(this.toKey(b)))===null||D===void 0?void 0:D.value}has(b){return this.map.has(this.toKey(b))}get size(){return this.map.size}clear(){this.map.clear()}delete(b){return this.map.delete(this.toKey(b))}forEach(b,D){typeof D!="undefined"&&(b=b.bind(D));for(const[N,I]of this.map)b(I.value,I.uri,this)}*values(){for(const b of this.map.values())yield b.value}*keys(){for(const b of this.map.values())yield b.uri}*entries(){for(const b of this.map.values())yield[b.uri,b.value]}*[(d=Symbol.toStringTag,Symbol.iterator)](){for(const[,b]of this.map)yield[b.uri,b.value]}}_.defaultToKey=a=>a.toString();class y{constructor(){this[j]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){var b;return(b=this._head)===null||b===void 0?void 0:b.value}get last(){var b;return(b=this._tail)===null||b===void 0?void 0:b.value}has(b){return this._map.has(b)}get(b,D=0){const N=this._map.get(b);if(!!N)return D!==0&&this.touch(N,D),N.value}set(b,D,N=0){let I=this._map.get(b);if(I)I.value=D,N!==0&&this.touch(I,N);else{switch(I={key:b,value:D,next:void 0,previous:void 0},N){case 0:this.addItemLast(I);break;case 1:this.addItemFirst(I);break;case 2:this.addItemLast(I);break;default:this.addItemLast(I);break}this._map.set(b,I),this._size++}return this}delete(b){return!!this.remove(b)}remove(b){const D=this._map.get(b);if(!!D)return this._map.delete(b),this.removeItem(D),this._size--,D.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const b=this._head;return this._map.delete(b.key),this.removeItem(b),this._size--,b.value}forEach(b,D){const N=this._state;let I=this._head;for(;I;){if(D?b.bind(D)(I.value,I.key,this):b(I.value,I.key,this),this._state!==N)throw new Error("LinkedMap got modified during iteration.");I=I.next}}keys(){const b=this,D=this._state;let N=this._head;const I={[Symbol.iterator](){return I},next(){if(b._state!==D)throw new Error("LinkedMap got modified during iteration.");if(N){const E={value:N.key,done:!1};return N=N.next,E}else return{value:void 0,done:!0}}};return I}values(){const b=this,D=this._state;let N=this._head;const I={[Symbol.iterator](){return I},next(){if(b._state!==D)throw new Error("LinkedMap got modified during iteration.");if(N){const E={value:N.value,done:!1};return N=N.next,E}else return{value:void 0,done:!0}}};return I}entries(){const b=this,D=this._state;let N=this._head;const I={[Symbol.iterator](){return I},next(){if(b._state!==D)throw new Error("LinkedMap got modified during iteration.");if(N){const E={value:[N.key,N.value],done:!1};return N=N.next,E}else return{value:void 0,done:!0}}};return I}[(j=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(b){if(b>=this.size)return;if(b===0){this.clear();return}let D=this._head,N=this.size;for(;D&&N>b;)this._map.delete(D.key),D=D.next,N--;this._head=D,this._size=N,D&&(D.previous=void 0),this._state++}addItemFirst(b){if(!this._head&&!this._tail)this._tail=b;else if(this._head)b.next=this._head,this._head.previous=b;else throw new Error("Invalid list");this._head=b,this._state++}addItemLast(b){if(!this._head&&!this._tail)this._head=b;else if(this._tail)b.previous=this._tail,this._tail.next=b;else throw new Error("Invalid list");this._tail=b,this._state++}removeItem(b){if(b===this._head&&b===this._tail)this._head=void 0,this._tail=void 0;else if(b===this._head){if(!b.next)throw new Error("Invalid list");b.next.previous=void 0,this._head=b.next}else if(b===this._tail){if(!b.previous)throw new Error("Invalid list");b.previous.next=void 0,this._tail=b.previous}else{const D=b.next,N=b.previous;if(!D||!N)throw new Error("Invalid list");D.previous=N,N.next=D}b.next=void 0,b.previous=void 0,this._state++}touch(b,D){if(!this._head||!this._tail)throw new Error("Invalid list");if(!(D!==1&&D!==2)){if(D===1){if(b===this._head)return;const N=b.next,I=b.previous;b===this._tail?(I.next=void 0,this._tail=I):(N.previous=I,I.next=N),b.previous=void 0,b.next=this._head,this._head.previous=b,this._head=b,this._state++}else if(D===2){if(b===this._tail)return;const N=b.next,I=b.previous;b===this._head?(N.previous=void 0,this._head=N):(N.previous=I,I.next=N),b.next=void 0,b.previous=this._tail,this._tail.next=b,this._tail=b,this._state++}}}toJSON(){const b=[];return this.forEach((D,N)=>{b.push([N,D])}),b}fromJSON(b){this.clear();for(const[D,N]of b)this.set(D,N)}}class u extends y{constructor(b,D=1){super(),this._limit=b,this._ratio=Math.min(Math.max(0,D),1)}get limit(){return this._limit}set limit(b){this._limit=b,this.checkTrim()}get(b,D=2){return super.get(b,D)}peek(b){return super.get(b,0)}set(b,D){return super.set(b,D,2),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},72597:function(nt,xe,l){"use strict";l.d(xe,{Q:function(){return j}});var C=l(90357),d=l(92770);function j(L){let z=JSON.parse(L);return z=W(z),z}function W(L,z=0){if(!L||z>200)return L;if(typeof L=="object"){switch(L.$mid){case 1:return d.o.revive(L);case 2:return new RegExp(L.source,L.flags);case 14:return new Date(L.source)}if(L instanceof C.KN||L instanceof Uint8Array)return L;if(Array.isArray(L))for(let P=0;P<L.length;++P)L[P]=W(L[P],z+1);else for(const P in L)Object.hasOwnProperty.call(L,P)&&(L[P]=W(L[P],z+1))}return L}},72086:function(nt,xe,l){"use strict";l.d(xe,{v:function(){return C}});const C=Object.freeze({text:"text/plain",binary:"application/octet-stream",unknown:"application/unknown",markdown:"text/markdown",latex:"text/latex",uriList:"text/uri-list"})},49407:function(nt,xe,l){"use strict";l.d(xe,{Gi:function(){return A},WX:function(){return z},lg:function(){return j}});var C=l(94976),d=l(92770),j;(function(T){T.inMemory="inmemory",T.vscode="vscode",T.internal="private",T.walkThrough="walkThrough",T.walkThroughSnippet="walkThroughSnippet",T.http="http",T.https="https",T.file="file",T.mailto="mailto",T.untitled="untitled",T.data="data",T.command="command",T.vscodeRemote="vscode-remote",T.vscodeRemoteResource="vscode-remote-resource",T.vscodeUserData="vscode-userdata",T.vscodeCustomEditor="vscode-custom-editor",T.vscodeNotebook="vscode-notebook",T.vscodeNotebookCell="vscode-notebook-cell",T.vscodeNotebookCellMetadata="vscode-notebook-cell-metadata",T.vscodeNotebookCellOutput="vscode-notebook-cell-output",T.vscodeInteractive="vscode-interactive",T.vscodeInteractiveInput="vscode-interactive-input",T.vscodeSettings="vscode-settings",T.vscodeWorkspaceTrust="vscode-workspace-trust",T.vscodeTerminal="vscode-terminal",T.webviewPanel="webview-panel",T.vscodeWebview="vscode-webview",T.extension="extension",T.vscodeFileResource="vscode-file",T.tmp="tmp",T.vsls="vsls",T.vscodeSourceControl="vscode-scm"})(j||(j={}));const W="tkn";class L{constructor(){this._hosts=Object.create(null),this._ports=Object.create(null),this._connectionTokens=Object.create(null),this._preferredWebSchema="http",this._delegate=null,this._remoteResourcesPath=`/${j.vscodeRemoteResource}`}setPreferredWebSchema(S){this._preferredWebSchema=S}rewrite(S){if(this._delegate)return this._delegate(S);const _=S.authority;let y=this._hosts[_];y&&y.indexOf(":")!==-1&&(y=`[${y}]`);const u=this._ports[_],a=this._connectionTokens[_];let b=`path=${encodeURIComponent(S.path)}`;return typeof a=="string"&&(b+=`&${W}=${encodeURIComponent(a)}`),d.o.from({scheme:C.$L?this._preferredWebSchema:j.vscodeRemoteResource,authority:`${y}:${u}`,path:this._remoteResourcesPath,query:b})}}const z=new L;class P{asBrowserUri(S,_){const y=this.toUri(S,_);return y.scheme===j.vscodeRemote?z.rewrite(y):y.scheme===j.file&&(C.tY||C.n2&&C.li.origin===`${j.vscodeFileResource}://${P.FALLBACK_AUTHORITY}`)?y.with({scheme:j.vscodeFileResource,authority:y.authority||P.FALLBACK_AUTHORITY,query:null,fragment:null}):y}toUri(S,_){return d.o.isUri(S)?S:d.o.parse(_.toUrl(S))}}P.FALLBACK_AUTHORITY="vscode-app";const A=new P},91959:function(nt,xe,l){"use strict";l.d(xe,{N:function(){return j},nM:function(){return d},uZ:function(){return C}});function C(W,L,z){return Math.min(Math.max(W,L),z)}class d{constructor(){this._n=1,this._val=0}update(L){return this._val=this._val+(L-this._val)/this._n,this._n+=1,this._val}get value(){return this._val}}class j{constructor(L){this._n=0,this._val=0,this._values=[],this._index=0,this._sum=0,this._values=new Array(L),this._values.fill(0,0,L)}update(L){const z=this._values[this._index];return this._values[this._index]=L,this._index=(this._index+1)%this._values.length,this._sum-=z,this._sum+=L,this._n<this._values.length&&(this._n+=1),this._val=this._sum/this._n,this._val}get value(){return this._val}}},43299:function(nt,xe,l){"use strict";l.d(xe,{I8:function(){return d},_A:function(){return j},fS:function(){return A},jB:function(){return P},rs:function(){return L}});var C=l(17014);function d(T){if(!T||typeof T!="object"||T instanceof RegExp)return T;const S=Array.isArray(T)?[]:{};return Object.keys(T).forEach(_=>{T[_]&&typeof T[_]=="object"?S[_]=d(T[_]):S[_]=T[_]}),S}function j(T){if(!T||typeof T!="object")return T;const S=[T];for(;S.length>0;){const _=S.shift();Object.freeze(_);for(const y in _)if(W.call(_,y)){const u=_[y];typeof u=="object"&&!Object.isFrozen(u)&&!(0,C.fU)(u)&&S.push(u)}}return T}const W=Object.prototype.hasOwnProperty;function L(T,S){return z(T,S,new Set)}function z(T,S,_){if((0,C.Jp)(T))return T;const y=S(T);if(typeof y!="undefined")return y;if((0,C.kJ)(T)){const u=[];for(const a of T)u.push(z(a,S,_));return u}if((0,C.Kn)(T)){if(_.has(T))throw new Error("Cannot clone recursive data-structure");_.add(T);const u={};for(const a in T)W.call(T,a)&&(u[a]=z(T[a],S,_));return _.delete(T),u}return T}function P(T,S,_=!0){return(0,C.Kn)(T)?((0,C.Kn)(S)&&Object.keys(S).forEach(y=>{y in T?_&&((0,C.Kn)(T[y])&&(0,C.Kn)(S[y])?P(T[y],S[y],_):T[y]=S[y]):T[y]=S[y]}),T):S}function A(T,S){if(T===S)return!0;if(T==null||S===null||S===void 0||typeof T!=typeof S||typeof T!="object"||Array.isArray(T)!==Array.isArray(S))return!1;let _,y;if(Array.isArray(T)){if(T.length!==S.length)return!1;for(_=0;_<T.length;_++)if(!A(T[_],S[_]))return!1}else{const u=[];for(y in T)u.push(y);u.sort();const a=[];for(y in S)a.push(y);if(a.sort(),!A(u,a))return!1;for(_=0;_<u.length;_++)if(!A(T[u[_]],S[u[_]]))return!1}return!0}},46267:function(nt,xe,l){"use strict";l.d(xe,{EZ:function(){return se},XX:function(){return le},DZ:function(){return X},Fv:function(){return te},KR:function(){return Z},Gf:function(){return ge},DB:function(){return de},ir:function(){return re},Ku:function(){return K}});var C=l(94976),d=l(14224);let j;if(typeof C.li.vscode!="undefined"&&typeof C.li.vscode.process!="undefined"){const ne=C.li.vscode.process;j={get platform(){return ne.platform},get arch(){return ne.arch},get env(){return ne.env},cwd(){return ne.cwd()}}}else typeof d!="undefined"?j={get platform(){return d.platform},get arch(){return d.arch},get env(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}},cwd(){return{NODE_ENV:"production",PUBLIC_PATH:"/"}.VSCODE_CWD||d.cwd()}}:j={get platform(){return C.ED?"win32":C.dz?"darwin":"linux"},get arch(){},get env(){return{}},cwd(){return"/"}};const W=j.cwd,L=j.env,z=j.platform,P=65,A=97,T=90,S=122,_=46,y=47,u=92,a=58,b=63;class D extends Error{constructor(U,oe,q){let ae;typeof oe=="string"&&oe.indexOf("not ")===0?(ae="must not be",oe=oe.replace(/^not /,"")):ae="must be";const me=U.indexOf(".")!==-1?"property":"argument";let ke=`The "${U}" ${me} ${ae} of type ${oe}`;ke+=`. Received type ${typeof q}`,super(ke),this.code="ERR_INVALID_ARG_TYPE"}}function N(ne,U){if(typeof ne!="string")throw new D(U,"string",ne)}function I(ne){return ne===y||ne===u}function E(ne){return ne===y}function O(ne){return ne>=P&&ne<=T||ne>=A&&ne<=S}function R(ne,U,oe,q){let ae="",me=0,ke=-1,H=0,ut=0;for(let Ke=0;Ke<=ne.length;++Ke){if(Ke<ne.length)ut=ne.charCodeAt(Ke);else{if(q(ut))break;ut=y}if(q(ut)){if(!(ke===Ke-1||H===1))if(H===2){if(ae.length<2||me!==2||ae.charCodeAt(ae.length-1)!==_||ae.charCodeAt(ae.length-2)!==_){if(ae.length>2){const He=ae.lastIndexOf(oe);He===-1?(ae="",me=0):(ae=ae.slice(0,He),me=ae.length-1-ae.lastIndexOf(oe)),ke=Ke,H=0;continue}else if(ae.length!==0){ae="",me=0,ke=Ke,H=0;continue}}U&&(ae+=ae.length>0?`${oe}..`:"..",me=2)}else ae.length>0?ae+=`${oe}${ne.slice(ke+1,Ke)}`:ae=ne.slice(ke+1,Ke),me=Ke-ke-1;ke=Ke,H=0}else ut===_&&H!==-1?++H:H=-1}return ae}function M(ne,U){if(U===null||typeof U!="object")throw new D("pathObject","Object",U);const oe=U.dir||U.root,q=U.base||`${U.name||""}${U.ext||""}`;return oe?oe===U.root?`${oe}${q}`:`${oe}${ne}${q}`:q}const K={resolve(...ne){let U="",oe="",q=!1;for(let ae=ne.length-1;ae>=-1;ae--){let me;if(ae>=0){if(me=ne[ae],N(me,"path"),me.length===0)continue}else U.length===0?me=W():(me={NODE_ENV:"production",PUBLIC_PATH:"/"}[`=${U}`]||W(),(me===void 0||me.slice(0,2).toLowerCase()!==U.toLowerCase()&&me.charCodeAt(2)===u)&&(me=`${U}\\`));const ke=me.length;let H=0,ut="",Ke=!1;const He=me.charCodeAt(0);if(ke===1)I(He)&&(H=1,Ke=!0);else if(I(He))if(Ke=!0,I(me.charCodeAt(1))){let ze=2,Le=ze;for(;ze<ke&&!I(me.charCodeAt(ze));)ze++;if(ze<ke&&ze!==Le){const Ze=me.slice(Le,ze);for(Le=ze;ze<ke&&I(me.charCodeAt(ze));)ze++;if(ze<ke&&ze!==Le){for(Le=ze;ze<ke&&!I(me.charCodeAt(ze));)ze++;(ze===ke||ze!==Le)&&(ut=`\\\\${Ze}\\${me.slice(Le,ze)}`,H=ze)}}}else H=1;else O(He)&&me.charCodeAt(1)===a&&(ut=me.slice(0,2),H=2,ke>2&&I(me.charCodeAt(2))&&(Ke=!0,H=3));if(ut.length>0)if(U.length>0){if(ut.toLowerCase()!==U.toLowerCase())continue}else U=ut;if(q){if(U.length>0)break}else if(oe=`${me.slice(H)}\\${oe}`,q=Ke,Ke&&U.length>0)break}return oe=R(oe,!q,"\\",I),q?`${U}\\${oe}`:`${U}${oe}`||"."},normalize(ne){N(ne,"path");const U=ne.length;if(U===0)return".";let oe=0,q,ae=!1;const me=ne.charCodeAt(0);if(U===1)return E(me)?"\\":ne;if(I(me))if(ae=!0,I(ne.charCodeAt(1))){let H=2,ut=H;for(;H<U&&!I(ne.charCodeAt(H));)H++;if(H<U&&H!==ut){const Ke=ne.slice(ut,H);for(ut=H;H<U&&I(ne.charCodeAt(H));)H++;if(H<U&&H!==ut){for(ut=H;H<U&&!I(ne.charCodeAt(H));)H++;if(H===U)return`\\\\${Ke}\\${ne.slice(ut)}\\`;H!==ut&&(q=`\\\\${Ke}\\${ne.slice(ut,H)}`,oe=H)}}}else oe=1;else O(me)&&ne.charCodeAt(1)===a&&(q=ne.slice(0,2),oe=2,U>2&&I(ne.charCodeAt(2))&&(ae=!0,oe=3));let ke=oe<U?R(ne.slice(oe),!ae,"\\",I):"";return ke.length===0&&!ae&&(ke="."),ke.length>0&&I(ne.charCodeAt(U-1))&&(ke+="\\"),q===void 0?ae?`\\${ke}`:ke:ae?`${q}\\${ke}`:`${q}${ke}`},isAbsolute(ne){N(ne,"path");const U=ne.length;if(U===0)return!1;const oe=ne.charCodeAt(0);return I(oe)||U>2&&O(oe)&&ne.charCodeAt(1)===a&&I(ne.charCodeAt(2))},join(...ne){if(ne.length===0)return".";let U,oe;for(let me=0;me<ne.length;++me){const ke=ne[me];N(ke,"path"),ke.length>0&&(U===void 0?U=oe=ke:U+=`\\${ke}`)}if(U===void 0)return".";let q=!0,ae=0;if(typeof oe=="string"&&I(oe.charCodeAt(0))){++ae;const me=oe.length;me>1&&I(oe.charCodeAt(1))&&(++ae,me>2&&(I(oe.charCodeAt(2))?++ae:q=!1))}if(q){for(;ae<U.length&&I(U.charCodeAt(ae));)ae++;ae>=2&&(U=`\\${U.slice(ae)}`)}return K.normalize(U)},relative(ne,U){if(N(ne,"from"),N(U,"to"),ne===U)return"";const oe=K.resolve(ne),q=K.resolve(U);if(oe===q||(ne=oe.toLowerCase(),U=q.toLowerCase(),ne===U))return"";let ae=0;for(;ae<ne.length&&ne.charCodeAt(ae)===u;)ae++;let me=ne.length;for(;me-1>ae&&ne.charCodeAt(me-1)===u;)me--;const ke=me-ae;let H=0;for(;H<U.length&&U.charCodeAt(H)===u;)H++;let ut=U.length;for(;ut-1>H&&U.charCodeAt(ut-1)===u;)ut--;const Ke=ut-H,He=ke<Ke?ke:Ke;let ze=-1,Le=0;for(;Le<He;Le++){const Ge=ne.charCodeAt(ae+Le);if(Ge!==U.charCodeAt(H+Le))break;Ge===u&&(ze=Le)}if(Le!==He){if(ze===-1)return q}else{if(Ke>He){if(U.charCodeAt(H+Le)===u)return q.slice(H+Le+1);if(Le===2)return q.slice(H+Le)}ke>He&&(ne.charCodeAt(ae+Le)===u?ze=Le:Le===2&&(ze=3)),ze===-1&&(ze=0)}let Ze="";for(Le=ae+ze+1;Le<=me;++Le)(Le===me||ne.charCodeAt(Le)===u)&&(Ze+=Ze.length===0?"..":"\\..");return H+=ze,Ze.length>0?`${Ze}${q.slice(H,ut)}`:(q.charCodeAt(H)===u&&++H,q.slice(H,ut))},toNamespacedPath(ne){if(typeof ne!="string")return ne;if(ne.length===0)return"";const U=K.resolve(ne);if(U.length<=2)return ne;if(U.charCodeAt(0)===u){if(U.charCodeAt(1)===u){const oe=U.charCodeAt(2);if(oe!==b&&oe!==_)return`\\\\?\\UNC\\${U.slice(2)}`}}else if(O(U.charCodeAt(0))&&U.charCodeAt(1)===a&&U.charCodeAt(2)===u)return`\\\\?\\${U}`;return ne},dirname(ne){N(ne,"path");const U=ne.length;if(U===0)return".";let oe=-1,q=0;const ae=ne.charCodeAt(0);if(U===1)return I(ae)?ne:".";if(I(ae)){if(oe=q=1,I(ne.charCodeAt(1))){let H=2,ut=H;for(;H<U&&!I(ne.charCodeAt(H));)H++;if(H<U&&H!==ut){for(ut=H;H<U&&I(ne.charCodeAt(H));)H++;if(H<U&&H!==ut){for(ut=H;H<U&&!I(ne.charCodeAt(H));)H++;if(H===U)return ne;H!==ut&&(oe=q=H+1)}}}}else O(ae)&&ne.charCodeAt(1)===a&&(oe=U>2&&I(ne.charCodeAt(2))?3:2,q=oe);let me=-1,ke=!0;for(let H=U-1;H>=q;--H)if(I(ne.charCodeAt(H))){if(!ke){me=H;break}}else ke=!1;if(me===-1){if(oe===-1)return".";me=oe}return ne.slice(0,me)},basename(ne,U){U!==void 0&&N(U,"ext"),N(ne,"path");let oe=0,q=-1,ae=!0,me;if(ne.length>=2&&O(ne.charCodeAt(0))&&ne.charCodeAt(1)===a&&(oe=2),U!==void 0&&U.length>0&&U.length<=ne.length){if(U===ne)return"";let ke=U.length-1,H=-1;for(me=ne.length-1;me>=oe;--me){const ut=ne.charCodeAt(me);if(I(ut)){if(!ae){oe=me+1;break}}else H===-1&&(ae=!1,H=me+1),ke>=0&&(ut===U.charCodeAt(ke)?--ke===-1&&(q=me):(ke=-1,q=H))}return oe===q?q=H:q===-1&&(q=ne.length),ne.slice(oe,q)}for(me=ne.length-1;me>=oe;--me)if(I(ne.charCodeAt(me))){if(!ae){oe=me+1;break}}else q===-1&&(ae=!1,q=me+1);return q===-1?"":ne.slice(oe,q)},extname(ne){N(ne,"path");let U=0,oe=-1,q=0,ae=-1,me=!0,ke=0;ne.length>=2&&ne.charCodeAt(1)===a&&O(ne.charCodeAt(0))&&(U=q=2);for(let H=ne.length-1;H>=U;--H){const ut=ne.charCodeAt(H);if(I(ut)){if(!me){q=H+1;break}continue}ae===-1&&(me=!1,ae=H+1),ut===_?oe===-1?oe=H:ke!==1&&(ke=1):oe!==-1&&(ke=-1)}return oe===-1||ae===-1||ke===0||ke===1&&oe===ae-1&&oe===q+1?"":ne.slice(oe,ae)},format:M.bind(null,"\\"),parse(ne){N(ne,"path");const U={root:"",dir:"",base:"",ext:"",name:""};if(ne.length===0)return U;const oe=ne.length;let q=0,ae=ne.charCodeAt(0);if(oe===1)return I(ae)?(U.root=U.dir=ne,U):(U.base=U.name=ne,U);if(I(ae)){if(q=1,I(ne.charCodeAt(1))){let ze=2,Le=ze;for(;ze<oe&&!I(ne.charCodeAt(ze));)ze++;if(ze<oe&&ze!==Le){for(Le=ze;ze<oe&&I(ne.charCodeAt(ze));)ze++;if(ze<oe&&ze!==Le){for(Le=ze;ze<oe&&!I(ne.charCodeAt(ze));)ze++;ze===oe?q=ze:ze!==Le&&(q=ze+1)}}}}else if(O(ae)&&ne.charCodeAt(1)===a){if(oe<=2)return U.root=U.dir=ne,U;if(q=2,I(ne.charCodeAt(2))){if(oe===3)return U.root=U.dir=ne,U;q=3}}q>0&&(U.root=ne.slice(0,q));let me=-1,ke=q,H=-1,ut=!0,Ke=ne.length-1,He=0;for(;Ke>=q;--Ke){if(ae=ne.charCodeAt(Ke),I(ae)){if(!ut){ke=Ke+1;break}continue}H===-1&&(ut=!1,H=Ke+1),ae===_?me===-1?me=Ke:He!==1&&(He=1):me!==-1&&(He=-1)}return H!==-1&&(me===-1||He===0||He===1&&me===H-1&&me===ke+1?U.base=U.name=ne.slice(ke,H):(U.name=ne.slice(ke,me),U.base=ne.slice(ke,H),U.ext=ne.slice(me,H))),ke>0&&ke!==q?U.dir=ne.slice(0,ke-1):U.dir=U.root,U},sep:"\\",delimiter:";",win32:null,posix:null},Z={resolve(...ne){let U="",oe=!1;for(let q=ne.length-1;q>=-1&&!oe;q--){const ae=q>=0?ne[q]:W();N(ae,"path"),ae.length!==0&&(U=`${ae}/${U}`,oe=ae.charCodeAt(0)===y)}return U=R(U,!oe,"/",E),oe?`/${U}`:U.length>0?U:"."},normalize(ne){if(N(ne,"path"),ne.length===0)return".";const U=ne.charCodeAt(0)===y,oe=ne.charCodeAt(ne.length-1)===y;return ne=R(ne,!U,"/",E),ne.length===0?U?"/":oe?"./":".":(oe&&(ne+="/"),U?`/${ne}`:ne)},isAbsolute(ne){return N(ne,"path"),ne.length>0&&ne.charCodeAt(0)===y},join(...ne){if(ne.length===0)return".";let U;for(let oe=0;oe<ne.length;++oe){const q=ne[oe];N(q,"path"),q.length>0&&(U===void 0?U=q:U+=`/${q}`)}return U===void 0?".":Z.normalize(U)},relative(ne,U){if(N(ne,"from"),N(U,"to"),ne===U||(ne=Z.resolve(ne),U=Z.resolve(U),ne===U))return"";const oe=1,q=ne.length,ae=q-oe,me=1,ke=U.length-me,H=ae<ke?ae:ke;let ut=-1,Ke=0;for(;Ke<H;Ke++){const ze=ne.charCodeAt(oe+Ke);if(ze!==U.charCodeAt(me+Ke))break;ze===y&&(ut=Ke)}if(Ke===H)if(ke>H){if(U.charCodeAt(me+Ke)===y)return U.slice(me+Ke+1);if(Ke===0)return U.slice(me+Ke)}else ae>H&&(ne.charCodeAt(oe+Ke)===y?ut=Ke:Ke===0&&(ut=0));let He="";for(Ke=oe+ut+1;Ke<=q;++Ke)(Ke===q||ne.charCodeAt(Ke)===y)&&(He+=He.length===0?"..":"/..");return`${He}${U.slice(me+ut)}`},toNamespacedPath(ne){return ne},dirname(ne){if(N(ne,"path"),ne.length===0)return".";const U=ne.charCodeAt(0)===y;let oe=-1,q=!0;for(let ae=ne.length-1;ae>=1;--ae)if(ne.charCodeAt(ae)===y){if(!q){oe=ae;break}}else q=!1;return oe===-1?U?"/":".":U&&oe===1?"//":ne.slice(0,oe)},basename(ne,U){U!==void 0&&N(U,"ext"),N(ne,"path");let oe=0,q=-1,ae=!0,me;if(U!==void 0&&U.length>0&&U.length<=ne.length){if(U===ne)return"";let ke=U.length-1,H=-1;for(me=ne.length-1;me>=0;--me){const ut=ne.charCodeAt(me);if(ut===y){if(!ae){oe=me+1;break}}else H===-1&&(ae=!1,H=me+1),ke>=0&&(ut===U.charCodeAt(ke)?--ke===-1&&(q=me):(ke=-1,q=H))}return oe===q?q=H:q===-1&&(q=ne.length),ne.slice(oe,q)}for(me=ne.length-1;me>=0;--me)if(ne.charCodeAt(me)===y){if(!ae){oe=me+1;break}}else q===-1&&(ae=!1,q=me+1);return q===-1?"":ne.slice(oe,q)},extname(ne){N(ne,"path");let U=-1,oe=0,q=-1,ae=!0,me=0;for(let ke=ne.length-1;ke>=0;--ke){const H=ne.charCodeAt(ke);if(H===y){if(!ae){oe=ke+1;break}continue}q===-1&&(ae=!1,q=ke+1),H===_?U===-1?U=ke:me!==1&&(me=1):U!==-1&&(me=-1)}return U===-1||q===-1||me===0||me===1&&U===q-1&&U===oe+1?"":ne.slice(U,q)},format:M.bind(null,"/"),parse(ne){N(ne,"path");const U={root:"",dir:"",base:"",ext:"",name:""};if(ne.length===0)return U;const oe=ne.charCodeAt(0)===y;let q;oe?(U.root="/",q=1):q=0;let ae=-1,me=0,ke=-1,H=!0,ut=ne.length-1,Ke=0;for(;ut>=q;--ut){const He=ne.charCodeAt(ut);if(He===y){if(!H){me=ut+1;break}continue}ke===-1&&(H=!1,ke=ut+1),He===_?ae===-1?ae=ut:Ke!==1&&(Ke=1):ae!==-1&&(Ke=-1)}if(ke!==-1){const He=me===0&&oe?1:me;ae===-1||Ke===0||Ke===1&&ae===ke-1&&ae===me+1?U.base=U.name=ne.slice(He,ke):(U.name=ne.slice(He,ae),U.base=ne.slice(He,ke),U.ext=ne.slice(ae,ke))}return me>0?U.dir=ne.slice(0,me-1):oe&&(U.dir="/"),U},sep:"/",delimiter:":",win32:null,posix:null};Z.win32=K.win32=K,Z.posix=K.posix=Z;const te=z==="win32"?K.normalize:Z.normalize,de=z==="win32"?K.resolve:Z.resolve,ge=z==="win32"?K.relative:Z.relative,le=z==="win32"?K.dirname:Z.dirname,se=z==="win32"?K.basename:Z.basename,X=z==="win32"?K.extname:Z.extname,re=z==="win32"?K.sep:Z.sep},94976:function(nt,xe,l){"use strict";l.d(xe,{$L:function(){return ge},ED:function(){return K},G6:function(){return ut},IJ:function(){return te},OS:function(){return oe},dK:function(){return re},dz:function(){return Z},fn:function(){return U},gn:function(){return se},i7:function(){return ke},li:function(){return I},n2:function(){return le},r:function(){return me},tY:function(){return de},un:function(){return Ke},vU:function(){return H}});var C=l(83218),d=l(14224),j;const W="en";let L=!1,z=!1,P=!1,A=!1,T=!1,S=!1,_=!1,y=!1,u=!1,a,b=W,D=null,N;const I=typeof self=="object"?self:typeof l.g=="object"?l.g:{};let E;typeof I.vscode!="undefined"&&typeof I.vscode.process!="undefined"?E=I.vscode.process:typeof d!="undefined"&&(E=d);const O=typeof((j=E==null?void 0:E.versions)===null||j===void 0?void 0:j.electron)=="string",R=O&&(E==null?void 0:E.type)==="renderer";if(typeof navigator=="object"&&!R)N=navigator.userAgent,L=N.indexOf("Windows")>=0,z=N.indexOf("Macintosh")>=0,y=(N.indexOf("Macintosh")>=0||N.indexOf("iPad")>=0||N.indexOf("iPhone")>=0)&&!!navigator.maxTouchPoints&&navigator.maxTouchPoints>0,P=N.indexOf("Linux")>=0,S=!0,a=C.aj(C.NC({key:"ensureLoaderPluginIsLoaded",comment:["{Locked}"]},"_"))||W,b=a;else if(typeof E=="object"){L=E.platform==="win32",z=E.platform==="darwin",P=E.platform==="linux",A=P&&!!E.env.SNAP&&!!E.env.SNAP_REVISION,_=O,u=!!E.env.CI||!!E.env.BUILD_ARTIFACTSTAGINGDIRECTORY,a=W,b=W;const ze=E.env.VSCODE_NLS_CONFIG;if(ze)try{const Le=JSON.parse(ze),Ze=Le.availableLanguages["*"];a=Le.locale,b=Ze||W,D=Le._translationsConfigFile}catch(Le){}T=!0}else console.error("Unable to resolve platform.");let M=0;z?M=1:L?M=3:P&&(M=2);const K=L,Z=z,te=P,de=T,ge=S,le=S&&typeof I.importScripts=="function",se=y,X=N,re=b,ne=typeof I.postMessage=="function"&&!I.importScripts,U=(()=>{if(ne){const ze=[];I.addEventListener("message",Ze=>{if(Ze.data&&Ze.data.vscodeScheduleAsyncWork)for(let Ge=0,Fe=ze.length;Ge<Fe;Ge++){const ct=ze[Ge];if(ct.id===Ze.data.vscodeScheduleAsyncWork){ze.splice(Ge,1),ct.callback();return}}});let Le=0;return Ze=>{const Ge=++Le;ze.push({id:Ge,callback:Ze}),I.postMessage({vscodeScheduleAsyncWork:Ge},"*")}}return ze=>setTimeout(ze)})(),oe=z||y?2:L?1:3;let q=!0,ae=!1;function me(){if(!ae){ae=!0;const ze=new Uint8Array(2);ze[0]=1,ze[1]=2,q=new Uint16Array(ze.buffer)[0]===(2<<8)+1}return q}const ke=!!(X&&X.indexOf("Chrome")>=0),H=!!(X&&X.indexOf("Firefox")>=0),ut=!!(!ke&&X&&X.indexOf("Safari")>=0),Ke=!!(X&&X.indexOf("Edg/")>=0),He=!!(X&&X.indexOf("Android")>=0)},31446:function(nt,xe,l){"use strict";l.d(xe,{e:function(){return C}});var C;(function(d){function j(P,A){if(P.start>=A.end||A.start>=P.end)return{start:0,end:0};const T=Math.max(P.start,A.start),S=Math.min(P.end,A.end);return S-T<=0?{start:0,end:0}:{start:T,end:S}}d.intersect=j;function W(P){return P.end-P.start<=0}d.isEmpty=W;function L(P,A){return!W(j(P,A))}d.intersects=L;function z(P,A){const T=[],S={start:P.start,end:Math.min(A.start,P.end)},_={start:Math.max(A.end,P.start),end:P.end};return W(S)||T.push(S),W(_)||T.push(_),T}d.relativeComplement=z})(C||(C={}))},46088:function(nt,xe,l){"use strict";l.d(xe,{AH:function(){return O},DZ:function(){return N},EZ:function(){return D},Hx:function(){return b},SF:function(){return T},Vb:function(){return le},Vo:function(){return E},XX:function(){return I},Xy:function(){return y},i3:function(){return M},lX:function(){return R},z_:function(){return P}});var C=l(34975),d=l(49407),j=l(46267),W=l(94976),L=l(22297),z=l(92770);function P(se){return(0,z.q)(se,!0)}class A{constructor(X){this._ignorePathCasing=X}compare(X,re,ne=!1){return X===re?0:(0,L.qu)(this.getComparisonKey(X,ne),this.getComparisonKey(re,ne))}isEqual(X,re,ne=!1){return X===re?!0:!X||!re?!1:this.getComparisonKey(X,ne)===this.getComparisonKey(re,ne)}getComparisonKey(X,re=!1){return X.with({path:this._ignorePathCasing(X)?X.path.toLowerCase():void 0,fragment:re?null:void 0}).toString()}isEqualOrParent(X,re,ne=!1){if(X.scheme===re.scheme){if(X.scheme===d.lg.file)return C.KM(P(X),P(re),this._ignorePathCasing(X))&&X.query===re.query&&(ne||X.fragment===re.fragment);if(Z(X.authority,re.authority))return C.KM(X.path,re.path,this._ignorePathCasing(X),"/")&&X.query===re.query&&(ne||X.fragment===re.fragment)}return!1}joinPath(X,...re){return z.o.joinPath(X,...re)}basenameOrAuthority(X){return D(X)||X.authority}basename(X){return j.KR.basename(X.path)}extname(X){return j.KR.extname(X.path)}dirname(X){if(X.path.length===0)return X;let re;return X.scheme===d.lg.file?re=z.o.file(j.XX(P(X))).path:(re=j.KR.dirname(X.path),X.authority&&re.length&&re.charCodeAt(0)!==47&&(console.error(`dirname("${X.toString})) resulted in a relative path`),re="/")),X.with({path:re})}normalizePath(X){if(!X.path.length)return X;let re;return X.scheme===d.lg.file?re=z.o.file(j.Fv(P(X))).path:re=j.KR.normalize(X.path),X.with({path:re})}relativePath(X,re){if(X.scheme!==re.scheme||!Z(X.authority,re.authority))return;if(X.scheme===d.lg.file){const oe=j.Gf(P(X),P(re));return W.ED?C.ej(oe):oe}let ne=X.path||"/";const U=re.path||"/";if(this._ignorePathCasing(X)){let oe=0;for(const q=Math.min(ne.length,U.length);oe<q&&!(ne.charCodeAt(oe)!==U.charCodeAt(oe)&&ne.charAt(oe).toLowerCase()!==U.charAt(oe).toLowerCase());oe++);ne=U.substr(0,oe)+ne.substr(oe)}return j.KR.relative(ne,U)}resolvePath(X,re){if(X.scheme===d.lg.file){const ne=z.o.file(j.DB(P(X),re));return X.with({authority:ne.authority,path:ne.path})}return re=C.fn(re),X.with({path:j.KR.resolve(X.path,re)})}isAbsolutePath(X){return!!X.path&&X.path[0]==="/"}isEqualAuthority(X,re){return X===re||X!==void 0&&re!==void 0&&(0,L.qq)(X,re)}hasTrailingPathSeparator(X,re=j.ir){if(X.scheme===d.lg.file){const ne=P(X);return ne.length>C.yj(ne).length&&ne[ne.length-1]===re}else{const ne=X.path;return ne.length>1&&ne.charCodeAt(ne.length-1)===47&&!/^[a-zA-Z]:(\/$|\\$)/.test(X.fsPath)}}removeTrailingPathSeparator(X,re=j.ir){return te(X,re)?X.with({path:X.path.substr(0,X.path.length-1)}):X}addTrailingPathSeparator(X,re=j.ir){let ne=!1;if(X.scheme===d.lg.file){const U=P(X);ne=U!==void 0&&U.length===C.yj(U).length&&U[U.length-1]===re}else{re="/";const U=X.path;ne=U.length===1&&U.charCodeAt(U.length-1)===47}return!ne&&!te(X,re)?X.with({path:X.path+"/"}):X}}const T=new A(()=>!1),S=new A(se=>se.scheme===d.lg.file?!W.IJ:!0),_=new A(se=>!0),y=T.isEqual.bind(T),u=T.isEqualOrParent.bind(T),a=T.getComparisonKey.bind(T),b=T.basenameOrAuthority.bind(T),D=T.basename.bind(T),N=T.extname.bind(T),I=T.dirname.bind(T),E=T.joinPath.bind(T),O=T.normalizePath.bind(T),R=T.relativePath.bind(T),M=T.resolvePath.bind(T),K=T.isAbsolutePath.bind(T),Z=T.isEqualAuthority.bind(T),te=T.hasTrailingPathSeparator.bind(T),de=T.removeTrailingPathSeparator.bind(T),ge=T.addTrailingPathSeparator.bind(T);var le;(function(se){se.META_DATA_LABEL="label",se.META_DATA_DESCRIPTION="description",se.META_DATA_SIZE="size",se.META_DATA_MIME="mime";function X(re){const ne=new Map;re.path.substring(re.path.indexOf(";")+1,re.path.lastIndexOf(";")).split(";").forEach(q=>{const[ae,me]=q.split(":");ae&&me&&ne.set(ae,me)});const oe=re.path.substring(0,re.path.indexOf(";"));return oe&&ne.set(se.META_DATA_MIME,oe),ne}se.parseMetaData=X})(le||(le={}))},83485:function(nt,xe,l){"use strict";l.d(xe,{Rm:function(){return W}});var C=l(60218),d=l(94214);class j{constructor(y,u,a,b,D,N,I){this._forceIntegerValues=y,this._scrollStateBrand=void 0,this._forceIntegerValues&&(u=u|0,a=a|0,b=b|0,D=D|0,N=N|0,I=I|0),this.rawScrollLeft=b,this.rawScrollTop=I,u<0&&(u=0),b+u>a&&(b=a-u),b<0&&(b=0),D<0&&(D=0),I+D>N&&(I=N-D),I<0&&(I=0),this.width=u,this.scrollWidth=a,this.scrollLeft=b,this.height=D,this.scrollHeight=N,this.scrollTop=I}equals(y){return this.rawScrollLeft===y.rawScrollLeft&&this.rawScrollTop===y.rawScrollTop&&this.width===y.width&&this.scrollWidth===y.scrollWidth&&this.scrollLeft===y.scrollLeft&&this.height===y.height&&this.scrollHeight===y.scrollHeight&&this.scrollTop===y.scrollTop}withScrollDimensions(y,u){return new j(this._forceIntegerValues,typeof y.width!="undefined"?y.width:this.width,typeof y.scrollWidth!="undefined"?y.scrollWidth:this.scrollWidth,u?this.rawScrollLeft:this.scrollLeft,typeof y.height!="undefined"?y.height:this.height,typeof y.scrollHeight!="undefined"?y.scrollHeight:this.scrollHeight,u?this.rawScrollTop:this.scrollTop)}withScrollPosition(y){return new j(this._forceIntegerValues,this.width,this.scrollWidth,typeof y.scrollLeft!="undefined"?y.scrollLeft:this.rawScrollLeft,this.height,this.scrollHeight,typeof y.scrollTop!="undefined"?y.scrollTop:this.rawScrollTop)}createScrollEvent(y,u){const a=this.width!==y.width,b=this.scrollWidth!==y.scrollWidth,D=this.scrollLeft!==y.scrollLeft,N=this.height!==y.height,I=this.scrollHeight!==y.scrollHeight,E=this.scrollTop!==y.scrollTop;return{inSmoothScrolling:u,oldWidth:y.width,oldScrollWidth:y.scrollWidth,oldScrollLeft:y.scrollLeft,width:this.width,scrollWidth:this.scrollWidth,scrollLeft:this.scrollLeft,oldHeight:y.height,oldScrollHeight:y.scrollHeight,oldScrollTop:y.scrollTop,height:this.height,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,widthChanged:a,scrollWidthChanged:b,scrollLeftChanged:D,heightChanged:N,scrollHeightChanged:I,scrollTopChanged:E}}}class W extends d.JT{constructor(y){super(),this._scrollableBrand=void 0,this._onScroll=this._register(new C.Q5),this.onScroll=this._onScroll.event,this._smoothScrollDuration=y.smoothScrollDuration,this._scheduleAtNextAnimationFrame=y.scheduleAtNextAnimationFrame,this._state=new j(y.forceIntegerValues,0,0,0,0,0,0),this._smoothScrolling=null}dispose(){this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),super.dispose()}setSmoothScrollDuration(y){this._smoothScrollDuration=y}validateScrollPosition(y){return this._state.withScrollPosition(y)}getScrollDimensions(){return this._state}setScrollDimensions(y,u){var a;const b=this._state.withScrollDimensions(y,u);this._setState(b,Boolean(this._smoothScrolling)),(a=this._smoothScrolling)===null||a===void 0||a.acceptScrollDimensions(this._state)}getFutureScrollPosition(){return this._smoothScrolling?this._smoothScrolling.to:this._state}getCurrentScrollPosition(){return this._state}setScrollPositionNow(y){const u=this._state.withScrollPosition(y);this._smoothScrolling&&(this._smoothScrolling.dispose(),this._smoothScrolling=null),this._setState(u,!1)}setScrollPositionSmooth(y,u){if(this._smoothScrollDuration===0)return this.setScrollPositionNow(y);if(this._smoothScrolling){y={scrollLeft:typeof y.scrollLeft=="undefined"?this._smoothScrolling.to.scrollLeft:y.scrollLeft,scrollTop:typeof y.scrollTop=="undefined"?this._smoothScrolling.to.scrollTop:y.scrollTop};const a=this._state.withScrollPosition(y);if(this._smoothScrolling.to.scrollLeft===a.scrollLeft&&this._smoothScrolling.to.scrollTop===a.scrollTop)return;let b;u?b=new A(this._smoothScrolling.from,a,this._smoothScrolling.startTime,this._smoothScrolling.duration):b=this._smoothScrolling.combine(this._state,a,this._smoothScrollDuration),this._smoothScrolling.dispose(),this._smoothScrolling=b}else{const a=this._state.withScrollPosition(y);this._smoothScrolling=A.start(this._state,a,this._smoothScrollDuration)}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}_performSmoothScrolling(){if(!this._smoothScrolling)return;const y=this._smoothScrolling.tick(),u=this._state.withScrollPosition(y);if(this._setState(u,!0),!!this._smoothScrolling){if(y.isDone){this._smoothScrolling.dispose(),this._smoothScrolling=null;return}this._smoothScrolling.animationFrameDisposable=this._scheduleAtNextAnimationFrame(()=>{!this._smoothScrolling||(this._smoothScrolling.animationFrameDisposable=null,this._performSmoothScrolling())})}}_setState(y,u){const a=this._state;a.equals(y)||(this._state=y,this._onScroll.fire(this._state.createScrollEvent(a,u)))}}class L{constructor(y,u,a){this.scrollLeft=y,this.scrollTop=u,this.isDone=a}}function z(_,y){const u=y-_;return function(a){return _+u*S(a)}}function P(_,y,u){return function(a){return a<u?_(a/u):y((a-u)/(1-u))}}class A{constructor(y,u,a,b){this.from=y,this.to=u,this.duration=b,this.startTime=a,this.animationFrameDisposable=null,this._initAnimations()}_initAnimations(){this.scrollLeft=this._initAnimation(this.from.scrollLeft,this.to.scrollLeft,this.to.width),this.scrollTop=this._initAnimation(this.from.scrollTop,this.to.scrollTop,this.to.height)}_initAnimation(y,u,a){if(Math.abs(y-u)>2.5*a){let D,N;return y<u?(D=y+.75*a,N=u-.75*a):(D=y-.75*a,N=u+.75*a),P(z(y,D),z(N,u),.33)}return z(y,u)}dispose(){this.animationFrameDisposable!==null&&(this.animationFrameDisposable.dispose(),this.animationFrameDisposable=null)}acceptScrollDimensions(y){this.to=y.withScrollPosition(this.to),this._initAnimations()}tick(){return this._tick(Date.now())}_tick(y){const u=(y-this.startTime)/this.duration;if(u<1){const a=this.scrollLeft(u),b=this.scrollTop(u);return new L(a,b,!1)}return new L(this.to.scrollLeft,this.to.scrollTop,!0)}combine(y,u,a){return A.start(y,u,a)}static start(y,u,a){a=a+10;const b=Date.now()-10;return new A(y,u,b,a)}}function T(_){return Math.pow(_,3)}function S(_){return 1-T(1-_)}},85669:function(nt,xe,l){"use strict";var C=l(22297),d;(function(j){j[j.Ignore=0]="Ignore",j[j.Info=1]="Info",j[j.Warning=2]="Warning",j[j.Error=3]="Error"})(d||(d={})),function(j){const W="error",L="warning",z="warn",P="info",A="ignore";function T(_){return _?C.qq(W,_)?j.Error:C.qq(L,_)||C.qq(z,_)?j.Warning:C.qq(P,_)?j.Info:j.Ignore:j.Ignore}j.fromValue=T;function S(_){switch(_){case j.Error:return W;case j.Warning:return L;case j.Info:return P;default:return A}}j.toString=S}(d||(d={})),xe.Z=d},49960:function(nt,xe,l){"use strict";l.d(xe,{G:function(){return j}});var C=l(94976);const d=C.li.performance&&typeof C.li.performance.now=="function";class j{constructor(L){this._highResolution=d&&L,this._startTime=this._now(),this._stopTime=-1}static create(L=!0){return new j(L)}stop(){this._stopTime=this._now()}elapsed(){return this._stopTime!==-1?this._stopTime-this._startTime:this._now()-this._startTime}_now(){return this._highResolution?C.li.performance.now():Date.now()}}},22297:function(nt,xe,l){"use strict";l.d(xe,{$i:function(){return Ze},B4:function(){return Pt},C8:function(){return ft},GF:function(){return a},HO:function(){return ut},IO:function(){return b},J_:function(){return Ke},K7:function(){return ct},Kw:function(){return Vt},LC:function(){return I},Mh:function(){return X},P1:function(){return re},PJ:function(){return We},Qe:function(){return Ge},R1:function(){return u},T5:function(){return te},TT:function(){return M},Ut:function(){return ze},V8:function(){return E},W1:function(){return ke},WU:function(){return z},YK:function(){return U},YU:function(){return P},ZG:function(){return ne},ZH:function(){return q},ZK:function(){return jt},ab:function(){return Fe},c1:function(){return Ot},df:function(){return ge},ec:function(){return A},fy:function(){return T},j3:function(){return S},j_:function(){return Z},m5:function(){return W},mK:function(){return de},mr:function(){return D},oH:function(){return Ee},oL:function(){return _},ok:function(){return se},ow:function(){return O},qq:function(){return le},qu:function(){return R},rL:function(){return oe},uS:function(){return Et},un:function(){return y},uq:function(){return N},vH:function(){return H},vU:function(){return pn},zY:function(){return K}});var C=l(71030),d=l(79320),j;function W(at){return!at||typeof at!="string"?!0:at.trim().length===0}const L=/{(\d+)}/g;function z(at,...Mt){return Mt.length===0?at:at.replace(L,function(Gt,_n){const Rn=parseInt(_n,10);return isNaN(Rn)||Rn<0||Rn>=Mt.length?Gt:Mt[Rn]})}function P(at){return at.replace(/[<>&]/g,function(Mt){switch(Mt){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";default:return Mt}})}function A(at){return at.replace(/[\\\{\}\*\+\?\|\^\$\.\[\]\(\)]/g,"\\$&")}function T(at,Mt=" "){const Gt=S(at,Mt);return _(Gt,Mt)}function S(at,Mt){if(!at||!Mt)return at;const Gt=Mt.length;if(Gt===0||at.length===0)return at;let _n=0;for(;at.indexOf(Mt,_n)===_n;)_n=_n+Gt;return at.substring(_n)}function _(at,Mt){if(!at||!Mt)return at;const Gt=Mt.length,_n=at.length;if(Gt===0||_n===0)return at;let Rn=_n,Wn=-1;for(;Wn=at.lastIndexOf(Mt,Rn-1),!(Wn===-1||Wn+Gt!==Rn);){if(Wn===0)return"";Rn=Wn}return at.substring(0,Rn)}function y(at){return at.replace(/[\-\\\{\}\+\?\|\^\$\.\,\[\]\(\)\#\s]/g,"\\$&").replace(/[\*]/g,".*")}function u(at){return at.replace(/\*/g,"")}function a(at,Mt,Gt={}){if(!at)throw new Error("Cannot create regex from empty string");Mt||(at=A(at)),Gt.wholeWord&&(/\B/.test(at.charAt(0))||(at="\\b"+at),/\B/.test(at.charAt(at.length-1))||(at=at+"\\b"));let _n="";return Gt.global&&(_n+="g"),Gt.matchCase||(_n+="i"),Gt.multiline&&(_n+="m"),Gt.unicode&&(_n+="u"),new RegExp(at,_n)}function b(at){return at.source==="^"||at.source==="^$"||at.source==="$"||at.source==="^\\s*$"?!1:!!(at.exec("")&&at.lastIndex===0)}function D(at){return(at.global?"g":"")+(at.ignoreCase?"i":"")+(at.multiline?"m":"")+(at.unicode?"u":"")}function N(at){return at.split(/\r\n|\r|\n/)}function I(at){for(let Mt=0,Gt=at.length;Mt<Gt;Mt++){const _n=at.charCodeAt(Mt);if(_n!==32&&_n!==9)return Mt}return-1}function E(at,Mt=0,Gt=at.length){for(let _n=Mt;_n<Gt;_n++){const Rn=at.charCodeAt(_n);if(Rn!==32&&Rn!==9)return at.substring(Mt,_n)}return at.substring(Mt,Gt)}function O(at,Mt=at.length-1){for(let Gt=Mt;Gt>=0;Gt--){const _n=at.charCodeAt(Gt);if(_n!==32&&_n!==9)return Gt}return-1}function R(at,Mt){return at<Mt?-1:at>Mt?1:0}function M(at,Mt,Gt=0,_n=at.length,Rn=0,Wn=Mt.length){for(;Gt<_n&&Rn<Wn;Gt++,Rn++){const qn=at.charCodeAt(Gt),vt=Mt.charCodeAt(Rn);if(qn<vt)return-1;if(qn>vt)return 1}const wn=_n-Gt,je=Wn-Rn;return wn<je?-1:wn>je?1:0}function K(at,Mt){return Z(at,Mt,0,at.length,0,Mt.length)}function Z(at,Mt,Gt=0,_n=at.length,Rn=0,Wn=Mt.length){for(;Gt<_n&&Rn<Wn;Gt++,Rn++){let qn=at.charCodeAt(Gt),vt=Mt.charCodeAt(Rn);if(qn===vt)continue;if(qn>=128||vt>=128)return M(at.toLowerCase(),Mt.toLowerCase(),Gt,_n,Rn,Wn);de(qn)&&(qn-=32),de(vt)&&(vt-=32);const _e=qn-vt;if(_e!==0)return _e}const wn=_n-Gt,je=Wn-Rn;return wn<je?-1:wn>je?1:0}function te(at){return at>=48&&at<=57}function de(at){return at>=97&&at<=122}function ge(at){return at>=65&&at<=90}function le(at,Mt){return at.length===Mt.length&&Z(at,Mt)===0}function se(at,Mt){const Gt=Mt.length;return Mt.length>at.length?!1:Z(at,Mt,0,Gt)===0}function X(at,Mt){const Gt=Math.min(at.length,Mt.length);let _n;for(_n=0;_n<Gt;_n++)if(at.charCodeAt(_n)!==Mt.charCodeAt(_n))return _n;return Gt}function re(at,Mt){const Gt=Math.min(at.length,Mt.length);let _n;const Rn=at.length-1,Wn=Mt.length-1;for(_n=0;_n<Gt;_n++)if(at.charCodeAt(Rn-_n)!==Mt.charCodeAt(Wn-_n))return _n;return Gt}function ne(at){return 55296<=at&&at<=56319}function U(at){return 56320<=at&&at<=57343}function oe(at,Mt){return(at-55296<<10)+(Mt-56320)+65536}function q(at,Mt,Gt){const _n=at.charCodeAt(Gt);if(ne(_n)&&Gt+1<Mt){const Rn=at.charCodeAt(Gt+1);if(U(Rn))return oe(_n,Rn)}return _n}function ae(at,Mt){const Gt=at.charCodeAt(Mt-1);if(U(Gt)&&Mt>1){const _n=at.charCodeAt(Mt-2);if(ne(_n))return oe(_n,Gt)}return Gt}class me{constructor(Mt,Gt=0){this._str=Mt,this._len=Mt.length,this._offset=Gt}get offset(){return this._offset}setOffset(Mt){this._offset=Mt}prevCodePoint(){const Mt=ae(this._str,this._offset);return this._offset-=Mt>=65536?2:1,Mt}nextCodePoint(){const Mt=q(this._str,this._len,this._offset);return this._offset+=Mt>=65536?2:1,Mt}eol(){return this._offset>=this._len}}class ke{constructor(Mt,Gt=0){this._iterator=new me(Mt,Gt)}get offset(){return this._iterator.offset}nextGraphemeLength(){const Mt=Re.getInstance(),Gt=this._iterator,_n=Gt.offset;let Rn=Mt.getGraphemeBreakType(Gt.nextCodePoint());for(;!Gt.eol();){const Wn=Gt.offset,wn=Mt.getGraphemeBreakType(Gt.nextCodePoint());if(St(Rn,wn)){Gt.setOffset(Wn);break}Rn=wn}return Gt.offset-_n}prevGraphemeLength(){const Mt=Re.getInstance(),Gt=this._iterator,_n=Gt.offset;let Rn=Mt.getGraphemeBreakType(Gt.prevCodePoint());for(;Gt.offset>0;){const Wn=Gt.offset,wn=Mt.getGraphemeBreakType(Gt.prevCodePoint());if(St(wn,Rn)){Gt.setOffset(Wn);break}Rn=wn}return _n-Gt.offset}eol(){return this._iterator.eol()}}function H(at,Mt){return new ke(at,Mt).nextGraphemeLength()}function ut(at,Mt){return new ke(at,Mt).prevGraphemeLength()}function Ke(at,Mt){Mt>0&&U(at.charCodeAt(Mt))&&Mt--;const Gt=Mt+H(at,Mt);return[Gt-ut(at,Gt),Gt]}const He=/(?:[\u05BE\u05C0\u05C3\u05C6\u05D0-\u05F4\u0608\u060B\u060D\u061B-\u064A\u066D-\u066F\u0671-\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u0710\u0712-\u072F\u074D-\u07A5\u07B1-\u07EA\u07F4\u07F5\u07FA\u07FE-\u0815\u081A\u0824\u0828\u0830-\u0858\u085E-\u088E\u08A0-\u08C9\u200F\uFB1D\uFB1F-\uFB28\uFB2A-\uFD3D\uFD50-\uFDC7\uFDF0-\uFDFC\uFE70-\uFEFC]|\uD802[\uDC00-\uDD1B\uDD20-\uDE00\uDE10-\uDE35\uDE40-\uDEE4\uDEEB-\uDF35\uDF40-\uDFFF]|\uD803[\uDC00-\uDD23\uDE80-\uDEA9\uDEAD-\uDF45\uDF51-\uDF81\uDF86-\uDFF6]|\uD83A[\uDC00-\uDCCF\uDD00-\uDD43\uDD4B-\uDFFF]|\uD83B[\uDC00-\uDEBB])/;function ze(at){return He.test(at)}const Le=/^[\t\n\r\x20-\x7E]*$/;function Ze(at){return Le.test(at)}const Ge=/[\u2028\u2029]/;function Fe(at){return Ge.test(at)}function ct(at){return at>=11904&&at<=55215||at>=63744&&at<=64255||at>=65281&&at<=65374}function ft(at){return at>=127462&&at<=127487||at===8986||at===8987||at===9200||at===9203||at>=9728&&at<=10175||at===11088||at===11093||at>=127744&&at<=128591||at>=128640&&at<=128764||at>=128992&&at<=129008||at>=129280&&at<=129535||at>=129648&&at<=129782}const Ot=String.fromCharCode(65279);function Et(at){return!!(at&&at.length>0&&at.charCodeAt(0)===65279)}function Vt(at,Mt=!1){return at?(Mt&&(at=at.replace(/\\./g,"")),at.toLowerCase()!==at):!1}function We(at){return at=at%(2*26),at<26?String.fromCharCode(97+at):String.fromCharCode(65+at-26)}function St(at,Mt){return at===0?Mt!==5&&Mt!==7:at===2&&Mt===3?!1:at===4||at===2||at===3||Mt===4||Mt===2||Mt===3?!0:!(at===8&&(Mt===8||Mt===9||Mt===11||Mt===12)||(at===11||at===9)&&(Mt===9||Mt===10)||(at===12||at===10)&&Mt===10||Mt===5||Mt===13||Mt===7||at===1||at===13&&Mt===14||at===6&&Mt===6)}class Re{constructor(){this._data=Se()}static getInstance(){return Re._INSTANCE||(Re._INSTANCE=new Re),Re._INSTANCE}getGraphemeBreakType(Mt){if(Mt<32)return Mt===10?3:Mt===13?2:4;if(Mt<127)return 0;const Gt=this._data,_n=Gt.length/3;let Rn=1;for(;Rn<=_n;)if(Mt<Gt[3*Rn])Rn=2*Rn;else if(Mt>Gt[3*Rn+1])Rn=2*Rn+1;else return Gt[3*Rn+2];return 0}}Re._INSTANCE=null;function Se(){return JSON.parse("[0,0,0,51229,51255,12,44061,44087,12,127462,127487,6,7083,7085,5,47645,47671,12,54813,54839,12,128678,128678,14,3270,3270,5,9919,9923,14,45853,45879,12,49437,49463,12,53021,53047,12,71216,71218,7,128398,128399,14,129360,129374,14,2519,2519,5,4448,4519,9,9742,9742,14,12336,12336,14,44957,44983,12,46749,46775,12,48541,48567,12,50333,50359,12,52125,52151,12,53917,53943,12,69888,69890,5,73018,73018,5,127990,127990,14,128558,128559,14,128759,128760,14,129653,129655,14,2027,2035,5,2891,2892,7,3761,3761,5,6683,6683,5,8293,8293,4,9825,9826,14,9999,9999,14,43452,43453,5,44509,44535,12,45405,45431,12,46301,46327,12,47197,47223,12,48093,48119,12,48989,49015,12,49885,49911,12,50781,50807,12,51677,51703,12,52573,52599,12,53469,53495,12,54365,54391,12,65279,65279,4,70471,70472,7,72145,72147,7,119173,119179,5,127799,127818,14,128240,128244,14,128512,128512,14,128652,128652,14,128721,128722,14,129292,129292,14,129445,129450,14,129734,129743,14,1476,1477,5,2366,2368,7,2750,2752,7,3076,3076,5,3415,3415,5,4141,4144,5,6109,6109,5,6964,6964,5,7394,7400,5,9197,9198,14,9770,9770,14,9877,9877,14,9968,9969,14,10084,10084,14,43052,43052,5,43713,43713,5,44285,44311,12,44733,44759,12,45181,45207,12,45629,45655,12,46077,46103,12,46525,46551,12,46973,46999,12,47421,47447,12,47869,47895,12,48317,48343,12,48765,48791,12,49213,49239,12,49661,49687,12,50109,50135,12,50557,50583,12,51005,51031,12,51453,51479,12,51901,51927,12,52349,52375,12,52797,52823,12,53245,53271,12,53693,53719,12,54141,54167,12,54589,54615,12,55037,55063,12,69506,69509,5,70191,70193,5,70841,70841,7,71463,71467,5,72330,72342,5,94031,94031,5,123628,123631,5,127763,127765,14,127941,127941,14,128043,128062,14,128302,128317,14,128465,128467,14,128539,128539,14,128640,128640,14,128662,128662,14,128703,128703,14,128745,128745,14,129004,129007,14,129329,129330,14,129402,129402,14,129483,129483,14,129686,129704,14,130048,131069,14,173,173,4,1757,1757,1,2200,2207,5,2434,2435,7,2631,2632,5,2817,2817,5,3008,3008,5,3201,3201,5,3387,3388,5,3542,3542,5,3902,3903,7,4190,4192,5,6002,6003,5,6439,6440,5,6765,6770,7,7019,7027,5,7154,7155,7,8205,8205,13,8505,8505,14,9654,9654,14,9757,9757,14,9792,9792,14,9852,9853,14,9890,9894,14,9937,9937,14,9981,9981,14,10035,10036,14,11035,11036,14,42654,42655,5,43346,43347,7,43587,43587,5,44006,44007,7,44173,44199,12,44397,44423,12,44621,44647,12,44845,44871,12,45069,45095,12,45293,45319,12,45517,45543,12,45741,45767,12,45965,45991,12,46189,46215,12,46413,46439,12,46637,46663,12,46861,46887,12,47085,47111,12,47309,47335,12,47533,47559,12,47757,47783,12,47981,48007,12,48205,48231,12,48429,48455,12,48653,48679,12,48877,48903,12,49101,49127,12,49325,49351,12,49549,49575,12,49773,49799,12,49997,50023,12,50221,50247,12,50445,50471,12,50669,50695,12,50893,50919,12,51117,51143,12,51341,51367,12,51565,51591,12,51789,51815,12,52013,52039,12,52237,52263,12,52461,52487,12,52685,52711,12,52909,52935,12,53133,53159,12,53357,53383,12,53581,53607,12,53805,53831,12,54029,54055,12,54253,54279,12,54477,54503,12,54701,54727,12,54925,54951,12,55149,55175,12,68101,68102,5,69762,69762,7,70067,70069,7,70371,70378,5,70720,70721,7,71087,71087,5,71341,71341,5,71995,71996,5,72249,72249,7,72850,72871,5,73109,73109,5,118576,118598,5,121505,121519,5,127245,127247,14,127568,127569,14,127777,127777,14,127872,127891,14,127956,127967,14,128015,128016,14,128110,128172,14,128259,128259,14,128367,128368,14,128424,128424,14,128488,128488,14,128530,128532,14,128550,128551,14,128566,128566,14,128647,128647,14,128656,128656,14,128667,128673,14,128691,128693,14,128715,128715,14,128728,128732,14,128752,128752,14,128765,128767,14,129096,129103,14,129311,129311,14,129344,129349,14,129394,129394,14,129413,129425,14,129466,129471,14,129511,129535,14,129664,129666,14,129719,129722,14,129760,129767,14,917536,917631,5,13,13,2,1160,1161,5,1564,1564,4,1807,1807,1,2085,2087,5,2307,2307,7,2382,2383,7,2497,2500,5,2563,2563,7,2677,2677,5,2763,2764,7,2879,2879,5,2914,2915,5,3021,3021,5,3142,3144,5,3263,3263,5,3285,3286,5,3398,3400,7,3530,3530,5,3633,3633,5,3864,3865,5,3974,3975,5,4155,4156,7,4229,4230,5,5909,5909,7,6078,6085,7,6277,6278,5,6451,6456,7,6744,6750,5,6846,6846,5,6972,6972,5,7074,7077,5,7146,7148,7,7222,7223,5,7416,7417,5,8234,8238,4,8417,8417,5,9000,9000,14,9203,9203,14,9730,9731,14,9748,9749,14,9762,9763,14,9776,9783,14,9800,9811,14,9831,9831,14,9872,9873,14,9882,9882,14,9900,9903,14,9929,9933,14,9941,9960,14,9974,9974,14,9989,9989,14,10006,10006,14,10062,10062,14,10160,10160,14,11647,11647,5,12953,12953,14,43019,43019,5,43232,43249,5,43443,43443,5,43567,43568,7,43696,43696,5,43765,43765,7,44013,44013,5,44117,44143,12,44229,44255,12,44341,44367,12,44453,44479,12,44565,44591,12,44677,44703,12,44789,44815,12,44901,44927,12,45013,45039,12,45125,45151,12,45237,45263,12,45349,45375,12,45461,45487,12,45573,45599,12,45685,45711,12,45797,45823,12,45909,45935,12,46021,46047,12,46133,46159,12,46245,46271,12,46357,46383,12,46469,46495,12,46581,46607,12,46693,46719,12,46805,46831,12,46917,46943,12,47029,47055,12,47141,47167,12,47253,47279,12,47365,47391,12,47477,47503,12,47589,47615,12,47701,47727,12,47813,47839,12,47925,47951,12,48037,48063,12,48149,48175,12,48261,48287,12,48373,48399,12,48485,48511,12,48597,48623,12,48709,48735,12,48821,48847,12,48933,48959,12,49045,49071,12,49157,49183,12,49269,49295,12,49381,49407,12,49493,49519,12,49605,49631,12,49717,49743,12,49829,49855,12,49941,49967,12,50053,50079,12,50165,50191,12,50277,50303,12,50389,50415,12,50501,50527,12,50613,50639,12,50725,50751,12,50837,50863,12,50949,50975,12,51061,51087,12,51173,51199,12,51285,51311,12,51397,51423,12,51509,51535,12,51621,51647,12,51733,51759,12,51845,51871,12,51957,51983,12,52069,52095,12,52181,52207,12,52293,52319,12,52405,52431,12,52517,52543,12,52629,52655,12,52741,52767,12,52853,52879,12,52965,52991,12,53077,53103,12,53189,53215,12,53301,53327,12,53413,53439,12,53525,53551,12,53637,53663,12,53749,53775,12,53861,53887,12,53973,53999,12,54085,54111,12,54197,54223,12,54309,54335,12,54421,54447,12,54533,54559,12,54645,54671,12,54757,54783,12,54869,54895,12,54981,55007,12,55093,55119,12,55243,55291,10,66045,66045,5,68325,68326,5,69688,69702,5,69817,69818,5,69957,69958,7,70089,70092,5,70198,70199,5,70462,70462,5,70502,70508,5,70750,70750,5,70846,70846,7,71100,71101,5,71230,71230,7,71351,71351,5,71737,71738,5,72000,72000,7,72160,72160,5,72273,72278,5,72752,72758,5,72882,72883,5,73031,73031,5,73461,73462,7,94192,94193,7,119149,119149,7,121403,121452,5,122915,122916,5,126980,126980,14,127358,127359,14,127535,127535,14,127759,127759,14,127771,127771,14,127792,127793,14,127825,127867,14,127897,127899,14,127945,127945,14,127985,127986,14,128000,128007,14,128021,128021,14,128066,128100,14,128184,128235,14,128249,128252,14,128266,128276,14,128335,128335,14,128379,128390,14,128407,128419,14,128444,128444,14,128481,128481,14,128499,128499,14,128526,128526,14,128536,128536,14,128543,128543,14,128556,128556,14,128564,128564,14,128577,128580,14,128643,128645,14,128649,128649,14,128654,128654,14,128660,128660,14,128664,128664,14,128675,128675,14,128686,128689,14,128695,128696,14,128705,128709,14,128717,128719,14,128725,128725,14,128736,128741,14,128747,128748,14,128755,128755,14,128762,128762,14,128981,128991,14,129009,129023,14,129160,129167,14,129296,129304,14,129320,129327,14,129340,129342,14,129356,129356,14,129388,129392,14,129399,129400,14,129404,129407,14,129432,129442,14,129454,129455,14,129473,129474,14,129485,129487,14,129648,129651,14,129659,129660,14,129671,129679,14,129709,129711,14,129728,129730,14,129751,129753,14,129776,129782,14,917505,917505,4,917760,917999,5,10,10,3,127,159,4,768,879,5,1471,1471,5,1536,1541,1,1648,1648,5,1767,1768,5,1840,1866,5,2070,2073,5,2137,2139,5,2274,2274,1,2363,2363,7,2377,2380,7,2402,2403,5,2494,2494,5,2507,2508,7,2558,2558,5,2622,2624,7,2641,2641,5,2691,2691,7,2759,2760,5,2786,2787,5,2876,2876,5,2881,2884,5,2901,2902,5,3006,3006,5,3014,3016,7,3072,3072,5,3134,3136,5,3157,3158,5,3260,3260,5,3266,3266,5,3274,3275,7,3328,3329,5,3391,3392,7,3405,3405,5,3457,3457,5,3536,3537,7,3551,3551,5,3636,3642,5,3764,3772,5,3895,3895,5,3967,3967,7,3993,4028,5,4146,4151,5,4182,4183,7,4226,4226,5,4253,4253,5,4957,4959,5,5940,5940,7,6070,6070,7,6087,6088,7,6158,6158,4,6432,6434,5,6448,6449,7,6679,6680,5,6742,6742,5,6754,6754,5,6783,6783,5,6912,6915,5,6966,6970,5,6978,6978,5,7042,7042,7,7080,7081,5,7143,7143,7,7150,7150,7,7212,7219,5,7380,7392,5,7412,7412,5,8203,8203,4,8232,8232,4,8265,8265,14,8400,8412,5,8421,8432,5,8617,8618,14,9167,9167,14,9200,9200,14,9410,9410,14,9723,9726,14,9733,9733,14,9745,9745,14,9752,9752,14,9760,9760,14,9766,9766,14,9774,9774,14,9786,9786,14,9794,9794,14,9823,9823,14,9828,9828,14,9833,9850,14,9855,9855,14,9875,9875,14,9880,9880,14,9885,9887,14,9896,9897,14,9906,9916,14,9926,9927,14,9935,9935,14,9939,9939,14,9962,9962,14,9972,9972,14,9978,9978,14,9986,9986,14,9997,9997,14,10002,10002,14,10017,10017,14,10055,10055,14,10071,10071,14,10133,10135,14,10548,10549,14,11093,11093,14,12330,12333,5,12441,12442,5,42608,42610,5,43010,43010,5,43045,43046,5,43188,43203,7,43302,43309,5,43392,43394,5,43446,43449,5,43493,43493,5,43571,43572,7,43597,43597,7,43703,43704,5,43756,43757,5,44003,44004,7,44009,44010,7,44033,44059,12,44089,44115,12,44145,44171,12,44201,44227,12,44257,44283,12,44313,44339,12,44369,44395,12,44425,44451,12,44481,44507,12,44537,44563,12,44593,44619,12,44649,44675,12,44705,44731,12,44761,44787,12,44817,44843,12,44873,44899,12,44929,44955,12,44985,45011,12,45041,45067,12,45097,45123,12,45153,45179,12,45209,45235,12,45265,45291,12,45321,45347,12,45377,45403,12,45433,45459,12,45489,45515,12,45545,45571,12,45601,45627,12,45657,45683,12,45713,45739,12,45769,45795,12,45825,45851,12,45881,45907,12,45937,45963,12,45993,46019,12,46049,46075,12,46105,46131,12,46161,46187,12,46217,46243,12,46273,46299,12,46329,46355,12,46385,46411,12,46441,46467,12,46497,46523,12,46553,46579,12,46609,46635,12,46665,46691,12,46721,46747,12,46777,46803,12,46833,46859,12,46889,46915,12,46945,46971,12,47001,47027,12,47057,47083,12,47113,47139,12,47169,47195,12,47225,47251,12,47281,47307,12,47337,47363,12,47393,47419,12,47449,47475,12,47505,47531,12,47561,47587,12,47617,47643,12,47673,47699,12,47729,47755,12,47785,47811,12,47841,47867,12,47897,47923,12,47953,47979,12,48009,48035,12,48065,48091,12,48121,48147,12,48177,48203,12,48233,48259,12,48289,48315,12,48345,48371,12,48401,48427,12,48457,48483,12,48513,48539,12,48569,48595,12,48625,48651,12,48681,48707,12,48737,48763,12,48793,48819,12,48849,48875,12,48905,48931,12,48961,48987,12,49017,49043,12,49073,49099,12,49129,49155,12,49185,49211,12,49241,49267,12,49297,49323,12,49353,49379,12,49409,49435,12,49465,49491,12,49521,49547,12,49577,49603,12,49633,49659,12,49689,49715,12,49745,49771,12,49801,49827,12,49857,49883,12,49913,49939,12,49969,49995,12,50025,50051,12,50081,50107,12,50137,50163,12,50193,50219,12,50249,50275,12,50305,50331,12,50361,50387,12,50417,50443,12,50473,50499,12,50529,50555,12,50585,50611,12,50641,50667,12,50697,50723,12,50753,50779,12,50809,50835,12,50865,50891,12,50921,50947,12,50977,51003,12,51033,51059,12,51089,51115,12,51145,51171,12,51201,51227,12,51257,51283,12,51313,51339,12,51369,51395,12,51425,51451,12,51481,51507,12,51537,51563,12,51593,51619,12,51649,51675,12,51705,51731,12,51761,51787,12,51817,51843,12,51873,51899,12,51929,51955,12,51985,52011,12,52041,52067,12,52097,52123,12,52153,52179,12,52209,52235,12,52265,52291,12,52321,52347,12,52377,52403,12,52433,52459,12,52489,52515,12,52545,52571,12,52601,52627,12,52657,52683,12,52713,52739,12,52769,52795,12,52825,52851,12,52881,52907,12,52937,52963,12,52993,53019,12,53049,53075,12,53105,53131,12,53161,53187,12,53217,53243,12,53273,53299,12,53329,53355,12,53385,53411,12,53441,53467,12,53497,53523,12,53553,53579,12,53609,53635,12,53665,53691,12,53721,53747,12,53777,53803,12,53833,53859,12,53889,53915,12,53945,53971,12,54001,54027,12,54057,54083,12,54113,54139,12,54169,54195,12,54225,54251,12,54281,54307,12,54337,54363,12,54393,54419,12,54449,54475,12,54505,54531,12,54561,54587,12,54617,54643,12,54673,54699,12,54729,54755,12,54785,54811,12,54841,54867,12,54897,54923,12,54953,54979,12,55009,55035,12,55065,55091,12,55121,55147,12,55177,55203,12,65024,65039,5,65520,65528,4,66422,66426,5,68152,68154,5,69291,69292,5,69633,69633,5,69747,69748,5,69811,69814,5,69826,69826,5,69932,69932,7,70016,70017,5,70079,70080,7,70095,70095,5,70196,70196,5,70367,70367,5,70402,70403,7,70464,70464,5,70487,70487,5,70709,70711,7,70725,70725,7,70833,70834,7,70843,70844,7,70849,70849,7,71090,71093,5,71103,71104,5,71227,71228,7,71339,71339,5,71344,71349,5,71458,71461,5,71727,71735,5,71985,71989,7,71998,71998,5,72002,72002,7,72154,72155,5,72193,72202,5,72251,72254,5,72281,72283,5,72344,72345,5,72766,72766,7,72874,72880,5,72885,72886,5,73023,73029,5,73104,73105,5,73111,73111,5,92912,92916,5,94095,94098,5,113824,113827,4,119142,119142,7,119155,119162,4,119362,119364,5,121476,121476,5,122888,122904,5,123184,123190,5,125252,125258,5,127183,127183,14,127340,127343,14,127377,127386,14,127491,127503,14,127548,127551,14,127744,127756,14,127761,127761,14,127769,127769,14,127773,127774,14,127780,127788,14,127796,127797,14,127820,127823,14,127869,127869,14,127894,127895,14,127902,127903,14,127943,127943,14,127947,127950,14,127972,127972,14,127988,127988,14,127992,127994,14,128009,128011,14,128019,128019,14,128023,128041,14,128064,128064,14,128102,128107,14,128174,128181,14,128238,128238,14,128246,128247,14,128254,128254,14,128264,128264,14,128278,128299,14,128329,128330,14,128348,128359,14,128371,128377,14,128392,128393,14,128401,128404,14,128421,128421,14,128433,128434,14,128450,128452,14,128476,128478,14,128483,128483,14,128495,128495,14,128506,128506,14,128519,128520,14,128528,128528,14,128534,128534,14,128538,128538,14,128540,128542,14,128544,128549,14,128552,128555,14,128557,128557,14,128560,128563,14,128565,128565,14,128567,128576,14,128581,128591,14,128641,128642,14,128646,128646,14,128648,128648,14,128650,128651,14,128653,128653,14,128655,128655,14,128657,128659,14,128661,128661,14,128663,128663,14,128665,128666,14,128674,128674,14,128676,128677,14,128679,128685,14,128690,128690,14,128694,128694,14,128697,128702,14,128704,128704,14,128710,128714,14,128716,128716,14,128720,128720,14,128723,128724,14,128726,128727,14,128733,128735,14,128742,128744,14,128746,128746,14,128749,128751,14,128753,128754,14,128756,128758,14,128761,128761,14,128763,128764,14,128884,128895,14,128992,129003,14,129008,129008,14,129036,129039,14,129114,129119,14,129198,129279,14,129293,129295,14,129305,129310,14,129312,129319,14,129328,129328,14,129331,129338,14,129343,129343,14,129351,129355,14,129357,129359,14,129375,129387,14,129393,129393,14,129395,129398,14,129401,129401,14,129403,129403,14,129408,129412,14,129426,129431,14,129443,129444,14,129451,129453,14,129456,129465,14,129472,129472,14,129475,129482,14,129484,129484,14,129488,129510,14,129536,129647,14,129652,129652,14,129656,129658,14,129661,129663,14,129667,129670,14,129680,129685,14,129705,129708,14,129712,129718,14,129723,129727,14,129731,129733,14,129744,129750,14,129754,129759,14,129768,129775,14,129783,129791,14,917504,917504,4,917506,917535,4,917632,917759,4,918000,921599,4,0,9,4,11,12,4,14,31,4,169,169,14,174,174,14,1155,1159,5,1425,1469,5,1473,1474,5,1479,1479,5,1552,1562,5,1611,1631,5,1750,1756,5,1759,1764,5,1770,1773,5,1809,1809,5,1958,1968,5,2045,2045,5,2075,2083,5,2089,2093,5,2192,2193,1,2250,2273,5,2275,2306,5,2362,2362,5,2364,2364,5,2369,2376,5,2381,2381,5,2385,2391,5,2433,2433,5,2492,2492,5,2495,2496,7,2503,2504,7,2509,2509,5,2530,2531,5,2561,2562,5,2620,2620,5,2625,2626,5,2635,2637,5,2672,2673,5,2689,2690,5,2748,2748,5,2753,2757,5,2761,2761,7,2765,2765,5,2810,2815,5,2818,2819,7,2878,2878,5,2880,2880,7,2887,2888,7,2893,2893,5,2903,2903,5,2946,2946,5,3007,3007,7,3009,3010,7,3018,3020,7,3031,3031,5,3073,3075,7,3132,3132,5,3137,3140,7,3146,3149,5,3170,3171,5,3202,3203,7,3262,3262,7,3264,3265,7,3267,3268,7,3271,3272,7,3276,3277,5,3298,3299,5,3330,3331,7,3390,3390,5,3393,3396,5,3402,3404,7,3406,3406,1,3426,3427,5,3458,3459,7,3535,3535,5,3538,3540,5,3544,3550,7,3570,3571,7,3635,3635,7,3655,3662,5,3763,3763,7,3784,3789,5,3893,3893,5,3897,3897,5,3953,3966,5,3968,3972,5,3981,3991,5,4038,4038,5,4145,4145,7,4153,4154,5,4157,4158,5,4184,4185,5,4209,4212,5,4228,4228,7,4237,4237,5,4352,4447,8,4520,4607,10,5906,5908,5,5938,5939,5,5970,5971,5,6068,6069,5,6071,6077,5,6086,6086,5,6089,6099,5,6155,6157,5,6159,6159,5,6313,6313,5,6435,6438,7,6441,6443,7,6450,6450,5,6457,6459,5,6681,6682,7,6741,6741,7,6743,6743,7,6752,6752,5,6757,6764,5,6771,6780,5,6832,6845,5,6847,6862,5,6916,6916,7,6965,6965,5,6971,6971,7,6973,6977,7,6979,6980,7,7040,7041,5,7073,7073,7,7078,7079,7,7082,7082,7,7142,7142,5,7144,7145,5,7149,7149,5,7151,7153,5,7204,7211,7,7220,7221,7,7376,7378,5,7393,7393,7,7405,7405,5,7415,7415,7,7616,7679,5,8204,8204,5,8206,8207,4,8233,8233,4,8252,8252,14,8288,8292,4,8294,8303,4,8413,8416,5,8418,8420,5,8482,8482,14,8596,8601,14,8986,8987,14,9096,9096,14,9193,9196,14,9199,9199,14,9201,9202,14,9208,9210,14,9642,9643,14,9664,9664,14,9728,9729,14,9732,9732,14,9735,9741,14,9743,9744,14,9746,9746,14,9750,9751,14,9753,9756,14,9758,9759,14,9761,9761,14,9764,9765,14,9767,9769,14,9771,9773,14,9775,9775,14,9784,9785,14,9787,9791,14,9793,9793,14,9795,9799,14,9812,9822,14,9824,9824,14,9827,9827,14,9829,9830,14,9832,9832,14,9851,9851,14,9854,9854,14,9856,9861,14,9874,9874,14,9876,9876,14,9878,9879,14,9881,9881,14,9883,9884,14,9888,9889,14,9895,9895,14,9898,9899,14,9904,9905,14,9917,9918,14,9924,9925,14,9928,9928,14,9934,9934,14,9936,9936,14,9938,9938,14,9940,9940,14,9961,9961,14,9963,9967,14,9970,9971,14,9973,9973,14,9975,9977,14,9979,9980,14,9982,9985,14,9987,9988,14,9992,9996,14,9998,9998,14,10000,10001,14,10004,10004,14,10013,10013,14,10024,10024,14,10052,10052,14,10060,10060,14,10067,10069,14,10083,10083,14,10085,10087,14,10145,10145,14,10175,10175,14,11013,11015,14,11088,11088,14,11503,11505,5,11744,11775,5,12334,12335,5,12349,12349,14,12951,12951,14,42607,42607,5,42612,42621,5,42736,42737,5,43014,43014,5,43043,43044,7,43047,43047,7,43136,43137,7,43204,43205,5,43263,43263,5,43335,43345,5,43360,43388,8,43395,43395,7,43444,43445,7,43450,43451,7,43454,43456,7,43561,43566,5,43569,43570,5,43573,43574,5,43596,43596,5,43644,43644,5,43698,43700,5,43710,43711,5,43755,43755,7,43758,43759,7,43766,43766,5,44005,44005,5,44008,44008,5,44012,44012,7,44032,44032,11,44060,44060,11,44088,44088,11,44116,44116,11,44144,44144,11,44172,44172,11,44200,44200,11,44228,44228,11,44256,44256,11,44284,44284,11,44312,44312,11,44340,44340,11,44368,44368,11,44396,44396,11,44424,44424,11,44452,44452,11,44480,44480,11,44508,44508,11,44536,44536,11,44564,44564,11,44592,44592,11,44620,44620,11,44648,44648,11,44676,44676,11,44704,44704,11,44732,44732,11,44760,44760,11,44788,44788,11,44816,44816,11,44844,44844,11,44872,44872,11,44900,44900,11,44928,44928,11,44956,44956,11,44984,44984,11,45012,45012,11,45040,45040,11,45068,45068,11,45096,45096,11,45124,45124,11,45152,45152,11,45180,45180,11,45208,45208,11,45236,45236,11,45264,45264,11,45292,45292,11,45320,45320,11,45348,45348,11,45376,45376,11,45404,45404,11,45432,45432,11,45460,45460,11,45488,45488,11,45516,45516,11,45544,45544,11,45572,45572,11,45600,45600,11,45628,45628,11,45656,45656,11,45684,45684,11,45712,45712,11,45740,45740,11,45768,45768,11,45796,45796,11,45824,45824,11,45852,45852,11,45880,45880,11,45908,45908,11,45936,45936,11,45964,45964,11,45992,45992,11,46020,46020,11,46048,46048,11,46076,46076,11,46104,46104,11,46132,46132,11,46160,46160,11,46188,46188,11,46216,46216,11,46244,46244,11,46272,46272,11,46300,46300,11,46328,46328,11,46356,46356,11,46384,46384,11,46412,46412,11,46440,46440,11,46468,46468,11,46496,46496,11,46524,46524,11,46552,46552,11,46580,46580,11,46608,46608,11,46636,46636,11,46664,46664,11,46692,46692,11,46720,46720,11,46748,46748,11,46776,46776,11,46804,46804,11,46832,46832,11,46860,46860,11,46888,46888,11,46916,46916,11,46944,46944,11,46972,46972,11,47000,47000,11,47028,47028,11,47056,47056,11,47084,47084,11,47112,47112,11,47140,47140,11,47168,47168,11,47196,47196,11,47224,47224,11,47252,47252,11,47280,47280,11,47308,47308,11,47336,47336,11,47364,47364,11,47392,47392,11,47420,47420,11,47448,47448,11,47476,47476,11,47504,47504,11,47532,47532,11,47560,47560,11,47588,47588,11,47616,47616,11,47644,47644,11,47672,47672,11,47700,47700,11,47728,47728,11,47756,47756,11,47784,47784,11,47812,47812,11,47840,47840,11,47868,47868,11,47896,47896,11,47924,47924,11,47952,47952,11,47980,47980,11,48008,48008,11,48036,48036,11,48064,48064,11,48092,48092,11,48120,48120,11,48148,48148,11,48176,48176,11,48204,48204,11,48232,48232,11,48260,48260,11,48288,48288,11,48316,48316,11,48344,48344,11,48372,48372,11,48400,48400,11,48428,48428,11,48456,48456,11,48484,48484,11,48512,48512,11,48540,48540,11,48568,48568,11,48596,48596,11,48624,48624,11,48652,48652,11,48680,48680,11,48708,48708,11,48736,48736,11,48764,48764,11,48792,48792,11,48820,48820,11,48848,48848,11,48876,48876,11,48904,48904,11,48932,48932,11,48960,48960,11,48988,48988,11,49016,49016,11,49044,49044,11,49072,49072,11,49100,49100,11,49128,49128,11,49156,49156,11,49184,49184,11,49212,49212,11,49240,49240,11,49268,49268,11,49296,49296,11,49324,49324,11,49352,49352,11,49380,49380,11,49408,49408,11,49436,49436,11,49464,49464,11,49492,49492,11,49520,49520,11,49548,49548,11,49576,49576,11,49604,49604,11,49632,49632,11,49660,49660,11,49688,49688,11,49716,49716,11,49744,49744,11,49772,49772,11,49800,49800,11,49828,49828,11,49856,49856,11,49884,49884,11,49912,49912,11,49940,49940,11,49968,49968,11,49996,49996,11,50024,50024,11,50052,50052,11,50080,50080,11,50108,50108,11,50136,50136,11,50164,50164,11,50192,50192,11,50220,50220,11,50248,50248,11,50276,50276,11,50304,50304,11,50332,50332,11,50360,50360,11,50388,50388,11,50416,50416,11,50444,50444,11,50472,50472,11,50500,50500,11,50528,50528,11,50556,50556,11,50584,50584,11,50612,50612,11,50640,50640,11,50668,50668,11,50696,50696,11,50724,50724,11,50752,50752,11,50780,50780,11,50808,50808,11,50836,50836,11,50864,50864,11,50892,50892,11,50920,50920,11,50948,50948,11,50976,50976,11,51004,51004,11,51032,51032,11,51060,51060,11,51088,51088,11,51116,51116,11,51144,51144,11,51172,51172,11,51200,51200,11,51228,51228,11,51256,51256,11,51284,51284,11,51312,51312,11,51340,51340,11,51368,51368,11,51396,51396,11,51424,51424,11,51452,51452,11,51480,51480,11,51508,51508,11,51536,51536,11,51564,51564,11,51592,51592,11,51620,51620,11,51648,51648,11,51676,51676,11,51704,51704,11,51732,51732,11,51760,51760,11,51788,51788,11,51816,51816,11,51844,51844,11,51872,51872,11,51900,51900,11,51928,51928,11,51956,51956,11,51984,51984,11,52012,52012,11,52040,52040,11,52068,52068,11,52096,52096,11,52124,52124,11,52152,52152,11,52180,52180,11,52208,52208,11,52236,52236,11,52264,52264,11,52292,52292,11,52320,52320,11,52348,52348,11,52376,52376,11,52404,52404,11,52432,52432,11,52460,52460,11,52488,52488,11,52516,52516,11,52544,52544,11,52572,52572,11,52600,52600,11,52628,52628,11,52656,52656,11,52684,52684,11,52712,52712,11,52740,52740,11,52768,52768,11,52796,52796,11,52824,52824,11,52852,52852,11,52880,52880,11,52908,52908,11,52936,52936,11,52964,52964,11,52992,52992,11,53020,53020,11,53048,53048,11,53076,53076,11,53104,53104,11,53132,53132,11,53160,53160,11,53188,53188,11,53216,53216,11,53244,53244,11,53272,53272,11,53300,53300,11,53328,53328,11,53356,53356,11,53384,53384,11,53412,53412,11,53440,53440,11,53468,53468,11,53496,53496,11,53524,53524,11,53552,53552,11,53580,53580,11,53608,53608,11,53636,53636,11,53664,53664,11,53692,53692,11,53720,53720,11,53748,53748,11,53776,53776,11,53804,53804,11,53832,53832,11,53860,53860,11,53888,53888,11,53916,53916,11,53944,53944,11,53972,53972,11,54000,54000,11,54028,54028,11,54056,54056,11,54084,54084,11,54112,54112,11,54140,54140,11,54168,54168,11,54196,54196,11,54224,54224,11,54252,54252,11,54280,54280,11,54308,54308,11,54336,54336,11,54364,54364,11,54392,54392,11,54420,54420,11,54448,54448,11,54476,54476,11,54504,54504,11,54532,54532,11,54560,54560,11,54588,54588,11,54616,54616,11,54644,54644,11,54672,54672,11,54700,54700,11,54728,54728,11,54756,54756,11,54784,54784,11,54812,54812,11,54840,54840,11,54868,54868,11,54896,54896,11,54924,54924,11,54952,54952,11,54980,54980,11,55008,55008,11,55036,55036,11,55064,55064,11,55092,55092,11,55120,55120,11,55148,55148,11,55176,55176,11,55216,55238,9,64286,64286,5,65056,65071,5,65438,65439,5,65529,65531,4,66272,66272,5,68097,68099,5,68108,68111,5,68159,68159,5,68900,68903,5,69446,69456,5,69632,69632,7,69634,69634,7,69744,69744,5,69759,69761,5,69808,69810,7,69815,69816,7,69821,69821,1,69837,69837,1,69927,69931,5,69933,69940,5,70003,70003,5,70018,70018,7,70070,70078,5,70082,70083,1,70094,70094,7,70188,70190,7,70194,70195,7,70197,70197,7,70206,70206,5,70368,70370,7,70400,70401,5,70459,70460,5,70463,70463,7,70465,70468,7,70475,70477,7,70498,70499,7,70512,70516,5,70712,70719,5,70722,70724,5,70726,70726,5,70832,70832,5,70835,70840,5,70842,70842,5,70845,70845,5,70847,70848,5,70850,70851,5,71088,71089,7,71096,71099,7,71102,71102,7,71132,71133,5,71219,71226,5,71229,71229,5,71231,71232,5,71340,71340,7,71342,71343,7,71350,71350,7,71453,71455,5,71462,71462,7,71724,71726,7,71736,71736,7,71984,71984,5,71991,71992,7,71997,71997,7,71999,71999,1,72001,72001,1,72003,72003,5,72148,72151,5,72156,72159,7,72164,72164,7,72243,72248,5,72250,72250,1,72263,72263,5,72279,72280,7,72324,72329,1,72343,72343,7,72751,72751,7,72760,72765,5,72767,72767,5,72873,72873,7,72881,72881,7,72884,72884,7,73009,73014,5,73020,73021,5,73030,73030,1,73098,73102,7,73107,73108,7,73110,73110,7,73459,73460,5,78896,78904,4,92976,92982,5,94033,94087,7,94180,94180,5,113821,113822,5,118528,118573,5,119141,119141,5,119143,119145,5,119150,119154,5,119163,119170,5,119210,119213,5,121344,121398,5,121461,121461,5,121499,121503,5,122880,122886,5,122907,122913,5,122918,122922,5,123566,123566,5,125136,125142,5,126976,126979,14,126981,127182,14,127184,127231,14,127279,127279,14,127344,127345,14,127374,127374,14,127405,127461,14,127489,127490,14,127514,127514,14,127538,127546,14,127561,127567,14,127570,127743,14,127757,127758,14,127760,127760,14,127762,127762,14,127766,127768,14,127770,127770,14,127772,127772,14,127775,127776,14,127778,127779,14,127789,127791,14,127794,127795,14,127798,127798,14,127819,127819,14,127824,127824,14,127868,127868,14,127870,127871,14,127892,127893,14,127896,127896,14,127900,127901,14,127904,127940,14,127942,127942,14,127944,127944,14,127946,127946,14,127951,127955,14,127968,127971,14,127973,127984,14,127987,127987,14,127989,127989,14,127991,127991,14,127995,127999,5,128008,128008,14,128012,128014,14,128017,128018,14,128020,128020,14,128022,128022,14,128042,128042,14,128063,128063,14,128065,128065,14,128101,128101,14,128108,128109,14,128173,128173,14,128182,128183,14,128236,128237,14,128239,128239,14,128245,128245,14,128248,128248,14,128253,128253,14,128255,128258,14,128260,128263,14,128265,128265,14,128277,128277,14,128300,128301,14,128326,128328,14,128331,128334,14,128336,128347,14,128360,128366,14,128369,128370,14,128378,128378,14,128391,128391,14,128394,128397,14,128400,128400,14,128405,128406,14,128420,128420,14,128422,128423,14,128425,128432,14,128435,128443,14,128445,128449,14,128453,128464,14,128468,128475,14,128479,128480,14,128482,128482,14,128484,128487,14,128489,128494,14,128496,128498,14,128500,128505,14,128507,128511,14,128513,128518,14,128521,128525,14,128527,128527,14,128529,128529,14,128533,128533,14,128535,128535,14,128537,128537,14]")}function Ee(at,Mt){if(at===0)return 0;const Gt=Be(at,Mt);if(Gt!==void 0)return Gt;const _n=new me(Mt,at);return _n.prevCodePoint(),_n.offset}function Be(at,Mt){const Gt=new me(Mt,at);let _n=Gt.prevCodePoint();for(;Xe(_n)||_n===65039||_n===8419;){if(Gt.offset===0)return;_n=Gt.prevCodePoint()}if(!ft(_n))return;let Rn=Gt.offset;return Rn>0&&Gt.prevCodePoint()===8205&&(Rn=Gt.offset),Rn}function Xe(at){return 127995<=at&&at<=127999}const Pt="\xA0";class jt{constructor(Mt){this.confusableDictionary=Mt}static getInstance(Mt){return jt.cache.get(Array.from(Mt))}static getLocales(){return jt._locales.getValue()}isAmbiguous(Mt){return this.confusableDictionary.has(Mt)}getPrimaryConfusable(Mt){return this.confusableDictionary.get(Mt)}getConfusableCodePoints(){return new Set(this.confusableDictionary.keys())}}j=jt,jt.ambiguousCharacterData=new d.o(()=>JSON.parse('{"_common":[8232,32,8233,32,5760,32,8192,32,8193,32,8194,32,8195,32,8196,32,8197,32,8198,32,8200,32,8201,32,8202,32,8287,32,8199,32,8239,32,2042,95,65101,95,65102,95,65103,95,8208,45,8209,45,8210,45,65112,45,1748,45,8259,45,727,45,8722,45,10134,45,11450,45,1549,44,1643,44,8218,44,184,44,42233,44,894,59,2307,58,2691,58,1417,58,1795,58,1796,58,5868,58,65072,58,6147,58,6153,58,8282,58,1475,58,760,58,42889,58,8758,58,720,58,42237,58,451,33,11601,33,660,63,577,63,2429,63,5038,63,42731,63,119149,46,8228,46,1793,46,1794,46,42510,46,68176,46,1632,46,1776,46,42232,46,1373,96,65287,96,8219,96,8242,96,1370,96,1523,96,8175,96,65344,96,900,96,8189,96,8125,96,8127,96,8190,96,697,96,884,96,712,96,714,96,715,96,756,96,699,96,701,96,700,96,702,96,42892,96,1497,96,2036,96,2037,96,5194,96,5836,96,94033,96,94034,96,65339,91,10088,40,10098,40,12308,40,64830,40,65341,93,10089,41,10099,41,12309,41,64831,41,10100,123,119060,123,10101,125,65342,94,8270,42,1645,42,8727,42,66335,42,5941,47,8257,47,8725,47,8260,47,9585,47,10187,47,10744,47,119354,47,12755,47,12339,47,11462,47,20031,47,12035,47,65340,92,65128,92,8726,92,10189,92,10741,92,10745,92,119311,92,119355,92,12756,92,20022,92,12034,92,42872,38,708,94,710,94,5869,43,10133,43,66203,43,8249,60,10094,60,706,60,119350,60,5176,60,5810,60,5120,61,11840,61,12448,61,42239,61,8250,62,10095,62,707,62,119351,62,5171,62,94015,62,8275,126,732,126,8128,126,8764,126,65372,124,65293,45,120784,50,120794,50,120804,50,120814,50,120824,50,130034,50,42842,50,423,50,1000,50,42564,50,5311,50,42735,50,119302,51,120785,51,120795,51,120805,51,120815,51,120825,51,130035,51,42923,51,540,51,439,51,42858,51,11468,51,1248,51,94011,51,71882,51,120786,52,120796,52,120806,52,120816,52,120826,52,130036,52,5070,52,71855,52,120787,53,120797,53,120807,53,120817,53,120827,53,130037,53,444,53,71867,53,120788,54,120798,54,120808,54,120818,54,120828,54,130038,54,11474,54,5102,54,71893,54,119314,55,120789,55,120799,55,120809,55,120819,55,120829,55,130039,55,66770,55,71878,55,2819,56,2538,56,2666,56,125131,56,120790,56,120800,56,120810,56,120820,56,120830,56,130040,56,547,56,546,56,66330,56,2663,57,2920,57,2541,57,3437,57,120791,57,120801,57,120811,57,120821,57,120831,57,130041,57,42862,57,11466,57,71884,57,71852,57,71894,57,9082,97,65345,97,119834,97,119886,97,119938,97,119990,97,120042,97,120094,97,120146,97,120198,97,120250,97,120302,97,120354,97,120406,97,120458,97,593,97,945,97,120514,97,120572,97,120630,97,120688,97,120746,97,65313,65,119808,65,119860,65,119912,65,119964,65,120016,65,120068,65,120120,65,120172,65,120224,65,120276,65,120328,65,120380,65,120432,65,913,65,120488,65,120546,65,120604,65,120662,65,120720,65,5034,65,5573,65,42222,65,94016,65,66208,65,119835,98,119887,98,119939,98,119991,98,120043,98,120095,98,120147,98,120199,98,120251,98,120303,98,120355,98,120407,98,120459,98,388,98,5071,98,5234,98,5551,98,65314,66,8492,66,119809,66,119861,66,119913,66,120017,66,120069,66,120121,66,120173,66,120225,66,120277,66,120329,66,120381,66,120433,66,42932,66,914,66,120489,66,120547,66,120605,66,120663,66,120721,66,5108,66,5623,66,42192,66,66178,66,66209,66,66305,66,65347,99,8573,99,119836,99,119888,99,119940,99,119992,99,120044,99,120096,99,120148,99,120200,99,120252,99,120304,99,120356,99,120408,99,120460,99,7428,99,1010,99,11429,99,43951,99,66621,99,128844,67,71922,67,71913,67,65315,67,8557,67,8450,67,8493,67,119810,67,119862,67,119914,67,119966,67,120018,67,120174,67,120226,67,120278,67,120330,67,120382,67,120434,67,1017,67,11428,67,5087,67,42202,67,66210,67,66306,67,66581,67,66844,67,8574,100,8518,100,119837,100,119889,100,119941,100,119993,100,120045,100,120097,100,120149,100,120201,100,120253,100,120305,100,120357,100,120409,100,120461,100,1281,100,5095,100,5231,100,42194,100,8558,68,8517,68,119811,68,119863,68,119915,68,119967,68,120019,68,120071,68,120123,68,120175,68,120227,68,120279,68,120331,68,120383,68,120435,68,5024,68,5598,68,5610,68,42195,68,8494,101,65349,101,8495,101,8519,101,119838,101,119890,101,119942,101,120046,101,120098,101,120150,101,120202,101,120254,101,120306,101,120358,101,120410,101,120462,101,43826,101,1213,101,8959,69,65317,69,8496,69,119812,69,119864,69,119916,69,120020,69,120072,69,120124,69,120176,69,120228,69,120280,69,120332,69,120384,69,120436,69,917,69,120492,69,120550,69,120608,69,120666,69,120724,69,11577,69,5036,69,42224,69,71846,69,71854,69,66182,69,119839,102,119891,102,119943,102,119995,102,120047,102,120099,102,120151,102,120203,102,120255,102,120307,102,120359,102,120411,102,120463,102,43829,102,42905,102,383,102,7837,102,1412,102,119315,70,8497,70,119813,70,119865,70,119917,70,120021,70,120073,70,120125,70,120177,70,120229,70,120281,70,120333,70,120385,70,120437,70,42904,70,988,70,120778,70,5556,70,42205,70,71874,70,71842,70,66183,70,66213,70,66853,70,65351,103,8458,103,119840,103,119892,103,119944,103,120048,103,120100,103,120152,103,120204,103,120256,103,120308,103,120360,103,120412,103,120464,103,609,103,7555,103,397,103,1409,103,119814,71,119866,71,119918,71,119970,71,120022,71,120074,71,120126,71,120178,71,120230,71,120282,71,120334,71,120386,71,120438,71,1292,71,5056,71,5107,71,42198,71,65352,104,8462,104,119841,104,119945,104,119997,104,120049,104,120101,104,120153,104,120205,104,120257,104,120309,104,120361,104,120413,104,120465,104,1211,104,1392,104,5058,104,65320,72,8459,72,8460,72,8461,72,119815,72,119867,72,119919,72,120023,72,120179,72,120231,72,120283,72,120335,72,120387,72,120439,72,919,72,120494,72,120552,72,120610,72,120668,72,120726,72,11406,72,5051,72,5500,72,42215,72,66255,72,731,105,9075,105,65353,105,8560,105,8505,105,8520,105,119842,105,119894,105,119946,105,119998,105,120050,105,120102,105,120154,105,120206,105,120258,105,120310,105,120362,105,120414,105,120466,105,120484,105,618,105,617,105,953,105,8126,105,890,105,120522,105,120580,105,120638,105,120696,105,120754,105,1110,105,42567,105,1231,105,43893,105,5029,105,71875,105,65354,106,8521,106,119843,106,119895,106,119947,106,119999,106,120051,106,120103,106,120155,106,120207,106,120259,106,120311,106,120363,106,120415,106,120467,106,1011,106,1112,106,65322,74,119817,74,119869,74,119921,74,119973,74,120025,74,120077,74,120129,74,120181,74,120233,74,120285,74,120337,74,120389,74,120441,74,42930,74,895,74,1032,74,5035,74,5261,74,42201,74,119844,107,119896,107,119948,107,120000,107,120052,107,120104,107,120156,107,120208,107,120260,107,120312,107,120364,107,120416,107,120468,107,8490,75,65323,75,119818,75,119870,75,119922,75,119974,75,120026,75,120078,75,120130,75,120182,75,120234,75,120286,75,120338,75,120390,75,120442,75,922,75,120497,75,120555,75,120613,75,120671,75,120729,75,11412,75,5094,75,5845,75,42199,75,66840,75,1472,108,8739,73,9213,73,65512,73,1633,108,1777,73,66336,108,125127,108,120783,73,120793,73,120803,73,120813,73,120823,73,130033,73,65321,73,8544,73,8464,73,8465,73,119816,73,119868,73,119920,73,120024,73,120128,73,120180,73,120232,73,120284,73,120336,73,120388,73,120440,73,65356,108,8572,73,8467,108,119845,108,119897,108,119949,108,120001,108,120053,108,120105,73,120157,73,120209,73,120261,73,120313,73,120365,73,120417,73,120469,73,448,73,120496,73,120554,73,120612,73,120670,73,120728,73,11410,73,1030,73,1216,73,1493,108,1503,108,1575,108,126464,108,126592,108,65166,108,65165,108,1994,108,11599,73,5825,73,42226,73,93992,73,66186,124,66313,124,119338,76,8556,76,8466,76,119819,76,119871,76,119923,76,120027,76,120079,76,120131,76,120183,76,120235,76,120287,76,120339,76,120391,76,120443,76,11472,76,5086,76,5290,76,42209,76,93974,76,71843,76,71858,76,66587,76,66854,76,65325,77,8559,77,8499,77,119820,77,119872,77,119924,77,120028,77,120080,77,120132,77,120184,77,120236,77,120288,77,120340,77,120392,77,120444,77,924,77,120499,77,120557,77,120615,77,120673,77,120731,77,1018,77,11416,77,5047,77,5616,77,5846,77,42207,77,66224,77,66321,77,119847,110,119899,110,119951,110,120003,110,120055,110,120107,110,120159,110,120211,110,120263,110,120315,110,120367,110,120419,110,120471,110,1400,110,1404,110,65326,78,8469,78,119821,78,119873,78,119925,78,119977,78,120029,78,120081,78,120185,78,120237,78,120289,78,120341,78,120393,78,120445,78,925,78,120500,78,120558,78,120616,78,120674,78,120732,78,11418,78,42208,78,66835,78,3074,111,3202,111,3330,111,3458,111,2406,111,2662,111,2790,111,3046,111,3174,111,3302,111,3430,111,3664,111,3792,111,4160,111,1637,111,1781,111,65359,111,8500,111,119848,111,119900,111,119952,111,120056,111,120108,111,120160,111,120212,111,120264,111,120316,111,120368,111,120420,111,120472,111,7439,111,7441,111,43837,111,959,111,120528,111,120586,111,120644,111,120702,111,120760,111,963,111,120532,111,120590,111,120648,111,120706,111,120764,111,11423,111,4351,111,1413,111,1505,111,1607,111,126500,111,126564,111,126596,111,65259,111,65260,111,65258,111,65257,111,1726,111,64428,111,64429,111,64427,111,64426,111,1729,111,64424,111,64425,111,64423,111,64422,111,1749,111,3360,111,4125,111,66794,111,71880,111,71895,111,66604,111,1984,79,2534,79,2918,79,12295,79,70864,79,71904,79,120782,79,120792,79,120802,79,120812,79,120822,79,130032,79,65327,79,119822,79,119874,79,119926,79,119978,79,120030,79,120082,79,120134,79,120186,79,120238,79,120290,79,120342,79,120394,79,120446,79,927,79,120502,79,120560,79,120618,79,120676,79,120734,79,11422,79,1365,79,11604,79,4816,79,2848,79,66754,79,42227,79,71861,79,66194,79,66219,79,66564,79,66838,79,9076,112,65360,112,119849,112,119901,112,119953,112,120005,112,120057,112,120109,112,120161,112,120213,112,120265,112,120317,112,120369,112,120421,112,120473,112,961,112,120530,112,120544,112,120588,112,120602,112,120646,112,120660,112,120704,112,120718,112,120762,112,120776,112,11427,112,65328,80,8473,80,119823,80,119875,80,119927,80,119979,80,120031,80,120083,80,120187,80,120239,80,120291,80,120343,80,120395,80,120447,80,929,80,120504,80,120562,80,120620,80,120678,80,120736,80,11426,80,5090,80,5229,80,42193,80,66197,80,119850,113,119902,113,119954,113,120006,113,120058,113,120110,113,120162,113,120214,113,120266,113,120318,113,120370,113,120422,113,120474,113,1307,113,1379,113,1382,113,8474,81,119824,81,119876,81,119928,81,119980,81,120032,81,120084,81,120188,81,120240,81,120292,81,120344,81,120396,81,120448,81,11605,81,119851,114,119903,114,119955,114,120007,114,120059,114,120111,114,120163,114,120215,114,120267,114,120319,114,120371,114,120423,114,120475,114,43847,114,43848,114,7462,114,11397,114,43905,114,119318,82,8475,82,8476,82,8477,82,119825,82,119877,82,119929,82,120033,82,120189,82,120241,82,120293,82,120345,82,120397,82,120449,82,422,82,5025,82,5074,82,66740,82,5511,82,42211,82,94005,82,65363,115,119852,115,119904,115,119956,115,120008,115,120060,115,120112,115,120164,115,120216,115,120268,115,120320,115,120372,115,120424,115,120476,115,42801,115,445,115,1109,115,43946,115,71873,115,66632,115,65331,83,119826,83,119878,83,119930,83,119982,83,120034,83,120086,83,120138,83,120190,83,120242,83,120294,83,120346,83,120398,83,120450,83,1029,83,1359,83,5077,83,5082,83,42210,83,94010,83,66198,83,66592,83,119853,116,119905,116,119957,116,120009,116,120061,116,120113,116,120165,116,120217,116,120269,116,120321,116,120373,116,120425,116,120477,116,8868,84,10201,84,128872,84,65332,84,119827,84,119879,84,119931,84,119983,84,120035,84,120087,84,120139,84,120191,84,120243,84,120295,84,120347,84,120399,84,120451,84,932,84,120507,84,120565,84,120623,84,120681,84,120739,84,11430,84,5026,84,42196,84,93962,84,71868,84,66199,84,66225,84,66325,84,119854,117,119906,117,119958,117,120010,117,120062,117,120114,117,120166,117,120218,117,120270,117,120322,117,120374,117,120426,117,120478,117,42911,117,7452,117,43854,117,43858,117,651,117,965,117,120534,117,120592,117,120650,117,120708,117,120766,117,1405,117,66806,117,71896,117,8746,85,8899,85,119828,85,119880,85,119932,85,119984,85,120036,85,120088,85,120140,85,120192,85,120244,85,120296,85,120348,85,120400,85,120452,85,1357,85,4608,85,66766,85,5196,85,42228,85,94018,85,71864,85,8744,118,8897,118,65366,118,8564,118,119855,118,119907,118,119959,118,120011,118,120063,118,120115,118,120167,118,120219,118,120271,118,120323,118,120375,118,120427,118,120479,118,7456,118,957,118,120526,118,120584,118,120642,118,120700,118,120758,118,1141,118,1496,118,71430,118,43945,118,71872,118,119309,86,1639,86,1783,86,8548,86,119829,86,119881,86,119933,86,119985,86,120037,86,120089,86,120141,86,120193,86,120245,86,120297,86,120349,86,120401,86,120453,86,1140,86,11576,86,5081,86,5167,86,42719,86,42214,86,93960,86,71840,86,66845,86,623,119,119856,119,119908,119,119960,119,120012,119,120064,119,120116,119,120168,119,120220,119,120272,119,120324,119,120376,119,120428,119,120480,119,7457,119,1121,119,1309,119,1377,119,71434,119,71438,119,71439,119,43907,119,71919,87,71910,87,119830,87,119882,87,119934,87,119986,87,120038,87,120090,87,120142,87,120194,87,120246,87,120298,87,120350,87,120402,87,120454,87,1308,87,5043,87,5076,87,42218,87,5742,120,10539,120,10540,120,10799,120,65368,120,8569,120,119857,120,119909,120,119961,120,120013,120,120065,120,120117,120,120169,120,120221,120,120273,120,120325,120,120377,120,120429,120,120481,120,5441,120,5501,120,5741,88,9587,88,66338,88,71916,88,65336,88,8553,88,119831,88,119883,88,119935,88,119987,88,120039,88,120091,88,120143,88,120195,88,120247,88,120299,88,120351,88,120403,88,120455,88,42931,88,935,88,120510,88,120568,88,120626,88,120684,88,120742,88,11436,88,11613,88,5815,88,42219,88,66192,88,66228,88,66327,88,66855,88,611,121,7564,121,65369,121,119858,121,119910,121,119962,121,120014,121,120066,121,120118,121,120170,121,120222,121,120274,121,120326,121,120378,121,120430,121,120482,121,655,121,7935,121,43866,121,947,121,8509,121,120516,121,120574,121,120632,121,120690,121,120748,121,1199,121,4327,121,71900,121,65337,89,119832,89,119884,89,119936,89,119988,89,120040,89,120092,89,120144,89,120196,89,120248,89,120300,89,120352,89,120404,89,120456,89,933,89,978,89,120508,89,120566,89,120624,89,120682,89,120740,89,11432,89,1198,89,5033,89,5053,89,42220,89,94019,89,71844,89,66226,89,119859,122,119911,122,119963,122,120015,122,120067,122,120119,122,120171,122,120223,122,120275,122,120327,122,120379,122,120431,122,120483,122,7458,122,43923,122,71876,122,66293,90,71909,90,65338,90,8484,90,8488,90,119833,90,119885,90,119937,90,119989,90,120041,90,120197,90,120249,90,120301,90,120353,90,120405,90,120457,90,918,90,120493,90,120551,90,120609,90,120667,90,120725,90,5059,90,42204,90,71849,90,65282,34,65284,36,65285,37,65286,38,65290,42,65291,43,65294,46,65295,47,65296,48,65297,49,65298,50,65299,51,65300,52,65301,53,65302,54,65303,55,65304,56,65305,57,65308,60,65309,61,65310,62,65312,64,65316,68,65318,70,65319,71,65324,76,65329,81,65330,82,65333,85,65334,86,65335,87,65343,95,65346,98,65348,100,65350,102,65355,107,65357,109,65358,110,65361,113,65362,114,65364,116,65365,117,65367,119,65370,122,65371,123,65373,125],"_default":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"cs":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"de":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"es":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"fr":[65374,126,65306,58,65281,33,8216,96,8245,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"it":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ja":[8211,45,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65292,44,65307,59],"ko":[8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pl":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"pt-BR":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"qps-ploc":[160,32,8211,45,65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"ru":[65374,126,65306,58,65281,33,8216,96,8217,96,8245,96,180,96,12494,47,305,105,921,73,1009,112,215,120,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"tr":[160,32,8211,45,65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65288,40,65289,41,65292,44,65307,59,65311,63],"zh-hans":[65374,126,65306,58,65281,33,8245,96,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65288,40,65289,41],"zh-hant":[8211,45,65374,126,180,96,12494,47,1047,51,1073,54,1072,97,1040,65,1068,98,1042,66,1089,99,1057,67,1077,101,1045,69,1053,72,305,105,1050,75,921,73,1052,77,1086,111,1054,79,1009,112,1088,112,1056,80,1075,114,1058,84,215,120,1093,120,1061,88,1091,121,1059,89,65283,35,65307,59]}')),jt.cache=new C.t(at=>{function Mt(vt){const _e=new Map;for(let ht=0;ht<vt.length;ht+=2)_e.set(vt[ht],vt[ht+1]);return _e}function Gt(vt,_e){const ht=new Map(vt);for(const[yt,ye]of _e)ht.set(yt,ye);return ht}function _n(vt,_e){if(!vt)return _e;const ht=new Map;for(const[yt,ye]of vt)_e.has(yt)&&ht.set(yt,ye);return ht}const Rn=j.ambiguousCharacterData.getValue();let Wn=at.filter(vt=>!vt.startsWith("_")&&vt in Rn);Wn.length===0&&(Wn=["_default"]);let wn;for(const vt of Wn){const _e=Mt(Rn[vt]);wn=_n(wn,_e)}const je=Mt(Rn._common),qn=Gt(je,wn);return new jt(qn)}),jt._locales=new d.o(()=>Object.keys(jt.ambiguousCharacterData.getValue()).filter(at=>!at.startsWith("_")));class pn{static getRawData(){return JSON.parse("[9,10,11,12,13,32,127,160,173,847,1564,4447,4448,6068,6069,6155,6156,6157,6158,7355,7356,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8203,8204,8205,8206,8207,8234,8235,8236,8237,8238,8239,8287,8288,8289,8290,8291,8292,8293,8294,8295,8296,8297,8298,8299,8300,8301,8302,8303,10240,12288,12644,65024,65025,65026,65027,65028,65029,65030,65031,65032,65033,65034,65035,65036,65037,65038,65039,65279,65440,65520,65521,65522,65523,65524,65525,65526,65527,65528,65532,78844,119155,119156,119157,119158,119159,119160,119161,119162,917504,917505,917506,917507,917508,917509,917510,917511,917512,917513,917514,917515,917516,917517,917518,917519,917520,917521,917522,917523,917524,917525,917526,917527,917528,917529,917530,917531,917532,917533,917534,917535,917536,917537,917538,917539,917540,917541,917542,917543,917544,917545,917546,917547,917548,917549,917550,917551,917552,917553,917554,917555,917556,917557,917558,917559,917560,917561,917562,917563,917564,917565,917566,917567,917568,917569,917570,917571,917572,917573,917574,917575,917576,917577,917578,917579,917580,917581,917582,917583,917584,917585,917586,917587,917588,917589,917590,917591,917592,917593,917594,917595,917596,917597,917598,917599,917600,917601,917602,917603,917604,917605,917606,917607,917608,917609,917610,917611,917612,917613,917614,917615,917616,917617,917618,917619,917620,917621,917622,917623,917624,917625,917626,917627,917628,917629,917630,917631,917760,917761,917762,917763,917764,917765,917766,917767,917768,917769,917770,917771,917772,917773,917774,917775,917776,917777,917778,917779,917780,917781,917782,917783,917784,917785,917786,917787,917788,917789,917790,917791,917792,917793,917794,917795,917796,917797,917798,917799,917800,917801,917802,917803,917804,917805,917806,917807,917808,917809,917810,917811,917812,917813,917814,917815,917816,917817,917818,917819,917820,917821,917822,917823,917824,917825,917826,917827,917828,917829,917830,917831,917832,917833,917834,917835,917836,917837,917838,917839,917840,917841,917842,917843,917844,917845,917846,917847,917848,917849,917850,917851,917852,917853,917854,917855,917856,917857,917858,917859,917860,917861,917862,917863,917864,917865,917866,917867,917868,917869,917870,917871,917872,917873,917874,917875,917876,917877,917878,917879,917880,917881,917882,917883,917884,917885,917886,917887,917888,917889,917890,917891,917892,917893,917894,917895,917896,917897,917898,917899,917900,917901,917902,917903,917904,917905,917906,917907,917908,917909,917910,917911,917912,917913,917914,917915,917916,917917,917918,917919,917920,917921,917922,917923,917924,917925,917926,917927,917928,917929,917930,917931,917932,917933,917934,917935,917936,917937,917938,917939,917940,917941,917942,917943,917944,917945,917946,917947,917948,917949,917950,917951,917952,917953,917954,917955,917956,917957,917958,917959,917960,917961,917962,917963,917964,917965,917966,917967,917968,917969,917970,917971,917972,917973,917974,917975,917976,917977,917978,917979,917980,917981,917982,917983,917984,917985,917986,917987,917988,917989,917990,917991,917992,917993,917994,917995,917996,917997,917998,917999]")}static getData(){return this._data||(this._data=new Set(pn.getRawData())),this._data}static isInvisibleCharacter(Mt){return pn.getData().has(Mt)}static get codePoints(){return pn.getData()}}pn._data=void 0},17014:function(nt,xe,l){"use strict";l.d(xe,{$E:function(){return N},$K:function(){return T},D8:function(){return a},HD:function(){return d},IU:function(){return I},Jp:function(){return S},Kn:function(){return j},TW:function(){return z},cW:function(){return y},f6:function(){return E},fU:function(){return W},hj:function(){return L},jn:function(){return P},kJ:function(){return C},mf:function(){return u},o8:function(){return A},p_:function(){return _},vE:function(){return O}});function C(R){return Array.isArray(R)}function d(R){return typeof R=="string"}function j(R){return typeof R=="object"&&R!==null&&!Array.isArray(R)&&!(R instanceof RegExp)&&!(R instanceof Date)}function W(R){const M=Object.getPrototypeOf(Uint8Array);return typeof R=="object"&&R instanceof M}function L(R){return typeof R=="number"&&!isNaN(R)}function z(R){return!!R&&typeof R[Symbol.iterator]=="function"}function P(R){return R===!0||R===!1}function A(R){return typeof R=="undefined"}function T(R){return!S(R)}function S(R){return A(R)||R===null}function _(R,M){if(!R)throw new Error(M?`Unexpected type, expected '${M}'`:"Unexpected type")}function y(R){if(S(R))throw new Error("Assertion Failed: argument is undefined or null");return R}function u(R){return typeof R=="function"}function a(R,M){const K=Math.min(R.length,M.length);for(let Z=0;Z<K;Z++)b(R[Z],M[Z])}function b(R,M){if(d(M)){if(typeof R!==M)throw new Error(`argument does not match constraint: typeof ${M}`)}else if(u(M)){try{if(R instanceof M)return}catch(K){}if(!S(R)&&R.constructor===M||M.length===1&&M.call(void 0,R)===!0)return;throw new Error("argument does not match one of these constraints: arg instanceof constraint, arg.constructor === constraint, nor constraint(arg) === true")}}function D(R){let M=[],K=Object.getPrototypeOf(R);for(;Object.prototype!==K;)M=M.concat(Object.getOwnPropertyNames(K)),K=Object.getPrototypeOf(K);return M}function N(R){const M=[];for(const K of D(R))typeof R[K]=="function"&&M.push(K);return M}function I(R,M){const K=te=>function(){const de=Array.prototype.slice.call(arguments,0);return M(te,de)},Z={};for(const te of R)Z[te]=K(te);return Z}function E(R){return R===null?void 0:R}function O(R,M="Unreachable"){throw new Error(M)}},96796:function(nt,xe,l){"use strict";l.d(xe,{A:function(){return d},K:function(){return C}});function C(j){return j<0?0:j>255?255:j|0}function d(j){return j<0?0:j>4294967295?4294967295:j|0}},92770:function(nt,xe,l){"use strict";l.d(xe,{o:function(){return y},q:function(){return I}});var C=l(46267),d=l(94976);const j=/^\w[\w\d+.-]*$/,W=/^\//,L=/^\/\//;function z(K,Z){if(!K.scheme&&Z)throw new Error(`[UriError]: Scheme is missing: {scheme: "", authority: "${K.authority}", path: "${K.path}", query: "${K.query}", fragment: "${K.fragment}"}`);if(K.scheme&&!j.test(K.scheme))throw new Error("[UriError]: Scheme contains illegal characters.");if(K.path){if(K.authority){if(!W.test(K.path))throw new Error('[UriError]: If a URI contains an authority component, then the path component must either be empty or begin with a slash ("/") character')}else if(L.test(K.path))throw new Error('[UriError]: If a URI does not contain an authority component, then the path cannot begin with two slash characters ("//")')}}function P(K,Z){return!K&&!Z?"file":K}function A(K,Z){switch(K){case"https":case"http":case"file":Z?Z[0]!==S&&(Z=S+Z):Z=S;break}return Z}const T="",S="/",_=/^(([^:/?#]+?):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/;class y{constructor(Z,te,de,ge,le,se=!1){typeof Z=="object"?(this.scheme=Z.scheme||T,this.authority=Z.authority||T,this.path=Z.path||T,this.query=Z.query||T,this.fragment=Z.fragment||T):(this.scheme=P(Z,se),this.authority=te||T,this.path=A(this.scheme,de||T),this.query=ge||T,this.fragment=le||T,z(this,se))}static isUri(Z){return Z instanceof y?!0:Z?typeof Z.authority=="string"&&typeof Z.fragment=="string"&&typeof Z.path=="string"&&typeof Z.query=="string"&&typeof Z.scheme=="string"&&typeof Z.fsPath=="string"&&typeof Z.with=="function"&&typeof Z.toString=="function":!1}get fsPath(){return I(this,!1)}with(Z){if(!Z)return this;let{scheme:te,authority:de,path:ge,query:le,fragment:se}=Z;return te===void 0?te=this.scheme:te===null&&(te=T),de===void 0?de=this.authority:de===null&&(de=T),ge===void 0?ge=this.path:ge===null&&(ge=T),le===void 0?le=this.query:le===null&&(le=T),se===void 0?se=this.fragment:se===null&&(se=T),te===this.scheme&&de===this.authority&&ge===this.path&&le===this.query&&se===this.fragment?this:new a(te,de,ge,le,se)}static parse(Z,te=!1){const de=_.exec(Z);return de?new a(de[2]||T,M(de[4]||T),M(de[5]||T),M(de[7]||T),M(de[9]||T),te):new a(T,T,T,T,T)}static file(Z){let te=T;if(d.ED&&(Z=Z.replace(/\\/g,S)),Z[0]===S&&Z[1]===S){const de=Z.indexOf(S,2);de===-1?(te=Z.substring(2),Z=S):(te=Z.substring(2,de),Z=Z.substring(de)||S)}return new a("file",te,Z,T,T)}static from(Z){const te=new a(Z.scheme,Z.authority,Z.path,Z.query,Z.fragment);return z(te,!0),te}static joinPath(Z,...te){if(!Z.path)throw new Error("[UriError]: cannot call joinPath on URI without path");let de;return d.ED&&Z.scheme==="file"?de=y.file(C.Ku.join(I(Z,!0),...te)).path:de=C.KR.join(Z.path,...te),Z.with({path:de})}toString(Z=!1){return E(this,Z)}toJSON(){return this}static revive(Z){if(Z){if(Z instanceof y)return Z;{const te=new a(Z);return te._formatted=Z.external,te._fsPath=Z._sep===u?Z.fsPath:null,te}}else return Z}}const u=d.ED?1:void 0;class a extends y{constructor(){super(...arguments),this._formatted=null,this._fsPath=null}get fsPath(){return this._fsPath||(this._fsPath=I(this,!1)),this._fsPath}toString(Z=!1){return Z?E(this,!0):(this._formatted||(this._formatted=E(this,!1)),this._formatted)}toJSON(){const Z={$mid:1};return this._fsPath&&(Z.fsPath=this._fsPath,Z._sep=u),this._formatted&&(Z.external=this._formatted),this.path&&(Z.path=this.path),this.scheme&&(Z.scheme=this.scheme),this.authority&&(Z.authority=this.authority),this.query&&(Z.query=this.query),this.fragment&&(Z.fragment=this.fragment),Z}}const b={[58]:"%3A",[47]:"%2F",[63]:"%3F",[35]:"%23",[91]:"%5B",[93]:"%5D",[64]:"%40",[33]:"%21",[36]:"%24",[38]:"%26",[39]:"%27",[40]:"%28",[41]:"%29",[42]:"%2A",[43]:"%2B",[44]:"%2C",[59]:"%3B",[61]:"%3D",[32]:"%20"};function D(K,Z){let te,de=-1;for(let ge=0;ge<K.length;ge++){const le=K.charCodeAt(ge);if(le>=97&&le<=122||le>=65&&le<=90||le>=48&&le<=57||le===45||le===46||le===95||le===126||Z&&le===47)de!==-1&&(te+=encodeURIComponent(K.substring(de,ge)),de=-1),te!==void 0&&(te+=K.charAt(ge));else{te===void 0&&(te=K.substr(0,ge));const se=b[le];se!==void 0?(de!==-1&&(te+=encodeURIComponent(K.substring(de,ge)),de=-1),te+=se):de===-1&&(de=ge)}}return de!==-1&&(te+=encodeURIComponent(K.substring(de))),te!==void 0?te:K}function N(K){let Z;for(let te=0;te<K.length;te++){const de=K.charCodeAt(te);de===35||de===63?(Z===void 0&&(Z=K.substr(0,te)),Z+=b[de]):Z!==void 0&&(Z+=K[te])}return Z!==void 0?Z:K}function I(K,Z){let te;return K.authority&&K.path.length>1&&K.scheme==="file"?te=`//${K.authority}${K.path}`:K.path.charCodeAt(0)===47&&(K.path.charCodeAt(1)>=65&&K.path.charCodeAt(1)<=90||K.path.charCodeAt(1)>=97&&K.path.charCodeAt(1)<=122)&&K.path.charCodeAt(2)===58?Z?te=K.path.substr(1):te=K.path[1].toLowerCase()+K.path.substr(2):te=K.path,d.ED&&(te=te.replace(/\//g,"\\")),te}function E(K,Z){const te=Z?N:D;let de="",{scheme:ge,authority:le,path:se,query:X,fragment:re}=K;if(ge&&(de+=ge,de+=":"),(le||ge==="file")&&(de+=S,de+=S),le){let ne=le.indexOf("@");if(ne!==-1){const U=le.substr(0,ne);le=le.substr(ne+1),ne=U.indexOf(":"),ne===-1?de+=te(U,!1):(de+=te(U.substr(0,ne),!1),de+=":",de+=te(U.substr(ne+1),!1)),de+="@"}le=le.toLowerCase(),ne=le.indexOf(":"),ne===-1?de+=te(le,!1):(de+=te(le.substr(0,ne),!1),de+=le.substr(ne))}if(se){if(se.length>=3&&se.charCodeAt(0)===47&&se.charCodeAt(2)===58){const ne=se.charCodeAt(1);ne>=65&&ne<=90&&(se=`/${String.fromCharCode(ne+32)}:${se.substr(3)}`)}else if(se.length>=2&&se.charCodeAt(1)===58){const ne=se.charCodeAt(0);ne>=65&&ne<=90&&(se=`${String.fromCharCode(ne+32)}:${se.substr(2)}`)}de+=te(se,!0)}return X&&(de+="?",de+=te(X,!1)),re&&(de+="#",de+=Z?re:D(re,!1)),de}function O(K){try{return decodeURIComponent(K)}catch(Z){return K.length>3?K.substr(0,3)+O(K.substr(3)):K}}const R=/(%[0-9A-Za-z][0-9A-Za-z])+/g;function M(K){return K.match(R)?K.replace(R,Z=>O(Z)):K}},50901:function(nt,xe,l){"use strict";l.d(xe,{Jq:function(){return d},X5:function(){return C},jG:function(){return j}});const C={ctrlCmd:!1,alt:!1};var d;(function(z){z[z.Blur=1]="Blur",z[z.Gesture=2]="Gesture",z[z.Other=3]="Other"})(d||(d={}));var j;(function(z){z[z.NONE=0]="NONE",z[z.FIRST=1]="FIRST",z[z.SECOND=2]="SECOND",z[z.LAST=3]="LAST"})(j||(j={}));class W{constructor(P){this.options=P}}const L=new W},18786:function(nt,xe,l){"use strict";l.d(xe,{N:function(){return d}});var C=l(52948);function d(j,W){j instanceof C.Z?(j.setFontFamily(W.getMassagedFontFamily()),j.setFontWeight(W.fontWeight),j.setFontSize(W.fontSize),j.setFontFeatureSettings(W.fontFeatureSettings),j.setLineHeight(W.lineHeight),j.setLetterSpacing(W.letterSpacing)):(j.style.fontFamily=W.getMassagedFontFamily(),j.style.fontWeight=W.fontWeight,j.style.fontSize=W.fontSize+"px",j.style.fontFeatureSettings=W.fontFeatureSettings,j.style.lineHeight=W.lineHeight+"px",j.style.letterSpacing=W.letterSpacing+"px")}},26486:function(nt,xe,l){"use strict";l.d(xe,{I:function(){return j}});var C=l(94214),d=l(60218);class j extends C.JT{constructor(L,z){super(),this._onDidChange=this._register(new d.Q5),this.onDidChange=this._onDidChange.event,this._referenceDomElement=L,this._width=-1,this._height=-1,this._resizeObserver=null,this.measureReferenceDomElement(!1,z)}dispose(){this.stopObserving(),super.dispose()}getWidth(){return this._width}getHeight(){return this._height}startObserving(){!this._resizeObserver&&this._referenceDomElement&&(this._resizeObserver=new ResizeObserver(L=>{L&&L[0]&&L[0].contentRect?this.observe({width:L[0].contentRect.width,height:L[0].contentRect.height}):this.observe()}),this._resizeObserver.observe(this._referenceDomElement))}stopObserving(){this._resizeObserver&&(this._resizeObserver.disconnect(),this._resizeObserver=null)}observe(L){this.measureReferenceDomElement(!0,L)}measureReferenceDomElement(L,z){let P=0,A=0;z?(P=z.width,A=z.height):this._referenceDomElement&&(P=this._referenceDomElement.clientWidth,A=this._referenceDomElement.clientHeight),P=Math.max(5,P),A=Math.max(5,A),(this._width!==P||this._height!==A)&&(this._width=P,this._height=A,L&&this._onDidChange.fire())}}},36078:function(nt,xe,l){"use strict";l.d(xe,{g:function(){return y}});var C=l(69748),d=l(60218),j=l(94214),W=l(18786);class L{constructor(a,b){this.chr=a,this.type=b,this.width=0}fulfill(a){this.width=a}}class z{constructor(a,b){this._bareFontInfo=a,this._requests=b,this._container=null,this._testElements=null}read(){this._createDomElements(),document.body.appendChild(this._container),this._readFromDomElements(),document.body.removeChild(this._container),this._container=null,this._testElements=null}_createDomElements(){const a=document.createElement("div");a.style.position="absolute",a.style.top="-50000px",a.style.width="50000px";const b=document.createElement("div");(0,W.N)(b,this._bareFontInfo),a.appendChild(b);const D=document.createElement("div");(0,W.N)(D,this._bareFontInfo),D.style.fontWeight="bold",a.appendChild(D);const N=document.createElement("div");(0,W.N)(N,this._bareFontInfo),N.style.fontStyle="italic",a.appendChild(N);const I=[];for(const E of this._requests){let O;E.type===0&&(O=b),E.type===2&&(O=D),E.type===1&&(O=N),O.appendChild(document.createElement("br"));const R=document.createElement("span");z._render(R,E),O.appendChild(R),I.push(R)}this._container=a,this._testElements=I}static _render(a,b){if(b.chr===" "){let D="\xA0";for(let N=0;N<8;N++)D+=D;a.innerText=D}else{let D=b.chr;for(let N=0;N<8;N++)D+=D;a.textContent=D}}_readFromDomElements(){for(let a=0,b=this._requests.length;a<b;a++){const D=this._requests[a],N=this._testElements[a];D.fulfill(N.offsetWidth/256)}}}function P(u,a){new z(u,a).read()}var A=l(24030),T=l(82220);class S extends j.JT{constructor(){super(),this._onDidChange=this._register(new d.Q5),this.onDidChange=this._onDidChange.event,this._cache=new _,this._evictUntrustedReadingsTimeout=-1}dispose(){this._evictUntrustedReadingsTimeout!==-1&&(window.clearTimeout(this._evictUntrustedReadingsTimeout),this._evictUntrustedReadingsTimeout=-1),super.dispose()}clearAllFontInfos(){this._cache=new _,this._onDidChange.fire()}_writeToCache(a,b){this._cache.put(a,b),!b.isTrusted&&this._evictUntrustedReadingsTimeout===-1&&(this._evictUntrustedReadingsTimeout=window.setTimeout(()=>{this._evictUntrustedReadingsTimeout=-1,this._evictUntrustedReadings()},5e3))}_evictUntrustedReadings(){const a=this._cache.getValues();let b=!1;for(const D of a)D.isTrusted||(b=!0,this._cache.remove(D));b&&this._onDidChange.fire()}readFontInfo(a){if(!this._cache.has(a)){let b=this._actualReadFontInfo(a);(b.typicalHalfwidthCharacterWidth<=2||b.typicalFullwidthCharacterWidth<=2||b.spaceWidth<=2||b.maxDigitWidth<=2)&&(b=new T.pR({pixelRatio:C.PixelRatio.value,fontFamily:b.fontFamily,fontWeight:b.fontWeight,fontSize:b.fontSize,fontFeatureSettings:b.fontFeatureSettings,lineHeight:b.lineHeight,letterSpacing:b.letterSpacing,isMonospace:b.isMonospace,typicalHalfwidthCharacterWidth:Math.max(b.typicalHalfwidthCharacterWidth,5),typicalFullwidthCharacterWidth:Math.max(b.typicalFullwidthCharacterWidth,5),canUseHalfwidthRightwardsArrow:b.canUseHalfwidthRightwardsArrow,spaceWidth:Math.max(b.spaceWidth,5),middotWidth:Math.max(b.middotWidth,5),wsmiddotWidth:Math.max(b.wsmiddotWidth,5),maxDigitWidth:Math.max(b.maxDigitWidth,5)},!1)),this._writeToCache(a,b)}return this._cache.get(a)}_createRequest(a,b,D,N){const I=new L(a,b);return D.push(I),N==null||N.push(I),I}_actualReadFontInfo(a){const b=[],D=[],N=this._createRequest("n",0,b,D),I=this._createRequest("\uFF4D",0,b,null),E=this._createRequest(" ",0,b,D),O=this._createRequest("0",0,b,D),R=this._createRequest("1",0,b,D),M=this._createRequest("2",0,b,D),K=this._createRequest("3",0,b,D),Z=this._createRequest("4",0,b,D),te=this._createRequest("5",0,b,D),de=this._createRequest("6",0,b,D),ge=this._createRequest("7",0,b,D),le=this._createRequest("8",0,b,D),se=this._createRequest("9",0,b,D),X=this._createRequest("\u2192",0,b,D),re=this._createRequest("\uFFEB",0,b,null),ne=this._createRequest("\xB7",0,b,D),U=this._createRequest(String.fromCharCode(11825),0,b,null),oe="|/-_ilm%";for(let H=0,ut=oe.length;H<ut;H++)this._createRequest(oe.charAt(H),0,b,D),this._createRequest(oe.charAt(H),1,b,D),this._createRequest(oe.charAt(H),2,b,D);P(a,b);const q=Math.max(O.width,R.width,M.width,K.width,Z.width,te.width,de.width,ge.width,le.width,se.width);let ae=a.fontFeatureSettings===A.n0.OFF;const me=D[0].width;for(let H=1,ut=D.length;ae&&H<ut;H++){const Ke=me-D[H].width;if(Ke<-.001||Ke>.001){ae=!1;break}}let ke=!0;return ae&&re.width!==me&&(ke=!1),re.width>X.width&&(ke=!1),new T.pR({pixelRatio:C.PixelRatio.value,fontFamily:a.fontFamily,fontWeight:a.fontWeight,fontSize:a.fontSize,fontFeatureSettings:a.fontFeatureSettings,lineHeight:a.lineHeight,letterSpacing:a.letterSpacing,isMonospace:ae,typicalHalfwidthCharacterWidth:N.width,typicalFullwidthCharacterWidth:I.width,canUseHalfwidthRightwardsArrow:ke,spaceWidth:E.width,middotWidth:ne.width,wsmiddotWidth:U.width,maxDigitWidth:q},!0)}}class _{constructor(){this._keys=Object.create(null),this._values=Object.create(null)}has(a){const b=a.getId();return!!this._values[b]}get(a){const b=a.getId();return this._values[b]}put(a,b){const D=a.getId();this._keys[D]=a,this._values[D]=b}remove(a){const b=a.getId();delete this._keys[b],delete this._values[b]}getValues(){return Object.keys(this._keys).map(a=>this._values[a])}}const y=new S},79829:function(nt,xe,l){"use strict";l.d(xe,{n:function(){return j}});var C=l(60218);class d{constructor(){this._tabFocus=!1,this._onDidChangeTabFocus=new C.Q5,this.onDidChangeTabFocus=this._onDidChangeTabFocus.event}getTabFocusMode(){return this._tabFocus}setTabFocusMode(L){this._tabFocus!==L&&(this._tabFocus=L,this._onDidChangeTabFocus.fire(this._tabFocus))}}const j=new d},85841:function(nt,xe,l){"use strict";l.d(xe,{Fz:function(){return b},Nl:function(){return u},RA:function(){return y},Tj:function(){return N},pd:function(){return _}});var C=l(69748),d=l(1660),j=l(91194),W=l(84180),L=l(60218),z=l(94214),P=l(72086),A=l(22297),T=l(74209),S=l(17122),_;(function(I){I.Tap="-monaco-textarea-synthetic-tap"})(_||(_={}));const y={forceCopyWithSyntaxHighlighting:!1};class u{constructor(){this._lastState=null}set(E,O){this._lastState={lastCopiedValue:E,data:O}}get(E){return this._lastState&&this._lastState.lastCopiedValue===E?this._lastState.data:(this._lastState=null,null)}}u.INSTANCE=new u;class a{constructor(){this._lastTypeTextLength=0}handleCompositionUpdate(E){E=E||"";const O={text:E,replacePrevCharCnt:this._lastTypeTextLength,replaceNextCharCnt:0,positionDelta:0};return this._lastTypeTextLength=E.length,O}}class b extends z.JT{constructor(E,O,R,M){super(),this._host=E,this._textArea=O,this._OS=R,this._browser=M,this._onFocus=this._register(new L.Q5),this.onFocus=this._onFocus.event,this._onBlur=this._register(new L.Q5),this.onBlur=this._onBlur.event,this._onKeyDown=this._register(new L.Q5),this.onKeyDown=this._onKeyDown.event,this._onKeyUp=this._register(new L.Q5),this.onKeyUp=this._onKeyUp.event,this._onCut=this._register(new L.Q5),this.onCut=this._onCut.event,this._onPaste=this._register(new L.Q5),this.onPaste=this._onPaste.event,this._onType=this._register(new L.Q5),this.onType=this._onType.event,this._onCompositionStart=this._register(new L.Q5),this.onCompositionStart=this._onCompositionStart.event,this._onCompositionUpdate=this._register(new L.Q5),this.onCompositionUpdate=this._onCompositionUpdate.event,this._onCompositionEnd=this._register(new L.Q5),this.onCompositionEnd=this._onCompositionEnd.event,this._onSelectionChangeRequest=this._register(new L.Q5),this.onSelectionChangeRequest=this._onSelectionChangeRequest.event,this._asyncTriggerCut=this._register(new W.pY(()=>this._onCut.fire(),0)),this._asyncFocusGainWriteScreenReaderContent=this._register(new W.pY(()=>this.writeScreenReaderContent("asyncFocusGain"),0)),this._textAreaState=T.un.EMPTY,this._selectionChangeListener=null,this.writeScreenReaderContent("ctor"),this._hasFocus=!1,this._currentComposition=null;let K=null;this._register(this._textArea.onKeyDown(Z=>{const te=new j.y(Z);(te.keyCode===109||this._currentComposition&&te.keyCode===1)&&te.stopPropagation(),te.equals(9)&&te.preventDefault(),K=te,this._onKeyDown.fire(te)})),this._register(this._textArea.onKeyUp(Z=>{const te=new j.y(Z);this._onKeyUp.fire(te)})),this._register(this._textArea.onCompositionStart(Z=>{T.al&&console.log("[compositionstart]",Z);const te=new a;if(this._currentComposition){this._currentComposition=te;return}if(this._currentComposition=te,this._OS===2&&K&&K.equals(109)&&this._textAreaState.selectionStart===this._textAreaState.selectionEnd&&this._textAreaState.selectionStart>0&&this._textAreaState.value.substr(this._textAreaState.selectionStart-1,1)===Z.data&&(K.code==="ArrowRight"||K.code==="ArrowLeft")){T.al&&console.log("[compositionstart] Handling long press case on macOS + arrow key",Z),te.handleCompositionUpdate("x"),this._onCompositionStart.fire({data:Z.data});return}if(this._browser.isAndroid){this._onCompositionStart.fire({data:Z.data});return}this._onCompositionStart.fire({data:Z.data})})),this._register(this._textArea.onCompositionUpdate(Z=>{T.al&&console.log("[compositionupdate]",Z);const te=this._currentComposition;if(!te)return;if(this._browser.isAndroid){const ge=T.un.readFromTextArea(this._textArea),le=T.un.deduceAndroidCompositionInput(this._textAreaState,ge);this._textAreaState=ge,this._onType.fire(le),this._onCompositionUpdate.fire(Z);return}const de=te.handleCompositionUpdate(Z.data);this._textAreaState=T.un.readFromTextArea(this._textArea),this._onType.fire(de),this._onCompositionUpdate.fire(Z)})),this._register(this._textArea.onCompositionEnd(Z=>{T.al&&console.log("[compositionend]",Z);const te=this._currentComposition;if(!te)return;if(this._currentComposition=null,this._browser.isAndroid){const ge=T.un.readFromTextArea(this._textArea),le=T.un.deduceAndroidCompositionInput(this._textAreaState,ge);this._textAreaState=ge,this._onType.fire(le),this._onCompositionEnd.fire();return}const de=te.handleCompositionUpdate(Z.data);this._textAreaState=T.un.readFromTextArea(this._textArea),this._onType.fire(de),this._onCompositionEnd.fire()})),this._register(this._textArea.onInput(Z=>{if(T.al&&console.log("[input]",Z),this._textArea.setIgnoreSelectionChangeTime("received input event"),this._currentComposition)return;const te=T.un.readFromTextArea(this._textArea),de=T.un.deduceInput(this._textAreaState,te,this._OS===2);de.replacePrevCharCnt===0&&de.text.length===1&&A.ZG(de.text.charCodeAt(0))||(this._textAreaState=te,(de.text!==""||de.replacePrevCharCnt!==0||de.replaceNextCharCnt!==0||de.positionDelta!==0)&&this._onType.fire(de))})),this._register(this._textArea.onCut(Z=>{this._textArea.setIgnoreSelectionChangeTime("received cut event"),this._ensureClipboardGetsEditorSelection(Z),this._asyncTriggerCut.schedule()})),this._register(this._textArea.onCopy(Z=>{this._ensureClipboardGetsEditorSelection(Z)})),this._register(this._textArea.onPaste(Z=>{if(this._textArea.setIgnoreSelectionChangeTime("received paste event"),Z.preventDefault(),!Z.clipboardData)return;let[te,de]=D.getTextData(Z.clipboardData);!te||(de=de||u.INSTANCE.get(te),this._onPaste.fire({text:te,metadata:de}))})),this._register(this._textArea.onFocus(()=>{const Z=this._hasFocus;this._setHasFocus(!0),this._browser.isSafari&&!Z&&this._hasFocus&&this._asyncFocusGainWriteScreenReaderContent.schedule()})),this._register(this._textArea.onBlur(()=>{this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("blurWithoutCompositionEnd"),this._onCompositionEnd.fire()),this._setHasFocus(!1)})),this._register(this._textArea.onSyntheticTap(()=>{this._browser.isAndroid&&this._currentComposition&&(this._currentComposition=null,this.writeScreenReaderContent("tapWithoutCompositionEnd"),this._onCompositionEnd.fire())}))}_installSelectionChangeListener(){let E=0;return d.nm(document,"selectionchange",O=>{if(!this._hasFocus||this._currentComposition||!this._browser.isChrome)return;const R=Date.now(),M=R-E;if(E=R,M<5)return;const K=R-this._textArea.getIgnoreSelectionChangeTime();if(this._textArea.resetSelectionChangeTime(),K<100||!this._textAreaState.selectionStartPosition||!this._textAreaState.selectionEndPosition)return;const Z=this._textArea.getValue();if(this._textAreaState.value!==Z)return;const te=this._textArea.getSelectionStart(),de=this._textArea.getSelectionEnd();if(this._textAreaState.selectionStart===te&&this._textAreaState.selectionEnd===de)return;const ge=this._textAreaState.deduceEditorPosition(te),le=this._host.deduceModelPosition(ge[0],ge[1],ge[2]),se=this._textAreaState.deduceEditorPosition(de),X=this._host.deduceModelPosition(se[0],se[1],se[2]),re=new S.Y(le.lineNumber,le.column,X.lineNumber,X.column);this._onSelectionChangeRequest.fire(re)})}dispose(){super.dispose(),this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null)}focusTextArea(){this._setHasFocus(!0),this.refreshFocusState()}isFocused(){return this._hasFocus}refreshFocusState(){this._setHasFocus(this._textArea.hasFocus())}_setHasFocus(E){this._hasFocus!==E&&(this._hasFocus=E,this._selectionChangeListener&&(this._selectionChangeListener.dispose(),this._selectionChangeListener=null),this._hasFocus&&(this._selectionChangeListener=this._installSelectionChangeListener()),this._hasFocus&&this.writeScreenReaderContent("focusgain"),this._hasFocus?this._onFocus.fire():this._onBlur.fire())}_setAndWriteTextAreaState(E,O){this._hasFocus||(O=O.collapseSelection()),O.writeToTextArea(E,this._textArea,this._hasFocus),this._textAreaState=O}writeScreenReaderContent(E){this._currentComposition||this._setAndWriteTextAreaState(E,this._host.getScreenReaderContent(this._textAreaState))}_ensureClipboardGetsEditorSelection(E){const O=this._host.getDataToCopy(),R={version:1,isFromEmptySelection:O.isFromEmptySelection,multicursorText:O.multicursorText,mode:O.mode};u.INSTANCE.set(this._browser.isFirefox?O.text.replace(/\r\n/g,`
`):O.text,R),E.preventDefault(),E.clipboardData&&D.setTextData(E.clipboardData,O.text,O.html,R)}}class D{static getTextData(E){const O=E.getData(P.v.text);let R=null;const M=E.getData("vscode-editor-data");if(typeof M=="string")try{R=JSON.parse(M),R.version!==1&&(R=null)}catch(K){}return O.length===0&&R===null&&E.files.length>0?[Array.prototype.slice.call(E.files,0).map(Z=>Z.name).join(`
`),null]:[O,R]}static setTextData(E,O,R,M){E.setData(P.v.text,O),typeof R=="string"&&E.setData("text/html",R),E.setData("vscode-editor-data",JSON.stringify(M))}}class N extends z.JT{constructor(E){super(),this._actual=E,this.onKeyDown=this._register(d.IC(this._actual,"keydown")).event,this.onKeyUp=this._register(d.IC(this._actual,"keyup")).event,this.onCompositionStart=this._register(d.IC(this._actual,"compositionstart")).event,this.onCompositionUpdate=this._register(d.IC(this._actual,"compositionupdate")).event,this.onCompositionEnd=this._register(d.IC(this._actual,"compositionend")).event,this.onInput=this._register(d.IC(this._actual,"input")).event,this.onCut=this._register(d.IC(this._actual,"cut")).event,this.onCopy=this._register(d.IC(this._actual,"copy")).event,this.onPaste=this._register(d.IC(this._actual,"paste")).event,this.onFocus=this._register(d.IC(this._actual,"focus")).event,this.onBlur=this._register(d.IC(this._actual,"blur")).event,this._onSyntheticTap=this._register(new L.Q5),this.onSyntheticTap=this._onSyntheticTap.event,this._ignoreSelectionChangeTime=0,this._register(d.nm(this._actual,_.Tap,()=>this._onSyntheticTap.fire()))}hasFocus(){const E=d.Ay(this._actual);return E?E.activeElement===this._actual:d.Uw(this._actual)?document.activeElement===this._actual:!1}setIgnoreSelectionChangeTime(E){this._ignoreSelectionChangeTime=Date.now()}getIgnoreSelectionChangeTime(){return this._ignoreSelectionChangeTime}resetSelectionChangeTime(){this._ignoreSelectionChangeTime=0}getValue(){return this._actual.value}setValue(E,O){const R=this._actual;R.value!==O&&(this.setIgnoreSelectionChangeTime("setValue"),R.value=O)}getSelectionStart(){return this._actual.selectionDirection==="backward"?this._actual.selectionEnd:this._actual.selectionStart}getSelectionEnd(){return this._actual.selectionDirection==="backward"?this._actual.selectionStart:this._actual.selectionEnd}setSelectionRange(E,O,R){const M=this._actual;let K=null;const Z=d.Ay(M);Z?K=Z.activeElement:K=document.activeElement;const te=K===M,de=M.selectionStart,ge=M.selectionEnd;if(te&&de===O&&ge===R){C.isFirefox&&window.parent!==window&&M.focus();return}if(te){this.setIgnoreSelectionChangeTime("setSelectionRange"),M.setSelectionRange(O,R),C.isFirefox&&window.parent!==window&&M.focus();return}try{const le=d.vL(M);this.setIgnoreSelectionChangeTime("setSelectionRange"),M.focus(),M.setSelectionRange(O,R),d._0(M,le)}catch(le){}}}},74209:function(nt,xe,l){"use strict";l.d(xe,{al:function(){return W},ee:function(){return z},un:function(){return L}});var C=l(22297),d=l(67120),j=l(14481);const W=!1;class L{constructor(A,T,S,_,y){this.value=A,this.selectionStart=T,this.selectionEnd=S,this.selectionStartPosition=_,this.selectionEndPosition=y}toString(){return`[ <${this.value}>, selectionStart: ${this.selectionStart}, selectionEnd: ${this.selectionEnd}]`}static readFromTextArea(A){return new L(A.getValue(),A.getSelectionStart(),A.getSelectionEnd(),null,null)}collapseSelection(){return new L(this.value,this.value.length,this.value.length,null,null)}writeToTextArea(A,T,S){W&&console.log(`writeToTextArea ${A}: ${this.toString()}`),T.setValue(A,this.value),S&&T.setSelectionRange(A,this.selectionStart,this.selectionEnd)}deduceEditorPosition(A){if(A<=this.selectionStart){const _=this.value.substring(A,this.selectionStart);return this._finishDeduceEditorPosition(this.selectionStartPosition,_,-1)}if(A>=this.selectionEnd){const _=this.value.substring(this.selectionEnd,A);return this._finishDeduceEditorPosition(this.selectionEndPosition,_,1)}const T=this.value.substring(this.selectionStart,A);if(T.indexOf(String.fromCharCode(8230))===-1)return this._finishDeduceEditorPosition(this.selectionStartPosition,T,1);const S=this.value.substring(A,this.selectionEnd);return this._finishDeduceEditorPosition(this.selectionEndPosition,S,-1)}_finishDeduceEditorPosition(A,T,S){let _=0,y=-1;for(;(y=T.indexOf(`
`,y+1))!==-1;)_++;return[A,S*T.length,_]}static deduceInput(A,T,S){if(!A)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};W&&(console.log("------------------------deduceInput"),console.log(`PREVIOUS STATE: ${A.toString()}`),console.log(`CURRENT STATE: ${T.toString()}`));const _=Math.min(C.Mh(A.value,T.value),A.selectionStart,T.selectionStart),y=Math.min(C.P1(A.value,T.value),A.value.length-A.selectionEnd,T.value.length-T.selectionEnd),u=A.value.substring(_,A.value.length-y),a=T.value.substring(_,T.value.length-y),b=A.selectionStart-_,D=A.selectionEnd-_,N=T.selectionStart-_,I=T.selectionEnd-_;if(W&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${u}>, selectionStart: ${b}, selectionEnd: ${D}`),console.log(`AFTER DIFFING CURRENT STATE: <${a}>, selectionStart: ${N}, selectionEnd: ${I}`)),N===I){const O=A.selectionStart-_;return W&&console.log(`REMOVE PREVIOUS: ${O} chars`),{text:a,replacePrevCharCnt:O,replaceNextCharCnt:0,positionDelta:0}}const E=D-b;return{text:a,replacePrevCharCnt:E,replaceNextCharCnt:0,positionDelta:0}}static deduceAndroidCompositionInput(A,T){if(!A)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:0};if(W&&(console.log("------------------------deduceAndroidCompositionInput"),console.log(`PREVIOUS STATE: ${A.toString()}`),console.log(`CURRENT STATE: ${T.toString()}`)),A.value===T.value)return{text:"",replacePrevCharCnt:0,replaceNextCharCnt:0,positionDelta:T.selectionEnd-A.selectionEnd};const S=Math.min(C.Mh(A.value,T.value),A.selectionEnd),_=Math.min(C.P1(A.value,T.value),A.value.length-A.selectionEnd),y=A.value.substring(S,A.value.length-_),u=T.value.substring(S,T.value.length-_),a=A.selectionStart-S,b=A.selectionEnd-S,D=T.selectionStart-S,N=T.selectionEnd-S;return W&&(console.log(`AFTER DIFFING PREVIOUS STATE: <${y}>, selectionStart: ${a}, selectionEnd: ${b}`),console.log(`AFTER DIFFING CURRENT STATE: <${u}>, selectionStart: ${D}, selectionEnd: ${N}`)),{text:u,replacePrevCharCnt:b,replaceNextCharCnt:y.length-b,positionDelta:N-u.length}}}L.EMPTY=new L("",0,0,null,null);class z{static _getPageOfLine(A,T){return Math.floor((A-1)/T)}static _getRangeForPage(A,T){const S=A*T,_=S+1,y=S+T;return new j.e(_,1,y+1,1)}static fromEditorSelection(A,T,S,_,y){const u=z._getPageOfLine(S.startLineNumber,_),a=z._getRangeForPage(u,_),b=z._getPageOfLine(S.endLineNumber,_),D=z._getRangeForPage(b,_),N=a.intersectRanges(new j.e(1,1,S.startLineNumber,S.startColumn));let I=T.getValueInRange(N,1);const E=T.getLineCount(),O=T.getLineMaxColumn(E),R=D.intersectRanges(new j.e(S.endLineNumber,S.endColumn,E,O));let M=T.getValueInRange(R,1),K;if(u===b||u+1===b)K=T.getValueInRange(S,1);else{const Z=a.intersectRanges(S),te=D.intersectRanges(S);K=T.getValueInRange(Z,1)+String.fromCharCode(8230)+T.getValueInRange(te,1)}return y&&(I.length>500&&(I=I.substring(I.length-500,I.length)),M.length>500&&(M=M.substring(0,500)),K.length>2*500&&(K=K.substring(0,500)+String.fromCharCode(8230)+K.substring(K.length-500,K.length))),new L(I+K+M,I.length,I.length+K.length,new d.L(S.startLineNumber,S.startColumn),new d.L(S.endLineNumber,S.endColumn))}}},76652:function(nt,xe,l){"use strict";l.d(xe,{wk:function(){return de},Ox:function(){return M}});var C=l(83218),d=l(69748),j=l(17014),W=l(14679),L=l(63619),z=l(85735),P=l(16505),A=l(67120),T=l(14481);class S{static columnSelect(X,re,ne,U,oe,q){const ae=Math.abs(oe-ne)+1,me=ne>oe,ke=U>q,H=U<q,ut=[];for(let Ke=0;Ke<ae;Ke++){const He=ne+(me?-Ke:Ke),ze=X.columnFromVisibleColumn(re,He,U),Le=X.columnFromVisibleColumn(re,He,q),Ze=X.visibleColumnFromColumn(re,new A.L(He,ze)),Ge=X.visibleColumnFromColumn(re,new A.L(He,Le));H&&(Ze>q||Ge<U)||ke&&(Ge>U||Ze<q)||ut.push(new P.rS(new T.e(He,ze,He,ze),0,new A.L(He,Le),0))}if(ut.length===0)for(let Ke=0;Ke<ae;Ke++){const He=ne+(me?-Ke:Ke),ze=re.getLineMaxColumn(He);ut.push(new P.rS(new T.e(He,ze,He,ze),0,new A.L(He,ze),0))}return{viewStates:ut,reversed:me,fromLineNumber:ne,fromVisualColumn:U,toLineNumber:oe,toVisualColumn:q}}static columnSelectLeft(X,re,ne){let U=ne.toViewVisualColumn;return U>0&&U--,S.columnSelect(X,re,ne.fromViewLineNumber,ne.fromViewVisualColumn,ne.toViewLineNumber,U)}static columnSelectRight(X,re,ne){let U=0;const oe=Math.min(ne.fromViewLineNumber,ne.toViewLineNumber),q=Math.max(ne.fromViewLineNumber,ne.toViewLineNumber);for(let me=oe;me<=q;me++){const ke=re.getLineMaxColumn(me),H=X.visibleColumnFromColumn(re,new A.L(me,ke));U=Math.max(U,H)}let ae=ne.toViewVisualColumn;return ae<U&&ae++,this.columnSelect(X,re,ne.fromViewLineNumber,ne.fromViewVisualColumn,ne.toViewLineNumber,ae)}static columnSelectUp(X,re,ne,U){const oe=U?X.pageSize:1,q=Math.max(1,ne.toViewLineNumber-oe);return this.columnSelect(X,re,ne.fromViewLineNumber,ne.fromViewVisualColumn,q,ne.toViewVisualColumn)}static columnSelectDown(X,re,ne,U){const oe=U?X.pageSize:1,q=Math.min(re.getLineCount(),ne.toViewLineNumber+oe);return this.columnSelect(X,re,ne.fromViewLineNumber,ne.fromViewVisualColumn,q,ne.toViewVisualColumn)}}var _=l(53570),y=l(17493),u=l(11333),a=l(57881),b=l(37483),D=l(58258);const N=0;class I extends L._l{runEditorCommand(X,re,ne){const U=re._getViewModel();!U||this.runCoreEditorCommand(U,ne||{})}}var E;(function(se){const X=function(ne){if(!j.Kn(ne))return!1;const U=ne;return!(!j.HD(U.to)||!j.o8(U.by)&&!j.HD(U.by)||!j.o8(U.value)&&!j.hj(U.value)||!j.o8(U.revealCursor)&&!j.jn(U.revealCursor))};se.description={description:"Scroll editor in the given direction",args:[{name:"Editor scroll argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'to': A mandatory direction value.\n						```\n						'up', 'down'\n						```\n					* 'by': Unit to move. Default is computed based on 'to' value.\n						```\n						'line', 'wrappedLine', 'page', 'halfPage', 'editor'\n						```\n					* 'value': Number of units to move. Default is '1'.\n					* 'revealCursor': If 'true' reveals the cursor if it is outside view port.\n				",constraint:X,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["up","down"]},by:{type:"string",enum:["line","wrappedLine","page","halfPage","editor"]},value:{type:"number",default:1},revealCursor:{type:"boolean"}}}}]},se.RawDirection={Up:"up",Down:"down"},se.RawUnit={Line:"line",WrappedLine:"wrappedLine",Page:"page",HalfPage:"halfPage",Editor:"editor"};function re(ne){let U;switch(ne.to){case se.RawDirection.Up:U=1;break;case se.RawDirection.Down:U=2;break;default:return null}let oe;switch(ne.by){case se.RawUnit.Line:oe=1;break;case se.RawUnit.WrappedLine:oe=2;break;case se.RawUnit.Page:oe=3;break;case se.RawUnit.HalfPage:oe=4;break;case se.RawUnit.Editor:oe=5;break;default:oe=2}const q=Math.floor(ne.value||1),ae=!!ne.revealCursor;return{direction:U,unit:oe,value:q,revealCursor:ae,select:!!ne.select}}se.parse=re})(E||(E={}));var O;(function(se){const X=function(re){if(!j.Kn(re))return!1;const ne=re;return!(!j.hj(ne.lineNumber)&&!j.HD(ne.lineNumber)||!j.o8(ne.at)&&!j.HD(ne.at))};se.description={description:"Reveal the given line at the given logical position",args:[{name:"Reveal line argument object",description:"Property-value pairs that can be passed through this argument:\n					* 'lineNumber': A mandatory line number value.\n					* 'at': Logical position at which line has to be revealed.\n						```\n						'top', 'center', 'bottom'\n						```\n				",constraint:X,schema:{type:"object",required:["lineNumber"],properties:{lineNumber:{type:["number","string"]},at:{type:"string",enum:["top","center","bottom"]}}}}]},se.RawAtArgument={Top:"top",Center:"center",Bottom:"bottom"}})(O||(O={}));class R{constructor(X){X.addImplementation(1e4,"code-editor",(re,ne)=>{const U=re.get(z.$).getFocusedCodeEditor();return U&&U.hasTextFocus()?this._runEditorCommand(re,U,ne):!1}),X.addImplementation(1e3,"generic-dom-input-textarea",(re,ne)=>{const U=document.activeElement;return U&&["input","textarea"].indexOf(U.tagName.toLowerCase())>=0?(this.runDOMCommand(),!0):!1}),X.addImplementation(0,"generic-dom",(re,ne)=>{const U=re.get(z.$).getActiveCodeEditor();return U?(U.focus(),this._runEditorCommand(re,U,ne)):!1})}_runEditorCommand(X,re,ne){const U=this.runEditorCommand(X,re,ne);return U||!0}}var M;(function(se){class X extends I{constructor(Fe){super(Fe),this._minimalReveal=Fe.minimalReveal,this._inSelectionMode=Fe.inSelectionMode}runCoreEditorCommand(Fe,ct){Fe.model.pushStackElement(),Fe.setCursorStates(ct.source,3,[y.P.moveTo(Fe,Fe.getPrimaryCursorState(),this._inSelectionMode,ct.position,ct.viewPosition)])&&Fe.revealPrimaryCursor(ct.source,!0,this._minimalReveal)}}se.MoveTo=(0,L.fK)(new X({id:"_moveTo",minimalReveal:!0,inSelectionMode:!1,precondition:void 0})),se.MoveToSelect=(0,L.fK)(new X({id:"_moveToSelect",minimalReveal:!1,inSelectionMode:!0,precondition:void 0}));class re extends I{runCoreEditorCommand(Fe,ct){Fe.model.pushStackElement();const ft=this._getColumnSelectResult(Fe,Fe.getPrimaryCursorState(),Fe.getCursorColumnSelectData(),ct);Fe.setCursorStates(ct.source,3,ft.viewStates.map(Ot=>P.Vi.fromViewState(Ot))),Fe.setCursorColumnSelectData({isReal:!0,fromViewLineNumber:ft.fromLineNumber,fromViewVisualColumn:ft.fromVisualColumn,toViewLineNumber:ft.toLineNumber,toViewVisualColumn:ft.toVisualColumn}),ft.reversed?Fe.revealTopMostCursor(ct.source):Fe.revealBottomMostCursor(ct.source)}}se.ColumnSelect=(0,L.fK)(new class extends re{constructor(){super({id:"columnSelect",precondition:void 0})}_getColumnSelectResult(Ge,Fe,ct,ft){const Ot=Ge.model.validatePosition(ft.position),Et=Ge.coordinatesConverter.validateViewPosition(new A.L(ft.viewPosition.lineNumber,ft.viewPosition.column),Ot),Vt=ft.doColumnSelect?ct.fromViewLineNumber:Et.lineNumber,We=ft.doColumnSelect?ct.fromViewVisualColumn:ft.mouseColumn-1;return S.columnSelect(Ge.cursorConfig,Ge,Vt,We,Et.lineNumber,ft.mouseColumn-1)}}),se.CursorColumnSelectLeft=(0,L.fK)(new class extends re{constructor(){super({id:"cursorColumnSelectLeft",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:3599,linux:{primary:0}}})}_getColumnSelectResult(Ge,Fe,ct,ft){return S.columnSelectLeft(Ge.cursorConfig,Ge,ct)}}),se.CursorColumnSelectRight=(0,L.fK)(new class extends re{constructor(){super({id:"cursorColumnSelectRight",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:3601,linux:{primary:0}}})}_getColumnSelectResult(Ge,Fe,ct,ft){return S.columnSelectRight(Ge.cursorConfig,Ge,ct)}});class ne extends re{constructor(Fe){super(Fe),this._isPaged=Fe.isPaged}_getColumnSelectResult(Fe,ct,ft,Ot){return S.columnSelectUp(Fe.cursorConfig,Fe,ft,this._isPaged)}}se.CursorColumnSelectUp=(0,L.fK)(new ne({isPaged:!1,id:"cursorColumnSelectUp",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:3600,linux:{primary:0}}})),se.CursorColumnSelectPageUp=(0,L.fK)(new ne({isPaged:!0,id:"cursorColumnSelectPageUp",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:3595,linux:{primary:0}}}));class U extends re{constructor(Fe){super(Fe),this._isPaged=Fe.isPaged}_getColumnSelectResult(Fe,ct,ft,Ot){return S.columnSelectDown(Fe.cursorConfig,Fe,ft,this._isPaged)}}se.CursorColumnSelectDown=(0,L.fK)(new U({isPaged:!1,id:"cursorColumnSelectDown",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:3602,linux:{primary:0}}})),se.CursorColumnSelectPageDown=(0,L.fK)(new U({isPaged:!0,id:"cursorColumnSelectPageDown",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:3596,linux:{primary:0}}}));class oe extends I{constructor(){super({id:"cursorMove",precondition:void 0,description:y.N.description})}runCoreEditorCommand(Fe,ct){const ft=y.N.parse(ct);!ft||this._runCursorMove(Fe,ct.source,ft)}_runCursorMove(Fe,ct,ft){Fe.model.pushStackElement(),Fe.setCursorStates(ct,3,oe._move(Fe,Fe.getCursorStates(),ft)),Fe.revealPrimaryCursor(ct,!0)}static _move(Fe,ct,ft){const Ot=ft.select,Et=ft.value;switch(ft.direction){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:return y.P.simpleMove(Fe,ct,ft.direction,Ot,Et,ft.unit);case 11:case 13:case 12:case 14:return y.P.viewportMove(Fe,ct,ft.direction,Ot,Et);default:return null}}}se.CursorMoveImpl=oe,se.CursorMove=(0,L.fK)(new oe);class q extends I{constructor(Fe){super(Fe),this._staticArgs=Fe.args}runCoreEditorCommand(Fe,ct){let ft=this._staticArgs;this._staticArgs.value===-1&&(ft={direction:this._staticArgs.direction,unit:this._staticArgs.unit,select:this._staticArgs.select,value:ct.pageSize||Fe.cursorConfig.pageSize}),Fe.model.pushStackElement(),Fe.setCursorStates(ct.source,3,y.P.simpleMove(Fe,Fe.getCursorStates(),ft.direction,ft.select,ft.value,ft.unit)),Fe.revealPrimaryCursor(ct.source,!0)}}se.CursorLeft=(0,L.fK)(new q({args:{direction:0,unit:0,select:!1,value:1},id:"cursorLeft",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:15,mac:{primary:15,secondary:[288]}}})),se.CursorLeftSelect=(0,L.fK)(new q({args:{direction:0,unit:0,select:!0,value:1},id:"cursorLeftSelect",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:1039}})),se.CursorRight=(0,L.fK)(new q({args:{direction:1,unit:0,select:!1,value:1},id:"cursorRight",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:17,mac:{primary:17,secondary:[292]}}})),se.CursorRightSelect=(0,L.fK)(new q({args:{direction:1,unit:0,select:!0,value:1},id:"cursorRightSelect",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:1041}})),se.CursorUp=(0,L.fK)(new q({args:{direction:2,unit:2,select:!1,value:1},id:"cursorUp",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:16,mac:{primary:16,secondary:[302]}}})),se.CursorUpSelect=(0,L.fK)(new q({args:{direction:2,unit:2,select:!0,value:1},id:"cursorUpSelect",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:1040,secondary:[3088],mac:{primary:1040},linux:{primary:1040}}})),se.CursorPageUp=(0,L.fK)(new q({args:{direction:2,unit:2,select:!1,value:-1},id:"cursorPageUp",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:11}})),se.CursorPageUpSelect=(0,L.fK)(new q({args:{direction:2,unit:2,select:!0,value:-1},id:"cursorPageUpSelect",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:1035}})),se.CursorDown=(0,L.fK)(new q({args:{direction:3,unit:2,select:!1,value:1},id:"cursorDown",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:18,mac:{primary:18,secondary:[300]}}})),se.CursorDownSelect=(0,L.fK)(new q({args:{direction:3,unit:2,select:!0,value:1},id:"cursorDownSelect",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:1042,secondary:[3090],mac:{primary:1042},linux:{primary:1042}}})),se.CursorPageDown=(0,L.fK)(new q({args:{direction:3,unit:2,select:!1,value:-1},id:"cursorPageDown",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:12}})),se.CursorPageDownSelect=(0,L.fK)(new q({args:{direction:3,unit:2,select:!0,value:-1},id:"cursorPageDownSelect",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:1036}})),se.CreateCursor=(0,L.fK)(new class extends I{constructor(){super({id:"createCursor",precondition:void 0})}runCoreEditorCommand(Ge,Fe){let ct;Fe.wholeLine?ct=y.P.line(Ge,Ge.getPrimaryCursorState(),!1,Fe.position,Fe.viewPosition):ct=y.P.moveTo(Ge,Ge.getPrimaryCursorState(),!1,Fe.position,Fe.viewPosition);const ft=Ge.getCursorStates();if(ft.length>1){const Ot=ct.modelState?ct.modelState.position:null,Et=ct.viewState?ct.viewState.position:null;for(let Vt=0,We=ft.length;Vt<We;Vt++){const St=ft[Vt];if(!(Ot&&!St.modelState.selection.containsPosition(Ot))&&!(Et&&!St.viewState.selection.containsPosition(Et))){ft.splice(Vt,1),Ge.model.pushStackElement(),Ge.setCursorStates(Fe.source,3,ft);return}}}ft.push(ct),Ge.model.pushStackElement(),Ge.setCursorStates(Fe.source,3,ft)}}),se.LastCursorMoveToSelect=(0,L.fK)(new class extends I{constructor(){super({id:"_lastCursorMoveToSelect",precondition:void 0})}runCoreEditorCommand(Ge,Fe){const ct=Ge.getLastAddedCursorIndex(),ft=Ge.getCursorStates(),Ot=ft.slice(0);Ot[ct]=y.P.moveTo(Ge,ft[ct],!0,Fe.position,Fe.viewPosition),Ge.model.pushStackElement(),Ge.setCursorStates(Fe.source,3,Ot)}});class ae extends I{constructor(Fe){super(Fe),this._inSelectionMode=Fe.inSelectionMode}runCoreEditorCommand(Fe,ct){Fe.model.pushStackElement(),Fe.setCursorStates(ct.source,3,y.P.moveToBeginningOfLine(Fe,Fe.getCursorStates(),this._inSelectionMode)),Fe.revealPrimaryCursor(ct.source,!0)}}se.CursorHome=(0,L.fK)(new ae({inSelectionMode:!1,id:"cursorHome",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:14,mac:{primary:14,secondary:[2063]}}})),se.CursorHomeSelect=(0,L.fK)(new ae({inSelectionMode:!0,id:"cursorHomeSelect",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:1038,mac:{primary:1038,secondary:[3087]}}}));class me extends I{constructor(Fe){super(Fe),this._inSelectionMode=Fe.inSelectionMode}runCoreEditorCommand(Fe,ct){Fe.model.pushStackElement(),Fe.setCursorStates(ct.source,3,this._exec(Fe.getCursorStates())),Fe.revealPrimaryCursor(ct.source,!0)}_exec(Fe){const ct=[];for(let ft=0,Ot=Fe.length;ft<Ot;ft++){const Et=Fe[ft],Vt=Et.modelState.position.lineNumber;ct[ft]=P.Vi.fromModelState(Et.modelState.move(this._inSelectionMode,Vt,1,0))}return ct}}se.CursorLineStart=(0,L.fK)(new me({inSelectionMode:!1,id:"cursorLineStart",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:0,mac:{primary:287}}})),se.CursorLineStartSelect=(0,L.fK)(new me({inSelectionMode:!0,id:"cursorLineStartSelect",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:0,mac:{primary:1311}}}));class ke extends I{constructor(Fe){super(Fe),this._inSelectionMode=Fe.inSelectionMode}runCoreEditorCommand(Fe,ct){Fe.model.pushStackElement(),Fe.setCursorStates(ct.source,3,y.P.moveToEndOfLine(Fe,Fe.getCursorStates(),this._inSelectionMode,ct.sticky||!1)),Fe.revealPrimaryCursor(ct.source,!0)}}se.CursorEnd=(0,L.fK)(new ke({inSelectionMode:!1,id:"cursorEnd",precondition:void 0,kbOpts:{args:{sticky:!1},weight:N,kbExpr:a.u.textInputFocus,primary:13,mac:{primary:13,secondary:[2065]}},description:{description:"Go to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:C.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}})),se.CursorEndSelect=(0,L.fK)(new ke({inSelectionMode:!0,id:"cursorEndSelect",precondition:void 0,kbOpts:{args:{sticky:!1},weight:N,kbExpr:a.u.textInputFocus,primary:1037,mac:{primary:1037,secondary:[3089]}},description:{description:"Select to End",args:[{name:"args",schema:{type:"object",properties:{sticky:{description:C.NC("stickydesc","Stick to the end even when going to longer lines"),type:"boolean",default:!1}}}}]}}));class H extends I{constructor(Fe){super(Fe),this._inSelectionMode=Fe.inSelectionMode}runCoreEditorCommand(Fe,ct){Fe.model.pushStackElement(),Fe.setCursorStates(ct.source,3,this._exec(Fe,Fe.getCursorStates())),Fe.revealPrimaryCursor(ct.source,!0)}_exec(Fe,ct){const ft=[];for(let Ot=0,Et=ct.length;Ot<Et;Ot++){const Vt=ct[Ot],We=Vt.modelState.position.lineNumber,St=Fe.model.getLineMaxColumn(We);ft[Ot]=P.Vi.fromModelState(Vt.modelState.move(this._inSelectionMode,We,St,0))}return ft}}se.CursorLineEnd=(0,L.fK)(new H({inSelectionMode:!1,id:"cursorLineEnd",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:0,mac:{primary:291}}})),se.CursorLineEndSelect=(0,L.fK)(new H({inSelectionMode:!0,id:"cursorLineEndSelect",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:0,mac:{primary:1315}}}));class ut extends I{constructor(Fe){super(Fe),this._inSelectionMode=Fe.inSelectionMode}runCoreEditorCommand(Fe,ct){Fe.model.pushStackElement(),Fe.setCursorStates(ct.source,3,y.P.moveToBeginningOfBuffer(Fe,Fe.getCursorStates(),this._inSelectionMode)),Fe.revealPrimaryCursor(ct.source,!0)}}se.CursorTop=(0,L.fK)(new ut({inSelectionMode:!1,id:"cursorTop",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:2062,mac:{primary:2064}}})),se.CursorTopSelect=(0,L.fK)(new ut({inSelectionMode:!0,id:"cursorTopSelect",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:3086,mac:{primary:3088}}}));class Ke extends I{constructor(Fe){super(Fe),this._inSelectionMode=Fe.inSelectionMode}runCoreEditorCommand(Fe,ct){Fe.model.pushStackElement(),Fe.setCursorStates(ct.source,3,y.P.moveToEndOfBuffer(Fe,Fe.getCursorStates(),this._inSelectionMode)),Fe.revealPrimaryCursor(ct.source,!0)}}se.CursorBottom=(0,L.fK)(new Ke({inSelectionMode:!1,id:"cursorBottom",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:2061,mac:{primary:2066}}})),se.CursorBottomSelect=(0,L.fK)(new Ke({inSelectionMode:!0,id:"cursorBottomSelect",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:3085,mac:{primary:3090}}}));class He extends I{constructor(){super({id:"editorScroll",precondition:void 0,description:E.description})}runCoreEditorCommand(Fe,ct){const ft=E.parse(ct);!ft||this._runEditorScroll(Fe,ct.source,ft)}_runEditorScroll(Fe,ct,ft){const Ot=this._computeDesiredScrollTop(Fe,ft);if(ft.revealCursor){const Et=Fe.getCompletelyVisibleViewRangeAtScrollTop(Ot);Fe.setCursorStates(ct,3,[y.P.findPositionInViewportIfOutside(Fe,Fe.getPrimaryCursorState(),Et,ft.select)])}Fe.viewLayout.setScrollPosition({scrollTop:Ot},0)}_computeDesiredScrollTop(Fe,ct){if(ct.unit===1){const Et=Fe.getCompletelyVisibleViewRange(),Vt=Fe.coordinatesConverter.convertViewRangeToModelRange(Et);let We;ct.direction===1?We=Math.max(1,Vt.startLineNumber-ct.value):We=Math.min(Fe.model.getLineCount(),Vt.startLineNumber+ct.value);const St=Fe.coordinatesConverter.convertModelPositionToViewPosition(new A.L(We,1));return Fe.viewLayout.getVerticalOffsetForLineNumber(St.lineNumber)}if(ct.unit===5){let Et=0;return ct.direction===2&&(Et=Fe.model.getLineCount()-Fe.cursorConfig.pageSize),Fe.viewLayout.getVerticalOffsetForLineNumber(Et)}let ft;ct.unit===3?ft=Fe.cursorConfig.pageSize*ct.value:ct.unit===4?ft=Math.round(Fe.cursorConfig.pageSize/2)*ct.value:ft=ct.value;const Ot=(ct.direction===1?-1:1)*ft;return Fe.viewLayout.getCurrentScrollTop()+Ot*Fe.cursorConfig.lineHeight}}se.EditorScrollImpl=He,se.EditorScroll=(0,L.fK)(new He),se.ScrollLineUp=(0,L.fK)(new class extends I{constructor(){super({id:"scrollLineUp",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:2064,mac:{primary:267}}})}runCoreEditorCommand(Ge,Fe){se.EditorScroll._runEditorScroll(Ge,Fe.source,{direction:1,unit:2,value:1,revealCursor:!1,select:!1})}}),se.ScrollPageUp=(0,L.fK)(new class extends I{constructor(){super({id:"scrollPageUp",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:2059,win:{primary:523},linux:{primary:523}}})}runCoreEditorCommand(Ge,Fe){se.EditorScroll._runEditorScroll(Ge,Fe.source,{direction:1,unit:3,value:1,revealCursor:!1,select:!1})}}),se.ScrollEditorTop=(0,L.fK)(new class extends I{constructor(){super({id:"scrollEditorTop",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus}})}runCoreEditorCommand(Ge,Fe){se.EditorScroll._runEditorScroll(Ge,Fe.source,{direction:1,unit:5,value:1,revealCursor:!1,select:!1})}}),se.ScrollLineDown=(0,L.fK)(new class extends I{constructor(){super({id:"scrollLineDown",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:2066,mac:{primary:268}}})}runCoreEditorCommand(Ge,Fe){se.EditorScroll._runEditorScroll(Ge,Fe.source,{direction:2,unit:2,value:1,revealCursor:!1,select:!1})}}),se.ScrollPageDown=(0,L.fK)(new class extends I{constructor(){super({id:"scrollPageDown",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:2060,win:{primary:524},linux:{primary:524}}})}runCoreEditorCommand(Ge,Fe){se.EditorScroll._runEditorScroll(Ge,Fe.source,{direction:2,unit:3,value:1,revealCursor:!1,select:!1})}}),se.ScrollEditorBottom=(0,L.fK)(new class extends I{constructor(){super({id:"scrollEditorBottom",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus}})}runCoreEditorCommand(Ge,Fe){se.EditorScroll._runEditorScroll(Ge,Fe.source,{direction:2,unit:5,value:1,revealCursor:!1,select:!1})}});class ze extends I{constructor(Fe){super(Fe),this._inSelectionMode=Fe.inSelectionMode}runCoreEditorCommand(Fe,ct){Fe.model.pushStackElement(),Fe.setCursorStates(ct.source,3,[y.P.word(Fe,Fe.getPrimaryCursorState(),this._inSelectionMode,ct.position)]),Fe.revealPrimaryCursor(ct.source,!0)}}se.WordSelect=(0,L.fK)(new ze({inSelectionMode:!1,id:"_wordSelect",precondition:void 0})),se.WordSelectDrag=(0,L.fK)(new ze({inSelectionMode:!0,id:"_wordSelectDrag",precondition:void 0})),se.LastCursorWordSelect=(0,L.fK)(new class extends I{constructor(){super({id:"lastCursorWordSelect",precondition:void 0})}runCoreEditorCommand(Ge,Fe){const ct=Ge.getLastAddedCursorIndex(),ft=Ge.getCursorStates(),Ot=ft.slice(0),Et=ft[ct];Ot[ct]=y.P.word(Ge,Et,Et.modelState.hasSelection(),Fe.position),Ge.model.pushStackElement(),Ge.setCursorStates(Fe.source,3,Ot)}});class Le extends I{constructor(Fe){super(Fe),this._inSelectionMode=Fe.inSelectionMode}runCoreEditorCommand(Fe,ct){Fe.model.pushStackElement(),Fe.setCursorStates(ct.source,3,[y.P.line(Fe,Fe.getPrimaryCursorState(),this._inSelectionMode,ct.position,ct.viewPosition)]),Fe.revealPrimaryCursor(ct.source,!1)}}se.LineSelect=(0,L.fK)(new Le({inSelectionMode:!1,id:"_lineSelect",precondition:void 0})),se.LineSelectDrag=(0,L.fK)(new Le({inSelectionMode:!0,id:"_lineSelectDrag",precondition:void 0}));class Ze extends I{constructor(Fe){super(Fe),this._inSelectionMode=Fe.inSelectionMode}runCoreEditorCommand(Fe,ct){const ft=Fe.getLastAddedCursorIndex(),Ot=Fe.getCursorStates(),Et=Ot.slice(0);Et[ft]=y.P.line(Fe,Ot[ft],this._inSelectionMode,ct.position,ct.viewPosition),Fe.model.pushStackElement(),Fe.setCursorStates(ct.source,3,Et)}}se.LastCursorLineSelect=(0,L.fK)(new Ze({inSelectionMode:!1,id:"lastCursorLineSelect",precondition:void 0})),se.LastCursorLineSelectDrag=(0,L.fK)(new Ze({inSelectionMode:!0,id:"lastCursorLineSelectDrag",precondition:void 0})),se.CancelSelection=(0,L.fK)(new class extends I{constructor(){super({id:"cancelSelection",precondition:a.u.hasNonEmptySelection,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Ge,Fe){Ge.model.pushStackElement(),Ge.setCursorStates(Fe.source,3,[y.P.cancelSelection(Ge,Ge.getPrimaryCursorState())]),Ge.revealPrimaryCursor(Fe.source,!0)}}),se.RemoveSecondaryCursors=(0,L.fK)(new class extends I{constructor(){super({id:"removeSecondaryCursors",precondition:a.u.hasMultipleSelections,kbOpts:{weight:N+1,kbExpr:a.u.textInputFocus,primary:9,secondary:[1033]}})}runCoreEditorCommand(Ge,Fe){Ge.model.pushStackElement(),Ge.setCursorStates(Fe.source,3,[Ge.getPrimaryCursorState()]),Ge.revealPrimaryCursor(Fe.source,!0),(0,W.i7)(C.NC("removedCursor","Removed secondary cursors"))}}),se.RevealLine=(0,L.fK)(new class extends I{constructor(){super({id:"revealLine",precondition:void 0,description:O.description})}runCoreEditorCommand(Ge,Fe){const ct=Fe,ft=ct.lineNumber||0;let Ot=typeof ft=="number"?ft+1:parseInt(ft)+1;Ot<1&&(Ot=1);const Et=Ge.model.getLineCount();Ot>Et&&(Ot=Et);const Vt=new T.e(Ot,1,Ot,Ge.model.getLineMaxColumn(Ot));let We=0;if(ct.at)switch(ct.at){case O.RawAtArgument.Top:We=3;break;case O.RawAtArgument.Center:We=1;break;case O.RawAtArgument.Bottom:We=4;break;default:break}const St=Ge.coordinatesConverter.convertModelRangeToViewRange(Vt);Ge.revealRange(Fe.source,!1,St,We,0)}}),se.SelectAll=new class extends R{constructor(){super(L.Sq)}runDOMCommand(){d.isFirefox&&(document.activeElement.focus(),document.activeElement.select()),document.execCommand("selectAll")}runEditorCommand(Ge,Fe,ct){const ft=Fe._getViewModel();!ft||this.runCoreEditorCommand(ft,ct)}runCoreEditorCommand(Ge,Fe){Ge.model.pushStackElement(),Ge.setCursorStates("keyboard",3,[y.P.selectAll(Ge,Ge.getPrimaryCursorState())])}},se.SetSelection=(0,L.fK)(new class extends I{constructor(){super({id:"setSelection",precondition:void 0})}runCoreEditorCommand(Ge,Fe){Ge.model.pushStackElement(),Ge.setCursorStates(Fe.source,3,[P.Vi.fromModelSelection(Fe.selection)])}})})(M||(M={}));const K=b.Ao.and(a.u.textInputFocus,a.u.columnSelection);function Z(se,X){D.W.registerKeybindingRule({id:se,primary:X,when:K,weight:N+1})}Z(M.CursorColumnSelectLeft.id,1039),Z(M.CursorColumnSelectRight.id,1041),Z(M.CursorColumnSelectUp.id,1040),Z(M.CursorColumnSelectPageUp.id,1035),Z(M.CursorColumnSelectDown.id,1042),Z(M.CursorColumnSelectPageDown.id,1036);function te(se){return se.register(),se}var de;(function(se){class X extends L._l{runEditorCommand(ne,U,oe){const q=U._getViewModel();!q||this.runCoreEditingCommand(U,q,oe||{})}}se.CoreEditingCommand=X,se.LineBreakInsert=(0,L.fK)(new class extends X{constructor(){super({id:"lineBreakInsert",precondition:a.u.writable,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:0,mac:{primary:301}}})}runCoreEditingCommand(re,ne,U){re.pushUndoStop(),re.executeCommands(this.id,u.u6.lineBreakInsert(ne.cursorConfig,ne.model,ne.getCursorStates().map(oe=>oe.modelState.selection)))}}),se.Outdent=(0,L.fK)(new class extends X{constructor(){super({id:"outdent",precondition:a.u.writable,kbOpts:{weight:N,kbExpr:b.Ao.and(a.u.editorTextFocus,a.u.tabDoesNotMoveFocus),primary:1026}})}runCoreEditingCommand(re,ne,U){re.pushUndoStop(),re.executeCommands(this.id,u.u6.outdent(ne.cursorConfig,ne.model,ne.getCursorStates().map(oe=>oe.modelState.selection))),re.pushUndoStop()}}),se.Tab=(0,L.fK)(new class extends X{constructor(){super({id:"tab",precondition:a.u.writable,kbOpts:{weight:N,kbExpr:b.Ao.and(a.u.editorTextFocus,a.u.tabDoesNotMoveFocus),primary:2}})}runCoreEditingCommand(re,ne,U){re.pushUndoStop(),re.executeCommands(this.id,u.u6.tab(ne.cursorConfig,ne.model,ne.getCursorStates().map(oe=>oe.modelState.selection))),re.pushUndoStop()}}),se.DeleteLeft=(0,L.fK)(new class extends X{constructor(){super({id:"deleteLeft",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:1,secondary:[1025],mac:{primary:1,secondary:[1025,294,257]}}})}runCoreEditingCommand(re,ne,U){const[oe,q]=_.A.deleteLeft(ne.getPrevEditOperationType(),ne.cursorConfig,ne.model,ne.getCursorStates().map(ae=>ae.modelState.selection),ne.getCursorAutoClosedCharacters());oe&&re.pushUndoStop(),re.executeCommands(this.id,q),ne.setPrevEditOperationType(2)}}),se.DeleteRight=(0,L.fK)(new class extends X{constructor(){super({id:"deleteRight",precondition:void 0,kbOpts:{weight:N,kbExpr:a.u.textInputFocus,primary:20,mac:{primary:20,secondary:[290,276]}}})}runCoreEditingCommand(re,ne,U){const[oe,q]=_.A.deleteRight(ne.getPrevEditOperationType(),ne.cursorConfig,ne.model,ne.getCursorStates().map(ae=>ae.modelState.selection));oe&&re.pushUndoStop(),re.executeCommands(this.id,q),ne.setPrevEditOperationType(3)}}),se.Undo=new class extends R{constructor(){super(L.n_)}runDOMCommand(){document.execCommand("undo")}runEditorCommand(re,ne,U){if(!(!ne.hasModel()||ne.getOption(83)===!0))return ne.getModel().undo()}},se.Redo=new class extends R{constructor(){super(L.kz)}runDOMCommand(){document.execCommand("redo")}runEditorCommand(re,ne,U){if(!(!ne.hasModel()||ne.getOption(83)===!0))return ne.getModel().redo()}}})(de||(de={}));class ge extends L.mY{constructor(X,re,ne){super({id:X,precondition:void 0,description:ne}),this._handlerId=re}runCommand(X,re){const ne=X.get(z.$).getFocusedCodeEditor();!ne||ne.trigger("keyboard",this._handlerId,re)}}function le(se,X){te(new ge("default:"+se,se)),te(new ge(se,se,X))}le("type",{description:"Type",args:[{name:"args",schema:{type:"object",required:["text"],properties:{text:{type:"string"}}}}]}),le("replacePreviousChar"),le("compositionType"),le("compositionStart"),le("compositionEnd"),le("paste"),le("cut")},56133:function(nt,xe,l){"use strict";l.d(xe,{CL:function(){return d},Pi:function(){return W},QI:function(){return j}});var C=l(33182);function d(L){return L&&typeof L.getEditorType=="function"?L.getEditorType()===C.g.ICodeEditor:!1}function j(L){return L&&typeof L.getEditorType=="function"?L.getEditorType()===C.g.IDiffEditor:!1}function W(L){return d(L)?L:j(L)?L.getModifiedEditor():null}},42452:function(nt,xe,l){"use strict";l.d(xe,{AL:function(){return D},N5:function(){return a},Pp:function(){return y},YN:function(){return P},gy:function(){return u},kG:function(){return _},rU:function(){return A},t7:function(){return N},tC:function(){return b}});var C=l(1660),d=l(9138),j=l(78359),W=l(84180),L=l(94214),z=l(55952);class P{constructor(R,M){this.x=R,this.y=M,this._pageCoordinatesBrand=void 0}toClientCoordinates(){return new A(this.x-C.DI.scrollX,this.y-C.DI.scrollY)}}class A{constructor(R,M){this.clientX=R,this.clientY=M,this._clientCoordinatesBrand=void 0}toPageCoordinates(){return new P(this.clientX+C.DI.scrollX,this.clientY+C.DI.scrollY)}}class T{constructor(R,M,K,Z){this.x=R,this.y=M,this.width=K,this.height=Z,this._editorPagePositionBrand=void 0}}class S{constructor(R,M){this.x=R,this.y=M,this._positionRelativeToEditorBrand=void 0}}function _(O){const R=C.i(O);return new T(R.left,R.top,R.width,R.height)}function y(O,R,M){const K=R.width/O.offsetWidth,Z=R.height/O.offsetHeight,te=(M.x-R.x)/K,de=(M.y-R.y)/Z;return new S(te,de)}class u extends j.n{constructor(R,M,K){super(R),this._editorMouseEventBrand=void 0,this.isFromPointerCapture=M,this.pos=new P(this.posx,this.posy),this.editorPos=_(K),this.relativePos=y(K,this.editorPos,this.pos)}}class a{constructor(R){this._editorViewDomNode=R}_create(R){return new u(R,!1,this._editorViewDomNode)}onContextMenu(R,M){return C.nm(R,"contextmenu",K=>{M(this._create(K))})}onMouseUp(R,M){return C.nm(R,"mouseup",K=>{M(this._create(K))})}onMouseDown(R,M){return C.nm(R,C.tw.MOUSE_DOWN,K=>{M(this._create(K))})}onPointerDown(R,M){return C.nm(R,C.tw.POINTER_DOWN,K=>{M(this._create(K),K.pointerId)})}onMouseLeave(R,M){return C.nm(R,C.tw.MOUSE_LEAVE,K=>{M(this._create(K))})}onMouseMove(R,M){return C.nm(R,"mousemove",K=>M(this._create(K)))}}class b{constructor(R){this._editorViewDomNode=R}_create(R){return new u(R,!1,this._editorViewDomNode)}onPointerUp(R,M){return C.nm(R,"pointerup",K=>{M(this._create(K))})}onPointerDown(R,M){return C.nm(R,C.tw.POINTER_DOWN,K=>{M(this._create(K),K.pointerId)})}onPointerLeave(R,M){return C.nm(R,C.tw.POINTER_LEAVE,K=>{M(this._create(K))})}onPointerMove(R,M){return C.nm(R,"pointermove",K=>M(this._create(K)))}}class D extends L.JT{constructor(R){super(),this._editorViewDomNode=R,this._globalPointerMoveMonitor=this._register(new d.C),this._keydownListener=null}startMonitoring(R,M,K,Z,te){this._keydownListener=C.mu(document,"keydown",de=>{de.toKeybinding().isModifierKey()||this._globalPointerMoveMonitor.stopMonitoring(!0,de.browserEvent)},!0),this._globalPointerMoveMonitor.startMonitoring(R,M,K,de=>{Z(new u(de,!0,this._editorViewDomNode))},de=>{this._keydownListener.dispose(),te(de)})}stopMonitoring(){this._globalPointerMoveMonitor.stopMonitoring(!0)}}class N{constructor(R){this._editor=R,this._instanceId=++N._idPool,this._counter=0,this._rules=new Map,this._garbageCollectionScheduler=new W.pY(()=>this.garbageCollect(),1e3)}createClassNameRef(R){const M=this.getOrCreateRule(R);return M.increaseRefCount(),{className:M.className,dispose:()=>{M.decreaseRefCount(),this._garbageCollectionScheduler.schedule()}}}getOrCreateRule(R){const M=this.computeUniqueKey(R);let K=this._rules.get(M);if(!K){const Z=this._counter++;K=new I(M,`dyn-rule-${this._instanceId}-${Z}`,C.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0,R),this._rules.set(M,K)}return K}computeUniqueKey(R){return JSON.stringify(R)}garbageCollect(){for(const R of this._rules.values())R.hasReferences()||(this._rules.delete(R.key),R.dispose())}}N._idPool=0;class I{constructor(R,M,K,Z){this.key=R,this.className=M,this.properties=Z,this._referenceCount=0,this._styleElement=C.dS(K),this._styleElement.textContent=this.getCssText(this.className,this.properties)}getCssText(R,M){let K=`.${R} {`;for(const Z in M){const te=M[Z];let de;typeof te=="object"?de=`var(${(0,z.QO2)(te.id)})`:de=te;const ge=E(Z);K+=`
	${ge}: ${de};`}return K+=`
}`,K}dispose(){this._styleElement.remove()}increaseRefCount(){this._referenceCount++}decreaseRefCount(){this._referenceCount--}hasReferences(){return this._referenceCount>0}}function E(O){return O.replace(/(^[A-Z])/,([R])=>R.toLowerCase()).replace(/([A-Z])/g,([R])=>`-${R.toLowerCase()}`)}},63619:function(nt,xe,l){"use strict";l.d(xe,{AJ:function(){return N},QG:function(){return de},Qr:function(){return Z},R6:function(){return O},Sq:function(){return oe},Uc:function(){return le},_K:function(){return ge},_l:function(){return E},fK:function(){return K},jY:function(){return R},kz:function(){return U},mY:function(){return D},n_:function(){return ne},rn:function(){return te},sb:function(){return M}});var C=l(83218),d=l(92770),j=l(85735),W=l(67120),L=l(81171),z=l(58222),P=l(55863),A=l(52127),T=l(37483),S=l(47397),_=l(58258),y=l(14038),u=l(72854),a=l(17014),b=l(36677);class D{constructor(ae){this.id=ae.id,this.precondition=ae.precondition,this._kbOpts=ae.kbOpts,this._menuOpts=ae.menuOpts,this._description=ae.description}register(){if(Array.isArray(this._menuOpts)?this._menuOpts.forEach(this._registerMenuItem,this):this._menuOpts&&this._registerMenuItem(this._menuOpts),this._kbOpts){const ae=Array.isArray(this._kbOpts)?this._kbOpts:[this._kbOpts];for(const me of ae){let ke=me.kbExpr;this.precondition&&(ke?ke=T.Ao.and(ke,this.precondition):ke=this.precondition);const H={id:this.id,weight:me.weight,args:me.args,when:ke,primary:me.primary,secondary:me.secondary,win:me.win,linux:me.linux,mac:me.mac};_.W.registerKeybindingRule(H)}}A.P0.registerCommand({id:this.id,handler:(ae,me)=>this.runCommand(ae,me),description:this._description})}_registerMenuItem(ae){P.BH.appendMenuItem(ae.menuId,{group:ae.group,command:{id:this.id,title:ae.title,icon:ae.icon,precondition:this.precondition},when:ae.when,order:ae.order})}}class N extends D{constructor(){super(...arguments),this._implementations=[]}addImplementation(ae,me,ke){return this._implementations.push({priority:ae,name:me,implementation:ke}),this._implementations.sort((H,ut)=>ut.priority-H.priority),{dispose:()=>{for(let H=0;H<this._implementations.length;H++)if(this._implementations[H].implementation===ke){this._implementations.splice(H,1);return}}}}runCommand(ae,me){const ke=ae.get(b.VZ);ke.trace(`Executing Command '${this.id}' which has ${this._implementations.length} bound.`);for(const H of this._implementations){const ut=H.implementation(ae,me);if(ut)return ke.trace(`Command '${this.id}' was handled by '${H.name}'.`),typeof ut=="boolean"?void 0:ut}ke.trace(`The Command '${this.id}' was not handled by any implementation.`)}}class I extends D{constructor(ae,me){super(me),this.command=ae}runCommand(ae,me){return this.command.runCommand(ae,me)}}class E extends D{static bindToContribution(ae){return class extends E{constructor(ke){super(ke),this._callback=ke.handler}runEditorCommand(ke,H,ut){const Ke=ae(H);Ke&&this._callback(Ke,ut)}}}static runEditorCommand(ae,me,ke,H){const ut=ae.get(j.$),Ke=ut.getFocusedCodeEditor()||ut.getActiveCodeEditor();if(!!Ke)return Ke.invokeWithinContext(He=>{if(!!He.get(T.i6).contextMatchesRules((0,a.f6)(ke)))return H(He,Ke,me)})}runCommand(ae,me){return E.runEditorCommand(ae,me,this.precondition,(ke,H,ut)=>this.runEditorCommand(ke,H,ut))}}class O extends E{constructor(ae){super(O.convertOptions(ae)),this.label=ae.label,this.alias=ae.alias}static convertOptions(ae){let me;Array.isArray(ae.menuOpts)?me=ae.menuOpts:ae.menuOpts?me=[ae.menuOpts]:me=[];function ke(H){return H.menuId||(H.menuId=P.eH.EditorContext),H.title||(H.title=ae.label),H.when=T.Ao.and(ae.precondition,H.when),H}return Array.isArray(ae.contextMenuOpts)?me.push(...ae.contextMenuOpts.map(ke)):ae.contextMenuOpts&&me.push(ke(ae.contextMenuOpts)),ae.menuOpts=me,ae}runEditorCommand(ae,me,ke){return this.reportTelemetry(ae,me),this.run(ae,me,ke||{})}reportTelemetry(ae,me){ae.get(u.b).publicLog2("editorActionInvoked",{name:this.label,id:this.id})}}class R extends O{constructor(){super(...arguments),this._implementations=[]}addImplementation(ae,me){return this._implementations.push([ae,me]),this._implementations.sort((ke,H)=>H[0]-ke[0]),{dispose:()=>{for(let ke=0;ke<this._implementations.length;ke++)if(this._implementations[ke][1]===me){this._implementations.splice(ke,1);return}}}}run(ae,me,ke){for(const H of this._implementations){const ut=H[1](ae,me,ke);if(ut)return typeof ut=="boolean"?void 0:ut}}}function M(q,ae){A.P0.registerCommand(q,function(me,...ke){const H=me.get(S.TG),[ut,Ke]=ke;(0,a.p_)(d.o.isUri(ut)),(0,a.p_)(W.L.isIPosition(Ke));const He=me.get(L.q).getModel(ut);if(He){const ze=W.L.lift(Ke);return H.invokeFunction(ae,He,ze,...ke.slice(2))}return me.get(z.S).createModelReference(ut).then(ze=>new Promise((Le,Ze)=>{try{const Ge=H.invokeFunction(ae,ze.object.textEditorModel,W.L.lift(Ke),ke.slice(2));Le(Ge)}catch(Ge){Ze(Ge)}}).finally(()=>{ze.dispose()}))})}function K(q){return X.INSTANCE.registerEditorCommand(q),q}function Z(q){const ae=new q;return X.INSTANCE.registerEditorAction(ae),ae}function te(q){return X.INSTANCE.registerEditorAction(q),q}function de(q){X.INSTANCE.registerEditorAction(q)}function ge(q,ae){X.INSTANCE.registerEditorContribution(q,ae)}var le;(function(q){function ae(Ke){return X.INSTANCE.getEditorCommand(Ke)}q.getEditorCommand=ae;function me(){return X.INSTANCE.getEditorActions()}q.getEditorActions=me;function ke(){return X.INSTANCE.getEditorContributions()}q.getEditorContributions=ke;function H(Ke){return X.INSTANCE.getEditorContributions().filter(He=>Ke.indexOf(He.id)>=0)}q.getSomeEditorContributions=H;function ut(){return X.INSTANCE.getDiffEditorContributions()}q.getDiffEditorContributions=ut})(le||(le={}));const se={EditorCommonContributions:"editor.contributions"};class X{constructor(){this.editorContributions=[],this.diffEditorContributions=[],this.editorActions=[],this.editorCommands=Object.create(null)}registerEditorContribution(ae,me){this.editorContributions.push({id:ae,ctor:me})}getEditorContributions(){return this.editorContributions.slice(0)}getDiffEditorContributions(){return this.diffEditorContributions.slice(0)}registerEditorAction(ae){ae.register(),this.editorActions.push(ae)}getEditorActions(){return this.editorActions.slice(0)}registerEditorCommand(ae){ae.register(),this.editorCommands[ae.id]=ae}getEditorCommand(ae){return this.editorCommands[ae]||null}}X.INSTANCE=new X,y.B.add(se.EditorCommonContributions,X.INSTANCE);function re(q){return q.register(),q}const ne=re(new N({id:"undo",precondition:void 0,kbOpts:{weight:0,primary:2104},menuOpts:[{menuId:P.eH.MenubarEditMenu,group:"1_do",title:C.NC({key:"miUndo",comment:["&& denotes a mnemonic"]},"&&Undo"),order:1},{menuId:P.eH.CommandPalette,group:"",title:C.NC("undo","Undo"),order:1}]}));re(new I(ne,{id:"default:undo",precondition:void 0}));const U=re(new N({id:"redo",precondition:void 0,kbOpts:{weight:0,primary:2103,secondary:[3128],mac:{primary:3128}},menuOpts:[{menuId:P.eH.MenubarEditMenu,group:"1_do",title:C.NC({key:"miRedo",comment:["&& denotes a mnemonic"]},"&&Redo"),order:2},{menuId:P.eH.CommandPalette,group:"",title:C.NC("redo","Redo"),order:1}]}));re(new I(U,{id:"default:redo",precondition:void 0}));const oe=re(new N({id:"editor.action.selectAll",precondition:void 0,kbOpts:{weight:0,kbExpr:null,primary:2079},menuOpts:[{menuId:P.eH.MenubarSelectionMenu,group:"1_basic",title:C.NC({key:"miSelectAll",comment:["&& denotes a mnemonic"]},"&&Select All"),order:1},{menuId:P.eH.CommandPalette,group:"",title:C.NC("selectAll","Select All"),order:1}]}))},1845:function(nt,xe,l){"use strict";l.d(xe,{Gl:function(){return z},fo:function(){return L},vu:function(){return W}});var C=l(47397),d=l(92770),j=l(17014);const W=(0,C.yh)("IWorkspaceEditService");class L{constructor(T){this.metadata=T}static convert(T){return T.edits.map(S=>{if(z.is(S))return z.lift(S);if(P.is(S))return P.lift(S);throw new Error("Unsupported edit")})}}class z extends L{constructor(T,S,_=void 0,y){super(y),this.resource=T,this.textEdit=S,this.versionId=_}static is(T){return T instanceof z?!0:(0,j.Kn)(T)&&d.o.isUri(T.resource)&&(0,j.Kn)(T.textEdit)}static lift(T){return T instanceof z?T:new z(T.resource,T.textEdit,T.versionId,T.metadata)}}class P extends L{constructor(T,S,_={},y){super(y),this.oldResource=T,this.newResource=S,this.options=_}static is(T){return T instanceof P?!0:(0,j.Kn)(T)&&(Boolean(T.newResource)||Boolean(T.oldResource))}static lift(T){return T instanceof P?T:new P(T.oldResource,T.newResource,T.options,T.metadata)}}},85735:function(nt,xe,l){"use strict";l.d(xe,{$:function(){return d}});var C=l(47397);const d=(0,C.yh)("codeEditorService")},70018:function(nt,xe,l){"use strict";l.d(xe,{Z:function(){return C}});class C{constructor(j,W,L){this._visiblePosition=j,this._visiblePositionScrollDelta=W,this._cursorPosition=L}static capture(j){let W=null,L=0;if(j.getScrollTop()!==0){const z=j.getVisibleRanges();if(z.length>0){W=z[0].getStartPosition();const P=j.getTopForPosition(W.lineNumber,W.column);L=j.getScrollTop()-P}}return new C(W,L,j.getPosition())}restore(j){if(this._visiblePosition){const W=j.getTopForPosition(this._visiblePosition.lineNumber,this._visiblePosition.column);j.setScrollTop(W+this._visiblePositionScrollDelta)}}restoreRelativeVerticalPositionOfCursor(j){const W=j.getPosition();if(!this._cursorPosition||!W)return;const L=j.getTopForLineNumber(W.lineNumber)-j.getTopForLineNumber(this._cursorPosition.lineNumber);j.setScrollTop(j.getScrollTop()+L)}}},15083:function(nt,xe,l){"use strict";l.d(xe,{Gm:function(){return Hl}});var C=l(94621),d=l(63619),j=function(pt,i,c,v){var V=arguments.length,$=V<3?i:v===null?v=Object.getOwnPropertyDescriptor(i,c):v,ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(pt,i,c,v);else for(var be=pt.length-1;be>=0;be--)(ce=pt[be])&&($=(V<3?ce($):V>3?ce(i,c,$):ce(i,c))||$);return V>3&&$&&Object.defineProperty(i,c,$),$},W=function(pt,i){return function(c,v){i(c,v,pt)}};let L=class{constructor(i,c){}dispose(){}};L.ID="editor.contrib.markerDecorations",L=j([W(1,C.i)],L),(0,d._K)(L.ID,L);var z=l(83218),P=l(1660),A=l(708),T=l(60218),S=l(94214),_=l(49407),y=l(69748),u=l(84553),a=l(43299),b=l(94976),D=l(26486),N=l(36078);class I{constructor(i,c){this.key=i,this.migrate=c}apply(i){const c=I._read(i,this.key),v=$=>I._read(i,$),V=($,ce)=>I._write(i,$,ce);this.migrate(c,v,V)}static _read(i,c){if(typeof i=="undefined")return;const v=c.indexOf(".");if(v>=0){const V=c.substring(0,v);return this._read(i[V],c.substring(v+1))}return i[c]}static _write(i,c,v){const V=c.indexOf(".");if(V>=0){const $=c.substring(0,V);i[$]=i[$]||{},this._write(i[$],c.substring(V+1),v);return}i[c]=v}}I.items=[];function E(pt,i){I.items.push(new I(pt,i))}function O(pt,i){E(pt,(c,v,V)=>{if(typeof c!="undefined"){for(const[$,ce]of i)if(c===$){V(pt,ce);return}}})}function R(pt){I.items.forEach(i=>i.apply(pt))}O("wordWrap",[[!0,"on"],[!1,"off"]]),O("lineNumbers",[[!0,"on"],[!1,"off"]]),O("cursorBlinking",[["visible","solid"]]),O("renderWhitespace",[[!0,"boundary"],[!1,"none"]]),O("renderLineHighlight",[[!0,"line"],[!1,"none"]]),O("acceptSuggestionOnEnter",[[!0,"on"],[!1,"off"]]),O("tabCompletion",[[!1,"off"],[!0,"onlySnippets"]]),O("hover",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),O("parameterHints",[[!0,{enabled:!0}],[!1,{enabled:!1}]]),O("autoIndent",[[!1,"advanced"],[!0,"full"]]),O("matchBrackets",[[!0,"always"],[!1,"never"]]),E("autoClosingBrackets",(pt,i,c)=>{pt===!1&&(c("autoClosingBrackets","never"),typeof i("autoClosingQuotes")=="undefined"&&c("autoClosingQuotes","never"),typeof i("autoSurround")=="undefined"&&c("autoSurround","never"))}),E("renderIndentGuides",(pt,i,c)=>{typeof pt!="undefined"&&(c("renderIndentGuides",void 0),typeof i("guides.indentation")=="undefined"&&c("guides.indentation",!!pt))}),E("highlightActiveIndentGuide",(pt,i,c)=>{typeof pt!="undefined"&&(c("highlightActiveIndentGuide",void 0),typeof i("guides.highlightActiveIndentation")=="undefined"&&c("guides.highlightActiveIndentation",!!pt))});const M={method:"showMethods",function:"showFunctions",constructor:"showConstructors",deprecated:"showDeprecated",field:"showFields",variable:"showVariables",class:"showClasses",struct:"showStructs",interface:"showInterfaces",module:"showModules",property:"showProperties",event:"showEvents",operator:"showOperators",unit:"showUnits",value:"showValues",constant:"showConstants",enum:"showEnums",enumMember:"showEnumMembers",keyword:"showKeywords",text:"showWords",color:"showColors",file:"showFiles",reference:"showReferences",folder:"showFolders",typeParameter:"showTypeParameters",snippet:"showSnippets"};E("suggest.filteredTypes",(pt,i,c)=>{if(pt&&typeof pt=="object"){for(const v of Object.entries(M))pt[v[0]]===!1&&typeof i(`suggest.${v[1]}`)=="undefined"&&c(`suggest.${v[1]}`,!1);c("suggest.filteredTypes",void 0)}}),E("quickSuggestions",(pt,i,c)=>{if(typeof pt=="boolean"){const v=pt?"on":"off";c("quickSuggestions",{comments:v,strings:v,other:v})}});var K=l(79829),Z=l(24030),te=l(20896),de=l(82220),ge=l(64038),le=function(pt,i,c,v){var V=arguments.length,$=V<3?i:v===null?v=Object.getOwnPropertyDescriptor(i,c):v,ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(pt,i,c,v);else for(var be=pt.length-1;be>=0;be--)(ce=pt[be])&&($=(V<3?ce($):V>3?ce(i,c,$):ce(i,c))||$);return V>3&&$&&Object.defineProperty(i,c,$),$},se=function(pt,i){return function(c,v){i(c,v,pt)}};let X=class extends S.JT{constructor(i,c,v,V){super(),this._accessibilityService=V,this._onDidChange=this._register(new T.Q5),this.onDidChange=this._onDidChange.event,this._onDidChangeFast=this._register(new T.Q5),this.onDidChangeFast=this._onDidChangeFast.event,this._isDominatedByLongLines=!1,this._viewLineCount=1,this._lineNumbersDigitCount=1,this._reservedHeight=0,this._computeOptionsMemory=new Z.LJ,this.isSimpleWidget=i,this._containerObserver=this._register(new D.I(v,c.dimension)),this._rawOptions=ae(c),this._validatedOptions=q.validateOptions(this._rawOptions),this.options=this._computeOptions(),this.options.get(10)&&this._containerObserver.startObserving(),this._register(te.C.onDidChangeZoomLevel(()=>this._recomputeOptions())),this._register(K.n.onDidChangeTabFocus(()=>this._recomputeOptions())),this._register(this._containerObserver.onDidChange(()=>this._recomputeOptions())),this._register(N.g.onDidChange(()=>this._recomputeOptions())),this._register(y.PixelRatio.onDidChange(()=>this._recomputeOptions())),this._register(this._accessibilityService.onDidChangeScreenReaderOptimized(()=>this._recomputeOptions()))}_recomputeOptions(){const i=this._computeOptions(),c=q.checkEquals(this.options,i);c!==null&&(this.options=i,this._onDidChangeFast.fire(c),this._onDidChange.fire(c))}_computeOptions(){const i=this._readEnvConfiguration(),c=de.E4.createFromValidatedSettings(this._validatedOptions,i.pixelRatio,this.isSimpleWidget),v=this._readFontInfo(c),V={memory:this._computeOptionsMemory,outerWidth:i.outerWidth,outerHeight:i.outerHeight-this._reservedHeight,fontInfo:v,extraEditorClassName:i.extraEditorClassName,isDominatedByLongLines:this._isDominatedByLongLines,viewLineCount:this._viewLineCount,lineNumbersDigitCount:this._lineNumbersDigitCount,emptySelectionClipboard:i.emptySelectionClipboard,pixelRatio:i.pixelRatio,tabFocusMode:K.n.getTabFocusMode(),accessibilitySupport:i.accessibilitySupport};return q.computeOptions(this._validatedOptions,V)}_readEnvConfiguration(){return{extraEditorClassName:ne(),outerWidth:this._containerObserver.getWidth(),outerHeight:this._containerObserver.getHeight(),emptySelectionClipboard:y.isWebKit||y.isFirefox,pixelRatio:y.PixelRatio.value,accessibilitySupport:this._accessibilityService.isScreenReaderOptimized()?2:this._accessibilityService.getAccessibilitySupport()}}_readFontInfo(i){return N.g.readFontInfo(i)}getRawOptions(){return this._rawOptions}updateOptions(i){const c=ae(i);!q.applyUpdate(this._rawOptions,c)||(this._validatedOptions=q.validateOptions(this._rawOptions),this._recomputeOptions())}observeContainer(i){this._containerObserver.observe(i)}setIsDominatedByLongLines(i){this._isDominatedByLongLines!==i&&(this._isDominatedByLongLines=i,this._recomputeOptions())}setModelLineCount(i){const c=re(i);this._lineNumbersDigitCount!==c&&(this._lineNumbersDigitCount=c,this._recomputeOptions())}setViewLineCount(i){this._viewLineCount!==i&&(this._viewLineCount=i,this._recomputeOptions())}setReservedHeight(i){this._reservedHeight!==i&&(this._reservedHeight=i,this._recomputeOptions())}};X=le([se(3,ge.F)],X);function re(pt){let i=0;for(;pt;)pt=Math.floor(pt/10),i++;return i||1}function ne(){let pt="";return!y.isSafari&&!y.isWebkitWebView&&(pt+="no-user-select "),y.isSafari&&(pt+="no-minimap-shadow ",pt+="enable-user-select "),b.dz&&(pt+="mac "),pt}class U{constructor(){this._values=[]}_read(i){return this._values[i]}get(i){return this._values[i]}_write(i,c){this._values[i]=c}}class oe{constructor(){this._values=[]}_read(i){if(i>=this._values.length)throw new Error("Cannot read uninitialized value");return this._values[i]}get(i){return this._read(i)}_write(i,c){this._values[i]=c}}class q{static validateOptions(i){const c=new U;for(const v of Z.Bc){const V=v.name==="_never_"?void 0:i[v.name];c._write(v.id,v.validate(V))}return c}static computeOptions(i,c){const v=new oe;for(const V of Z.Bc)v._write(V.id,V.compute(c,v,i._read(V.id)));return v}static _deepEquals(i,c){if(typeof i!="object"||typeof c!="object"||!i||!c)return i===c;if(Array.isArray(i)||Array.isArray(c))return Array.isArray(i)&&Array.isArray(c)?u.fS(i,c):!1;if(Object.keys(i).length!==Object.keys(c).length)return!1;for(const v in i)if(!q._deepEquals(i[v],c[v]))return!1;return!0}static checkEquals(i,c){const v=[];let V=!1;for(const $ of Z.Bc){const ce=!q._deepEquals(i._read($.id),c._read($.id));v[$.id]=ce,ce&&(V=!0)}return V?new Z.Bb(v):null}static applyUpdate(i,c){let v=!1;for(const V of Z.Bc)if(c.hasOwnProperty(V.name)){const $=V.applyUpdate(i[V.name],c[V.name]);i[V.name]=$.newValue,v=v||$.didChange}return v}}function ae(pt){const i=a.I8(pt);return R(i),i}var me=l(85735),ke=l(17122),H=l(52948),ut=l(32003),Ke=l(78359),He=l(84180),ze=l(42452);class Le extends S.JT{constructor(){super(),this._shouldRender=!0}shouldRender(){return this._shouldRender}forceShouldRender(){this._shouldRender=!0}setShouldRender(){this._shouldRender=!0}onDidRender(){this._shouldRender=!1}onCompositionStart(i){return!1}onCompositionEnd(i){return!1}onConfigurationChanged(i){return!1}onCursorStateChanged(i){return!1}onDecorationsChanged(i){return!1}onFlushed(i){return!1}onFocusChanged(i){return!1}onLanguageConfigurationChanged(i){return!1}onLineMappingChanged(i){return!1}onLinesChanged(i){return!1}onLinesDeleted(i){return!1}onLinesInserted(i){return!1}onRevealRangeRequest(i){return!1}onScrollChanged(i){return!1}onThemeChanged(i){return!1}onTokensChanged(i){return!1}onTokensColorsChanged(i){return!1}onZonesChanged(i){return!1}handleEvents(i){let c=!1;for(let v=0,V=i.length;v<V;v++){const $=i[v];switch($.type){case 0:this.onCompositionStart($)&&(c=!0);break;case 1:this.onCompositionEnd($)&&(c=!0);break;case 2:this.onConfigurationChanged($)&&(c=!0);break;case 3:this.onCursorStateChanged($)&&(c=!0);break;case 4:this.onDecorationsChanged($)&&(c=!0);break;case 5:this.onFlushed($)&&(c=!0);break;case 6:this.onFocusChanged($)&&(c=!0);break;case 7:this.onLanguageConfigurationChanged($)&&(c=!0);break;case 8:this.onLineMappingChanged($)&&(c=!0);break;case 9:this.onLinesChanged($)&&(c=!0);break;case 10:this.onLinesDeleted($)&&(c=!0);break;case 11:this.onLinesInserted($)&&(c=!0);break;case 12:this.onRevealRangeRequest($)&&(c=!0);break;case 13:this.onScrollChanged($)&&(c=!0);break;case 15:this.onTokensChanged($)&&(c=!0);break;case 14:this.onThemeChanged($)&&(c=!0);break;case 16:this.onTokensColorsChanged($)&&(c=!0);break;case 17:this.onZonesChanged($)&&(c=!0);break;default:console.info("View received unknown event: "),console.info($)}}c&&(this._shouldRender=!0)}}class Ze extends Le{constructor(i){super(),this._context=i,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}}class Ge{static write(i,c){i.setAttribute("data-mprt",String(c))}static read(i){const c=i.getAttribute("data-mprt");return c===null?0:parseInt(c,10)}static collect(i,c){const v=[];let V=0;for(;i&&i!==document.body&&i!==c;)i.nodeType===i.ELEMENT_NODE&&(v[V++]=this.read(i)),i=i.parentElement;const $=new Uint8Array(V);for(let ce=0;ce<V;ce++)$[ce]=v[V-ce-1];return $}}class Fe{constructor(i,c){this._restrictedRenderingContextBrand=void 0,this._viewLayout=i,this.viewportData=c,this.scrollWidth=this._viewLayout.getScrollWidth(),this.scrollHeight=this._viewLayout.getScrollHeight(),this.visibleRange=this.viewportData.visibleRange,this.bigNumbersDelta=this.viewportData.bigNumbersDelta;const v=this._viewLayout.getCurrentViewport();this.scrollTop=v.top,this.scrollLeft=v.left,this.viewportWidth=v.width,this.viewportHeight=v.height}getScrolledTopFromAbsoluteTop(i){return i-this.scrollTop}getVerticalOffsetForLineNumber(i){return this._viewLayout.getVerticalOffsetForLineNumber(i)}getDecorationsInViewport(){return this.viewportData.getDecorationsInViewport()}}class ct extends Fe{constructor(i,c,v){super(i,c),this._renderingContextBrand=void 0,this._viewLines=v}linesVisibleRangesForRange(i,c){return this._viewLines.linesVisibleRangesForRange(i,c)}visibleRangeForPosition(i){return this._viewLines.visibleRangeForPosition(i)}}class ft{constructor(i,c,v){this.outsideRenderedLine=i,this.lineNumber=c,this.ranges=v}}class Ot{constructor(i,c){this._horizontalRangeBrand=void 0,this.left=Math.round(i),this.width=Math.round(c)}static from(i){const c=new Array(i.length);for(let v=0,V=i.length;v<V;v++){const $=i[v];c[v]=new Ot($.left,$.width)}return c}toString(){return`[${this.left},${this.width}]`}}class Et{constructor(i,c){this._floatHorizontalRangeBrand=void 0,this.left=i,this.width=c}toString(){return`[${this.left},${this.width}]`}static compare(i,c){return i.left-c.left}}class Vt{constructor(i,c){this.outsideRenderedLine=i,this.originalLeft=c,this.left=Math.round(this.originalLeft)}}class We{constructor(i,c){this.outsideRenderedLine=i,this.ranges=c}}class St{static _createRange(){return this._handyReadyRange||(this._handyReadyRange=document.createRange()),this._handyReadyRange}static _detachRange(i,c){i.selectNodeContents(c)}static _readClientRects(i,c,v,V,$){const ce=this._createRange();try{return ce.setStart(i,c),ce.setEnd(v,V),ce.getClientRects()}catch(be){return null}finally{this._detachRange(ce,$)}}static _mergeAdjacentRanges(i){if(i.length===1)return i;i.sort(Et.compare);const c=[];let v=0,V=i[0];for(let $=1,ce=i.length;$<ce;$++){const be=i[$];V.left+V.width+.9>=be.left?V.width=Math.max(V.width,be.left+be.width-V.left):(c[v++]=V,V=be)}return c[v++]=V,c}static _createHorizontalRangesFromClientRects(i,c,v){if(!i||i.length===0)return null;const V=[];for(let $=0,ce=i.length;$<ce;$++){const be=i[$];V[$]=new Et(Math.max(0,(be.left-c)/v),be.width/v)}return this._mergeAdjacentRanges(V)}static readHorizontalRanges(i,c,v,V,$,ce,be,Me){const Qe=i.children.length-1;if(0>Qe)return null;if(c=Math.min(Qe,Math.max(0,c)),V=Math.min(Qe,Math.max(0,V)),c===V&&v===$&&v===0&&!i.children[c].firstChild){const Yt=i.children[c].getClientRects();return this._createHorizontalRangesFromClientRects(Yt,ce,be)}c!==V&&V>0&&$===0&&(V--,$=1073741824);let lt=i.children[c].firstChild,Nt=i.children[V].firstChild;if((!lt||!Nt)&&(!lt&&v===0&&c>0&&(lt=i.children[c-1].firstChild,v=1073741824),!Nt&&$===0&&V>0&&(Nt=i.children[V-1].firstChild,$=1073741824)),!lt||!Nt)return null;v=Math.min(lt.textContent.length,Math.max(0,v)),$=Math.min(Nt.textContent.length,Math.max(0,$));const Dt=this._readClientRects(lt,v,Nt,$,Me);return this._createHorizontalRangesFromClientRects(Dt,ce,be)}}var Re=l(48569),Se=l(63908),Ee=l(26687);const Be=function(){return b.tY?!0:!(b.IJ||y.isFirefox||y.isSafari)}();let Xe=!0;class Pt{constructor(i,c){this._domNode=i,this._clientRectDeltaLeft=0,this._clientRectScale=1,this._clientRectRead=!1,this.endNode=c}readClientRect(){if(!this._clientRectRead){this._clientRectRead=!0;const i=this._domNode.getBoundingClientRect();this._clientRectDeltaLeft=i.left,this._clientRectScale=i.width/this._domNode.offsetWidth}}get clientRectDeltaLeft(){return this._clientRectRead||this.readClientRect(),this._clientRectDeltaLeft}get clientRectScale(){return this._clientRectRead||this.readClientRect(),this._clientRectScale}}class jt{constructor(i,c){this.themeType=c;const v=i.options,V=v.get(46);this.renderWhitespace=v.get(90),this.renderControlCharacters=v.get(85),this.spaceWidth=V.spaceWidth,this.middotWidth=V.middotWidth,this.wsmiddotWidth=V.wsmiddotWidth,this.useMonospaceOptimizations=V.isMonospace&&!v.get(29),this.canUseHalfwidthRightwardsArrow=V.canUseHalfwidthRightwardsArrow,this.lineHeight=v.get(61),this.stopRenderingLineAfter=v.get(107),this.fontLigatures=v.get(47)}equals(i){return this.themeType===i.themeType&&this.renderWhitespace===i.renderWhitespace&&this.renderControlCharacters===i.renderControlCharacters&&this.spaceWidth===i.spaceWidth&&this.middotWidth===i.middotWidth&&this.wsmiddotWidth===i.wsmiddotWidth&&this.useMonospaceOptimizations===i.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===i.canUseHalfwidthRightwardsArrow&&this.lineHeight===i.lineHeight&&this.stopRenderingLineAfter===i.stopRenderingLineAfter&&this.fontLigatures===i.fontLigatures}}class pn{constructor(i){this._options=i,this._isMaybeInvalid=!0,this._renderedViewLine=null}getDomNode(){return this._renderedViewLine&&this._renderedViewLine.domNode?this._renderedViewLine.domNode.domNode:null}setDomNode(i){if(this._renderedViewLine)this._renderedViewLine.domNode=(0,H.X)(i);else throw new Error("I have no rendered view line to set the dom node to...")}onContentChanged(){this._isMaybeInvalid=!0}onTokensChanged(){this._isMaybeInvalid=!0}onDecorationsChanged(){this._isMaybeInvalid=!0}onOptionsChanged(i){this._isMaybeInvalid=!0,this._options=i}onSelectionChanged(){return(0,Ee.c3)(this._options.themeType)||this._options.renderWhitespace==="selection"?(this._isMaybeInvalid=!0,!0):!1}renderLine(i,c,v,V){if(this._isMaybeInvalid===!1)return!1;this._isMaybeInvalid=!1;const $=v.getViewLineRenderingData(i),ce=this._options,be=Re.Kp.filter($.inlineDecorations,i,$.minColumn,$.maxColumn);let Me=null;if((0,Ee.c3)(ce.themeType)||this._options.renderWhitespace==="selection"){const Nt=v.selections;for(const Dt of Nt){if(Dt.endLineNumber<i||Dt.startLineNumber>i)continue;const Yt=Dt.startLineNumber===i?Dt.startColumn:$.minColumn,an=Dt.endLineNumber===i?Dt.endColumn:$.maxColumn;Yt<an&&((0,Ee.c3)(ce.themeType)||this._options.renderWhitespace!=="selection"?be.push(new Re.Kp(Yt,an,"inline-selected-text",0)):(Me||(Me=[]),Me.push(new Se.zG(Yt-1,an-1))))}}const Oe=new Se.IJ(ce.useMonospaceOptimizations,ce.canUseHalfwidthRightwardsArrow,$.content,$.continuesWithWrappedLine,$.isBasicASCII,$.containsRTL,$.minColumn-1,$.tokens,be,$.tabSize,$.startVisibleColumn,ce.spaceWidth,ce.middotWidth,ce.wsmiddotWidth,ce.stopRenderingLineAfter,ce.renderWhitespace,ce.renderControlCharacters,ce.fontLigatures!==Z.n0.OFF,Me);if(this._renderedViewLine&&this._renderedViewLine.input.equals(Oe))return!1;V.appendASCIIString('<div style="top:'),V.appendASCIIString(String(c)),V.appendASCIIString("px;height:"),V.appendASCIIString(String(this._options.lineHeight)),V.appendASCIIString('px;" class="'),V.appendASCIIString(pn.CLASS_NAME),V.appendASCIIString('">');const Qe=(0,Se.d1)(Oe,V);V.appendASCIIString("</div>");let lt=null;return Xe&&Be&&$.isBasicASCII&&ce.useMonospaceOptimizations&&Qe.containsForeignElements===0&&$.content.length<300&&Oe.lineTokens.getCount()<100&&(lt=new at(this._renderedViewLine?this._renderedViewLine.domNode:null,Oe,Qe.characterMapping)),lt||(lt=_n(this._renderedViewLine?this._renderedViewLine.domNode:null,Oe,Qe.characterMapping,Qe.containsRTL,Qe.containsForeignElements)),this._renderedViewLine=lt,!0}layoutLine(i,c){this._renderedViewLine&&this._renderedViewLine.domNode&&(this._renderedViewLine.domNode.setTop(c),this._renderedViewLine.domNode.setHeight(this._options.lineHeight))}getWidth(){return this._renderedViewLine?this._renderedViewLine.getWidth():0}getWidthIsFast(){return this._renderedViewLine?this._renderedViewLine.getWidthIsFast():!0}needsMonospaceFontCheck(){return this._renderedViewLine?this._renderedViewLine instanceof at:!1}monospaceAssumptionsAreValid(){return this._renderedViewLine&&this._renderedViewLine instanceof at?this._renderedViewLine.monospaceAssumptionsAreValid():Xe}onMonospaceAssumptionsInvalidated(){this._renderedViewLine&&this._renderedViewLine instanceof at&&(this._renderedViewLine=this._renderedViewLine.toSlowRenderedLine())}getVisibleRangesForRange(i,c,v,V){if(!this._renderedViewLine)return null;c=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,c)),v=Math.min(this._renderedViewLine.input.lineContent.length+1,Math.max(1,v));const $=this._renderedViewLine.input.stopRenderingLineAfter;let ce=!1;$!==-1&&c>$+1&&v>$+1&&(ce=!0),$!==-1&&c>$+1&&(c=$+1),$!==-1&&v>$+1&&(v=$+1);const be=this._renderedViewLine.getVisibleRangesForRange(i,c,v,V);return be&&be.length>0?new We(ce,be):null}getColumnOfNodeOffset(i,c,v){return this._renderedViewLine?this._renderedViewLine.getColumnOfNodeOffset(i,c,v):1}}pn.CLASS_NAME="view-line";class at{constructor(i,c,v){this.domNode=i,this.input=c,this._characterMapping=v,this._charWidth=c.spaceWidth}getWidth(){return Math.round(this._getCharPosition(this._characterMapping.length))}getWidthIsFast(){return!0}monospaceAssumptionsAreValid(){if(!this.domNode)return Xe;const i=this.getWidth(),c=this.domNode.domNode.firstChild.offsetWidth;return Math.abs(i-c)>=2&&(console.warn("monospace assumptions have been violated, therefore disabling monospace optimizations!"),Xe=!1),Xe}toSlowRenderedLine(){return _n(this.domNode,this.input,this._characterMapping,!1,0)}getVisibleRangesForRange(i,c,v,V){const $=this._getCharPosition(c),ce=this._getCharPosition(v);return[new Et($,ce-$)]}_getCharPosition(i){const c=this._characterMapping.getHorizontalOffset(i);return this._charWidth*c}getColumnOfNodeOffset(i,c,v){const V=c.textContent.length;let $=-1;for(;c;)c=c.previousSibling,$++;return this._characterMapping.getColumn(new Se.Nd($,v),V)}}class Mt{constructor(i,c,v,V,$){if(this.domNode=i,this.input=c,this._characterMapping=v,this._isWhitespaceOnly=/^\s*$/.test(c.lineContent),this._containsForeignElements=$,this._cachedWidth=-1,this._pixelOffsetCache=null,!V||this._characterMapping.length===0){this._pixelOffsetCache=new Float32Array(Math.max(2,this._characterMapping.length+1));for(let ce=0,be=this._characterMapping.length;ce<=be;ce++)this._pixelOffsetCache[ce]=-1}}_getReadingTarget(i){return i.domNode.firstChild}getWidth(){return this.domNode?(this._cachedWidth===-1&&(this._cachedWidth=this._getReadingTarget(this.domNode).offsetWidth),this._cachedWidth):0}getWidthIsFast(){return this._cachedWidth!==-1}getVisibleRangesForRange(i,c,v,V){if(!this.domNode)return null;if(this._pixelOffsetCache!==null){const $=this._readPixelOffset(this.domNode,i,c,V);if($===-1)return null;const ce=this._readPixelOffset(this.domNode,i,v,V);return ce===-1?null:[new Et($,ce-$)]}return this._readVisibleRangesForRange(this.domNode,i,c,v,V)}_readVisibleRangesForRange(i,c,v,V,$){if(v===V){const ce=this._readPixelOffset(i,c,v,$);return ce===-1?null:[new Et(ce,0)]}else return this._readRawVisibleRangesForRange(i,v,V,$)}_readPixelOffset(i,c,v,V){if(this._characterMapping.length===0){if(this._containsForeignElements===0||this._containsForeignElements===2)return 0;if(this._containsForeignElements===1)return this.getWidth();const $=this._getReadingTarget(i);return $.firstChild?$.firstChild.offsetWidth:0}if(this._pixelOffsetCache!==null){const $=this._pixelOffsetCache[v];if($!==-1)return $;const ce=this._actualReadPixelOffset(i,c,v,V);return this._pixelOffsetCache[v]=ce,ce}return this._actualReadPixelOffset(i,c,v,V)}_actualReadPixelOffset(i,c,v,V){if(this._characterMapping.length===0){const Me=St.readHorizontalRanges(this._getReadingTarget(i),0,0,0,0,V.clientRectDeltaLeft,V.clientRectScale,V.endNode);return!Me||Me.length===0?-1:Me[0].left}if(v===this._characterMapping.length&&this._isWhitespaceOnly&&this._containsForeignElements===0)return this.getWidth();const $=this._characterMapping.getDomPosition(v),ce=St.readHorizontalRanges(this._getReadingTarget(i),$.partIndex,$.charIndex,$.partIndex,$.charIndex,V.clientRectDeltaLeft,V.clientRectScale,V.endNode);if(!ce||ce.length===0)return-1;const be=ce[0].left;if(this.input.isBasicASCII){const Me=this._characterMapping.getHorizontalOffset(v),Oe=Math.round(this.input.spaceWidth*Me);if(Math.abs(Oe-be)<=1)return Oe}return be}_readRawVisibleRangesForRange(i,c,v,V){if(c===1&&v===this._characterMapping.length)return[new Et(0,this.getWidth())];const $=this._characterMapping.getDomPosition(c),ce=this._characterMapping.getDomPosition(v);return St.readHorizontalRanges(this._getReadingTarget(i),$.partIndex,$.charIndex,ce.partIndex,ce.charIndex,V.clientRectDeltaLeft,V.clientRectScale,V.endNode)}getColumnOfNodeOffset(i,c,v){const V=c.textContent.length;let $=-1;for(;c;)c=c.previousSibling,$++;return this._characterMapping.getColumn(new Se.Nd($,v),V)}}class Gt extends Mt{_readVisibleRangesForRange(i,c,v,V,$){const ce=super._readVisibleRangesForRange(i,c,v,V,$);if(!ce||ce.length===0||v===V||v===1&&V===this._characterMapping.length)return ce;if(!this.input.containsRTL){const be=this._readPixelOffset(i,c,V,$);if(be!==-1){const Me=ce[ce.length-1];Me.left<be&&(Me.width=be-Me.left)}}return ce}}const _n=function(){return y.isWebKit?Rn:Wn}();function Rn(pt,i,c,v,V){return new Gt(pt,i,c,v,V)}function Wn(pt,i,c,v,V){return new Mt(pt,i,c,v,V)}var wn=l(67120),je=l(14481),qn=l(72289),vt=l(41939);class _e{constructor(i=null){this.hitTarget=i,this.type=0}}class ht{constructor(i,c,v){this.position=i,this.spanNode=c,this.injectedText=v,this.type=1}}var yt;(function(pt){function i(c,v,V){const $=c.getPositionFromDOMInfo(v,V);return $?new ht($,v,null):new _e(v)}pt.createFromDOMInfo=i})(yt||(yt={}));class ye{constructor(i,c){this.lastViewCursorsRenderData=i,this.lastTextareaPosition=c}}class qe{static _deduceRage(i,c=null){return!c&&i?new je.e(i.lineNumber,i.column,i.lineNumber,i.column):c!=null?c:null}static createUnknown(i,c,v){return{type:0,element:i,mouseColumn:c,position:v,range:this._deduceRage(v)}}static createTextarea(i,c){return{type:1,element:i,mouseColumn:c,position:null,range:null}}static createMargin(i,c,v,V,$,ce){return{type:i,element:c,mouseColumn:v,position:V,range:$,detail:ce}}static createViewZone(i,c,v,V,$){return{type:i,element:c,mouseColumn:v,position:V,range:this._deduceRage(V),detail:$}}static createContentText(i,c,v,V,$){return{type:6,element:i,mouseColumn:c,position:v,range:this._deduceRage(v,V),detail:$}}static createContentEmpty(i,c,v,V){return{type:7,element:i,mouseColumn:c,position:v,range:this._deduceRage(v),detail:V}}static createContentWidget(i,c,v){return{type:9,element:i,mouseColumn:c,position:null,range:null,detail:v}}static createScrollbar(i,c,v){return{type:11,element:i,mouseColumn:c,position:v,range:this._deduceRage(v)}}static createOverlayWidget(i,c,v){return{type:12,element:i,mouseColumn:c,position:null,range:null,detail:v}}static createOutsideEditor(i,c){return{type:13,element:null,mouseColumn:i,position:c,range:this._deduceRage(c)}}static _typeToString(i){return i===1?"TEXTAREA":i===2?"GUTTER_GLYPH_MARGIN":i===3?"GUTTER_LINE_NUMBERS":i===4?"GUTTER_LINE_DECORATIONS":i===5?"GUTTER_VIEW_ZONE":i===6?"CONTENT_TEXT":i===7?"CONTENT_EMPTY":i===8?"CONTENT_VIEW_ZONE":i===9?"CONTENT_WIDGET":i===10?"OVERVIEW_RULER":i===11?"SCROLLBAR":i===12?"OVERLAY_WIDGET":"UNKNOWN"}static toString(i){return this._typeToString(i.type)+": "+i.position+" - "+i.range+" - "+JSON.stringify(i.detail)}}class Wt{static isTextArea(i){return i.length===2&&i[0]===3&&i[1]===6}static isChildOfViewLines(i){return i.length>=4&&i[0]===3&&i[3]===7}static isStrictChildOfViewLines(i){return i.length>4&&i[0]===3&&i[3]===7}static isChildOfScrollableElement(i){return i.length>=2&&i[0]===3&&i[1]===5}static isChildOfMinimap(i){return i.length>=2&&i[0]===3&&i[1]===8}static isChildOfContentWidgets(i){return i.length>=4&&i[0]===3&&i[3]===1}static isChildOfOverflowingContentWidgets(i){return i.length>=1&&i[0]===2}static isChildOfOverlayWidgets(i){return i.length>=2&&i[0]===3&&i[1]===4}}class Xt{constructor(i,c,v){this.viewModel=i.viewModel;const V=i.configuration.options;this.layoutInfo=V.get(133),this.viewDomNode=c.viewDomNode,this.lineHeight=V.get(61),this.stickyTabStops=V.get(106),this.typicalHalfwidthCharacterWidth=V.get(46).typicalHalfwidthCharacterWidth,this.lastRenderData=v,this._context=i,this._viewHelper=c}getZoneAtCoord(i){return Xt.getZoneAtCoord(this._context,i)}static getZoneAtCoord(i,c){const v=i.viewLayout.getWhitespaceAtVerticalOffset(c);if(v){const V=v.verticalOffset+v.height/2,$=i.viewModel.getLineCount();let ce=null,be,Me=null;return v.afterLineNumber!==$&&(Me=new wn.L(v.afterLineNumber+1,1)),v.afterLineNumber>0&&(ce=new wn.L(v.afterLineNumber,i.viewModel.getLineMaxColumn(v.afterLineNumber))),Me===null?be=ce:ce===null?be=Me:c<V?be=ce:be=Me,{viewZoneId:v.id,afterLineNumber:v.afterLineNumber,positionBefore:ce,positionAfter:Me,position:be}}return null}getFullLineRangeAtCoord(i){if(this._context.viewLayout.isAfterLines(i)){const V=this._context.viewModel.getLineCount(),$=this._context.viewModel.getLineMaxColumn(V);return{range:new je.e(V,$,V,$),isAfterLines:!0}}const c=this._context.viewLayout.getLineNumberAtVerticalOffset(i),v=this._context.viewModel.getLineMaxColumn(c);return{range:new je.e(c,1,c,v),isAfterLines:!1}}getLineNumberAtVerticalOffset(i){return this._context.viewLayout.getLineNumberAtVerticalOffset(i)}isAfterLines(i){return this._context.viewLayout.isAfterLines(i)}isInTopPadding(i){return this._context.viewLayout.isInTopPadding(i)}isInBottomPadding(i){return this._context.viewLayout.isInBottomPadding(i)}getVerticalOffsetForLineNumber(i){return this._context.viewLayout.getVerticalOffsetForLineNumber(i)}findAttribute(i,c){return Xt._findAttribute(i,c,this._viewHelper.viewDomNode)}static _findAttribute(i,c,v){for(;i&&i!==document.body;){if(i.hasAttribute&&i.hasAttribute(c))return i.getAttribute(c);if(i===v)return null;i=i.parentNode}return null}getLineWidth(i){return this._viewHelper.getLineWidth(i)}visibleRangeForPosition(i,c){return this._viewHelper.visibleRangeForPosition(i,c)}getPositionFromDOMInfo(i,c){return this._viewHelper.getPositionFromDOMInfo(i,c)}getCurrentScrollTop(){return this._context.viewLayout.getCurrentScrollTop()}getCurrentScrollLeft(){return this._context.viewLayout.getCurrentScrollLeft()}}class mn{constructor(i,c,v,V){this.editorPos=c,this.pos=v,this.relativePos=V,this.mouseVerticalOffset=Math.max(0,i.getCurrentScrollTop()+this.relativePos.y),this.mouseContentHorizontalOffset=i.getCurrentScrollLeft()+this.relativePos.x-i.layoutInfo.contentLeft,this.isInMarginArea=this.relativePos.x<i.layoutInfo.contentLeft&&this.relativePos.x>=i.layoutInfo.glyphMarginLeft,this.isInContentArea=!this.isInMarginArea,this.mouseColumn=Math.max(0,kt._getMouseColumn(this.mouseContentHorizontalOffset,i.typicalHalfwidthCharacterWidth))}}class bn extends mn{constructor(i,c,v,V,$){super(i,c,v,V),this._ctx=i,$?(this.target=$,this.targetPath=Ge.collect($,i.viewDomNode)):(this.target=null,this.targetPath=new Uint8Array(0))}toString(){return`pos(${this.pos.x},${this.pos.y}), editorPos(${this.editorPos.x},${this.editorPos.y}), relativePos(${this.relativePos.x},${this.relativePos.y}), mouseVerticalOffset: ${this.mouseVerticalOffset}, mouseContentHorizontalOffset: ${this.mouseContentHorizontalOffset}
	target: ${this.target?this.target.outerHTML:null}`}_getMouseColumn(i=null){return i&&i.column<this._ctx.viewModel.getLineMaxColumn(i.lineNumber)?qn.i.visibleColumnFromColumn(this._ctx.viewModel.getLineContent(i.lineNumber),i.column,this._ctx.viewModel.model.getOptions().tabSize)+1:this.mouseColumn}fulfillUnknown(i=null){return qe.createUnknown(this.target,this._getMouseColumn(i),i)}fulfillTextarea(){return qe.createTextarea(this.target,this._getMouseColumn())}fulfillMargin(i,c,v,V){return qe.createMargin(i,this.target,this._getMouseColumn(c),c,v,V)}fulfillViewZone(i,c,v){return qe.createViewZone(i,this.target,this._getMouseColumn(c),c,v)}fulfillContentText(i,c,v){return qe.createContentText(this.target,this._getMouseColumn(i),i,c,v)}fulfillContentEmpty(i,c){return qe.createContentEmpty(this.target,this._getMouseColumn(i),i,c)}fulfillContentWidget(i){return qe.createContentWidget(this.target,this._getMouseColumn(),i)}fulfillScrollbar(i){return qe.createScrollbar(this.target,this._getMouseColumn(i),i)}fulfillOverlayWidget(i){return qe.createOverlayWidget(this.target,this._getMouseColumn(),i)}withTarget(i){return new bn(this._ctx,this.editorPos,this.pos,this.relativePos,i)}}const ot={isAfterLines:!0};function Rt(pt){return{isAfterLines:!1,horizontalDistanceToText:pt}}class kt{constructor(i,c){this._context=i,this._viewHelper=c}mouseTargetIsWidget(i){const c=i.target,v=Ge.collect(c,this._viewHelper.viewDomNode);return!!(Wt.isChildOfContentWidgets(v)||Wt.isChildOfOverflowingContentWidgets(v)||Wt.isChildOfOverlayWidgets(v))}createMouseTarget(i,c,v,V,$){const ce=new Xt(this._context,this._viewHelper,i),be=new bn(ce,c,v,V,$);try{return kt._createMouseTarget(ce,be,!1)}catch(Me){return be.fulfillUnknown()}}static _createMouseTarget(i,c,v){if(c.target===null){if(v)return c.fulfillUnknown();const ce=kt._doHitTest(i,c);return ce.type===1?kt.createMouseTargetFromHitTestPosition(i,c,ce.spanNode,ce.position,ce.injectedText):this._createMouseTarget(i,c.withTarget(ce.hitTarget),!0)}const V=c;let $=null;return $=$||kt._hitTestContentWidget(i,V),$=$||kt._hitTestOverlayWidget(i,V),$=$||kt._hitTestMinimap(i,V),$=$||kt._hitTestScrollbarSlider(i,V),$=$||kt._hitTestViewZone(i,V),$=$||kt._hitTestMargin(i,V),$=$||kt._hitTestViewCursor(i,V),$=$||kt._hitTestTextArea(i,V),$=$||kt._hitTestViewLines(i,V,v),$=$||kt._hitTestScrollbar(i,V),$||c.fulfillUnknown()}static _hitTestContentWidget(i,c){if(Wt.isChildOfContentWidgets(c.targetPath)||Wt.isChildOfOverflowingContentWidgets(c.targetPath)){const v=i.findAttribute(c.target,"widgetId");return v?c.fulfillContentWidget(v):c.fulfillUnknown()}return null}static _hitTestOverlayWidget(i,c){if(Wt.isChildOfOverlayWidgets(c.targetPath)){const v=i.findAttribute(c.target,"widgetId");return v?c.fulfillOverlayWidget(v):c.fulfillUnknown()}return null}static _hitTestViewCursor(i,c){if(c.target){const v=i.lastRenderData.lastViewCursorsRenderData;for(const V of v)if(c.target===V.domNode)return c.fulfillContentText(V.position,null,{mightBeForeignElement:!1,injectedText:null})}if(c.isInContentArea){const v=i.lastRenderData.lastViewCursorsRenderData,V=c.mouseContentHorizontalOffset,$=c.mouseVerticalOffset;for(const ce of v){if(V<ce.contentLeft||V>ce.contentLeft+ce.width)continue;const be=i.getVerticalOffsetForLineNumber(ce.position.lineNumber);if(be<=$&&$<=be+ce.height)return c.fulfillContentText(ce.position,null,{mightBeForeignElement:!1,injectedText:null})}}return null}static _hitTestViewZone(i,c){const v=i.getZoneAtCoord(c.mouseVerticalOffset);if(v){const V=c.isInContentArea?8:5;return c.fulfillViewZone(V,v.position,v)}return null}static _hitTestTextArea(i,c){return Wt.isTextArea(c.targetPath)?i.lastRenderData.lastTextareaPosition?c.fulfillContentText(i.lastRenderData.lastTextareaPosition,null,{mightBeForeignElement:!1,injectedText:null}):c.fulfillTextarea():null}static _hitTestMargin(i,c){if(c.isInMarginArea){const v=i.getFullLineRangeAtCoord(c.mouseVerticalOffset),V=v.range.getStartPosition();let $=Math.abs(c.relativePos.x);const ce={isAfterLines:v.isAfterLines,glyphMarginLeft:i.layoutInfo.glyphMarginLeft,glyphMarginWidth:i.layoutInfo.glyphMarginWidth,lineNumbersWidth:i.layoutInfo.lineNumbersWidth,offsetX:$};return $-=i.layoutInfo.glyphMarginLeft,$<=i.layoutInfo.glyphMarginWidth?c.fulfillMargin(2,V,v.range,ce):($-=i.layoutInfo.glyphMarginWidth,$<=i.layoutInfo.lineNumbersWidth?c.fulfillMargin(3,V,v.range,ce):($-=i.layoutInfo.lineNumbersWidth,c.fulfillMargin(4,V,v.range,ce)))}return null}static _hitTestViewLines(i,c,v){if(!Wt.isChildOfViewLines(c.targetPath))return null;if(i.isInTopPadding(c.mouseVerticalOffset))return c.fulfillContentEmpty(new wn.L(1,1),ot);if(i.isAfterLines(c.mouseVerticalOffset)||i.isInBottomPadding(c.mouseVerticalOffset)){const $=i.viewModel.getLineCount(),ce=i.viewModel.getLineMaxColumn($);return c.fulfillContentEmpty(new wn.L($,ce),ot)}if(v){if(Wt.isStrictChildOfViewLines(c.targetPath)){const $=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset);if(i.viewModel.getLineLength($)===0){const be=i.getLineWidth($),Me=Rt(c.mouseContentHorizontalOffset-be);return c.fulfillContentEmpty(new wn.L($,1),Me)}const ce=i.getLineWidth($);if(c.mouseContentHorizontalOffset>=ce){const be=Rt(c.mouseContentHorizontalOffset-ce),Me=new wn.L($,i.viewModel.getLineMaxColumn($));return c.fulfillContentEmpty(Me,be)}}return c.fulfillUnknown()}const V=kt._doHitTest(i,c);return V.type===1?kt.createMouseTargetFromHitTestPosition(i,c,V.spanNode,V.position,V.injectedText):this._createMouseTarget(i,c.withTarget(V.hitTarget),!0)}static _hitTestMinimap(i,c){if(Wt.isChildOfMinimap(c.targetPath)){const v=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),V=i.viewModel.getLineMaxColumn(v);return c.fulfillScrollbar(new wn.L(v,V))}return null}static _hitTestScrollbarSlider(i,c){if(Wt.isChildOfScrollableElement(c.targetPath)&&c.target&&c.target.nodeType===1){const v=c.target.className;if(v&&/\b(slider|scrollbar)\b/.test(v)){const V=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),$=i.viewModel.getLineMaxColumn(V);return c.fulfillScrollbar(new wn.L(V,$))}}return null}static _hitTestScrollbar(i,c){if(Wt.isChildOfScrollableElement(c.targetPath)){const v=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),V=i.viewModel.getLineMaxColumn(v);return c.fulfillScrollbar(new wn.L(v,V))}return null}getMouseColumn(i){const c=this._context.configuration.options,v=c.get(133),V=this._context.viewLayout.getCurrentScrollLeft()+i.x-v.contentLeft;return kt._getMouseColumn(V,c.get(46).typicalHalfwidthCharacterWidth)}static _getMouseColumn(i,c){return i<0?1:Math.round(i/c)+1}static createMouseTargetFromHitTestPosition(i,c,v,V,$){const ce=V.lineNumber,be=V.column,Me=i.getLineWidth(ce);if(c.mouseContentHorizontalOffset>Me){const gn=Rt(c.mouseContentHorizontalOffset-Me);return c.fulfillContentEmpty(V,gn)}const Oe=i.visibleRangeForPosition(ce,be);if(!Oe)return c.fulfillUnknown(V);const Qe=Oe.left;if(c.mouseContentHorizontalOffset===Qe)return c.fulfillContentText(V,null,{mightBeForeignElement:!!$,injectedText:$});const lt=[];if(lt.push({offset:Oe.left,column:be}),be>1){const gn=i.visibleRangeForPosition(ce,be-1);gn&&lt.push({offset:gn.left,column:be-1})}const Nt=i.viewModel.getLineMaxColumn(ce);if(be<Nt){const gn=i.visibleRangeForPosition(ce,be+1);gn&&lt.push({offset:gn.left,column:be+1})}lt.sort((gn,un)=>gn.offset-un.offset);const Dt=c.pos.toClientCoordinates(),Yt=v.getBoundingClientRect(),an=Yt.left<=Dt.clientX&&Dt.clientX<=Yt.right;for(let gn=1;gn<lt.length;gn++){const un=lt[gn-1],zn=lt[gn];if(un.offset<=c.mouseContentHorizontalOffset&&c.mouseContentHorizontalOffset<=zn.offset){const Un=new je.e(ce,un.column,ce,zn.column),Ri=Math.abs(un.offset-c.mouseContentHorizontalOffset),_i=Math.abs(zn.offset-c.mouseContentHorizontalOffset),Vi=Ri<_i?new wn.L(ce,un.column):new wn.L(ce,zn.column);return c.fulfillContentText(Vi,Un,{mightBeForeignElement:!an||!!$,injectedText:$})}}return c.fulfillContentText(V,null,{mightBeForeignElement:!an||!!$,injectedText:$})}static _doHitTestWithCaretRangeFromPoint(i,c){const v=i.getLineNumberAtVerticalOffset(c.mouseVerticalOffset),$=i.getVerticalOffsetForLineNumber(v)+Math.floor(i.lineHeight/2);let ce=c.pos.y+($-c.mouseVerticalOffset);ce<=c.editorPos.y&&(ce=c.editorPos.y+1),ce>=c.editorPos.y+c.editorPos.height&&(ce=c.editorPos.y+c.editorPos.height-1);const be=new ze.YN(c.pos.x,ce),Me=this._actualDoHitTestWithCaretRangeFromPoint(i,be.toClientCoordinates());return Me.type===1?Me:this._actualDoHitTestWithCaretRangeFromPoint(i,c.pos.toClientCoordinates())}static _actualDoHitTestWithCaretRangeFromPoint(i,c){const v=P.Ay(i.viewDomNode);let V;if(v?typeof v.caretRangeFromPoint=="undefined"?V=wt(v,c.clientX,c.clientY):V=v.caretRangeFromPoint(c.clientX,c.clientY):V=document.caretRangeFromPoint(c.clientX,c.clientY),!V||!V.startContainer)return new _e;const $=V.startContainer;if($.nodeType===$.TEXT_NODE){const ce=$.parentNode,be=ce?ce.parentNode:null,Me=be?be.parentNode:null;return(Me&&Me.nodeType===Me.ELEMENT_NODE?Me.className:null)===pn.CLASS_NAME?yt.createFromDOMInfo(i,ce,V.startOffset):new _e($.parentNode)}else if($.nodeType===$.ELEMENT_NODE){const ce=$.parentNode,be=ce?ce.parentNode:null;return(be&&be.nodeType===be.ELEMENT_NODE?be.className:null)===pn.CLASS_NAME?yt.createFromDOMInfo(i,$,$.textContent.length):new _e($)}return new _e}static _doHitTestWithCaretPositionFromPoint(i,c){const v=document.caretPositionFromPoint(c.clientX,c.clientY);if(v.offsetNode.nodeType===v.offsetNode.TEXT_NODE){const V=v.offsetNode.parentNode,$=V?V.parentNode:null,ce=$?$.parentNode:null;return(ce&&ce.nodeType===ce.ELEMENT_NODE?ce.className:null)===pn.CLASS_NAME?yt.createFromDOMInfo(i,v.offsetNode.parentNode,v.offset):new _e(v.offsetNode.parentNode)}if(v.offsetNode.nodeType===v.offsetNode.ELEMENT_NODE){const V=v.offsetNode.parentNode,$=V&&V.nodeType===V.ELEMENT_NODE?V.className:null,ce=V?V.parentNode:null,be=ce&&ce.nodeType===ce.ELEMENT_NODE?ce.className:null;if($===pn.CLASS_NAME){const Me=v.offsetNode.childNodes[Math.min(v.offset,v.offsetNode.childNodes.length-1)];if(Me)return yt.createFromDOMInfo(i,Me,0)}else if(be===pn.CLASS_NAME)return yt.createFromDOMInfo(i,v.offsetNode,0)}return new _e(v.offsetNode)}static _snapToSoftTabBoundary(i,c){const v=c.getLineContent(i.lineNumber),{tabSize:V}=c.model.getOptions(),$=vt.l.atomicPosition(v,i.column-1,V,2);return $!==-1?new wn.L(i.lineNumber,$+1):i}static _doHitTest(i,c){let v=new _e;if(typeof document.caretRangeFromPoint=="function"?v=this._doHitTestWithCaretRangeFromPoint(i,c):document.caretPositionFromPoint&&(v=this._doHitTestWithCaretPositionFromPoint(i,c.pos.toClientCoordinates())),v.type===1){const V=i.viewModel.getInjectedTextAt(v.position),$=i.viewModel.normalizePosition(v.position,2);(V||!$.equals(v.position))&&(v=new ht($,v.spanNode,V))}return v.type===1&&i.stickyTabStops&&(v=new ht(this._snapToSoftTabBoundary(v.position,i.viewModel),v.spanNode,v.injectedText)),v}}function wt(pt,i,c){const v=document.createRange();let V=pt.elementFromPoint(i,c);if(V!==null){for(;V&&V.firstChild&&V.firstChild.nodeType!==V.firstChild.TEXT_NODE&&V.lastChild&&V.lastChild.firstChild;)V=V.lastChild;const $=V.getBoundingClientRect(),ce=window.getComputedStyle(V,null).getPropertyValue("font"),be=V.innerText;let Me=$.left,Oe=0,Qe;if(i>$.left+$.width)Oe=be.length;else{const lt=ln.getInstance();for(let Nt=0;Nt<be.length+1;Nt++){if(Qe=lt.getCharWidth(be.charAt(Nt),ce)/2,Me+=Qe,i<Me){Oe=Nt;break}Me+=Qe}}v.setStart(V.firstChild,Oe),v.setEnd(V.firstChild,Oe)}return v}class ln{constructor(){this._cache={},this._canvas=document.createElement("canvas")}static getInstance(){return ln._INSTANCE||(ln._INSTANCE=new ln),ln._INSTANCE}getCharWidth(i,c){const v=i+c;if(this._cache[v])return this._cache[v];const V=this._canvas.getContext("2d");V.font=c;const ce=V.measureText(i).width;return this._cache[v]=ce,ce}}ln._INSTANCE=null;class _t extends Le{constructor(i,c,v){super(),this._mouseLeaveMonitor=null,this._context=i,this.viewController=c,this.viewHelper=v,this.mouseTargetFactory=new kt(this._context,v),this._mouseDownOperation=this._register(new di(this._context,this.viewController,this.viewHelper,(be,Me)=>this._createMouseTarget(be,Me),be=>this._getMouseColumn(be))),this.lastMouseLeaveTime=-1,this._height=this._context.configuration.options.get(133).height;const V=new ze.N5(this.viewHelper.viewDomNode);this._register(V.onContextMenu(this.viewHelper.viewDomNode,be=>this._onContextMenu(be,!0))),this._register(V.onMouseMove(this.viewHelper.viewDomNode,be=>{this._onMouseMove(be),this._mouseLeaveMonitor||(this._mouseLeaveMonitor=P.nm(document,"mousemove",Me=>{this.viewHelper.viewDomNode.contains(Me.target)||this._onMouseLeave(new ze.gy(Me,!1,this.viewHelper.viewDomNode))}))})),this._register(V.onMouseUp(this.viewHelper.viewDomNode,be=>this._onMouseUp(be))),this._register(V.onMouseLeave(this.viewHelper.viewDomNode,be=>this._onMouseLeave(be)));let $=0;this._register(V.onPointerDown(this.viewHelper.viewDomNode,(be,Me)=>{$=Me})),this._register(P.nm(this.viewHelper.viewDomNode,P.tw.POINTER_UP,be=>{this._mouseDownOperation.onPointerUp()})),this._register(V.onMouseDown(this.viewHelper.viewDomNode,be=>this._onMouseDown(be,$)));const ce=be=>{if(this.viewController.emitMouseWheel(be),!this._context.configuration.options.get(70))return;const Me=new Ke.q(be);if(b.dz?(be.metaKey||be.ctrlKey)&&!be.shiftKey&&!be.altKey:be.ctrlKey&&!be.metaKey&&!be.shiftKey&&!be.altKey){const Qe=te.C.getZoomLevel(),lt=Me.deltaY>0?1:-1;te.C.setZoomLevel(Qe+lt),Me.preventDefault(),Me.stopPropagation()}};this._register(P.nm(this.viewHelper.viewDomNode,P.tw.MOUSE_WHEEL,ce,{capture:!0,passive:!1})),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),super.dispose()}onConfigurationChanged(i){if(i.hasChanged(133)){const c=this._context.configuration.options.get(133).height;this._height!==c&&(this._height=c,this._mouseDownOperation.onHeightChanged())}return!1}onCursorStateChanged(i){return this._mouseDownOperation.onCursorStateChanged(i),!1}onFocusChanged(i){return!1}onScrollChanged(i){return this._mouseDownOperation.onScrollChanged(),!1}getTargetAtClientPoint(i,c){const V=new ze.rU(i,c).toPageCoordinates(),$=(0,ze.kG)(this.viewHelper.viewDomNode);if(V.y<$.y||V.y>$.y+$.height||V.x<$.x||V.x>$.x+$.width)return null;const ce=(0,ze.Pp)(this.viewHelper.viewDomNode,$,V);return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),$,V,ce,null)}_createMouseTarget(i,c){let v=i.target;if(!this.viewHelper.viewDomNode.contains(v)){const V=P.Ay(this.viewHelper.viewDomNode);V&&(v=V.elementsFromPoint(i.posx,i.posy).find($=>this.viewHelper.viewDomNode.contains($)))}return this.mouseTargetFactory.createMouseTarget(this.viewHelper.getLastRenderData(),i.editorPos,i.pos,i.relativePos,c?v:null)}_getMouseColumn(i){return this.mouseTargetFactory.getMouseColumn(i.relativePos)}_onContextMenu(i,c){this.viewController.emitContextMenu({event:i,target:this._createMouseTarget(i,c)})}_onMouseMove(i){this.mouseTargetFactory.mouseTargetIsWidget(i)||i.preventDefault(),!(this._mouseDownOperation.isActive()||i.timestamp<this.lastMouseLeaveTime)&&this.viewController.emitMouseMove({event:i,target:this._createMouseTarget(i,!0)})}_onMouseLeave(i){this._mouseLeaveMonitor&&(this._mouseLeaveMonitor.dispose(),this._mouseLeaveMonitor=null),this.lastMouseLeaveTime=new Date().getTime(),this.viewController.emitMouseLeave({event:i,target:null})}_onMouseUp(i){this.viewController.emitMouseUp({event:i,target:this._createMouseTarget(i,!0)})}_onMouseDown(i,c){const v=this._createMouseTarget(i,!0),V=v.type===6||v.type===7,$=v.type===2||v.type===3||v.type===4,ce=v.type===3,be=this._context.configuration.options.get(100),Me=v.type===8||v.type===5,Oe=v.type===9;let Qe=i.leftButton||i.middleButton;b.dz&&i.leftButton&&i.ctrlKey&&(Qe=!1);const lt=()=>{i.preventDefault(),this.viewHelper.focusTextArea()};if(Qe&&(V||ce&&be))lt(),this._mouseDownOperation.start(v.type,i,c);else if($)i.preventDefault();else if(Me){const Nt=v.detail;Qe&&this.viewHelper.shouldSuppressMouseDownOnViewZone(Nt.viewZoneId)&&(lt(),this._mouseDownOperation.start(v.type,i,c),i.preventDefault())}else Oe&&this.viewHelper.shouldSuppressMouseDownOnWidget(v.detail)&&(lt(),i.preventDefault());this.viewController.emitMouseDown({event:i,target:v})}}class di extends S.JT{constructor(i,c,v,V,$){super(),this._context=i,this._viewController=c,this._viewHelper=v,this._createMouseTarget=V,this._getMouseColumn=$,this._mouseMoveMonitor=this._register(new ze.AL(this._viewHelper.viewDomNode)),this._onScrollTimeout=this._register(new He._F),this._mouseState=new Xn,this._currentSelection=new ke.Y(1,1,1,1),this._isActive=!1,this._lastMouseEvent=null}dispose(){super.dispose()}isActive(){return this._isActive}_onMouseDownThenMove(i){this._lastMouseEvent=i,this._mouseState.setModifiers(i);const c=this._findMousePosition(i,!1);!c||(this._mouseState.isDragAndDrop?this._viewController.emitMouseDrag({event:i,target:c}):this._dispatchMouse(c,!0))}start(i,c,v){this._lastMouseEvent=c,this._mouseState.setStartedOnLineNumbers(i===3),this._mouseState.setStartButtons(c),this._mouseState.setModifiers(c);const V=this._findMousePosition(c,!0);if(!V||!V.position)return;this._mouseState.trySetCount(c.detail,V.position),c.detail=this._mouseState.count;const $=this._context.configuration.options;if(!$.get(83)&&$.get(31)&&!$.get(18)&&!this._mouseState.altKey&&c.detail<2&&!this._isActive&&!this._currentSelection.isEmpty()&&V.type===6&&V.position&&this._currentSelection.containsPosition(V.position)){this._mouseState.isDragAndDrop=!0,this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,v,c.buttons,ce=>this._onMouseDownThenMove(ce),ce=>{const be=this._findMousePosition(this._lastMouseEvent,!1);ce&&ce instanceof KeyboardEvent?this._viewController.emitMouseDropCanceled():this._viewController.emitMouseDrop({event:this._lastMouseEvent,target:be?this._createMouseTarget(this._lastMouseEvent,!0):null}),this._stop()});return}this._mouseState.isDragAndDrop=!1,this._dispatchMouse(V,c.shiftKey),this._isActive||(this._isActive=!0,this._mouseMoveMonitor.startMonitoring(this._viewHelper.viewLinesDomNode,v,c.buttons,ce=>this._onMouseDownThenMove(ce),()=>this._stop()))}_stop(){this._isActive=!1,this._onScrollTimeout.cancel()}onHeightChanged(){this._mouseMoveMonitor.stopMonitoring()}onPointerUp(){this._mouseMoveMonitor.stopMonitoring()}onScrollChanged(){!this._isActive||this._onScrollTimeout.setIfNotSet(()=>{if(!this._lastMouseEvent)return;const i=this._findMousePosition(this._lastMouseEvent,!1);!i||this._mouseState.isDragAndDrop||this._dispatchMouse(i,!0)},10)}onCursorStateChanged(i){this._currentSelection=i.selections[0]}_getPositionOutsideEditor(i){const c=i.editorPos,v=this._context.viewModel,V=this._context.viewLayout,$=this._getMouseColumn(i);if(i.posy<c.y){const be=Math.max(V.getCurrentScrollTop()-(c.y-i.posy),0),Me=Xt.getZoneAtCoord(this._context,be);if(Me){const Qe=this._helpPositionJumpOverViewZone(Me);if(Qe)return qe.createOutsideEditor($,Qe)}const Oe=V.getLineNumberAtVerticalOffset(be);return qe.createOutsideEditor($,new wn.L(Oe,1))}if(i.posy>c.y+c.height){const be=V.getCurrentScrollTop()+i.relativePos.y,Me=Xt.getZoneAtCoord(this._context,be);if(Me){const Qe=this._helpPositionJumpOverViewZone(Me);if(Qe)return qe.createOutsideEditor($,Qe)}const Oe=V.getLineNumberAtVerticalOffset(be);return qe.createOutsideEditor($,new wn.L(Oe,v.getLineMaxColumn(Oe)))}const ce=V.getLineNumberAtVerticalOffset(V.getCurrentScrollTop()+i.relativePos.y);return i.posx<c.x?qe.createOutsideEditor($,new wn.L(ce,1)):i.posx>c.x+c.width?qe.createOutsideEditor($,new wn.L(ce,v.getLineMaxColumn(ce))):null}_findMousePosition(i,c){const v=this._getPositionOutsideEditor(i);if(v)return v;const V=this._createMouseTarget(i,c);if(!V.position)return null;if(V.type===8||V.type===5){const ce=this._helpPositionJumpOverViewZone(V.detail);if(ce)return qe.createViewZone(V.type,V.element,V.mouseColumn,ce,V.detail)}return V}_helpPositionJumpOverViewZone(i){const c=new wn.L(this._currentSelection.selectionStartLineNumber,this._currentSelection.selectionStartColumn),v=i.positionBefore,V=i.positionAfter;return v&&V?v.isBefore(c)?v:V:null}_dispatchMouse(i,c){!i.position||this._viewController.dispatchMouse({position:i.position,mouseColumn:i.mouseColumn,startedOnLineNumbers:this._mouseState.startedOnLineNumbers,inSelectionMode:c,mouseDownCount:this._mouseState.count,altKey:this._mouseState.altKey,ctrlKey:this._mouseState.ctrlKey,metaKey:this._mouseState.metaKey,shiftKey:this._mouseState.shiftKey,leftButton:this._mouseState.leftButton,middleButton:this._mouseState.middleButton,onInjectedText:i.type===6&&i.detail.injectedText!==null})}}class Xn{constructor(){this._altKey=!1,this._ctrlKey=!1,this._metaKey=!1,this._shiftKey=!1,this._leftButton=!1,this._middleButton=!1,this._startedOnLineNumbers=!1,this._lastMouseDownPosition=null,this._lastMouseDownPositionEqualCount=0,this._lastMouseDownCount=0,this._lastSetMouseDownCountTime=0,this.isDragAndDrop=!1}get altKey(){return this._altKey}get ctrlKey(){return this._ctrlKey}get metaKey(){return this._metaKey}get shiftKey(){return this._shiftKey}get leftButton(){return this._leftButton}get middleButton(){return this._middleButton}get startedOnLineNumbers(){return this._startedOnLineNumbers}get count(){return this._lastMouseDownCount}setModifiers(i){this._altKey=i.altKey,this._ctrlKey=i.ctrlKey,this._metaKey=i.metaKey,this._shiftKey=i.shiftKey}setStartButtons(i){this._leftButton=i.leftButton,this._middleButton=i.middleButton}setStartedOnLineNumbers(i){this._startedOnLineNumbers=i}trySetCount(i,c){const v=new Date().getTime();v-this._lastSetMouseDownCountTime>Xn.CLEAR_MOUSE_DOWN_COUNT_TIME&&(i=1),this._lastSetMouseDownCountTime=v,i>this._lastMouseDownCount+1&&(i=this._lastMouseDownCount+1),this._lastMouseDownPosition&&this._lastMouseDownPosition.equals(c)?this._lastMouseDownPositionEqualCount++:this._lastMouseDownPositionEqualCount=1,this._lastMouseDownPosition=c,this._lastMouseDownCount=Math.min(i,this._lastMouseDownPositionEqualCount)}}Xn.CLEAR_MOUSE_DOWN_COUNT_TIME=400;var dn=l(96491),Ve=l(85841);class Ce extends _t{constructor(i,c,v){super(i,c,v),this._register(ut.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(P.nm(this.viewHelper.linesContentDomNode,ut.t.Tap,$=>this.onTap($))),this._register(P.nm(this.viewHelper.linesContentDomNode,ut.t.Change,$=>this.onChange($))),this._register(P.nm(this.viewHelper.linesContentDomNode,ut.t.Contextmenu,$=>this._onContextMenu(new ze.gy($,!1,this.viewHelper.viewDomNode),!1))),this._lastPointerType="mouse",this._register(P.nm(this.viewHelper.linesContentDomNode,"pointerdown",$=>{const ce=$.pointerType;if(ce==="mouse"){this._lastPointerType="mouse";return}else ce==="touch"?this._lastPointerType="touch":this._lastPointerType="pen"}));const V=new ze.tC(this.viewHelper.viewDomNode);this._register(V.onPointerMove(this.viewHelper.viewDomNode,$=>this._onMouseMove($))),this._register(V.onPointerUp(this.viewHelper.viewDomNode,$=>this._onMouseUp($))),this._register(V.onPointerLeave(this.viewHelper.viewDomNode,$=>this._onMouseLeave($))),this._register(V.onPointerDown(this.viewHelper.viewDomNode,($,ce)=>this._onMouseDown($,ce)))}onTap(i){if(!i.initialTarget||!this.viewHelper.linesContentDomNode.contains(i.initialTarget))return;i.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new ze.gy(i,!1,this.viewHelper.viewDomNode),!1);c.position&&this.viewController.dispatchMouse({position:c.position,mouseColumn:c.position.column,startedOnLineNumbers:!1,mouseDownCount:i.tapCount,inSelectionMode:!1,altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1,leftButton:!1,middleButton:!1,onInjectedText:c.type===6&&c.detail.injectedText!==null})}onChange(i){this._lastPointerType==="touch"&&this._context.viewModel.viewLayout.deltaScrollNow(-i.translationX,-i.translationY)}_onMouseDown(i,c){i.browserEvent.pointerType!=="touch"&&super._onMouseDown(i,c)}}class dt extends _t{constructor(i,c,v){super(i,c,v),this._register(ut.o.addTarget(this.viewHelper.linesContentDomNode)),this._register(P.nm(this.viewHelper.linesContentDomNode,ut.t.Tap,V=>this.onTap(V))),this._register(P.nm(this.viewHelper.linesContentDomNode,ut.t.Change,V=>this.onChange(V))),this._register(P.nm(this.viewHelper.linesContentDomNode,ut.t.Contextmenu,V=>this._onContextMenu(new ze.gy(V,!1,this.viewHelper.viewDomNode),!1)))}onTap(i){i.preventDefault(),this.viewHelper.focusTextArea();const c=this._createMouseTarget(new ze.gy(i,!1,this.viewHelper.viewDomNode),!1);if(c.position){const v=document.createEvent("CustomEvent");v.initEvent(Ve.pd.Tap,!1,!0),this.viewHelper.dispatchTextAreaEvent(v),this.viewController.moveTo(c.position)}}onChange(i){this._context.viewModel.viewLayout.deltaScrollNow(-i.translationX,-i.translationY)}}class Qt extends S.JT{constructor(i,c,v){super(),b.gn&&dn.D.pointerEvents?this.handler=this._register(new Ce(i,c,v)):window.TouchEvent?this.handler=this._register(new dt(i,c,v)):this.handler=this._register(new _t(i,c,v))}getTargetAtClientPoint(i,c){return this.handler.getTargetAtClientPoint(i,c)}}var en=l(22297),vn=l(18786),An=l(74209);class On extends Le{}var In=l(66658),Sn=l(16597);class Mn extends On{constructor(i){super(),this._context=i,this._readConfig(),this._lastCursorModelPosition=new wn.L(1,1),this._lastCursorViewPosition=new wn.L(1,1),this._renderResult=null,this._activeLineNumber=1,this._context.addEventHandler(this)}_readConfig(){const i=this._context.configuration.options;this._lineHeight=i.get(61);const c=i.get(62);this._renderLineNumbers=c.renderType,this._renderCustomLineNumbers=c.renderFn,this._renderFinalNewline=i.get(86);const v=i.get(133);this._lineNumbersLeft=v.lineNumbersLeft,this._lineNumbersWidth=v.lineNumbersWidth}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){return this._readConfig(),!0}onCursorStateChanged(i){const c=i.selections[0].getPosition();this._lastCursorViewPosition=c,this._lastCursorModelPosition=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(c);let v=!1;return this._activeLineNumber!==c.lineNumber&&(this._activeLineNumber=c.lineNumber,v=!0),(this._renderLineNumbers===2||this._renderLineNumbers===3)&&(v=!0),v}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getLineRenderLineNumber(i){const c=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new wn.L(i,1));if(c.column!==1)return"";const v=c.lineNumber;return this._renderCustomLineNumbers?this._renderCustomLineNumbers(v):this._renderLineNumbers===3?this._lastCursorModelPosition.lineNumber===v||v%10===0?String(v):"":String(v)}prepareRender(i){if(this._renderLineNumbers===0){this._renderResult=null;return}const c=b.IJ?this._lineHeight%2===0?" lh-even":" lh-odd":"",v=i.visibleRange.startLineNumber,V=i.visibleRange.endLineNumber,$='<div class="'+Mn.CLASS_NAME+c+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">';let ce=null;if(this._renderLineNumbers===2){ce=new Array(V-v+1),this._lastCursorViewPosition.lineNumber>=v&&this._lastCursorViewPosition.lineNumber<=V&&(ce[this._lastCursorViewPosition.lineNumber-v]=this._lastCursorModelPosition.lineNumber);{let Oe=0;for(let Qe=this._lastCursorViewPosition.lineNumber+1;Qe<=V;Qe++){const Nt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new wn.L(Qe,1)).column!==1;Nt||Oe++,Qe>=v&&(ce[Qe-v]=Nt?0:Oe)}}{let Oe=0;for(let Qe=this._lastCursorViewPosition.lineNumber-1;Qe>=v;Qe--){const Nt=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new wn.L(Qe,1)).column!==1;Nt||Oe++,Qe<=V&&(ce[Qe-v]=Nt?0:Oe)}}}const be=this._context.viewModel.getLineCount(),Me=[];for(let Oe=v;Oe<=V;Oe++){const Qe=Oe-v;if(!this._renderFinalNewline&&Oe===be&&this._context.viewModel.getLineLength(Oe)===0){Me[Qe]="";continue}let lt;if(ce){const Nt=ce[Qe];this._lastCursorViewPosition.lineNumber===Oe?lt=`<span class="relative-current-line-number">${Nt}</span>`:Nt?lt=String(Nt):lt=""}else lt=this._getLineRenderLineNumber(Oe);lt?Oe===this._activeLineNumber?Me[Qe]='<div class="active-line-number '+Mn.CLASS_NAME+c+'" style="left:'+this._lineNumbersLeft+"px;width:"+this._lineNumbersWidth+'px;">'+lt+"</div>":Me[Qe]=$+lt+"</div>":Me[Qe]=""}this._renderResult=Me}render(i,c){if(!this._renderResult)return"";const v=c-i;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}Mn.CLASS_NAME="line-numbers",(0,Sn.Ic)((pt,i)=>{const c=pt.getColor(In.hw);c&&i.addRule(`.monaco-editor .line-numbers { color: ${c}; }`);const v=pt.getColor(In.DD);v&&i.addRule(`.monaco-editor .line-numbers.active-line-number { color: ${v}; }`)});class Bn extends Ze{constructor(i){super(i);const c=this._context.configuration.options,v=c.get(133);this._canUseLayerHinting=!c.get(28),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,this._domNode=(0,H.X)(document.createElement("div")),this._domNode.setClassName(Bn.OUTER_CLASS_NAME),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._glyphMarginBackgroundDomNode=(0,H.X)(document.createElement("div")),this._glyphMarginBackgroundDomNode.setClassName(Bn.CLASS_NAME),this._domNode.appendChild(this._glyphMarginBackgroundDomNode)}dispose(){super.dispose()}getDomNode(){return this._domNode}onConfigurationChanged(i){const c=this._context.configuration.options,v=c.get(133);return this._canUseLayerHinting=!c.get(28),this._contentLeft=v.contentLeft,this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollTopChanged}prepareRender(i){}render(i){this._domNode.setLayerHinting(this._canUseLayerHinting),this._domNode.setContain("strict");const c=i.scrollTop-i.bigNumbersDelta;this._domNode.setTop(-c);const v=Math.min(i.scrollHeight,1e6);this._domNode.setHeight(v),this._domNode.setWidth(this._contentLeft),this._glyphMarginBackgroundDomNode.setLeft(this._glyphMarginLeft),this._glyphMarginBackgroundDomNode.setWidth(this._glyphMarginWidth),this._glyphMarginBackgroundDomNode.setHeight(v)}}Bn.CLASS_NAME="glyph-margin",Bn.OUTER_CLASS_NAME="margin";var Jn=l(6669),ai=l(62014),jn=l(51080),Ii=l(15304);class ci{constructor(i,c,v,V,$){this._context=i,this.modelLineNumber=c,this.distanceToModelLineStart=v,this.widthOfHiddenLineTextBefore=V,this.distanceToModelLineEnd=$,this._visibleTextAreaBrand=void 0,this.startPosition=null,this.endPosition=null,this.visibleTextareaStart=null,this.visibleTextareaEnd=null,this._previousPresentation=null}prepareRender(i){const c=new wn.L(this.modelLineNumber,this.distanceToModelLineStart+1),v=new wn.L(this.modelLineNumber,this._context.viewModel.model.getLineMaxColumn(this.modelLineNumber)-this.distanceToModelLineEnd);this.startPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(c),this.endPosition=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(v),this.startPosition.lineNumber===this.endPosition.lineNumber?(this.visibleTextareaStart=i.visibleRangeForPosition(this.startPosition),this.visibleTextareaEnd=i.visibleRangeForPosition(this.endPosition)):(this.visibleTextareaStart=null,this.visibleTextareaEnd=null)}definePresentation(i){return this._previousPresentation||(i?this._previousPresentation=i:this._previousPresentation={foreground:1,italic:!1,bold:!1,underline:!1,strikethrough:!1}),this._previousPresentation}}const oi=y.isFirefox;class wi extends Ze{constructor(i,c,v){super(i),this._primaryCursorPosition=new wn.L(1,1),this._primaryCursorVisibleRange=null,this._viewController=c,this._visibleRangeProvider=v,this._scrollLeft=0,this._scrollTop=0;const V=this._context.configuration.options,$=V.get(133);this._setAccessibilityOptions(V),this._contentLeft=$.contentLeft,this._contentWidth=$.contentWidth,this._contentHeight=$.height,this._fontInfo=V.get(46),this._lineHeight=V.get(61),this._emptySelectionClipboard=V.get(33),this._copyWithSyntaxHighlighting=V.get(21),this._visibleTextArea=null,this._selections=[new ke.Y(1,1,1,1)],this._modelSelections=[new ke.Y(1,1,1,1)],this._lastRenderPosition=null,this.textArea=(0,H.X)(document.createElement("textarea")),Ge.write(this.textArea,6),this.textArea.setClassName(`inputarea ${ai.S}`),this.textArea.setAttribute("wrap","off"),this.textArea.setAttribute("autocorrect","off"),this.textArea.setAttribute("autocapitalize","off"),this.textArea.setAttribute("autocomplete","off"),this.textArea.setAttribute("spellcheck","false"),this.textArea.setAttribute("aria-label",this._getAriaLabel(V)),this.textArea.setAttribute("tabindex",String(V.get(114))),this.textArea.setAttribute("role","textbox"),this.textArea.setAttribute("aria-roledescription",z.NC("editor","editor")),this.textArea.setAttribute("aria-multiline","true"),this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),V.get(30)&&V.get(83)&&this.textArea.setAttribute("readonly","true"),this.textAreaCover=(0,H.X)(document.createElement("div")),this.textAreaCover.setPosition("absolute");const ce={getLineCount:()=>this._context.viewModel.getLineCount(),getLineMaxColumn:Oe=>this._context.viewModel.getLineMaxColumn(Oe),getValueInRange:(Oe,Qe)=>this._context.viewModel.getValueInRange(Oe,Qe)},be={getDataToCopy:()=>{const Oe=this._context.viewModel.getPlainTextToCopy(this._modelSelections,this._emptySelectionClipboard,b.ED),Qe=this._context.viewModel.model.getEOL(),lt=this._emptySelectionClipboard&&this._modelSelections.length===1&&this._modelSelections[0].isEmpty(),Nt=Array.isArray(Oe)?Oe:null,Dt=Array.isArray(Oe)?Oe.join(Qe):Oe;let Yt,an=null;if(Ve.RA.forceCopyWithSyntaxHighlighting||this._copyWithSyntaxHighlighting&&Dt.length<65536){const gn=this._context.viewModel.getRichTextToCopy(this._modelSelections,this._emptySelectionClipboard);gn&&(Yt=gn.html,an=gn.mode)}return{isFromEmptySelection:lt,multicursorText:Nt,text:Dt,html:Yt,mode:an}},getScreenReaderContent:Oe=>{if(this._accessibilitySupport===1){const Qe=this._selections[0];if(b.dz&&Qe.isEmpty()){const lt=Qe.getStartPosition();let Nt=this._getWordBeforePosition(lt);if(Nt.length===0&&(Nt=this._getCharacterBeforePosition(lt)),Nt.length>0)return new An.un(Nt,Nt.length,Nt.length,lt,lt)}if(y.isSafari&&!Qe.isEmpty()){const lt="vscode-placeholder";return new An.un(lt,0,lt.length,null,null)}return An.un.EMPTY}if(y.isAndroid){const Qe=this._selections[0];if(Qe.isEmpty()){const lt=Qe.getStartPosition(),[Nt,Dt]=this._getAndroidWordAtPosition(lt);if(Nt.length>0)return new An.un(Nt,Dt,Dt,lt,lt)}return An.un.EMPTY}return An.ee.fromEditorSelection(Oe,ce,this._selections[0],this._accessibilityPageSize,this._accessibilitySupport===0)},deduceModelPosition:(Oe,Qe,lt)=>this._context.viewModel.deduceModelPositionRelativeToViewPosition(Oe,Qe,lt)},Me=this._register(new Ve.Tj(this.textArea.domNode));this._textAreaInput=this._register(new Ve.Fz(be,Me,b.OS,y)),this._register(this._textAreaInput.onKeyDown(Oe=>{this._viewController.emitKeyDown(Oe)})),this._register(this._textAreaInput.onKeyUp(Oe=>{this._viewController.emitKeyUp(Oe)})),this._register(this._textAreaInput.onPaste(Oe=>{let Qe=!1,lt=null,Nt=null;Oe.metadata&&(Qe=this._emptySelectionClipboard&&!!Oe.metadata.isFromEmptySelection,lt=typeof Oe.metadata.multicursorText!="undefined"?Oe.metadata.multicursorText:null,Nt=Oe.metadata.mode),this._viewController.paste(Oe.text,Qe,lt,Nt)})),this._register(this._textAreaInput.onCut(()=>{this._viewController.cut()})),this._register(this._textAreaInput.onType(Oe=>{Oe.replacePrevCharCnt||Oe.replaceNextCharCnt||Oe.positionDelta?(An.al&&console.log(` => compositionType: <<${Oe.text}>>, ${Oe.replacePrevCharCnt}, ${Oe.replaceNextCharCnt}, ${Oe.positionDelta}`),this._viewController.compositionType(Oe.text,Oe.replacePrevCharCnt,Oe.replaceNextCharCnt,Oe.positionDelta)):(An.al&&console.log(` => type: <<${Oe.text}>>`),this._viewController.type(Oe.text))})),this._register(this._textAreaInput.onSelectionChangeRequest(Oe=>{this._viewController.setSelection(Oe)})),this._register(this._textAreaInput.onCompositionStart(Oe=>{const Qe=this.textArea.domNode,lt=this._modelSelections[0],{distanceToModelLineStart:Nt,widthOfHiddenTextBefore:Dt}=(()=>{const an=Qe.value.substring(0,Math.min(Qe.selectionStart,Qe.selectionEnd)),gn=an.lastIndexOf(`
`),un=an.substring(gn+1),zn=un.lastIndexOf("	"),Un=un.length-zn-1,Ri=lt.getStartPosition(),_i=Math.min(Ri.column-1,Un),Vi=Ri.column-1-_i,Fi=un.substring(0,un.length-_i),pi=Li(Fi,this._fontInfo);return{distanceToModelLineStart:Vi,widthOfHiddenTextBefore:pi}})(),{distanceToModelLineEnd:Yt}=(()=>{const an=Qe.value.substring(Math.max(Qe.selectionStart,Qe.selectionEnd)),gn=an.indexOf(`
`),un=gn===-1?an:an.substring(0,gn),zn=un.indexOf("	"),Un=zn===-1?un.length:un.length-zn-1,Ri=lt.getEndPosition(),_i=Math.min(this._context.viewModel.model.getLineMaxColumn(Ri.lineNumber)-Ri.column,Un);return{distanceToModelLineEnd:this._context.viewModel.model.getLineMaxColumn(Ri.lineNumber)-Ri.column-_i}})();this._context.viewModel.revealRange("keyboard",!0,je.e.fromPositions(this._selections[0].getStartPosition()),0,1),this._visibleTextArea=new ci(this._context,lt.startLineNumber,Nt,Dt,Yt),this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render(),this.textArea.setClassName(`inputarea ${ai.S} ime-input`),this._viewController.compositionStart(),this._context.viewModel.onCompositionStart()})),this._register(this._textAreaInput.onCompositionUpdate(Oe=>{!this._visibleTextArea||(this._visibleTextArea.prepareRender(this._visibleRangeProvider),this._render())})),this._register(this._textAreaInput.onCompositionEnd(()=>{this._visibleTextArea=null,this._render(),this.textArea.setClassName(`inputarea ${ai.S}`),this._viewController.compositionEnd(),this._context.viewModel.onCompositionEnd()})),this._register(this._textAreaInput.onFocus(()=>{this._context.viewModel.setHasFocus(!0)})),this._register(this._textAreaInput.onBlur(()=>{this._context.viewModel.setHasFocus(!1)}))}dispose(){super.dispose()}_getAndroidWordAtPosition(i){const c='`~!@#$%^&*()-=+[{]}\\|;:",.<>/?',v=this._context.viewModel.getLineContent(i.lineNumber),V=(0,Jn.u)(c);let $=!0,ce=i.column,be=!0,Me=i.column,Oe=0;for(;Oe<50&&($||be);){if($&&ce<=1&&($=!1),$){const Qe=v.charCodeAt(ce-2);V.get(Qe)!==0?$=!1:ce--}if(be&&Me>v.length&&(be=!1),be){const Qe=v.charCodeAt(Me-1);V.get(Qe)!==0?be=!1:Me++}Oe++}return[v.substring(ce-1,Me-1),i.column-ce]}_getWordBeforePosition(i){const c=this._context.viewModel.getLineContent(i.lineNumber),v=(0,Jn.u)(this._context.configuration.options.get(119));let V=i.column,$=0;for(;V>1;){const ce=c.charCodeAt(V-2);if(v.get(ce)!==0||$>50)return c.substring(V-1,i.column-1);$++,V--}return c.substring(0,i.column-1)}_getCharacterBeforePosition(i){if(i.column>1){const v=this._context.viewModel.getLineContent(i.lineNumber).charAt(i.column-2);if(!en.ZG(v.charCodeAt(0)))return v}return""}_getAriaLabel(i){return i.get(2)===1?z.NC("accessibilityOffAriaLabel","The editor is not accessible at this time. Press {0} for options.",b.IJ?"Shift+Alt+F1":"Alt+F1"):i.get(4)}_setAccessibilityOptions(i){this._accessibilitySupport=i.get(2);const c=i.get(3);this._accessibilitySupport===2&&c===Z.BH.accessibilityPageSize.defaultValue?this._accessibilityPageSize=500:this._accessibilityPageSize=c}onConfigurationChanged(i){const c=this._context.configuration.options,v=c.get(133);return this._setAccessibilityOptions(c),this._contentLeft=v.contentLeft,this._contentWidth=v.contentWidth,this._contentHeight=v.height,this._fontInfo=c.get(46),this._lineHeight=c.get(61),this._emptySelectionClipboard=c.get(33),this._copyWithSyntaxHighlighting=c.get(21),this.textArea.setAttribute("aria-label",this._getAriaLabel(c)),this.textArea.setAttribute("tabindex",String(c.get(114))),(i.hasChanged(30)||i.hasChanged(83))&&(c.get(30)&&c.get(83)?this.textArea.setAttribute("readonly","true"):this.textArea.removeAttribute("readonly")),i.hasChanged(2)&&this._textAreaInput.writeScreenReaderContent("strategy changed"),!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),this._modelSelections=i.modelSelections.slice(0),this._textAreaInput.writeScreenReaderContent("selection changed"),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return this._scrollLeft=i.scrollLeft,this._scrollTop=i.scrollTop,!0}onZonesChanged(i){return!0}isFocused(){return this._textAreaInput.isFocused()}focusTextArea(){this._textAreaInput.focusTextArea()}getLastRenderData(){return this._lastRenderPosition}setAriaOptions(i){i.activeDescendant?(this.textArea.setAttribute("aria-haspopup","true"),this.textArea.setAttribute("aria-autocomplete","list"),this.textArea.setAttribute("aria-activedescendant",i.activeDescendant)):(this.textArea.setAttribute("aria-haspopup","false"),this.textArea.setAttribute("aria-autocomplete","both"),this.textArea.removeAttribute("aria-activedescendant")),i.role&&this.textArea.setAttribute("role",i.role)}prepareRender(i){var c;this._primaryCursorPosition=new wn.L(this._selections[0].positionLineNumber,this._selections[0].positionColumn),this._primaryCursorVisibleRange=i.visibleRangeForPosition(this._primaryCursorPosition),(c=this._visibleTextArea)===null||c===void 0||c.prepareRender(i)}render(i){this._textAreaInput.writeScreenReaderContent("render"),this._render()}_render(){if(this._visibleTextArea){const v=this._visibleTextArea.visibleTextareaStart,V=this._visibleTextArea.visibleTextareaEnd,$=this._visibleTextArea.startPosition,ce=this._visibleTextArea.endPosition;if($&&ce&&v&&V&&V.left>=this._scrollLeft&&v.left<=this._scrollLeft+this._contentWidth){const be=this._context.viewLayout.getVerticalOffsetForLineNumber(this._primaryCursorPosition.lineNumber)-this._scrollTop,Me=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));let Oe=this._visibleTextArea.widthOfHiddenLineTextBefore,Qe=this._contentLeft+v.left-this._scrollLeft,lt=V.left-v.left+1;if(Qe<this._contentLeft){const un=this._contentLeft-Qe;Qe+=un,Oe+=un,lt-=un}lt>this._contentWidth&&(lt=this._contentWidth);const Nt=this._context.viewModel.getViewLineData($.lineNumber),Dt=Nt.tokens.findTokenIndexAtOffset($.column-1),Yt=Nt.tokens.findTokenIndexAtOffset(ce.column-1),an=Dt===Yt,gn=this._visibleTextArea.definePresentation(an?Nt.tokens.getPresentation(Dt):null);this.textArea.domNode.scrollTop=Me*this._lineHeight,this.textArea.domNode.scrollLeft=Oe,this._doRender({lastRenderPosition:null,top:be,left:Qe,width:lt,height:this._lineHeight,useCover:!1,color:(jn.RW.getColorMap()||[])[gn.foreground],italic:gn.italic,bold:gn.bold,underline:gn.underline,strikethrough:gn.strikethrough})}return}if(!this._primaryCursorVisibleRange){this._renderAtTopLeft();return}const i=this._contentLeft+this._primaryCursorVisibleRange.left-this._scrollLeft;if(i<this._contentLeft||i>this._contentLeft+this._contentWidth){this._renderAtTopLeft();return}const c=this._context.viewLayout.getVerticalOffsetForLineNumber(this._selections[0].positionLineNumber)-this._scrollTop;if(c<0||c>this._contentHeight){this._renderAtTopLeft();return}if(b.dz){this._doRender({lastRenderPosition:this._primaryCursorPosition,top:c,left:i,width:oi?0:1,height:this._lineHeight,useCover:!1}),this.textArea.domNode.scrollLeft=this._primaryCursorVisibleRange.left;const v=this._newlinecount(this.textArea.domNode.value.substr(0,this.textArea.domNode.selectionStart));this.textArea.domNode.scrollTop=v*this._lineHeight;return}this._doRender({lastRenderPosition:this._primaryCursorPosition,top:c,left:i,width:oi?0:1,height:oi?0:1,useCover:!1})}_newlinecount(i){let c=0,v=-1;do{if(v=i.indexOf(`
`,v+1),v===-1)break;c++}while(!0);return c}_renderAtTopLeft(){this._doRender({lastRenderPosition:null,top:0,left:0,width:oi?0:1,height:oi?0:1,useCover:!0})}_doRender(i){this._lastRenderPosition=i.lastRenderPosition;const c=this.textArea,v=this.textAreaCover;(0,vn.N)(c,this._fontInfo),c.setTop(i.top),c.setLeft(i.left),c.setWidth(i.width),c.setHeight(i.height),c.setColor(i.color?Ii.Il.Format.CSS.formatHex(i.color):""),c.setFontStyle(i.italic?"italic":""),i.bold&&c.setFontWeight("bold"),c.setTextDecoration(`${i.underline?" underline":""}${i.strikethrough?" line-through":""}`),v.setTop(i.useCover?i.top:0),v.setLeft(i.useCover?i.left:0),v.setWidth(i.useCover?i.width:0),v.setHeight(i.useCover?i.height:0);const V=this._context.configuration.options;V.get(52)?v.setClassName("monaco-editor-background textAreaCover "+Bn.OUTER_CLASS_NAME):V.get(62).renderType!==0?v.setClassName("monaco-editor-background textAreaCover "+Mn.CLASS_NAME):v.setClassName("monaco-editor-background textAreaCover")}}function Li(pt,i){if(pt.length===0)return 0;const c=document.createElement("div");c.style.position="absolute",c.style.top="-50000px",c.style.width="50000px";const v=document.createElement("span");(0,vn.N)(v,i),v.style.whiteSpace="pre",v.append(pt),c.appendChild(v),document.body.appendChild(c);const V=v.offsetWidth;return document.body.removeChild(c),V}var kn=l(76652);class vi{constructor(i,c,v,V){this.configuration=i,this.viewModel=c,this.userInputEvents=v,this.commandDelegate=V}paste(i,c,v,V){this.commandDelegate.paste(i,c,v,V)}type(i){this.commandDelegate.type(i)}compositionType(i,c,v,V){this.commandDelegate.compositionType(i,c,v,V)}compositionStart(){this.commandDelegate.startComposition()}compositionEnd(){this.commandDelegate.endComposition()}cut(){this.commandDelegate.cut()}setSelection(i){kn.Ox.SetSelection.runCoreEditorCommand(this.viewModel,{source:"keyboard",selection:i})}_validateViewColumn(i){const c=this.viewModel.getLineMinColumn(i.lineNumber);return i.column<c?new wn.L(i.lineNumber,c):i}_hasMulticursorModifier(i){switch(this.configuration.options.get(72)){case"altKey":return i.altKey;case"ctrlKey":return i.ctrlKey;case"metaKey":return i.metaKey;default:return!1}}_hasNonMulticursorModifier(i){switch(this.configuration.options.get(72)){case"altKey":return i.ctrlKey||i.metaKey;case"ctrlKey":return i.altKey||i.metaKey;case"metaKey":return i.ctrlKey||i.altKey;default:return!1}}dispatchMouse(i){const c=this.configuration.options,v=b.IJ&&c.get(98),V=c.get(18);i.middleButton&&!v?this._columnSelect(i.position,i.mouseColumn,i.inSelectionMode):i.startedOnLineNumbers?this._hasMulticursorModifier(i)?i.inSelectionMode?this._lastCursorLineSelect(i.position):this._createCursor(i.position,!0):i.inSelectionMode?this._lineSelectDrag(i.position):this._lineSelect(i.position):i.mouseDownCount>=4?this._selectAll():i.mouseDownCount===3?this._hasMulticursorModifier(i)?i.inSelectionMode?this._lastCursorLineSelectDrag(i.position):this._lastCursorLineSelect(i.position):i.inSelectionMode?this._lineSelectDrag(i.position):this._lineSelect(i.position):i.mouseDownCount===2?i.onInjectedText||(this._hasMulticursorModifier(i)?this._lastCursorWordSelect(i.position):i.inSelectionMode?this._wordSelectDrag(i.position):this._wordSelect(i.position)):this._hasMulticursorModifier(i)?this._hasNonMulticursorModifier(i)||(i.shiftKey?this._columnSelect(i.position,i.mouseColumn,!0):i.inSelectionMode?this._lastCursorMoveToSelect(i.position):this._createCursor(i.position,!1)):i.inSelectionMode?i.altKey?this._columnSelect(i.position,i.mouseColumn,!0):V?this._columnSelect(i.position,i.mouseColumn,!0):this._moveToSelect(i.position):this.moveTo(i.position)}_usualArgs(i){return i=this._validateViewColumn(i),{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i}}moveTo(i){kn.Ox.MoveTo.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_moveToSelect(i){kn.Ox.MoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_columnSelect(i,c,v){i=this._validateViewColumn(i),kn.Ox.ColumnSelect.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i,mouseColumn:c,doColumnSelect:v})}_createCursor(i,c){i=this._validateViewColumn(i),kn.Ox.CreateCursor.runCoreEditorCommand(this.viewModel,{source:"mouse",position:this._convertViewToModelPosition(i),viewPosition:i,wholeLine:c})}_lastCursorMoveToSelect(i){kn.Ox.LastCursorMoveToSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_wordSelect(i){kn.Ox.WordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_wordSelectDrag(i){kn.Ox.WordSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lastCursorWordSelect(i){kn.Ox.LastCursorWordSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lineSelect(i){kn.Ox.LineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lineSelectDrag(i){kn.Ox.LineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lastCursorLineSelect(i){kn.Ox.LastCursorLineSelect.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_lastCursorLineSelectDrag(i){kn.Ox.LastCursorLineSelectDrag.runCoreEditorCommand(this.viewModel,this._usualArgs(i))}_selectAll(){kn.Ox.SelectAll.runCoreEditorCommand(this.viewModel,{source:"mouse"})}_convertViewToModelPosition(i){return this.viewModel.coordinatesConverter.convertViewPositionToModelPosition(i)}emitKeyDown(i){this.userInputEvents.emitKeyDown(i)}emitKeyUp(i){this.userInputEvents.emitKeyUp(i)}emitContextMenu(i){this.userInputEvents.emitContextMenu(i)}emitMouseMove(i){this.userInputEvents.emitMouseMove(i)}emitMouseLeave(i){this.userInputEvents.emitMouseLeave(i)}emitMouseUp(i){this.userInputEvents.emitMouseUp(i)}emitMouseDown(i){this.userInputEvents.emitMouseDown(i)}emitMouseDrag(i){this.userInputEvents.emitMouseDrag(i)}emitMouseDrop(i){this.userInputEvents.emitMouseDrop(i)}emitMouseDropCanceled(){this.userInputEvents.emitMouseDropCanceled()}emitMouseWheel(i){this.userInputEvents.emitMouseWheel(i)}}class Si{constructor(i){this.onKeyDown=null,this.onKeyUp=null,this.onContextMenu=null,this.onMouseMove=null,this.onMouseLeave=null,this.onMouseDown=null,this.onMouseUp=null,this.onMouseDrag=null,this.onMouseDrop=null,this.onMouseDropCanceled=null,this.onMouseWheel=null,this._coordinatesConverter=i}emitKeyDown(i){var c;(c=this.onKeyDown)===null||c===void 0||c.call(this,i)}emitKeyUp(i){var c;(c=this.onKeyUp)===null||c===void 0||c.call(this,i)}emitContextMenu(i){var c;(c=this.onContextMenu)===null||c===void 0||c.call(this,this._convertViewToModelMouseEvent(i))}emitMouseMove(i){var c;(c=this.onMouseMove)===null||c===void 0||c.call(this,this._convertViewToModelMouseEvent(i))}emitMouseLeave(i){var c;(c=this.onMouseLeave)===null||c===void 0||c.call(this,this._convertViewToModelMouseEvent(i))}emitMouseDown(i){var c;(c=this.onMouseDown)===null||c===void 0||c.call(this,this._convertViewToModelMouseEvent(i))}emitMouseUp(i){var c;(c=this.onMouseUp)===null||c===void 0||c.call(this,this._convertViewToModelMouseEvent(i))}emitMouseDrag(i){var c;(c=this.onMouseDrag)===null||c===void 0||c.call(this,this._convertViewToModelMouseEvent(i))}emitMouseDrop(i){var c;(c=this.onMouseDrop)===null||c===void 0||c.call(this,this._convertViewToModelMouseEvent(i))}emitMouseDropCanceled(){var i;(i=this.onMouseDropCanceled)===null||i===void 0||i.call(this)}emitMouseWheel(i){var c;(c=this.onMouseWheel)===null||c===void 0||c.call(this,i)}_convertViewToModelMouseEvent(i){return i.target?{event:i.event,target:this._convertViewToModelMouseTarget(i.target)}:i}_convertViewToModelMouseTarget(i){return Si.convertViewToModelMouseTarget(i,this._coordinatesConverter)}static convertViewToModelMouseTarget(i,c){const v=Object.assign({},i);return v.position&&(v.position=c.convertViewPositionToModelPosition(v.position)),v.range&&(v.range=c.convertViewRangeToModelRange(v.range)),v}}var Ye=l(10501),Tt;class nn{constructor(i){this._createLine=i,this._set(1,[])}flush(){this._set(1,[])}_set(i,c){this._lines=c,this._rendLineNumberStart=i}_get(){return{rendLineNumberStart:this._rendLineNumberStart,lines:this._lines}}getStartLineNumber(){return this._rendLineNumberStart}getEndLineNumber(){return this._rendLineNumberStart+this._lines.length-1}getCount(){return this._lines.length}getLine(i){const c=i-this._rendLineNumberStart;if(c<0||c>=this._lines.length)throw new Error("Illegal value for lineNumber");return this._lines[c]}onLinesDeleted(i,c){if(this.getCount()===0)return null;const v=this.getStartLineNumber(),V=this.getEndLineNumber();if(c<v){const Me=c-i+1;return this._rendLineNumberStart-=Me,null}if(i>V)return null;let $=0,ce=0;for(let Me=v;Me<=V;Me++){const Oe=Me-this._rendLineNumberStart;i<=Me&&Me<=c&&(ce===0?($=Oe,ce=1):ce++)}if(i<v){let Me=0;c<v?Me=c-i+1:Me=v-i,this._rendLineNumberStart-=Me}return this._lines.splice($,ce)}onLinesChanged(i,c){const v=i+c-1;if(this.getCount()===0)return!1;const V=this.getStartLineNumber(),$=this.getEndLineNumber();let ce=!1;for(let be=i;be<=v;be++)be>=V&&be<=$&&(this._lines[be-this._rendLineNumberStart].onContentChanged(),ce=!0);return ce}onLinesInserted(i,c){if(this.getCount()===0)return null;const v=c-i+1,V=this.getStartLineNumber(),$=this.getEndLineNumber();if(i<=V)return this._rendLineNumberStart+=v,null;if(i>$)return null;if(v+i>$)return this._lines.splice(i-this._rendLineNumberStart,$-i+1);const ce=[];for(let lt=0;lt<v;lt++)ce[lt]=this._createLine();const be=i-this._rendLineNumberStart,Me=this._lines.slice(0,be),Oe=this._lines.slice(be,this._lines.length-v),Qe=this._lines.slice(this._lines.length-v,this._lines.length);return this._lines=Me.concat(ce).concat(Oe),Qe}onTokensChanged(i){if(this.getCount()===0)return!1;const c=this.getStartLineNumber(),v=this.getEndLineNumber();let V=!1;for(let $=0,ce=i.length;$<ce;$++){const be=i[$];if(be.toLineNumber<c||be.fromLineNumber>v)continue;const Me=Math.max(c,be.fromLineNumber),Oe=Math.min(v,be.toLineNumber);for(let Qe=Me;Qe<=Oe;Qe++){const lt=Qe-this._rendLineNumberStart;this._lines[lt].onTokensChanged(),V=!0}}return V}}class hn{constructor(i){this._host=i,this.domNode=this._createDomNode(),this._linesCollection=new nn(()=>this._host.createVisibleLine())}_createDomNode(){const i=(0,H.X)(document.createElement("div"));return i.setClassName("view-layer"),i.setPosition("absolute"),i.domNode.setAttribute("role","presentation"),i.domNode.setAttribute("aria-hidden","true"),i}onConfigurationChanged(i){return!!i.hasChanged(133)}onFlushed(i){return this._linesCollection.flush(),!0}onLinesChanged(i){return this._linesCollection.onLinesChanged(i.fromLineNumber,i.count)}onLinesDeleted(i){const c=this._linesCollection.onLinesDeleted(i.fromLineNumber,i.toLineNumber);if(c)for(let v=0,V=c.length;v<V;v++){const $=c[v].getDomNode();$&&this.domNode.domNode.removeChild($)}return!0}onLinesInserted(i){const c=this._linesCollection.onLinesInserted(i.fromLineNumber,i.toLineNumber);if(c)for(let v=0,V=c.length;v<V;v++){const $=c[v].getDomNode();$&&this.domNode.domNode.removeChild($)}return!0}onScrollChanged(i){return i.scrollTopChanged}onTokensChanged(i){return this._linesCollection.onTokensChanged(i.ranges)}onZonesChanged(i){return!0}getStartLineNumber(){return this._linesCollection.getStartLineNumber()}getEndLineNumber(){return this._linesCollection.getEndLineNumber()}getVisibleLine(i){return this._linesCollection.getLine(i)}renderLines(i){const c=this._linesCollection._get(),v=new Vn(this.domNode.domNode,this._host,i),V={rendLineNumberStart:c.rendLineNumberStart,lines:c.lines,linesLength:c.lines.length},$=v.render(V,i.startLineNumber,i.endLineNumber,i.relativeVerticalOffset);this._linesCollection._set($.rendLineNumberStart,$.lines)}}class Vn{constructor(i,c,v){this.domNode=i,this.host=c,this.viewportData=v}render(i,c,v,V){const $={rendLineNumberStart:i.rendLineNumberStart,lines:i.lines.slice(0),linesLength:i.linesLength};if($.rendLineNumberStart+$.linesLength-1<c||v<$.rendLineNumberStart){$.rendLineNumberStart=c,$.linesLength=v-c+1,$.lines=[];for(let ce=c;ce<=v;ce++)$.lines[ce-c]=this.host.createVisibleLine();return this._finishRendering($,!0,V),$}if(this._renderUntouchedLines($,Math.max(c-$.rendLineNumberStart,0),Math.min(v-$.rendLineNumberStart,$.linesLength-1),V,c),$.rendLineNumberStart>c){const ce=c,be=Math.min(v,$.rendLineNumberStart-1);ce<=be&&(this._insertLinesBefore($,ce,be,V,c),$.linesLength+=be-ce+1)}else if($.rendLineNumberStart<c){const ce=Math.min($.linesLength,c-$.rendLineNumberStart);ce>0&&(this._removeLinesBefore($,ce),$.linesLength-=ce)}if($.rendLineNumberStart=c,$.rendLineNumberStart+$.linesLength-1<v){const ce=$.rendLineNumberStart+$.linesLength,be=v;ce<=be&&(this._insertLinesAfter($,ce,be,V,c),$.linesLength+=be-ce+1)}else if($.rendLineNumberStart+$.linesLength-1>v){const ce=Math.max(0,v-$.rendLineNumberStart+1),Me=$.linesLength-1-ce+1;Me>0&&(this._removeLinesAfter($,Me),$.linesLength-=Me)}return this._finishRendering($,!1,V),$}_renderUntouchedLines(i,c,v,V,$){const ce=i.rendLineNumberStart,be=i.lines;for(let Me=c;Me<=v;Me++){const Oe=ce+Me;be[Me].layoutLine(Oe,V[Oe-$])}}_insertLinesBefore(i,c,v,V,$){const ce=[];let be=0;for(let Me=c;Me<=v;Me++)ce[be++]=this.host.createVisibleLine();i.lines=ce.concat(i.lines)}_removeLinesBefore(i,c){for(let v=0;v<c;v++){const V=i.lines[v].getDomNode();V&&this.domNode.removeChild(V)}i.lines.splice(0,c)}_insertLinesAfter(i,c,v,V,$){const ce=[];let be=0;for(let Me=c;Me<=v;Me++)ce[be++]=this.host.createVisibleLine();i.lines=i.lines.concat(ce)}_removeLinesAfter(i,c){const v=i.linesLength-c;for(let V=0;V<c;V++){const $=i.lines[v+V].getDomNode();$&&this.domNode.removeChild($)}i.lines.splice(v,c)}_finishRenderingNewLines(i,c,v,V){Vn._ttPolicy&&(v=Vn._ttPolicy.createHTML(v));const $=this.domNode.lastChild;c||!$?this.domNode.innerHTML=v:$.insertAdjacentHTML("afterend",v);let ce=this.domNode.lastChild;for(let be=i.linesLength-1;be>=0;be--){const Me=i.lines[be];V[be]&&(Me.setDomNode(ce),ce=ce.previousSibling)}}_finishRenderingInvalidLines(i,c,v){const V=document.createElement("div");Vn._ttPolicy&&(c=Vn._ttPolicy.createHTML(c)),V.innerHTML=c;for(let $=0;$<i.linesLength;$++){const ce=i.lines[$];if(v[$]){const be=V.firstChild,Me=ce.getDomNode();Me.parentNode.replaceChild(be,Me),ce.setDomNode(be)}}}_finishRendering(i,c,v){const V=Vn._sb,$=i.linesLength,ce=i.lines,be=i.rendLineNumberStart,Me=[];{V.reset();let Oe=!1;for(let Qe=0;Qe<$;Qe++){const lt=ce[Qe];Me[Qe]=!1,!(lt.getDomNode()||!lt.renderLine(Qe+be,v[Qe],this.viewportData,V))&&(Me[Qe]=!0,Oe=!0)}Oe&&this._finishRenderingNewLines(i,c,V.build(),Me)}{V.reset();let Oe=!1;const Qe=[];for(let lt=0;lt<$;lt++){const Nt=ce[lt];Qe[lt]=!1,!(Me[lt]||!Nt.renderLine(lt+be,v[lt],this.viewportData,V))&&(Qe[lt]=!0,Oe=!0)}Oe&&this._finishRenderingInvalidLines(i,V.build(),Qe)}}}Vn._ttPolicy=(Tt=window.trustedTypes)===null||Tt===void 0?void 0:Tt.createPolicy("editorViewLayer",{createHTML:pt=>pt}),Vn._sb=(0,Ye.l$)(1e5);class Hn extends Ze{constructor(i){super(i),this._visibleLines=new hn(this),this.domNode=this._visibleLines.domNode,this._dynamicOverlays=[],this._isFocused=!1,this.domNode.setClassName("view-overlays")}shouldRender(){if(super.shouldRender())return!0;for(let i=0,c=this._dynamicOverlays.length;i<c;i++)if(this._dynamicOverlays[i].shouldRender())return!0;return!1}dispose(){super.dispose();for(let i=0,c=this._dynamicOverlays.length;i<c;i++)this._dynamicOverlays[i].dispose();this._dynamicOverlays=[]}getDomNode(){return this.domNode}createVisibleLine(){return new Ci(this._context.configuration,this._dynamicOverlays)}addDynamicOverlay(i){this._dynamicOverlays.push(i)}onConfigurationChanged(i){this._visibleLines.onConfigurationChanged(i);const c=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();for(let V=c;V<=v;V++)this._visibleLines.getVisibleLine(V).onConfigurationChanged(i);return!0}onFlushed(i){return this._visibleLines.onFlushed(i)}onFocusChanged(i){return this._isFocused=i.isFocused,!0}onLinesChanged(i){return this._visibleLines.onLinesChanged(i)}onLinesDeleted(i){return this._visibleLines.onLinesDeleted(i)}onLinesInserted(i){return this._visibleLines.onLinesInserted(i)}onScrollChanged(i){return this._visibleLines.onScrollChanged(i)||!0}onTokensChanged(i){return this._visibleLines.onTokensChanged(i)}onZonesChanged(i){return this._visibleLines.onZonesChanged(i)}prepareRender(i){const c=this._dynamicOverlays.filter(v=>v.shouldRender());for(let v=0,V=c.length;v<V;v++){const $=c[v];$.prepareRender(i),$.onDidRender()}}render(i){this._viewOverlaysRender(i),this.domNode.toggleClassName("focused",this._isFocused)}_viewOverlaysRender(i){this._visibleLines.renderLines(i.viewportData)}}class Ci{constructor(i,c){this._configuration=i,this._lineHeight=this._configuration.options.get(61),this._dynamicOverlays=c,this._domNode=null,this._renderedContent=null}getDomNode(){return this._domNode?this._domNode.domNode:null}setDomNode(i){this._domNode=(0,H.X)(i)}onContentChanged(){}onTokensChanged(){}onConfigurationChanged(i){this._lineHeight=this._configuration.options.get(61)}renderLine(i,c,v,V){let $="";for(let ce=0,be=this._dynamicOverlays.length;ce<be;ce++){const Me=this._dynamicOverlays[ce];$+=Me.render(v.startLineNumber,i)}return this._renderedContent===$?!1:(this._renderedContent=$,V.appendASCIIString('<div style="position:absolute;top:'),V.appendASCIIString(String(c)),V.appendASCIIString("px;width:100%;height:"),V.appendASCIIString(String(this._lineHeight)),V.appendASCIIString('px;">'),V.appendASCIIString($),V.appendASCIIString("</div>"),!0)}layoutLine(i,c){this._domNode&&(this._domNode.setTop(c),this._domNode.setHeight(this._lineHeight))}}class qi extends Hn{constructor(i){super(i);const v=this._context.configuration.options.get(133);this._contentWidth=v.contentWidth,this.domNode.setHeight(0)}onConfigurationChanged(i){const v=this._context.configuration.options.get(133);return this._contentWidth=v.contentWidth,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollWidthChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i),this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth))}}class ri extends Hn{constructor(i){super(i);const c=this._context.configuration.options,v=c.get(133);this._contentLeft=v.contentLeft,this.domNode.setClassName("margin-view-overlays"),this.domNode.setWidth(1),(0,vn.N)(this.domNode,c.get(46))}onConfigurationChanged(i){const c=this._context.configuration.options;(0,vn.N)(this.domNode,c.get(46));const v=c.get(133);return this._contentLeft=v.contentLeft,super.onConfigurationChanged(i)||!0}onScrollChanged(i){return super.onScrollChanged(i)||i.scrollHeightChanged}_viewOverlaysRender(i){super._viewOverlaysRender(i);const c=Math.min(i.scrollHeight,1e6);this.domNode.setHeight(c),this.domNode.setWidth(this._contentLeft)}}class ms{constructor(i,c){this._coordinateBrand=void 0,this.top=i,this.left=c}}class fi extends Ze{constructor(i,c){super(i),this._viewDomNode=c,this._widgets={},this.domNode=(0,H.X)(document.createElement("div")),Ge.write(this.domNode,1),this.domNode.setClassName("contentWidgets"),this.domNode.setPosition("absolute"),this.domNode.setTop(0),this.overflowingContentWidgetsDomNode=(0,H.X)(document.createElement("div")),Ge.write(this.overflowingContentWidgetsDomNode,2),this.overflowingContentWidgetsDomNode.setClassName("overflowingContentWidgets")}dispose(){super.dispose(),this._widgets={}}onConfigurationChanged(i){const c=Object.keys(this._widgets);for(const v of c)this._widgets[v].onConfigurationChanged(i);return!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLineMappingChanged(i){const c=Object.keys(this._widgets);for(const v of c)this._widgets[v].onLineMappingChanged(i);return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onZonesChanged(i){return!0}addWidget(i){const c=new _s(this._context,this._viewDomNode,i);this._widgets[c.id]=c,c.allowEditorOverflow?this.overflowingContentWidgetsDomNode.appendChild(c.domNode):this.domNode.appendChild(c.domNode),this.setShouldRender()}setWidgetPosition(i,c,v,V){this._widgets[i.getId()].setPosition(c,v,V),this.setShouldRender()}removeWidget(i){const c=i.getId();if(this._widgets.hasOwnProperty(c)){const v=this._widgets[c];delete this._widgets[c];const V=v.domNode.domNode;V.parentNode.removeChild(V),V.removeAttribute("monaco-visible-content-widget"),this.setShouldRender()}}shouldSuppressMouseDownOnWidget(i){return this._widgets.hasOwnProperty(i)?this._widgets[i].suppressMouseDown:!1}onBeforeRender(i){const c=Object.keys(this._widgets);for(const v of c)this._widgets[v].onBeforeRender(i)}prepareRender(i){const c=Object.keys(this._widgets);for(const v of c)this._widgets[v].prepareRender(i)}render(i){const c=Object.keys(this._widgets);for(const v of c)this._widgets[v].render(i)}}class _s{constructor(i,c,v){this._context=i,this._viewDomNode=c,this._actual=v,this.domNode=(0,H.X)(this._actual.getDomNode()),this.id=this._actual.getId(),this.allowEditorOverflow=this._actual.allowEditorOverflow||!1,this.suppressMouseDown=this._actual.suppressMouseDown||!1;const V=this._context.configuration.options,$=V.get(133);this._fixedOverflowWidgets=V.get(38),this._contentWidth=$.contentWidth,this._contentLeft=$.contentLeft,this._lineHeight=V.get(61),this._range=null,this._viewRange=null,this._affinity=null,this._preference=[],this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1,this._maxWidth=this._getMaxWidth(),this._isVisible=!1,this._renderData=null,this.domNode.setPosition(this._fixedOverflowWidgets&&this.allowEditorOverflow?"fixed":"absolute"),this.domNode.setDisplay("none"),this.domNode.setVisibility("hidden"),this.domNode.setAttribute("widgetId",this.id),this.domNode.setMaxWidth(this._maxWidth)}onConfigurationChanged(i){const c=this._context.configuration.options;if(this._lineHeight=c.get(61),i.hasChanged(133)){const v=c.get(133);this._contentLeft=v.contentLeft,this._contentWidth=v.contentWidth,this._maxWidth=this._getMaxWidth()}}onLineMappingChanged(i){this._setPosition(this._range,this._affinity)}_setPosition(i,c){var v;if(this._range=i,this._viewRange=null,this._affinity=c,this._range){const V=this._context.viewModel.model.validateRange(this._range);(this._context.viewModel.coordinatesConverter.modelPositionIsVisible(V.getStartPosition())||this._context.viewModel.coordinatesConverter.modelPositionIsVisible(V.getEndPosition()))&&(this._viewRange=this._context.viewModel.coordinatesConverter.convertModelRangeToViewRange(V,(v=this._affinity)!==null&&v!==void 0?v:void 0))}}_getMaxWidth(){return this.allowEditorOverflow?window.innerWidth||document.documentElement.offsetWidth||document.body.offsetWidth:this._contentWidth}setPosition(i,c,v){this._setPosition(i,v),this._preference=c,this._viewRange&&this._preference&&this._preference.length>0?this.domNode.setDisplay("block"):this.domNode.setDisplay("none"),this._cachedDomNodeOffsetWidth=-1,this._cachedDomNodeOffsetHeight=-1}_layoutBoxInViewport(i,c,v,V,$){const ce=i.top,be=ce,Me=c.top+this._lineHeight,Oe=$.viewportHeight-Me,Qe=ce-V,lt=be>=V,Nt=Me,Dt=Oe>=V;let Yt=i.left,an=c.left;return Yt+v>$.scrollLeft+$.viewportWidth&&(Yt=$.scrollLeft+$.viewportWidth-v),an+v>$.scrollLeft+$.viewportWidth&&(an=$.scrollLeft+$.viewportWidth-v),Yt<$.scrollLeft&&(Yt=$.scrollLeft),an<$.scrollLeft&&(an=$.scrollLeft),{fitsAbove:lt,aboveTop:Qe,aboveLeft:Yt,fitsBelow:Dt,belowTop:Nt,belowLeft:an}}_layoutHorizontalSegmentInPage(i,c,v,V){const $=Math.max(0,c.left-V),ce=Math.min(c.left+c.width+V,i.width);let be=c.left+v-P.DI.scrollX;if(be+V>ce){const Me=be-(ce-V);be-=Me,v-=Me}if(be<$){const Me=be-$;be-=Me,v-=Me}return[v,be]}_layoutBoxInPage(i,c,v,V,$){const ce=i.top-V,be=c.top+this._lineHeight,Me=P.i(this._viewDomNode.domNode),Oe=Me.top+ce-P.DI.scrollY,Qe=Me.top+be-P.DI.scrollY,lt=P.D6(document.body),[Nt,Dt]=this._layoutHorizontalSegmentInPage(lt,Me,i.left-$.scrollLeft+this._contentLeft,v),[Yt,an]=this._layoutHorizontalSegmentInPage(lt,Me,c.left-$.scrollLeft+this._contentLeft,v),gn=22,un=22,zn=Oe>=gn,Un=Qe+V<=lt.height-un;return this._fixedOverflowWidgets?{fitsAbove:zn,aboveTop:Math.max(Oe,gn),aboveLeft:Dt,fitsBelow:Un,belowTop:Qe,belowLeft:an}:{fitsAbove:zn,aboveTop:ce,aboveLeft:Nt,fitsBelow:Un,belowTop:be,belowLeft:Yt}}_prepareRenderWidgetAtExactPositionOverflowing(i){return new ms(i.top,i.left+this._contentLeft)}_getTopAndBottomLeft(i){if(!this._viewRange)return[null,null];const c=i.linesVisibleRangesForRange(this._viewRange,!1);if(!c||c.length===0)return[null,null];let v=c[0],V=c[0];for(const lt of c)lt.lineNumber<v.lineNumber&&(v=lt),lt.lineNumber>V.lineNumber&&(V=lt);let $=1073741824;for(const lt of v.ranges)lt.left<$&&($=lt.left);let ce=1073741824;for(const lt of V.ranges)lt.left<ce&&(ce=lt.left);const be=i.getVerticalOffsetForLineNumber(v.lineNumber)-i.scrollTop,Me=new ms(be,$),Oe=i.getVerticalOffsetForLineNumber(V.lineNumber)-i.scrollTop,Qe=new ms(Oe,ce);return[Me,Qe]}_prepareRenderWidget(i){if(!this._preference||this._preference.length===0)return null;const[c,v]=this._getTopAndBottomLeft(i);if(!c||!v)return null;if(this._cachedDomNodeOffsetWidth===-1||this._cachedDomNodeOffsetHeight===-1){let $=null;if(typeof this._actual.beforeRender=="function"&&($=bi(this._actual.beforeRender,this._actual)),$)this._cachedDomNodeOffsetWidth=$.width,this._cachedDomNodeOffsetHeight=$.height;else{const be=this.domNode.domNode.getBoundingClientRect();this._cachedDomNodeOffsetWidth=Math.round(be.width),this._cachedDomNodeOffsetHeight=Math.round(be.height)}}let V;this.allowEditorOverflow?V=this._layoutBoxInPage(c,v,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i):V=this._layoutBoxInViewport(c,v,this._cachedDomNodeOffsetWidth,this._cachedDomNodeOffsetHeight,i);for(let $=1;$<=2;$++)for(const ce of this._preference)if(ce===1){if(!V)return null;if($===2||V.fitsAbove)return{coordinate:new ms(V.aboveTop,V.aboveLeft),position:1}}else if(ce===2){if(!V)return null;if($===2||V.fitsBelow)return{coordinate:new ms(V.belowTop,V.belowLeft),position:2}}else return this.allowEditorOverflow?{coordinate:this._prepareRenderWidgetAtExactPositionOverflowing(c),position:0}:{coordinate:c,position:0};return null}onBeforeRender(i){!this._viewRange||!this._preference||this._viewRange.endLineNumber<i.startLineNumber||this._viewRange.startLineNumber>i.endLineNumber||this.domNode.setMaxWidth(this._maxWidth)}prepareRender(i){this._renderData=this._prepareRenderWidget(i)}render(i){if(!this._renderData){this._isVisible&&(this.domNode.removeAttribute("monaco-visible-content-widget"),this._isVisible=!1,this.domNode.setVisibility("hidden")),typeof this._actual.afterRender=="function"&&bi(this._actual.afterRender,this._actual,null);return}this.allowEditorOverflow?(this.domNode.setTop(this._renderData.coordinate.top),this.domNode.setLeft(this._renderData.coordinate.left)):(this.domNode.setTop(this._renderData.coordinate.top+i.scrollTop-i.bigNumbersDelta),this.domNode.setLeft(this._renderData.coordinate.left)),this._isVisible||(this.domNode.setVisibility("inherit"),this.domNode.setAttribute("monaco-visible-content-widget","true"),this._isVisible=!0),typeof this._actual.afterRender=="function"&&bi(this._actual.afterRender,this._actual,this._renderData.position)}}function bi(pt,i,...c){try{return pt.call(i,...c)}catch(v){return null}}class $i extends On{constructor(i){super(),this._context=i;const c=this._context.configuration.options,v=c.get(133);this._lineHeight=c.get(61),this._renderLineHighlight=c.get(87),this._renderLineHighlightOnlyWhenFocus=c.get(88),this._contentLeft=v.contentLeft,this._contentWidth=v.contentWidth,this._selectionIsEmpty=!0,this._focused=!1,this._cursorLineNumbers=[1],this._selections=[new ke.Y(1,1,1,1)],this._renderData=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}_readFromSelections(){let i=!1;const c=this._selections.map(V=>V.positionLineNumber);c.sort((V,$)=>V-$),u.fS(this._cursorLineNumbers,c)||(this._cursorLineNumbers=c,i=!0);const v=this._selections.every(V=>V.isEmpty());return this._selectionIsEmpty!==v&&(this._selectionIsEmpty=v,i=!0),i}onThemeChanged(i){return this._readFromSelections()}onConfigurationChanged(i){const c=this._context.configuration.options,v=c.get(133);return this._lineHeight=c.get(61),this._renderLineHighlight=c.get(87),this._renderLineHighlightOnlyWhenFocus=c.get(88),this._contentLeft=v.contentLeft,this._contentWidth=v.contentWidth,!0}onCursorStateChanged(i){return this._selections=i.selections,this._readFromSelections()}onFlushed(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollWidthChanged||i.scrollTopChanged}onZonesChanged(i){return!0}onFocusChanged(i){return this._renderLineHighlightOnlyWhenFocus?(this._focused=i.isFocused,!0):!1}prepareRender(i){if(!this._shouldRenderThis()){this._renderData=null;return}const c=this._renderOne(i),v=i.visibleRange.startLineNumber,V=i.visibleRange.endLineNumber,$=this._cursorLineNumbers.length;let ce=0;const be=[];for(let Me=v;Me<=V;Me++){const Oe=Me-v;for(;ce<$&&this._cursorLineNumbers[ce]<Me;)ce++;ce<$&&this._cursorLineNumbers[ce]===Me?be[Oe]=c:be[Oe]=""}this._renderData=be}render(i,c){if(!this._renderData)return"";const v=c-i;return v>=this._renderData.length?"":this._renderData[v]}_shouldRenderInMargin(){return(this._renderLineHighlight==="gutter"||this._renderLineHighlight==="all")&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}_shouldRenderInContent(){return(this._renderLineHighlight==="line"||this._renderLineHighlight==="all")&&this._selectionIsEmpty&&(!this._renderLineHighlightOnlyWhenFocus||this._focused)}}class Ei extends $i{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderOther()?" current-line-both":"")}" style="width:${Math.max(i.scrollWidth,this._contentWidth)}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return this._shouldRenderInContent()}_shouldRenderOther(){return this._shouldRenderInMargin()}}class Xi extends $i{_renderOne(i){return`<div class="${"current-line"+(this._shouldRenderInMargin()?" current-line-margin":"")+(this._shouldRenderOther()?" current-line-margin-both":"")}" style="width:${this._contentLeft}px; height:${this._lineHeight}px;"></div>`}_shouldRenderThis(){return!0}_shouldRenderOther(){return this._shouldRenderInContent()}}(0,Sn.Ic)((pt,i)=>{const c=pt.getColor(In.Kh);if(c&&(i.addRule(`.monaco-editor .view-overlays .current-line { background-color: ${c}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { background-color: ${c}; border: none; }`)),!c||c.isTransparent()||pt.defines(In.Mm)){const v=pt.getColor(In.Mm);v&&(i.addRule(`.monaco-editor .view-overlays .current-line { border: 2px solid ${v}; }`),i.addRule(`.monaco-editor .margin-view-overlays .current-line-margin { border: 2px solid ${v}; }`),(0,Ee.c3)(pt.type)&&(i.addRule(".monaco-editor .view-overlays .current-line { border-width: 1px; }"),i.addRule(".monaco-editor .margin-view-overlays .current-line-margin { border-width: 1px; }")))}});class Es extends On{constructor(i){super(),this._context=i;const c=this._context.configuration.options;this._lineHeight=c.get(61),this._typicalHalfwidthCharacterWidth=c.get(46).typicalHalfwidthCharacterWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options;return this._lineHeight=c.get(61),this._typicalHalfwidthCharacterWidth=c.get(46).typicalHalfwidthCharacterWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged||i.scrollWidthChanged}onZonesChanged(i){return!0}prepareRender(i){const c=i.getDecorationsInViewport();let v=[],V=0;for(let Me=0,Oe=c.length;Me<Oe;Me++){const Qe=c[Me];Qe.options.className&&(v[V++]=Qe)}v=v.sort((Me,Oe)=>{if(Me.options.zIndex<Oe.options.zIndex)return-1;if(Me.options.zIndex>Oe.options.zIndex)return 1;const Qe=Me.options.className,lt=Oe.options.className;return Qe<lt?-1:Qe>lt?1:je.e.compareRangesUsingStarts(Me.range,Oe.range)});const $=i.visibleRange.startLineNumber,ce=i.visibleRange.endLineNumber,be=[];for(let Me=$;Me<=ce;Me++){const Oe=Me-$;be[Oe]=""}this._renderWholeLineDecorations(i,v,be),this._renderNormalDecorations(i,v,be),this._renderResult=be}_renderWholeLineDecorations(i,c,v){const V=String(this._lineHeight),$=i.visibleRange.startLineNumber,ce=i.visibleRange.endLineNumber;for(let be=0,Me=c.length;be<Me;be++){const Oe=c[be];if(!Oe.options.isWholeLine)continue;const Qe='<div class="cdr '+Oe.options.className+'" style="left:0;width:100%;height:'+V+'px;"></div>',lt=Math.max(Oe.range.startLineNumber,$),Nt=Math.min(Oe.range.endLineNumber,ce);for(let Dt=lt;Dt<=Nt;Dt++){const Yt=Dt-$;v[Yt]+=Qe}}}_renderNormalDecorations(i,c,v){const V=String(this._lineHeight),$=i.visibleRange.startLineNumber;let ce=null,be=!1,Me=null;for(let Oe=0,Qe=c.length;Oe<Qe;Oe++){const lt=c[Oe];if(lt.options.isWholeLine)continue;const Nt=lt.options.className,Dt=Boolean(lt.options.showIfCollapsed);let Yt=lt.range;if(Dt&&Yt.endColumn===1&&Yt.endLineNumber!==Yt.startLineNumber&&(Yt=new je.e(Yt.startLineNumber,Yt.startColumn,Yt.endLineNumber-1,this._context.viewModel.getLineMaxColumn(Yt.endLineNumber-1))),ce===Nt&&be===Dt&&je.e.areIntersectingOrTouching(Me,Yt)){Me=je.e.plusRange(Me,Yt);continue}ce!==null&&this._renderNormalDecoration(i,Me,ce,be,V,$,v),ce=Nt,be=Dt,Me=Yt}ce!==null&&this._renderNormalDecoration(i,Me,ce,be,V,$,v)}_renderNormalDecoration(i,c,v,V,$,ce,be){const Me=i.linesVisibleRangesForRange(c,v==="findMatch");if(!!Me)for(let Oe=0,Qe=Me.length;Oe<Qe;Oe++){const lt=Me[Oe];if(lt.outsideRenderedLine)continue;const Nt=lt.lineNumber-ce;if(V&&lt.ranges.length===1){const Dt=lt.ranges[0];if(Dt.width<this._typicalHalfwidthCharacterWidth){const Yt=Math.round(Dt.left+Dt.width/2),an=Math.max(0,Math.round(Yt-this._typicalHalfwidthCharacterWidth/2));lt.ranges[0]=new Ot(an,this._typicalHalfwidthCharacterWidth)}}for(let Dt=0,Yt=lt.ranges.length;Dt<Yt;Dt++){const an=lt.ranges[Dt],gn='<div class="cdr '+v+'" style="left:'+String(an.left)+"px;width:"+String(an.width)+"px;height:"+$+'px;"></div>';be[Nt]+=gn}}}render(i,c){if(!this._renderResult)return"";const v=c-i;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}var Ks=l(37886),gi=l(55952);class bs extends Ze{constructor(i,c,v,V){super(i);const $=this._context.configuration.options,ce=$.get(94),be=$.get(69),Me=$.get(36),Oe=$.get(97),Qe={listenOnDomNode:v.domNode,className:"editor-scrollable "+(0,Sn.m6)(i.theme.type),useShadows:!1,lazyRender:!0,vertical:ce.vertical,horizontal:ce.horizontal,verticalHasArrows:ce.verticalHasArrows,horizontalHasArrows:ce.horizontalHasArrows,verticalScrollbarSize:ce.verticalScrollbarSize,verticalSliderSize:ce.verticalSliderSize,horizontalScrollbarSize:ce.horizontalScrollbarSize,horizontalSliderSize:ce.horizontalSliderSize,handleMouseWheel:ce.handleMouseWheel,alwaysConsumeMouseWheel:ce.alwaysConsumeMouseWheel,arrowSize:ce.arrowSize,mouseWheelScrollSensitivity:be,fastScrollSensitivity:Me,scrollPredominantAxis:Oe,scrollByPage:ce.scrollByPage};this.scrollbar=this._register(new Ks.$Z(c.domNode,Qe,this._context.viewLayout.getScrollable())),Ge.write(this.scrollbar.getDomNode(),5),this.scrollbarDomNode=(0,H.X)(this.scrollbar.getDomNode()),this.scrollbarDomNode.setPosition("absolute"),this._setLayout();const lt=(Nt,Dt,Yt)=>{const an={};if(Dt){const gn=Nt.scrollTop;gn&&(an.scrollTop=this._context.viewLayout.getCurrentScrollTop()+gn,Nt.scrollTop=0)}if(Yt){const gn=Nt.scrollLeft;gn&&(an.scrollLeft=this._context.viewLayout.getCurrentScrollLeft()+gn,Nt.scrollLeft=0)}this._context.viewModel.viewLayout.setScrollPosition(an,1)};this._register(P.nm(v.domNode,"scroll",Nt=>lt(v.domNode,!0,!0))),this._register(P.nm(c.domNode,"scroll",Nt=>lt(c.domNode,!0,!1))),this._register(P.nm(V.domNode,"scroll",Nt=>lt(V.domNode,!0,!1))),this._register(P.nm(this.scrollbarDomNode.domNode,"scroll",Nt=>lt(this.scrollbarDomNode.domNode,!0,!1)))}dispose(){super.dispose()}_setLayout(){const i=this._context.configuration.options,c=i.get(133);this.scrollbarDomNode.setLeft(c.contentLeft),i.get(67).side==="right"?this.scrollbarDomNode.setWidth(c.contentWidth+c.minimap.minimapWidth):this.scrollbarDomNode.setWidth(c.contentWidth),this.scrollbarDomNode.setHeight(c.height)}getOverviewRulerLayoutInfo(){return this.scrollbar.getOverviewRulerLayoutInfo()}getDomNode(){return this.scrollbarDomNode}delegateVerticalScrollbarPointerDown(i){this.scrollbar.delegateVerticalScrollbarPointerDown(i)}onConfigurationChanged(i){if(i.hasChanged(94)||i.hasChanged(69)||i.hasChanged(36)){const c=this._context.configuration.options,v=c.get(94),V=c.get(69),$=c.get(36),ce=c.get(97),be={vertical:v.vertical,horizontal:v.horizontal,verticalScrollbarSize:v.verticalScrollbarSize,horizontalScrollbarSize:v.horizontalScrollbarSize,scrollByPage:v.scrollByPage,handleMouseWheel:v.handleMouseWheel,mouseWheelScrollSensitivity:V,fastScrollSensitivity:$,scrollPredominantAxis:ce};this.scrollbar.updateOptions(be)}return i.hasChanged(133)&&this._setLayout(),!0}onScrollChanged(i){return!0}onThemeChanged(i){return this.scrollbar.updateClassName("editor-scrollable "+(0,Sn.m6)(this._context.theme.type)),!0}prepareRender(i){}render(i){this.scrollbar.renderNow()}}(0,Sn.Ic)((pt,i)=>{const c=pt.getColor(gi._wn);c&&i.addRule(`
			.monaco-scrollable-element > .shadow.top {
				box-shadow: ${c} 0 6px 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.left {
				box-shadow: ${c} 6px 0 6px -6px inset;
			}

			.monaco-scrollable-element > .shadow.top.left {
				box-shadow: ${c} 6px 6px 6px -6px inset;
			}
		`);const v=pt.getColor(gi.etL);v&&i.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider {
				background: ${v};
			}
		`);const V=pt.getColor(gi.ABB);V&&i.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider:hover {
				background: ${V};
			}
		`);const $=pt.getColor(gi.ynu);$&&i.addRule(`
			.monaco-scrollable-element > .scrollbar > .slider.active {
				background: ${$};
			}
		`)});class Di{constructor(i,c,v){this._decorationToRenderBrand=void 0,this.startLineNumber=+i,this.endLineNumber=+c,this.className=String(v)}}class ws extends On{_render(i,c,v){const V=[];for(let be=i;be<=c;be++){const Me=be-i;V[Me]=[]}if(v.length===0)return V;v.sort((be,Me)=>be.className===Me.className?be.startLineNumber===Me.startLineNumber?be.endLineNumber-Me.endLineNumber:be.startLineNumber-Me.startLineNumber:be.className<Me.className?-1:1);let $=null,ce=0;for(let be=0,Me=v.length;be<Me;be++){const Oe=v[be],Qe=Oe.className;let lt=Math.max(Oe.startLineNumber,i)-i;const Nt=Math.min(Oe.endLineNumber,c)-i;$===Qe?(lt=Math.max(ce+1,lt),ce=Math.max(ce,Nt)):($=Qe,ce=Nt);for(let Dt=lt;Dt<=ce;Dt++)V[Dt].push($)}return V}}class uo extends ws{constructor(i){super(),this._context=i;const c=this._context.configuration.options,v=c.get(133);this._lineHeight=c.get(61),this._glyphMargin=c.get(52),this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options,v=c.get(133);return this._lineHeight=c.get(61),this._glyphMargin=c.get(52),this._glyphMarginLeft=v.glyphMarginLeft,this._glyphMarginWidth=v.glyphMarginWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const c=i.getDecorationsInViewport(),v=[];let V=0;for(let $=0,ce=c.length;$<ce;$++){const be=c[$],Me=be.options.glyphMarginClassName;Me&&(v[V++]=new Di(be.range.startLineNumber,be.range.endLineNumber,Me))}return v}prepareRender(i){if(!this._glyphMargin){this._renderResult=null;return}const c=i.visibleRange.startLineNumber,v=i.visibleRange.endLineNumber,V=this._render(c,v,this._getDecorations(i)),$=this._lineHeight.toString(),ce=this._glyphMarginLeft.toString(),be=this._glyphMarginWidth.toString(),Me='" style="left:'+ce+"px;width:"+be+"px;height:"+$+'px;"></div>',Oe=[];for(let Qe=c;Qe<=v;Qe++){const lt=Qe-c,Nt=V[lt];Nt.length===0?Oe[lt]="":Oe[lt]='<div class="cgmr codicon '+Nt.join(" ")+Me}this._renderResult=Oe}render(i,c){if(!this._renderResult)return"";const v=c-i;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}var Us=l(17014),$s=l(99087),cs=l(48327);class on extends On{constructor(i){super(),this._context=i,this._primaryPosition=null;const c=this._context.configuration.options,v=c.get(134),V=c.get(46);this._lineHeight=c.get(61),this._spaceWidth=V.spaceWidth,this._maxIndentLeft=v.wrappingColumn===-1?-1:v.wrappingColumn*V.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=c.get(13),this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options,v=c.get(134),V=c.get(46);return this._lineHeight=c.get(61),this._spaceWidth=V.spaceWidth,this._maxIndentLeft=v.wrappingColumn===-1?-1:v.wrappingColumn*V.typicalHalfwidthCharacterWidth,this._bracketPairGuideOptions=c.get(13),!0}onCursorStateChanged(i){var c;const V=i.selections[0].getPosition();return!((c=this._primaryPosition)===null||c===void 0)&&c.equals(V)?!1:(this._primaryPosition=V,!0)}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}onLanguageConfigurationChanged(i){return!0}prepareRender(i){var c,v,V,$;if(!this._bracketPairGuideOptions.indentation&&this._bracketPairGuideOptions.bracketPairs===!1){this._renderResult=null;return}const ce=i.visibleRange.startLineNumber,be=i.visibleRange.endLineNumber,Me=i.scrollWidth,Oe=this._lineHeight,Qe=this._primaryPosition,lt=this.getGuidesByLine(ce,be,Qe),Nt=[];for(let Dt=ce;Dt<=be;Dt++){const Yt=Dt-ce,an=lt[Yt];let gn="";const un=(v=(c=i.visibleRangeForPosition(new wn.L(Dt,1)))===null||c===void 0?void 0:c.left)!==null&&v!==void 0?v:0;for(const zn of an){const Un=zn.column===-1?un+(zn.visibleColumn-1)*this._spaceWidth:i.visibleRangeForPosition(new wn.L(Dt,zn.column)).left;if(Un>Me||this._maxIndentLeft>0&&Un>this._maxIndentLeft)break;const Ri=zn.horizontalLine?zn.horizontalLine.top?"horizontal-top":"horizontal-bottom":"vertical",_i=zn.horizontalLine?(($=(V=i.visibleRangeForPosition(new wn.L(Dt,zn.horizontalLine.endColumn)))===null||V===void 0?void 0:V.left)!==null&&$!==void 0?$:Un+this._spaceWidth)-Un:this._spaceWidth;gn+=`<div class="core-guide ${zn.className} ${Ri}" style="left:${Un}px;height:${Oe}px;width:${_i}px"></div>`}Nt[Yt]=gn}this._renderResult=Nt}getGuidesByLine(i,c,v){const V=this._bracketPairGuideOptions.bracketPairs!==!1?this._context.viewModel.getBracketGuidesInRangeByLine(i,c,v,{highlightActive:this._bracketPairGuideOptions.highlightActiveBracketPair,horizontalGuides:this._bracketPairGuideOptions.bracketPairsHorizontal===!0?cs.s6.Enabled:this._bracketPairGuideOptions.bracketPairsHorizontal==="active"?cs.s6.EnabledForActive:cs.s6.Disabled,includeInactive:this._bracketPairGuideOptions.bracketPairs===!0}):null,$=this._bracketPairGuideOptions.indentation?this._context.viewModel.getLinesIndentGuides(i,c):null;let ce=0,be=0,Me=0;if(this._bracketPairGuideOptions.highlightActiveIndentation!==!1&&v){const lt=this._context.viewModel.getActiveIndentGuide(v.lineNumber,i,c);ce=lt.startLineNumber,be=lt.endLineNumber,Me=lt.indent}const{indentSize:Oe}=this._context.viewModel.model.getOptions(),Qe=[];for(let lt=i;lt<=c;lt++){const Nt=new Array;Qe.push(Nt);const Dt=V?V[lt-i]:[],Yt=new u.H9(Dt),an=$?$[lt-i]:[];for(let gn=1;gn<=an;gn++){const un=(gn-1)*Oe+1,zn=(this._bracketPairGuideOptions.highlightActiveIndentation==="always"||Dt.length===0)&&ce<=lt&&lt<=be&&gn===Me;Nt.push(...Yt.takeWhile(Ri=>Ri.visibleColumn<un)||[]);const Un=Yt.peek();(!Un||Un.visibleColumn!==un||Un.horizontalLine)&&Nt.push(new cs.UO(un,-1,zn?"core-guide-indent-active":"core-guide-indent",null,-1,-1))}Nt.push(...Yt.takeWhile(gn=>!0)||[])}return Qe}render(i,c){if(!this._renderResult)return"";const v=c-i;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}function ts(pt){if(!(pt&&pt.isTransparent()))return pt}(0,Sn.Ic)((pt,i)=>{const c=pt.getColor(In.tR);c&&i.addRule(`.monaco-editor .lines-content .core-guide-indent { box-shadow: 1px 0 0 0 ${c} inset; }`);const v=pt.getColor(In.Ym)||c;v&&i.addRule(`.monaco-editor .lines-content .core-guide-indent-active { box-shadow: 1px 0 0 0 ${v} inset; }`);const V=[{bracketColor:In.zJ,guideColor:In.oV,guideColorActive:In.Qb},{bracketColor:In.Vs,guideColor:In.m$,guideColorActive:In.m3},{bracketColor:In.CE,guideColor:In.DS,guideColorActive:In.To},{bracketColor:In.UP,guideColor:In.lS,guideColorActive:In.L7},{bracketColor:In.r0,guideColor:In.Jn,guideColorActive:In.HV},{bracketColor:In.m1,guideColor:In.YF,guideColorActive:In.f9}],$=new $s.W,ce=V.map(be=>{var Me,Oe;const Qe=pt.getColor(be.bracketColor),lt=pt.getColor(be.guideColor),Nt=pt.getColor(be.guideColorActive),Dt=ts((Me=ts(lt))!==null&&Me!==void 0?Me:Qe==null?void 0:Qe.transparent(.3)),Yt=ts((Oe=ts(Nt))!==null&&Oe!==void 0?Oe:Qe);if(!(!Dt||!Yt))return{guideColor:Dt,guideColorActive:Yt}}).filter(Us.$K);if(ce.length>0){for(let be=0;be<30;be++){const Me=ce[be%ce.length];i.addRule(`.monaco-editor .${$.getInlineClassNameOfLevel(be).replace(/ /g,".")} { --guide-color: ${Me.guideColor}; --guide-color-active: ${Me.guideColorActive}; }`)}i.addRule(".monaco-editor .vertical { box-shadow: 1px 0 0 0 var(--guide-color) inset; }"),i.addRule(".monaco-editor .horizontal-top { border-top: 1px solid var(--guide-color); }"),i.addRule(".monaco-editor .horizontal-bottom { border-bottom: 1px solid var(--guide-color); }"),i.addRule(`.monaco-editor .vertical.${$.activeClassName} { box-shadow: 1px 0 0 0 var(--guide-color-active) inset; }`),i.addRule(`.monaco-editor .horizontal-top.${$.activeClassName} { border-top: 1px solid var(--guide-color-active); }`),i.addRule(`.monaco-editor .horizontal-bottom.${$.activeClassName} { border-bottom: 1px solid var(--guide-color-active); }`)}});class Ro{constructor(){this._currentVisibleRange=new je.e(1,1,1,1)}getCurrentVisibleRange(){return this._currentVisibleRange}setCurrentVisibleRange(i){this._currentVisibleRange=i}}class zs{constructor(i,c,v,V,$,ce,be){this.minimalReveal=i,this.lineNumber=c,this.startColumn=v,this.endColumn=V,this.startScrollTop=$,this.stopScrollTop=ce,this.scrollType=be,this.type="range",this.minLineNumber=c,this.maxLineNumber=c}}class As{constructor(i,c,v,V,$){this.minimalReveal=i,this.selections=c,this.startScrollTop=v,this.stopScrollTop=V,this.scrollType=$,this.type="selections";let ce=c[0].startLineNumber,be=c[0].endLineNumber;for(let Me=1,Oe=c.length;Me<Oe;Me++){const Qe=c[Me];ce=Math.min(ce,Qe.startLineNumber),be=Math.max(be,Qe.endLineNumber)}this.minLineNumber=ce,this.maxLineNumber=be}}class eo extends Ze{constructor(i,c){super(i),this._linesContent=c,this._textRangeRestingSpot=document.createElement("div"),this._visibleLines=new hn(this),this.domNode=this._visibleLines.domNode;const v=this._context.configuration,V=this._context.configuration.options,$=V.get(46),ce=V.get(134),be=V.get(133);this._lineHeight=V.get(61),this._typicalHalfwidthCharacterWidth=$.typicalHalfwidthCharacterWidth,this._isViewportWrapping=ce.isViewportWrapping,this._revealHorizontalRightPadding=V.get(91),this._horizontalScrollbarHeight=be.horizontalScrollbarHeight,this._cursorSurroundingLines=V.get(25),this._cursorSurroundingLinesStyle=V.get(26),this._canUseLayerHinting=!V.get(28),this._viewLineOptions=new jt(v,this._context.theme.type),Ge.write(this.domNode,7),this.domNode.setClassName(`view-lines ${ai.S}`),(0,vn.N)(this.domNode,$),this._maxLineWidth=0,this._asyncUpdateLineWidths=new He.pY(()=>{this._updateLineWidthsSlow()},200),this._asyncCheckMonospaceFontAssumptions=new He.pY(()=>{this._checkMonospaceFontAssumptions()},2e3),this._lastRenderedData=new Ro,this._horizontalRevealRequest=null}dispose(){this._asyncUpdateLineWidths.dispose(),this._asyncCheckMonospaceFontAssumptions.dispose(),super.dispose()}getDomNode(){return this.domNode}createVisibleLine(){return new pn(this._viewLineOptions)}onConfigurationChanged(i){this._visibleLines.onConfigurationChanged(i),i.hasChanged(134)&&(this._maxLineWidth=0);const c=this._context.configuration.options,v=c.get(46),V=c.get(134),$=c.get(133);return this._lineHeight=c.get(61),this._typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this._isViewportWrapping=V.isViewportWrapping,this._revealHorizontalRightPadding=c.get(91),this._horizontalScrollbarHeight=$.horizontalScrollbarHeight,this._cursorSurroundingLines=c.get(25),this._cursorSurroundingLinesStyle=c.get(26),this._canUseLayerHinting=!c.get(28),(0,vn.N)(this.domNode,v),this._onOptionsMaybeChanged(),i.hasChanged(133)&&(this._maxLineWidth=0),!0}_onOptionsMaybeChanged(){const i=this._context.configuration,c=new jt(i,this._context.theme.type);if(!this._viewLineOptions.equals(c)){this._viewLineOptions=c;const v=this._visibleLines.getStartLineNumber(),V=this._visibleLines.getEndLineNumber();for(let $=v;$<=V;$++)this._visibleLines.getVisibleLine($).onOptionsChanged(this._viewLineOptions);return!0}return!1}onCursorStateChanged(i){const c=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();let V=!1;for(let $=c;$<=v;$++)V=this._visibleLines.getVisibleLine($).onSelectionChanged()||V;return V}onDecorationsChanged(i){{const c=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();for(let V=c;V<=v;V++)this._visibleLines.getVisibleLine(V).onDecorationsChanged()}return!0}onFlushed(i){const c=this._visibleLines.onFlushed(i);return this._maxLineWidth=0,c}onLinesChanged(i){return this._visibleLines.onLinesChanged(i)}onLinesDeleted(i){return this._visibleLines.onLinesDeleted(i)}onLinesInserted(i){return this._visibleLines.onLinesInserted(i)}onRevealRangeRequest(i){const c=this._computeScrollTopToRevealRange(this._context.viewLayout.getFutureViewport(),i.source,i.minimalReveal,i.range,i.selections,i.verticalType);if(c===-1)return!1;let v=this._context.viewLayout.validateScrollPosition({scrollTop:c});i.revealHorizontal?i.range&&i.range.startLineNumber!==i.range.endLineNumber?v={scrollTop:v.scrollTop,scrollLeft:0}:i.range?this._horizontalRevealRequest=new zs(i.minimalReveal,i.range.startLineNumber,i.range.startColumn,i.range.endColumn,this._context.viewLayout.getCurrentScrollTop(),v.scrollTop,i.scrollType):i.selections&&i.selections.length>0&&(this._horizontalRevealRequest=new As(i.minimalReveal,i.selections,this._context.viewLayout.getCurrentScrollTop(),v.scrollTop,i.scrollType)):this._horizontalRevealRequest=null;const $=Math.abs(this._context.viewLayout.getCurrentScrollTop()-v.scrollTop)<=this._lineHeight?1:i.scrollType;return this._context.viewModel.viewLayout.setScrollPosition(v,$),!0}onScrollChanged(i){if(this._horizontalRevealRequest&&i.scrollLeftChanged&&(this._horizontalRevealRequest=null),this._horizontalRevealRequest&&i.scrollTopChanged){const c=Math.min(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop),v=Math.max(this._horizontalRevealRequest.startScrollTop,this._horizontalRevealRequest.stopScrollTop);(i.scrollTop<c||i.scrollTop>v)&&(this._horizontalRevealRequest=null)}return this.domNode.setWidth(i.scrollWidth),this._visibleLines.onScrollChanged(i)||!0}onTokensChanged(i){return this._visibleLines.onTokensChanged(i)}onZonesChanged(i){return this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth),this._visibleLines.onZonesChanged(i)}onThemeChanged(i){return this._onOptionsMaybeChanged()}getPositionFromDOMInfo(i,c){const v=this._getViewLineDomNode(i);if(v===null)return null;const V=this._getLineNumberFor(v);if(V===-1||V<1||V>this._context.viewModel.getLineCount())return null;if(this._context.viewModel.getLineMaxColumn(V)===1)return new wn.L(V,1);const $=this._visibleLines.getStartLineNumber(),ce=this._visibleLines.getEndLineNumber();if(V<$||V>ce)return null;let be=this._visibleLines.getVisibleLine(V).getColumnOfNodeOffset(V,i,c);const Me=this._context.viewModel.getLineMinColumn(V);return be<Me&&(be=Me),new wn.L(V,be)}_getViewLineDomNode(i){for(;i&&i.nodeType===1;){if(i.className===pn.CLASS_NAME)return i;i=i.parentElement}return null}_getLineNumberFor(i){const c=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();for(let V=c;V<=v;V++){const $=this._visibleLines.getVisibleLine(V);if(i===$.getDomNode())return V}return-1}getLineWidth(i){const c=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();return i<c||i>v?-1:this._visibleLines.getVisibleLine(i).getWidth()}linesVisibleRangesForRange(i,c){if(this.shouldRender())return null;const v=i.endLineNumber,V=je.e.intersectRanges(i,this._lastRenderedData.getCurrentVisibleRange());if(!V)return null;const $=[];let ce=0;const be=new Pt(this.domNode.domNode,this._textRangeRestingSpot);let Me=0;c&&(Me=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new wn.L(V.startLineNumber,1)).lineNumber);const Oe=this._visibleLines.getStartLineNumber(),Qe=this._visibleLines.getEndLineNumber();for(let lt=V.startLineNumber;lt<=V.endLineNumber;lt++){if(lt<Oe||lt>Qe)continue;const Nt=lt===V.startLineNumber?V.startColumn:1,Dt=lt===V.endLineNumber?V.endColumn:this._context.viewModel.getLineMaxColumn(lt),Yt=this._visibleLines.getVisibleLine(lt).getVisibleRangesForRange(lt,Nt,Dt,be);if(!!Yt){if(c&&lt<v){const an=Me;Me=this._context.viewModel.coordinatesConverter.convertViewPositionToModelPosition(new wn.L(lt+1,1)).lineNumber,an!==Me&&(Yt.ranges[Yt.ranges.length-1].width+=this._typicalHalfwidthCharacterWidth)}$[ce++]=new ft(Yt.outsideRenderedLine,lt,Ot.from(Yt.ranges))}}return ce===0?null:$}_visibleRangesForLineRange(i,c,v){return this.shouldRender()||i<this._visibleLines.getStartLineNumber()||i>this._visibleLines.getEndLineNumber()?null:this._visibleLines.getVisibleLine(i).getVisibleRangesForRange(i,c,v,new Pt(this.domNode.domNode,this._textRangeRestingSpot))}visibleRangeForPosition(i){const c=this._visibleRangesForLineRange(i.lineNumber,i.column,i.column);return c?new Vt(c.outsideRenderedLine,c.ranges[0].left):null}updateLineWidths(){this._updateLineWidths(!1)}_updateLineWidthsFast(){return this._updateLineWidths(!0)}_updateLineWidthsSlow(){this._updateLineWidths(!1)}_updateLineWidths(i){const c=this._visibleLines.getStartLineNumber(),v=this._visibleLines.getEndLineNumber();let V=1,$=!0;for(let ce=c;ce<=v;ce++){const be=this._visibleLines.getVisibleLine(ce);if(i&&!be.getWidthIsFast()){$=!1;continue}V=Math.max(V,be.getWidth())}return $&&c===1&&v===this._context.viewModel.getLineCount()&&(this._maxLineWidth=0),this._ensureMaxLineWidth(V),$}_checkMonospaceFontAssumptions(){let i=-1,c=-1;const v=this._visibleLines.getStartLineNumber(),V=this._visibleLines.getEndLineNumber();for(let $=v;$<=V;$++){const ce=this._visibleLines.getVisibleLine($);if(ce.needsMonospaceFontCheck()){const be=ce.getWidth();be>c&&(c=be,i=$)}}if(i!==-1&&!this._visibleLines.getVisibleLine(i).monospaceAssumptionsAreValid())for(let $=v;$<=V;$++)this._visibleLines.getVisibleLine($).onMonospaceAssumptionsInvalidated()}prepareRender(){throw new Error("Not supported")}render(){throw new Error("Not supported")}renderText(i){if(this._visibleLines.renderLines(i),this._lastRenderedData.setCurrentVisibleRange(i.visibleRange),this.domNode.setWidth(this._context.viewLayout.getScrollWidth()),this.domNode.setHeight(Math.min(this._context.viewLayout.getScrollHeight(),1e6)),this._horizontalRevealRequest){const v=this._horizontalRevealRequest;if(i.startLineNumber<=v.minLineNumber&&v.maxLineNumber<=i.endLineNumber){this._horizontalRevealRequest=null,this.onDidRender();const V=this._computeScrollLeftToReveal(v);V&&(this._isViewportWrapping||this._ensureMaxLineWidth(V.maxHorizontalOffset),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:V.scrollLeft},v.scrollType))}}if(this._updateLineWidthsFast()||this._asyncUpdateLineWidths.schedule(),b.IJ&&!this._asyncCheckMonospaceFontAssumptions.isScheduled()){const v=this._visibleLines.getStartLineNumber(),V=this._visibleLines.getEndLineNumber();for(let $=v;$<=V;$++)if(this._visibleLines.getVisibleLine($).needsMonospaceFontCheck()){this._asyncCheckMonospaceFontAssumptions.schedule();break}}this._linesContent.setLayerHinting(this._canUseLayerHinting),this._linesContent.setContain("strict");const c=this._context.viewLayout.getCurrentScrollTop()-i.bigNumbersDelta;this._linesContent.setTop(-c),this._linesContent.setLeft(-this._context.viewLayout.getCurrentScrollLeft())}_ensureMaxLineWidth(i){const c=Math.ceil(i);this._maxLineWidth<c&&(this._maxLineWidth=c,this._context.viewModel.viewLayout.setMaxLineWidth(this._maxLineWidth))}_computeScrollTopToRevealRange(i,c,v,V,$,ce){const be=i.top,Me=i.height,Oe=be+Me;let Qe,lt,Nt;if($&&$.length>0){let an=$[0].startLineNumber,gn=$[0].endLineNumber;for(let un=1,zn=$.length;un<zn;un++){const Un=$[un];an=Math.min(an,Un.startLineNumber),gn=Math.max(gn,Un.endLineNumber)}Qe=!1,lt=this._context.viewLayout.getVerticalOffsetForLineNumber(an),Nt=this._context.viewLayout.getVerticalOffsetForLineNumber(gn)+this._lineHeight}else if(V)Qe=!0,lt=this._context.viewLayout.getVerticalOffsetForLineNumber(V.startLineNumber),Nt=this._context.viewLayout.getVerticalOffsetForLineNumber(V.endLineNumber)+this._lineHeight;else return-1;if((c==="mouse"||v)&&this._cursorSurroundingLinesStyle==="default")v||(lt-=this._lineHeight);else{const an=Math.min(Me/this._lineHeight/2,this._cursorSurroundingLines);lt-=an*this._lineHeight,Nt+=Math.max(0,an-1)*this._lineHeight}(ce===0||ce===4)&&(Nt+=v?this._horizontalScrollbarHeight:this._lineHeight);let Yt;if(Nt-lt>Me){if(!Qe)return-1;Yt=lt}else if(ce===5||ce===6)if(ce===6&&be<=lt&&Nt<=Oe)Yt=be;else{const an=Math.max(5*this._lineHeight,Me*.2),gn=lt-an,un=Nt-Me;Yt=Math.max(un,gn)}else if(ce===1||ce===2)if(ce===2&&be<=lt&&Nt<=Oe)Yt=be;else{const an=(lt+Nt)/2;Yt=Math.max(0,an-Me/2)}else Yt=this._computeMinimumScrolling(be,Oe,lt,Nt,ce===3,ce===4);return Yt}_computeScrollLeftToReveal(i){const c=this._context.viewLayout.getCurrentViewport(),v=c.left,V=v+c.width;let $=1073741824,ce=0;if(i.type==="range"){const Me=this._visibleRangesForLineRange(i.lineNumber,i.startColumn,i.endColumn);if(!Me)return null;for(const Oe of Me.ranges)$=Math.min($,Math.round(Oe.left)),ce=Math.max(ce,Math.round(Oe.left+Oe.width))}else for(const Me of i.selections){if(Me.startLineNumber!==Me.endLineNumber)return null;const Oe=this._visibleRangesForLineRange(Me.startLineNumber,Me.startColumn,Me.endColumn);if(!Oe)return null;for(const Qe of Oe.ranges)$=Math.min($,Math.round(Qe.left)),ce=Math.max(ce,Math.round(Qe.left+Qe.width))}return i.minimalReveal||($=Math.max(0,$-eo.HORIZONTAL_EXTRA_PX),ce+=this._revealHorizontalRightPadding),i.type==="selections"&&ce-$>c.width?null:{scrollLeft:this._computeMinimumScrolling(v,V,$,ce),maxHorizontalOffset:ce}}_computeMinimumScrolling(i,c,v,V,$,ce){i=i|0,c=c|0,v=v|0,V=V|0,$=!!$,ce=!!ce;const be=c-i;if(V-v<be){if($)return v;if(ce)return Math.max(0,V-be);if(v<i)return v;if(V>c)return Math.max(0,V-be)}else return v;return i}}eo.HORIZONTAL_EXTRA_PX=30;class so extends ws{constructor(i){super(),this._context=i;const v=this._context.configuration.options.get(133);this._decorationsLeft=v.decorationsLeft,this._decorationsWidth=v.decorationsWidth,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const v=this._context.configuration.options.get(133);return this._decorationsLeft=v.decorationsLeft,this._decorationsWidth=v.decorationsWidth,!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const c=i.getDecorationsInViewport(),v=[];let V=0;for(let $=0,ce=c.length;$<ce;$++){const be=c[$],Me=be.options.linesDecorationsClassName;Me&&(v[V++]=new Di(be.range.startLineNumber,be.range.endLineNumber,Me));const Oe=be.options.firstLineDecorationClassName;Oe&&(v[V++]=new Di(be.range.startLineNumber,be.range.startLineNumber,Oe))}return v}prepareRender(i){const c=i.visibleRange.startLineNumber,v=i.visibleRange.endLineNumber,V=this._render(c,v,this._getDecorations(i)),$=this._decorationsLeft.toString(),ce=this._decorationsWidth.toString(),be='" style="left:'+$+"px;width:"+ce+'px;"></div>',Me=[];for(let Oe=c;Oe<=v;Oe++){const Qe=Oe-c,lt=V[Qe];let Nt="";for(let Dt=0,Yt=lt.length;Dt<Yt;Dt++)Nt+='<div class="cldr '+lt[Dt]+be;Me[Qe]=Nt}this._renderResult=Me}render(i,c){return this._renderResult?this._renderResult[c-i]:""}}class oo extends ws{constructor(i){super(),this._context=i,this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){return!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_getDecorations(i){const c=i.getDecorationsInViewport(),v=[];let V=0;for(let $=0,ce=c.length;$<ce;$++){const be=c[$],Me=be.options.marginClassName;Me&&(v[V++]=new Di(be.range.startLineNumber,be.range.endLineNumber,Me))}return v}prepareRender(i){const c=i.visibleRange.startLineNumber,v=i.visibleRange.endLineNumber,V=this._render(c,v,this._getDecorations(i)),$=[];for(let ce=c;ce<=v;ce++){const be=ce-c,Me=V[be];let Oe="";for(let Qe=0,lt=Me.length;Qe<lt;Qe++)Oe+='<div class="cmdr '+Me[Qe]+'" style=""></div>';$[be]=Oe}this._renderResult=$}render(i,c){return this._renderResult?this._renderResult[c-i]:""}}var Ho=l(9138);class es{constructor(i,c,v,V){this._rgba8Brand=void 0,this.r=es._clamp(i),this.g=es._clamp(c),this.b=es._clamp(v),this.a=es._clamp(V)}equals(i){return this.r===i.r&&this.g===i.g&&this.b===i.b&&this.a===i.a}static _clamp(i){return i<0?0:i>255?255:i|0}}es.Empty=new es(0,0,0,0);class as extends S.JT{constructor(){super(),this._onDidChange=new T.Q5,this.onDidChange=this._onDidChange.event,this._updateColorMap(),this._register(jn.RW.onDidChange(i=>{i.changedColorMap&&this._updateColorMap()}))}static getInstance(){return this._INSTANCE||(this._INSTANCE=(0,S.dk)(new as)),this._INSTANCE}_updateColorMap(){const i=jn.RW.getColorMap();if(!i){this._colors=[es.Empty],this._backgroundIsLight=!0;return}this._colors=[es.Empty];for(let v=1;v<i.length;v++){const V=i[v].rgba;this._colors[v]=new es(V.r,V.g,V.b,Math.round(V.a*255))}const c=i[2].getRelativeLuminance();this._backgroundIsLight=c>=.5,this._onDidChange.fire(void 0)}getColor(i){return(i<1||i>=this._colors.length)&&(i=2),this._colors[i]}backgroundIsLight(){return this._backgroundIsLight}}as._INSTANCE=null;var xo=l(62895);const Yi=(()=>{const pt=[];for(let i=32;i<=126;i++)pt.push(i);return pt.push(65533),pt})(),Ln=(pt,i)=>(pt-=32,pt<0||pt>96?i<=2?(pt+96)%96:96-1:pt);var hi=l(96796);class si{constructor(i,c){this.scale=c,this._minimapCharRendererBrand=void 0,this.charDataNormal=si.soften(i,12/15),this.charDataLight=si.soften(i,50/60)}static soften(i,c){const v=new Uint8ClampedArray(i.length);for(let V=0,$=i.length;V<$;V++)v[V]=(0,hi.K)(i[V]*c);return v}renderChar(i,c,v,V,$,ce,be,Me,Oe,Qe,lt){const Nt=1*this.scale,Dt=2*this.scale,Yt=lt?1:Dt;if(c+Nt>i.width||v+Yt>i.height){console.warn("bad render request outside image data");return}const an=Qe?this.charDataLight:this.charDataNormal,gn=Ln(V,Oe),un=i.width*4,zn=be.r,Un=be.g,Ri=be.b,_i=$.r-zn,Vi=$.g-Un,Fi=$.b-Ri,pi=Math.max(ce,Me),ji=i.data;let is=gn*Nt*Dt,zi=v*un+c*4;for(let ro=0;ro<Yt;ro++){let Js=zi;for(let To=0;To<Nt;To++){const Pi=an[is++]/255*(ce/255);ji[Js++]=zn+_i*Pi,ji[Js++]=Un+Vi*Pi,ji[Js++]=Ri+Fi*Pi,ji[Js++]=pi}zi+=un}}blockRenderChar(i,c,v,V,$,ce,be,Me){const Oe=1*this.scale,Qe=2*this.scale,lt=Me?1:Qe;if(c+Oe>i.width||v+lt>i.height){console.warn("bad render request outside image data");return}const Nt=i.width*4,Dt=.5*($/255),Yt=ce.r,an=ce.g,gn=ce.b,un=V.r-Yt,zn=V.g-an,Un=V.b-gn,Ri=Yt+un*Dt,_i=an+zn*Dt,Vi=gn+Un*Dt,Fi=Math.max($,be),pi=i.data;let ji=v*Nt+c*4;for(let is=0;is<lt;is++){let zi=ji;for(let ro=0;ro<Oe;ro++)pi[zi++]=Ri,pi[zi++]=_i,pi[zi++]=Vi,pi[zi++]=Fi;ji+=Nt}}}var ns=l(48466);const Xs={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15},ki=pt=>{const i=new Uint8ClampedArray(pt.length/2);for(let c=0;c<pt.length;c+=2)i[c>>1]=Xs[pt[c]]<<4|Xs[pt[c+1]]&15;return i},we={1:(0,ns.I)(()=>ki("0000511D6300CF609C709645A78432005642574171487021003C451900274D35D762755E8B629C5BA856AF57BA649530C167D1512A272A3F6038604460398526BCA2A968DB6F8957C768BE5FBE2FB467CF5D8D5B795DC7625B5DFF50DE64C466DB2FC47CD860A65E9A2EB96CB54CE06DA763AB2EA26860524D3763536601005116008177A8705E53AB738E6A982F88BAA35B5F5B626D9C636B449B737E5B7B678598869A662F6B5B8542706C704C80736A607578685B70594A49715A4522E792")),2:(0,ns.I)(()=>ki("000000000000000055394F383D2800008B8B1F210002000081B1CBCBCC820000847AAF6B9AAF2119BE08B8881AD60000A44FD07DCCF107015338130C00000000385972265F390B406E2437634B4B48031B12B8A0847000001E15B29A402F0000000000004B33460B00007A752C2A0000000000004D3900000084394B82013400ABA5CFC7AD9C0302A45A3E5A98AB000089A43382D97900008BA54AA087A70A0248A6A7AE6DBE0000BF6F94987EA40A01A06DCFA7A7A9030496C32F77891D0000A99FB1A0AFA80603B29AB9CA75930D010C0948354D3900000C0948354F37460D0028BE673D8400000000AF9D7B6E00002B007AA8933400007AA642675C2700007984CFB9C3985B768772A8A6B7B20000CAAECAAFC4B700009F94A6009F840009D09F9BA4CA9C0000CC8FC76DC87F0000C991C472A2000000A894A48CA7B501079BA2C9C69BA20000B19A5D3FA89000005CA6009DA2960901B0A7F0669FB200009D009E00B7890000DAD0F5D092820000D294D4C48BD10000B5A7A4A3B1A50402CAB6CBA6A2000000B5A7A4A3B1A8044FCDADD19D9CB00000B7778F7B8AAE0803C9AB5D3F5D3F00009EA09EA0BAB006039EA0989A8C7900009B9EF4D6B7C00000A9A7816CACA80000ABAC84705D3F000096DA635CDC8C00006F486F266F263D4784006124097B00374F6D2D6D2D6D4A3A95872322000000030000000000008D8939130000000000002E22A5C9CBC70600AB25C0B5C9B400061A2DB04CA67001082AA6BEBEBFC606002321DACBC19E03087AA08B6768380000282FBAC0B8CA7A88AD25BBA5A29900004C396C5894A6000040485A6E356E9442A32CD17EADA70000B4237923628600003E2DE9C1D7B500002F25BBA5A2990000231DB6AFB4A804023025C0B5CAB588062B2CBDBEC0C706882435A75CA20000002326BD6A82A908048B4B9A5A668000002423A09CB4BB060025259C9D8A7900001C1FCAB2C7C700002A2A9387ABA200002626A4A47D6E9D14333163A0C87500004B6F9C2D643A257049364936493647358A34438355497F1A0000A24C1D590000D38DFFBDD4CD3126"))};class k{static create(i,c){if(this.lastCreated&&i===this.lastCreated.scale&&c===this.lastFontFamily)return this.lastCreated;let v;return we[i]?v=new si(we[i](),i):v=k.createFromSampleData(k.createSampleData(c).data,i),this.lastFontFamily=c,this.lastCreated=v,v}static createSampleData(i){const c=document.createElement("canvas"),v=c.getContext("2d");c.style.height=`${16}px`,c.height=16,c.width=96*10,c.style.width=96*10+"px",v.fillStyle="#ffffff",v.font=`bold ${16}px ${i}`,v.textBaseline="middle";let V=0;for(const $ of Yi)v.fillText(String.fromCharCode($),V,16/2),V+=10;return v.getImageData(0,0,96*10,16)}static createFromSampleData(i,c){if(i.length!==61440)throw new Error("Unexpected source in MinimapCharRenderer");const V=k._downsample(i,c);return new si(V,c)}static _downsampleChar(i,c,v,V,$){const ce=1*$,be=2*$;let Me=V,Oe=0;for(let Qe=0;Qe<be;Qe++){const lt=Qe/be*16,Nt=(Qe+1)/be*16;for(let Dt=0;Dt<ce;Dt++){const Yt=Dt/ce*10,an=(Dt+1)/ce*10;let gn=0,un=0;for(let Un=lt;Un<Nt;Un++){const Ri=c+Math.floor(Un)*3840,_i=1-(Un-Math.floor(Un));for(let Vi=Yt;Vi<an;Vi++){const Fi=1-(Vi-Math.floor(Vi)),pi=Ri+Math.floor(Vi)*4,ji=Fi*_i;un+=ji,gn+=i[pi]*i[pi+3]/255*ji}}const zn=gn/un;Oe=Math.max(Oe,zn),v[Me++]=(0,hi.K)(zn)}}return Oe}static _downsample(i,c){const v=2*c*1*c,V=v*96,$=new Uint8ClampedArray(V);let ce=0,be=0,Me=0;for(let Oe=0;Oe<96;Oe++)Me=Math.max(Me,this._downsampleChar(i,be,$,ce,c)),ce+=v,be+=10*4;if(Me>0){const Oe=255/Me;for(let Qe=0;Qe<V;Qe++)$[Qe]*=Oe}return $}}var F=l(6276);const m=140,B=2;class ee{constructor(i,c,v){const V=i.options,$=V.get(131),ce=V.get(133),be=ce.minimap,Me=V.get(46),Oe=V.get(67);this.renderMinimap=be.renderMinimap,this.size=Oe.size,this.minimapHeightIsEditorHeight=be.minimapHeightIsEditorHeight,this.scrollBeyondLastLine=V.get(96),this.showSlider=Oe.showSlider,this.autohide=Oe.autohide,this.pixelRatio=$,this.typicalHalfwidthCharacterWidth=Me.typicalHalfwidthCharacterWidth,this.lineHeight=V.get(61),this.minimapLeft=be.minimapLeft,this.minimapWidth=be.minimapWidth,this.minimapHeight=ce.height,this.canvasInnerWidth=be.minimapCanvasInnerWidth,this.canvasInnerHeight=be.minimapCanvasInnerHeight,this.canvasOuterWidth=be.minimapCanvasOuterWidth,this.canvasOuterHeight=be.minimapCanvasOuterHeight,this.isSampling=be.minimapIsSampling,this.editorHeight=ce.height,this.fontScale=be.minimapScale,this.minimapLineHeight=be.minimapLineHeight,this.minimapCharWidth=1*this.fontScale,this.charRenderer=(0,ns.I)(()=>k.create(this.fontScale,Me.fontFamily)),this.defaultBackgroundColor=v.getColor(2),this.backgroundColor=ee._getMinimapBackground(c,this.defaultBackgroundColor),this.foregroundAlpha=ee._getMinimapForegroundOpacity(c)}static _getMinimapBackground(i,c){const v=i.getColor(gi.kVY);return v?new es(v.rgba.r,v.rgba.g,v.rgba.b,Math.round(255*v.rgba.a)):c}static _getMinimapForegroundOpacity(i){const c=i.getColor(gi.Itd);return c?es._clamp(Math.round(255*c.rgba.a)):255}equals(i){return this.renderMinimap===i.renderMinimap&&this.size===i.size&&this.minimapHeightIsEditorHeight===i.minimapHeightIsEditorHeight&&this.scrollBeyondLastLine===i.scrollBeyondLastLine&&this.showSlider===i.showSlider&&this.autohide===i.autohide&&this.pixelRatio===i.pixelRatio&&this.typicalHalfwidthCharacterWidth===i.typicalHalfwidthCharacterWidth&&this.lineHeight===i.lineHeight&&this.minimapLeft===i.minimapLeft&&this.minimapWidth===i.minimapWidth&&this.minimapHeight===i.minimapHeight&&this.canvasInnerWidth===i.canvasInnerWidth&&this.canvasInnerHeight===i.canvasInnerHeight&&this.canvasOuterWidth===i.canvasOuterWidth&&this.canvasOuterHeight===i.canvasOuterHeight&&this.isSampling===i.isSampling&&this.editorHeight===i.editorHeight&&this.fontScale===i.fontScale&&this.minimapLineHeight===i.minimapLineHeight&&this.minimapCharWidth===i.minimapCharWidth&&this.defaultBackgroundColor&&this.defaultBackgroundColor.equals(i.defaultBackgroundColor)&&this.backgroundColor&&this.backgroundColor.equals(i.backgroundColor)&&this.foregroundAlpha===i.foregroundAlpha}}class fe{constructor(i,c,v,V,$,ce,be,Me){this.scrollTop=i,this.scrollHeight=c,this.sliderNeeded=v,this._computedSliderRatio=V,this.sliderTop=$,this.sliderHeight=ce,this.startLineNumber=be,this.endLineNumber=Me}getDesiredScrollTopFromDelta(i){return Math.round(this.scrollTop+i/this._computedSliderRatio)}getDesiredScrollTopFromTouchLocation(i){return Math.round((i-this.sliderHeight/2)/this._computedSliderRatio)}static create(i,c,v,V,$,ce,be,Me,Oe,Qe,lt){const Nt=i.pixelRatio,Dt=i.minimapLineHeight,Yt=Math.floor(i.canvasInnerHeight/Dt),an=i.lineHeight;if(i.minimapHeightIsEditorHeight){const _i=Me*i.lineHeight+(i.scrollBeyondLastLine?$-i.lineHeight:0),Vi=Math.max(1,Math.floor($*$/_i)),Fi=Math.max(0,i.minimapHeight-Vi),pi=Fi/(Qe-$),ji=Oe*pi,is=Fi>0,zi=Math.floor(i.canvasInnerHeight/i.minimapLineHeight);return new fe(Oe,Qe,is,pi,ji,Vi,1,Math.min(be,zi))}let gn;if(ce&&v!==be){const _i=v-c+1;gn=Math.floor(_i*Dt/Nt)}else{const _i=$/an;gn=Math.floor(_i*Dt/Nt)}let un;i.scrollBeyondLastLine?un=(be-1)*Dt/Nt:un=Math.max(0,be*Dt/Nt-gn),un=Math.min(i.minimapHeight-gn,un);const zn=un/(Qe-$),Un=Oe*zn;let Ri=0;if(i.scrollBeyondLastLine&&(Ri=$/an-1),Yt>=be+Ri){const Vi=be,Fi=un>0;return new fe(Oe,Qe,Fi,zn,Un,gn,1,Vi)}else{let _i=Math.max(1,Math.floor(c-Un*Nt/Dt));lt&&lt.scrollHeight===Qe&&(lt.scrollTop>Oe&&(_i=Math.min(_i,lt.startLineNumber)),lt.scrollTop<Oe&&(_i=Math.max(_i,lt.startLineNumber)));const Vi=Math.min(be,_i+Yt-1),Fi=(Oe-V)/an,pi=(c-_i+Fi)*Dt/Nt;return new fe(Oe,Qe,!0,zn,pi,gn,_i,Vi)}}}class Ie{constructor(i){this.dy=i}onContentChanged(){this.dy=-1}onTokensChanged(){this.dy=-1}}Ie.INVALID=new Ie(-1);class Te{constructor(i,c,v){this.renderedLayout=i,this._imageData=c,this._renderedLines=new nn(()=>Ie.INVALID),this._renderedLines._set(i.startLineNumber,v)}linesEquals(i){if(!this.scrollEquals(i))return!1;const v=this._renderedLines._get().lines;for(let V=0,$=v.length;V<$;V++)if(v[V].dy===-1)return!1;return!0}scrollEquals(i){return this.renderedLayout.startLineNumber===i.startLineNumber&&this.renderedLayout.endLineNumber===i.endLineNumber}_get(){const i=this._renderedLines._get();return{imageData:this._imageData,rendLineNumberStart:i.rendLineNumberStart,lines:i.lines}}onLinesChanged(i,c){return this._renderedLines.onLinesChanged(i,c)}onLinesDeleted(i,c){this._renderedLines.onLinesDeleted(i,c)}onLinesInserted(i,c){this._renderedLines.onLinesInserted(i,c)}onTokensChanged(i){return this._renderedLines.onTokensChanged(i)}}class Je{constructor(i,c,v,V){this._backgroundFillData=Je._createBackgroundFillData(c,v,V),this._buffers=[i.createImageData(c,v),i.createImageData(c,v)],this._lastUsedBuffer=0}getBuffer(){this._lastUsedBuffer=1-this._lastUsedBuffer;const i=this._buffers[this._lastUsedBuffer];return i.data.set(this._backgroundFillData),i}static _createBackgroundFillData(i,c,v){const V=v.r,$=v.g,ce=v.b,be=v.a,Me=new Uint8ClampedArray(i*c*4);let Oe=0;for(let Qe=0;Qe<c;Qe++)for(let lt=0;lt<i;lt++)Me[Oe]=V,Me[Oe+1]=$,Me[Oe+2]=ce,Me[Oe+3]=be,Oe+=4;return Me}}class it{constructor(i,c){this.samplingRatio=i,this.minimapLines=c}static compute(i,c,v){if(i.renderMinimap===0||!i.isSampling)return[null,[]];const V=i.pixelRatio,$=i.lineHeight,ce=i.scrollBeyondLastLine,{minimapLineCount:be}=Z.gk.computeContainedMinimapLineCount({viewLineCount:c,scrollBeyondLastLine:ce,height:i.editorHeight,lineHeight:$,pixelRatio:V}),Me=c/be,Oe=Me/2;if(!v||v.minimapLines.length===0){const Un=[];if(Un[0]=1,be>1){for(let Ri=0,_i=be-1;Ri<_i;Ri++)Un[Ri]=Math.round(Ri*Me+Oe);Un[be-1]=c}return[new it(Me,Un),[]]}const Qe=v.minimapLines,lt=Qe.length,Nt=[];let Dt=0,Yt=0,an=1;const gn=10;let un=[],zn=null;for(let Un=0;Un<be;Un++){const Ri=Math.max(an,Math.round(Un*Me)),_i=Math.max(Ri,Math.round((Un+1)*Me));for(;Dt<lt&&Qe[Dt]<Ri;){if(un.length<gn){const Fi=Dt+1+Yt;zn&&zn.type==="deleted"&&zn._oldIndex===Dt-1?zn.deleteToLineNumber++:(zn={type:"deleted",_oldIndex:Dt,deleteFromLineNumber:Fi,deleteToLineNumber:Fi},un.push(zn)),Yt--}Dt++}let Vi;if(Dt<lt&&Qe[Dt]<=_i)Vi=Qe[Dt],Dt++;else if(Un===0?Vi=1:Un+1===be?Vi=c:Vi=Math.round(Un*Me+Oe),un.length<gn){const Fi=Dt+1+Yt;zn&&zn.type==="inserted"&&zn._i===Un-1?zn.insertToLineNumber++:(zn={type:"inserted",_i:Un,insertFromLineNumber:Fi,insertToLineNumber:Fi},un.push(zn)),Yt++}Nt[Un]=Vi,an=Vi}if(un.length<gn)for(;Dt<lt;){const Un=Dt+1+Yt;zn&&zn.type==="deleted"&&zn._oldIndex===Dt-1?zn.deleteToLineNumber++:(zn={type:"deleted",_oldIndex:Dt,deleteFromLineNumber:Un,deleteToLineNumber:Un},un.push(zn)),Yt--,Dt++}else un=[{type:"flush"}];return[new it(Me,Nt),un]}modelLineToMinimapLine(i){return Math.min(this.minimapLines.length,Math.max(1,Math.round(i/this.samplingRatio)))}modelLineRangeToMinimapLineRange(i,c){let v=this.modelLineToMinimapLine(i)-1;for(;v>0&&this.minimapLines[v-1]>=i;)v--;let V=this.modelLineToMinimapLine(c)-1;for(;V+1<this.minimapLines.length&&this.minimapLines[V+1]<=c;)V++;if(v===V){const $=this.minimapLines[v];if($<i||$>c)return null}return[v+1,V+1]}decorationLineRangeToMinimapLineRange(i,c){let v=this.modelLineToMinimapLine(i),V=this.modelLineToMinimapLine(c);return i!==c&&V===v&&(V===this.minimapLines.length?v>1&&v--:V++),[v,V]}onLinesDeleted(i){const c=i.toLineNumber-i.fromLineNumber+1;let v=this.minimapLines.length,V=0;for(let $=this.minimapLines.length-1;$>=0&&!(this.minimapLines[$]<i.fromLineNumber);$--)this.minimapLines[$]<=i.toLineNumber?(this.minimapLines[$]=Math.max(1,i.fromLineNumber-1),v=Math.min(v,$),V=Math.max(V,$)):this.minimapLines[$]-=c;return[v,V]}onLinesInserted(i){const c=i.toLineNumber-i.fromLineNumber+1;for(let v=this.minimapLines.length-1;v>=0&&!(this.minimapLines[v]<i.fromLineNumber);v--)this.minimapLines[v]+=c}}class Ct extends Ze{constructor(i){super(i),this.tokensColorTracker=as.getInstance(),this._selections=[],this._minimapSelections=null,this.options=new ee(this._context.configuration,this._context.theme,this.tokensColorTracker);const[c]=it.compute(this.options,this._context.viewModel.getLineCount(),null);this._samplingState=c,this._shouldCheckSampling=!1,this._actual=new It(i.theme,this)}dispose(){this._actual.dispose(),super.dispose()}getDomNode(){return this._actual.getDomNode()}_onOptionsMaybeChanged(){const i=new ee(this._context.configuration,this._context.theme,this.tokensColorTracker);return this.options.equals(i)?!1:(this.options=i,this._recreateLineSampling(),this._actual.onDidChangeOptions(),!0)}onConfigurationChanged(i){return this._onOptionsMaybeChanged()}onCursorStateChanged(i){return this._selections=i.selections,this._minimapSelections=null,this._actual.onSelectionChanged()}onDecorationsChanged(i){return i.affectsMinimap?this._actual.onDecorationsChanged():!1}onFlushed(i){return this._samplingState&&(this._shouldCheckSampling=!0),this._actual.onFlushed()}onLinesChanged(i){if(this._samplingState){const c=this._samplingState.modelLineRangeToMinimapLineRange(i.fromLineNumber,i.fromLineNumber+i.count-1);return c?this._actual.onLinesChanged(c[0],c[1]-c[0]+1):!1}else return this._actual.onLinesChanged(i.fromLineNumber,i.count)}onLinesDeleted(i){if(this._samplingState){const[c,v]=this._samplingState.onLinesDeleted(i);return c<=v&&this._actual.onLinesChanged(c+1,v-c+1),this._shouldCheckSampling=!0,!0}else return this._actual.onLinesDeleted(i.fromLineNumber,i.toLineNumber)}onLinesInserted(i){return this._samplingState?(this._samplingState.onLinesInserted(i),this._shouldCheckSampling=!0,!0):this._actual.onLinesInserted(i.fromLineNumber,i.toLineNumber)}onScrollChanged(i){return this._actual.onScrollChanged()}onThemeChanged(i){return this._actual.onThemeChanged(),this._onOptionsMaybeChanged(),!0}onTokensChanged(i){if(this._samplingState){const c=[];for(const v of i.ranges){const V=this._samplingState.modelLineRangeToMinimapLineRange(v.fromLineNumber,v.toLineNumber);V&&c.push({fromLineNumber:V[0],toLineNumber:V[1]})}return c.length?this._actual.onTokensChanged(c):!1}else return this._actual.onTokensChanged(i.ranges)}onTokensColorsChanged(i){return this._onOptionsMaybeChanged(),this._actual.onTokensColorsChanged()}onZonesChanged(i){return this._actual.onZonesChanged()}prepareRender(i){this._shouldCheckSampling&&(this._shouldCheckSampling=!1,this._recreateLineSampling())}render(i){let c=i.visibleRange.startLineNumber,v=i.visibleRange.endLineNumber;this._samplingState&&(c=this._samplingState.modelLineToMinimapLine(c),v=this._samplingState.modelLineToMinimapLine(v));const V={viewportContainsWhitespaceGaps:i.viewportData.whitespaceViewportData.length>0,scrollWidth:i.scrollWidth,scrollHeight:i.scrollHeight,viewportStartLineNumber:c,viewportEndLineNumber:v,viewportStartLineNumberVerticalOffset:i.getVerticalOffsetForLineNumber(c),scrollTop:i.scrollTop,scrollLeft:i.scrollLeft,viewportWidth:i.viewportWidth,viewportHeight:i.viewportHeight};this._actual.render(V)}_recreateLineSampling(){this._minimapSelections=null;const i=Boolean(this._samplingState),[c,v]=it.compute(this.options,this._context.viewModel.getLineCount(),this._samplingState);if(this._samplingState=c,i&&this._samplingState)for(const V of v)switch(V.type){case"deleted":this._actual.onLinesDeleted(V.deleteFromLineNumber,V.deleteToLineNumber);break;case"inserted":this._actual.onLinesInserted(V.insertFromLineNumber,V.insertToLineNumber);break;case"flush":this._actual.onFlushed();break}}getLineCount(){return this._samplingState?this._samplingState.minimapLines.length:this._context.viewModel.getLineCount()}getRealLineCount(){return this._context.viewModel.getLineCount()}getLineContent(i){return this._samplingState?this._context.viewModel.getLineContent(this._samplingState.minimapLines[i-1]):this._context.viewModel.getLineContent(i)}getLineMaxColumn(i){return this._samplingState?this._context.viewModel.getLineMaxColumn(this._samplingState.minimapLines[i-1]):this._context.viewModel.getLineMaxColumn(i)}getMinimapLinesRenderingData(i,c,v){if(this._samplingState){const V=[];for(let $=0,ce=c-i+1;$<ce;$++)v[$]?V[$]=this._context.viewModel.getViewLineData(this._samplingState.minimapLines[i+$-1]):V[$]=null;return V}return this._context.viewModel.getMinimapLinesRenderingData(i,c,v).data}getSelections(){if(this._minimapSelections===null)if(this._samplingState){this._minimapSelections=[];for(const i of this._selections){const[c,v]=this._samplingState.decorationLineRangeToMinimapLineRange(i.startLineNumber,i.endLineNumber);this._minimapSelections.push(new ke.Y(c,i.startColumn,v,i.endColumn))}}else this._minimapSelections=this._selections;return this._minimapSelections}getMinimapDecorationsInViewport(i,c){let v;if(this._samplingState){const $=this._samplingState.minimapLines[i-1],ce=this._samplingState.minimapLines[c-1];v=new je.e($,1,ce,this._context.viewModel.getLineMaxColumn(ce))}else v=new je.e(i,1,c,this._context.viewModel.getLineMaxColumn(c));const V=this._context.viewModel.getDecorationsInViewport(v);if(this._samplingState){const $=[];for(const ce of V){if(!ce.options.minimap)continue;const be=ce.range,Me=this._samplingState.modelLineToMinimapLine(be.startLineNumber),Oe=this._samplingState.modelLineToMinimapLine(be.endLineNumber);$.push(new xo.$l(new je.e(Me,be.startColumn,Oe,be.endColumn),ce.options))}return $}return V}getOptions(){return this._context.viewModel.model.getOptions()}revealLineNumber(i){this._samplingState&&(i=this._samplingState.minimapLines[i-1]),this._context.viewModel.revealRange("mouse",!1,new je.e(i,1,i,1),1,0)}setScrollTop(i){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:i},1)}}class It extends S.JT{constructor(i,c){super(),this._renderDecorations=!1,this._gestureInProgress=!1,this._theme=i,this._model=c,this._lastRenderData=null,this._buffers=null,this._selectionColor=this._theme.getColor(gi.ov3),this._domNode=(0,H.X)(document.createElement("div")),Ge.write(this._domNode,8),this._domNode.setClassName(this._getMinimapDomNodeClassName()),this._domNode.setPosition("absolute"),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._shadow=(0,H.X)(document.createElement("div")),this._shadow.setClassName("minimap-shadow-hidden"),this._domNode.appendChild(this._shadow),this._canvas=(0,H.X)(document.createElement("canvas")),this._canvas.setPosition("absolute"),this._canvas.setLeft(0),this._domNode.appendChild(this._canvas),this._decorationsCanvas=(0,H.X)(document.createElement("canvas")),this._decorationsCanvas.setPosition("absolute"),this._decorationsCanvas.setClassName("minimap-decorations-layer"),this._decorationsCanvas.setLeft(0),this._domNode.appendChild(this._decorationsCanvas),this._slider=(0,H.X)(document.createElement("div")),this._slider.setPosition("absolute"),this._slider.setClassName("minimap-slider"),this._slider.setLayerHinting(!0),this._slider.setContain("strict"),this._domNode.appendChild(this._slider),this._sliderHorizontal=(0,H.X)(document.createElement("div")),this._sliderHorizontal.setPosition("absolute"),this._sliderHorizontal.setClassName("minimap-slider-horizontal"),this._slider.appendChild(this._sliderHorizontal),this._applyLayout(),this._pointerDownListener=P.mu(this._domNode.domNode,P.tw.POINTER_DOWN,v=>{if(v.preventDefault(),this._model.options.renderMinimap===0||!this._lastRenderData)return;if(this._model.options.size!=="proportional"){if(v.button===0&&this._lastRenderData){const Oe=P.i(this._slider.domNode),Qe=Oe.top+Oe.height/2;this._startSliderDragging(v,Qe,this._lastRenderData.renderedLayout)}return}const $=this._model.options.minimapLineHeight,ce=this._model.options.canvasInnerHeight/this._model.options.canvasOuterHeight*v.offsetY;let Me=Math.floor(ce/$)+this._lastRenderData.renderedLayout.startLineNumber;Me=Math.min(Me,this._model.getLineCount()),this._model.revealLineNumber(Me)}),this._sliderPointerMoveMonitor=new Ho.C,this._sliderPointerDownListener=P.mu(this._slider.domNode,P.tw.POINTER_DOWN,v=>{v.preventDefault(),v.stopPropagation(),v.button===0&&this._lastRenderData&&this._startSliderDragging(v,v.pageY,this._lastRenderData.renderedLayout)}),this._gestureDisposable=ut.o.addTarget(this._domNode.domNode),this._sliderTouchStartListener=P.nm(this._domNode.domNode,ut.t.Start,v=>{v.preventDefault(),v.stopPropagation(),this._lastRenderData&&(this._slider.toggleClassName("active",!0),this._gestureInProgress=!0,this.scrollDueToTouchEvent(v))},{passive:!1}),this._sliderTouchMoveListener=P.nm(this._domNode.domNode,ut.t.Change,v=>{v.preventDefault(),v.stopPropagation(),this._lastRenderData&&this._gestureInProgress&&this.scrollDueToTouchEvent(v)},{passive:!1}),this._sliderTouchEndListener=P.mu(this._domNode.domNode,ut.t.End,v=>{v.preventDefault(),v.stopPropagation(),this._gestureInProgress=!1,this._slider.toggleClassName("active",!1)})}_startSliderDragging(i,c,v){if(!i.target||!(i.target instanceof Element))return;const V=i.pageX;this._slider.toggleClassName("active",!0);const $=(ce,be)=>{const Me=Math.abs(be-V);if(b.ED&&Me>m){this._model.setScrollTop(v.scrollTop);return}const Oe=ce-c;this._model.setScrollTop(v.getDesiredScrollTopFromDelta(Oe))};i.pageY!==c&&$(i.pageY,V),this._sliderPointerMoveMonitor.startMonitoring(i.target,i.pointerId,i.buttons,ce=>$(ce.pageY,ce.pageX),()=>{this._slider.toggleClassName("active",!1)})}scrollDueToTouchEvent(i){const c=this._domNode.domNode.getBoundingClientRect().top,v=this._lastRenderData.renderedLayout.getDesiredScrollTopFromTouchLocation(i.pageY-c);this._model.setScrollTop(v)}dispose(){this._pointerDownListener.dispose(),this._sliderPointerMoveMonitor.dispose(),this._sliderPointerDownListener.dispose(),this._gestureDisposable.dispose(),this._sliderTouchStartListener.dispose(),this._sliderTouchMoveListener.dispose(),this._sliderTouchEndListener.dispose(),super.dispose()}_getMinimapDomNodeClassName(){const i=["minimap"];return this._model.options.showSlider==="always"?i.push("slider-always"):i.push("slider-mouseover"),this._model.options.autohide&&i.push("autohide"),i.join(" ")}getDomNode(){return this._domNode}_applyLayout(){this._domNode.setLeft(this._model.options.minimapLeft),this._domNode.setWidth(this._model.options.minimapWidth),this._domNode.setHeight(this._model.options.minimapHeight),this._shadow.setHeight(this._model.options.minimapHeight),this._canvas.setWidth(this._model.options.canvasOuterWidth),this._canvas.setHeight(this._model.options.canvasOuterHeight),this._canvas.domNode.width=this._model.options.canvasInnerWidth,this._canvas.domNode.height=this._model.options.canvasInnerHeight,this._decorationsCanvas.setWidth(this._model.options.canvasOuterWidth),this._decorationsCanvas.setHeight(this._model.options.canvasOuterHeight),this._decorationsCanvas.domNode.width=this._model.options.canvasInnerWidth,this._decorationsCanvas.domNode.height=this._model.options.canvasInnerHeight,this._slider.setWidth(this._model.options.minimapWidth)}_getBuffer(){return this._buffers||this._model.options.canvasInnerWidth>0&&this._model.options.canvasInnerHeight>0&&(this._buffers=new Je(this._canvas.domNode.getContext("2d"),this._model.options.canvasInnerWidth,this._model.options.canvasInnerHeight,this._model.options.backgroundColor)),this._buffers?this._buffers.getBuffer():null}onDidChangeOptions(){this._lastRenderData=null,this._buffers=null,this._applyLayout(),this._domNode.setClassName(this._getMinimapDomNodeClassName())}onSelectionChanged(){return this._renderDecorations=!0,!0}onDecorationsChanged(){return this._renderDecorations=!0,!0}onFlushed(){return this._lastRenderData=null,!0}onLinesChanged(i,c){return this._lastRenderData?this._lastRenderData.onLinesChanged(i,c):!1}onLinesDeleted(i,c){var v;return(v=this._lastRenderData)===null||v===void 0||v.onLinesDeleted(i,c),!0}onLinesInserted(i,c){var v;return(v=this._lastRenderData)===null||v===void 0||v.onLinesInserted(i,c),!0}onScrollChanged(){return this._renderDecorations=!0,!0}onThemeChanged(){return this._selectionColor=this._theme.getColor(gi.ov3),this._renderDecorations=!0,!0}onTokensChanged(i){return this._lastRenderData?this._lastRenderData.onTokensChanged(i):!1}onTokensColorsChanged(){return this._lastRenderData=null,this._buffers=null,!0}onZonesChanged(){return this._lastRenderData=null,!0}render(i){if(this._model.options.renderMinimap===0){this._shadow.setClassName("minimap-shadow-hidden"),this._sliderHorizontal.setWidth(0),this._sliderHorizontal.setHeight(0);return}i.scrollLeft+i.viewportWidth>=i.scrollWidth?this._shadow.setClassName("minimap-shadow-hidden"):this._shadow.setClassName("minimap-shadow-visible");const v=fe.create(this._model.options,i.viewportStartLineNumber,i.viewportEndLineNumber,i.viewportStartLineNumberVerticalOffset,i.viewportHeight,i.viewportContainsWhitespaceGaps,this._model.getLineCount(),this._model.getRealLineCount(),i.scrollTop,i.scrollHeight,this._lastRenderData?this._lastRenderData.renderedLayout:null);this._slider.setDisplay(v.sliderNeeded?"block":"none"),this._slider.setTop(v.sliderTop),this._slider.setHeight(v.sliderHeight),this._sliderHorizontal.setLeft(0),this._sliderHorizontal.setWidth(this._model.options.minimapWidth),this._sliderHorizontal.setTop(0),this._sliderHorizontal.setHeight(v.sliderHeight),this.renderDecorations(v),this._lastRenderData=this.renderLines(v)}renderDecorations(i){if(this._renderDecorations){this._renderDecorations=!1;const c=this._model.getSelections();c.sort(je.e.compareRangesUsingStarts);const v=this._model.getMinimapDecorationsInViewport(i.startLineNumber,i.endLineNumber);v.sort((Nt,Dt)=>(Nt.options.zIndex||0)-(Dt.options.zIndex||0));const{canvasInnerWidth:V,canvasInnerHeight:$}=this._model.options,ce=this._model.options.minimapLineHeight,be=this._model.options.minimapCharWidth,Me=this._model.getOptions().tabSize,Oe=this._decorationsCanvas.domNode.getContext("2d");Oe.clearRect(0,0,V,$);const Qe=new Ut(i.startLineNumber,i.endLineNumber,!1);this._renderSelectionLineHighlights(Oe,c,Qe,i,ce),this._renderDecorationsLineHighlights(Oe,v,Qe,i,ce);const lt=new Ut(i.startLineNumber,i.endLineNumber,null);this._renderSelectionsHighlights(Oe,c,lt,i,ce,Me,be,V),this._renderDecorationsHighlights(Oe,v,lt,i,ce,Me,be,V)}}_renderSelectionLineHighlights(i,c,v,V,$){if(!this._selectionColor||this._selectionColor.isTransparent())return;i.fillStyle=this._selectionColor.transparent(.5).toString();let ce=0,be=0;for(const Me of c){const Oe=Math.max(V.startLineNumber,Me.startLineNumber),Qe=Math.min(V.endLineNumber,Me.endLineNumber);if(Oe>Qe)continue;for(let Dt=Oe;Dt<=Qe;Dt++)v.set(Dt,!0);const lt=(Oe-V.startLineNumber)*$,Nt=(Qe-V.startLineNumber)*$+$;be>=lt||(be>ce&&i.fillRect(Z.y0,ce,i.canvas.width,be-ce),ce=lt),be=Nt}be>ce&&i.fillRect(Z.y0,ce,i.canvas.width,be-ce)}_renderDecorationsLineHighlights(i,c,v,V,$){const ce=new Map;for(let be=c.length-1;be>=0;be--){const Me=c[be],Oe=Me.options.minimap;if(!Oe||Oe.position!==F.F5.Inline)continue;const Qe=Math.max(V.startLineNumber,Me.range.startLineNumber),lt=Math.min(V.endLineNumber,Me.range.endLineNumber);if(Qe>lt)continue;const Nt=Oe.getColor(this._theme.value);if(!Nt||Nt.isTransparent())continue;let Dt=ce.get(Nt.toString());Dt||(Dt=Nt.transparent(.5).toString(),ce.set(Nt.toString(),Dt)),i.fillStyle=Dt;for(let Yt=Qe;Yt<=lt;Yt++){if(v.has(Yt))continue;v.set(Yt,!0);const an=(Qe-V.startLineNumber)*$;i.fillRect(Z.y0,an,i.canvas.width,$)}}}_renderSelectionsHighlights(i,c,v,V,$,ce,be,Me){if(!(!this._selectionColor||this._selectionColor.isTransparent()))for(const Oe of c){const Qe=Math.max(V.startLineNumber,Oe.startLineNumber),lt=Math.min(V.endLineNumber,Oe.endLineNumber);if(!(Qe>lt))for(let Nt=Qe;Nt<=lt;Nt++)this.renderDecorationOnLine(i,v,Oe,this._selectionColor,V,Nt,$,$,ce,be,Me)}}_renderDecorationsHighlights(i,c,v,V,$,ce,be,Me){for(const Oe of c){const Qe=Oe.options.minimap;if(!Qe)continue;const lt=Math.max(V.startLineNumber,Oe.range.startLineNumber),Nt=Math.min(V.endLineNumber,Oe.range.endLineNumber);if(lt>Nt)continue;const Dt=Qe.getColor(this._theme.value);if(!(!Dt||Dt.isTransparent()))for(let Yt=lt;Yt<=Nt;Yt++)switch(Qe.position){case F.F5.Inline:this.renderDecorationOnLine(i,v,Oe.range,Dt,V,Yt,$,$,ce,be,Me);continue;case F.F5.Gutter:{const an=(Yt-V.startLineNumber)*$,gn=2;this.renderDecoration(i,Dt,gn,an,B,$);continue}}}}renderDecorationOnLine(i,c,v,V,$,ce,be,Me,Oe,Qe,lt){const Nt=(ce-$.startLineNumber)*Me;if(Nt+be<0||Nt>this._model.options.canvasInnerHeight)return;const{startLineNumber:Dt,endLineNumber:Yt}=v,an=Dt===ce?v.startColumn:1,gn=Yt===ce?v.endColumn:this._model.getLineMaxColumn(ce),un=this.getXOffsetForPosition(c,ce,an,Oe,Qe,lt),zn=this.getXOffsetForPosition(c,ce,gn,Oe,Qe,lt);this.renderDecoration(i,V,un,Nt,zn-un,be)}getXOffsetForPosition(i,c,v,V,$,ce){if(v===1)return Z.y0;if((v-1)*$>=ce)return ce;let Me=i.get(c);if(!Me){const Oe=this._model.getLineContent(c);Me=[Z.y0];let Qe=Z.y0;for(let lt=1;lt<Oe.length+1;lt++){const Nt=Oe.charCodeAt(lt-1),Dt=Nt===9?V*$:en.K7(Nt)?2*$:$,Yt=Qe+Dt;if(Yt>=ce){Me[lt]=ce;break}Me[lt]=Yt,Qe=Yt}i.set(c,Me)}return v-1<Me.length?Me[v-1]:ce}renderDecoration(i,c,v,V,$,ce){i.fillStyle=c&&c.toString()||"",i.fillRect(v,V,$,ce)}renderLines(i){const c=i.startLineNumber,v=i.endLineNumber,V=this._model.options.minimapLineHeight;if(this._lastRenderData&&this._lastRenderData.linesEquals(i)){const Pi=this._lastRenderData._get();return new Te(i,Pi.imageData,Pi.lines)}const $=this._getBuffer();if(!$)return null;const[ce,be,Me]=It._renderUntouchedLines($,c,v,V,this._lastRenderData),Oe=this._model.getMinimapLinesRenderingData(c,v,Me),Qe=this._model.getOptions().tabSize,lt=this._model.options.defaultBackgroundColor,Nt=this._model.options.backgroundColor,Dt=this._model.options.foregroundAlpha,Yt=this._model.tokensColorTracker,an=Yt.backgroundIsLight(),gn=this._model.options.renderMinimap,un=this._model.options.charRenderer(),zn=this._model.options.fontScale,Un=this._model.options.minimapCharWidth,_i=(gn===1?2:2+1)*zn,Vi=V>_i?Math.floor((V-_i)/2):0,Fi=Nt.a/255,pi=new es(Math.round((Nt.r-lt.r)*Fi+lt.r),Math.round((Nt.g-lt.g)*Fi+lt.g),Math.round((Nt.b-lt.b)*Fi+lt.b),255);let ji=0;const is=[];for(let Pi=0,vo=v-c+1;Pi<vo;Pi++)Me[Pi]&&It._renderLine($,pi,Nt.a,an,gn,Un,Yt,Dt,un,ji,Vi,Qe,Oe[Pi],zn,V),is[Pi]=new Ie(ji),ji+=V;const zi=ce===-1?0:ce,Js=(be===-1?$.height:be)-zi;return this._canvas.domNode.getContext("2d").putImageData($,0,0,0,zi,$.width,Js),new Te(i,$,is)}static _renderUntouchedLines(i,c,v,V,$){const ce=[];if(!$){for(let pi=0,ji=v-c+1;pi<ji;pi++)ce[pi]=!0;return[-1,-1,ce]}const be=$._get(),Me=be.imageData.data,Oe=be.rendLineNumberStart,Qe=be.lines,lt=Qe.length,Nt=i.width,Dt=i.data,Yt=(v-c+1)*V*Nt*4;let an=-1,gn=-1,un=-1,zn=-1,Un=-1,Ri=-1,_i=0;for(let pi=c;pi<=v;pi++){const ji=pi-c,is=pi-Oe,zi=is>=0&&is<lt?Qe[is].dy:-1;if(zi===-1){ce[ji]=!0,_i+=V;continue}const ro=zi*Nt*4,Js=(zi+V)*Nt*4,To=_i*Nt*4,Pi=(_i+V)*Nt*4;zn===ro&&Ri===To?(zn=Js,Ri=Pi):(un!==-1&&(Dt.set(Me.subarray(un,zn),Un),an===-1&&un===0&&un===Un&&(an=zn),gn===-1&&zn===Yt&&un===Un&&(gn=un)),un=ro,zn=Js,Un=To,Ri=Pi),ce[ji]=!1,_i+=V}un!==-1&&(Dt.set(Me.subarray(un,zn),Un),an===-1&&un===0&&un===Un&&(an=zn),gn===-1&&zn===Yt&&un===Un&&(gn=un));const Vi=an===-1?-1:an/(Nt*4),Fi=gn===-1?-1:gn/(Nt*4);return[Vi,Fi,ce]}static _renderLine(i,c,v,V,$,ce,be,Me,Oe,Qe,lt,Nt,Dt,Yt,an){const gn=Dt.content,un=Dt.tokens,zn=i.width-ce,Un=an===1;let Ri=Z.y0,_i=0,Vi=0;for(let Fi=0,pi=un.getCount();Fi<pi;Fi++){const ji=un.getEndOffset(Fi),is=un.getForeground(Fi),zi=be.getColor(is);for(;_i<ji;_i++){if(Ri>zn)return;const ro=gn.charCodeAt(_i);if(ro===9){const Js=Nt-(_i+Vi)%Nt;Vi+=Js-1,Ri+=Js*ce}else if(ro===32)Ri+=ce;else{const Js=en.K7(ro)?2:1;for(let To=0;To<Js;To++)if($===2?Oe.blockRenderChar(i,Ri,Qe+lt,zi,Me,c,v,Un):Oe.renderChar(i,Ri,Qe+lt,ro,zi,Me,c,v,Yt,V,Un),Ri+=ce,Ri>zn)return}}}}}class Ut{constructor(i,c,v){this._startLineNumber=i,this._endLineNumber=c,this._defaultValue=v,this._values=[];for(let V=0,$=this._endLineNumber-this._startLineNumber+1;V<$;V++)this._values[V]=v}has(i){return this.get(i)!==this._defaultValue}set(i,c){i<this._startLineNumber||i>this._endLineNumber||(this._values[i-this._startLineNumber]=c)}get(i){return i<this._startLineNumber||i>this._endLineNumber?this._defaultValue:this._values[i-this._startLineNumber]}}(0,Sn.Ic)((pt,i)=>{const c=pt.getColor(gi.CA6);c&&i.addRule(`.monaco-editor .minimap-slider .minimap-slider-horizontal { background: ${c}; }`);const v=pt.getColor(gi.Xy4);v&&i.addRule(`.monaco-editor .minimap-slider:hover .minimap-slider-horizontal { background: ${v}; }`);const V=pt.getColor(gi.brw);V&&i.addRule(`.monaco-editor .minimap-slider.active .minimap-slider-horizontal { background: ${V}; }`);const $=pt.getColor(gi._wn);$&&i.addRule(`.monaco-editor .minimap-shadow-visible { box-shadow: ${$} -6px 0 6px -6px inset; }`)});class sn extends Ze{constructor(i){super(i);const v=this._context.configuration.options.get(133);this._widgets={},this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,this._domNode=(0,H.X)(document.createElement("div")),Ge.write(this._domNode,4),this._domNode.setClassName("overlayWidgets")}dispose(){super.dispose(),this._widgets={}}getDomNode(){return this._domNode}onConfigurationChanged(i){const v=this._context.configuration.options.get(133);return this._verticalScrollbarWidth=v.verticalScrollbarWidth,this._minimapWidth=v.minimap.minimapWidth,this._horizontalScrollbarHeight=v.horizontalScrollbarHeight,this._editorHeight=v.height,this._editorWidth=v.width,!0}addWidget(i){const c=(0,H.X)(i.getDomNode());this._widgets[i.getId()]={widget:i,preference:null,domNode:c},c.setPosition("absolute"),c.setAttribute("widgetId",i.getId()),this._domNode.appendChild(c),this.setShouldRender()}setWidgetPosition(i,c){const v=this._widgets[i.getId()];return v.preference===c?!1:(v.preference=c,this.setShouldRender(),!0)}removeWidget(i){const c=i.getId();if(this._widgets.hasOwnProperty(c)){const V=this._widgets[c].domNode.domNode;delete this._widgets[c],V.parentNode.removeChild(V),this.setShouldRender()}}_renderWidget(i){const c=i.domNode;if(i.preference===null){c.setTop("");return}if(i.preference===0)c.setTop(0),c.setRight(2*this._verticalScrollbarWidth+this._minimapWidth);else if(i.preference===1){const v=c.domNode.clientHeight;c.setTop(this._editorHeight-v-2*this._horizontalScrollbarHeight),c.setRight(2*this._verticalScrollbarWidth+this._minimapWidth)}else i.preference===2&&(c.setTop(0),c.domNode.style.right="50%")}prepareRender(i){}render(i){this._domNode.setWidth(this._editorWidth);const c=Object.keys(this._widgets);for(let v=0,V=c.length;v<V;v++){const $=c[v];this._renderWidget(this._widgets[$])}}}class tn{constructor(i,c){const v=i.options;this.lineHeight=v.get(61),this.pixelRatio=v.get(131),this.overviewRulerLanes=v.get(76),this.renderBorder=v.get(75);const V=c.getColor(In.zw);this.borderColor=V?V.toString():null,this.hideCursor=v.get(54);const $=c.getColor(In.n0);this.cursorColor=$?$.transparent(.7).toString():null,this.themeType=c.type;const ce=v.get(67),be=ce.enabled,Me=ce.side,Oe=c.getColor(In.e_),Qe=jn.RW.getDefaultBackground();let lt=null;Oe!==void 0?lt=Oe:be&&(lt=Qe),lt===null||Me==="left"?this.backgroundColor=null:this.backgroundColor=Ii.Il.Format.CSS.formatHex(lt);const Dt=v.get(133).overviewRuler;this.top=Dt.top,this.right=Dt.right,this.domWidth=Dt.width,this.domHeight=Dt.height,this.overviewRulerLanes===0?(this.canvasWidth=0,this.canvasHeight=0):(this.canvasWidth=this.domWidth*this.pixelRatio|0,this.canvasHeight=this.domHeight*this.pixelRatio|0);const[Yt,an]=this._initLanes(1,this.canvasWidth,this.overviewRulerLanes);this.x=Yt,this.w=an}_initLanes(i,c,v){const V=c-i;if(v>=3){const $=Math.floor(V/3),ce=Math.floor(V/3),be=V-$-ce,Me=i,Oe=Me+$,Qe=Me+$+be;return[[0,Me,Oe,Me,Qe,Me,Oe,Me],[0,$,be,$+be,ce,$+be+ce,be+ce,$+be+ce]]}else if(v===2){const $=Math.floor(V/2),ce=V-$,be=i,Me=be+$;return[[0,be,be,be,Me,be,be,be],[0,$,$,$,ce,$+ce,$+ce,$+ce]]}else{const $=i,ce=V;return[[0,$,$,$,$,$,$,$],[0,ce,ce,ce,ce,ce,ce,ce]]}}equals(i){return this.lineHeight===i.lineHeight&&this.pixelRatio===i.pixelRatio&&this.overviewRulerLanes===i.overviewRulerLanes&&this.renderBorder===i.renderBorder&&this.borderColor===i.borderColor&&this.hideCursor===i.hideCursor&&this.cursorColor===i.cursorColor&&this.themeType===i.themeType&&this.backgroundColor===i.backgroundColor&&this.top===i.top&&this.right===i.right&&this.domWidth===i.domWidth&&this.domHeight===i.domHeight&&this.canvasWidth===i.canvasWidth&&this.canvasHeight===i.canvasHeight}}class rn extends Ze{constructor(i){super(i),this._domNode=(0,H.X)(document.createElement("canvas")),this._domNode.setClassName("decorationsOverviewRuler"),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._domNode.setAttribute("aria-hidden","true"),this._updateSettings(!1),this._tokensColorTrackerListener=jn.RW.onDidChange(c=>{c.changedColorMap&&this._updateSettings(!0)}),this._cursorPositions=[]}dispose(){super.dispose(),this._tokensColorTrackerListener.dispose()}_updateSettings(i){const c=new tn(this._context.configuration,this._context.theme);return this._settings&&this._settings.equals(c)?!1:(this._settings=c,this._domNode.setTop(this._settings.top),this._domNode.setRight(this._settings.right),this._domNode.setWidth(this._settings.domWidth),this._domNode.setHeight(this._settings.domHeight),this._domNode.domNode.width=this._settings.canvasWidth,this._domNode.domNode.height=this._settings.canvasHeight,i&&this._render(),!0)}onConfigurationChanged(i){return this._updateSettings(!1)}onCursorStateChanged(i){this._cursorPositions=[];for(let c=0,v=i.selections.length;c<v;c++)this._cursorPositions[c]=i.selections[c].getPosition();return this._cursorPositions.sort(wn.L.compare),!0}onDecorationsChanged(i){return!!i.affectsOverviewRuler}onFlushed(i){return!0}onScrollChanged(i){return i.scrollHeightChanged}onZonesChanged(i){return!0}onThemeChanged(i){return this._updateSettings(!1)}getDomNode(){return this._domNode.domNode}prepareRender(i){}render(i){this._render()}_render(){if(this._settings.overviewRulerLanes===0){this._domNode.setBackgroundColor(this._settings.backgroundColor?this._settings.backgroundColor:""),this._domNode.setDisplay("none");return}this._domNode.setDisplay("block");const i=this._settings.canvasWidth,c=this._settings.canvasHeight,v=this._settings.lineHeight,V=this._context.viewLayout,$=this._context.viewLayout.getScrollHeight(),ce=c/$,be=this._context.viewModel.getAllOverviewRulerDecorations(this._context.theme),Me=6*this._settings.pixelRatio|0,Oe=Me/2|0,Qe=this._domNode.domNode.getContext("2d");this._settings.backgroundColor===null?Qe.clearRect(0,0,i,c):(Qe.fillStyle=this._settings.backgroundColor,Qe.fillRect(0,0,i,c));const lt=this._settings.x,Nt=this._settings.w;be.sort(xo.SQ.cmp);for(const Dt of be){const Yt=Dt.color,an=Dt.data;Qe.fillStyle=Yt;let gn=0,un=0,zn=0;for(let Un=0,Ri=an.length/3;Un<Ri;Un++){const _i=an[3*Un],Vi=an[3*Un+1],Fi=an[3*Un+2];let pi=V.getVerticalOffsetForLineNumber(Vi)*ce|0,ji=(V.getVerticalOffsetForLineNumber(Fi)+v)*ce|0;if(ji-pi<Me){let zi=(pi+ji)/2|0;zi<Oe?zi=Oe:zi+Oe>c&&(zi=c-Oe),pi=zi-Oe,ji=zi+Oe}pi>zn+1||_i!==gn?(Un!==0&&Qe.fillRect(lt[gn],un,Nt[gn],zn-un),gn=_i,un=pi,zn=ji):ji>zn&&(zn=ji)}Qe.fillRect(lt[gn],un,Nt[gn],zn-un)}if(!this._settings.hideCursor&&this._settings.cursorColor){const Dt=2*this._settings.pixelRatio|0,Yt=Dt/2|0,an=this._settings.x[7],gn=this._settings.w[7];Qe.fillStyle=this._settings.cursorColor;let un=-100,zn=-100;for(let Un=0,Ri=this._cursorPositions.length;Un<Ri;Un++){const _i=this._cursorPositions[Un];let Vi=V.getVerticalOffsetForLineNumber(_i.lineNumber)*ce|0;Vi<Yt?Vi=Yt:Vi+Yt>c&&(Vi=c-Yt);const Fi=Vi-Yt,pi=Fi+Dt;Fi>zn+1?(Un!==0&&Qe.fillRect(an,un,gn,zn-un),un=Fi,zn=pi):pi>zn&&(zn=pi)}Qe.fillRect(an,un,gn,zn-un)}this._settings.renderBorder&&this._settings.borderColor&&this._settings.overviewRulerLanes>0&&(Qe.beginPath(),Qe.lineWidth=1,Qe.strokeStyle=this._settings.borderColor,Qe.moveTo(0,0),Qe.lineTo(0,c),Qe.stroke(),Qe.moveTo(0,0),Qe.lineTo(i,0),Qe.stroke())}}var En=l(53557);class Fn extends Le{constructor(i,c){super(),this._context=i;const v=this._context.configuration.options;this._domNode=(0,H.X)(document.createElement("canvas")),this._domNode.setClassName(c),this._domNode.setPosition("absolute"),this._domNode.setLayerHinting(!0),this._domNode.setContain("strict"),this._zoneManager=new En.Tj(V=>this._context.viewLayout.getVerticalOffsetForLineNumber(V)),this._zoneManager.setDOMWidth(0),this._zoneManager.setDOMHeight(0),this._zoneManager.setOuterHeight(this._context.viewLayout.getScrollHeight()),this._zoneManager.setLineHeight(v.get(61)),this._zoneManager.setPixelRatio(v.get(131)),this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options;return i.hasChanged(61)&&(this._zoneManager.setLineHeight(c.get(61)),this._render()),i.hasChanged(131)&&(this._zoneManager.setPixelRatio(c.get(131)),this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render()),!0}onFlushed(i){return this._render(),!0}onScrollChanged(i){return i.scrollHeightChanged&&(this._zoneManager.setOuterHeight(i.scrollHeight),this._render()),!0}onZonesChanged(i){return this._render(),!0}getDomNode(){return this._domNode.domNode}setLayout(i){this._domNode.setTop(i.top),this._domNode.setRight(i.right);let c=!1;c=this._zoneManager.setDOMWidth(i.width)||c,c=this._zoneManager.setDOMHeight(i.height)||c,c&&(this._domNode.setWidth(this._zoneManager.getDOMWidth()),this._domNode.setHeight(this._zoneManager.getDOMHeight()),this._domNode.domNode.width=this._zoneManager.getCanvasWidth(),this._domNode.domNode.height=this._zoneManager.getCanvasHeight(),this._render())}setZones(i){this._zoneManager.setZones(i),this._render()}_render(){if(this._zoneManager.getOuterHeight()===0)return!1;const i=this._zoneManager.getCanvasWidth(),c=this._zoneManager.getCanvasHeight(),v=this._zoneManager.resolveColorZones(),V=this._zoneManager.getId2Color(),$=this._domNode.domNode.getContext("2d");return $.clearRect(0,0,i,c),v.length>0&&this._renderOneLane($,v,V,i),!0}_renderOneLane(i,c,v,V){let $=0,ce=0,be=0;for(const Me of c){const Oe=Me.colorId,Qe=Me.from,lt=Me.to;Oe!==$?(i.fillRect(0,ce,V,be-ce),$=Oe,i.fillStyle=v[$],ce=Qe,be=lt):be>=Qe?be=Math.max(be,lt):(i.fillRect(0,ce,V,be-ce),ce=Qe,be=lt)}i.fillRect(0,ce,V,be-ce)}}class Nn extends Ze{constructor(i){super(i),this.domNode=(0,H.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("view-rulers"),this._renderedRulers=[];const c=this._context.configuration.options;this._rulers=c.get(93),this._typicalHalfwidthCharacterWidth=c.get(46).typicalHalfwidthCharacterWidth}dispose(){super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options;return this._rulers=c.get(93),this._typicalHalfwidthCharacterWidth=c.get(46).typicalHalfwidthCharacterWidth,!0}onScrollChanged(i){return i.scrollHeightChanged}prepareRender(i){}_ensureRulersCount(){const i=this._renderedRulers.length,c=this._rulers.length;if(i===c)return;if(i<c){const{tabSize:V}=this._context.viewModel.model.getOptions(),$=V;let ce=c-i;for(;ce>0;){const be=(0,H.X)(document.createElement("div"));be.setClassName("view-ruler"),be.setWidth($),this.domNode.appendChild(be),this._renderedRulers.push(be),ce--}return}let v=i-c;for(;v>0;){const V=this._renderedRulers.pop();this.domNode.removeChild(V),v--}}render(i){this._ensureRulersCount();for(let c=0,v=this._rulers.length;c<v;c++){const V=this._renderedRulers[c],$=this._rulers[c];V.setBoxShadow($.color?`1px 0 0 0 ${$.color} inset`:""),V.setHeight(Math.min(i.scrollHeight,1e6)),V.setLeft($.column*this._typicalHalfwidthCharacterWidth)}}}(0,Sn.Ic)((pt,i)=>{const c=pt.getColor(In.zk);c&&i.addRule(`.monaco-editor .view-ruler { box-shadow: 1px 0 0 0 ${c} inset; }`)});class ni extends Ze{constructor(i){super(i),this._scrollTop=0,this._width=0,this._updateWidth(),this._shouldShow=!1;const v=this._context.configuration.options.get(94);this._useShadows=v.useShadows,this._domNode=(0,H.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true")}dispose(){super.dispose()}_updateShouldShow(){const i=this._useShadows&&this._scrollTop>0;return this._shouldShow!==i?(this._shouldShow=i,!0):!1}getDomNode(){return this._domNode}_updateWidth(){const c=this._context.configuration.options.get(133);c.minimap.renderMinimap===0||c.minimap.minimapWidth>0&&c.minimap.minimapLeft===0?this._width=c.width:this._width=c.width-c.verticalScrollbarWidth}onConfigurationChanged(i){const v=this._context.configuration.options.get(94);return this._useShadows=v.useShadows,this._updateWidth(),this._updateShouldShow(),!0}onScrollChanged(i){return this._scrollTop=i.scrollTop,this._updateShouldShow()}prepareRender(i){}render(i){this._domNode.setWidth(this._width),this._domNode.setClassName(this._shouldShow?"scroll-decoration":"")}}(0,Sn.Ic)((pt,i)=>{const c=pt.getColor(gi._wn);c&&i.addRule(`.monaco-editor .scroll-decoration { box-shadow: ${c} 0 6px 6px -6px inset; }`)});class Ps{constructor(i){this.left=i.left,this.width=i.width,this.startStyle=null,this.endStyle=null}}class no{constructor(i,c){this.lineNumber=i,this.ranges=c}}function js(pt){return new Ps(pt)}function Co(pt){return new no(pt.lineNumber,pt.ranges.map(js))}class Wi extends On{constructor(i){super(),this._previousFrameVisibleRangesWithStyle=[],this._context=i;const c=this._context.configuration.options;this._lineHeight=c.get(61),this._roundedSelection=c.get(92),this._typicalHalfwidthCharacterWidth=c.get(46).typicalHalfwidthCharacterWidth,this._selections=[],this._renderResult=null,this._context.addEventHandler(this)}dispose(){this._context.removeEventHandler(this),this._renderResult=null,super.dispose()}onConfigurationChanged(i){const c=this._context.configuration.options;return this._lineHeight=c.get(61),this._roundedSelection=c.get(92),this._typicalHalfwidthCharacterWidth=c.get(46).typicalHalfwidthCharacterWidth,!0}onCursorStateChanged(i){return this._selections=i.selections.slice(0),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return i.scrollTopChanged}onZonesChanged(i){return!0}_visibleRangesHaveGaps(i){for(let c=0,v=i.length;c<v;c++)if(i[c].ranges.length>1)return!0;return!1}_enrichVisibleRangesWithStyle(i,c,v){const V=this._typicalHalfwidthCharacterWidth/4;let $=null,ce=null;if(v&&v.length>0&&c.length>0){const be=c[0].lineNumber;if(be===i.startLineNumber)for(let Oe=0;!$&&Oe<v.length;Oe++)v[Oe].lineNumber===be&&($=v[Oe].ranges[0]);const Me=c[c.length-1].lineNumber;if(Me===i.endLineNumber)for(let Oe=v.length-1;!ce&&Oe>=0;Oe--)v[Oe].lineNumber===Me&&(ce=v[Oe].ranges[0]);$&&!$.startStyle&&($=null),ce&&!ce.startStyle&&(ce=null)}for(let be=0,Me=c.length;be<Me;be++){const Oe=c[be].ranges[0],Qe=Oe.left,lt=Oe.left+Oe.width,Nt={top:0,bottom:0},Dt={top:0,bottom:0};if(be>0){const Yt=c[be-1].ranges[0].left,an=c[be-1].ranges[0].left+c[be-1].ranges[0].width;Io(Qe-Yt)<V?Nt.top=2:Qe>Yt&&(Nt.top=1),Io(lt-an)<V?Dt.top=2:Yt<lt&&lt<an&&(Dt.top=1)}else $&&(Nt.top=$.startStyle.top,Dt.top=$.endStyle.top);if(be+1<Me){const Yt=c[be+1].ranges[0].left,an=c[be+1].ranges[0].left+c[be+1].ranges[0].width;Io(Qe-Yt)<V?Nt.bottom=2:Yt<Qe&&Qe<an&&(Nt.bottom=1),Io(lt-an)<V?Dt.bottom=2:lt<an&&(Dt.bottom=1)}else ce&&(Nt.bottom=ce.startStyle.bottom,Dt.bottom=ce.endStyle.bottom);Oe.startStyle=Nt,Oe.endStyle=Dt}}_getVisibleRangesWithStyle(i,c,v){const $=(c.linesVisibleRangesForRange(i,!0)||[]).map(Co);return!this._visibleRangesHaveGaps($)&&this._roundedSelection&&this._enrichVisibleRangesWithStyle(c.visibleRange,$,v),$}_createSelectionPiece(i,c,v,V,$){return'<div class="cslr '+v+'" style="top:'+i.toString()+"px;left:"+V.toString()+"px;width:"+$.toString()+"px;height:"+c+'px;"></div>'}_actualRenderOneSelection(i,c,v,V){if(V.length===0)return;const $=!!V[0].ranges[0].startStyle,ce=this._lineHeight.toString(),be=(this._lineHeight-1).toString(),Me=V[0].lineNumber,Oe=V[V.length-1].lineNumber;for(let Qe=0,lt=V.length;Qe<lt;Qe++){const Nt=V[Qe],Dt=Nt.lineNumber,Yt=Dt-c,an=v&&(Dt===Oe||Dt===Me)?be:ce,gn=v&&Dt===Me?1:0;let un="",zn="";for(let Un=0,Ri=Nt.ranges.length;Un<Ri;Un++){const _i=Nt.ranges[Un];if($){const Fi=_i.startStyle,pi=_i.endStyle;if(Fi.top===1||Fi.bottom===1){un+=this._createSelectionPiece(gn,an,Wi.SELECTION_CLASS_NAME,_i.left-Wi.ROUNDED_PIECE_WIDTH,Wi.ROUNDED_PIECE_WIDTH);let ji=Wi.EDITOR_BACKGROUND_CLASS_NAME;Fi.top===1&&(ji+=" "+Wi.SELECTION_TOP_RIGHT),Fi.bottom===1&&(ji+=" "+Wi.SELECTION_BOTTOM_RIGHT),un+=this._createSelectionPiece(gn,an,ji,_i.left-Wi.ROUNDED_PIECE_WIDTH,Wi.ROUNDED_PIECE_WIDTH)}if(pi.top===1||pi.bottom===1){un+=this._createSelectionPiece(gn,an,Wi.SELECTION_CLASS_NAME,_i.left+_i.width,Wi.ROUNDED_PIECE_WIDTH);let ji=Wi.EDITOR_BACKGROUND_CLASS_NAME;pi.top===1&&(ji+=" "+Wi.SELECTION_TOP_LEFT),pi.bottom===1&&(ji+=" "+Wi.SELECTION_BOTTOM_LEFT),un+=this._createSelectionPiece(gn,an,ji,_i.left+_i.width,Wi.ROUNDED_PIECE_WIDTH)}}let Vi=Wi.SELECTION_CLASS_NAME;if($){const Fi=_i.startStyle,pi=_i.endStyle;Fi.top===0&&(Vi+=" "+Wi.SELECTION_TOP_LEFT),Fi.bottom===0&&(Vi+=" "+Wi.SELECTION_BOTTOM_LEFT),pi.top===0&&(Vi+=" "+Wi.SELECTION_TOP_RIGHT),pi.bottom===0&&(Vi+=" "+Wi.SELECTION_BOTTOM_RIGHT)}zn+=this._createSelectionPiece(gn,an,Vi,_i.left,_i.width)}i[Yt][0]+=un,i[Yt][1]+=zn}}prepareRender(i){const c=[],v=i.visibleRange.startLineNumber,V=i.visibleRange.endLineNumber;for(let ce=v;ce<=V;ce++){const be=ce-v;c[be]=["",""]}const $=[];for(let ce=0,be=this._selections.length;ce<be;ce++){const Me=this._selections[ce];if(Me.isEmpty()){$[ce]=null;continue}const Oe=this._getVisibleRangesWithStyle(Me,i,this._previousFrameVisibleRangesWithStyle[ce]);$[ce]=Oe,this._actualRenderOneSelection(c,v,this._selections.length>1,Oe)}this._previousFrameVisibleRangesWithStyle=$,this._renderResult=c.map(([ce,be])=>ce+be)}render(i,c){if(!this._renderResult)return"";const v=c-i;return v<0||v>=this._renderResult.length?"":this._renderResult[v]}}Wi.SELECTION_CLASS_NAME="selected-text",Wi.SELECTION_TOP_LEFT="top-left-radius",Wi.SELECTION_BOTTOM_LEFT="bottom-left-radius",Wi.SELECTION_TOP_RIGHT="top-right-radius",Wi.SELECTION_BOTTOM_RIGHT="bottom-right-radius",Wi.EDITOR_BACKGROUND_CLASS_NAME="monaco-editor-background",Wi.ROUNDED_PIECE_WIDTH=10,(0,Sn.Ic)((pt,i)=>{const c=pt.getColor(gi.hEj);c&&i.addRule(`.monaco-editor .focused .selected-text { background-color: ${c}; }`);const v=pt.getColor(gi.ES4);v&&i.addRule(`.monaco-editor .selected-text { background-color: ${v}; }`);const V=pt.getColor(gi.yb5);V&&!V.isTransparent()&&i.addRule(`.monaco-editor .view-line span.inline-selected-text { color: ${V}; }`)});function Io(pt){return pt<0?-pt:pt}class Rs{constructor(i,c,v,V,$,ce){this.top=i,this.left=c,this.width=v,this.height=V,this.textContent=$,this.textContentClassName=ce}}class bo{constructor(i){this._context=i;const c=this._context.configuration.options,v=c.get(46);this._cursorStyle=c.get(24),this._lineHeight=c.get(61),this._typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(27),this._typicalHalfwidthCharacterWidth),this._isVisible=!0,this._domNode=(0,H.X)(document.createElement("div")),this._domNode.setClassName(`cursor ${ai.S}`),this._domNode.setHeight(this._lineHeight),this._domNode.setTop(0),this._domNode.setLeft(0),(0,vn.N)(this._domNode,v),this._domNode.setDisplay("none"),this._position=new wn.L(1,1),this._lastRenderedContent="",this._renderData=null}getDomNode(){return this._domNode}getPosition(){return this._position}show(){this._isVisible||(this._domNode.setVisibility("inherit"),this._isVisible=!0)}hide(){this._isVisible&&(this._domNode.setVisibility("hidden"),this._isVisible=!1)}onConfigurationChanged(i){const c=this._context.configuration.options,v=c.get(46);return this._cursorStyle=c.get(24),this._lineHeight=c.get(61),this._typicalHalfwidthCharacterWidth=v.typicalHalfwidthCharacterWidth,this._lineCursorWidth=Math.min(c.get(27),this._typicalHalfwidthCharacterWidth),(0,vn.N)(this._domNode,v),!0}onCursorPositionChanged(i){return this._position=i,!0}_getGraphemeAwarePosition(){const{lineNumber:i,column:c}=this._position,v=this._context.viewModel.getLineContent(i),[V,$]=en.J_(v,c-1);return[new wn.L(i,V+1),v.substring(V,$)]}_prepareRender(i){let c="";const[v,V]=this._getGraphemeAwarePosition();if(this._cursorStyle===Z.d2.Line||this._cursorStyle===Z.d2.LineThin){const Nt=i.visibleRangeForPosition(v);if(!Nt||Nt.outsideRenderedLine)return null;let Dt;this._cursorStyle===Z.d2.Line?(Dt=P.Uh(this._lineCursorWidth>0?this._lineCursorWidth:2),Dt>2&&(c=V)):Dt=P.Uh(1);let Yt=Nt.left;Dt>=2&&Yt>=1&&(Yt-=1);const an=i.getVerticalOffsetForLineNumber(v.lineNumber)-i.bigNumbersDelta;return new Rs(an,Yt,Dt,this._lineHeight,c,"")}const $=i.linesVisibleRangesForRange(new je.e(v.lineNumber,v.column,v.lineNumber,v.column+V.length),!1);if(!$||$.length===0)return null;const ce=$[0];if(ce.outsideRenderedLine||ce.ranges.length===0)return null;const be=ce.ranges[0],Me=V==="	"?this._typicalHalfwidthCharacterWidth:be.width<1?this._typicalHalfwidthCharacterWidth:be.width;let Oe="";if(this._cursorStyle===Z.d2.Block){const Nt=this._context.viewModel.getViewLineData(v.lineNumber);c=V;const Dt=Nt.tokens.findTokenIndexAtOffset(v.column-1);Oe=Nt.tokens.getClassName(Dt)}let Qe=i.getVerticalOffsetForLineNumber(v.lineNumber)-i.bigNumbersDelta,lt=this._lineHeight;return(this._cursorStyle===Z.d2.Underline||this._cursorStyle===Z.d2.UnderlineThin)&&(Qe+=this._lineHeight-2,lt=2),new Rs(Qe,be.left,Me,lt,c,Oe)}prepareRender(i){this._renderData=this._prepareRender(i)}render(i){return this._renderData?(this._lastRenderedContent!==this._renderData.textContent&&(this._lastRenderedContent=this._renderData.textContent,this._domNode.domNode.textContent=this._lastRenderedContent),this._domNode.setClassName(`cursor ${ai.S} ${this._renderData.textContentClassName}`),this._domNode.setDisplay("block"),this._domNode.setTop(this._renderData.top),this._domNode.setLeft(this._renderData.left),this._domNode.setWidth(this._renderData.width),this._domNode.setLineHeight(this._renderData.height),this._domNode.setHeight(this._renderData.height),{domNode:this._domNode.domNode,position:this._position,contentLeft:this._renderData.left,height:this._renderData.height,width:2}):(this._domNode.setDisplay("none"),null)}}class Ss extends Ze{constructor(i){super(i);const c=this._context.configuration.options;this._readOnly=c.get(83),this._cursorBlinking=c.get(22),this._cursorStyle=c.get(24),this._cursorSmoothCaretAnimation=c.get(23),this._selectionIsEmpty=!0,this._isComposingInput=!1,this._isVisible=!1,this._primaryCursor=new bo(this._context),this._secondaryCursors=[],this._renderData=[],this._domNode=(0,H.X)(document.createElement("div")),this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true"),this._updateDomClassName(),this._domNode.appendChild(this._primaryCursor.getDomNode()),this._startCursorBlinkAnimation=new He._F,this._cursorFlatBlinkInterval=new He.zh,this._blinkingEnabled=!1,this._editorHasFocus=!1,this._updateBlinking()}dispose(){super.dispose(),this._startCursorBlinkAnimation.dispose(),this._cursorFlatBlinkInterval.dispose()}getDomNode(){return this._domNode}onCompositionStart(i){return this._isComposingInput=!0,this._updateBlinking(),!0}onCompositionEnd(i){return this._isComposingInput=!1,this._updateBlinking(),!0}onConfigurationChanged(i){const c=this._context.configuration.options;this._readOnly=c.get(83),this._cursorBlinking=c.get(22),this._cursorStyle=c.get(24),this._cursorSmoothCaretAnimation=c.get(23),this._updateBlinking(),this._updateDomClassName(),this._primaryCursor.onConfigurationChanged(i);for(let v=0,V=this._secondaryCursors.length;v<V;v++)this._secondaryCursors[v].onConfigurationChanged(i);return!0}_onCursorPositionChanged(i,c){if(this._primaryCursor.onCursorPositionChanged(i),this._updateBlinking(),this._secondaryCursors.length<c.length){const v=c.length-this._secondaryCursors.length;for(let V=0;V<v;V++){const $=new bo(this._context);this._domNode.domNode.insertBefore($.getDomNode().domNode,this._primaryCursor.getDomNode().domNode.nextSibling),this._secondaryCursors.push($)}}else if(this._secondaryCursors.length>c.length){const v=this._secondaryCursors.length-c.length;for(let V=0;V<v;V++)this._domNode.removeChild(this._secondaryCursors[0].getDomNode()),this._secondaryCursors.splice(0,1)}for(let v=0;v<c.length;v++)this._secondaryCursors[v].onCursorPositionChanged(c[v])}onCursorStateChanged(i){const c=[];for(let V=0,$=i.selections.length;V<$;V++)c[V]=i.selections[V].getPosition();this._onCursorPositionChanged(c[0],c.slice(1));const v=i.selections[0].isEmpty();return this._selectionIsEmpty!==v&&(this._selectionIsEmpty=v,this._updateDomClassName()),!0}onDecorationsChanged(i){return!0}onFlushed(i){return!0}onFocusChanged(i){return this._editorHasFocus=i.isFocused,this._updateBlinking(),!1}onLinesChanged(i){return!0}onLinesDeleted(i){return!0}onLinesInserted(i){return!0}onScrollChanged(i){return!0}onTokensChanged(i){const c=v=>{for(let V=0,$=i.ranges.length;V<$;V++)if(i.ranges[V].fromLineNumber<=v.lineNumber&&v.lineNumber<=i.ranges[V].toLineNumber)return!0;return!1};if(c(this._primaryCursor.getPosition()))return!0;for(const v of this._secondaryCursors)if(c(v.getPosition()))return!0;return!1}onZonesChanged(i){return!0}_getCursorBlinking(){return this._isComposingInput||!this._editorHasFocus?0:this._readOnly?5:this._cursorBlinking}_updateBlinking(){this._startCursorBlinkAnimation.cancel(),this._cursorFlatBlinkInterval.cancel();const i=this._getCursorBlinking(),c=i===0,v=i===5;c?this._hide():this._show(),this._blinkingEnabled=!1,this._updateDomClassName(),!c&&!v&&(i===1?this._cursorFlatBlinkInterval.cancelAndSet(()=>{this._isVisible?this._hide():this._show()},Ss.BLINK_INTERVAL):this._startCursorBlinkAnimation.setIfNotSet(()=>{this._blinkingEnabled=!0,this._updateDomClassName()},Ss.BLINK_INTERVAL))}_updateDomClassName(){this._domNode.setClassName(this._getClassName())}_getClassName(){let i="cursors-layer";switch(this._selectionIsEmpty||(i+=" has-selection"),this._cursorStyle){case Z.d2.Line:i+=" cursor-line-style";break;case Z.d2.Block:i+=" cursor-block-style";break;case Z.d2.Underline:i+=" cursor-underline-style";break;case Z.d2.LineThin:i+=" cursor-line-thin-style";break;case Z.d2.BlockOutline:i+=" cursor-block-outline-style";break;case Z.d2.UnderlineThin:i+=" cursor-underline-thin-style";break;default:i+=" cursor-line-style"}if(this._blinkingEnabled)switch(this._getCursorBlinking()){case 1:i+=" cursor-blink";break;case 2:i+=" cursor-smooth";break;case 3:i+=" cursor-phase";break;case 4:i+=" cursor-expand";break;case 5:i+=" cursor-solid";break;default:i+=" cursor-solid"}else i+=" cursor-solid";return this._cursorSmoothCaretAnimation&&(i+=" cursor-smooth-caret-animation"),i}_show(){this._primaryCursor.show();for(let i=0,c=this._secondaryCursors.length;i<c;i++)this._secondaryCursors[i].show();this._isVisible=!0}_hide(){this._primaryCursor.hide();for(let i=0,c=this._secondaryCursors.length;i<c;i++)this._secondaryCursors[i].hide();this._isVisible=!1}prepareRender(i){this._primaryCursor.prepareRender(i);for(let c=0,v=this._secondaryCursors.length;c<v;c++)this._secondaryCursors[c].prepareRender(i)}render(i){const c=[];let v=0;const V=this._primaryCursor.render(i);V&&(c[v++]=V);for(let $=0,ce=this._secondaryCursors.length;$<ce;$++){const be=this._secondaryCursors[$].render(i);be&&(c[v++]=be)}this._renderData=c}getLastRenderData(){return this._renderData}}Ss.BLINK_INTERVAL=500,(0,Sn.Ic)((pt,i)=>{const c=pt.getColor(In.n0);if(c){let v=pt.getColor(In.fY);v||(v=c.opposite()),i.addRule(`.monaco-editor .inputarea.ime-input { caret-color: ${c}; }`),i.addRule(`.monaco-editor .cursors-layer .cursor { background-color: ${c}; border-color: ${c}; color: ${v}; }`),(0,Ee.c3)(pt.type)&&i.addRule(`.monaco-editor .cursors-layer.has-selection .cursor { border-left: 1px solid ${v}; border-right: 1px solid ${v}; }`)}});const Ao=()=>{throw new Error("Invalid change accessor")};class wo extends Ze{constructor(i){super(i);const c=this._context.configuration.options,v=c.get(133);this._lineHeight=c.get(61),this._contentWidth=v.contentWidth,this._contentLeft=v.contentLeft,this.domNode=(0,H.X)(document.createElement("div")),this.domNode.setClassName("view-zones"),this.domNode.setPosition("absolute"),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.marginDomNode=(0,H.X)(document.createElement("div")),this.marginDomNode.setClassName("margin-view-zones"),this.marginDomNode.setPosition("absolute"),this.marginDomNode.setAttribute("role","presentation"),this.marginDomNode.setAttribute("aria-hidden","true"),this._zones={}}dispose(){super.dispose(),this._zones={}}_recomputeWhitespacesProps(){const i=this._context.viewLayout.getWhitespaces(),c=new Map;for(const V of i)c.set(V.id,V);let v=!1;return this._context.viewModel.changeWhitespace(V=>{const $=Object.keys(this._zones);for(let ce=0,be=$.length;ce<be;ce++){const Me=$[ce],Oe=this._zones[Me],Qe=this._computeWhitespaceProps(Oe.delegate);Oe.isInHiddenArea=Qe.isInHiddenArea;const lt=c.get(Me);lt&&(lt.afterLineNumber!==Qe.afterViewLineNumber||lt.height!==Qe.heightInPx)&&(V.changeOneWhitespace(Me,Qe.afterViewLineNumber,Qe.heightInPx),this._safeCallOnComputedHeight(Oe.delegate,Qe.heightInPx),v=!0)}}),v}onConfigurationChanged(i){const c=this._context.configuration.options,v=c.get(133);return this._lineHeight=c.get(61),this._contentWidth=v.contentWidth,this._contentLeft=v.contentLeft,i.hasChanged(61)&&this._recomputeWhitespacesProps(),!0}onLineMappingChanged(i){return this._recomputeWhitespacesProps()}onLinesDeleted(i){return!0}onScrollChanged(i){return i.scrollTopChanged||i.scrollWidthChanged}onZonesChanged(i){return!0}onLinesInserted(i){return!0}_getZoneOrdinal(i){return typeof i.afterColumn!="undefined"?i.afterColumn:1e4}_computeWhitespaceProps(i){if(i.afterLineNumber===0)return{isInHiddenArea:!1,afterViewLineNumber:0,heightInPx:this._heightInPixels(i),minWidthInPx:this._minWidthInPixels(i)};let c;if(typeof i.afterColumn!="undefined")c=this._context.viewModel.model.validatePosition({lineNumber:i.afterLineNumber,column:i.afterColumn});else{const ce=this._context.viewModel.model.validatePosition({lineNumber:i.afterLineNumber,column:1}).lineNumber;c=new wn.L(ce,this._context.viewModel.model.getLineMaxColumn(ce))}let v;c.column===this._context.viewModel.model.getLineMaxColumn(c.lineNumber)?v=this._context.viewModel.model.validatePosition({lineNumber:c.lineNumber+1,column:1}):v=this._context.viewModel.model.validatePosition({lineNumber:c.lineNumber,column:c.column+1});const V=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(c,i.afterColumnAffinity),$=this._context.viewModel.coordinatesConverter.modelPositionIsVisible(v);return{isInHiddenArea:!$,afterViewLineNumber:V.lineNumber,heightInPx:$?this._heightInPixels(i):0,minWidthInPx:this._minWidthInPixels(i)}}changeViewZones(i){let c=!1;return this._context.viewModel.changeWhitespace(v=>{const V={addZone:$=>(c=!0,this._addZone(v,$)),removeZone:$=>{!$||(c=this._removeZone(v,$)||c)},layoutZone:$=>{!$||(c=this._layoutZone(v,$)||c)}};So(i,V),V.addZone=Ao,V.removeZone=Ao,V.layoutZone=Ao}),c}_addZone(i,c){const v=this._computeWhitespaceProps(c),$={whitespaceId:i.insertWhitespace(v.afterViewLineNumber,this._getZoneOrdinal(c),v.heightInPx,v.minWidthInPx),delegate:c,isInHiddenArea:v.isInHiddenArea,isVisible:!1,domNode:(0,H.X)(c.domNode),marginDomNode:c.marginDomNode?(0,H.X)(c.marginDomNode):null};return this._safeCallOnComputedHeight($.delegate,v.heightInPx),$.domNode.setPosition("absolute"),$.domNode.domNode.style.width="100%",$.domNode.setDisplay("none"),$.domNode.setAttribute("monaco-view-zone",$.whitespaceId),this.domNode.appendChild($.domNode),$.marginDomNode&&($.marginDomNode.setPosition("absolute"),$.marginDomNode.domNode.style.width="100%",$.marginDomNode.setDisplay("none"),$.marginDomNode.setAttribute("monaco-view-zone",$.whitespaceId),this.marginDomNode.appendChild($.marginDomNode)),this._zones[$.whitespaceId]=$,this.setShouldRender(),$.whitespaceId}_removeZone(i,c){if(this._zones.hasOwnProperty(c)){const v=this._zones[c];return delete this._zones[c],i.removeWhitespace(v.whitespaceId),v.domNode.removeAttribute("monaco-visible-view-zone"),v.domNode.removeAttribute("monaco-view-zone"),v.domNode.domNode.parentNode.removeChild(v.domNode.domNode),v.marginDomNode&&(v.marginDomNode.removeAttribute("monaco-visible-view-zone"),v.marginDomNode.removeAttribute("monaco-view-zone"),v.marginDomNode.domNode.parentNode.removeChild(v.marginDomNode.domNode)),this.setShouldRender(),!0}return!1}_layoutZone(i,c){if(this._zones.hasOwnProperty(c)){const v=this._zones[c],V=this._computeWhitespaceProps(v.delegate);return v.isInHiddenArea=V.isInHiddenArea,i.changeOneWhitespace(v.whitespaceId,V.afterViewLineNumber,V.heightInPx),this._safeCallOnComputedHeight(v.delegate,V.heightInPx),this.setShouldRender(),!0}return!1}shouldSuppressMouseDownOnViewZone(i){if(this._zones.hasOwnProperty(i)){const c=this._zones[i];return Boolean(c.delegate.suppressMouseDown)}return!1}_heightInPixels(i){return typeof i.heightInPx=="number"?i.heightInPx:typeof i.heightInLines=="number"?this._lineHeight*i.heightInLines:this._lineHeight}_minWidthInPixels(i){return typeof i.minWidthInPx=="number"?i.minWidthInPx:0}_safeCallOnComputedHeight(i,c){if(typeof i.onComputedHeight=="function")try{i.onComputedHeight(c)}catch(v){(0,A.dL)(v)}}_safeCallOnDomNodeTop(i,c){if(typeof i.onDomNodeTop=="function")try{i.onDomNodeTop(c)}catch(v){(0,A.dL)(v)}}prepareRender(i){}render(i){const c=i.viewportData.whitespaceViewportData,v={};let V=!1;for(const ce of c)this._zones[ce.id].isInHiddenArea||(v[ce.id]=ce,V=!0);const $=Object.keys(this._zones);for(let ce=0,be=$.length;ce<be;ce++){const Me=$[ce],Oe=this._zones[Me];let Qe=0,lt=0,Nt="none";v.hasOwnProperty(Me)?(Qe=v[Me].verticalOffset-i.bigNumbersDelta,lt=v[Me].height,Nt="block",Oe.isVisible||(Oe.domNode.setAttribute("monaco-visible-view-zone","true"),Oe.isVisible=!0),this._safeCallOnDomNodeTop(Oe.delegate,i.getScrolledTopFromAbsoluteTop(v[Me].verticalOffset))):(Oe.isVisible&&(Oe.domNode.removeAttribute("monaco-visible-view-zone"),Oe.isVisible=!1),this._safeCallOnDomNodeTop(Oe.delegate,i.getScrolledTopFromAbsoluteTop(-1e6))),Oe.domNode.setTop(Qe),Oe.domNode.setHeight(lt),Oe.domNode.setDisplay(Nt),Oe.marginDomNode&&(Oe.marginDomNode.setTop(Qe),Oe.marginDomNode.setHeight(lt),Oe.marginDomNode.setDisplay(Nt))}V&&(this.domNode.setWidth(Math.max(i.scrollWidth,this._contentWidth)),this.marginDomNode.setWidth(this._contentLeft))}}function So(pt,i){try{return pt(i)}catch(c){(0,A.dL)(c)}}class Ys{constructor(i){this._theme=i}get type(){return this._theme.type}get value(){return this._theme}update(i){this._theme=i}getColor(i){return this._theme.getColor(i)}}class et{constructor(i,c,v){this.configuration=i,this.theme=new Ys(c),this.viewModel=v,this.viewLayout=v.viewLayout}addEventHandler(i){this.viewModel.addViewEventHandler(i)}removeEventHandler(i){this.viewModel.removeViewEventHandler(i)}}class Ae{constructor(i,c,v,V){this.selections=i,this.startLineNumber=c.startLineNumber|0,this.endLineNumber=c.endLineNumber|0,this.relativeVerticalOffset=c.relativeVerticalOffset,this.bigNumbersDelta=c.bigNumbersDelta|0,this.whitespaceViewportData=v,this._model=V,this.visibleRange=new je.e(c.startLineNumber,this._model.getLineMinColumn(c.startLineNumber),c.endLineNumber,this._model.getLineMaxColumn(c.endLineNumber))}getViewLineRenderingData(i){return this._model.getViewportViewLineRenderingData(this.visibleRange,i)}getDecorationsInViewport(){return this._model.getDecorationsInViewport(this.visibleRange)}}class Lt extends Ze{constructor(i){super(i),this.blocks=[],this.contentWidth=-1,this.domNode=(0,H.X)(document.createElement("div")),this.domNode.setAttribute("role","presentation"),this.domNode.setAttribute("aria-hidden","true"),this.domNode.setClassName("blockDecorations-container"),this.update()}update(){let i=!1;const v=this._context.configuration.options.get(133),V=v.contentWidth-v.verticalScrollbarWidth;return this.contentWidth!==V&&(this.contentWidth=V,i=!0),i}dispose(){super.dispose()}onConfigurationChanged(i){return this.update()}onScrollChanged(i){return i.scrollTopChanged||i.scrollLeftChanged}onDecorationsChanged(i){return!0}onZonesChanged(i){return!0}prepareRender(i){}render(i){let c=0;const v=i.getDecorationsInViewport();for(const V of v){if(!V.options.blockClassName)continue;let $=this.blocks[c];$||($=this.blocks[c]=(0,H.X)(document.createElement("div")),this.domNode.appendChild($));const ce=i.getVerticalOffsetForLineNumber(V.range.startLineNumber),be=i.getVerticalOffsetForLineNumber(V.range.endLineNumber+1);$.setClassName("blockDecorations-block "+V.options.blockClassName),$.setLeft(i.scrollLeft),$.setWidth(this.contentWidth),$.setTop(ce),$.setHeight(be-ce),c++}for(let V=c;V<this.blocks.length;V++)this.blocks[V].domNode.remove();this.blocks.length=c}}class zt extends Le{constructor(i,c,v,V,$,ce){super(),this._selections=[new ke.Y(1,1,1,1)],this._renderAnimationFrame=null;const be=new vi(c,V,$,i);this._context=new et(c,v,V),this._context.addEventHandler(this),this._viewParts=[],this._textAreaHandler=new wi(this._context,be,this._createTextAreaHandlerHelper()),this._viewParts.push(this._textAreaHandler),this._linesContent=(0,H.X)(document.createElement("div")),this._linesContent.setClassName("lines-content monaco-editor-background"),this._linesContent.setPosition("absolute"),this.domNode=(0,H.X)(document.createElement("div")),this.domNode.setClassName(this._getEditorClassName()),this.domNode.setAttribute("role","code"),this._overflowGuardContainer=(0,H.X)(document.createElement("div")),Ge.write(this._overflowGuardContainer,3),this._overflowGuardContainer.setClassName("overflow-guard"),this._scrollbar=new bs(this._context,this._linesContent,this.domNode,this._overflowGuardContainer),this._viewParts.push(this._scrollbar),this._viewLines=new eo(this._context,this._linesContent),this._viewZones=new wo(this._context),this._viewParts.push(this._viewZones);const Me=new rn(this._context);this._viewParts.push(Me);const Oe=new ni(this._context);this._viewParts.push(Oe);const Qe=new qi(this._context);this._viewParts.push(Qe),Qe.addDynamicOverlay(new Ei(this._context)),Qe.addDynamicOverlay(new Wi(this._context)),Qe.addDynamicOverlay(new on(this._context)),Qe.addDynamicOverlay(new Es(this._context));const lt=new ri(this._context);this._viewParts.push(lt),lt.addDynamicOverlay(new Xi(this._context)),lt.addDynamicOverlay(new uo(this._context)),lt.addDynamicOverlay(new oo(this._context)),lt.addDynamicOverlay(new so(this._context)),lt.addDynamicOverlay(new Mn(this._context));const Nt=new Bn(this._context);Nt.getDomNode().appendChild(this._viewZones.marginDomNode),Nt.getDomNode().appendChild(lt.getDomNode()),this._viewParts.push(Nt),this._contentWidgets=new fi(this._context,this.domNode),this._viewParts.push(this._contentWidgets),this._viewCursors=new Ss(this._context),this._viewParts.push(this._viewCursors),this._overlayWidgets=new sn(this._context),this._viewParts.push(this._overlayWidgets);const Dt=new Nn(this._context);this._viewParts.push(Dt);const Yt=new Lt(this._context);this._viewParts.push(Yt);const an=new Ct(this._context);if(this._viewParts.push(an),Me){const gn=this._scrollbar.getOverviewRulerLayoutInfo();gn.parent.insertBefore(Me.getDomNode(),gn.insertBefore)}this._linesContent.appendChild(Qe.getDomNode()),this._linesContent.appendChild(Dt.domNode),this._linesContent.appendChild(Yt.domNode),this._linesContent.appendChild(this._viewZones.domNode),this._linesContent.appendChild(this._viewLines.getDomNode()),this._linesContent.appendChild(this._contentWidgets.domNode),this._linesContent.appendChild(this._viewCursors.getDomNode()),this._overflowGuardContainer.appendChild(Nt.getDomNode()),this._overflowGuardContainer.appendChild(this._scrollbar.getDomNode()),this._overflowGuardContainer.appendChild(Oe.getDomNode()),this._overflowGuardContainer.appendChild(this._textAreaHandler.textArea),this._overflowGuardContainer.appendChild(this._textAreaHandler.textAreaCover),this._overflowGuardContainer.appendChild(this._overlayWidgets.getDomNode()),this._overflowGuardContainer.appendChild(an.getDomNode()),this.domNode.appendChild(this._overflowGuardContainer),ce?ce.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode.domNode):this.domNode.appendChild(this._contentWidgets.overflowingContentWidgetsDomNode),this._applyLayout(),this._pointerHandler=this._register(new Qt(this._context,be,this._createPointerHandlerHelper()))}_flushAccumulatedAndRenderNow(){this._renderNow()}_createPointerHandlerHelper(){return{viewDomNode:this.domNode.domNode,linesContentDomNode:this._linesContent.domNode,viewLinesDomNode:this._viewLines.getDomNode().domNode,focusTextArea:()=>{this.focus()},dispatchTextAreaEvent:i=>{this._textAreaHandler.textArea.domNode.dispatchEvent(i)},getLastRenderData:()=>{const i=this._viewCursors.getLastRenderData()||[],c=this._textAreaHandler.getLastRenderData();return new ye(i,c)},shouldSuppressMouseDownOnViewZone:i=>this._viewZones.shouldSuppressMouseDownOnViewZone(i),shouldSuppressMouseDownOnWidget:i=>this._contentWidgets.shouldSuppressMouseDownOnWidget(i),getPositionFromDOMInfo:(i,c)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getPositionFromDOMInfo(i,c)),visibleRangeForPosition:(i,c)=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(new wn.L(i,c))),getLineWidth:i=>(this._flushAccumulatedAndRenderNow(),this._viewLines.getLineWidth(i))}}_createTextAreaHandlerHelper(){return{visibleRangeForPosition:i=>(this._flushAccumulatedAndRenderNow(),this._viewLines.visibleRangeForPosition(i))}}_applyLayout(){const c=this._context.configuration.options.get(133);this.domNode.setWidth(c.width),this.domNode.setHeight(c.height),this._overflowGuardContainer.setWidth(c.width),this._overflowGuardContainer.setHeight(c.height),this._linesContent.setWidth(1e6),this._linesContent.setHeight(1e6)}_getEditorClassName(){const i=this._textAreaHandler.isFocused()?" focused":"";return this._context.configuration.options.get(130)+" "+(0,Sn.m6)(this._context.theme.type)+i}handleEvents(i){super.handleEvents(i),this._scheduleRender()}onConfigurationChanged(i){return this.domNode.setClassName(this._getEditorClassName()),this._applyLayout(),!1}onCursorStateChanged(i){return this._selections=i.selections,!1}onFocusChanged(i){return this.domNode.setClassName(this._getEditorClassName()),!1}onThemeChanged(i){return this._context.theme.update(i.theme),this.domNode.setClassName(this._getEditorClassName()),!1}dispose(){this._renderAnimationFrame!==null&&(this._renderAnimationFrame.dispose(),this._renderAnimationFrame=null),this._contentWidgets.overflowingContentWidgetsDomNode.domNode.remove(),this._context.removeEventHandler(this),this._viewLines.dispose();for(const i of this._viewParts)i.dispose();super.dispose()}_scheduleRender(){this._renderAnimationFrame===null&&(this._renderAnimationFrame=P.lI(this._onRenderScheduled.bind(this),100))}_onRenderScheduled(){this._renderAnimationFrame=null,this._flushAccumulatedAndRenderNow()}_renderNow(){Zt(()=>this._actualRender())}_getViewPartsToRender(){const i=[];let c=0;for(const v of this._viewParts)v.shouldRender()&&(i[c++]=v);return i}_actualRender(){if(!P.Uw(this.domNode.domNode))return;let i=this._getViewPartsToRender();if(!this._viewLines.shouldRender()&&i.length===0)return;const c=this._context.viewLayout.getLinesViewportData();this._context.viewModel.setViewport(c.startLineNumber,c.endLineNumber,c.centeredLineNumber);const v=new Ae(this._selections,c,this._context.viewLayout.getWhitespaceViewportData(),this._context.viewModel);this._contentWidgets.shouldRender()&&this._contentWidgets.onBeforeRender(v),this._viewLines.shouldRender()&&(this._viewLines.renderText(v),this._viewLines.onDidRender(),i=this._getViewPartsToRender());const V=new ct(this._context.viewLayout,v,this._viewLines);for(const $ of i)$.prepareRender(V);for(const $ of i)$.render(V),$.onDidRender()}delegateVerticalScrollbarPointerDown(i){this._scrollbar.delegateVerticalScrollbarPointerDown(i)}restoreState(i){this._context.viewModel.viewLayout.setScrollPosition({scrollTop:i.scrollTop},1),this._context.viewModel.tokenizeViewport(),this._renderNow(),this._viewLines.updateLineWidths(),this._context.viewModel.viewLayout.setScrollPosition({scrollLeft:i.scrollLeft},1)}getOffsetForColumn(i,c){const v=this._context.viewModel.model.validatePosition({lineNumber:i,column:c}),V=this._context.viewModel.coordinatesConverter.convertModelPositionToViewPosition(v);this._flushAccumulatedAndRenderNow();const $=this._viewLines.visibleRangeForPosition(new wn.L(V.lineNumber,V.column));return $?$.left:-1}getTargetAtClientPoint(i,c){const v=this._pointerHandler.getTargetAtClientPoint(i,c);return v?Si.convertViewToModelMouseTarget(v,this._context.viewModel.coordinatesConverter):null}createOverviewRuler(i){return new Fn(this._context,i)}change(i){this._viewZones.changeViewZones(i),this._scheduleRender()}render(i,c){if(c){this._viewLines.forceShouldRender();for(const v of this._viewParts)v.forceShouldRender()}i?this._flushAccumulatedAndRenderNow():this._scheduleRender()}focus(){this._textAreaHandler.focusTextArea()}isFocused(){return this._textAreaHandler.isFocused()}setAriaOptions(i){this._textAreaHandler.setAriaOptions(i)}addContentWidget(i){this._contentWidgets.addWidget(i.widget),this.layoutContentWidget(i),this._scheduleRender()}layoutContentWidget(i){var c,v;let V=i.position&&i.position.range||null;if(V===null){const ce=i.position?i.position.position:null;ce!==null&&(V=new je.e(ce.lineNumber,ce.column,ce.lineNumber,ce.column))}const $=i.position?i.position.preference:null;this._contentWidgets.setWidgetPosition(i.widget,V,$,(v=(c=i.position)===null||c===void 0?void 0:c.positionAffinity)!==null&&v!==void 0?v:null),this._scheduleRender()}removeContentWidget(i){this._contentWidgets.removeWidget(i.widget),this._scheduleRender()}addOverlayWidget(i){this._overlayWidgets.addWidget(i.widget),this.layoutOverlayWidget(i),this._scheduleRender()}layoutOverlayWidget(i){const c=i.position?i.position.preference:null;this._overlayWidgets.setWidgetPosition(i.widget,c)&&this._scheduleRender()}removeOverlayWidget(i){this._overlayWidgets.removeWidget(i.widget),this._scheduleRender()}}function Zt(pt){try{return pt()}catch(i){(0,A.dL)(i)}}var qt=l(16505);class $n{constructor(i){this._selTrackedRange=null,this._trackSelection=!0,this._setState(i,new qt.rS(new je.e(1,1,1,1),0,new wn.L(1,1),0),new qt.rS(new je.e(1,1,1,1),0,new wn.L(1,1),0))}dispose(i){this._removeTrackedRange(i)}startTrackingSelection(i){this._trackSelection=!0,this._updateTrackedRange(i)}stopTrackingSelection(i){this._trackSelection=!1,this._removeTrackedRange(i)}_updateTrackedRange(i){!this._trackSelection||(this._selTrackedRange=i.model._setTrackedRange(this._selTrackedRange,this.modelState.selection,0))}_removeTrackedRange(i){this._selTrackedRange=i.model._setTrackedRange(this._selTrackedRange,null,0)}asCursorState(){return new qt.Vi(this.modelState,this.viewState)}readSelectionFromMarkers(i){const c=i.model._getTrackedRange(this._selTrackedRange);return ke.Y.fromRange(c,this.modelState.selection.getDirection())}ensureValidState(i){this._setState(i,this.modelState,this.viewState)}setState(i,c,v){this._setState(i,c,v)}static _validatePositionWithCache(i,c,v,V){return c.equals(v)?V:i.normalizePosition(c,2)}static _validateViewState(i,c){const v=c.position,V=c.selectionStart.getStartPosition(),$=c.selectionStart.getEndPosition(),ce=i.normalizePosition(v,2),be=this._validatePositionWithCache(i,V,v,ce),Me=this._validatePositionWithCache(i,$,V,be);return v.equals(ce)&&V.equals(be)&&$.equals(Me)?c:new qt.rS(je.e.fromPositions(be,Me),c.selectionStartLeftoverVisibleColumns+V.column-be.column,ce,c.leftoverVisibleColumns+v.column-ce.column)}_setState(i,c,v){if(v&&(v=$n._validateViewState(i.viewModel,v)),c){const V=i.model.validateRange(c.selectionStart),$=c.selectionStart.equalsRange(V)?c.selectionStartLeftoverVisibleColumns:0,ce=i.model.validatePosition(c.position),be=c.position.equals(ce)?c.leftoverVisibleColumns:0;c=new qt.rS(V,$,ce,be)}else{if(!v)return;const V=i.model.validateRange(i.coordinatesConverter.convertViewRangeToModelRange(v.selectionStart)),$=i.model.validatePosition(i.coordinatesConverter.convertViewPositionToModelPosition(v.position));c=new qt.rS(V,v.selectionStartLeftoverVisibleColumns,$,v.leftoverVisibleColumns)}if(v){const V=i.coordinatesConverter.validateViewRange(v.selectionStart,c.selectionStart),$=i.coordinatesConverter.validateViewPosition(v.position,c.position);v=new qt.rS(V,c.selectionStartLeftoverVisibleColumns,$,c.leftoverVisibleColumns)}else{const V=i.coordinatesConverter.convertModelPositionToViewPosition(new wn.L(c.selectionStart.startLineNumber,c.selectionStart.startColumn)),$=i.coordinatesConverter.convertModelPositionToViewPosition(new wn.L(c.selectionStart.endLineNumber,c.selectionStart.endColumn)),ce=new je.e(V.lineNumber,V.column,$.lineNumber,$.column),be=i.coordinatesConverter.convertModelPositionToViewPosition(c.position);v=new qt.rS(ce,c.selectionStartLeftoverVisibleColumns,be,c.leftoverVisibleColumns)}this.modelState=c,this.viewState=v,this._updateTrackedRange(i)}}class xi{constructor(i){this.context=i,this.cursors=[new $n(i)],this.lastAddedCursorIndex=0}dispose(){for(const i of this.cursors)i.dispose(this.context)}startTrackingSelections(){for(const i of this.cursors)i.startTrackingSelection(this.context)}stopTrackingSelections(){for(const i of this.cursors)i.stopTrackingSelection(this.context)}updateContext(i){this.context=i}ensureValidState(){for(const i of this.cursors)i.ensureValidState(this.context)}readSelectionFromMarkers(){return this.cursors.map(i=>i.readSelectionFromMarkers(this.context))}getAll(){return this.cursors.map(i=>i.asCursorState())}getViewPositions(){return this.cursors.map(i=>i.viewState.position)}getTopMostViewPosition(){return(0,u.VJ)(this.cursors,(0,u.tT)(i=>i.viewState.position,wn.L.compare)).viewState.position}getBottomMostViewPosition(){return(0,u.jV)(this.cursors,(0,u.tT)(i=>i.viewState.position,wn.L.compare)).viewState.position}getSelections(){return this.cursors.map(i=>i.modelState.selection)}getViewSelections(){return this.cursors.map(i=>i.viewState.selection)}setSelections(i){this.setStates(qt.Vi.fromModelSelections(i))}getPrimaryCursor(){return this.cursors[0].asCursorState()}setStates(i){i!==null&&(this.cursors[0].setState(this.context,i[0].modelState,i[0].viewState),this._setSecondaryStates(i.slice(1)))}_setSecondaryStates(i){const c=this.cursors.length-1,v=i.length;if(c<v){const V=v-c;for(let $=0;$<V;$++)this._addSecondaryCursor()}else if(c>v){const V=c-v;for(let $=0;$<V;$++)this._removeSecondaryCursor(this.cursors.length-2)}for(let V=0;V<v;V++)this.cursors[V+1].setState(this.context,i[V].modelState,i[V].viewState)}killSecondaryCursors(){this._setSecondaryStates([])}_addSecondaryCursor(){this.cursors.push(new $n(this.context)),this.lastAddedCursorIndex=this.cursors.length-1}getLastAddedCursorIndex(){return this.cursors.length===1||this.lastAddedCursorIndex===0?0:this.lastAddedCursorIndex}_removeSecondaryCursor(i){this.lastAddedCursorIndex>=i+1&&this.lastAddedCursorIndex--,this.cursors[i+1].dispose(this.context),this.cursors.splice(i+1,1)}normalize(){if(this.cursors.length===1)return;const i=this.cursors.slice(0),c=[];for(let v=0,V=i.length;v<V;v++)c.push({index:v,selection:i[v].modelState.selection});c.sort((0,u.tT)(v=>v.selection,je.e.compareRangesUsingStarts));for(let v=0;v<c.length-1;v++){const V=c[v],$=c[v+1],ce=V.selection,be=$.selection;if(!this.context.cursorConfig.multiCursorMergeOverlapping)continue;let Me;if(be.isEmpty()||ce.isEmpty()?Me=be.getStartPosition().isBeforeOrEqual(ce.getEndPosition()):Me=be.getStartPosition().isBefore(ce.getEndPosition()),Me){const Oe=V.index<$.index?v:v+1,Qe=V.index<$.index?v+1:v,lt=c[Qe].index,Nt=c[Oe].index,Dt=c[Qe].selection,Yt=c[Oe].selection;if(!Dt.equalsSelection(Yt)){const an=Dt.plusRange(Yt),gn=Dt.selectionStartLineNumber===Dt.startLineNumber&&Dt.selectionStartColumn===Dt.startColumn,un=Yt.selectionStartLineNumber===Yt.startLineNumber&&Yt.selectionStartColumn===Yt.startColumn;let zn;lt===this.lastAddedCursorIndex?(zn=gn,this.lastAddedCursorIndex=Nt):zn=un;let Un;zn?Un=new ke.Y(an.startLineNumber,an.startColumn,an.endLineNumber,an.endColumn):Un=new ke.Y(an.endLineNumber,an.endColumn,an.startLineNumber,an.startColumn),c[Oe].selection=Un;const Ri=qt.Vi.fromModelSelection(Un);i[Nt].setState(this.context,Ri.modelState,Ri.viewState)}for(const an of c)an.index>lt&&an.index--;i.splice(lt,1),c.splice(Qe,1),this._removeSecondaryCursor(lt-1),v--}}}}class Bi{constructor(i,c,v,V){this._cursorContextBrand=void 0,this.model=i,this.viewModel=c,this.coordinatesConverter=v,this.cursorConfig=V}}var vs=l(53570),ps=l(11333),hs=l(37259);class qs{constructor(){this.type=0}}class Po{constructor(){this.type=1}}class Fa{constructor(i){this.type=2,this._source=i}hasChanged(i){return this._source.hasChanged(i)}}class Ya{constructor(i,c){this.type=3,this.selections=i,this.modelSelections=c}}class zo{constructor(i){this.type=4,i?(this.affectsMinimap=i.affectsMinimap,this.affectsOverviewRuler=i.affectsOverviewRuler):(this.affectsMinimap=!0,this.affectsOverviewRuler=!0)}}class Sa{constructor(){this.type=5}}class ya{constructor(i){this.type=6,this.isFocused=i}}class hl{constructor(){this.type=7}}class mr{constructor(){this.type=8}}class Jo{constructor(i,c){this.fromLineNumber=i,this.count=c,this.type=9}}class fl{constructor(i,c){this.type=10,this.fromLineNumber=i,this.toLineNumber=c}}class gl{constructor(i,c){this.type=11,this.fromLineNumber=i,this.toLineNumber=c}}class Go{constructor(i,c,v,V,$,ce,be){this.source=i,this.minimalReveal=c,this.range=v,this.selections=V,this.verticalType=$,this.revealHorizontal=ce,this.scrollType=be,this.type=12}}class Fr{constructor(i){this.type=13,this.scrollWidth=i.scrollWidth,this.scrollLeft=i.scrollLeft,this.scrollHeight=i.scrollHeight,this.scrollTop=i.scrollTop,this.scrollWidthChanged=i.scrollWidthChanged,this.scrollLeftChanged=i.scrollLeftChanged,this.scrollHeightChanged=i.scrollHeightChanged,this.scrollTopChanged=i.scrollTopChanged}}class La{constructor(i){this.theme=i,this.type=14}}class Lc{constructor(i){this.type=15,this.ranges=i}}class Ea{constructor(){this.type=16}}class Qa{constructor(){this.type=17}}class Da extends S.JT{constructor(){super(),this._onEvent=this._register(new T.Q5),this.onEvent=this._onEvent.event,this._eventHandlers=[],this._viewEventQueue=null,this._isConsumingViewEventQueue=!1,this._collector=null,this._collectorCnt=0,this._outgoingEvents=[]}emitOutgoingEvent(i){this._addOutgoingEvent(i),this._emitOutgoingEvents()}_addOutgoingEvent(i){for(let c=0,v=this._outgoingEvents.length;c<v;c++){const V=this._outgoingEvents[c].kind===i.kind?this._outgoingEvents[c].attemptToMerge(i):null;if(V){this._outgoingEvents[c]=V;return}}this._outgoingEvents.push(i)}_emitOutgoingEvents(){for(;this._outgoingEvents.length>0;){if(this._collector||this._isConsumingViewEventQueue)return;const i=this._outgoingEvents.shift();i.isNoOp()||this._onEvent.fire(i)}}addViewEventHandler(i){for(let c=0,v=this._eventHandlers.length;c<v;c++)this._eventHandlers[c]===i&&console.warn("Detected duplicate listener in ViewEventDispatcher",i);this._eventHandlers.push(i)}removeViewEventHandler(i){for(let c=0;c<this._eventHandlers.length;c++)if(this._eventHandlers[c]===i){this._eventHandlers.splice(c,1);break}}beginEmitViewEvents(){return this._collectorCnt++,this._collectorCnt===1&&(this._collector=new Al),this._collector}endEmitViewEvents(){if(this._collectorCnt--,this._collectorCnt===0){const i=this._collector.outgoingEvents,c=this._collector.viewEvents;this._collector=null;for(const v of i)this._addOutgoingEvent(v);c.length>0&&this._emitMany(c)}this._emitOutgoingEvents()}emitSingleViewEvent(i){try{this.beginEmitViewEvents().emitViewEvent(i)}finally{this.endEmitViewEvents()}}_emitMany(i){this._viewEventQueue?this._viewEventQueue=this._viewEventQueue.concat(i):this._viewEventQueue=i,this._isConsumingViewEventQueue||this._consumeViewEventQueue()}_consumeViewEventQueue(){try{this._isConsumingViewEventQueue=!0,this._doConsumeQueue()}finally{this._isConsumingViewEventQueue=!1}}_doConsumeQueue(){for(;this._viewEventQueue;){const i=this._viewEventQueue;this._viewEventQueue=null;const c=this._eventHandlers.slice(0);for(const v of c)v.handleEvents(i)}}}class Al{constructor(){this.viewEvents=[],this.outgoingEvents=[]}emitViewEvent(i){this.viewEvents.push(i)}emitOutgoingEvent(i){this.outgoingEvents.push(i)}}class lr{constructor(i,c,v,V){this.kind=0,this._oldContentWidth=i,this._oldContentHeight=c,this.contentWidth=v,this.contentHeight=V,this.contentWidthChanged=this._oldContentWidth!==this.contentWidth,this.contentHeightChanged=this._oldContentHeight!==this.contentHeight}isNoOp(){return!this.contentWidthChanged&&!this.contentHeightChanged}attemptToMerge(i){return i.kind!==this.kind?null:new lr(this._oldContentWidth,this._oldContentHeight,i.contentWidth,i.contentHeight)}}class pr{constructor(i,c){this.kind=1,this.oldHasFocus=i,this.hasFocus=c}isNoOp(){return this.oldHasFocus===this.hasFocus}attemptToMerge(i){return i.kind!==this.kind?null:new pr(this.oldHasFocus,i.hasFocus)}}class da{constructor(i,c,v,V,$,ce,be,Me){this.kind=2,this._oldScrollWidth=i,this._oldScrollLeft=c,this._oldScrollHeight=v,this._oldScrollTop=V,this.scrollWidth=$,this.scrollLeft=ce,this.scrollHeight=be,this.scrollTop=Me,this.scrollWidthChanged=this._oldScrollWidth!==this.scrollWidth,this.scrollLeftChanged=this._oldScrollLeft!==this.scrollLeft,this.scrollHeightChanged=this._oldScrollHeight!==this.scrollHeight,this.scrollTopChanged=this._oldScrollTop!==this.scrollTop}isNoOp(){return!this.scrollWidthChanged&&!this.scrollLeftChanged&&!this.scrollHeightChanged&&!this.scrollTopChanged}attemptToMerge(i){return i.kind!==this.kind?null:new da(this._oldScrollWidth,this._oldScrollLeft,this._oldScrollHeight,this._oldScrollTop,i.scrollWidth,i.scrollLeft,i.scrollHeight,i.scrollTop)}}class po{constructor(){this.kind=3}isNoOp(){return!1}attemptToMerge(i){return i.kind!==this.kind?null:this}}class ho{constructor(){this.kind=4}isNoOp(){return!1}attemptToMerge(i){return i.kind!==this.kind?null:this}}class Zi{constructor(i,c,v,V,$,ce,be){this.kind=6,this.oldSelections=i,this.selections=c,this.oldModelVersionId=v,this.modelVersionId=V,this.source=$,this.reason=ce,this.reachedMaxCursorCount=be}static _selectionsAreEqual(i,c){if(!i&&!c)return!0;if(!i||!c)return!1;const v=i.length,V=c.length;if(v!==V)return!1;for(let $=0;$<v;$++)if(!i[$].equalsSelection(c[$]))return!1;return!0}isNoOp(){return Zi._selectionsAreEqual(this.oldSelections,this.selections)&&this.oldModelVersionId===this.modelVersionId}attemptToMerge(i){return i.kind!==this.kind?null:new Zi(this.oldSelections,i.selections,this.oldModelVersionId,i.modelVersionId,i.source,i.reason,this.reachedMaxCursorCount||i.reachedMaxCursorCount)}}class Xa{constructor(){this.kind=5}isNoOp(){return!1}attemptToMerge(i){return i.kind!==this.kind?null:this}}class Ba{constructor(i){this.event=i,this.kind=7}isNoOp(){return!1}attemptToMerge(i){return null}}class Zr{constructor(i){this.event=i,this.kind=8}isNoOp(){return!1}attemptToMerge(i){return null}}class cr{constructor(i){this.event=i,this.kind=9}isNoOp(){return!1}attemptToMerge(i){return null}}class Mi{constructor(i){this.event=i,this.kind=10}isNoOp(){return!1}attemptToMerge(i){return null}}class Yr{constructor(i){this.event=i,this.kind=11}isNoOp(){return!1}attemptToMerge(i){return null}}class Oo{constructor(i){this.event=i,this.kind=12}isNoOp(){return!1}attemptToMerge(i){return null}}class Qr extends S.JT{constructor(i,c,v,V){super(),this._model=i,this._knownModelVersionId=this._model.getVersionId(),this._viewModel=c,this._coordinatesConverter=v,this.context=new Bi(this._model,this._viewModel,this._coordinatesConverter,V),this._cursors=new xi(this.context),this._hasFocus=!1,this._isHandling=!1,this._compositionState=null,this._columnSelectData=null,this._autoClosedActions=[],this._prevEditOperationType=0}dispose(){this._cursors.dispose(),this._autoClosedActions=(0,S.B9)(this._autoClosedActions),super.dispose()}updateConfiguration(i){this.context=new Bi(this._model,this._viewModel,this._coordinatesConverter,i),this._cursors.updateContext(this.context)}onLineMappingChanged(i){this._knownModelVersionId===this._model.getVersionId()&&this.setStates(i,"viewModel",0,this.getCursorStates())}setHasFocus(i){this._hasFocus=i}_validateAutoClosedActions(){if(this._autoClosedActions.length>0){const i=this._cursors.getSelections();for(let c=0;c<this._autoClosedActions.length;c++){const v=this._autoClosedActions[c];v.isValid(i)||(v.dispose(),this._autoClosedActions.splice(c,1),c--)}}}getPrimaryCursorState(){return this._cursors.getPrimaryCursor()}getLastAddedCursorIndex(){return this._cursors.getLastAddedCursorIndex()}getCursorStates(){return this._cursors.getAll()}setStates(i,c,v,V){let $=!1;V!==null&&V.length>Qr.MAX_CURSOR_COUNT&&(V=V.slice(0,Qr.MAX_CURSOR_COUNT),$=!0);const ce=dr.from(this._model,this);return this._cursors.setStates(V),this._cursors.normalize(),this._columnSelectData=null,this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(i,c,v,ce,$)}setCursorColumnSelectData(i){this._columnSelectData=i}revealPrimary(i,c,v,V,$,ce){const be=this._cursors.getViewPositions();let Me=null,Oe=null;be.length>1?Oe=this._cursors.getViewSelections():Me=je.e.fromPositions(be[0],be[0]),i.emitViewEvent(new Go(c,v,Me,Oe,V,$,ce))}saveState(){const i=[],c=this._cursors.getSelections();for(let v=0,V=c.length;v<V;v++){const $=c[v];i.push({inSelectionMode:!$.isEmpty(),selectionStart:{lineNumber:$.selectionStartLineNumber,column:$.selectionStartColumn},position:{lineNumber:$.positionLineNumber,column:$.positionColumn}})}return i}restoreState(i,c){const v=[];for(let V=0,$=c.length;V<$;V++){const ce=c[V];let be=1,Me=1;ce.position&&ce.position.lineNumber&&(be=ce.position.lineNumber),ce.position&&ce.position.column&&(Me=ce.position.column);let Oe=be,Qe=Me;ce.selectionStart&&ce.selectionStart.lineNumber&&(Oe=ce.selectionStart.lineNumber),ce.selectionStart&&ce.selectionStart.column&&(Qe=ce.selectionStart.column),v.push({selectionStartLineNumber:Oe,selectionStartColumn:Qe,positionLineNumber:be,positionColumn:Me})}this.setStates(i,"restoreState",0,qt.Vi.fromModelSelections(v)),this.revealPrimary(i,"restoreState",!1,0,!0,1)}onModelContentChanged(i,c){if(c instanceof hs.D8){if(this._isHandling)return;this._isHandling=!0;try{this.setStates(i,"modelChange",0,this.getCursorStates())}finally{this._isHandling=!1}}else{const v=c.rawContentChangedEvent;if(this._knownModelVersionId=v.versionId,this._isHandling)return;const V=v.containsEvent(1);if(this._prevEditOperationType=0,V)this._cursors.dispose(),this._cursors=new xi(this.context),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(i,"model",1,null,!1);else if(this._hasFocus&&v.resultingSelection&&v.resultingSelection.length>0){const $=qt.Vi.fromModelSelections(v.resultingSelection);this.setStates(i,"modelChange",v.isUndoing?5:v.isRedoing?6:2,$)&&this.revealPrimary(i,"modelChange",!1,0,!0,0)}else{const $=this._cursors.readSelectionFromMarkers();this.setStates(i,"modelChange",2,qt.Vi.fromModelSelections($))}}}getSelection(){return this._cursors.getPrimaryCursor().modelState.selection}getTopMostViewPosition(){return this._cursors.getTopMostViewPosition()}getBottomMostViewPosition(){return this._cursors.getBottomMostViewPosition()}getCursorColumnSelectData(){if(this._columnSelectData)return this._columnSelectData;const i=this._cursors.getPrimaryCursor(),c=i.viewState.selectionStart.getStartPosition(),v=i.viewState.position;return{isReal:!1,fromViewLineNumber:c.lineNumber,fromViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,c),toViewLineNumber:v.lineNumber,toViewVisualColumn:this.context.cursorConfig.visibleColumnFromColumn(this._viewModel,v)}}getSelections(){return this._cursors.getSelections()}setSelections(i,c,v,V){this.setStates(i,c,V,qt.Vi.fromModelSelections(v))}getPrevEditOperationType(){return this._prevEditOperationType}setPrevEditOperationType(i){this._prevEditOperationType=i}_pushAutoClosedAction(i,c){const v=[],V=[];for(let be=0,Me=i.length;be<Me;be++)v.push({range:i[be],options:{description:"auto-closed-character",inlineClassName:"auto-closed-character",stickiness:1}}),V.push({range:c[be],options:{description:"auto-closed-enclosing",stickiness:1}});const $=this._model.deltaDecorations([],v),ce=this._model.deltaDecorations([],V);this._autoClosedActions.push(new ml(this._model,$,ce))}_executeEditOperation(i){if(!i)return;i.shouldPushStackElementBefore&&this._model.pushStackElement();const c=pl.executeCommands(this._model,this._cursors.getSelections(),i.commands);if(c){this._interpretCommandResult(c);const v=[],V=[];for(let $=0;$<i.commands.length;$++){const ce=i.commands[$];ce instanceof ps.g_&&ce.enclosingRange&&ce.closeCharacterRange&&(v.push(ce.closeCharacterRange),V.push(ce.enclosingRange))}v.length>0&&this._pushAutoClosedAction(v,V),this._prevEditOperationType=i.type}i.shouldPushStackElementAfter&&this._model.pushStackElement()}_interpretCommandResult(i){(!i||i.length===0)&&(i=this._cursors.readSelectionFromMarkers()),this._columnSelectData=null,this._cursors.setSelections(i),this._cursors.normalize()}_emitStateChangedIfNecessary(i,c,v,V,$){const ce=dr.from(this._model,this);if(ce.equals(V))return!1;const be=this._cursors.getSelections(),Me=this._cursors.getViewSelections();if(i.emitViewEvent(new Ya(Me,be)),!V||V.cursorState.length!==ce.cursorState.length||ce.cursorState.some((Oe,Qe)=>!Oe.modelState.equals(V.cursorState[Qe].modelState))){const Oe=V?V.cursorState.map(lt=>lt.modelState.selection):null,Qe=V?V.modelVersionId:0;i.emitOutgoingEvent(new Zi(Oe,be,Qe,ce.modelVersionId,c||"keyboard",v,$))}return!0}_findAutoClosingPairs(i){if(!i.length)return null;const c=[];for(let v=0,V=i.length;v<V;v++){const $=i[v];if(!$.text||$.text.indexOf(`
`)>=0)return null;const ce=$.text.match(/([)\]}>'"`])([^)\]}>'"`]*)$/);if(!ce)return null;const be=ce[1],Me=this.context.cursorConfig.autoClosingPairs.autoClosingPairsCloseSingleChar.get(be);if(!Me||Me.length!==1)return null;const Oe=Me[0].open,Qe=$.text.length-ce[2].length-1,lt=$.text.lastIndexOf(Oe,Qe-1);if(lt===-1)return null;c.push([lt,Qe])}return c}executeEdits(i,c,v,V){let $=null;c==="snippet"&&($=this._findAutoClosingPairs(v)),$&&(v[0]._isTracked=!0);const ce=[],be=[],Me=this._model.pushEditOperations(this.getSelections(),v,Oe=>{if($)for(let lt=0,Nt=$.length;lt<Nt;lt++){const[Dt,Yt]=$[lt],an=Oe[lt],gn=an.range.startLineNumber,un=an.range.startColumn-1+Dt,zn=an.range.startColumn-1+Yt;ce.push(new je.e(gn,zn+1,gn,zn+2)),be.push(new je.e(gn,un+1,gn,zn+2))}const Qe=V(Oe);return Qe&&(this._isHandling=!0),Qe});Me&&(this._isHandling=!1,this.setSelections(i,c,Me,0)),ce.length>0&&this._pushAutoClosedAction(ce,be)}_executeEdit(i,c,v,V=0){if(this.context.cursorConfig.readOnly)return;const $=dr.from(this._model,this);this._cursors.stopTrackingSelections(),this._isHandling=!0;try{this._cursors.ensureValidState(),i()}catch(ce){(0,A.dL)(ce)}this._isHandling=!1,this._cursors.startTrackingSelections(),this._validateAutoClosedActions(),this._emitStateChangedIfNecessary(c,v,V,$,!1)&&this.revealPrimary(c,v,!1,0,!0,0)}getAutoClosedCharacters(){return ml.getAllAutoClosedCharacters(this._autoClosedActions)}startComposition(i){this._compositionState=new Hi(this._model,this.getSelections())}endComposition(i,c){const v=this._compositionState?this._compositionState.deduceOutcome(this._model,this.getSelections()):null;this._compositionState=null,this._executeEdit(()=>{c==="keyboard"&&this._executeEditOperation(ps.u6.compositionEndWithInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,v,this.getSelections(),this.getAutoClosedCharacters()))},i,c)}type(i,c,v){this._executeEdit(()=>{if(v==="keyboard"){const V=c.length;let $=0;for(;$<V;){const ce=en.vH(c,$),be=c.substr($,ce);this._executeEditOperation(ps.u6.typeWithInterceptors(!!this._compositionState,this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),this.getAutoClosedCharacters(),be)),$+=ce}}else this._executeEditOperation(ps.u6.typeWithoutInterceptors(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),c))},i,v)}compositionType(i,c,v,V,$,ce){if(c.length===0&&v===0&&V===0){if($!==0){const be=this.getSelections().map(Me=>{const Oe=Me.getPosition();return new ke.Y(Oe.lineNumber,Oe.column+$,Oe.lineNumber,Oe.column+$)});this.setSelections(i,ce,be,0)}return}this._executeEdit(()=>{this._executeEditOperation(ps.u6.compositionType(this._prevEditOperationType,this.context.cursorConfig,this._model,this.getSelections(),c,v,V,$))},i,ce)}paste(i,c,v,V,$){this._executeEdit(()=>{this._executeEditOperation(ps.u6.paste(this.context.cursorConfig,this._model,this.getSelections(),c,v,V||[]))},i,$,4)}cut(i,c){this._executeEdit(()=>{this._executeEditOperation(vs.A.cut(this.context.cursorConfig,this._model,this.getSelections()))},i,c)}executeCommand(i,c,v){this._executeEdit(()=>{this._cursors.killSecondaryCursors(),this._executeEditOperation(new qt.Tp(0,[c],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},i,v)}executeCommands(i,c,v){this._executeEdit(()=>{this._executeEditOperation(new qt.Tp(0,c,{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!1}))},i,v)}}Qr.MAX_CURSOR_COUNT=1e4;class dr{constructor(i,c){this.modelVersionId=i,this.cursorState=c}static from(i,c){return new dr(i.getVersionId(),c.getCursorStates())}equals(i){if(!i||this.modelVersionId!==i.modelVersionId||this.cursorState.length!==i.cursorState.length)return!1;for(let c=0,v=this.cursorState.length;c<v;c++)if(!this.cursorState[c].equals(i.cursorState[c]))return!1;return!0}}class ml{constructor(i,c,v){this._model=i,this._autoClosedCharactersDecorations=c,this._autoClosedEnclosingDecorations=v}static getAllAutoClosedCharacters(i){let c=[];for(const v of i)c=c.concat(v.getAutoClosedCharactersRanges());return c}dispose(){this._autoClosedCharactersDecorations=this._model.deltaDecorations(this._autoClosedCharactersDecorations,[]),this._autoClosedEnclosingDecorations=this._model.deltaDecorations(this._autoClosedEnclosingDecorations,[])}getAutoClosedCharactersRanges(){const i=[];for(let c=0;c<this._autoClosedCharactersDecorations.length;c++){const v=this._model.getDecorationRange(this._autoClosedCharactersDecorations[c]);v&&i.push(v)}return i}isValid(i){const c=[];for(let v=0;v<this._autoClosedEnclosingDecorations.length;v++){const V=this._model.getDecorationRange(this._autoClosedEnclosingDecorations[v]);if(V&&(c.push(V),V.startLineNumber!==V.endLineNumber))return!1}c.sort(je.e.compareRangesUsingStarts),i.sort(je.e.compareRangesUsingStarts);for(let v=0;v<i.length;v++)if(v>=c.length||!c[v].strictContainsRange(i[v]))return!1;return!0}}class pl{static executeCommands(i,c,v){const V={model:i,selectionsBefore:c,trackedRanges:[],trackedRangesDirection:[]},$=this._innerExecuteCommands(V,v);for(let ce=0,be=V.trackedRanges.length;ce<be;ce++)V.model._setTrackedRange(V.trackedRanges[ce],null,0);return $}static _innerExecuteCommands(i,c){if(this._arrayIsEmpty(c))return null;const v=this._getEditOperations(i,c);if(v.operations.length===0)return null;const V=v.operations,$=this._getLoserCursorMap(V);if($.hasOwnProperty("0"))return console.warn("Ignoring commands"),null;const ce=[];for(let Oe=0,Qe=V.length;Oe<Qe;Oe++)$.hasOwnProperty(V[Oe].identifier.major.toString())||ce.push(V[Oe]);v.hadTrackedEditOperation&&ce.length>0&&(ce[0]._isTracked=!0);let be=i.model.pushEditOperations(i.selectionsBefore,ce,Oe=>{const Qe=[];for(let Dt=0;Dt<i.selectionsBefore.length;Dt++)Qe[Dt]=[];for(const Dt of Oe)!Dt.identifier||Qe[Dt.identifier.major].push(Dt);const lt=(Dt,Yt)=>Dt.identifier.minor-Yt.identifier.minor,Nt=[];for(let Dt=0;Dt<i.selectionsBefore.length;Dt++)Qe[Dt].length>0?(Qe[Dt].sort(lt),Nt[Dt]=c[Dt].computeCursorState(i.model,{getInverseEditOperations:()=>Qe[Dt],getTrackedSelection:Yt=>{const an=parseInt(Yt,10),gn=i.model._getTrackedRange(i.trackedRanges[an]);return i.trackedRangesDirection[an]===0?new ke.Y(gn.startLineNumber,gn.startColumn,gn.endLineNumber,gn.endColumn):new ke.Y(gn.endLineNumber,gn.endColumn,gn.startLineNumber,gn.startColumn)}})):Nt[Dt]=i.selectionsBefore[Dt];return Nt});be||(be=i.selectionsBefore);const Me=[];for(const Oe in $)$.hasOwnProperty(Oe)&&Me.push(parseInt(Oe,10));Me.sort((Oe,Qe)=>Qe-Oe);for(const Oe of Me)be.splice(Oe,1);return be}static _arrayIsEmpty(i){for(let c=0,v=i.length;c<v;c++)if(i[c])return!1;return!0}static _getEditOperations(i,c){let v=[],V=!1;for(let $=0,ce=c.length;$<ce;$++){const be=c[$];if(be){const Me=this._getEditOperationsFromCommand(i,$,be);v=v.concat(Me.operations),V=V||Me.hadTrackedEditOperation}}return{operations:v,hadTrackedEditOperation:V}}static _getEditOperationsFromCommand(i,c,v){const V=[];let $=0;const ce=(lt,Nt,Dt=!1)=>{je.e.isEmpty(lt)&&Nt===""||V.push({identifier:{major:c,minor:$++},range:lt,text:Nt,forceMoveMarkers:Dt,isAutoWhitespaceEdit:v.insertsAutoWhitespace})};let be=!1;const Qe={addEditOperation:ce,addTrackedEditOperation:(lt,Nt,Dt)=>{be=!0,ce(lt,Nt,Dt)},trackSelection:(lt,Nt)=>{const Dt=ke.Y.liftSelection(lt);let Yt;if(Dt.isEmpty())if(typeof Nt=="boolean")Nt?Yt=2:Yt=3;else{const un=i.model.getLineMaxColumn(Dt.startLineNumber);Dt.startColumn===un?Yt=2:Yt=3}else Yt=1;const an=i.trackedRanges.length,gn=i.model._setTrackedRange(null,Dt,Yt);return i.trackedRanges[an]=gn,i.trackedRangesDirection[an]=Dt.getDirection(),an.toString()}};try{v.getEditOperations(i.model,Qe)}catch(lt){return(0,A.dL)(lt),{operations:[],hadTrackedEditOperation:!1}}return{operations:V,hadTrackedEditOperation:be}}static _getLoserCursorMap(i){i=i.slice(0),i.sort((v,V)=>-je.e.compareRangesUsingEnds(v.range,V.range));const c={};for(let v=1;v<i.length;v++){const V=i[v-1],$=i[v];if(je.e.getStartPosition(V.range).isBefore(je.e.getEndPosition($.range))){let ce;V.identifier.major>$.identifier.major?ce=V.identifier.major:ce=$.identifier.major,c[ce.toString()]=!0;for(let be=0;be<i.length;be++)i[be].identifier.major===ce&&(i.splice(be,1),be<v&&v--,be--);v>0&&v--}}return c}}class Ja{constructor(i,c,v){this.text=i,this.startSelection=c,this.endSelection=v}}class Hi{constructor(i,c){this._original=Hi._capture(i,c)}static _capture(i,c){const v=[];for(const V of c){if(V.startLineNumber!==V.endLineNumber)return null;v.push(new Ja(i.getLineContent(V.startLineNumber),V.startColumn-1,V.endColumn-1))}return v}deduceOutcome(i,c){if(!this._original)return null;const v=Hi._capture(i,c);if(!v||this._original.length!==v.length)return null;const V=[];for(let $=0,ce=this._original.length;$<ce;$++)V.push(Hi._deduceOutcome(this._original[$],v[$]));return V}static _deduceOutcome(i,c){const v=Math.min(i.startSelection,c.startSelection,en.Mh(i.text,c.text)),V=Math.min(i.text.length-i.endSelection,c.text.length-c.endSelection,en.P1(i.text,c.text)),$=i.text.substring(v,i.text.length-V),ce=c.text.substring(v,c.text.length-V);return new ps.Nu($,i.startSelection-v,i.endSelection-v,ce,c.startSelection-v,c.endSelection-v)}}var Ws=l(79078),_o=l(33182),ds=l(57881),Zo=l(75357),yo=l(68347),Fo=l(61647),Pl=l(83485);class _l{constructor(){this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[]}insert(i){this._hasPending=!0,this._inserts.push(i)}change(i){this._hasPending=!0,this._changes.push(i)}remove(i){this._hasPending=!0,this._removes.push(i)}mustCommit(){return this._hasPending}commit(i){if(!this._hasPending)return;const c=this._inserts,v=this._changes,V=this._removes;this._hasPending=!1,this._inserts=[],this._changes=[],this._removes=[],i._commitPendingChanges(c,v,V)}}class Od{constructor(i,c,v,V,$){this.id=i,this.afterLineNumber=c,this.ordinal=v,this.height=V,this.minWidth=$,this.prefixSum=0}}class Xr{constructor(i,c,v,V){this._instanceId=en.PJ(++Xr.INSTANCE_COUNT),this._pendingChanges=new _l,this._lastWhitespaceId=0,this._arr=[],this._prefixSumValidIndex=-1,this._minWidth=-1,this._lineCount=i,this._lineHeight=c,this._paddingTop=v,this._paddingBottom=V}static findInsertionIndex(i,c,v){let V=0,$=i.length;for(;V<$;){const ce=V+$>>>1;c===i[ce].afterLineNumber?v<i[ce].ordinal?$=ce:V=ce+1:c<i[ce].afterLineNumber?$=ce:V=ce+1}return V}setLineHeight(i){this._checkPendingChanges(),this._lineHeight=i}setPadding(i,c){this._paddingTop=i,this._paddingBottom=c}onFlushed(i){this._checkPendingChanges(),this._lineCount=i}changeWhitespace(i){let c=!1;try{i({insertWhitespace:(V,$,ce,be)=>{c=!0,V=V|0,$=$|0,ce=ce|0,be=be|0;const Me=this._instanceId+ ++this._lastWhitespaceId;return this._pendingChanges.insert(new Od(Me,V,$,ce,be)),Me},changeOneWhitespace:(V,$,ce)=>{c=!0,$=$|0,ce=ce|0,this._pendingChanges.change({id:V,newAfterLineNumber:$,newHeight:ce})},removeWhitespace:V=>{c=!0,this._pendingChanges.remove({id:V})}})}finally{this._pendingChanges.commit(this)}return c}_commitPendingChanges(i,c,v){if((i.length>0||v.length>0)&&(this._minWidth=-1),i.length+c.length+v.length<=1){for(const Me of i)this._insertWhitespace(Me);for(const Me of c)this._changeOneWhitespace(Me.id,Me.newAfterLineNumber,Me.newHeight);for(const Me of v){const Oe=this._findWhitespaceIndex(Me.id);Oe!==-1&&this._removeWhitespace(Oe)}return}const V=new Set;for(const Me of v)V.add(Me.id);const $=new Map;for(const Me of c)$.set(Me.id,Me);const ce=Me=>{const Oe=[];for(const Qe of Me)if(!V.has(Qe.id)){if($.has(Qe.id)){const lt=$.get(Qe.id);Qe.afterLineNumber=lt.newAfterLineNumber,Qe.height=lt.newHeight}Oe.push(Qe)}return Oe},be=ce(this._arr).concat(ce(i));be.sort((Me,Oe)=>Me.afterLineNumber===Oe.afterLineNumber?Me.ordinal-Oe.ordinal:Me.afterLineNumber-Oe.afterLineNumber),this._arr=be,this._prefixSumValidIndex=-1}_checkPendingChanges(){this._pendingChanges.mustCommit()&&this._pendingChanges.commit(this)}_insertWhitespace(i){const c=Xr.findInsertionIndex(this._arr,i.afterLineNumber,i.ordinal);this._arr.splice(c,0,i),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,c-1)}_findWhitespaceIndex(i){const c=this._arr;for(let v=0,V=c.length;v<V;v++)if(c[v].id===i)return v;return-1}_changeOneWhitespace(i,c,v){const V=this._findWhitespaceIndex(i);if(V!==-1&&(this._arr[V].height!==v&&(this._arr[V].height=v,this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,V-1)),this._arr[V].afterLineNumber!==c)){const $=this._arr[V];this._removeWhitespace(V),$.afterLineNumber=c,this._insertWhitespace($)}}_removeWhitespace(i){this._arr.splice(i,1),this._prefixSumValidIndex=Math.min(this._prefixSumValidIndex,i-1)}onLinesDeleted(i,c){this._checkPendingChanges(),i=i|0,c=c|0,this._lineCount-=c-i+1;for(let v=0,V=this._arr.length;v<V;v++){const $=this._arr[v].afterLineNumber;i<=$&&$<=c?this._arr[v].afterLineNumber=i-1:$>c&&(this._arr[v].afterLineNumber-=c-i+1)}}onLinesInserted(i,c){this._checkPendingChanges(),i=i|0,c=c|0,this._lineCount+=c-i+1;for(let v=0,V=this._arr.length;v<V;v++){const $=this._arr[v].afterLineNumber;i<=$&&(this._arr[v].afterLineNumber+=c-i+1)}}getWhitespacesTotalHeight(){return this._checkPendingChanges(),this._arr.length===0?0:this.getWhitespacesAccumulatedHeight(this._arr.length-1)}getWhitespacesAccumulatedHeight(i){this._checkPendingChanges(),i=i|0;let c=Math.max(0,this._prefixSumValidIndex+1);c===0&&(this._arr[0].prefixSum=this._arr[0].height,c++);for(let v=c;v<=i;v++)this._arr[v].prefixSum=this._arr[v-1].prefixSum+this._arr[v].height;return this._prefixSumValidIndex=Math.max(this._prefixSumValidIndex,i),this._arr[i].prefixSum}getLinesTotalHeight(){this._checkPendingChanges();const i=this._lineHeight*this._lineCount,c=this.getWhitespacesTotalHeight();return i+c+this._paddingTop+this._paddingBottom}getWhitespaceAccumulatedHeightBeforeLineNumber(i){this._checkPendingChanges(),i=i|0;const c=this._findLastWhitespaceBeforeLineNumber(i);return c===-1?0:this.getWhitespacesAccumulatedHeight(c)}_findLastWhitespaceBeforeLineNumber(i){i=i|0;const c=this._arr;let v=0,V=c.length-1;for(;v<=V;){const ce=(V-v|0)/2|0,be=v+ce|0;if(c[be].afterLineNumber<i){if(be+1>=c.length||c[be+1].afterLineNumber>=i)return be;v=be+1|0}else V=be-1|0}return-1}_findFirstWhitespaceAfterLineNumber(i){i=i|0;const v=this._findLastWhitespaceBeforeLineNumber(i)+1;return v<this._arr.length?v:-1}getFirstWhitespaceIndexAfterLineNumber(i){return this._checkPendingChanges(),i=i|0,this._findFirstWhitespaceAfterLineNumber(i)}getVerticalOffsetForLineNumber(i,c=!1){this._checkPendingChanges(),i=i|0;let v;i>1?v=this._lineHeight*(i-1):v=0;const V=this.getWhitespaceAccumulatedHeightBeforeLineNumber(i-(c?1:0));return v+V+this._paddingTop}getVerticalOffsetAfterLineNumber(i,c=!1){this._checkPendingChanges(),i=i|0;const v=this._lineHeight*i,V=this.getWhitespaceAccumulatedHeightBeforeLineNumber(i+(c?1:0));return v+V+this._paddingTop}getWhitespaceMinWidth(){if(this._checkPendingChanges(),this._minWidth===-1){let i=0;for(let c=0,v=this._arr.length;c<v;c++)i=Math.max(i,this._arr[c].minWidth);this._minWidth=i}return this._minWidth}isAfterLines(i){this._checkPendingChanges();const c=this.getLinesTotalHeight();return i>c}isInTopPadding(i){return this._paddingTop===0?!1:(this._checkPendingChanges(),i<this._paddingTop)}isInBottomPadding(i){if(this._paddingBottom===0)return!1;this._checkPendingChanges();const c=this.getLinesTotalHeight();return i>=c-this._paddingBottom}getLineNumberAtOrAfterVerticalOffset(i){if(this._checkPendingChanges(),i=i|0,i<0)return 1;const c=this._lineCount|0,v=this._lineHeight;let V=1,$=c;for(;V<$;){const ce=(V+$)/2|0,be=this.getVerticalOffsetForLineNumber(ce)|0;if(i>=be+v)V=ce+1;else{if(i>=be)return ce;$=ce}}return V>c?c:V}getLinesViewportData(i,c){this._checkPendingChanges(),i=i|0,c=c|0;const v=this._lineHeight,V=this.getLineNumberAtOrAfterVerticalOffset(i)|0,$=this.getVerticalOffsetForLineNumber(V)|0;let ce=this._lineCount|0,be=this.getFirstWhitespaceIndexAfterLineNumber(V)|0;const Me=this.getWhitespacesCount()|0;let Oe,Qe;be===-1?(be=Me,Qe=ce+1,Oe=0):(Qe=this.getAfterLineNumberForWhitespaceIndex(be)|0,Oe=this.getHeightForWhitespaceIndex(be)|0);let lt=$,Nt=lt;const Dt=5e5;let Yt=0;$>=Dt&&(Yt=Math.floor($/Dt)*Dt,Yt=Math.floor(Yt/v)*v,Nt-=Yt);const an=[],gn=i+(c-i)/2;let un=-1;for(let _i=V;_i<=ce;_i++){if(un===-1){const Vi=lt,Fi=lt+v;(Vi<=gn&&gn<Fi||Vi>gn)&&(un=_i)}for(lt+=v,an[_i-V]=Nt,Nt+=v;Qe===_i;)Nt+=Oe,lt+=Oe,be++,be>=Me?Qe=ce+1:(Qe=this.getAfterLineNumberForWhitespaceIndex(be)|0,Oe=this.getHeightForWhitespaceIndex(be)|0);if(lt>=c){ce=_i;break}}un===-1&&(un=ce);const zn=this.getVerticalOffsetForLineNumber(ce)|0;let Un=V,Ri=ce;return Un<Ri&&$<i&&Un++,Un<Ri&&zn+v>c&&Ri--,{bigNumbersDelta:Yt,startLineNumber:V,endLineNumber:ce,relativeVerticalOffset:an,centeredLineNumber:un,completelyVisibleStartLineNumber:Un,completelyVisibleEndLineNumber:Ri}}getVerticalOffsetForWhitespaceIndex(i){this._checkPendingChanges(),i=i|0;const c=this.getAfterLineNumberForWhitespaceIndex(i);let v;c>=1?v=this._lineHeight*c:v=0;let V;return i>0?V=this.getWhitespacesAccumulatedHeight(i-1):V=0,v+V+this._paddingTop}getWhitespaceIndexAtOrAfterVerticallOffset(i){this._checkPendingChanges(),i=i|0;let c=0,v=this.getWhitespacesCount()-1;if(v<0)return-1;const V=this.getVerticalOffsetForWhitespaceIndex(v),$=this.getHeightForWhitespaceIndex(v);if(i>=V+$)return-1;for(;c<v;){const ce=Math.floor((c+v)/2),be=this.getVerticalOffsetForWhitespaceIndex(ce),Me=this.getHeightForWhitespaceIndex(ce);if(i>=be+Me)c=ce+1;else{if(i>=be)return ce;v=ce}}return c}getWhitespaceAtVerticalOffset(i){this._checkPendingChanges(),i=i|0;const c=this.getWhitespaceIndexAtOrAfterVerticallOffset(i);if(c<0||c>=this.getWhitespacesCount())return null;const v=this.getVerticalOffsetForWhitespaceIndex(c);if(v>i)return null;const V=this.getHeightForWhitespaceIndex(c),$=this.getIdForWhitespaceIndex(c),ce=this.getAfterLineNumberForWhitespaceIndex(c);return{id:$,afterLineNumber:ce,verticalOffset:v,height:V}}getWhitespaceViewportData(i,c){this._checkPendingChanges(),i=i|0,c=c|0;const v=this.getWhitespaceIndexAtOrAfterVerticallOffset(i),V=this.getWhitespacesCount()-1;if(v<0)return[];const $=[];for(let ce=v;ce<=V;ce++){const be=this.getVerticalOffsetForWhitespaceIndex(ce),Me=this.getHeightForWhitespaceIndex(ce);if(be>=c)break;$.push({id:this.getIdForWhitespaceIndex(ce),afterLineNumber:this.getAfterLineNumberForWhitespaceIndex(ce),verticalOffset:be,height:Me})}return $}getWhitespaces(){return this._checkPendingChanges(),this._arr.slice(0)}getWhitespacesCount(){return this._checkPendingChanges(),this._arr.length}getIdForWhitespaceIndex(i){return this._checkPendingChanges(),i=i|0,this._arr[i].id}getAfterLineNumberForWhitespaceIndex(i){return this._checkPendingChanges(),i=i|0,this._arr[i].afterLineNumber}getHeightForWhitespaceIndex(i){return this._checkPendingChanges(),i=i|0,this._arr[i].height}}Xr.INSTANCE_COUNT=0;const ys=125;class _r{constructor(i,c,v,V){i=i|0,c=c|0,v=v|0,V=V|0,i<0&&(i=0),c<0&&(c=0),v<0&&(v=0),V<0&&(V=0),this.width=i,this.contentWidth=c,this.scrollWidth=Math.max(i,c),this.height=v,this.contentHeight=V,this.scrollHeight=Math.max(v,V)}equals(i){return this.width===i.width&&this.contentWidth===i.contentWidth&&this.height===i.height&&this.contentHeight===i.contentHeight}}class Uo extends S.JT{constructor(i,c){super(),this._onDidContentSizeChange=this._register(new T.Q5),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._dimensions=new _r(0,0,0,0),this._scrollable=this._register(new Pl.Rm({forceIntegerValues:!0,smoothScrollDuration:i,scheduleAtNextAnimationFrame:c})),this.onDidScroll=this._scrollable.onScroll}getScrollable(){return this._scrollable}setSmoothScrollDuration(i){this._scrollable.setSmoothScrollDuration(i)}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}getScrollDimensions(){return this._dimensions}setScrollDimensions(i){if(this._dimensions.equals(i))return;const c=this._dimensions;this._dimensions=i,this._scrollable.setScrollDimensions({width:i.width,scrollWidth:i.scrollWidth,height:i.height,scrollHeight:i.scrollHeight},!0);const v=c.contentWidth!==i.contentWidth,V=c.contentHeight!==i.contentHeight;(v||V)&&this._onDidContentSizeChange.fire(new lr(c.contentWidth,c.contentHeight,i.contentWidth,i.contentHeight))}getFutureScrollPosition(){return this._scrollable.getFutureScrollPosition()}getCurrentScrollPosition(){return this._scrollable.getCurrentScrollPosition()}setScrollPositionNow(i){this._scrollable.setScrollPositionNow(i)}setScrollPositionSmooth(i){this._scrollable.setScrollPositionSmooth(i)}}class Ec extends S.JT{constructor(i,c,v){super(),this._configuration=i;const V=this._configuration.options,$=V.get(133),ce=V.get(77);this._linesLayout=new Xr(c,V.get(61),ce.top,ce.bottom),this._scrollable=this._register(new Uo(0,v)),this._configureSmoothScrollDuration(),this._scrollable.setScrollDimensions(new _r($.contentWidth,0,$.height,0)),this.onDidScroll=this._scrollable.onDidScroll,this.onDidContentSizeChange=this._scrollable.onDidContentSizeChange,this._updateHeight()}dispose(){super.dispose()}getScrollable(){return this._scrollable.getScrollable()}onHeightMaybeChanged(){this._updateHeight()}_configureSmoothScrollDuration(){this._scrollable.setSmoothScrollDuration(this._configuration.options.get(105)?ys:0)}onConfigurationChanged(i){const c=this._configuration.options;if(i.hasChanged(61)&&this._linesLayout.setLineHeight(c.get(61)),i.hasChanged(77)){const v=c.get(77);this._linesLayout.setPadding(v.top,v.bottom)}if(i.hasChanged(133)){const v=c.get(133),V=v.contentWidth,$=v.height,ce=this._scrollable.getScrollDimensions(),be=ce.contentWidth;this._scrollable.setScrollDimensions(new _r(V,ce.contentWidth,$,this._getContentHeight(V,$,be)))}else this._updateHeight();i.hasChanged(105)&&this._configureSmoothScrollDuration()}onFlushed(i){this._linesLayout.onFlushed(i)}onLinesDeleted(i,c){this._linesLayout.onLinesDeleted(i,c)}onLinesInserted(i,c){this._linesLayout.onLinesInserted(i,c)}_getHorizontalScrollbarHeight(i,c){const V=this._configuration.options.get(94);return V.horizontal===2||i>=c?0:V.horizontalScrollbarSize}_getContentHeight(i,c,v){const V=this._configuration.options;let $=this._linesLayout.getLinesTotalHeight();return V.get(96)?$+=Math.max(0,c-V.get(61)-V.get(77).bottom):$+=this._getHorizontalScrollbarHeight(i,v),$}_updateHeight(){const i=this._scrollable.getScrollDimensions(),c=i.width,v=i.height,V=i.contentWidth;this._scrollable.setScrollDimensions(new _r(c,i.contentWidth,v,this._getContentHeight(c,v,V)))}getCurrentViewport(){const i=this._scrollable.getScrollDimensions(),c=this._scrollable.getCurrentScrollPosition();return new xo.l_(c.scrollTop,c.scrollLeft,i.width,i.height)}getFutureViewport(){const i=this._scrollable.getScrollDimensions(),c=this._scrollable.getFutureScrollPosition();return new xo.l_(c.scrollTop,c.scrollLeft,i.width,i.height)}_computeContentWidth(i){const c=this._configuration.options,v=c.get(134),V=c.get(46),$=c.get(133);if(v.isViewportWrapping){const ce=c.get(67);return i>$.contentWidth+V.typicalHalfwidthCharacterWidth&&ce.enabled&&ce.side==="right"?i+$.verticalScrollbarWidth:i}else{const ce=c.get(95)*V.typicalHalfwidthCharacterWidth,be=this._linesLayout.getWhitespaceMinWidth();return Math.max(i+ce+$.verticalScrollbarWidth,be)}}setMaxLineWidth(i){const c=this._scrollable.getScrollDimensions();this._scrollable.setScrollDimensions(new _r(c.width,this._computeContentWidth(i),c.height,c.contentHeight)),this._updateHeight()}saveState(){const i=this._scrollable.getFutureScrollPosition(),c=i.scrollTop,v=this._linesLayout.getLineNumberAtOrAfterVerticalOffset(c),V=this._linesLayout.getWhitespaceAccumulatedHeightBeforeLineNumber(v);return{scrollTop:c,scrollTopWithoutViewZones:c-V,scrollLeft:i.scrollLeft}}changeWhitespace(i){const c=this._linesLayout.changeWhitespace(i);return c&&this.onHeightMaybeChanged(),c}getVerticalOffsetForLineNumber(i,c=!1){return this._linesLayout.getVerticalOffsetForLineNumber(i,c)}getVerticalOffsetAfterLineNumber(i,c=!1){return this._linesLayout.getVerticalOffsetAfterLineNumber(i,c)}isAfterLines(i){return this._linesLayout.isAfterLines(i)}isInTopPadding(i){return this._linesLayout.isInTopPadding(i)}isInBottomPadding(i){return this._linesLayout.isInBottomPadding(i)}getLineNumberAtVerticalOffset(i){return this._linesLayout.getLineNumberAtOrAfterVerticalOffset(i)}getWhitespaceAtVerticalOffset(i){return this._linesLayout.getWhitespaceAtVerticalOffset(i)}getLinesViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getLinesViewportData(i.top,i.top+i.height)}getLinesViewportDataAtScrollTop(i){const c=this._scrollable.getScrollDimensions();return i+c.height>c.scrollHeight&&(i=c.scrollHeight-c.height),i<0&&(i=0),this._linesLayout.getLinesViewportData(i,i+c.height)}getWhitespaceViewportData(){const i=this.getCurrentViewport();return this._linesLayout.getWhitespaceViewportData(i.top,i.top+i.height)}getWhitespaces(){return this._linesLayout.getWhitespaces()}getContentWidth(){return this._scrollable.getScrollDimensions().contentWidth}getScrollWidth(){return this._scrollable.getScrollDimensions().scrollWidth}getContentHeight(){return this._scrollable.getScrollDimensions().contentHeight}getScrollHeight(){return this._scrollable.getScrollDimensions().scrollHeight}getCurrentScrollLeft(){return this._scrollable.getCurrentScrollPosition().scrollLeft}getCurrentScrollTop(){return this._scrollable.getCurrentScrollPosition().scrollTop}validateScrollPosition(i){return this._scrollable.validateScrollPosition(i)}setScrollPosition(i,c){c===1?this._scrollable.setScrollPositionNow(i):this._scrollable.setScrollPositionSmooth(i)}deltaScrollNow(i,c){const v=this._scrollable.getCurrentScrollPosition();this._scrollable.setScrollPositionNow({scrollLeft:v.scrollLeft+i,scrollTop:v.scrollTop+c})}}var vl=l(47480),ua=l(37186);function ha(pt,i){return pt===null?i?Cl.INSTANCE:qa.INSTANCE:new Jl(pt,i)}class Jl{constructor(i,c){this._projectionData=i,this._isVisible=c}isVisible(){return this._isVisible}setVisible(i){return this._isVisible=i,this}getProjectionData(){return this._projectionData}getViewLineCount(){return this._isVisible?this._projectionData.getOutputLineCount():0}getViewLineContent(i,c,v){this._assertVisible();const V=v>0?this._projectionData.breakOffsets[v-1]:0,$=this._projectionData.breakOffsets[v];let ce;if(this._projectionData.injectionOffsets!==null){const be=this._projectionData.injectionOffsets.map((Oe,Qe)=>new hs.gk(0,0,Oe+1,this._projectionData.injectionOptions[Qe],0));ce=hs.gk.applyInjectedText(i.getLineContent(c),be).substring(V,$)}else ce=i.getValueInRange({startLineNumber:c,startColumn:V+1,endLineNumber:c,endColumn:$+1});return v>0&&(ce=nd(this._projectionData.wrappedTextIndentLength)+ce),ce}getViewLineLength(i,c,v){return this._assertVisible(),this._projectionData.getLineLength(v)}getViewLineMinColumn(i,c,v){return this._assertVisible(),this._projectionData.getMinOutputOffset(v)+1}getViewLineMaxColumn(i,c,v){return this._assertVisible(),this._projectionData.getMaxOutputOffset(v)+1}getViewLineData(i,c,v){const V=new Array;return this.getViewLinesData(i,c,v,1,0,[!0],V),V[0]}getViewLinesData(i,c,v,V,$,ce,be){this._assertVisible();const Me=this._projectionData,Oe=Me.injectionOffsets,Qe=Me.injectionOptions;let lt=null;if(Oe){lt=[];let Dt=0,Yt=0;for(let an=0;an<Me.getOutputLineCount();an++){const gn=new Array;lt[an]=gn;const un=an>0?Me.breakOffsets[an-1]:0,zn=Me.breakOffsets[an];for(;Yt<Oe.length;){const Un=Qe[Yt].content.length,Ri=Oe[Yt]+Dt,_i=Ri+Un;if(Ri>zn)break;if(un<_i){const Vi=Qe[Yt];if(Vi.inlineClassName){const Fi=an>0?Me.wrappedTextIndentLength:0,pi=Fi+Math.max(Ri-un,0),ji=Fi+Math.min(_i-un,zn);pi!==ji&&gn.push(new xo.Wx(pi,ji,Vi.inlineClassName,Vi.inlineClassNameAffectsLetterSpacing))}}if(_i<=zn)Dt+=Un,Yt++;else break}}}let Nt;Oe?Nt=i.tokenization.getLineTokens(c).withInserted(Oe.map((Dt,Yt)=>({offset:Dt,text:Qe[Yt].content,tokenMetadata:ua.A.defaultTokenMetadata}))):Nt=i.tokenization.getLineTokens(c);for(let Dt=v;Dt<v+V;Dt++){const Yt=$+Dt-v;if(!ce[Yt]){be[Yt]=null;continue}be[Yt]=this._getViewLineData(Nt,lt?lt[Dt]:null,Dt)}}_getViewLineData(i,c,v){this._assertVisible();const V=this._projectionData,$=v>0?V.wrappedTextIndentLength:0,ce=v>0?V.breakOffsets[v-1]:0,be=V.breakOffsets[v],Me=i.sliceAndInflate(ce,be,$);let Oe=Me.getLineContent();v>0&&(Oe=nd(V.wrappedTextIndentLength)+Oe);const Qe=this._projectionData.getMinOutputOffset(v)+1,lt=Oe.length+1,Nt=v+1<this.getViewLineCount(),Dt=v===0?0:V.breakOffsetsVisibleColumn[v-1];return new xo.IP(Oe,Nt,Qe,lt,Dt,Me,c)}getModelColumnOfViewPosition(i,c){return this._assertVisible(),this._projectionData.translateToInputOffset(i,c-1)+1}getViewPositionOfModelPosition(i,c,v=2){return this._assertVisible(),this._projectionData.translateToOutputPosition(c-1,v).toPosition(i)}getViewLineNumberOfModelPosition(i,c){this._assertVisible();const v=this._projectionData.translateToOutputPosition(c-1);return i+v.outputLineIndex}normalizePosition(i,c,v){const V=c.lineNumber-i;return this._projectionData.normalizeOutputPosition(i,c.column-1,v).toPosition(V)}getInjectedTextAt(i,c){return this._projectionData.getInjectedText(i,c-1)}_assertVisible(){if(!this._isVisible)throw new Error("Not supported")}}class Cl{constructor(){}isVisible(){return!0}setVisible(i){return i?this:qa.INSTANCE}getProjectionData(){return null}getViewLineCount(){return 1}getViewLineContent(i,c,v){return i.getLineContent(c)}getViewLineLength(i,c,v){return i.getLineLength(c)}getViewLineMinColumn(i,c,v){return i.getLineMinColumn(c)}getViewLineMaxColumn(i,c,v){return i.getLineMaxColumn(c)}getViewLineData(i,c,v){const V=i.tokenization.getLineTokens(c),$=V.getLineContent();return new xo.IP($,!1,1,$.length+1,0,V.inflate(),null)}getViewLinesData(i,c,v,V,$,ce,be){if(!ce[$]){be[$]=null;return}be[$]=this.getViewLineData(i,c,0)}getModelColumnOfViewPosition(i,c){return c}getViewPositionOfModelPosition(i,c){return new wn.L(i,c)}getViewLineNumberOfModelPosition(i,c){return i}normalizePosition(i,c,v){return c}getInjectedTextAt(i,c){return null}}Cl.INSTANCE=new Cl;class qa{constructor(){}isVisible(){return!1}setVisible(i){return i?Cl.INSTANCE:this}getProjectionData(){return null}getViewLineCount(){return 0}getViewLineContent(i,c,v){throw new Error("Not supported")}getViewLineLength(i,c,v){throw new Error("Not supported")}getViewLineMinColumn(i,c,v){throw new Error("Not supported")}getViewLineMaxColumn(i,c,v){throw new Error("Not supported")}getViewLineData(i,c,v){throw new Error("Not supported")}getViewLinesData(i,c,v,V,$,ce,be){throw new Error("Not supported")}getModelColumnOfViewPosition(i,c){throw new Error("Not supported")}getViewPositionOfModelPosition(i,c){throw new Error("Not supported")}getViewLineNumberOfModelPosition(i,c){throw new Error("Not supported")}normalizePosition(i,c,v){throw new Error("Not supported")}getInjectedTextAt(i,c){throw new Error("Not supported")}}qa.INSTANCE=new qa;const vr=[""];function nd(pt){if(pt>=vr.length)for(let i=1;i<=pt;i++)vr[i]=id(i);return vr[pt]}function id(pt){return new Array(pt+1).join(" ")}var bl=l(88688);class Br{constructor(i,c,v,V,$,ce,be,Me,Oe){this._editorId=i,this.model=c,this._validModelVersionId=-1,this._domLineBreaksComputerFactory=v,this._monospaceLineBreaksComputerFactory=V,this.fontInfo=$,this.tabSize=ce,this.wrappingStrategy=be,this.wrappingColumn=Me,this.wrappingIndent=Oe,this._constructLines(!0,null)}dispose(){this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[])}createCoordinatesConverter(){return new ql(this)}_constructLines(i,c){this.modelLineProjections=[],i&&(this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,[]));const v=this.model.getLinesContent(),V=this.model.getInjectedTextDecorations(this._editorId),$=v.length,ce=this.createLineBreaksComputer(),be=new u.H9(hs.gk.fromDecorations(V));for(let an=0;an<$;an++){const gn=be.takeWhile(un=>un.lineNumber===an+1);ce.addRequest(v[an],gn,c?c[an]:null)}const Me=ce.finalize(),Oe=[],Qe=this.hiddenAreasDecorationIds.map(an=>this.model.getDecorationRange(an)).sort(je.e.compareRangesUsingStarts);let lt=1,Nt=0,Dt=-1,Yt=Dt+1<Qe.length?Nt+1:$+2;for(let an=0;an<$;an++){const gn=an+1;gn===Yt&&(Dt++,lt=Qe[Dt].startLineNumber,Nt=Qe[Dt].endLineNumber,Yt=Dt+1<Qe.length?Nt+1:$+2);const un=gn>=lt&&gn<=Nt,zn=ha(Me[an],!un);Oe[an]=zn.getViewLineCount(),this.modelLineProjections[an]=zn}this._validModelVersionId=this.model.getVersionId(),this.projectedModelLineLineCounts=new bl.Ck(Oe)}getHiddenAreas(){return this.hiddenAreasDecorationIds.map(i=>this.model.getDecorationRange(i))}setHiddenAreas(i){const c=i.map(Nt=>this.model.validateRange(Nt)),v=sd(c),V=this.hiddenAreasDecorationIds.map(Nt=>this.model.getDecorationRange(Nt)).sort(je.e.compareRangesUsingStarts);if(v.length===V.length){let Nt=!1;for(let Dt=0;Dt<v.length;Dt++)if(!v[Dt].equalsRange(V[Dt])){Nt=!0;break}if(!Nt)return!1}const $=v.map(Nt=>({range:Nt,options:Zo.qx.EMPTY}));this.hiddenAreasDecorationIds=this.model.deltaDecorations(this.hiddenAreasDecorationIds,$);const ce=v;let be=1,Me=0,Oe=-1,Qe=Oe+1<ce.length?Me+1:this.modelLineProjections.length+2,lt=!1;for(let Nt=0;Nt<this.modelLineProjections.length;Nt++){const Dt=Nt+1;Dt===Qe&&(Oe++,be=ce[Oe].startLineNumber,Me=ce[Oe].endLineNumber,Qe=Oe+1<ce.length?Me+1:this.modelLineProjections.length+2);let Yt=!1;if(Dt>=be&&Dt<=Me?this.modelLineProjections[Nt].isVisible()&&(this.modelLineProjections[Nt]=this.modelLineProjections[Nt].setVisible(!1),Yt=!0):(lt=!0,this.modelLineProjections[Nt].isVisible()||(this.modelLineProjections[Nt]=this.modelLineProjections[Nt].setVisible(!0),Yt=!0)),Yt){const an=this.modelLineProjections[Nt].getViewLineCount();this.projectedModelLineLineCounts.setValue(Nt,an)}}return lt||this.setHiddenAreas([]),!0}modelPositionIsVisible(i,c){return i<1||i>this.modelLineProjections.length?!1:this.modelLineProjections[i-1].isVisible()}getModelLineViewLineCount(i){return i<1||i>this.modelLineProjections.length?1:this.modelLineProjections[i-1].getViewLineCount()}setTabSize(i){return this.tabSize===i?!1:(this.tabSize=i,this._constructLines(!1,null),!0)}setWrappingSettings(i,c,v,V){const $=this.fontInfo.equals(i),ce=this.wrappingStrategy===c,be=this.wrappingColumn===v,Me=this.wrappingIndent===V;if($&&ce&&be&&Me)return!1;const Oe=$&&ce&&!be&&Me;this.fontInfo=i,this.wrappingStrategy=c,this.wrappingColumn=v,this.wrappingIndent=V;let Qe=null;if(Oe){Qe=[];for(let lt=0,Nt=this.modelLineProjections.length;lt<Nt;lt++)Qe[lt]=this.modelLineProjections[lt].getProjectionData()}return this._constructLines(!1,Qe),!0}createLineBreaksComputer(){return(this.wrappingStrategy==="advanced"?this._domLineBreaksComputerFactory:this._monospaceLineBreaksComputerFactory).createLineBreaksComputer(this.fontInfo,this.tabSize,this.wrappingColumn,this.wrappingIndent)}onModelFlushed(){this._constructLines(!0,null)}onModelLinesDeleted(i,c,v){if(!i||i<=this._validModelVersionId)return null;const V=c===1?1:this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,$=this.projectedModelLineLineCounts.getPrefixSum(v);return this.modelLineProjections.splice(c-1,v-c+1),this.projectedModelLineLineCounts.removeValues(c-1,v-c+1),new fl(V,$)}onModelLinesInserted(i,c,v,V){if(!i||i<=this._validModelVersionId)return null;const $=c>2&&!this.modelLineProjections[c-2].isVisible(),ce=c===1?1:this.projectedModelLineLineCounts.getPrefixSum(c-1)+1;let be=0;const Me=[],Oe=[];for(let Qe=0,lt=V.length;Qe<lt;Qe++){const Nt=ha(V[Qe],!$);Me.push(Nt);const Dt=Nt.getViewLineCount();be+=Dt,Oe[Qe]=Dt}return this.modelLineProjections=this.modelLineProjections.slice(0,c-1).concat(Me).concat(this.modelLineProjections.slice(c-1)),this.projectedModelLineLineCounts.insertValues(c-1,Oe),new gl(ce,ce+be-1)}onModelLineChanged(i,c,v){if(i!==null&&i<=this._validModelVersionId)return[!1,null,null,null];const V=c-1,$=this.modelLineProjections[V].getViewLineCount(),ce=this.modelLineProjections[V].isVisible(),be=ha(v,ce);this.modelLineProjections[V]=be;const Me=this.modelLineProjections[V].getViewLineCount();let Oe=!1,Qe=0,lt=-1,Nt=0,Dt=-1,Yt=0,an=-1;$>Me?(Qe=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,lt=Qe+Me-1,Yt=lt+1,an=Yt+($-Me)-1,Oe=!0):$<Me?(Qe=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,lt=Qe+$-1,Nt=lt+1,Dt=Nt+(Me-$)-1,Oe=!0):(Qe=this.projectedModelLineLineCounts.getPrefixSum(c-1)+1,lt=Qe+Me-1),this.projectedModelLineLineCounts.setValue(V,Me);const gn=Qe<=lt?new Jo(Qe,lt-Qe+1):null,un=Nt<=Dt?new gl(Nt,Dt):null,zn=Yt<=an?new fl(Yt,an):null;return[Oe,gn,un,zn]}acceptVersionId(i){this._validModelVersionId=i,this.modelLineProjections.length===1&&!this.modelLineProjections[0].isVisible()&&this.setHiddenAreas([])}getViewLineCount(){return this.projectedModelLineLineCounts.getTotalSum()}_toValidViewLineNumber(i){if(i<1)return 1;const c=this.getViewLineCount();return i>c?c:i|0}getActiveIndentGuide(i,c,v){i=this._toValidViewLineNumber(i),c=this._toValidViewLineNumber(c),v=this._toValidViewLineNumber(v);const V=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),$=this.convertViewPositionToModelPosition(c,this.getViewLineMinColumn(c)),ce=this.convertViewPositionToModelPosition(v,this.getViewLineMinColumn(v)),be=this.model.guides.getActiveIndentGuide(V.lineNumber,$.lineNumber,ce.lineNumber),Me=this.convertModelPositionToViewPosition(be.startLineNumber,1),Oe=this.convertModelPositionToViewPosition(be.endLineNumber,this.model.getLineMaxColumn(be.endLineNumber));return{startLineNumber:Me.lineNumber,endLineNumber:Oe.lineNumber,indent:be.indent}}getViewLineInfo(i){i=this._toValidViewLineNumber(i);const c=this.projectedModelLineLineCounts.getIndexOf(i-1),v=c.index,V=c.remainder;return new od(v+1,V)}getMinColumnOfViewLine(i){return this.modelLineProjections[i.modelLineNumber-1].getViewLineMinColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx)}getMaxColumnOfViewLine(i){return this.modelLineProjections[i.modelLineNumber-1].getViewLineMaxColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx)}getModelStartPositionOfViewLine(i){const c=this.modelLineProjections[i.modelLineNumber-1],v=c.getViewLineMinColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx),V=c.getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,v);return new wn.L(i.modelLineNumber,V)}getModelEndPositionOfViewLine(i){const c=this.modelLineProjections[i.modelLineNumber-1],v=c.getViewLineMaxColumn(this.model,i.modelLineNumber,i.modelLineWrappedLineIdx),V=c.getModelColumnOfViewPosition(i.modelLineWrappedLineIdx,v);return new wn.L(i.modelLineNumber,V)}getViewLineInfosGroupedByModelRanges(i,c){const v=this.getViewLineInfo(i),V=this.getViewLineInfo(c),$=new Array;let ce=this.getModelStartPositionOfViewLine(v),be=new Array;for(let Me=v.modelLineNumber;Me<=V.modelLineNumber;Me++){const Oe=this.modelLineProjections[Me-1];if(Oe.isVisible()){const Qe=Me===v.modelLineNumber?v.modelLineWrappedLineIdx:0,lt=Me===V.modelLineNumber?V.modelLineWrappedLineIdx+1:Oe.getViewLineCount();for(let Nt=Qe;Nt<lt;Nt++)be.push(new od(Me,Nt))}if(!Oe.isVisible()&&ce){const Qe=new wn.L(Me-1,this.model.getLineMaxColumn(Me-1)+1),lt=je.e.fromPositions(ce,Qe);$.push(new Wr(lt,be)),be=[],ce=null}else Oe.isVisible()&&!ce&&(ce=new wn.L(Me,1))}if(ce){const Me=je.e.fromPositions(ce,this.getModelEndPositionOfViewLine(V));$.push(new Wr(Me,be))}return $}getViewLinesBracketGuides(i,c,v,V){const $=v?this.convertViewPositionToModelPosition(v.lineNumber,v.column):null,ce=[];for(const be of this.getViewLineInfosGroupedByModelRanges(i,c)){const Me=be.modelRange.startLineNumber,Oe=this.model.guides.getLinesBracketGuides(Me,be.modelRange.endLineNumber,$,V);for(const Qe of be.viewLines){const Nt=Oe[Qe.modelLineNumber-Me].map(Dt=>{if(Dt.forWrappedLinesAfterColumn!==-1&&this.modelLineProjections[Qe.modelLineNumber-1].getViewPositionOfModelPosition(0,Dt.forWrappedLinesAfterColumn).lineNumber>=Qe.modelLineWrappedLineIdx||Dt.forWrappedLinesBeforeOrAtColumn!==-1&&this.modelLineProjections[Qe.modelLineNumber-1].getViewPositionOfModelPosition(0,Dt.forWrappedLinesBeforeOrAtColumn).lineNumber<Qe.modelLineWrappedLineIdx)return;if(!Dt.horizontalLine)return Dt;let Yt=-1;if(Dt.column!==-1){const un=this.modelLineProjections[Qe.modelLineNumber-1].getViewPositionOfModelPosition(0,Dt.column);if(un.lineNumber===Qe.modelLineWrappedLineIdx)Yt=un.column;else if(un.lineNumber<Qe.modelLineWrappedLineIdx)Yt=this.getMinColumnOfViewLine(Qe);else if(un.lineNumber>Qe.modelLineWrappedLineIdx)return}const an=this.convertModelPositionToViewPosition(Qe.modelLineNumber,Dt.horizontalLine.endColumn),gn=this.modelLineProjections[Qe.modelLineNumber-1].getViewPositionOfModelPosition(0,Dt.horizontalLine.endColumn);return gn.lineNumber===Qe.modelLineWrappedLineIdx?new cs.UO(Dt.visibleColumn,Yt,Dt.className,new cs.vW(Dt.horizontalLine.top,an.column),-1,-1):gn.lineNumber<Qe.modelLineWrappedLineIdx||Dt.visibleColumn!==-1?void 0:new cs.UO(Dt.visibleColumn,Yt,Dt.className,new cs.vW(Dt.horizontalLine.top,this.getMaxColumnOfViewLine(Qe)),-1,-1)});ce.push(Nt.filter(Dt=>!!Dt))}}return ce}getViewLinesIndentGuides(i,c){i=this._toValidViewLineNumber(i),c=this._toValidViewLineNumber(c);const v=this.convertViewPositionToModelPosition(i,this.getViewLineMinColumn(i)),V=this.convertViewPositionToModelPosition(c,this.getViewLineMaxColumn(c));let $=[];const ce=[],be=[],Me=v.lineNumber-1,Oe=V.lineNumber-1;let Qe=null;for(let Yt=Me;Yt<=Oe;Yt++){const an=this.modelLineProjections[Yt];if(an.isVisible()){const gn=an.getViewLineNumberOfModelPosition(0,Yt===Me?v.column:1),un=an.getViewLineNumberOfModelPosition(0,this.model.getLineMaxColumn(Yt+1)),zn=un-gn+1;let Un=0;zn>1&&an.getViewLineMinColumn(this.model,Yt+1,un)===1&&(Un=gn===0?1:2),ce.push(zn),be.push(Un),Qe===null&&(Qe=new wn.L(Yt+1,0))}else Qe!==null&&($=$.concat(this.model.guides.getLinesIndentGuides(Qe.lineNumber,Yt)),Qe=null)}Qe!==null&&($=$.concat(this.model.guides.getLinesIndentGuides(Qe.lineNumber,V.lineNumber)),Qe=null);const lt=c-i+1,Nt=new Array(lt);let Dt=0;for(let Yt=0,an=$.length;Yt<an;Yt++){let gn=$[Yt];const un=Math.min(lt-Dt,ce[Yt]),zn=be[Yt];let Un;zn===2?Un=0:zn===1?Un=1:Un=un;for(let Ri=0;Ri<un;Ri++)Ri===Un&&(gn=0),Nt[Dt++]=gn}return Nt}getViewLineContent(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineContent(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineLength(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineLength(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineMinColumn(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineMinColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineMaxColumn(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineMaxColumn(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLineData(i){const c=this.getViewLineInfo(i);return this.modelLineProjections[c.modelLineNumber-1].getViewLineData(this.model,c.modelLineNumber,c.modelLineWrappedLineIdx)}getViewLinesData(i,c,v){i=this._toValidViewLineNumber(i),c=this._toValidViewLineNumber(c);const V=this.projectedModelLineLineCounts.getIndexOf(i-1);let $=i;const ce=V.index,be=V.remainder,Me=[];for(let Oe=ce,Qe=this.model.getLineCount();Oe<Qe;Oe++){const lt=this.modelLineProjections[Oe];if(!lt.isVisible())continue;const Nt=Oe===ce?be:0;let Dt=lt.getViewLineCount()-Nt,Yt=!1;if($+Dt>c&&(Yt=!0,Dt=c-$+1),lt.getViewLinesData(this.model,Oe+1,Nt,Dt,$-i,v,Me),$+=Dt,Yt)break}return Me}validateViewPosition(i,c,v){i=this._toValidViewLineNumber(i);const V=this.projectedModelLineLineCounts.getIndexOf(i-1),$=V.index,ce=V.remainder,be=this.modelLineProjections[$],Me=be.getViewLineMinColumn(this.model,$+1,ce),Oe=be.getViewLineMaxColumn(this.model,$+1,ce);c<Me&&(c=Me),c>Oe&&(c=Oe);const Qe=be.getModelColumnOfViewPosition(ce,c);return this.model.validatePosition(new wn.L($+1,Qe)).equals(v)?new wn.L(i,c):this.convertModelPositionToViewPosition(v.lineNumber,v.column)}validateViewRange(i,c){const v=this.validateViewPosition(i.startLineNumber,i.startColumn,c.getStartPosition()),V=this.validateViewPosition(i.endLineNumber,i.endColumn,c.getEndPosition());return new je.e(v.lineNumber,v.column,V.lineNumber,V.column)}convertViewPositionToModelPosition(i,c){const v=this.getViewLineInfo(i),V=this.modelLineProjections[v.modelLineNumber-1].getModelColumnOfViewPosition(v.modelLineWrappedLineIdx,c);return this.model.validatePosition(new wn.L(v.modelLineNumber,V))}convertViewRangeToModelRange(i){const c=this.convertViewPositionToModelPosition(i.startLineNumber,i.startColumn),v=this.convertViewPositionToModelPosition(i.endLineNumber,i.endColumn);return new je.e(c.lineNumber,c.column,v.lineNumber,v.column)}convertModelPositionToViewPosition(i,c,v=2){const V=this.model.validatePosition(new wn.L(i,c)),$=V.lineNumber,ce=V.column;let be=$-1,Me=!1;for(;be>0&&!this.modelLineProjections[be].isVisible();)be--,Me=!0;if(be===0&&!this.modelLineProjections[be].isVisible())return new wn.L(1,1);const Oe=1+this.projectedModelLineLineCounts.getPrefixSum(be);let Qe;return Me?Qe=this.modelLineProjections[be].getViewPositionOfModelPosition(Oe,this.model.getLineMaxColumn(be+1),v):Qe=this.modelLineProjections[$-1].getViewPositionOfModelPosition(Oe,ce,v),Qe}convertModelRangeToViewRange(i,c=0){if(i.isEmpty()){const v=this.convertModelPositionToViewPosition(i.startLineNumber,i.startColumn,c);return je.e.fromPositions(v)}else{const v=this.convertModelPositionToViewPosition(i.startLineNumber,i.startColumn,1),V=this.convertModelPositionToViewPosition(i.endLineNumber,i.endColumn,0);return new je.e(v.lineNumber,v.column,V.lineNumber,V.column)}}getViewLineNumberOfModelPosition(i,c){let v=i-1;if(this.modelLineProjections[v].isVisible()){const $=1+this.projectedModelLineLineCounts.getPrefixSum(v);return this.modelLineProjections[v].getViewLineNumberOfModelPosition($,c)}for(;v>0&&!this.modelLineProjections[v].isVisible();)v--;if(v===0&&!this.modelLineProjections[v].isVisible())return 1;const V=1+this.projectedModelLineLineCounts.getPrefixSum(v);return this.modelLineProjections[v].getViewLineNumberOfModelPosition(V,this.model.getLineMaxColumn(v+1))}getDecorationsInRange(i,c,v){const V=this.convertViewPositionToModelPosition(i.startLineNumber,i.startColumn),$=this.convertViewPositionToModelPosition(i.endLineNumber,i.endColumn);if($.lineNumber-V.lineNumber<=i.endLineNumber-i.startLineNumber)return this.model.getDecorationsInRange(new je.e(V.lineNumber,1,$.lineNumber,$.column),c,v);let ce=[];const be=V.lineNumber-1,Me=$.lineNumber-1;let Oe=null;for(let Dt=be;Dt<=Me;Dt++)if(this.modelLineProjections[Dt].isVisible())Oe===null&&(Oe=new wn.L(Dt+1,Dt===be?V.column:1));else if(Oe!==null){const an=this.model.getLineMaxColumn(Dt);ce=ce.concat(this.model.getDecorationsInRange(new je.e(Oe.lineNumber,Oe.column,Dt,an),c,v)),Oe=null}Oe!==null&&(ce=ce.concat(this.model.getDecorationsInRange(new je.e(Oe.lineNumber,Oe.column,$.lineNumber,$.column),c,v)),Oe=null),ce.sort((Dt,Yt)=>{const an=je.e.compareRangesUsingStarts(Dt.range,Yt.range);return an===0?Dt.id<Yt.id?-1:Dt.id>Yt.id?1:0:an});const Qe=[];let lt=0,Nt=null;for(const Dt of ce){const Yt=Dt.id;Nt!==Yt&&(Nt=Yt,Qe[lt++]=Dt)}return Qe}getInjectedTextAt(i){const c=this.getViewLineInfo(i.lineNumber);return this.modelLineProjections[c.modelLineNumber-1].getInjectedTextAt(c.modelLineWrappedLineIdx,i.column)}normalizePosition(i,c){const v=this.getViewLineInfo(i.lineNumber);return this.modelLineProjections[v.modelLineNumber-1].normalizePosition(v.modelLineWrappedLineIdx,i,c)}getLineIndentColumn(i){const c=this.getViewLineInfo(i);return c.modelLineWrappedLineIdx===0?this.model.getLineIndentColumn(c.modelLineNumber):0}}function sd(pt){if(pt.length===0)return[];const i=pt.slice();i.sort(je.e.compareRangesUsingStarts);const c=[];let v=i[0].startLineNumber,V=i[0].endLineNumber;for(let $=1,ce=i.length;$<ce;$++){const be=i[$];be.startLineNumber>V+1?(c.push(new je.e(v,1,V,1)),v=be.startLineNumber,V=be.endLineNumber):be.endLineNumber>V&&(V=be.endLineNumber)}return c.push(new je.e(v,1,V,1)),c}class od{constructor(i,c){this.modelLineNumber=i,this.modelLineWrappedLineIdx=c}}class Wr{constructor(i,c){this.modelRange=i,this.viewLines=c}}class ql{constructor(i){this._lines=i}convertViewPositionToModelPosition(i){return this._lines.convertViewPositionToModelPosition(i.lineNumber,i.column)}convertViewRangeToModelRange(i){return this._lines.convertViewRangeToModelRange(i)}validateViewPosition(i,c){return this._lines.validateViewPosition(i.lineNumber,i.column,c)}validateViewRange(i,c){return this._lines.validateViewRange(i,c)}convertModelPositionToViewPosition(i,c){return this._lines.convertModelPositionToViewPosition(i.lineNumber,i.column,c)}convertModelRangeToViewRange(i,c){return this._lines.convertModelRangeToViewRange(i,c)}modelPositionIsVisible(i){return this._lines.modelPositionIsVisible(i.lineNumber,i.column)}getModelLineViewLineCount(i){return this._lines.getModelLineViewLineCount(i)}getViewLineNumberOfModelPosition(i,c){return this._lines.getViewLineNumberOfModelPosition(i,c)}}class ec{constructor(i){this.model=i}dispose(){}createCoordinatesConverter(){return new rd(this)}getHiddenAreas(){return[]}setHiddenAreas(i){return!1}setTabSize(i){return!1}setWrappingSettings(i,c,v,V){return!1}createLineBreaksComputer(){const i=[];return{addRequest:(c,v,V)=>{i.push(null)},finalize:()=>i}}onModelFlushed(){}onModelLinesDeleted(i,c,v){return new fl(c,v)}onModelLinesInserted(i,c,v,V){return new gl(c,v)}onModelLineChanged(i,c,v){return[!1,new Jo(c,1),null,null]}acceptVersionId(i){}getViewLineCount(){return this.model.getLineCount()}getActiveIndentGuide(i,c,v){return{startLineNumber:i,endLineNumber:i,indent:0}}getViewLinesBracketGuides(i,c,v){return new Array(c-i+1).fill([])}getViewLinesIndentGuides(i,c){const v=c-i+1,V=new Array(v);for(let $=0;$<v;$++)V[$]=0;return V}getViewLineContent(i){return this.model.getLineContent(i)}getViewLineLength(i){return this.model.getLineLength(i)}getViewLineMinColumn(i){return this.model.getLineMinColumn(i)}getViewLineMaxColumn(i){return this.model.getLineMaxColumn(i)}getViewLineData(i){const c=this.model.tokenization.getLineTokens(i),v=c.getLineContent();return new xo.IP(v,!1,1,v.length+1,0,c.inflate(),null)}getViewLinesData(i,c,v){const V=this.model.getLineCount();i=Math.min(Math.max(1,i),V),c=Math.min(Math.max(1,c),V);const $=[];for(let ce=i;ce<=c;ce++){const be=ce-i;$[be]=v[be]?this.getViewLineData(ce):null}return $}getDecorationsInRange(i,c,v){return this.model.getDecorationsInRange(i,c,v)}normalizePosition(i,c){return this.model.normalizePosition(i,c)}getLineIndentColumn(i){return this.model.getLineIndentColumn(i)}getInjectedTextAt(i){return null}}class rd{constructor(i){this._lines=i}_validPosition(i){return this._lines.model.validatePosition(i)}_validRange(i){return this._lines.model.validateRange(i)}convertViewPositionToModelPosition(i){return this._validPosition(i)}convertViewRangeToModelRange(i){return this._validRange(i)}validateViewPosition(i,c){return this._validPosition(c)}validateViewRange(i,c){return this._validRange(c)}convertModelPositionToViewPosition(i){return this._validPosition(i)}convertModelRangeToViewRange(i){return this._validRange(i)}modelPositionIsVisible(i){const c=this._lines.model.getLineCount();return!(i.lineNumber<1||i.lineNumber>c)}getModelLineViewLineCount(i){return 1}getViewLineNumberOfModelPosition(i,c){return i}}const Fd=!0;class Ol extends S.JT{constructor(i,c,v,V,$,ce,be,Me){if(super(),this.languageConfigurationService=be,this._themeService=Me,this._editorId=i,this._configuration=c,this.model=v,this._eventDispatcher=new Da,this.onEvent=this._eventDispatcher.onEvent,this.cursorConfig=new qt.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._tokenizeViewportSoon=this._register(new He.pY(()=>this.tokenizeViewport(),50)),this._updateConfigurationViewLineCount=this._register(new He.pY(()=>this._updateConfigurationViewLineCountNow(),0)),this._hasFocus=!1,this._viewportStart=el.create(this.model),Fd&&this.model.isTooLargeForTokenization())this._lines=new ec(this.model);else{const Oe=this._configuration.options,Qe=Oe.get(46),lt=Oe.get(127),Nt=Oe.get(134),Dt=Oe.get(126);this._lines=new Br(this._editorId,this.model,V,$,Qe,this.model.getOptions().tabSize,lt,Nt.wrappingColumn,Dt)}this.coordinatesConverter=this._lines.createCoordinatesConverter(),this._cursor=this._register(new Qr(v,this,this.coordinatesConverter,this.cursorConfig)),this.viewLayout=this._register(new Ec(this._configuration,this.getLineCount(),ce)),this._register(this.viewLayout.onDidScroll(Oe=>{Oe.scrollTopChanged&&this._tokenizeViewportSoon.schedule(),Oe.scrollTopChanged&&this._viewportStart.invalidate(),this._eventDispatcher.emitSingleViewEvent(new Fr(Oe)),this._eventDispatcher.emitOutgoingEvent(new da(Oe.oldScrollWidth,Oe.oldScrollLeft,Oe.oldScrollHeight,Oe.oldScrollTop,Oe.scrollWidth,Oe.scrollLeft,Oe.scrollHeight,Oe.scrollTop))})),this._register(this.viewLayout.onDidContentSizeChange(Oe=>{this._eventDispatcher.emitOutgoingEvent(Oe)})),this._decorations=new vl.CU(this._editorId,this.model,this._configuration,this._lines,this.coordinatesConverter),this._registerModelEvents(),this._register(this._configuration.onDidChangeFast(Oe=>{try{const Qe=this._eventDispatcher.beginEmitViewEvents();this._onConfigurationChanged(Qe,Oe)}finally{this._eventDispatcher.endEmitViewEvents()}})),this._register(as.getInstance().onDidChange(()=>{this._eventDispatcher.emitSingleViewEvent(new Ea)})),this._register(this._themeService.onDidColorThemeChange(Oe=>{this._invalidateDecorationsColorCache(),this._eventDispatcher.emitSingleViewEvent(new La(Oe))})),this._updateConfigurationViewLineCountNow()}dispose(){super.dispose(),this._decorations.dispose(),this._lines.dispose(),this._viewportStart.dispose(),this._eventDispatcher.dispose()}createLineBreaksComputer(){return this._lines.createLineBreaksComputer()}addViewEventHandler(i){this._eventDispatcher.addViewEventHandler(i)}removeViewEventHandler(i){this._eventDispatcher.removeViewEventHandler(i)}_updateConfigurationViewLineCountNow(){this._configuration.setViewLineCount(this._lines.getViewLineCount())}tokenizeViewport(){const i=this.viewLayout.getLinesViewportData(),c=new je.e(i.startLineNumber,this.getLineMinColumn(i.startLineNumber),i.endLineNumber,this.getLineMaxColumn(i.endLineNumber)),v=this._toModelVisibleRanges(c);for(const V of v)this.model.tokenization.tokenizeViewport(V.startLineNumber,V.endLineNumber)}setHasFocus(i){this._hasFocus=i,this._cursor.setHasFocus(i),this._eventDispatcher.emitSingleViewEvent(new ya(i)),this._eventDispatcher.emitOutgoingEvent(new pr(!i,i))}onCompositionStart(){this._eventDispatcher.emitSingleViewEvent(new qs)}onCompositionEnd(){this._eventDispatcher.emitSingleViewEvent(new Po)}_onConfigurationChanged(i,c){let v=null;if(this._viewportStart.isValid){const Qe=new wn.L(this._viewportStart.viewLineNumber,this.getLineMinColumn(this._viewportStart.viewLineNumber));v=this.coordinatesConverter.convertViewPositionToModelPosition(Qe)}let V=!1;const $=this._configuration.options,ce=$.get(46),be=$.get(127),Me=$.get(134),Oe=$.get(126);if(this._lines.setWrappingSettings(ce,be,Me.wrappingColumn,Oe)&&(i.emitViewEvent(new Sa),i.emitViewEvent(new mr),i.emitViewEvent(new zo(null)),this._cursor.onLineMappingChanged(i),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.getCurrentScrollTop()!==0&&(V=!0),this._updateConfigurationViewLineCount.schedule()),c.hasChanged(83)&&(this._decorations.reset(),i.emitViewEvent(new zo(null))),i.emitViewEvent(new Fa(c)),this.viewLayout.onConfigurationChanged(c),V&&v){const Qe=this.coordinatesConverter.convertModelPositionToViewPosition(v),lt=this.viewLayout.getVerticalOffsetForLineNumber(Qe.lineNumber);this.viewLayout.setScrollPosition({scrollTop:lt+this._viewportStart.startLineDelta},1)}qt.LM.shouldRecreate(c)&&(this.cursorConfig=new qt.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig))}_registerModelEvents(){this._register(this.model.onDidChangeContentOrInjectedText(i=>{try{const v=this._eventDispatcher.beginEmitViewEvents();let V=!1,$=!1;const ce=i instanceof hs.fV?i.rawContentChangedEvent.changes:i.changes,be=i instanceof hs.fV?i.rawContentChangedEvent.versionId:null,Me=this._lines.createLineBreaksComputer();for(const lt of ce)switch(lt.changeType){case 4:{for(let Nt=0;Nt<lt.detail.length;Nt++){const Dt=lt.detail[Nt];let Yt=lt.injectedTexts[Nt];Yt&&(Yt=Yt.filter(an=>!an.ownerId||an.ownerId===this._editorId)),Me.addRequest(Dt,Yt,null)}break}case 2:{let Nt=null;lt.injectedText&&(Nt=lt.injectedText.filter(Dt=>!Dt.ownerId||Dt.ownerId===this._editorId)),Me.addRequest(lt.detail,Nt,null);break}}const Oe=Me.finalize(),Qe=new u.H9(Oe);for(const lt of ce)switch(lt.changeType){case 1:{this._lines.onModelFlushed(),v.emitViewEvent(new Sa),this._decorations.reset(),this.viewLayout.onFlushed(this.getLineCount()),V=!0;break}case 3:{const Nt=this._lines.onModelLinesDeleted(be,lt.fromLineNumber,lt.toLineNumber);Nt!==null&&(v.emitViewEvent(Nt),this.viewLayout.onLinesDeleted(Nt.fromLineNumber,Nt.toLineNumber)),V=!0;break}case 4:{const Nt=Qe.takeCount(lt.detail.length),Dt=this._lines.onModelLinesInserted(be,lt.fromLineNumber,lt.toLineNumber,Nt);Dt!==null&&(v.emitViewEvent(Dt),this.viewLayout.onLinesInserted(Dt.fromLineNumber,Dt.toLineNumber)),V=!0;break}case 2:{const Nt=Qe.dequeue(),[Dt,Yt,an,gn]=this._lines.onModelLineChanged(be,lt.lineNumber,Nt);$=Dt,Yt&&v.emitViewEvent(Yt),an&&(v.emitViewEvent(an),this.viewLayout.onLinesInserted(an.fromLineNumber,an.toLineNumber)),gn&&(v.emitViewEvent(gn),this.viewLayout.onLinesDeleted(gn.fromLineNumber,gn.toLineNumber));break}case 5:break}be!==null&&this._lines.acceptVersionId(be),this.viewLayout.onHeightMaybeChanged(),!V&&$&&(v.emitViewEvent(new mr),v.emitViewEvent(new zo(null)),this._cursor.onLineMappingChanged(v),this._decorations.onLineMappingChanged())}finally{this._eventDispatcher.endEmitViewEvents()}const c=this._viewportStart.isValid;if(this._viewportStart.invalidate(),this._configuration.setModelLineCount(this.model.getLineCount()),this._updateConfigurationViewLineCountNow(),!this._hasFocus&&this.model.getAttachedEditorCount()>=2&&c){const v=this.model._getTrackedRange(this._viewportStart.modelTrackedRange);if(v){const V=this.coordinatesConverter.convertModelPositionToViewPosition(v.getStartPosition()),$=this.viewLayout.getVerticalOffsetForLineNumber(V.lineNumber);this.viewLayout.setScrollPosition({scrollTop:$+this._viewportStart.startLineDelta},1)}}try{const v=this._eventDispatcher.beginEmitViewEvents();i instanceof hs.fV&&v.emitOutgoingEvent(new Mi(i.contentChangedEvent)),this._cursor.onModelContentChanged(v,i)}finally{this._eventDispatcher.endEmitViewEvents()}this._tokenizeViewportSoon.schedule()})),this._register(this.model.onDidChangeTokens(i=>{const c=[];for(let v=0,V=i.ranges.length;v<V;v++){const $=i.ranges[v],ce=this.coordinatesConverter.convertModelPositionToViewPosition(new wn.L($.fromLineNumber,1)).lineNumber,be=this.coordinatesConverter.convertModelPositionToViewPosition(new wn.L($.toLineNumber,this.model.getLineMaxColumn($.toLineNumber))).lineNumber;c[v]={fromLineNumber:ce,toLineNumber:be}}this._eventDispatcher.emitSingleViewEvent(new Lc(c)),i.tokenizationSupportChanged&&this._tokenizeViewportSoon.schedule(),this._eventDispatcher.emitOutgoingEvent(new Oo(i))})),this._register(this.model.onDidChangeLanguageConfiguration(i=>{this._eventDispatcher.emitSingleViewEvent(new hl),this.cursorConfig=new qt.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new cr(i))})),this._register(this.model.onDidChangeLanguage(i=>{this.cursorConfig=new qt.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Zr(i))})),this._register(this.model.onDidChangeOptions(i=>{if(this._lines.setTabSize(this.model.getOptions().tabSize)){try{const c=this._eventDispatcher.beginEmitViewEvents();c.emitViewEvent(new Sa),c.emitViewEvent(new mr),c.emitViewEvent(new zo(null)),this._cursor.onLineMappingChanged(c),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule()}this.cursorConfig=new qt.LM(this.model.getLanguageId(),this.model.getOptions(),this._configuration,this.languageConfigurationService),this._cursor.updateConfiguration(this.cursorConfig),this._eventDispatcher.emitOutgoingEvent(new Yr(i))})),this._register(this.model.onDidChangeDecorations(i=>{this._decorations.onModelDecorationsChanged(),this._eventDispatcher.emitSingleViewEvent(new zo(i)),this._eventDispatcher.emitOutgoingEvent(new Ba(i))}))}setHiddenAreas(i){let c=!1;try{const v=this._eventDispatcher.beginEmitViewEvents();c=this._lines.setHiddenAreas(i),c&&(v.emitViewEvent(new Sa),v.emitViewEvent(new mr),v.emitViewEvent(new zo(null)),this._cursor.onLineMappingChanged(v),this._decorations.onLineMappingChanged(),this.viewLayout.onFlushed(this.getLineCount()),this.viewLayout.onHeightMaybeChanged())}finally{this._eventDispatcher.endEmitViewEvents()}this._updateConfigurationViewLineCount.schedule(),c&&this._eventDispatcher.emitOutgoingEvent(new ho)}getVisibleRangesPlusViewportAboveBelow(){const i=this._configuration.options.get(133),c=this._configuration.options.get(61),v=Math.max(20,Math.round(i.height/c)),V=this.viewLayout.getLinesViewportData(),$=Math.max(1,V.completelyVisibleStartLineNumber-v),ce=Math.min(this.getLineCount(),V.completelyVisibleEndLineNumber+v);return this._toModelVisibleRanges(new je.e($,this.getLineMinColumn($),ce,this.getLineMaxColumn(ce)))}getVisibleRanges(){const i=this.getCompletelyVisibleViewRange();return this._toModelVisibleRanges(i)}getHiddenAreas(){return this._lines.getHiddenAreas()}_toModelVisibleRanges(i){const c=this.coordinatesConverter.convertViewRangeToModelRange(i),v=this._lines.getHiddenAreas();if(v.length===0)return[c];const V=[];let $=0,ce=c.startLineNumber,be=c.startColumn;const Me=c.endLineNumber,Oe=c.endColumn;for(let Qe=0,lt=v.length;Qe<lt;Qe++){const Nt=v[Qe].startLineNumber,Dt=v[Qe].endLineNumber;Dt<ce||Nt>Me||(ce<Nt&&(V[$++]=new je.e(ce,be,Nt-1,this.model.getLineMaxColumn(Nt-1))),ce=Dt+1,be=1)}return(ce<Me||ce===Me&&be<Oe)&&(V[$++]=new je.e(ce,be,Me,Oe)),V}getCompletelyVisibleViewRange(){const i=this.viewLayout.getLinesViewportData(),c=i.completelyVisibleStartLineNumber,v=i.completelyVisibleEndLineNumber;return new je.e(c,this.getLineMinColumn(c),v,this.getLineMaxColumn(v))}getCompletelyVisibleViewRangeAtScrollTop(i){const c=this.viewLayout.getLinesViewportDataAtScrollTop(i),v=c.completelyVisibleStartLineNumber,V=c.completelyVisibleEndLineNumber;return new je.e(v,this.getLineMinColumn(v),V,this.getLineMaxColumn(V))}saveState(){const i=this.viewLayout.saveState(),c=i.scrollTop,v=this.viewLayout.getLineNumberAtVerticalOffset(c),V=this.coordinatesConverter.convertViewPositionToModelPosition(new wn.L(v,this.getLineMinColumn(v))),$=this.viewLayout.getVerticalOffsetForLineNumber(v)-c;return{scrollLeft:i.scrollLeft,firstPosition:V,firstPositionDeltaTop:$}}reduceRestoreState(i){if(typeof i.firstPosition=="undefined")return this._reduceRestoreStateCompatibility(i);const c=this.model.validatePosition(i.firstPosition),v=this.coordinatesConverter.convertModelPositionToViewPosition(c),V=this.viewLayout.getVerticalOffsetForLineNumber(v.lineNumber)-i.firstPositionDeltaTop;return{scrollLeft:i.scrollLeft,scrollTop:V}}_reduceRestoreStateCompatibility(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTopWithoutViewZones}}getTabSize(){return this.model.getOptions().tabSize}getLineCount(){return this._lines.getViewLineCount()}setViewport(i,c,v){this._viewportStart.update(this,i)}getActiveIndentGuide(i,c,v){return this._lines.getActiveIndentGuide(i,c,v)}getLinesIndentGuides(i,c){return this._lines.getViewLinesIndentGuides(i,c)}getBracketGuidesInRangeByLine(i,c,v,V){return this._lines.getViewLinesBracketGuides(i,c,v,V)}getLineContent(i){return this._lines.getViewLineContent(i)}getLineLength(i){return this._lines.getViewLineLength(i)}getLineMinColumn(i){return this._lines.getViewLineMinColumn(i)}getLineMaxColumn(i){return this._lines.getViewLineMaxColumn(i)}getLineFirstNonWhitespaceColumn(i){const c=en.LC(this.getLineContent(i));return c===-1?0:c+1}getLineLastNonWhitespaceColumn(i){const c=en.ow(this.getLineContent(i));return c===-1?0:c+2}getDecorationsInViewport(i){return this._decorations.getDecorationsViewportData(i).decorations}getInjectedTextAt(i){return this._lines.getInjectedTextAt(i)}getViewportViewLineRenderingData(i,c){const V=this._decorations.getDecorationsViewportData(i).inlineDecorations[c-i.startLineNumber];return this._getViewLineRenderingData(c,V)}getViewLineRenderingData(i){const c=this._decorations.getInlineDecorationsOnLine(i);return this._getViewLineRenderingData(i,c)}_getViewLineRenderingData(i,c){const v=this.model.mightContainRTL(),V=this.model.mightContainNonBasicASCII(),$=this.getTabSize(),ce=this._lines.getViewLineData(i);return ce.inlineDecorations&&(c=[...c,...ce.inlineDecorations.map(be=>be.toInlineDecoration(i))]),new xo.wA(ce.minColumn,ce.maxColumn,ce.content,ce.continuesWithWrappedLine,v,V,ce.tokens,c,$,ce.startVisibleColumn)}getViewLineData(i){return this._lines.getViewLineData(i)}getMinimapLinesRenderingData(i,c,v){const V=this._lines.getViewLinesData(i,c,v);return new xo.ud(this.getTabSize(),V)}getAllOverviewRulerDecorations(i){const c=this.model.getOverviewRulerDecorations(this._editorId,(0,Z.$J)(this._configuration.options)),v=new Dc;for(const V of c){const $=V.options,ce=$.overviewRuler;if(!ce)continue;const be=ce.position;if(be===0)continue;const Me=ce.getColor(i.value),Oe=this.coordinatesConverter.getViewLineNumberOfModelPosition(V.range.startLineNumber,V.range.startColumn),Qe=this.coordinatesConverter.getViewLineNumberOfModelPosition(V.range.endLineNumber,V.range.endColumn);v.accept(Me,$.zIndex,Oe,Qe,be)}return v.asArray}_invalidateDecorationsColorCache(){const i=this.model.getOverviewRulerDecorations();for(const c of i){const v=c.options.overviewRuler;v&&v.invalidateCachedColor();const V=c.options.minimap;V&&V.invalidateCachedColor()}}getValueInRange(i,c){const v=this.coordinatesConverter.convertViewRangeToModelRange(i);return this.model.getValueInRange(v,c)}deduceModelPositionRelativeToViewPosition(i,c,v){const V=this.coordinatesConverter.convertViewPositionToModelPosition(i);this.model.getEOL().length===2&&(c<0?c-=v:c+=v);const ce=this.model.getOffsetAt(V)+c;return this.model.getPositionAt(ce)}getPlainTextToCopy(i,c,v){const V=v?`\r
`:this.model.getEOL();i=i.slice(0),i.sort(je.e.compareRangesUsingStarts);let $=!1,ce=!1;for(const Me of i)Me.isEmpty()?$=!0:ce=!0;if(!ce){if(!c)return"";const Me=i.map(Qe=>Qe.startLineNumber);let Oe="";for(let Qe=0;Qe<Me.length;Qe++)Qe>0&&Me[Qe-1]===Me[Qe]||(Oe+=this.model.getLineContent(Me[Qe])+V);return Oe}if($&&c){const Me=[];let Oe=0;for(const Qe of i){const lt=Qe.startLineNumber;Qe.isEmpty()?lt!==Oe&&Me.push(this.model.getLineContent(lt)):Me.push(this.model.getValueInRange(Qe,v?2:0)),Oe=lt}return Me.length===1?Me[0]:Me}const be=[];for(const Me of i)Me.isEmpty()||be.push(this.model.getValueInRange(Me,v?2:0));return be.length===1?be[0]:be}getRichTextToCopy(i,c){const v=this.model.getLanguageId();if(v===yo.bd||i.length!==1)return null;let V=i[0];if(V.isEmpty()){if(!c)return null;const Qe=V.startLineNumber;V=new je.e(Qe,this.model.getLineMinColumn(Qe),Qe,this.model.getLineMaxColumn(Qe))}const $=this._configuration.options.get(46),ce=this._getColorMap(),Me=/[:;\\\/<>]/.test($.fontFamily)||$.fontFamily===Z.hL.fontFamily;let Oe;return Me?Oe=Z.hL.fontFamily:(Oe=$.fontFamily,Oe=Oe.replace(/"/g,"'"),/[,']/.test(Oe)||/[+ ]/.test(Oe)&&(Oe=`'${Oe}'`),Oe=`${Oe}, ${Z.hL.fontFamily}`),{mode:v,html:`<div style="color: ${ce[1]};background-color: ${ce[2]};font-family: ${Oe};font-weight: ${$.fontWeight};font-size: ${$.fontSize}px;line-height: ${$.lineHeight}px;white-space: pre;">`+this._getHTMLToCopy(V,ce)+"</div>"}}_getHTMLToCopy(i,c){const v=i.startLineNumber,V=i.startColumn,$=i.endLineNumber,ce=i.endColumn,be=this.getTabSize();let Me="";for(let Oe=v;Oe<=$;Oe++){const Qe=this.model.tokenization.getLineTokens(Oe),lt=Qe.getLineContent(),Nt=Oe===v?V-1:0,Dt=Oe===$?ce-1:lt.length;lt===""?Me+="<br>":Me+=(0,Fo.Fq)(lt,Qe.inflate(),c,Nt,Dt,be,b.ED)}return Me}_getColorMap(){const i=jn.RW.getColorMap(),c=["#000000"];if(i)for(let v=1,V=i.length;v<V;v++)c[v]=Ii.Il.Format.CSS.formatHex(i[v]);return c}getPrimaryCursorState(){return this._cursor.getPrimaryCursorState()}getLastAddedCursorIndex(){return this._cursor.getLastAddedCursorIndex()}getCursorStates(){return this._cursor.getCursorStates()}setCursorStates(i,c,v){return this._withViewEventsCollector(V=>this._cursor.setStates(V,i,c,v))}getCursorColumnSelectData(){return this._cursor.getCursorColumnSelectData()}getCursorAutoClosedCharacters(){return this._cursor.getAutoClosedCharacters()}setCursorColumnSelectData(i){this._cursor.setCursorColumnSelectData(i)}getPrevEditOperationType(){return this._cursor.getPrevEditOperationType()}setPrevEditOperationType(i){this._cursor.setPrevEditOperationType(i)}getSelection(){return this._cursor.getSelection()}getSelections(){return this._cursor.getSelections()}getPosition(){return this._cursor.getPrimaryCursorState().modelState.position}setSelections(i,c,v=0){this._withViewEventsCollector(V=>this._cursor.setSelections(V,i,c,v))}saveCursorState(){return this._cursor.saveState()}restoreCursorState(i){this._withViewEventsCollector(c=>this._cursor.restoreState(c,i))}_executeCursorEdit(i){if(this._cursor.context.cursorConfig.readOnly){this._eventDispatcher.emitOutgoingEvent(new Xa);return}this._withViewEventsCollector(i)}executeEdits(i,c,v){this._executeCursorEdit(V=>this._cursor.executeEdits(V,i,c,v))}startComposition(){this._executeCursorEdit(i=>this._cursor.startComposition(i))}endComposition(i){this._executeCursorEdit(c=>this._cursor.endComposition(c,i))}type(i,c){this._executeCursorEdit(v=>this._cursor.type(v,i,c))}compositionType(i,c,v,V,$){this._executeCursorEdit(ce=>this._cursor.compositionType(ce,i,c,v,V,$))}paste(i,c,v,V){this._executeCursorEdit($=>this._cursor.paste($,i,c,v,V))}cut(i){this._executeCursorEdit(c=>this._cursor.cut(c,i))}executeCommand(i,c){this._executeCursorEdit(v=>this._cursor.executeCommand(v,i,c))}executeCommands(i,c){this._executeCursorEdit(v=>this._cursor.executeCommands(v,i,c))}revealPrimaryCursor(i,c,v=!1){this._withViewEventsCollector(V=>this._cursor.revealPrimary(V,i,v,0,c,0))}revealTopMostCursor(i){const c=this._cursor.getTopMostViewPosition(),v=new je.e(c.lineNumber,c.column,c.lineNumber,c.column);this._withViewEventsCollector(V=>V.emitViewEvent(new Go(i,!1,v,null,0,!0,0)))}revealBottomMostCursor(i){const c=this._cursor.getBottomMostViewPosition(),v=new je.e(c.lineNumber,c.column,c.lineNumber,c.column);this._withViewEventsCollector(V=>V.emitViewEvent(new Go(i,!1,v,null,0,!0,0)))}revealRange(i,c,v,V,$){this._withViewEventsCollector(ce=>ce.emitViewEvent(new Go(i,!1,v,null,V,c,$)))}changeWhitespace(i){this.viewLayout.changeWhitespace(i)&&(this._eventDispatcher.emitSingleViewEvent(new Qa),this._eventDispatcher.emitOutgoingEvent(new po))}_withViewEventsCollector(i){try{const c=this._eventDispatcher.beginEmitViewEvents();return i(c)}finally{this._eventDispatcher.endEmitViewEvents()}}normalizePosition(i,c){return this._lines.normalizePosition(i,c)}getLineIndentColumn(i){return this._lines.getLineIndentColumn(i)}}class el{constructor(i,c,v,V,$){this._model=i,this._viewLineNumber=c,this._isValid=v,this._modelTrackedRange=V,this._startLineDelta=$}static create(i){const c=i._setTrackedRange(null,new je.e(1,1,1,1),1);return new el(i,1,!1,c,0)}get viewLineNumber(){return this._viewLineNumber}get isValid(){return this._isValid}get modelTrackedRange(){return this._modelTrackedRange}get startLineDelta(){return this._startLineDelta}dispose(){this._model._setTrackedRange(this._modelTrackedRange,null,1)}update(i,c){const v=i.coordinatesConverter.convertViewPositionToModelPosition(new wn.L(c,i.getLineMinColumn(c))),V=i.model._setTrackedRange(this._modelTrackedRange,new je.e(v.lineNumber,v.column,v.lineNumber,v.column),1),$=i.viewLayout.getVerticalOffsetForLineNumber(c),ce=i.viewLayout.getCurrentScrollTop();this._viewLineNumber=c,this._isValid=!0,this._modelTrackedRange=V,this._startLineDelta=ce-$}invalidate(){this._isValid=!1}}class Dc{constructor(){this._asMap=Object.create(null),this.asArray=[]}accept(i,c,v,V,$){const ce=this._asMap[i];if(ce){const be=ce.data,Me=be[be.length-3],Oe=be[be.length-1];if(Me===$&&Oe+1>=v){V>Oe&&(be[be.length-1]=V);return}be.push($,v,V)}else{const be=new xo.SQ(i,c,[$,v,V]);this._asMap[i]=be,this.asArray.push(be)}}}var xc=l(52127),Fl=l(37483),Yo=l(47397),Cr=l(37660),tl=l(21166),Ic=l(7278);class nl{constructor(i,c,v,V,$){this.injectionOffsets=i,this.injectionOptions=c,this.breakOffsets=v,this.breakOffsetsVisibleColumn=V,this.wrappedTextIndentLength=$}getOutputLineCount(){return this.breakOffsets.length}getMinOutputOffset(i){return i>0?this.wrappedTextIndentLength:0}getLineLength(i){const c=i>0?this.breakOffsets[i-1]:0;let V=this.breakOffsets[i]-c;return i>0&&(V+=this.wrappedTextIndentLength),V}getMaxOutputOffset(i){return this.getLineLength(i)}translateToInputOffset(i,c){i>0&&(c=Math.max(0,c-this.wrappedTextIndentLength));let V=i===0?c:this.breakOffsets[i-1]+c;if(this.injectionOffsets!==null)for(let $=0;$<this.injectionOffsets.length&&V>this.injectionOffsets[$];$++)V<this.injectionOffsets[$]+this.injectionOptions[$].content.length?V=this.injectionOffsets[$]:V-=this.injectionOptions[$].content.length;return V}translateToOutputPosition(i,c=2){let v=i;if(this.injectionOffsets!==null)for(let V=0;V<this.injectionOffsets.length&&!(i<this.injectionOffsets[V]||c!==1&&i===this.injectionOffsets[V]);V++)v+=this.injectionOptions[V].content.length;return this.offsetInInputWithInjectionsToOutputPosition(v,c)}offsetInInputWithInjectionsToOutputPosition(i,c=2){let v=0,V=this.breakOffsets.length-1,$=0,ce=0;for(;v<=V;){$=v+(V-v)/2|0;const Me=this.breakOffsets[$];if(ce=$>0?this.breakOffsets[$-1]:0,c===0)if(i<=ce)V=$-1;else if(i>Me)v=$+1;else break;else if(i<ce)V=$-1;else if(i>=Me)v=$+1;else break}let be=i-ce;return $>0&&(be+=this.wrappedTextIndentLength),new Hr($,be)}normalizeOutputPosition(i,c,v){if(this.injectionOffsets!==null){const V=this.outputPositionToOffsetInInputWithInjections(i,c),$=this.normalizeOffsetInInputWithInjectionsAroundInjections(V,v);if($!==V)return this.offsetInInputWithInjectionsToOutputPosition($,v)}if(v===0){if(i>0&&c===this.getMinOutputOffset(i))return new Hr(i-1,this.getMaxOutputOffset(i-1))}else if(v===1){const V=this.getOutputLineCount()-1;if(i<V&&c===this.getMaxOutputOffset(i))return new Hr(i+1,this.getMinOutputOffset(i+1))}return new Hr(i,c)}outputPositionToOffsetInInputWithInjections(i,c){return i>0&&(c=Math.max(0,c-this.wrappedTextIndentLength)),(i>0?this.breakOffsets[i-1]:0)+c}normalizeOffsetInInputWithInjectionsAroundInjections(i,c){const v=this.getInjectedTextAtOffset(i);if(!v)return i;if(c===2){if(i===v.offsetInInputWithInjections+v.length&&br(this.injectionOptions[v.injectedTextIndex].cursorStops))return v.offsetInInputWithInjections+v.length;{let V=v.offsetInInputWithInjections;if(Wa(this.injectionOptions[v.injectedTextIndex].cursorStops))return V;let $=v.injectedTextIndex-1;for(;$>=0&&this.injectionOffsets[$]===this.injectionOffsets[v.injectedTextIndex]&&!(br(this.injectionOptions[$].cursorStops)||(V-=this.injectionOptions[$].content.length,Wa(this.injectionOptions[$].cursorStops)));)$--;return V}}else if(c===1||c===4){let V=v.offsetInInputWithInjections+v.length,$=v.injectedTextIndex;for(;$+1<this.injectionOffsets.length&&this.injectionOffsets[$+1]===this.injectionOffsets[$];)V+=this.injectionOptions[$+1].content.length,$++;return V}else if(c===0||c===3){let V=v.offsetInInputWithInjections,$=v.injectedTextIndex;for(;$-1>=0&&this.injectionOffsets[$-1]===this.injectionOffsets[$];)V-=this.injectionOptions[$-1].content.length,$--;return V}(0,Us.vE)(c)}getInjectedText(i,c){const v=this.outputPositionToOffsetInInputWithInjections(i,c),V=this.getInjectedTextAtOffset(v);return V?{options:this.injectionOptions[V.injectedTextIndex]}:null}getInjectedTextAtOffset(i){const c=this.injectionOffsets,v=this.injectionOptions;if(c!==null){let V=0;for(let $=0;$<c.length;$++){const ce=v[$].content.length,be=c[$]+V,Me=c[$]+V+ce;if(be>i)break;if(i<=Me)return{injectedTextIndex:$,offsetInInputWithInjections:be,length:ce};V+=ce}}}}function br(pt){return pt==null?!0:pt===F.RM.Right||pt===F.RM.Both}function Wa(pt){return pt==null?!0:pt===F.RM.Left||pt===F.RM.Both}class Vr{constructor(i){this.options=i}}class Hr{constructor(i,c){this.outputLineIndex=i,this.outputOffset=c}toString(){return`${this.outputLineIndex}:${this.outputOffset}`}toPosition(i){return new wn.L(i+this.outputLineIndex,this.outputOffset+1)}}class Jr{constructor(i,c){this.classifier=new qr(i,c)}static create(i){return new Jr(i.get(122),i.get(121))}createLineBreaksComputer(i,c,v,V){const $=[],ce=[],be=[];return{addRequest:(Me,Oe,Qe)=>{$.push(Me),ce.push(Oe),be.push(Qe)},finalize:()=>{const Me=i.typicalFullwidthCharacterWidth/i.typicalHalfwidthCharacterWidth,Oe=[];for(let Qe=0,lt=$.length;Qe<lt;Qe++){const Nt=ce[Qe],Dt=be[Qe];Dt&&!Dt.injectionOptions&&!Nt?Oe[Qe]=fa(this.classifier,Dt,$[Qe],c,v,Me,V):Oe[Qe]=ea(this.classifier,$[Qe],Nt,c,v,Me,V)}return Lo.length=0,Bl.length=0,Oe}}}}class qr extends Ic.N{constructor(i,c){super(0);for(let v=0;v<i.length;v++)this.set(i.charCodeAt(v),1);for(let v=0;v<c.length;v++)this.set(c.charCodeAt(v),2)}get(i){return i>=0&&i<256?this._asciiMap[i]:i>=12352&&i<=12543||i>=13312&&i<=19903||i>=19968&&i<=40959?3:this._map.get(i)||this._defaultValue}}let Lo=[],Bl=[];function fa(pt,i,c,v,V,$,ce){if(V===-1)return null;const be=c.length;if(be<=1)return null;const Me=i.breakOffsets,Oe=i.breakOffsetsVisibleColumn,Qe=Nc(c,v,V,$,ce),lt=V-Qe,Nt=Lo,Dt=Bl;let Yt=0,an=0,gn=0,un=V;const zn=Me.length;let Un=0;if(Un>=0){let Ri=Math.abs(Oe[Un]-un);for(;Un+1<zn;){const _i=Math.abs(Oe[Un+1]-un);if(_i>=Ri)break;Ri=_i,Un++}}for(;Un<zn;){let Ri=Un<0?0:Me[Un],_i=Un<0?0:Oe[Un];an>Ri&&(Ri=an,_i=gn);let Vi=0,Fi=0,pi=0,ji=0;if(_i<=un){let zi=_i,ro=Ri===0?0:c.charCodeAt(Ri-1),Js=Ri===0?0:pt.get(ro),To=!0;for(let Pi=Ri;Pi<be;Pi++){const vo=Pi,No=c.charCodeAt(Pi);let go,nr;if(en.ZG(No)?(Pi++,go=0,nr=2):(go=pt.get(No),nr=zr(No,zi,v,$)),vo>an&&ta(ro,Js,No,go)&&(Vi=vo,Fi=zi),zi+=nr,zi>un){vo>an?(pi=vo,ji=zi-nr):(pi=Pi+1,ji=zi),zi-Fi>lt&&(Vi=0),To=!1;break}ro=No,Js=go}if(To){Yt>0&&(Nt[Yt]=Me[Me.length-1],Dt[Yt]=Oe[Me.length-1],Yt++);break}}if(Vi===0){let zi=_i,ro=c.charCodeAt(Ri),Js=pt.get(ro),To=!1;for(let Pi=Ri-1;Pi>=an;Pi--){const vo=Pi+1,No=c.charCodeAt(Pi);if(No===9){To=!0;break}let go,nr;if(en.YK(No)?(Pi--,go=0,nr=2):(go=pt.get(No),nr=en.K7(No)?$:1),zi<=un){if(pi===0&&(pi=vo,ji=zi),zi<=un-lt)break;if(ta(No,go,ro,Js)){Vi=vo,Fi=zi;break}}zi-=nr,ro=No,Js=go}if(Vi!==0){const Pi=lt-(ji-Fi);if(Pi<=v){const vo=c.charCodeAt(pi);let No;en.ZG(vo)?No=2:No=zr(vo,ji,v,$),Pi-No<0&&(Vi=0)}}if(To){Un--;continue}}if(Vi===0&&(Vi=pi,Fi=ji),Vi<=an){const zi=c.charCodeAt(an);en.ZG(zi)?(Vi=an+2,Fi=gn+2):(Vi=an+1,Fi=gn+zr(zi,gn,v,$))}for(an=Vi,Nt[Yt]=Vi,gn=Fi,Dt[Yt]=Fi,Yt++,un=Fi+lt;Un<0||Un<zn&&Oe[Un]<Fi;)Un++;let is=Math.abs(Oe[Un]-un);for(;Un+1<zn;){const zi=Math.abs(Oe[Un+1]-un);if(zi>=is)break;is=zi,Un++}}return Yt===0?null:(Nt.length=Yt,Dt.length=Yt,Lo=i.breakOffsets,Bl=i.breakOffsetsVisibleColumn,i.breakOffsets=Nt,i.breakOffsetsVisibleColumn=Dt,i.wrappedTextIndentLength=Qe,i)}function ea(pt,i,c,v,V,$,ce){const be=hs.gk.applyInjectedText(i,c);let Me,Oe;if(c&&c.length>0?(Me=c.map(Fi=>Fi.options),Oe=c.map(Fi=>Fi.column-1)):(Me=null,Oe=null),V===-1)return Me?new nl(Oe,Me,[be.length],[],0):null;const Qe=be.length;if(Qe<=1)return Me?new nl(Oe,Me,[be.length],[],0):null;const lt=Nc(be,v,V,$,ce),Nt=V-lt,Dt=[],Yt=[];let an=0,gn=0,un=0,zn=V,Un=be.charCodeAt(0),Ri=pt.get(Un),_i=zr(Un,0,v,$),Vi=1;en.ZG(Un)&&(_i+=1,Un=be.charCodeAt(1),Ri=pt.get(Un),Vi++);for(let Fi=Vi;Fi<Qe;Fi++){const pi=Fi,ji=be.charCodeAt(Fi);let is,zi;en.ZG(ji)?(Fi++,is=0,zi=2):(is=pt.get(ji),zi=zr(ji,_i,v,$)),ta(Un,Ri,ji,is)&&(gn=pi,un=_i),_i+=zi,_i>zn&&((gn===0||_i-un>Nt)&&(gn=pi,un=_i-zi),Dt[an]=gn,Yt[an]=un,an++,zn=un+Nt,gn=0),Un=ji,Ri=is}return an===0&&(!c||c.length===0)?null:(Dt[an]=Qe,Yt[an]=_i,new nl(Oe,Me,Dt,Yt,lt))}function zr(pt,i,c,v){return pt===9?c-i%c:en.K7(pt)||pt<32?v:1}function tc(pt,i){return i-pt%i}function ta(pt,i,c,v){return c!==32&&(i===2&&v!==2||i!==1&&v===1||i===3&&v!==2||v===3&&i!==1)}function Nc(pt,i,c,v,V){let $=0;if(V!==0){const ce=en.LC(pt);if(ce!==-1){for(let Me=0;Me<ce;Me++){const Oe=pt.charCodeAt(Me)===9?tc($,i):1;$+=Oe}const be=V===3?2:V===2?1:0;for(let Me=0;Me<be;Me++){const Oe=tc($,i);$+=Oe}$+v>c&&($=0)}}return $}var nc;const Va=(nc=window.trustedTypes)===null||nc===void 0?void 0:nc.createPolicy("domLineBreaksComputer",{createHTML:pt=>pt});class ic{static create(){return new ic}constructor(){}createLineBreaksComputer(i,c,v,V){const $=[],ce=[];return{addRequest:(be,Me,Oe)=>{$.push(be),ce.push(Me)},finalize:()=>xa($,i,c,v,V,ce)}}}function xa(pt,i,c,v,V,$){var ce;function be(pi){const ji=$[pi];if(ji){const is=hs.gk.applyInjectedText(pt[pi],ji),zi=ji.map(Js=>Js.options),ro=ji.map(Js=>Js.column-1);return new nl(ro,zi,[is.length],[],0)}else return null}if(v===-1){const pi=[];for(let ji=0,is=pt.length;ji<is;ji++)pi[ji]=be(ji);return pi}const Me=Math.round(v*i.typicalHalfwidthCharacterWidth),Qe=Math.round(c*(V===3?2:V===2?1:0)),lt=Math.ceil(i.spaceWidth*Qe),Nt=document.createElement("div");(0,vn.N)(Nt,i);const Dt=(0,Ye.l$)(1e4),Yt=[],an=[],gn=[],un=[],zn=[];for(let pi=0;pi<pt.length;pi++){const ji=hs.gk.applyInjectedText(pt[pi],$[pi]);let is=0,zi=0,ro=Me;if(V!==0)if(is=en.LC(ji),is===-1)is=0;else{for(let vo=0;vo<is;vo++){const No=ji.charCodeAt(vo)===9?c-zi%c:1;zi+=No}const Pi=Math.ceil(i.spaceWidth*zi);Pi+i.typicalFullwidthCharacterWidth>Me?(is=0,zi=0):ro=Me-Pi}const Js=ji.substr(is),To=Wl(Js,zi,c,ro,Dt,lt);Yt[pi]=is,an[pi]=zi,gn[pi]=Js,un[pi]=To[0],zn[pi]=To[1]}const Un=Dt.build(),Ri=(ce=Va==null?void 0:Va.createHTML(Un))!==null&&ce!==void 0?ce:Un;Nt.innerHTML=Ri,Nt.style.position="absolute",Nt.style.top="10000",Nt.style.wordWrap="break-word",document.body.appendChild(Nt);const _i=document.createRange(),Vi=Array.prototype.slice.call(Nt.children,0),Fi=[];for(let pi=0;pi<pt.length;pi++){const ji=Vi[pi],is=ga(_i,ji,gn[pi],un[pi]);if(is===null){Fi[pi]=be(pi);continue}const zi=Yt[pi],ro=an[pi]+Qe,Js=zn[pi],To=[];for(let go=0,nr=is.length;go<nr;go++)To[go]=Js[is[go]];if(zi!==0)for(let go=0,nr=is.length;go<nr;go++)is[go]+=zi;let Pi,vo;const No=$[pi];No?(Pi=No.map(go=>go.options),vo=No.map(go=>go.column-1)):(Pi=null,vo=null),Fi[pi]=new nl(vo,Pi,is,To,ro)}return document.body.removeChild(Nt),Fi}function Wl(pt,i,c,v,V,$){if($!==0){const Nt=String($);V.appendASCIIString('<div style="text-indent: -'),V.appendASCIIString(Nt),V.appendASCIIString("px; padding-left: "),V.appendASCIIString(Nt),V.appendASCIIString("px; box-sizing: border-box; width:")}else V.appendASCIIString('<div style="width:');V.appendASCIIString(String(v)),V.appendASCIIString('px;">');const ce=pt.length;let be=i,Me=0;const Oe=[],Qe=[];let lt=0<ce?pt.charCodeAt(0):0;V.appendASCIIString("<span>");for(let Nt=0;Nt<ce;Nt++){Nt!==0&&Nt%16384===0&&V.appendASCIIString("</span><span>"),Oe[Nt]=Me,Qe[Nt]=be;const Dt=lt;lt=Nt+1<ce?pt.charCodeAt(Nt+1):0;let Yt=1,an=1;switch(Dt){case 9:Yt=c-be%c,an=Yt;for(let gn=1;gn<=Yt;gn++)gn<Yt?V.write1(160):V.appendASCII(32);break;case 32:lt===32?V.write1(160):V.appendASCII(32);break;case 60:V.appendASCIIString("&lt;");break;case 62:V.appendASCIIString("&gt;");break;case 38:V.appendASCIIString("&amp;");break;case 0:V.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:V.write1(65533);break;default:en.K7(Dt)&&an++,Dt<32?V.write1(9216+Dt):V.write1(Dt)}Me+=Yt,be+=an}return V.appendASCIIString("</span>"),Oe[pt.length]=Me,Qe[pt.length]=be,V.appendASCIIString("</div>"),[Oe,Qe]}function ga(pt,i,c,v){if(c.length<=1)return null;const V=Array.prototype.slice.call(i.children,0),$=[];try{Ia(pt,V,v,0,null,c.length-1,null,$)}catch(ce){return console.log(ce),null}return $.length===0?null:($.push(c.length),$)}function Ia(pt,i,c,v,V,$,ce,be){if(v===$||(V=V||wl(pt,i,c[v],c[v+1]),ce=ce||wl(pt,i,c[$],c[$+1]),Math.abs(V[0].top-ce[0].top)<=.1))return;if(v+1===$){be.push($);return}const Me=v+($-v)/2|0,Oe=wl(pt,i,c[Me],c[Me+1]);Ia(pt,i,c,v,V,Me,Oe,be),Ia(pt,i,c,Me,Oe,$,ce,be)}function wl(pt,i,c,v){return pt.setStart(i[c/16384|0].firstChild,c%16384),pt.setEnd(i[v/16384|0].firstChild,v%16384),pt.getClientRects()}var Ha=l(49885),Vl=l(13634),Tc=l(9172),qo=function(pt,i,c,v){var V=arguments.length,$=V<3?i:v===null?v=Object.getOwnPropertyDescriptor(i,c):v,ce;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")$=Reflect.decorate(pt,i,c,v);else for(var be=pt.length-1;be>=0;be--)(ce=pt[be])&&($=(V<3?ce($):V>3?ce(i,c,$):ce(i,c))||$);return V>3&&$&&Object.defineProperty(i,c,$),$},fo=function(pt,i){return function(c,v){i(c,v,pt)}},er=function(pt,i,c,v){function V($){return $ instanceof c?$:new c(function(ce){ce($)})}return new(c||(c=Promise))(function($,ce){function be(Qe){try{Oe(v.next(Qe))}catch(lt){ce(lt)}}function Me(Qe){try{Oe(v.throw(Qe))}catch(lt){ce(lt)}}function Oe(Qe){Qe.done?$(Qe.value):V(Qe.value).then(be,Me)}Oe((v=v.apply(pt,i||[])).next())})};let Bs=0;class ad{constructor(i,c,v,V,$){this.model=i,this.viewModel=c,this.view=v,this.hasRealView=V,this.listenersToRemove=$}dispose(){(0,S.B9)(this.listenersToRemove),this.model.onBeforeDetached(),this.hasRealView&&this.view.dispose(),this.viewModel.dispose()}}let Hl=class xh extends S.JT{constructor(i,c,v,V,$,ce,be,Me,Oe,Qe,lt,Nt){super(),this.languageConfigurationService=lt,this._deliveryQueue=new T.F3,this._onDidDispose=this._register(new T.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidChangeModelContent=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelContent=this._onDidChangeModelContent.event,this._onDidChangeModelLanguage=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguage=this._onDidChangeModelLanguage.event,this._onDidChangeModelLanguageConfiguration=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelLanguageConfiguration=this._onDidChangeModelLanguageConfiguration.event,this._onDidChangeModelOptions=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelOptions=this._onDidChangeModelOptions.event,this._onDidChangeModelDecorations=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelDecorations=this._onDidChangeModelDecorations.event,this._onDidChangeModelTokens=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModelTokens=this._onDidChangeModelTokens.event,this._onDidChangeConfiguration=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._onDidChangeModel=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeModel=this._onDidChangeModel.event,this._onDidChangeCursorPosition=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorPosition=this._onDidChangeCursorPosition.event,this._onDidChangeCursorSelection=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeCursorSelection=this._onDidChangeCursorSelection.event,this._onDidAttemptReadOnlyEdit=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidAttemptReadOnlyEdit=this._onDidAttemptReadOnlyEdit.event,this._onDidLayoutChange=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidLayoutChange=this._onDidLayoutChange.event,this._editorTextFocus=this._register(new kc({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorText=this._editorTextFocus.onDidChangeToTrue,this.onDidBlurEditorText=this._editorTextFocus.onDidChangeToFalse,this._editorWidgetFocus=this._register(new kc({deliveryQueue:this._deliveryQueue})),this.onDidFocusEditorWidget=this._editorWidgetFocus.onDidChangeToTrue,this.onDidBlurEditorWidget=this._editorWidgetFocus.onDidChangeToFalse,this._onWillType=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onWillType=this._onWillType.event,this._onDidType=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidType=this._onDidType.event,this._onDidCompositionStart=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionStart=this._onDidCompositionStart.event,this._onDidCompositionEnd=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidCompositionEnd=this._onDidCompositionEnd.event,this._onDidPaste=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidPaste=this._onDidPaste.event,this._onMouseUp=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseUp=this._onMouseUp.event,this._onMouseDown=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDown=this._onMouseDown.event,this._onMouseDrag=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrag=this._onMouseDrag.event,this._onMouseDrop=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDrop=this._onMouseDrop.event,this._onMouseDropCanceled=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseDropCanceled=this._onMouseDropCanceled.event,this._onDropIntoEditor=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDropIntoEditor=this._onDropIntoEditor.event,this._onContextMenu=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onContextMenu=this._onContextMenu.event,this._onMouseMove=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseMove=this._onMouseMove.event,this._onMouseLeave=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseLeave=this._onMouseLeave.event,this._onMouseWheel=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onMouseWheel=this._onMouseWheel.event,this._onKeyUp=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyUp=this._onKeyUp.event,this._onKeyDown=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onKeyDown=this._onKeyDown.event,this._onDidContentSizeChange=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidContentSizeChange=this._onDidContentSizeChange.event,this._onDidScrollChange=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidScrollChange=this._onDidScrollChange.event,this._onDidChangeViewZones=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeViewZones=this._onDidChangeViewZones.event,this._onDidChangeHiddenAreas=this._register(new T.Q5({deliveryQueue:this._deliveryQueue})),this.onDidChangeHiddenAreas=this._onDidChangeHiddenAreas.event,this._bannerDomNode=null,this._dropIntoEditorDecorations=this.createDecorationsCollection();const Dt=Object.assign({},c);this._domElement=i,this._overflowWidgetsDomNode=Dt.overflowWidgetsDomNode,delete Dt.overflowWidgetsDomNode,this._id=++Bs,this._decorationTypeKeysToIds={},this._decorationTypeSubtypes={},this._telemetryData=v.telemetryData,this._configuration=this._register(this._createConfiguration(v.isSimpleWidget||!1,Dt,Qe)),this._register(this._configuration.onDidChange(gn=>{this._onDidChangeConfiguration.fire(gn);const un=this._configuration.options;if(gn.hasChanged(133)){const zn=un.get(133);this._onDidLayoutChange.fire(zn)}})),this._contextKeyService=this._register(be.createScoped(this._domElement)),this._notificationService=Oe,this._codeEditorService=$,this._commandService=ce,this._themeService=Me,this._register(new za(this,this._contextKeyService)),this._register(new Mc(this,this._contextKeyService,Nt)),this._instantiationService=V.createChild(new Cr.y([Fl.i6,this._contextKeyService])),this._modelData=null,this._contributions={},this._actions={},this._focusTracker=new sc(i),this._register(this._focusTracker.onChange(()=>{this._editorWidgetFocus.setValue(this._focusTracker.hasFocus())})),this._contentWidgets={},this._overlayWidgets={};let Yt;Array.isArray(v.contributions)?Yt=v.contributions:Yt=d.Uc.getEditorContributions();for(const gn of Yt){if(this._contributions[gn.id]){(0,A.dL)(new Error(`Cannot have two contributions with the same id ${gn.id}`));continue}try{const un=this._instantiationService.createInstance(gn.ctor,this);this._contributions[gn.id]=un}catch(un){(0,A.dL)(un)}}d.Uc.getEditorActions().forEach(gn=>{if(this._actions[gn.id]){(0,A.dL)(new Error(`Cannot have two actions with the same id ${gn.id}`));return}const un=new Ws.p(gn.id,gn.label,gn.alias,(0,Us.f6)(gn.precondition),()=>this._instantiationService.invokeFunction(zn=>Promise.resolve(gn.runEditorCommand(zn,this,null))),this._contextKeyService);this._actions[un.id]=un});const an=()=>!this._configuration.options.get(83)&&this._configuration.options.get(32).enabled;this._register(new P.eg(this._domElement,{onDragEnter:()=>{},onDragOver:gn=>{if(!an())return;const un=this.getTargetAtClientPoint(gn.clientX,gn.clientY);un!=null&&un.position&&this.showDropIndicatorAt(un.position)},onDrop:gn=>er(this,void 0,void 0,function*(){if(!an()||(this.removeDropIndicator(),!gn.dataTransfer))return;const un=this.getTargetAtClientPoint(gn.clientX,gn.clientY);un!=null&&un.position&&this._onDropIntoEditor.fire({position:un.position,event:gn})}),onDragLeave:()=>{this.removeDropIndicator()},onDragEnd:()=>{this.removeDropIndicator()}})),this._codeEditorService.addCodeEditor(this)}get isSimpleWidget(){return this._configuration.isSimpleWidget}_createConfiguration(i,c,v){return new X(i,c,this._domElement,v)}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return _o.g.ICodeEditor}dispose(){this._codeEditorService.removeCodeEditor(this),this._focusTracker.dispose();const i=Object.keys(this._contributions);for(let c=0,v=i.length;c<v;c++){const V=i[c];this._contributions[V].dispose()}this._contributions={},this._actions={},this._contentWidgets={},this._overlayWidgets={},this._removeDecorationTypes(),this._postDetachModelCleanup(this._detachModel()),this._onDidDispose.fire(),super.dispose()}invokeWithinContext(i){return this._instantiationService.invokeFunction(i)}updateOptions(i){this._configuration.updateOptions(i||{})}getOptions(){return this._configuration.options}getOption(i){return this._configuration.options.get(i)}getRawOptions(){return this._configuration.getRawOptions()}getOverflowWidgetsDomNode(){return this._overflowWidgetsDomNode}getConfiguredWordAtPosition(i){return this._modelData?Ha.w.getWordAtPosition(this._modelData.model,this._configuration.options.get(119),i):null}getValue(i=null){if(!this._modelData)return"";const c=!!(i&&i.preserveBOM);let v=0;return i&&i.lineEnding&&i.lineEnding===`
`?v=1:i&&i.lineEnding&&i.lineEnding===`\r
`&&(v=2),this._modelData.model.getValue(v,c)}setValue(i){!this._modelData||this._modelData.model.setValue(i)}getModel(){return this._modelData?this._modelData.model:null}setModel(i=null){const c=i;if(this._modelData===null&&c===null||this._modelData&&this._modelData.model===c)return;const v=this.hasTextFocus(),V=this._detachModel();this._attachModel(c),v&&this.hasModel()&&this.focus();const $={oldModelUrl:V?V.uri:null,newModelUrl:c?c.uri:null};this._removeDecorationTypes(),this._onDidChangeModel.fire($),this._postDetachModelCleanup(V)}_removeDecorationTypes(){if(this._decorationTypeKeysToIds={},this._decorationTypeSubtypes){for(const i in this._decorationTypeSubtypes){const c=this._decorationTypeSubtypes[i];for(const v in c)this._removeDecorationType(i+"-"+v)}this._decorationTypeSubtypes={}}}getVisibleRanges(){return this._modelData?this._modelData.viewModel.getVisibleRanges():[]}getVisibleRangesPlusViewportAboveBelow(){return this._modelData?this._modelData.viewModel.getVisibleRangesPlusViewportAboveBelow():[]}getWhitespaces(){return this._modelData?this._modelData.viewModel.viewLayout.getWhitespaces():[]}static _getVerticalOffsetAfterPosition(i,c,v,V){const $=i.model.validatePosition({lineNumber:c,column:v}),ce=i.viewModel.coordinatesConverter.convertModelPositionToViewPosition($);return i.viewModel.viewLayout.getVerticalOffsetAfterLineNumber(ce.lineNumber,V)}getTopForLineNumber(i,c=!1){return this._modelData?xh._getVerticalOffsetForPosition(this._modelData,i,1,c):-1}getTopForPosition(i,c){return this._modelData?xh._getVerticalOffsetForPosition(this._modelData,i,c,!1):-1}static _getVerticalOffsetForPosition(i,c,v,V=!1){const $=i.model.validatePosition({lineNumber:c,column:v}),ce=i.viewModel.coordinatesConverter.convertModelPositionToViewPosition($);return i.viewModel.viewLayout.getVerticalOffsetForLineNumber(ce.lineNumber,V)}getBottomForLineNumber(i,c=!1){return this._modelData?xh._getVerticalOffsetAfterPosition(this._modelData,i,1,c):-1}setHiddenAreas(i){var c;(c=this._modelData)===null||c===void 0||c.viewModel.setHiddenAreas(i.map(v=>je.e.lift(v)))}getVisibleColumnFromPosition(i){if(!this._modelData)return i.column;const c=this._modelData.model.validatePosition(i),v=this._modelData.model.getOptions().tabSize;return qn.i.visibleColumnFromColumn(this._modelData.model.getLineContent(c.lineNumber),c.column,v)+1}getPosition(){return this._modelData?this._modelData.viewModel.getPosition():null}setPosition(i,c="api"){if(!!this._modelData){if(!wn.L.isIPosition(i))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(c,[{selectionStartLineNumber:i.lineNumber,selectionStartColumn:i.column,positionLineNumber:i.lineNumber,positionColumn:i.column}])}}_sendRevealRange(i,c,v,V){if(!this._modelData)return;if(!je.e.isIRange(i))throw new Error("Invalid arguments");const $=this._modelData.model.validateRange(i),ce=this._modelData.viewModel.coordinatesConverter.convertModelRangeToViewRange($);this._modelData.viewModel.revealRange("api",v,ce,c,V)}revealLine(i,c=0){this._revealLine(i,0,c)}revealLineInCenter(i,c=0){this._revealLine(i,1,c)}revealLineInCenterIfOutsideViewport(i,c=0){this._revealLine(i,2,c)}revealLineNearTop(i,c=0){this._revealLine(i,5,c)}_revealLine(i,c,v){if(typeof i!="number")throw new Error("Invalid arguments");this._sendRevealRange(new je.e(i,1,i,1),c,!1,v)}revealPosition(i,c=0){this._revealPosition(i,0,!0,c)}revealPositionInCenter(i,c=0){this._revealPosition(i,1,!0,c)}revealPositionInCenterIfOutsideViewport(i,c=0){this._revealPosition(i,2,!0,c)}revealPositionNearTop(i,c=0){this._revealPosition(i,5,!0,c)}_revealPosition(i,c,v,V){if(!wn.L.isIPosition(i))throw new Error("Invalid arguments");this._sendRevealRange(new je.e(i.lineNumber,i.column,i.lineNumber,i.column),c,v,V)}getSelection(){return this._modelData?this._modelData.viewModel.getSelection():null}getSelections(){return this._modelData?this._modelData.viewModel.getSelections():null}setSelection(i,c="api"){const v=ke.Y.isISelection(i),V=je.e.isIRange(i);if(!v&&!V)throw new Error("Invalid arguments");if(v)this._setSelectionImpl(i,c);else if(V){const $={selectionStartLineNumber:i.startLineNumber,selectionStartColumn:i.startColumn,positionLineNumber:i.endLineNumber,positionColumn:i.endColumn};this._setSelectionImpl($,c)}}_setSelectionImpl(i,c){if(!this._modelData)return;const v=new ke.Y(i.selectionStartLineNumber,i.selectionStartColumn,i.positionLineNumber,i.positionColumn);this._modelData.viewModel.setSelections(c,[v])}revealLines(i,c,v=0){this._revealLines(i,c,0,v)}revealLinesInCenter(i,c,v=0){this._revealLines(i,c,1,v)}revealLinesInCenterIfOutsideViewport(i,c,v=0){this._revealLines(i,c,2,v)}revealLinesNearTop(i,c,v=0){this._revealLines(i,c,5,v)}_revealLines(i,c,v,V){if(typeof i!="number"||typeof c!="number")throw new Error("Invalid arguments");this._sendRevealRange(new je.e(i,1,c,1),v,!1,V)}revealRange(i,c=0,v=!1,V=!0){this._revealRange(i,v?1:0,V,c)}revealRangeInCenter(i,c=0){this._revealRange(i,1,!0,c)}revealRangeInCenterIfOutsideViewport(i,c=0){this._revealRange(i,2,!0,c)}revealRangeNearTop(i,c=0){this._revealRange(i,5,!0,c)}revealRangeNearTopIfOutsideViewport(i,c=0){this._revealRange(i,6,!0,c)}revealRangeAtTop(i,c=0){this._revealRange(i,3,!0,c)}_revealRange(i,c,v,V){if(!je.e.isIRange(i))throw new Error("Invalid arguments");this._sendRevealRange(je.e.lift(i),c,v,V)}setSelections(i,c="api",v=0){if(!!this._modelData){if(!i||i.length===0)throw new Error("Invalid arguments");for(let V=0,$=i.length;V<$;V++)if(!ke.Y.isISelection(i[V]))throw new Error("Invalid arguments");this._modelData.viewModel.setSelections(c,i,v)}}getContentWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getContentWidth():-1}getScrollWidth(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollWidth():-1}getScrollLeft(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollLeft():-1}getContentHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getContentHeight():-1}getScrollHeight(){return this._modelData?this._modelData.viewModel.viewLayout.getScrollHeight():-1}getScrollTop(){return this._modelData?this._modelData.viewModel.viewLayout.getCurrentScrollTop():-1}setScrollLeft(i,c=1){if(!!this._modelData){if(typeof i!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollLeft:i},c)}}setScrollTop(i,c=1){if(!!this._modelData){if(typeof i!="number")throw new Error("Invalid arguments");this._modelData.viewModel.viewLayout.setScrollPosition({scrollTop:i},c)}}setScrollPosition(i,c=1){!this._modelData||this._modelData.viewModel.viewLayout.setScrollPosition(i,c)}saveViewState(){if(!this._modelData)return null;const i={},c=Object.keys(this._contributions);for(const $ of c){const ce=this._contributions[$];typeof ce.saveViewState=="function"&&(i[$]=ce.saveViewState())}const v=this._modelData.viewModel.saveCursorState(),V=this._modelData.viewModel.saveState();return{cursorState:v,viewState:V,contributionsState:i}}restoreViewState(i){if(!this._modelData||!this._modelData.hasRealView)return;const c=i;if(c&&c.cursorState&&c.viewState){const v=c.cursorState;Array.isArray(v)?v.length>0&&this._modelData.viewModel.restoreCursorState(v):this._modelData.viewModel.restoreCursorState([v]);const V=c.contributionsState||{},$=Object.keys(this._contributions);for(let be=0,Me=$.length;be<Me;be++){const Oe=$[be],Qe=this._contributions[Oe];typeof Qe.restoreViewState=="function"&&Qe.restoreViewState(V[Oe])}const ce=this._modelData.viewModel.reduceRestoreState(c.viewState);this._modelData.view.restoreState(ce)}}getContribution(i){return this._contributions[i]||null}getActions(){const i=[],c=Object.keys(this._actions);for(let v=0,V=c.length;v<V;v++){const $=c[v];i.push(this._actions[$])}return i}getSupportedActions(){let i=this.getActions();return i=i.filter(c=>c.isSupported()),i}getAction(i){return this._actions[i]||null}trigger(i,c,v){switch(v=v||{},c){case"compositionStart":this._startComposition();return;case"compositionEnd":this._endComposition(i);return;case"type":{const $=v;this._type(i,$.text||"");return}case"replacePreviousChar":{const $=v;this._compositionType(i,$.text||"",$.replaceCharCnt||0,0,0);return}case"compositionType":{const $=v;this._compositionType(i,$.text||"",$.replacePrevCharCnt||0,$.replaceNextCharCnt||0,$.positionDelta||0);return}case"paste":{const $=v;this._paste(i,$.text||"",$.pasteOnNewLine||!1,$.multicursorText||null,$.mode||null);return}case"cut":this._cut(i);return}const V=this.getAction(c);if(V){Promise.resolve(V.run()).then(void 0,A.dL);return}!this._modelData||this._triggerEditorCommand(i,c,v)||this._triggerCommand(c,v)}_triggerCommand(i,c){this._commandService.executeCommand(i,c)}_startComposition(){!this._modelData||(this._modelData.viewModel.startComposition(),this._onDidCompositionStart.fire())}_endComposition(i){!this._modelData||(this._modelData.viewModel.endComposition(i),this._onDidCompositionEnd.fire())}_type(i,c){!this._modelData||c.length===0||(i==="keyboard"&&this._onWillType.fire(c),this._modelData.viewModel.type(c,i),i==="keyboard"&&this._onDidType.fire(c))}_compositionType(i,c,v,V,$){!this._modelData||this._modelData.viewModel.compositionType(c,v,V,$,i)}_paste(i,c,v,V,$){if(!this._modelData||c.length===0)return;const ce=this._modelData.viewModel,be=ce.getSelection().getStartPosition();ce.paste(c,v,V,i);const Me=ce.getSelection().getStartPosition();i==="keyboard"&&this._onDidPaste.fire({range:new je.e(be.lineNumber,be.column,Me.lineNumber,Me.column),languageId:$})}_cut(i){!this._modelData||this._modelData.viewModel.cut(i)}_triggerEditorCommand(i,c,v){const V=d.Uc.getEditorCommand(c);return V?(v=v||{},v.source=i,this._instantiationService.invokeFunction($=>{Promise.resolve(V.runEditorCommand($,this,v)).then(void 0,A.dL)}),!0):!1}_getViewModel(){return this._modelData?this._modelData.viewModel:null}pushUndoStop(){return!this._modelData||this._configuration.options.get(83)?!1:(this._modelData.model.pushStackElement(),!0)}popUndoStop(){return!this._modelData||this._configuration.options.get(83)?!1:(this._modelData.model.popStackElement(),!0)}executeEdits(i,c,v){if(!this._modelData||this._configuration.options.get(83))return!1;let V;return v?Array.isArray(v)?V=()=>v:V=v:V=()=>null,this._modelData.viewModel.executeEdits(i,c,V),!0}executeCommand(i,c){!this._modelData||this._modelData.viewModel.executeCommand(c,i)}executeCommands(i,c){!this._modelData||this._modelData.viewModel.executeCommands(c,i)}createDecorationsCollection(i){return new Rc(this,i)}changeDecorations(i){return this._modelData?this._modelData.model.changeDecorations(i,this._id):null}getLineDecorations(i){return this._modelData?this._modelData.model.getLineDecorations(i,this._id,(0,Z.$J)(this._configuration.options)):null}getDecorationsInRange(i){return this._modelData?this._modelData.model.getDecorationsInRange(i,this._id,(0,Z.$J)(this._configuration.options)):null}deltaDecorations(i,c){return this._modelData?i.length===0&&c.length===0?i:this._modelData.model.deltaDecorations(i,c,this._id):[]}removeDecorations(i){!this._modelData||i.length===0||this._modelData.model.changeDecorations(c=>{c.deltaDecorations(i,[])})}removeDecorationsByType(i){const c=this._decorationTypeKeysToIds[i];c&&this.deltaDecorations(c,[]),this._decorationTypeKeysToIds.hasOwnProperty(i)&&delete this._decorationTypeKeysToIds[i],this._decorationTypeSubtypes.hasOwnProperty(i)&&delete this._decorationTypeSubtypes[i]}getLayoutInfo(){return this._configuration.options.get(133)}createOverviewRuler(i){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.createOverviewRuler(i)}getContainerDomNode(){return this._domElement}getDomNode(){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.domNode.domNode}delegateVerticalScrollbarPointerDown(i){!this._modelData||!this._modelData.hasRealView||this._modelData.view.delegateVerticalScrollbarPointerDown(i)}layout(i){this._configuration.observeContainer(i),this.render()}focus(){!this._modelData||!this._modelData.hasRealView||this._modelData.view.focus()}hasTextFocus(){return!this._modelData||!this._modelData.hasRealView?!1:this._modelData.view.isFocused()}hasWidgetFocus(){return this._focusTracker&&this._focusTracker.hasFocus()}addContentWidget(i){const c={widget:i,position:i.getPosition()};this._contentWidgets.hasOwnProperty(i.getId())&&console.warn("Overwriting a content widget with the same id."),this._contentWidgets[i.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addContentWidget(c)}layoutContentWidget(i){const c=i.getId();if(this._contentWidgets.hasOwnProperty(c)){const v=this._contentWidgets[c];v.position=i.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutContentWidget(v)}}removeContentWidget(i){const c=i.getId();if(this._contentWidgets.hasOwnProperty(c)){const v=this._contentWidgets[c];delete this._contentWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeContentWidget(v)}}addOverlayWidget(i){const c={widget:i,position:i.getPosition()};this._overlayWidgets.hasOwnProperty(i.getId())&&console.warn("Overwriting an overlay widget with the same id."),this._overlayWidgets[i.getId()]=c,this._modelData&&this._modelData.hasRealView&&this._modelData.view.addOverlayWidget(c)}layoutOverlayWidget(i){const c=i.getId();if(this._overlayWidgets.hasOwnProperty(c)){const v=this._overlayWidgets[c];v.position=i.getPosition(),this._modelData&&this._modelData.hasRealView&&this._modelData.view.layoutOverlayWidget(v)}}removeOverlayWidget(i){const c=i.getId();if(this._overlayWidgets.hasOwnProperty(c)){const v=this._overlayWidgets[c];delete this._overlayWidgets[c],this._modelData&&this._modelData.hasRealView&&this._modelData.view.removeOverlayWidget(v)}}changeViewZones(i){!this._modelData||!this._modelData.hasRealView||this._modelData.view.change(i)}getTargetAtClientPoint(i,c){return!this._modelData||!this._modelData.hasRealView?null:this._modelData.view.getTargetAtClientPoint(i,c)}getScrolledVisiblePosition(i){if(!this._modelData||!this._modelData.hasRealView)return null;const c=this._modelData.model.validatePosition(i),v=this._configuration.options,V=v.get(133),$=xh._getVerticalOffsetForPosition(this._modelData,c.lineNumber,c.column)-this.getScrollTop(),ce=this._modelData.view.getOffsetForColumn(c.lineNumber,c.column)+V.glyphMarginWidth+V.lineNumbersWidth+V.decorationsWidth-this.getScrollLeft();return{top:$,left:ce,height:v.get(61)}}getOffsetForColumn(i,c){return!this._modelData||!this._modelData.hasRealView?-1:this._modelData.view.getOffsetForColumn(i,c)}render(i=!1){!this._modelData||!this._modelData.hasRealView||this._modelData.view.render(!0,i)}setAriaOptions(i){!this._modelData||!this._modelData.hasRealView||this._modelData.view.setAriaOptions(i)}applyFontInfo(i){(0,vn.N)(i,this._configuration.options.get(46))}setBanner(i,c){this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),this._bannerDomNode=i,this._configuration.setReservedHeight(i?c:0),this._bannerDomNode&&this._domElement.prepend(this._bannerDomNode)}_attachModel(i){if(!i){this._modelData=null;return}const c=[];this._domElement.setAttribute("data-mode-id",i.getLanguageId()),this._configuration.setIsDominatedByLongLines(i.isDominatedByLongLines()),this._configuration.setModelLineCount(i.getLineCount()),i.onBeforeAttached();const v=new Ol(this._id,this._configuration,i,ic.create(),Jr.create(this._configuration.options),ce=>P.jL(ce),this.languageConfigurationService,this._themeService);c.push(i.onWillDispose(()=>this.setModel(null))),c.push(v.onEvent(ce=>{switch(ce.kind){case 0:this._onDidContentSizeChange.fire(ce);break;case 1:this._editorTextFocus.setValue(ce.hasFocus);break;case 2:this._onDidScrollChange.fire(ce);break;case 3:this._onDidChangeViewZones.fire();break;case 4:this._onDidChangeHiddenAreas.fire();break;case 5:this._onDidAttemptReadOnlyEdit.fire();break;case 6:{ce.reachedMaxCursorCount&&this._notificationService.warn(z.NC("cursors.maximum","The number of cursors has been limited to {0}.",Qr.MAX_CURSOR_COUNT));const be=[];for(let Qe=0,lt=ce.selections.length;Qe<lt;Qe++)be[Qe]=ce.selections[Qe].getPosition();const Me={position:be[0],secondaryPositions:be.slice(1),reason:ce.reason,source:ce.source};this._onDidChangeCursorPosition.fire(Me);const Oe={selection:ce.selections[0],secondarySelections:ce.selections.slice(1),modelVersionId:ce.modelVersionId,oldSelections:ce.oldSelections,oldModelVersionId:ce.oldModelVersionId,source:ce.source,reason:ce.reason};this._onDidChangeCursorSelection.fire(Oe);break}case 7:this._onDidChangeModelDecorations.fire(ce.event);break;case 8:this._domElement.setAttribute("data-mode-id",i.getLanguageId()),this._onDidChangeModelLanguage.fire(ce.event);break;case 9:this._onDidChangeModelLanguageConfiguration.fire(ce.event);break;case 10:this._onDidChangeModelContent.fire(ce.event);break;case 11:this._onDidChangeModelOptions.fire(ce.event);break;case 12:this._onDidChangeModelTokens.fire(ce.event);break}}));const[V,$]=this._createView(v);if($){this._domElement.appendChild(V.domNode.domNode);let ce=Object.keys(this._contentWidgets);for(let be=0,Me=ce.length;be<Me;be++){const Oe=ce[be];V.addContentWidget(this._contentWidgets[Oe])}ce=Object.keys(this._overlayWidgets);for(let be=0,Me=ce.length;be<Me;be++){const Oe=ce[be];V.addOverlayWidget(this._overlayWidgets[Oe])}V.render(!1,!0),V.domNode.domNode.setAttribute("data-uri",i.uri.toString())}this._modelData=new ad(i,v,V,$,c)}_createView(i){let c;this.isSimpleWidget?c={paste:($,ce,be,Me)=>{this._paste("keyboard",$,ce,be,Me)},type:$=>{this._type("keyboard",$)},compositionType:($,ce,be,Me)=>{this._compositionType("keyboard",$,ce,be,Me)},startComposition:()=>{this._startComposition()},endComposition:()=>{this._endComposition("keyboard")},cut:()=>{this._cut("keyboard")}}:c={paste:($,ce,be,Me)=>{const Oe={text:$,pasteOnNewLine:ce,multicursorText:be,mode:Me};this._commandService.executeCommand("paste",Oe)},type:$=>{const ce={text:$};this._commandService.executeCommand("type",ce)},compositionType:($,ce,be,Me)=>{if(be||Me){const Oe={text:$,replacePrevCharCnt:ce,replaceNextCharCnt:be,positionDelta:Me};this._commandService.executeCommand("compositionType",Oe)}else{const Oe={text:$,replaceCharCnt:ce};this._commandService.executeCommand("replacePreviousChar",Oe)}},startComposition:()=>{this._commandService.executeCommand("compositionStart",{})},endComposition:()=>{this._commandService.executeCommand("compositionEnd",{})},cut:()=>{this._commandService.executeCommand("cut",{})}};const v=new Si(i.coordinatesConverter);return v.onKeyDown=$=>this._onKeyDown.fire($),v.onKeyUp=$=>this._onKeyUp.fire($),v.onContextMenu=$=>this._onContextMenu.fire($),v.onMouseMove=$=>this._onMouseMove.fire($),v.onMouseLeave=$=>this._onMouseLeave.fire($),v.onMouseDown=$=>this._onMouseDown.fire($),v.onMouseUp=$=>this._onMouseUp.fire($),v.onMouseDrag=$=>this._onMouseDrag.fire($),v.onMouseDrop=$=>this._onMouseDrop.fire($),v.onMouseDropCanceled=$=>this._onMouseDropCanceled.fire($),v.onMouseWheel=$=>this._onMouseWheel.fire($),[new zt(c,this._configuration,this._themeService.getColorTheme(),i,v,this._overflowWidgetsDomNode),!0]}_postDetachModelCleanup(i){i==null||i.removeAllDecorationsWithOwnerId(this._id)}_detachModel(){if(!this._modelData)return null;const i=this._modelData.model,c=this._modelData.hasRealView?this._modelData.view.domNode.domNode:null;return this._modelData.dispose(),this._modelData=null,this._domElement.removeAttribute("data-mode-id"),c&&this._domElement.contains(c)&&this._domElement.removeChild(c),this._bannerDomNode&&this._domElement.contains(this._bannerDomNode)&&this._domElement.removeChild(this._bannerDomNode),i}_removeDecorationType(i){this._codeEditorService.removeDecorationType(i)}hasModel(){return this._modelData!==null}showDropIndicatorAt(i){const c=[{range:new je.e(i.lineNumber,i.column,i.lineNumber,i.column),options:xh.dropIntoEditorDecorationOptions}];this._dropIntoEditorDecorations.set(c),this.revealPosition(i,1)}removeDropIndicator(){this._dropIntoEditorDecorations.clear()}};Hl.dropIntoEditorDecorationOptions=Zo.qx.register({description:"workbench-dnd-target",className:"dnd-target"}),Hl=qo([fo(3,Yo.TG),fo(4,me.$),fo(5,xc.Hy),fo(6,Fl.i6),fo(7,Sn.XE),fo(8,tl.lT),fo(9,ge.F),fo(10,Vl.c_),fo(11,Tc.p)],Hl);class kc extends S.JT{constructor(i){super(),this._emitterOptions=i,this._onDidChangeToTrue=this._register(new T.Q5(this._emitterOptions)),this.onDidChangeToTrue=this._onDidChangeToTrue.event,this._onDidChangeToFalse=this._register(new T.Q5(this._emitterOptions)),this.onDidChangeToFalse=this._onDidChangeToFalse.event,this._value=0}setValue(i){const c=i?2:1;this._value!==c&&(this._value=c,this._value===2?this._onDidChangeToTrue.fire():this._value===1&&this._onDidChangeToFalse.fire())}}class za extends S.JT{constructor(i,c){super(),this._editor=i,c.createKey("editorId",i.getId()),this._editorSimpleInput=ds.u.editorSimpleInput.bindTo(c),this._editorFocus=ds.u.focus.bindTo(c),this._textInputFocus=ds.u.textInputFocus.bindTo(c),this._editorTextFocus=ds.u.editorTextFocus.bindTo(c),this._editorTabMovesFocus=ds.u.tabMovesFocus.bindTo(c),this._editorReadonly=ds.u.readOnly.bindTo(c),this._inDiffEditor=ds.u.inDiffEditor.bindTo(c),this._editorColumnSelection=ds.u.columnSelection.bindTo(c),this._hasMultipleSelections=ds.u.hasMultipleSelections.bindTo(c),this._hasNonEmptySelection=ds.u.hasNonEmptySelection.bindTo(c),this._canUndo=ds.u.canUndo.bindTo(c),this._canRedo=ds.u.canRedo.bindTo(c),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromConfig())),this._register(this._editor.onDidChangeCursorSelection(()=>this._updateFromSelection())),this._register(this._editor.onDidFocusEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorWidget(()=>this._updateFromFocus())),this._register(this._editor.onDidFocusEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidBlurEditorText(()=>this._updateFromFocus())),this._register(this._editor.onDidChangeModel(()=>this._updateFromModel())),this._register(this._editor.onDidChangeConfiguration(()=>this._updateFromModel())),this._updateFromConfig(),this._updateFromSelection(),this._updateFromFocus(),this._updateFromModel(),this._editorSimpleInput.set(this._editor.isSimpleWidget)}_updateFromConfig(){const i=this._editor.getOptions();this._editorTabMovesFocus.set(i.get(132)),this._editorReadonly.set(i.get(83)),this._inDiffEditor.set(i.get(56)),this._editorColumnSelection.set(i.get(18))}_updateFromSelection(){const i=this._editor.getSelections();i?(this._hasMultipleSelections.set(i.length>1),this._hasNonEmptySelection.set(i.some(c=>!c.isEmpty()))):(this._hasMultipleSelections.reset(),this._hasNonEmptySelection.reset())}_updateFromFocus(){this._editorFocus.set(this._editor.hasWidgetFocus()&&!this._editor.isSimpleWidget),this._editorTextFocus.set(this._editor.hasTextFocus()&&!this._editor.isSimpleWidget),this._textInputFocus.set(this._editor.hasTextFocus())}_updateFromModel(){const i=this._editor.getModel();this._canUndo.set(Boolean(i&&i.canUndo())),this._canRedo.set(Boolean(i&&i.canRedo()))}}class Mc extends S.JT{constructor(i,c,v){super(),this._editor=i,this._contextKeyService=c,this._languageFeaturesService=v,this._langId=ds.u.languageId.bindTo(c),this._hasCompletionItemProvider=ds.u.hasCompletionItemProvider.bindTo(c),this._hasCodeActionsProvider=ds.u.hasCodeActionsProvider.bindTo(c),this._hasCodeLensProvider=ds.u.hasCodeLensProvider.bindTo(c),this._hasDefinitionProvider=ds.u.hasDefinitionProvider.bindTo(c),this._hasDeclarationProvider=ds.u.hasDeclarationProvider.bindTo(c),this._hasImplementationProvider=ds.u.hasImplementationProvider.bindTo(c),this._hasTypeDefinitionProvider=ds.u.hasTypeDefinitionProvider.bindTo(c),this._hasHoverProvider=ds.u.hasHoverProvider.bindTo(c),this._hasDocumentHighlightProvider=ds.u.hasDocumentHighlightProvider.bindTo(c),this._hasDocumentSymbolProvider=ds.u.hasDocumentSymbolProvider.bindTo(c),this._hasReferenceProvider=ds.u.hasReferenceProvider.bindTo(c),this._hasRenameProvider=ds.u.hasRenameProvider.bindTo(c),this._hasSignatureHelpProvider=ds.u.hasSignatureHelpProvider.bindTo(c),this._hasInlayHintsProvider=ds.u.hasInlayHintsProvider.bindTo(c),this._hasDocumentFormattingProvider=ds.u.hasDocumentFormattingProvider.bindTo(c),this._hasDocumentSelectionFormattingProvider=ds.u.hasDocumentSelectionFormattingProvider.bindTo(c),this._hasMultipleDocumentFormattingProvider=ds.u.hasMultipleDocumentFormattingProvider.bindTo(c),this._hasMultipleDocumentSelectionFormattingProvider=ds.u.hasMultipleDocumentSelectionFormattingProvider.bindTo(c),this._isInWalkThrough=ds.u.isInWalkThroughSnippet.bindTo(c);const V=()=>this._update();this._register(i.onDidChangeModel(V)),this._register(i.onDidChangeModelLanguage(V)),this._register(v.completionProvider.onDidChange(V)),this._register(v.codeActionProvider.onDidChange(V)),this._register(v.codeLensProvider.onDidChange(V)),this._register(v.definitionProvider.onDidChange(V)),this._register(v.declarationProvider.onDidChange(V)),this._register(v.implementationProvider.onDidChange(V)),this._register(v.typeDefinitionProvider.onDidChange(V)),this._register(v.hoverProvider.onDidChange(V)),this._register(v.documentHighlightProvider.onDidChange(V)),this._register(v.documentSymbolProvider.onDidChange(V)),this._register(v.referenceProvider.onDidChange(V)),this._register(v.renameProvider.onDidChange(V)),this._register(v.documentFormattingEditProvider.onDidChange(V)),this._register(v.documentRangeFormattingEditProvider.onDidChange(V)),this._register(v.signatureHelpProvider.onDidChange(V)),this._register(v.inlayHintsProvider.onDidChange(V)),V()}dispose(){super.dispose()}reset(){this._contextKeyService.bufferChangeEvents(()=>{this._langId.reset(),this._hasCompletionItemProvider.reset(),this._hasCodeActionsProvider.reset(),this._hasCodeLensProvider.reset(),this._hasDefinitionProvider.reset(),this._hasDeclarationProvider.reset(),this._hasImplementationProvider.reset(),this._hasTypeDefinitionProvider.reset(),this._hasHoverProvider.reset(),this._hasDocumentHighlightProvider.reset(),this._hasDocumentSymbolProvider.reset(),this._hasReferenceProvider.reset(),this._hasRenameProvider.reset(),this._hasDocumentFormattingProvider.reset(),this._hasDocumentSelectionFormattingProvider.reset(),this._hasSignatureHelpProvider.reset(),this._isInWalkThrough.reset()})}_update(){const i=this._editor.getModel();if(!i){this.reset();return}this._contextKeyService.bufferChangeEvents(()=>{this._langId.set(i.getLanguageId()),this._hasCompletionItemProvider.set(this._languageFeaturesService.completionProvider.has(i)),this._hasCodeActionsProvider.set(this._languageFeaturesService.codeActionProvider.has(i)),this._hasCodeLensProvider.set(this._languageFeaturesService.codeLensProvider.has(i)),this._hasDefinitionProvider.set(this._languageFeaturesService.definitionProvider.has(i)),this._hasDeclarationProvider.set(this._languageFeaturesService.declarationProvider.has(i)),this._hasImplementationProvider.set(this._languageFeaturesService.implementationProvider.has(i)),this._hasTypeDefinitionProvider.set(this._languageFeaturesService.typeDefinitionProvider.has(i)),this._hasHoverProvider.set(this._languageFeaturesService.hoverProvider.has(i)),this._hasDocumentHighlightProvider.set(this._languageFeaturesService.documentHighlightProvider.has(i)),this._hasDocumentSymbolProvider.set(this._languageFeaturesService.documentSymbolProvider.has(i)),this._hasReferenceProvider.set(this._languageFeaturesService.referenceProvider.has(i)),this._hasRenameProvider.set(this._languageFeaturesService.renameProvider.has(i)),this._hasSignatureHelpProvider.set(this._languageFeaturesService.signatureHelpProvider.has(i)),this._hasInlayHintsProvider.set(this._languageFeaturesService.inlayHintsProvider.has(i)),this._hasDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.has(i)||this._languageFeaturesService.documentRangeFormattingEditProvider.has(i)),this._hasDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.has(i)),this._hasMultipleDocumentFormattingProvider.set(this._languageFeaturesService.documentFormattingEditProvider.all(i).length+this._languageFeaturesService.documentRangeFormattingEditProvider.all(i).length>1),this._hasMultipleDocumentSelectionFormattingProvider.set(this._languageFeaturesService.documentRangeFormattingEditProvider.all(i).length>1),this._isInWalkThrough.set(i.uri.scheme===_.lg.walkThroughSnippet)})}}class sc extends S.JT{constructor(i){super(),this._onChange=this._register(new T.Q5),this.onChange=this._onChange.event,this._hasFocus=!1,this._domFocusTracker=this._register(P.go(i)),this._register(this._domFocusTracker.onDidFocus(()=>{this._hasFocus=!0,this._onChange.fire(void 0)})),this._register(this._domFocusTracker.onDidBlur(()=>{this._hasFocus=!1,this._onChange.fire(void 0)}))}hasFocus(){return this._hasFocus}}class Rc{constructor(i,c){this._editor=i,this._decorationIds=[],this._isChangingDecorations=!1,Array.isArray(c)&&c.length>0&&this.set(c)}get length(){return this._decorationIds.length}onDidChange(i,c,v){return this._editor.onDidChangeModelDecorations(V=>{this._isChangingDecorations||i.call(c,V)},v)}getRange(i){return!this._editor.hasModel()||i>=this._decorationIds.length?null:this._editor.getModel().getDecorationRange(this._decorationIds[i])}getRanges(){if(!this._editor.hasModel())return[];const i=this._editor.getModel(),c=[];for(const v of this._decorationIds){const V=i.getDecorationRange(v);V&&c.push(V)}return c}has(i){return this._decorationIds.includes(i.id)}clear(){this._decorationIds.length!==0&&this.set([])}set(i){try{this._isChangingDecorations=!0,this._editor.changeDecorations(c=>{this._decorationIds=c.deltaDecorations(this._decorationIds,i)})}finally{this._isChangingDecorations=!1}}}const il=encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'><g fill='"),Ac=encodeURIComponent("'><polygon points='5.5,0 2.5,3 1.1,3 4.1,0'/><polygon points='4,0 6,2 6,0.6 5.4,0'/><polygon points='0,2 1,3 2.4,3 0,0.6'/></g></svg>");function Na(pt){return il+encodeURIComponent(pt.toString())+Ac}const tr=encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" height="3" width="12"><g fill="'),Sl=encodeURIComponent('"><circle cx="1" cy="1" r="1"/><circle cx="5" cy="1" r="1"/><circle cx="9" cy="1" r="1"/></g></svg>');function ld(pt){return tr+encodeURIComponent(pt.toString())+Sl}(0,Sn.Ic)((pt,i)=>{const c=pt.getColor(gi.b6y);c&&i.addRule(`.monaco-editor .squiggly-error { border-bottom: 4px double ${c}; }`);const v=pt.getColor(gi.lXJ);v&&i.addRule(`.monaco-editor .squiggly-error { background: url("data:image/svg+xml,${Na(v)}") repeat-x bottom left; }`);const V=pt.getColor(gi.L_H);V&&i.addRule(`.monaco-editor .squiggly-error::before { display: block; content: ''; width: 100%; height: 100%; background: ${V}; }`);const $=pt.getColor(gi.pW3);$&&i.addRule(`.monaco-editor .squiggly-warning { border-bottom: 4px double ${$}; }`);const ce=pt.getColor(gi.uoC);ce&&i.addRule(`.monaco-editor .squiggly-warning { background: url("data:image/svg+xml,${Na(ce)}") repeat-x bottom left; }`);const be=pt.getColor(gi.gpD);be&&i.addRule(`.monaco-editor .squiggly-warning::before { display: block; content: ''; width: 100%; height: 100%; background: ${be}; }`);const Me=pt.getColor(gi.T83);Me&&i.addRule(`.monaco-editor .squiggly-info { border-bottom: 4px double ${Me}; }`);const Oe=pt.getColor(gi.c63);Oe&&i.addRule(`.monaco-editor .squiggly-info { background: url("data:image/svg+xml,${Na(Oe)}") repeat-x bottom left; }`);const Qe=pt.getColor(gi.few);Qe&&i.addRule(`.monaco-editor .squiggly-info::before { display: block; content: ''; width: 100%; height: 100%; background: ${Qe}; }`);const lt=pt.getColor(gi.fEB);lt&&i.addRule(`.monaco-editor .squiggly-hint { border-bottom: 2px dotted ${lt}; }`);const Nt=pt.getColor(gi.Dut);Nt&&i.addRule(`.monaco-editor .squiggly-hint { background: url("data:image/svg+xml,${ld(Nt)}") no-repeat bottom left; }`);const Dt=pt.getColor(In.zu);Dt&&i.addRule(`.monaco-editor.showUnused .squiggly-inline-unnecessary { opacity: ${Dt.rgba.a}; }`);const Yt=pt.getColor(In.kp);Yt&&i.addRule(`.monaco-editor.showUnused .squiggly-unnecessary { border-bottom: 2px dashed ${Yt}; }`);const an=pt.getColor(gi.NOs)||"inherit";i.addRule(`.monaco-editor.showDeprecated .squiggly-inline-deprecated { text-decoration: line-through; text-decoration-color: ${an}}`)})},47137:function(nt,xe,l){"use strict";l.d(xe,{p:function(){return je}});var C=l(83218),d=l(1660),j=l(15621),W=l(52948),L=l(64872),z=l(84180),P=l(60218),A=l(94214),T=l(18786),S=l(70018),_=l(85735),y=l(15083),u=l(52594),a=l(37886),b=l(3553),D=l(63619),N=l(24030),I=l(37186),E=l(67120),O=l(66658),R=l(63908),M=l(62895),K=l(37483),Z=l(55952),te=l(16597),de=l(64272),ge=l(33664),le=l(49038),se=function(dn,Ve,Ce,dt){var Qt=arguments.length,en=Qt<3?Ve:dt===null?dt=Object.getOwnPropertyDescriptor(Ve,Ce):dt,vn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")en=Reflect.decorate(dn,Ve,Ce,dt);else for(var An=dn.length-1;An>=0;An--)(vn=dn[An])&&(en=(Qt<3?vn(en):Qt>3?vn(Ve,Ce,en):vn(Ve,Ce))||en);return Qt>3&&en&&Object.defineProperty(Ve,Ce,en),en},X=function(dn,Ve){return function(Ce,dt){Ve(Ce,dt,dn)}},re=function(dn,Ve,Ce,dt){function Qt(en){return en instanceof Ce?en:new Ce(function(vn){vn(en)})}return new(Ce||(Ce=Promise))(function(en,vn){function An(Sn){try{In(dt.next(Sn))}catch(Mn){vn(Mn)}}function On(Sn){try{In(dt.throw(Sn))}catch(Mn){vn(Mn)}}function In(Sn){Sn.done?en(Sn.value):Qt(Sn.value).then(An,On)}In((dt=dt.apply(dn,Ve||[])).next())})},ne;const U=3;class oe{constructor(Ve,Ce,dt,Qt){this.originalLineStart=Ve,this.originalLineEnd=Ce,this.modifiedLineStart=dt,this.modifiedLineEnd=Qt}getType(){return this.originalLineStart===0?1:this.modifiedLineStart===0?2:0}}class q{constructor(Ve){this.entries=Ve}}const ae=(0,ge.q5)("diff-review-insert",de.lA.add,C.NC("diffReviewInsertIcon","Icon for 'Insert' in diff review.")),me=(0,ge.q5)("diff-review-remove",de.lA.remove,C.NC("diffReviewRemoveIcon","Icon for 'Remove' in diff review.")),ke=(0,ge.q5)("diff-review-close",de.lA.close,C.NC("diffReviewCloseIcon","Icon for 'Close' in diff review."));let H=class Du extends A.JT{constructor(Ve,Ce){super(),this._languageService=Ce,this._width=0,this._diffEditor=Ve,this._isVisible=!1,this.shadow=(0,W.X)(document.createElement("div")),this.shadow.setClassName("diff-review-shadow"),this.actionBarContainer=(0,W.X)(document.createElement("div")),this.actionBarContainer.setClassName("diff-review-actions"),this._actionBar=this._register(new u.o(this.actionBarContainer.domNode)),this._actionBar.push(new b.aU("diffreview.close",C.NC("label.close","Close"),"close-diff-review "+te.kS.asClassName(ke),!0,()=>re(this,void 0,void 0,function*(){return this.hide()})),{label:!1,icon:!0}),this.domNode=(0,W.X)(document.createElement("div")),this.domNode.setClassName("diff-review monaco-editor-background"),this._content=(0,W.X)(document.createElement("div")),this._content.setClassName("diff-review-content"),this._content.setAttribute("role","code"),this.scrollbar=this._register(new a.s$(this._content.domNode,{})),this.domNode.domNode.appendChild(this.scrollbar.getDomNode()),this._register(Ve.onDidUpdateDiff(()=>{!this._isVisible||(this._diffs=this._compute(),this._render())})),this._register(Ve.getModifiedEditor().onDidChangeCursorPosition(()=>{!this._isVisible||this._render()})),this._register(d.mu(this.domNode.domNode,"click",dt=>{dt.preventDefault();const Qt=d.Fx(dt.target,"diff-review-row");Qt&&this._goToRow(Qt)})),this._register(d.mu(this.domNode.domNode,"keydown",dt=>{(dt.equals(18)||dt.equals(2066)||dt.equals(530))&&(dt.preventDefault(),this._goToRow(this._getNextRow())),(dt.equals(16)||dt.equals(2064)||dt.equals(528))&&(dt.preventDefault(),this._goToRow(this._getPrevRow())),(dt.equals(9)||dt.equals(2057)||dt.equals(521)||dt.equals(1033))&&(dt.preventDefault(),this.hide()),(dt.equals(10)||dt.equals(3))&&(dt.preventDefault(),this.accept())})),this._diffs=[],this._currentDiff=null}prev(){let Ve=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let dt=-1;for(let Qt=0,en=this._diffs.length;Qt<en;Qt++)if(this._diffs[Qt]===this._currentDiff){dt=Qt;break}Ve=this._diffs.length+dt-1}else Ve=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;Ve=Ve%this._diffs.length;const Ce=this._diffs[Ve].entries;this._diffEditor.setPosition(new E.L(Ce[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Ce[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Ce[Ce.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}next(){let Ve=0;if(this._isVisible||(this._diffs=this._compute()),this._isVisible){let dt=-1;for(let Qt=0,en=this._diffs.length;Qt<en;Qt++)if(this._diffs[Qt]===this._currentDiff){dt=Qt;break}Ve=dt+1}else Ve=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs.length===0)return;Ve=Ve%this._diffs.length;const Ce=this._diffs[Ve].entries;this._diffEditor.setPosition(new E.L(Ce[0].modifiedLineStart,1)),this._diffEditor.setSelection({startColumn:1,startLineNumber:Ce[0].modifiedLineStart,endColumn:1073741824,endLineNumber:Ce[Ce.length-1].modifiedLineEnd}),this._isVisible=!0,this._diffEditor.doLayout(),this._render(),this._goToRow(this._getNextRow())}accept(){let Ve=-1;const Ce=this._getCurrentFocusedRow();if(Ce){const dt=parseInt(Ce.getAttribute("data-line"),10);isNaN(dt)||(Ve=dt)}this.hide(),Ve!==-1&&(this._diffEditor.setPosition(new E.L(Ve,1)),this._diffEditor.revealPosition(new E.L(Ve,1),1))}hide(){this._isVisible=!1,this._diffEditor.updateOptions({readOnly:!1}),this._diffEditor.focus(),this._diffEditor.doLayout(),this._render()}_getPrevRow(){const Ve=this._getCurrentFocusedRow();return Ve?Ve.previousElementSibling?Ve.previousElementSibling:Ve:this._getFirstRow()}_getNextRow(){const Ve=this._getCurrentFocusedRow();return Ve?Ve.nextElementSibling?Ve.nextElementSibling:Ve:this._getFirstRow()}_getFirstRow(){return this.domNode.domNode.querySelector(".diff-review-row")}_getCurrentFocusedRow(){const Ve=document.activeElement;return Ve&&/diff-review-row/.test(Ve.className)?Ve:null}_goToRow(Ve){const Ce=this._getCurrentFocusedRow();Ve.tabIndex=0,Ve.focus(),Ce&&Ce!==Ve&&(Ce.tabIndex=-1),this.scrollbar.scanDomNode()}isVisible(){return this._isVisible}layout(Ve,Ce,dt){this._width=Ce,this.shadow.setTop(Ve-6),this.shadow.setWidth(Ce),this.shadow.setHeight(this._isVisible?6:0),this.domNode.setTop(Ve),this.domNode.setWidth(Ce),this.domNode.setHeight(dt),this._content.setHeight(dt),this._content.setWidth(Ce),this._isVisible?(this.actionBarContainer.setAttribute("aria-hidden","false"),this.actionBarContainer.setDisplay("block")):(this.actionBarContainer.setAttribute("aria-hidden","true"),this.actionBarContainer.setDisplay("none"))}_compute(){const Ve=this._diffEditor.getLineChanges();if(!Ve||Ve.length===0)return[];const Ce=this._diffEditor.getOriginalEditor().getModel(),dt=this._diffEditor.getModifiedEditor().getModel();return!Ce||!dt?[]:Du._mergeAdjacent(Ve,Ce.getLineCount(),dt.getLineCount())}static _mergeAdjacent(Ve,Ce,dt){if(!Ve||Ve.length===0)return[];const Qt=[];let en=0;for(let In=0,Sn=Ve.length;In<Sn;In++){const Mn=Ve[In],Bn=Mn.originalStartLineNumber,Jn=Mn.originalEndLineNumber,ai=Mn.modifiedStartLineNumber,jn=Mn.modifiedEndLineNumber,Ii=[];let ci=0;{const oi=Jn===0?Bn:Bn-1,wi=jn===0?ai:ai-1;let Li=1,kn=1;if(In>0){const Ye=Ve[In-1];Ye.originalEndLineNumber===0?Li=Ye.originalStartLineNumber+1:Li=Ye.originalEndLineNumber+1,Ye.modifiedEndLineNumber===0?kn=Ye.modifiedStartLineNumber+1:kn=Ye.modifiedEndLineNumber+1}let vi=oi-U+1,Si=wi-U+1;if(vi<Li){const Ye=Li-vi;vi=vi+Ye,Si=Si+Ye}if(Si<kn){const Ye=kn-Si;vi=vi+Ye,Si=Si+Ye}Ii[ci++]=new oe(vi,oi,Si,wi)}Jn!==0&&(Ii[ci++]=new oe(Bn,Jn,0,0)),jn!==0&&(Ii[ci++]=new oe(0,0,ai,jn));{const oi=Jn===0?Bn+1:Jn+1,wi=jn===0?ai+1:jn+1;let Li=Ce,kn=dt;if(In+1<Sn){const Ye=Ve[In+1];Ye.originalEndLineNumber===0?Li=Ye.originalStartLineNumber:Li=Ye.originalStartLineNumber-1,Ye.modifiedEndLineNumber===0?kn=Ye.modifiedStartLineNumber:kn=Ye.modifiedStartLineNumber-1}let vi=oi+U-1,Si=wi+U-1;if(vi>Li){const Ye=Li-vi;vi=vi+Ye,Si=Si+Ye}if(Si>kn){const Ye=kn-Si;vi=vi+Ye,Si=Si+Ye}Ii[ci++]=new oe(oi,vi,wi,Si)}Qt[en++]=new q(Ii)}let vn=Qt[0].entries;const An=[];let On=0;for(let In=1,Sn=Qt.length;In<Sn;In++){const Mn=Qt[In].entries,Bn=vn[vn.length-1],Jn=Mn[0];if(Bn.getType()===0&&Jn.getType()===0&&Jn.originalLineStart<=Bn.originalLineEnd){vn[vn.length-1]=new oe(Bn.originalLineStart,Jn.originalLineEnd,Bn.modifiedLineStart,Jn.modifiedLineEnd),vn=vn.concat(Mn.slice(1));continue}An[On++]=new q(vn),vn=Mn}return An[On++]=new q(vn),An}_findDiffIndex(Ve){const Ce=Ve.lineNumber;for(let dt=0,Qt=this._diffs.length;dt<Qt;dt++){const en=this._diffs[dt].entries,vn=en[en.length-1].modifiedLineEnd;if(Ce<=vn)return dt}return 0}_render(){const Ve=this._diffEditor.getOriginalEditor().getOptions(),Ce=this._diffEditor.getModifiedEditor().getOptions(),dt=this._diffEditor.getOriginalEditor().getModel(),Qt=this._diffEditor.getModifiedEditor().getModel(),en=dt.getOptions(),vn=Qt.getOptions();if(!this._isVisible||!dt||!Qt){d.PO(this._content.domNode),this._currentDiff=null,this.scrollbar.scanDomNode();return}this._diffEditor.updateOptions({readOnly:!0});const An=this._findDiffIndex(this._diffEditor.getPosition());if(this._diffs[An]===this._currentDiff)return;this._currentDiff=this._diffs[An];const On=this._diffs[An].entries,In=document.createElement("div");In.className="diff-review-table",In.setAttribute("role","list"),In.setAttribute("aria-label",'Difference review. Use "Stage | Unstage | Revert Selected Ranges" commands'),(0,T.N)(In,Ce.get(46));let Sn=0,Mn=0,Bn=0,Jn=0;for(let Si=0,Ye=On.length;Si<Ye;Si++){const Tt=On[Si],nn=Tt.originalLineStart,hn=Tt.originalLineEnd,Vn=Tt.modifiedLineStart,Hn=Tt.modifiedLineEnd;nn!==0&&(Sn===0||nn<Sn)&&(Sn=nn),hn!==0&&(Mn===0||hn>Mn)&&(Mn=hn),Vn!==0&&(Bn===0||Vn<Bn)&&(Bn=Vn),Hn!==0&&(Jn===0||Hn>Jn)&&(Jn=Hn)}const ai=document.createElement("div");ai.className="diff-review-row";const jn=document.createElement("div");jn.className="diff-review-cell diff-review-summary";const Ii=Mn-Sn+1,ci=Jn-Bn+1;jn.appendChild(document.createTextNode(`${An+1}/${this._diffs.length}: @@ -${Sn},${Ii} +${Bn},${ci} @@`)),ai.setAttribute("data-line",String(Bn));const oi=Si=>Si===0?C.NC("no_lines_changed","no lines changed"):Si===1?C.NC("one_line_changed","1 line changed"):C.NC("more_lines_changed","{0} lines changed",Si),wi=oi(Ii),Li=oi(ci);ai.setAttribute("aria-label",C.NC({key:"header",comment:["This is the ARIA label for a git diff header.","A git diff header looks like this: @@ -154,12 +159,39 @@.","That encodes that at original line 154 (which is now line 159), 12 lines were removed/changed with 39 lines.","Variables 0 and 1 refer to the diff index out of total number of diffs.","Variables 2 and 4 will be numbers (a line number).",'Variables 3 and 5 will be "no lines changed", "1 line changed" or "X lines changed", localized separately.']},"Difference {0} of {1}: original line {2}, {3}, modified line {4}, {5}",An+1,this._diffs.length,Sn,wi,Bn,Li)),ai.appendChild(jn),ai.setAttribute("role","listitem"),In.appendChild(ai);const kn=Ce.get(61);let vi=Bn;for(let Si=0,Ye=On.length;Si<Ye;Si++){const Tt=On[Si];Du._renderSection(In,Tt,vi,kn,this._width,Ve,dt,en,Ce,Qt,vn,this._languageService.languageIdCodec),Tt.modifiedLineStart!==0&&(vi=Tt.modifiedLineEnd)}d.PO(this._content.domNode),this._content.domNode.appendChild(In),this.scrollbar.scanDomNode()}static _renderSection(Ve,Ce,dt,Qt,en,vn,An,On,In,Sn,Mn,Bn){const Jn=Ce.getType();let ai="diff-review-row",jn="";const Ii="diff-review-spacer";let ci=null;switch(Jn){case 1:ai="diff-review-row line-insert",jn=" char-insert",ci=ae;break;case 2:ai="diff-review-row line-delete",jn=" char-delete",ci=me;break}const oi=Ce.originalLineStart,wi=Ce.originalLineEnd,Li=Ce.modifiedLineStart,kn=Ce.modifiedLineEnd,vi=Math.max(kn-Li,wi-oi),Si=vn.get(133),Ye=Si.glyphMarginWidth+Si.lineNumbersWidth,Tt=In.get(133),nn=10+Tt.glyphMarginWidth+Tt.lineNumbersWidth;for(let hn=0;hn<=vi;hn++){const Vn=oi===0?0:oi+hn,Hn=Li===0?0:Li+hn,Ci=document.createElement("div");Ci.style.minWidth=en+"px",Ci.className=ai,Ci.setAttribute("role","listitem"),Hn!==0&&(dt=Hn),Ci.setAttribute("data-line",String(dt));const qi=document.createElement("div");qi.className="diff-review-cell",qi.style.height=`${Qt}px`,Ci.appendChild(qi);const ri=document.createElement("span");ri.style.width=Ye+"px",ri.style.minWidth=Ye+"px",ri.className="diff-review-line-number"+jn,Vn!==0?ri.appendChild(document.createTextNode(String(Vn))):ri.innerText="\xA0",qi.appendChild(ri);const ms=document.createElement("span");ms.style.width=nn+"px",ms.style.minWidth=nn+"px",ms.style.paddingRight="10px",ms.className="diff-review-line-number"+jn,Hn!==0?ms.appendChild(document.createTextNode(String(Hn))):ms.innerText="\xA0",qi.appendChild(ms);const fi=document.createElement("span");if(fi.className=Ii,ci){const $i=document.createElement("span");$i.className=te.kS.asClassName(ci),$i.innerText="\xA0\xA0",fi.appendChild($i)}else fi.innerText="\xA0\xA0";qi.appendChild(fi);let _s;if(Hn!==0){let $i=this._renderLine(Sn,In,Mn.tabSize,Hn,Bn);Du._ttPolicy&&($i=Du._ttPolicy.createHTML($i)),qi.insertAdjacentHTML("beforeend",$i),_s=Sn.getLineContent(Hn)}else{let $i=this._renderLine(An,vn,On.tabSize,Vn,Bn);Du._ttPolicy&&($i=Du._ttPolicy.createHTML($i)),qi.insertAdjacentHTML("beforeend",$i),_s=An.getLineContent(Vn)}_s.length===0&&(_s=C.NC("blankLine","blank"));let bi="";switch(Jn){case 0:Vn===Hn?bi=C.NC({key:"unchangedLine",comment:["The placeholders are contents of the line and should not be translated."]},"{0} unchanged line {1}",_s,Vn):bi=C.NC("equalLine","{0} original line {1} modified line {2}",_s,Vn,Hn);break;case 1:bi=C.NC("insertLine","+ {0} modified line {1}",_s,Hn);break;case 2:bi=C.NC("deleteLine","- {0} original line {1}",_s,Vn);break}Ci.setAttribute("aria-label",bi),Ve.appendChild(Ci)}}static _renderLine(Ve,Ce,dt,Qt,en){const vn=Ve.getLineContent(Qt),An=Ce.get(46),On=I.A.createEmpty(vn,en),In=M.wA.isBasicASCII(vn,Ve.mightContainNonBasicASCII()),Sn=M.wA.containsRTL(vn,In,Ve.mightContainRTL());return(0,R.tF)(new R.IJ(An.isMonospace&&!Ce.get(29),An.canUseHalfwidthRightwardsArrow,vn,!1,In,Sn,0,On,[],dt,0,An.spaceWidth,An.middotWidth,An.wsmiddotWidth,Ce.get(107),Ce.get(90),Ce.get(85),Ce.get(47)!==N.n0.OFF,null)).html}};H._ttPolicy=(ne=window.trustedTypes)===null||ne===void 0?void 0:ne.createPolicy("diffReview",{createHTML:dn=>dn}),H=se([X(1,le.O)],H),(0,te.Ic)((dn,Ve)=>{const Ce=dn.getColor(O.hw);Ce&&Ve.addRule(`.monaco-diff-editor .diff-review-line-number { color: ${Ce}; }`);const dt=dn.getColor(Z._wn);dt&&Ve.addRule(`.monaco-diff-editor .diff-review-shadow { box-shadow: ${dt} 0 -6px 6px -6px inset; }`)});class ut extends D.R6{constructor(){super({id:"editor.action.diffReview.next",label:C.NC("editor.action.diffReview.next","Go to Next Difference"),alias:"Go to Next Difference",precondition:K.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:65,weight:100}})}run(Ve,Ce){const dt=He(Ve);dt&&dt.diffReviewNext()}}class Ke extends D.R6{constructor(){super({id:"editor.action.diffReview.prev",label:C.NC("editor.action.diffReview.prev","Go to Previous Difference"),alias:"Go to Previous Difference",precondition:K.Ao.has("isInDiffEditor"),kbOpts:{kbExpr:null,primary:1089,weight:100}})}run(Ve,Ce){const dt=He(Ve);dt&&dt.diffReviewPrev()}}function He(dn){const Ve=dn.get(_.$),Ce=Ve.listDiffEditors(),dt=Ve.getActiveCodeEditor();if(!dt)return null;for(let Qt=0,en=Ce.length;Qt<en;Qt++){const vn=Ce[Qt];if(vn.getModifiedEditor().getId()===dt.getId()||vn.getOriginalEditor().getId()===dt.getId())return vn}return null}(0,D.Qr)(ut),(0,D.Qr)(Ke);var ze=l(14481),Le=l(10501),Ze=l(33182),Ge=l(75357),Fe=l(87026),ct=l(53557),ft=l(48569),Ot=l(47397),Et=l(37660),Vt=l(21166),We=l(88098),St=function(dn,Ve,Ce,dt){function Qt(en){return en instanceof Ce?en:new Ce(function(vn){vn(en)})}return new(Ce||(Ce=Promise))(function(en,vn){function An(Sn){try{In(dt.next(Sn))}catch(Mn){vn(Mn)}}function On(Sn){try{In(dt.throw(Sn))}catch(Mn){vn(Mn)}}function In(Sn){Sn.done?en(Sn.value):Qt(Sn.value).then(An,On)}In((dt=dt.apply(dn,Ve||[])).next())})};class Re extends A.JT{constructor(Ve,Ce,dt,Qt,en,vn){super(),this._viewZoneId=Ve,this._marginDomNode=Ce,this.editor=dt,this.diff=Qt,this._contextMenuService=en,this._clipboardService=vn,this._visibility=!1,this._marginDomNode.style.zIndex="10",this._diffActions=document.createElement("div"),this._diffActions.className=de.lA.lightBulb.classNames+" lightbulb-glyph",this._diffActions.style.position="absolute";const An=dt.getOption(61),On=dt.getModel().getEOL();this._diffActions.style.right="0px",this._diffActions.style.visibility="hidden",this._diffActions.style.height=`${An}px`,this._diffActions.style.lineHeight=`${An}px`,this._marginDomNode.appendChild(this._diffActions);const In=[],Sn=Qt.modifiedEndLineNumber===0;In.push(new b.aU("diff.clipboard.copyDeletedContent",Sn?Qt.originalEndLineNumber>Qt.modifiedStartLineNumber?C.NC("diff.clipboard.copyDeletedLinesContent.label","Copy deleted lines"):C.NC("diff.clipboard.copyDeletedLinesContent.single.label","Copy deleted line"):Qt.originalEndLineNumber>Qt.modifiedStartLineNumber?C.NC("diff.clipboard.copyChangedLinesContent.label","Copy changed lines"):C.NC("diff.clipboard.copyChangedLinesContent.single.label","Copy changed line"),void 0,!0,()=>St(this,void 0,void 0,function*(){const jn=new ze.e(Qt.originalStartLineNumber,1,Qt.originalEndLineNumber+1,1),Ii=Qt.originalModel.getValueInRange(jn);yield this._clipboardService.writeText(Ii)})));let Mn=0,Bn;Qt.originalEndLineNumber>Qt.modifiedStartLineNumber&&(Bn=new b.aU("diff.clipboard.copyDeletedLineContent",Sn?C.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Qt.originalStartLineNumber):C.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Qt.originalStartLineNumber),void 0,!0,()=>St(this,void 0,void 0,function*(){const jn=Qt.originalModel.getLineContent(Qt.originalStartLineNumber+Mn);if(jn===""){const Ii=Qt.originalModel.getEndOfLineSequence();yield this._clipboardService.writeText(Ii===0?`
`:`\r
`)}else yield this._clipboardService.writeText(jn)})),In.push(Bn)),dt.getOption(83)||In.push(new b.aU("diff.inline.revertChange",C.NC("diff.inline.revertChange.label","Revert this change"),void 0,!0,()=>St(this,void 0,void 0,function*(){const jn=new ze.e(Qt.originalStartLineNumber,1,Qt.originalEndLineNumber,Qt.originalModel.getLineMaxColumn(Qt.originalEndLineNumber)),Ii=Qt.originalModel.getValueInRange(jn);if(Qt.modifiedEndLineNumber===0){const ci=dt.getModel().getLineMaxColumn(Qt.modifiedStartLineNumber);dt.executeEdits("diffEditor",[{range:new ze.e(Qt.modifiedStartLineNumber,ci,Qt.modifiedStartLineNumber,ci),text:On+Ii}])}else{const ci=dt.getModel().getLineMaxColumn(Qt.modifiedEndLineNumber);dt.executeEdits("diffEditor",[{range:new ze.e(Qt.modifiedStartLineNumber,1,Qt.modifiedEndLineNumber,ci),text:Ii}])}})));const ai=(jn,Ii)=>{this._contextMenuService.showContextMenu({getAnchor:()=>({x:jn,y:Ii}),getActions:()=>(Bn&&(Bn.label=Sn?C.NC("diff.clipboard.copyDeletedLineContent.label","Copy deleted line ({0})",Qt.originalStartLineNumber+Mn):C.NC("diff.clipboard.copyChangedLineContent.label","Copy changed line ({0})",Qt.originalStartLineNumber+Mn)),In),autoSelectFirstItem:!0})};this._register(d.mu(this._diffActions,"mousedown",jn=>{const{top:Ii,height:ci}=d.i(this._diffActions),oi=Math.floor(An/3);jn.preventDefault(),ai(jn.posx,Ii+ci+oi)})),this._register(dt.onMouseMove(jn=>{jn.target.type===8||jn.target.type===5?jn.target.detail.viewZoneId===this._viewZoneId?(this.visibility=!0,Mn=this._updateLightBulbPosition(this._marginDomNode,jn.event.browserEvent.y,An)):this.visibility=!1:this.visibility=!1})),this._register(dt.onMouseDown(jn=>{!jn.event.rightButton||(jn.target.type===8||jn.target.type===5)&&jn.target.detail.viewZoneId===this._viewZoneId&&(jn.event.preventDefault(),Mn=this._updateLightBulbPosition(this._marginDomNode,jn.event.browserEvent.y,An),ai(jn.event.posx,jn.event.posy+An))}))}get visibility(){return this._visibility}set visibility(Ve){this._visibility!==Ve&&(this._visibility=Ve,Ve?this._diffActions.style.visibility="visible":this._diffActions.style.visibility="hidden")}_updateLightBulbPosition(Ve,Ce,dt){const{top:Qt}=d.i(Ve),en=Ce-Qt,vn=Math.floor(en/dt),An=vn*dt;if(this._diffActions.style.top=`${An}px`,this.diff.viewLineCounts){let On=0;for(let In=0;In<this.diff.viewLineCounts.length;In++)if(On+=this.diff.viewLineCounts[In],vn<On)return In}return vn}}var Se=l(61022),Ee=l(708),Be=l(4061),Xe=l(26486),Pt=l(62014),jt=l(26687),pn=function(dn,Ve,Ce,dt){var Qt=arguments.length,en=Qt<3?Ve:dt===null?dt=Object.getOwnPropertyDescriptor(Ve,Ce):dt,vn;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")en=Reflect.decorate(dn,Ve,Ce,dt);else for(var An=dn.length-1;An>=0;An--)(vn=dn[An])&&(en=(Qt<3?vn(en):Qt>3?vn(Ve,Ce,en):vn(Ve,Ce))||en);return Qt>3&&en&&Object.defineProperty(Ve,Ce,en),en},at=function(dn,Ve){return function(Ce,dt){Ve(Ce,dt,dn)}},Mt;class Gt{constructor(Ve,Ce){this._contextMenuService=Ve,this._clipboardService=Ce,this._zones=[],this._inlineDiffMargins=[],this._zonesMap={},this._decorations=[]}getForeignViewZones(Ve){return Ve.filter(Ce=>!this._zonesMap[String(Ce.id)])}clean(Ve){this._zones.length>0&&Ve.changeViewZones(Ce=>{for(const dt of this._zones)Ce.removeZone(dt)}),this._zones=[],this._zonesMap={},Ve.changeDecorations(Ce=>{this._decorations=Ce.deltaDecorations(this._decorations,[])})}apply(Ve,Ce,dt,Qt){const en=Qt?S.Z.capture(Ve):null;Ve.changeViewZones(vn=>{var An;for(const On of this._zones)vn.removeZone(On);for(const On of this._inlineDiffMargins)On.dispose();this._zones=[],this._zonesMap={},this._inlineDiffMargins=[];for(let On=0,In=dt.zones.length;On<In;On++){const Sn=dt.zones[On];Sn.suppressMouseDown=!0;const Mn=vn.addZone(Sn);this._zones.push(Mn),this._zonesMap[String(Mn)]=!0,dt.zones[On].diff&&Sn.marginDomNode&&(Sn.suppressMouseDown=!1,((An=dt.zones[On].diff)===null||An===void 0?void 0:An.originalModel.getValueLength())!==0&&this._inlineDiffMargins.push(new Re(Mn,Sn.marginDomNode,Ve,dt.zones[On].diff,this._contextMenuService,this._clipboardService)))}}),en==null||en.restore(Ve),Ve.changeDecorations(vn=>{this._decorations=vn.deltaDecorations(this._decorations,dt.decorations)}),Ce==null||Ce.setZones(dt.overviewZones)}}let _n=0;const Rn=(0,ge.q5)("diff-insert",de.lA.add,C.NC("diffInsertIcon","Line decoration for inserts in the diff editor.")),Wn=(0,ge.q5)("diff-remove",de.lA.remove,C.NC("diffRemoveIcon","Line decoration for removals in the diff editor.")),wn=(Mt=window.trustedTypes)===null||Mt===void 0?void 0:Mt.createPolicy("diffEditorWidget",{createHTML:dn=>dn});let je=class Or extends A.JT{constructor(Ve,Ce,dt,Qt,en,vn,An,On,In,Sn,Mn,Bn){super(),this._editorProgressService=Bn,this._onDidDispose=this._register(new P.Q5),this.onDidDispose=this._onDidDispose.event,this._onDidUpdateDiff=this._register(new P.Q5),this.onDidUpdateDiff=this._onDidUpdateDiff.event,this._onDidContentSizeChange=this._register(new P.Q5),this._lastOriginalWarning=null,this._lastModifiedWarning=null,this._editorWorkerService=en,this._codeEditorService=On,this._contextKeyService=this._register(vn.createScoped(Ve)),this._instantiationService=An.createChild(new Et.y([K.i6,this._contextKeyService])),this._contextKeyService.createKey("isInDiffEditor",!0),this._themeService=In,this._notificationService=Sn,this._id=++_n,this._state=0,this._updatingDiffProgress=null,this._domElement=Ve,Ce=Ce||{},this._options=di(Ce,{enableSplitViewResizing:!0,renderSideBySide:!0,renderMarginRevertIcon:!0,maxComputationTime:5e3,maxFileSize:50,ignoreTrimWhitespace:!0,renderIndicators:!0,originalEditable:!1,diffCodeLens:!1,renderOverviewRuler:!0,diffWordWrap:"inherit"}),typeof Ce.isInEmbeddedEditor!="undefined"?this._contextKeyService.createKey("isInEmbeddedDiffEditor",Ce.isInEmbeddedEditor):this._contextKeyService.createKey("isInEmbeddedDiffEditor",!1),this._updateDecorationsRunner=this._register(new z.pY(()=>this._updateDecorations(),0)),this._containerDomElement=document.createElement("div"),this._containerDomElement.className=Or._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide),this._containerDomElement.style.position="relative",this._containerDomElement.style.height="100%",this._domElement.appendChild(this._containerDomElement),this._overviewViewportDomElement=(0,W.X)(document.createElement("div")),this._overviewViewportDomElement.setClassName("diffViewport"),this._overviewViewportDomElement.setPosition("absolute"),this._overviewDomElement=document.createElement("div"),this._overviewDomElement.className="diffOverview",this._overviewDomElement.style.position="absolute",this._overviewDomElement.appendChild(this._overviewViewportDomElement.domNode),this._register(d.mu(this._overviewDomElement,d.tw.POINTER_DOWN,ai=>{this._modifiedEditor.delegateVerticalScrollbarPointerDown(ai)})),this._options.renderOverviewRuler&&this._containerDomElement.appendChild(this._overviewDomElement),this._originalDomNode=document.createElement("div"),this._originalDomNode.className="editor original",this._originalDomNode.style.position="absolute",this._originalDomNode.style.height="100%",this._containerDomElement.appendChild(this._originalDomNode),this._modifiedDomNode=document.createElement("div"),this._modifiedDomNode.className="editor modified",this._modifiedDomNode.style.position="absolute",this._modifiedDomNode.style.height="100%",this._containerDomElement.appendChild(this._modifiedDomNode),this._beginUpdateDecorationsTimeout=-1,this._currentlyChangingViewZones=!1,this._diffComputationToken=0,this._originalEditorState=new Gt(Mn,Qt),this._modifiedEditorState=new Gt(Mn,Qt),this._isVisible=!0,this._isHandlingScrollEvent=!1,this._elementSizeObserver=this._register(new Xe.I(this._containerDomElement,Ce.dimension)),this._register(this._elementSizeObserver.onDidChange(()=>this._onDidContainerSizeChanged())),Ce.automaticLayout&&this._elementSizeObserver.startObserving(),this._diffComputationResult=null,this._originalEditor=this._createLeftHandSideEditor(Ce,dt.originalEditor||{}),this._modifiedEditor=this._createRightHandSideEditor(Ce,dt.modifiedEditor||{}),this._originalOverviewRuler=null,this._modifiedOverviewRuler=null,this._reviewPane=An.createInstance(H,this),this._containerDomElement.appendChild(this._reviewPane.domNode.domNode),this._containerDomElement.appendChild(this._reviewPane.shadow.domNode),this._containerDomElement.appendChild(this._reviewPane.actionBarContainer.domNode),this._options.renderSideBySide?this._setStrategy(new ye(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Wt(this._createDataSource(),this._options.enableSplitViewResizing)),this._register(In.onDidColorThemeChange(ai=>{this._strategy&&this._strategy.applyColors(ai)&&this._updateDecorationsRunner.schedule(),this._containerDomElement.className=Or._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)}));const Jn=D.Uc.getDiffEditorContributions();for(const ai of Jn)try{this._register(An.createInstance(ai.ctor,this))}catch(jn){(0,Ee.dL)(jn)}this._codeEditorService.addDiffEditor(this)}_setState(Ve){this._state!==Ve&&(this._state=Ve,this._updatingDiffProgress&&(this._updatingDiffProgress.done(),this._updatingDiffProgress=null),this._state===1&&(this._updatingDiffProgress=this._editorProgressService.show(!0,1e3)))}diffReviewNext(){this._reviewPane.next()}diffReviewPrev(){this._reviewPane.prev()}static _getClassName(Ve,Ce){let dt="monaco-diff-editor monaco-editor-background ";return Ce&&(dt+="side-by-side "),dt+=(0,te.m6)(Ve.type),dt}_disposeOverviewRulers(){this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose(),this._originalOverviewRuler=null),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose(),this._modifiedOverviewRuler=null)}_createOverviewRulers(){!this._options.renderOverviewRuler||(j.ok(!this._originalOverviewRuler&&!this._modifiedOverviewRuler),this._originalEditor.hasModel()&&(this._originalOverviewRuler=this._originalEditor.createOverviewRuler("original diffOverviewRuler"),this._overviewDomElement.appendChild(this._originalOverviewRuler.getDomNode())),this._modifiedEditor.hasModel()&&(this._modifiedOverviewRuler=this._modifiedEditor.createOverviewRuler("modified diffOverviewRuler"),this._overviewDomElement.appendChild(this._modifiedOverviewRuler.getDomNode())),this._layoutOverviewRulers())}_createLeftHandSideEditor(Ve,Ce){const dt=this._createInnerEditor(this._instantiationService,this._originalDomNode,this._adjustOptionsForLeftHandSide(Ve),Ce);this._register(dt.onDidScrollChange(en=>{this._isHandlingScrollEvent||!en.scrollTopChanged&&!en.scrollLeftChanged&&!en.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._modifiedEditor.setScrollPosition({scrollLeft:en.scrollLeft,scrollTop:en.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(dt.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(dt.onDidChangeConfiguration(en=>{!dt.getModel()||(en.hasChanged(46)&&this._updateDecorationsRunner.schedule(),en.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(dt.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(dt.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()}));const Qt=this._contextKeyService.createKey("isInDiffLeftEditor",dt.hasWidgetFocus());return this._register(dt.onDidFocusEditorWidget(()=>Qt.set(!0))),this._register(dt.onDidBlurEditorWidget(()=>Qt.set(!1))),this._register(dt.onDidContentSizeChange(en=>{const vn=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Or.ONE_OVERVIEW_WIDTH,An=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:An,contentWidth:vn,contentHeightChanged:en.contentHeightChanged,contentWidthChanged:en.contentWidthChanged})})),dt}_createRightHandSideEditor(Ve,Ce){const dt=this._createInnerEditor(this._instantiationService,this._modifiedDomNode,this._adjustOptionsForRightHandSide(Ve),Ce);this._register(dt.onDidScrollChange(en=>{this._isHandlingScrollEvent||!en.scrollTopChanged&&!en.scrollLeftChanged&&!en.scrollHeightChanged||(this._isHandlingScrollEvent=!0,this._originalEditor.setScrollPosition({scrollLeft:en.scrollLeft,scrollTop:en.scrollTop}),this._isHandlingScrollEvent=!1,this._layoutOverviewViewport())})),this._register(dt.onDidChangeViewZones(()=>{this._onViewZonesChanged()})),this._register(dt.onDidChangeConfiguration(en=>{!dt.getModel()||(en.hasChanged(46)&&this._updateDecorationsRunner.schedule(),en.hasChanged(134)&&(this._updateDecorationsRunner.cancel(),this._updateDecorations()))})),this._register(dt.onDidChangeHiddenAreas(()=>{this._updateDecorationsRunner.cancel(),this._updateDecorations()})),this._register(dt.onDidChangeModelContent(()=>{this._isVisible&&this._beginUpdateDecorationsSoon()})),this._register(dt.onDidChangeModelOptions(en=>{en.tabSize&&this._updateDecorationsRunner.schedule()}));const Qt=this._contextKeyService.createKey("isInDiffRightEditor",dt.hasWidgetFocus());return this._register(dt.onDidFocusEditorWidget(()=>Qt.set(!0))),this._register(dt.onDidBlurEditorWidget(()=>Qt.set(!1))),this._register(dt.onDidContentSizeChange(en=>{const vn=this._originalEditor.getContentWidth()+this._modifiedEditor.getContentWidth()+Or.ONE_OVERVIEW_WIDTH,An=Math.max(this._modifiedEditor.getContentHeight(),this._originalEditor.getContentHeight());this._onDidContentSizeChange.fire({contentHeight:An,contentWidth:vn,contentHeightChanged:en.contentHeightChanged,contentWidthChanged:en.contentWidthChanged})})),this._register(dt.onMouseDown(en=>{var vn,An;if(!en.event.rightButton&&en.target.position&&((vn=en.target.element)===null||vn===void 0?void 0:vn.className.includes("arrow-revert-change"))){const On=en.target.position.lineNumber,In=(An=this._diffComputationResult)===null||An===void 0?void 0:An.changes.find(Sn=>Sn.modifiedStartLineNumber===On-1||Sn.modifiedStartLineNumber===On);In&&this.revertChange(In),en.event.stopPropagation(),this._updateDecorations();return}})),dt}revertChange(Ve){const Ce=this._modifiedEditor,dt=this._originalEditor.getModel(),Qt=this._modifiedEditor.getModel();if(!dt||!Qt||!Ce)return;const en=Ve.originalEndLineNumber>0?new ze.e(Ve.originalStartLineNumber,1,Ve.originalEndLineNumber,dt.getLineMaxColumn(Ve.originalEndLineNumber)):null,vn=en?dt.getValueInRange(en):null,An=Ve.modifiedEndLineNumber>0?new ze.e(Ve.modifiedStartLineNumber,1,Ve.modifiedEndLineNumber,Qt.getLineMaxColumn(Ve.modifiedEndLineNumber)):null,On=Qt.getEOL();if(Ve.originalEndLineNumber===0&&An){let In=An;Ve.modifiedStartLineNumber>1?In=An.setStartPosition(Ve.modifiedStartLineNumber-1,Qt.getLineMaxColumn(Ve.modifiedStartLineNumber-1)):Ve.modifiedEndLineNumber<Qt.getLineCount()&&(In=An.setEndPosition(Ve.modifiedEndLineNumber+1,1)),Ce.executeEdits("diffEditor",[{range:In,text:""}])}else if(Ve.modifiedEndLineNumber===0&&vn!==null){const In=Ve.modifiedStartLineNumber<Qt.getLineCount()?new E.L(Ve.modifiedStartLineNumber+1,1):new E.L(Ve.modifiedStartLineNumber,Qt.getLineMaxColumn(Ve.modifiedStartLineNumber));Ce.executeEdits("diffEditor",[{range:ze.e.fromPositions(In,In),text:Ve.modifiedStartLineNumber<Qt.getLineCount()?vn+On:On+vn}])}else An&&vn!==null&&Ce.executeEdits("diffEditor",[{range:An,text:vn}])}_createInnerEditor(Ve,Ce,dt,Qt){return Ve.createInstance(y.Gm,Ce,dt,Qt)}dispose(){this._codeEditorService.removeDiffEditor(this),this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._cleanViewZonesAndDecorations(),this._originalOverviewRuler&&(this._overviewDomElement.removeChild(this._originalOverviewRuler.getDomNode()),this._originalOverviewRuler.dispose()),this._modifiedOverviewRuler&&(this._overviewDomElement.removeChild(this._modifiedOverviewRuler.getDomNode()),this._modifiedOverviewRuler.dispose()),this._overviewDomElement.removeChild(this._overviewViewportDomElement.domNode),this._options.renderOverviewRuler&&this._containerDomElement.removeChild(this._overviewDomElement),this._containerDomElement.removeChild(this._originalDomNode),this._originalEditor.dispose(),this._containerDomElement.removeChild(this._modifiedDomNode),this._modifiedEditor.dispose(),this._strategy.dispose(),this._containerDomElement.removeChild(this._reviewPane.domNode.domNode),this._containerDomElement.removeChild(this._reviewPane.shadow.domNode),this._containerDomElement.removeChild(this._reviewPane.actionBarContainer.domNode),this._reviewPane.dispose(),this._domElement.removeChild(this._containerDomElement),this._onDidDispose.fire(),super.dispose()}getId(){return this.getEditorType()+":"+this._id}getEditorType(){return Ze.g.IDiffEditor}getLineChanges(){return this._diffComputationResult?this._diffComputationResult.changes:null}getOriginalEditor(){return this._originalEditor}getModifiedEditor(){return this._modifiedEditor}updateOptions(Ve){const Ce=di(Ve,this._options),dt=Xn(this._options,Ce);this._options=Ce;const Qt=dt.ignoreTrimWhitespace||dt.renderIndicators||dt.renderMarginRevertIcon,en=this._isVisible&&(dt.maxComputationTime||dt.maxFileSize);Qt?this._beginUpdateDecorations():en&&this._beginUpdateDecorationsSoon(),this._modifiedEditor.updateOptions(this._adjustOptionsForRightHandSide(Ve)),this._originalEditor.updateOptions(this._adjustOptionsForLeftHandSide(Ve)),this._strategy.setEnableSplitViewResizing(this._options.enableSplitViewResizing),dt.renderSideBySide&&(this._options.renderSideBySide?this._setStrategy(new ye(this._createDataSource(),this._options.enableSplitViewResizing)):this._setStrategy(new Wt(this._createDataSource(),this._options.enableSplitViewResizing)),this._containerDomElement.className=Or._getClassName(this._themeService.getColorTheme(),this._options.renderSideBySide)),dt.renderOverviewRuler&&(this._options.renderOverviewRuler?this._containerDomElement.appendChild(this._overviewDomElement):this._containerDomElement.removeChild(this._overviewDomElement))}getModel(){return{original:this._originalEditor.getModel(),modified:this._modifiedEditor.getModel()}}setModel(Ve){if(Ve&&(!Ve.original||!Ve.modified))throw new Error(Ve.original?"DiffEditorWidget.setModel: Modified model is null":"DiffEditorWidget.setModel: Original model is null");this._cleanViewZonesAndDecorations(),this._disposeOverviewRulers(),this._originalEditor.setModel(Ve?Ve.original:null),this._modifiedEditor.setModel(Ve?Ve.modified:null),this._updateDecorationsRunner.cancel(),Ve&&(this._originalEditor.setScrollTop(0),this._modifiedEditor.setScrollTop(0)),this._diffComputationResult=null,this._diffComputationToken++,this._setState(0),Ve&&(this._createOverviewRulers(),this._beginUpdateDecorations()),this._layoutOverviewViewport()}getContainerDomNode(){return this._domElement}getVisibleColumnFromPosition(Ve){return this._modifiedEditor.getVisibleColumnFromPosition(Ve)}getPosition(){return this._modifiedEditor.getPosition()}setPosition(Ve,Ce="api"){this._modifiedEditor.setPosition(Ve,Ce)}revealLine(Ve,Ce=0){this._modifiedEditor.revealLine(Ve,Ce)}revealLineInCenter(Ve,Ce=0){this._modifiedEditor.revealLineInCenter(Ve,Ce)}revealLineInCenterIfOutsideViewport(Ve,Ce=0){this._modifiedEditor.revealLineInCenterIfOutsideViewport(Ve,Ce)}revealLineNearTop(Ve,Ce=0){this._modifiedEditor.revealLineNearTop(Ve,Ce)}revealPosition(Ve,Ce=0){this._modifiedEditor.revealPosition(Ve,Ce)}revealPositionInCenter(Ve,Ce=0){this._modifiedEditor.revealPositionInCenter(Ve,Ce)}revealPositionInCenterIfOutsideViewport(Ve,Ce=0){this._modifiedEditor.revealPositionInCenterIfOutsideViewport(Ve,Ce)}revealPositionNearTop(Ve,Ce=0){this._modifiedEditor.revealPositionNearTop(Ve,Ce)}getSelection(){return this._modifiedEditor.getSelection()}getSelections(){return this._modifiedEditor.getSelections()}setSelection(Ve,Ce="api"){this._modifiedEditor.setSelection(Ve,Ce)}setSelections(Ve,Ce="api"){this._modifiedEditor.setSelections(Ve,Ce)}revealLines(Ve,Ce,dt=0){this._modifiedEditor.revealLines(Ve,Ce,dt)}revealLinesInCenter(Ve,Ce,dt=0){this._modifiedEditor.revealLinesInCenter(Ve,Ce,dt)}revealLinesInCenterIfOutsideViewport(Ve,Ce,dt=0){this._modifiedEditor.revealLinesInCenterIfOutsideViewport(Ve,Ce,dt)}revealLinesNearTop(Ve,Ce,dt=0){this._modifiedEditor.revealLinesNearTop(Ve,Ce,dt)}revealRange(Ve,Ce=0,dt=!1,Qt=!0){this._modifiedEditor.revealRange(Ve,Ce,dt,Qt)}revealRangeInCenter(Ve,Ce=0){this._modifiedEditor.revealRangeInCenter(Ve,Ce)}revealRangeInCenterIfOutsideViewport(Ve,Ce=0){this._modifiedEditor.revealRangeInCenterIfOutsideViewport(Ve,Ce)}revealRangeNearTop(Ve,Ce=0){this._modifiedEditor.revealRangeNearTop(Ve,Ce)}revealRangeNearTopIfOutsideViewport(Ve,Ce=0){this._modifiedEditor.revealRangeNearTopIfOutsideViewport(Ve,Ce)}revealRangeAtTop(Ve,Ce=0){this._modifiedEditor.revealRangeAtTop(Ve,Ce)}getSupportedActions(){return this._modifiedEditor.getSupportedActions()}saveViewState(){const Ve=this._originalEditor.saveViewState(),Ce=this._modifiedEditor.saveViewState();return{original:Ve,modified:Ce}}restoreViewState(Ve){if(Ve&&Ve.original&&Ve.modified){const Ce=Ve;this._originalEditor.restoreViewState(Ce.original),this._modifiedEditor.restoreViewState(Ce.modified)}}layout(Ve){this._elementSizeObserver.observe(Ve)}focus(){this._modifiedEditor.focus()}hasTextFocus(){return this._originalEditor.hasTextFocus()||this._modifiedEditor.hasTextFocus()}trigger(Ve,Ce,dt){this._modifiedEditor.trigger(Ve,Ce,dt)}createDecorationsCollection(Ve){return this._modifiedEditor.createDecorationsCollection(Ve)}changeDecorations(Ve){return this._modifiedEditor.changeDecorations(Ve)}_onDidContainerSizeChanged(){this._doLayout()}_getReviewHeight(){return this._reviewPane.isVisible()?this._elementSizeObserver.getHeight():0}_layoutOverviewRulers(){if(!this._options.renderOverviewRuler||!this._originalOverviewRuler||!this._modifiedOverviewRuler)return;const Ve=this._elementSizeObserver.getHeight(),Ce=this._getReviewHeight(),dt=Or.ENTIRE_DIFF_OVERVIEW_WIDTH-2*Or.ONE_OVERVIEW_WIDTH;this._modifiedEditor.getLayoutInfo()&&(this._originalOverviewRuler.setLayout({top:0,width:Or.ONE_OVERVIEW_WIDTH,right:dt+Or.ONE_OVERVIEW_WIDTH,height:Ve-Ce}),this._modifiedOverviewRuler.setLayout({top:0,right:0,width:Or.ONE_OVERVIEW_WIDTH,height:Ve-Ce}))}_onViewZonesChanged(){this._currentlyChangingViewZones||this._updateDecorationsRunner.schedule()}_beginUpdateDecorationsSoon(){this._beginUpdateDecorationsTimeout!==-1&&(window.clearTimeout(this._beginUpdateDecorationsTimeout),this._beginUpdateDecorationsTimeout=-1),this._beginUpdateDecorationsTimeout=window.setTimeout(()=>this._beginUpdateDecorations(),Or.UPDATE_DIFF_DECORATIONS_DELAY)}static _equals(Ve,Ce){return!Ve&&!Ce?!0:!Ve||!Ce?!1:Ve.toString()===Ce.toString()}_beginUpdateDecorations(){this._beginUpdateDecorationsTimeout=-1;const Ve=this._originalEditor.getModel(),Ce=this._modifiedEditor.getModel();if(!Ve||!Ce)return;this._diffComputationToken++;const dt=this._diffComputationToken,Qt=this._options.maxFileSize*1024*1024,en=vn=>{const An=vn.getValueLength();return Qt===0||An<=Qt};if(!en(Ve)||!en(Ce)){(!Or._equals(Ve.uri,this._lastOriginalWarning)||!Or._equals(Ce.uri,this._lastModifiedWarning))&&(this._lastOriginalWarning=Ve.uri,this._lastModifiedWarning=Ce.uri,this._notificationService.warn(C.NC("diff.tooLarge","Cannot compare files because one file is too large.")));return}this._setState(1),this._editorWorkerService.computeDiff(Ve.uri,Ce.uri,this._options.ignoreTrimWhitespace,this._options.maxComputationTime).then(vn=>{dt===this._diffComputationToken&&Ve===this._originalEditor.getModel()&&Ce===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=vn,this._updateDecorationsRunner.schedule(),this._onDidUpdateDiff.fire())},vn=>{dt===this._diffComputationToken&&Ve===this._originalEditor.getModel()&&Ce===this._modifiedEditor.getModel()&&(this._setState(2),this._diffComputationResult=null,this._updateDecorationsRunner.schedule())})}_cleanViewZonesAndDecorations(){this._originalEditorState.clean(this._originalEditor),this._modifiedEditorState.clean(this._modifiedEditor)}_updateDecorations(){if(!this._originalEditor.getModel()||!this._modifiedEditor.getModel())return;const Ve=this._diffComputationResult?this._diffComputationResult.changes:[],Ce=this._originalEditorState.getForeignViewZones(this._originalEditor.getWhitespaces()),dt=this._modifiedEditorState.getForeignViewZones(this._modifiedEditor.getWhitespaces()),Qt=this._strategy.getEditorsDiffDecorations(Ve,this._options.ignoreTrimWhitespace,this._options.renderIndicators,this._options.renderMarginRevertIcon,Ce,dt);try{this._currentlyChangingViewZones=!0,this._originalEditorState.apply(this._originalEditor,this._originalOverviewRuler,Qt.original,!1),this._modifiedEditorState.apply(this._modifiedEditor,this._modifiedOverviewRuler,Qt.modified,!0)}finally{this._currentlyChangingViewZones=!1}}_adjustOptionsForSubEditor(Ve){const Ce=Object.assign({},Ve);return Ce.inDiffEditor=!0,Ce.automaticLayout=!1,Ce.scrollbar=Object.assign({},Ce.scrollbar||{}),Ce.scrollbar.vertical="visible",Ce.folding=!1,Ce.codeLens=this._options.diffCodeLens,Ce.fixedOverflowWidgets=!0,Ce.minimap=Object.assign({},Ce.minimap||{}),Ce.minimap.enabled=!1,Ce}_adjustOptionsForLeftHandSide(Ve){const Ce=this._adjustOptionsForSubEditor(Ve);return this._options.renderSideBySide?Ce.wordWrapOverride1=this._options.diffWordWrap:(Ce.wordWrapOverride1="off",Ce.wordWrapOverride2="off"),Ve.originalAriaLabel&&(Ce.ariaLabel=Ve.originalAriaLabel),Ce.readOnly=!this._options.originalEditable,Ce.dropIntoEditor={enabled:!Ce.readOnly},Ce.extraEditorClassName="original-in-monaco-diff-editor",Object.assign(Object.assign({},Ce),{dimension:{height:0,width:0}})}_adjustOptionsForRightHandSide(Ve){const Ce=this._adjustOptionsForSubEditor(Ve);return Ve.modifiedAriaLabel&&(Ce.ariaLabel=Ve.modifiedAriaLabel),Ce.wordWrapOverride1=this._options.diffWordWrap,Ce.revealHorizontalRightPadding=N.BH.revealHorizontalRightPadding.defaultValue+Or.ENTIRE_DIFF_OVERVIEW_WIDTH,Ce.scrollbar.verticalHasArrows=!1,Ce.extraEditorClassName="modified-in-monaco-diff-editor",Object.assign(Object.assign({},Ce),{dimension:{height:0,width:0}})}doLayout(){this._elementSizeObserver.observe(),this._doLayout()}_doLayout(){const Ve=this._elementSizeObserver.getWidth(),Ce=this._elementSizeObserver.getHeight(),dt=this._getReviewHeight(),Qt=this._strategy.layout();this._originalDomNode.style.width=Qt+"px",this._originalDomNode.style.left="0px",this._modifiedDomNode.style.width=Ve-Qt+"px",this._modifiedDomNode.style.left=Qt+"px",this._overviewDomElement.style.top="0px",this._overviewDomElement.style.height=Ce-dt+"px",this._overviewDomElement.style.width=Or.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewDomElement.style.left=Ve-Or.ENTIRE_DIFF_OVERVIEW_WIDTH+"px",this._overviewViewportDomElement.setWidth(Or.ENTIRE_DIFF_OVERVIEW_WIDTH),this._overviewViewportDomElement.setHeight(30),this._originalEditor.layout({width:Qt,height:Ce-dt}),this._modifiedEditor.layout({width:Ve-Qt-(this._options.renderOverviewRuler?Or.ENTIRE_DIFF_OVERVIEW_WIDTH:0),height:Ce-dt}),(this._originalOverviewRuler||this._modifiedOverviewRuler)&&this._layoutOverviewRulers(),this._reviewPane.layout(Ce-dt,Ve,dt),this._layoutOverviewViewport()}_layoutOverviewViewport(){const Ve=this._computeOverviewViewport();Ve?(this._overviewViewportDomElement.setTop(Ve.top),this._overviewViewportDomElement.setHeight(Ve.height)):(this._overviewViewportDomElement.setTop(0),this._overviewViewportDomElement.setHeight(0))}_computeOverviewViewport(){const Ve=this._modifiedEditor.getLayoutInfo();if(!Ve)return null;const Ce=this._modifiedEditor.getScrollTop(),dt=this._modifiedEditor.getScrollHeight(),Qt=Math.max(0,Ve.height),en=Math.max(0,Qt-2*0),vn=dt>0?en/dt:0,An=Math.max(0,Math.floor(Ve.height*vn)),On=Math.floor(Ce*vn);return{height:An,top:On}}_createDataSource(){return{getWidth:()=>this._elementSizeObserver.getWidth(),getHeight:()=>this._elementSizeObserver.getHeight()-this._getReviewHeight(),getOptions:()=>({renderOverviewRuler:this._options.renderOverviewRuler}),getContainerDomNode:()=>this._containerDomElement,relayoutEditors:()=>{this._doLayout()},getOriginalEditor:()=>this._originalEditor,getModifiedEditor:()=>this._modifiedEditor}}_setStrategy(Ve){this._strategy&&this._strategy.dispose(),this._strategy=Ve,Ve.applyColors(this._themeService.getColorTheme()),this._diffComputationResult&&this._updateDecorations(),this._doLayout()}_getLineChangeAtOrBeforeLineNumber(Ve,Ce){const dt=this._diffComputationResult?this._diffComputationResult.changes:[];if(dt.length===0||Ve<Ce(dt[0]))return null;let Qt=0,en=dt.length-1;for(;Qt<en;){const vn=Math.floor((Qt+en)/2),An=Ce(dt[vn]),On=vn+1<=en?Ce(dt[vn+1]):1073741824;Ve<An?en=vn-1:Ve>=On?Qt=vn+1:(Qt=vn,en=vn)}return dt[Qt]}_getEquivalentLineForOriginalLineNumber(Ve){const Ce=this._getLineChangeAtOrBeforeLineNumber(Ve,On=>On.originalStartLineNumber);if(!Ce)return Ve;const dt=Ce.originalStartLineNumber+(Ce.originalEndLineNumber>0?-1:0),Qt=Ce.modifiedStartLineNumber+(Ce.modifiedEndLineNumber>0?-1:0),en=Ce.originalEndLineNumber>0?Ce.originalEndLineNumber-Ce.originalStartLineNumber+1:0,vn=Ce.modifiedEndLineNumber>0?Ce.modifiedEndLineNumber-Ce.modifiedStartLineNumber+1:0,An=Ve-dt;return An<=en?Qt+Math.min(An,vn):Qt+vn-en+An}_getEquivalentLineForModifiedLineNumber(Ve){const Ce=this._getLineChangeAtOrBeforeLineNumber(Ve,On=>On.modifiedStartLineNumber);if(!Ce)return Ve;const dt=Ce.originalStartLineNumber+(Ce.originalEndLineNumber>0?-1:0),Qt=Ce.modifiedStartLineNumber+(Ce.modifiedEndLineNumber>0?-1:0),en=Ce.originalEndLineNumber>0?Ce.originalEndLineNumber-Ce.originalStartLineNumber+1:0,vn=Ce.modifiedEndLineNumber>0?Ce.modifiedEndLineNumber-Ce.modifiedStartLineNumber+1:0,An=Ve-Qt;return An<=vn?dt+Math.min(An,en):dt+en-vn+An}getDiffLineInformationForOriginal(Ve){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForOriginalLineNumber(Ve)}:null}getDiffLineInformationForModified(Ve){return this._diffComputationResult?{equivalentLineNumber:this._getEquivalentLineForModifiedLineNumber(Ve)}:null}};je.ONE_OVERVIEW_WIDTH=15,je.ENTIRE_DIFF_OVERVIEW_WIDTH=30,je.UPDATE_DIFF_DECORATIONS_DELAY=200,je=pn([at(3,Se.p),at(4,Fe.p),at(5,K.i6),at(6,Ot.TG),at(7,_.$),at(8,te.XE),at(9,Vt.lT),at(10,We.i),at(11,Be.ek)],je);class qn extends A.JT{constructor(Ve){super(),this._dataSource=Ve,this._insertColor=null,this._removeColor=null}applyColors(Ve){const Ce=Ve.getColor(Z.P6Y)||(Ve.getColor(Z.ypS)||Z.CzK).transparent(2),dt=Ve.getColor(Z.F9q)||(Ve.getColor(Z.P4M)||Z.keg).transparent(2),Qt=!Ce.equals(this._insertColor)||!dt.equals(this._removeColor);return this._insertColor=Ce,this._removeColor=dt,Qt}getEditorsDiffDecorations(Ve,Ce,dt,Qt,en,vn){vn=vn.sort((Sn,Mn)=>Sn.afterLineNumber-Mn.afterLineNumber),en=en.sort((Sn,Mn)=>Sn.afterLineNumber-Mn.afterLineNumber);const An=this._getViewZones(Ve,en,vn,dt),On=this._getOriginalEditorDecorations(An,Ve,Ce,dt),In=this._getModifiedEditorDecorations(An,Ve,Ce,dt,Qt);return{original:{decorations:On.decorations,overviewZones:On.overviewZones,zones:An.original},modified:{decorations:In.decorations,overviewZones:In.overviewZones,zones:An.modified}}}}class vt{constructor(Ve){this._source=Ve,this._index=-1,this.current=null,this.advance()}advance(){this._index++,this._index<this._source.length?this.current=this._source[this._index]:this.current=null}}class _e{constructor(Ve,Ce,dt,Qt,en){this._lineChanges=Ve,this._originalForeignVZ=Ce,this._modifiedForeignVZ=dt,this._originalEditor=Qt,this._modifiedEditor=en}static _getViewLineCount(Ve,Ce,dt){const Qt=Ve.getModel(),en=Ve._getViewModel();if(Qt&&en){const vn=_t(Qt,en,Ce,dt);return vn.endLineNumber-vn.startLineNumber+1}return dt-Ce+1}getViewZones(){const Ve=this._originalEditor.getOption(61),Ce=this._modifiedEditor.getOption(61),dt=this._originalEditor.getOption(134).wrappingColumn!==-1,Qt=this._modifiedEditor.getOption(134).wrappingColumn!==-1,en=dt||Qt,vn=this._originalEditor.getModel(),An=this._originalEditor._getViewModel().coordinatesConverter,On=this._modifiedEditor._getViewModel().coordinatesConverter,In={original:[],modified:[]};let Sn=0,Mn=0,Bn=0,Jn=0,ai=0,jn=0;const Ii=(vi,Si)=>vi.afterLineNumber-Si.afterLineNumber,ci=(vi,Si)=>{if(Si.domNode===null&&vi.length>0){const Ye=vi[vi.length-1];if(Ye.afterLineNumber===Si.afterLineNumber&&Ye.domNode===null){Ye.heightInLines+=Si.heightInLines;return}}vi.push(Si)},oi=new vt(this._modifiedForeignVZ),wi=new vt(this._originalForeignVZ);let Li=1,kn=1;for(let vi=0,Si=this._lineChanges.length;vi<=Si;vi++){const Ye=vi<Si?this._lineChanges[vi]:null;Ye!==null?(Bn=Ye.originalStartLineNumber+(Ye.originalEndLineNumber>0?-1:0),Jn=Ye.modifiedStartLineNumber+(Ye.modifiedEndLineNumber>0?-1:0),Mn=Ye.originalEndLineNumber>0?_e._getViewLineCount(this._originalEditor,Ye.originalStartLineNumber,Ye.originalEndLineNumber):0,Sn=Ye.modifiedEndLineNumber>0?_e._getViewLineCount(this._modifiedEditor,Ye.modifiedStartLineNumber,Ye.modifiedEndLineNumber):0,ai=Math.max(Ye.originalStartLineNumber,Ye.originalEndLineNumber),jn=Math.max(Ye.modifiedStartLineNumber,Ye.modifiedEndLineNumber)):(Bn+=1e7+Mn,Jn+=1e7+Sn,ai=Bn,jn=Jn);let Tt=[],nn=[];if(en){let Hn;Ye?Ye.originalEndLineNumber>0?Hn=Ye.originalStartLineNumber-Li:Hn=Ye.modifiedStartLineNumber-kn:Hn=vn.getLineCount()-Li+1;for(let Ci=0;Ci<Hn;Ci++){const qi=Li+Ci,ri=kn+Ci,ms=An.getModelLineViewLineCount(qi),fi=On.getModelLineViewLineCount(ri);ms<fi?Tt.push({afterLineNumber:qi,heightInLines:fi-ms,domNode:null,marginDomNode:null}):ms>fi&&nn.push({afterLineNumber:ri,heightInLines:ms-fi,domNode:null,marginDomNode:null})}Ye&&(Li=(Ye.originalEndLineNumber>0?Ye.originalEndLineNumber:Ye.originalStartLineNumber)+1,kn=(Ye.modifiedEndLineNumber>0?Ye.modifiedEndLineNumber:Ye.modifiedStartLineNumber)+1)}for(;oi.current&&oi.current.afterLineNumber<=jn;){let Hn;oi.current.afterLineNumber<=Jn?Hn=Bn-Jn+oi.current.afterLineNumber:Hn=ai;let Ci=null;Ye&&Ye.modifiedStartLineNumber<=oi.current.afterLineNumber&&oi.current.afterLineNumber<=Ye.modifiedEndLineNumber&&(Ci=this._createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion()),Tt.push({afterLineNumber:Hn,heightInLines:oi.current.height/Ce,domNode:null,marginDomNode:Ci}),oi.advance()}for(;wi.current&&wi.current.afterLineNumber<=ai;){let Hn;wi.current.afterLineNumber<=Bn?Hn=Jn-Bn+wi.current.afterLineNumber:Hn=jn,nn.push({afterLineNumber:Hn,heightInLines:wi.current.height/Ve,domNode:null}),wi.advance()}if(Ye!==null&&bn(Ye)){const Hn=this._produceOriginalFromDiff(Ye,Mn,Sn);Hn&&Tt.push(Hn)}if(Ye!==null&&ot(Ye)){const Hn=this._produceModifiedFromDiff(Ye,Mn,Sn);Hn&&nn.push(Hn)}let hn=0,Vn=0;for(Tt=Tt.sort(Ii),nn=nn.sort(Ii);hn<Tt.length&&Vn<nn.length;){const Hn=Tt[hn],Ci=nn[Vn],qi=Hn.afterLineNumber-Bn,ri=Ci.afterLineNumber-Jn;qi<ri?(ci(In.original,Hn),hn++):ri<qi?(ci(In.modified,Ci),Vn++):Hn.shouldNotShrink?(ci(In.original,Hn),hn++):Ci.shouldNotShrink?(ci(In.modified,Ci),Vn++):Hn.heightInLines>=Ci.heightInLines?(Hn.heightInLines-=Ci.heightInLines,Vn++):(Ci.heightInLines-=Hn.heightInLines,hn++)}for(;hn<Tt.length;)ci(In.original,Tt[hn]),hn++;for(;Vn<nn.length;)ci(In.modified,nn[Vn]),Vn++}return{original:_e._ensureDomNodes(In.original),modified:_e._ensureDomNodes(In.modified)}}static _ensureDomNodes(Ve){return Ve.map(Ce=>(Ce.domNode||(Ce.domNode=wt()),Ce))}}function ht(dn,Ve,Ce,dt,Qt){return{range:new ze.e(dn,Ve,Ce,dt),options:Qt}}const yt={arrowRevertChange:Ge.qx.register({description:"diff-editor-arrow-revert-change",glyphMarginClassName:"arrow-revert-change "+te.kS.asClassName(de.lA.arrowRight)}),charDelete:Ge.qx.register({description:"diff-editor-char-delete",className:"char-delete"}),charDeleteWholeLine:Ge.qx.register({description:"diff-editor-char-delete-whole-line",className:"char-delete",isWholeLine:!0}),charInsert:Ge.qx.register({description:"diff-editor-char-insert",className:"char-insert"}),charInsertWholeLine:Ge.qx.register({description:"diff-editor-char-insert-whole-line",className:"char-insert",isWholeLine:!0}),lineInsert:Ge.qx.register({description:"diff-editor-line-insert",className:"line-insert",marginClassName:"gutter-insert",isWholeLine:!0}),lineInsertWithSign:Ge.qx.register({description:"diff-editor-line-insert-with-sign",className:"line-insert",linesDecorationsClassName:"insert-sign "+te.kS.asClassName(Rn),marginClassName:"gutter-insert",isWholeLine:!0}),lineDelete:Ge.qx.register({description:"diff-editor-line-delete",className:"line-delete",marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteWithSign:Ge.qx.register({description:"diff-editor-line-delete-with-sign",className:"line-delete",linesDecorationsClassName:"delete-sign "+te.kS.asClassName(Wn),marginClassName:"gutter-delete",isWholeLine:!0}),lineDeleteMargin:Ge.qx.register({description:"diff-editor-line-delete-margin",marginClassName:"gutter-delete"})};class ye extends qn{constructor(Ve,Ce){super(Ve),this._disableSash=Ce===!1,this._sashRatio=null,this._sashPosition=null,this._startSashPosition=null,this._sash=this._register(new L.g(this._dataSource.getContainerDomNode(),this,{orientation:0})),this._disableSash&&(this._sash.state=0),this._sash.onDidStart(()=>this._onSashDragStart()),this._sash.onDidChange(dt=>this._onSashDrag(dt)),this._sash.onDidEnd(()=>this._onSashDragEnd()),this._sash.onDidReset(()=>this._onSashReset())}setEnableSplitViewResizing(Ve){const Ce=Ve===!1;this._disableSash!==Ce&&(this._disableSash=Ce,this._sash.state=this._disableSash?0:3)}layout(Ve=this._sashRatio){const dt=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?je.ENTIRE_DIFF_OVERVIEW_WIDTH:0);let Qt=Math.floor((Ve||.5)*dt);const en=Math.floor(.5*dt);return Qt=this._disableSash?en:Qt||en,dt>ye.MINIMUM_EDITOR_WIDTH*2?(Qt<ye.MINIMUM_EDITOR_WIDTH&&(Qt=ye.MINIMUM_EDITOR_WIDTH),Qt>dt-ye.MINIMUM_EDITOR_WIDTH&&(Qt=dt-ye.MINIMUM_EDITOR_WIDTH)):Qt=en,this._sashPosition!==Qt&&(this._sashPosition=Qt),this._sash.layout(),this._sashPosition}_onSashDragStart(){this._startSashPosition=this._sashPosition}_onSashDrag(Ve){const dt=this._dataSource.getWidth()-(this._dataSource.getOptions().renderOverviewRuler?je.ENTIRE_DIFF_OVERVIEW_WIDTH:0),Qt=this.layout((this._startSashPosition+(Ve.currentX-Ve.startX))/dt);this._sashRatio=Qt/dt,this._dataSource.relayoutEditors()}_onSashDragEnd(){this._sash.layout()}_onSashReset(){this._sashRatio=.5,this._dataSource.relayoutEditors(),this._sash.layout()}getVerticalSashTop(Ve){return 0}getVerticalSashLeft(Ve){return this._sashPosition}getVerticalSashHeight(Ve){return this._dataSource.getHeight()}_getViewZones(Ve,Ce,dt){const Qt=this._dataSource.getOriginalEditor(),en=this._dataSource.getModifiedEditor();return new qe(Ve,Ce,dt,Qt,en).getViewZones()}_getOriginalEditorDecorations(Ve,Ce,dt,Qt){const en=this._dataSource.getOriginalEditor(),vn=String(this._removeColor),An={decorations:[],overviewZones:[]},On=en.getModel(),In=en._getViewModel();for(const Sn of Ce)if(ot(Sn)){An.decorations.push({range:new ze.e(Sn.originalStartLineNumber,1,Sn.originalEndLineNumber,1073741824),options:Qt?yt.lineDeleteWithSign:yt.lineDelete}),(!bn(Sn)||!Sn.charChanges)&&An.decorations.push(ht(Sn.originalStartLineNumber,1,Sn.originalEndLineNumber,1073741824,yt.charDeleteWholeLine));const Mn=_t(On,In,Sn.originalStartLineNumber,Sn.originalEndLineNumber);if(An.overviewZones.push(new ct.EY(Mn.startLineNumber,Mn.endLineNumber,0,vn)),Sn.charChanges){for(const Bn of Sn.charChanges)if(kt(Bn))if(dt)for(let Jn=Bn.originalStartLineNumber;Jn<=Bn.originalEndLineNumber;Jn++){let ai,jn;Jn===Bn.originalStartLineNumber?ai=Bn.originalStartColumn:ai=On.getLineFirstNonWhitespaceColumn(Jn),Jn===Bn.originalEndLineNumber?jn=Bn.originalEndColumn:jn=On.getLineLastNonWhitespaceColumn(Jn),An.decorations.push(ht(Jn,ai,Jn,jn,yt.charDelete))}else An.decorations.push(ht(Bn.originalStartLineNumber,Bn.originalStartColumn,Bn.originalEndLineNumber,Bn.originalEndColumn,yt.charDelete))}}return An}_getModifiedEditorDecorations(Ve,Ce,dt,Qt,en){const vn=this._dataSource.getModifiedEditor(),An=String(this._insertColor),On={decorations:[],overviewZones:[]},In=vn.getModel(),Sn=vn._getViewModel();for(const Mn of Ce){if(en)if(Mn.modifiedEndLineNumber>0)On.decorations.push({range:new ze.e(Mn.modifiedStartLineNumber,1,Mn.modifiedStartLineNumber,1),options:yt.arrowRevertChange});else{const Bn=Ve.modified.find(Jn=>Jn.afterLineNumber===Mn.modifiedStartLineNumber);Bn&&(Bn.marginDomNode=ln())}if(bn(Mn)){On.decorations.push({range:new ze.e(Mn.modifiedStartLineNumber,1,Mn.modifiedEndLineNumber,1073741824),options:Qt?yt.lineInsertWithSign:yt.lineInsert}),(!ot(Mn)||!Mn.charChanges)&&On.decorations.push(ht(Mn.modifiedStartLineNumber,1,Mn.modifiedEndLineNumber,1073741824,yt.charInsertWholeLine));const Bn=_t(In,Sn,Mn.modifiedStartLineNumber,Mn.modifiedEndLineNumber);if(On.overviewZones.push(new ct.EY(Bn.startLineNumber,Bn.endLineNumber,0,An)),Mn.charChanges){for(const Jn of Mn.charChanges)if(Rt(Jn))if(dt)for(let ai=Jn.modifiedStartLineNumber;ai<=Jn.modifiedEndLineNumber;ai++){let jn,Ii;ai===Jn.modifiedStartLineNumber?jn=Jn.modifiedStartColumn:jn=In.getLineFirstNonWhitespaceColumn(ai),ai===Jn.modifiedEndLineNumber?Ii=Jn.modifiedEndColumn:Ii=In.getLineLastNonWhitespaceColumn(ai),On.decorations.push(ht(ai,jn,ai,Ii,yt.charInsert))}else On.decorations.push(ht(Jn.modifiedStartLineNumber,Jn.modifiedStartColumn,Jn.modifiedEndLineNumber,Jn.modifiedEndColumn,yt.charInsert))}}}return On}}ye.MINIMUM_EDITOR_WIDTH=100;class qe extends _e{constructor(Ve,Ce,dt,Qt,en){super(Ve,Ce,dt,Qt,en)}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){return null}_produceOriginalFromDiff(Ve,Ce,dt){return dt>Ce?{afterLineNumber:Math.max(Ve.originalStartLineNumber,Ve.originalEndLineNumber),heightInLines:dt-Ce,domNode:null}:null}_produceModifiedFromDiff(Ve,Ce,dt){return Ce>dt?{afterLineNumber:Math.max(Ve.modifiedStartLineNumber,Ve.modifiedEndLineNumber),heightInLines:Ce-dt,domNode:null}:null}}class Wt extends qn{constructor(Ve,Ce){super(Ve),this._decorationsLeft=Ve.getOriginalEditor().getLayoutInfo().decorationsLeft,this._register(Ve.getOriginalEditor().onDidLayoutChange(dt=>{this._decorationsLeft!==dt.decorationsLeft&&(this._decorationsLeft=dt.decorationsLeft,Ve.relayoutEditors())}))}setEnableSplitViewResizing(Ve){}_getViewZones(Ve,Ce,dt,Qt){const en=this._dataSource.getOriginalEditor(),vn=this._dataSource.getModifiedEditor();return new Xt(Ve,Ce,dt,en,vn,Qt).getViewZones()}_getOriginalEditorDecorations(Ve,Ce,dt,Qt){const en=String(this._removeColor),vn={decorations:[],overviewZones:[]},An=this._dataSource.getOriginalEditor(),On=An.getModel(),In=An._getViewModel();let Sn=0;for(const Mn of Ce)if(ot(Mn)){for(vn.decorations.push({range:new ze.e(Mn.originalStartLineNumber,1,Mn.originalEndLineNumber,1073741824),options:yt.lineDeleteMargin});Sn<Ve.modified.length;){const ai=Ve.modified[Sn];if(ai.diff&&ai.diff.originalStartLineNumber>=Mn.originalStartLineNumber)break;Sn++}let Bn=0;if(Sn<Ve.modified.length){const ai=Ve.modified[Sn];ai.diff&&ai.diff.originalStartLineNumber===Mn.originalStartLineNumber&&ai.diff.originalEndLineNumber===Mn.originalEndLineNumber&&ai.diff.modifiedStartLineNumber===Mn.modifiedStartLineNumber&&ai.diff.modifiedEndLineNumber===Mn.modifiedEndLineNumber&&(Bn=ai.heightInLines)}const Jn=_t(On,In,Mn.originalStartLineNumber,Mn.originalEndLineNumber);vn.overviewZones.push(new ct.EY(Jn.startLineNumber,Jn.endLineNumber,Bn,en))}return vn}_getModifiedEditorDecorations(Ve,Ce,dt,Qt,en){const vn=this._dataSource.getModifiedEditor(),An=String(this._insertColor),On={decorations:[],overviewZones:[]},In=vn.getModel(),Sn=vn._getViewModel();for(const Mn of Ce)if(bn(Mn)){On.decorations.push({range:new ze.e(Mn.modifiedStartLineNumber,1,Mn.modifiedEndLineNumber,1073741824),options:Qt?yt.lineInsertWithSign:yt.lineInsert});const Bn=_t(In,Sn,Mn.modifiedStartLineNumber,Mn.modifiedEndLineNumber);if(On.overviewZones.push(new ct.EY(Bn.startLineNumber,Bn.endLineNumber,0,An)),Mn.charChanges){for(const Jn of Mn.charChanges)if(Rt(Jn))if(dt)for(let ai=Jn.modifiedStartLineNumber;ai<=Jn.modifiedEndLineNumber;ai++){let jn,Ii;ai===Jn.modifiedStartLineNumber?jn=Jn.modifiedStartColumn:jn=In.getLineFirstNonWhitespaceColumn(ai),ai===Jn.modifiedEndLineNumber?Ii=Jn.modifiedEndColumn:Ii=In.getLineLastNonWhitespaceColumn(ai),On.decorations.push(ht(ai,jn,ai,Ii,yt.charInsert))}else On.decorations.push(ht(Jn.modifiedStartLineNumber,Jn.modifiedStartColumn,Jn.modifiedEndLineNumber,Jn.modifiedEndColumn,yt.charInsert))}else On.decorations.push(ht(Mn.modifiedStartLineNumber,1,Mn.modifiedEndLineNumber,1073741824,yt.charInsertWholeLine))}return On}layout(){return Math.max(5,this._decorationsLeft)}}class Xt extends _e{constructor(Ve,Ce,dt,Qt,en,vn){super(Ve,Ce,dt,Qt,en),this._originalModel=Qt.getModel(),this._renderIndicators=vn,this._pendingLineChange=[],this._pendingViewZones=[],this._lineBreaksComputer=this._modifiedEditor._getViewModel().createLineBreaksComputer()}getViewZones(){const Ve=super.getViewZones();return this._finalize(Ve),Ve}_createOriginalMarginDomNodeForModifiedForeignViewZoneInAddedRegion(){const Ve=document.createElement("div");return Ve.className="inline-added-margin-view-zone",Ve}_produceOriginalFromDiff(Ve,Ce,dt){const Qt=document.createElement("div");return Qt.className="inline-added-margin-view-zone",{afterLineNumber:Math.max(Ve.originalStartLineNumber,Ve.originalEndLineNumber),heightInLines:dt,domNode:document.createElement("div"),marginDomNode:Qt}}_produceModifiedFromDiff(Ve,Ce,dt){const Qt=document.createElement("div");Qt.className=`view-lines line-delete ${Pt.S}`;const en=document.createElement("div");en.className="inline-deleted-margin-view-zone";const vn={shouldNotShrink:!0,afterLineNumber:Ve.modifiedEndLineNumber===0?Ve.modifiedStartLineNumber:Ve.modifiedStartLineNumber-1,heightInLines:Ce,minWidthInPx:0,domNode:Qt,marginDomNode:en,diff:{originalStartLineNumber:Ve.originalStartLineNumber,originalEndLineNumber:Ve.originalEndLineNumber,modifiedStartLineNumber:Ve.modifiedStartLineNumber,modifiedEndLineNumber:Ve.modifiedEndLineNumber,originalModel:this._originalModel,viewLineCounts:null}};for(let An=Ve.originalStartLineNumber;An<=Ve.originalEndLineNumber;An++)this._lineBreaksComputer.addRequest(this._originalModel.getLineContent(An),null,null);return this._pendingLineChange.push(Ve),this._pendingViewZones.push(vn),vn}_finalize(Ve){const Ce=this._modifiedEditor.getOptions(),dt=this._modifiedEditor.getModel().getOptions().tabSize,Qt=Ce.get(46),en=Ce.get(29),vn=Qt.typicalHalfwidthCharacterWidth,An=Ce.get(95),On=this._originalModel.mightContainNonBasicASCII(),In=this._originalModel.mightContainRTL(),Sn=Ce.get(61),Bn=Ce.get(133).decorationsWidth,Jn=Ce.get(107),ai=Ce.get(90),jn=Ce.get(85),Ii=Ce.get(47),ci=this._lineBreaksComputer.finalize();let oi=0;for(let wi=0;wi<this._pendingLineChange.length;wi++){const Li=this._pendingLineChange[wi],kn=this._pendingViewZones[wi],vi=kn.domNode;(0,T.N)(vi,Qt);const Si=kn.marginDomNode;(0,T.N)(Si,Qt);const Ye=[];if(Li.charChanges)for(const ri of Li.charChanges)kt(ri)&&Ye.push(new M.$t(new ze.e(ri.originalStartLineNumber,ri.originalStartColumn,ri.originalEndLineNumber,ri.originalEndColumn),"char-delete",0));const Tt=Ye.length>0,nn=(0,Le.l$)(1e4);let hn=0,Vn=0,Hn=null;for(let ri=Li.originalStartLineNumber;ri<=Li.originalEndLineNumber;ri++){const ms=ri-Li.originalStartLineNumber,fi=this._originalModel.tokenization.getLineTokens(ri),_s=fi.getLineContent(),bi=ci[oi++],$i=ft.Kp.filter(Ye,ri,1,_s.length+1);if(bi){let Ei=0;for(const Es of bi.breakOffsets){const Ks=fi.sliceAndInflate(Ei,Es,0),gi=_s.substring(Ei,Es);hn=Math.max(hn,this._renderOriginalLine(Vn++,gi,Ks,ft.Kp.extractWrapped($i,Ei,Es),Tt,On,In,Qt,en,Sn,Bn,Jn,ai,jn,Ii,dt,nn,Si)),Ei=Es}for(Hn||(Hn=[]);Hn.length<ms;)Hn[Hn.length]=1;Hn[ms]=bi.breakOffsets.length,kn.heightInLines+=bi.breakOffsets.length-1;const Xi=document.createElement("div");Xi.className="gutter-delete",Ve.original.push({afterLineNumber:ri,afterColumn:0,heightInLines:bi.breakOffsets.length-1,domNode:wt(),marginDomNode:Xi})}else hn=Math.max(hn,this._renderOriginalLine(Vn++,_s,fi,$i,Tt,On,In,Qt,en,Sn,Bn,Jn,ai,jn,Ii,dt,nn,Si))}hn+=An;const Ci=nn.build(),qi=wn?wn.createHTML(Ci):Ci;if(vi.innerHTML=qi,kn.minWidthInPx=hn*vn,Hn){const ri=Li.originalEndLineNumber-Li.originalStartLineNumber;for(;Hn.length<=ri;)Hn[Hn.length]=1}kn.diff.viewLineCounts=Hn}Ve.original.sort((wi,Li)=>wi.afterLineNumber-Li.afterLineNumber)}_renderOriginalLine(Ve,Ce,dt,Qt,en,vn,An,On,In,Sn,Mn,Bn,Jn,ai,jn,Ii,ci,oi){ci.appendASCIIString('<div class="view-line'),en||ci.appendASCIIString(" char-delete"),ci.appendASCIIString('" style="top:'),ci.appendASCIIString(String(Ve*Sn)),ci.appendASCIIString('px;width:1000000px;">');const wi=M.wA.isBasicASCII(Ce,vn),Li=M.wA.containsRTL(Ce,wi,An),kn=(0,R.d1)(new R.IJ(On.isMonospace&&!In,On.canUseHalfwidthRightwardsArrow,Ce,!1,wi,Li,0,dt,Qt,Ii,0,On.spaceWidth,On.middotWidth,On.wsmiddotWidth,Bn,Jn,ai,jn!==N.n0.OFF,null),ci);if(ci.appendASCIIString("</div>"),this._renderIndicators){const vi=document.createElement("div");vi.className=`delete-sign ${te.kS.asClassName(Wn)}`,vi.setAttribute("style",`position:absolute;top:${Ve*Sn}px;width:${Mn}px;height:${Sn}px;right:0;`),oi.appendChild(vi)}return kn.characterMapping.getHorizontalOffset(kn.characterMapping.length)}}function mn(dn,Ve){return(0,N.NY)(dn,Ve,["off","on","inherit"])}function bn(dn){return dn.modifiedEndLineNumber>0}function ot(dn){return dn.originalEndLineNumber>0}function Rt(dn){return dn.modifiedStartLineNumber===dn.modifiedEndLineNumber?dn.modifiedEndColumn-dn.modifiedStartColumn>0:dn.modifiedEndLineNumber-dn.modifiedStartLineNumber>0}function kt(dn){return dn.originalStartLineNumber===dn.originalEndLineNumber?dn.originalEndColumn-dn.originalStartColumn>0:dn.originalEndLineNumber-dn.originalStartLineNumber>0}function wt(){const dn=document.createElement("div");return dn.className="diagonal-fill",dn}function ln(){const dn=document.createElement("div");return dn.className="arrow-revert-change "+te.kS.asClassName(de.lA.arrowRight),d.$("div",{},dn)}function _t(dn,Ve,Ce,dt){const Qt=dn.getLineCount();return Ce=Math.min(Qt,Math.max(1,Ce)),dt=Math.min(Qt,Math.max(1,dt)),Ve.coordinatesConverter.convertModelRangeToViewRange(new ze.e(Ce,dn.getLineMinColumn(Ce),dt,dn.getLineMaxColumn(dt)))}function di(dn,Ve){return{enableSplitViewResizing:(0,N.O7)(dn.enableSplitViewResizing,Ve.enableSplitViewResizing),renderSideBySide:(0,N.O7)(dn.renderSideBySide,Ve.renderSideBySide),renderMarginRevertIcon:(0,N.O7)(dn.renderMarginRevertIcon,Ve.renderMarginRevertIcon),maxComputationTime:(0,N.Zc)(dn.maxComputationTime,Ve.maxComputationTime,0,1073741824),maxFileSize:(0,N.Zc)(dn.maxFileSize,Ve.maxFileSize,0,1073741824),ignoreTrimWhitespace:(0,N.O7)(dn.ignoreTrimWhitespace,Ve.ignoreTrimWhitespace),renderIndicators:(0,N.O7)(dn.renderIndicators,Ve.renderIndicators),originalEditable:(0,N.O7)(dn.originalEditable,Ve.originalEditable),diffCodeLens:(0,N.O7)(dn.diffCodeLens,Ve.diffCodeLens),renderOverviewRuler:(0,N.O7)(dn.renderOverviewRuler,Ve.renderOverviewRuler),diffWordWrap:mn(dn.diffWordWrap,Ve.diffWordWrap)}}function Xn(dn,Ve){return{enableSplitViewResizing:dn.enableSplitViewResizing!==Ve.enableSplitViewResizing,renderSideBySide:dn.renderSideBySide!==Ve.renderSideBySide,renderMarginRevertIcon:dn.renderMarginRevertIcon!==Ve.renderMarginRevertIcon,maxComputationTime:dn.maxComputationTime!==Ve.maxComputationTime,maxFileSize:dn.maxFileSize!==Ve.maxFileSize,ignoreTrimWhitespace:dn.ignoreTrimWhitespace!==Ve.ignoreTrimWhitespace,renderIndicators:dn.renderIndicators!==Ve.renderIndicators,originalEditable:dn.originalEditable!==Ve.originalEditable,diffCodeLens:dn.diffCodeLens!==Ve.diffCodeLens,renderOverviewRuler:dn.renderOverviewRuler!==Ve.renderOverviewRuler,diffWordWrap:dn.diffWordWrap!==Ve.diffWordWrap}}(0,te.Ic)((dn,Ve)=>{const Ce=dn.getColor(Z.ypS);Ce&&Ve.addRule(`.monaco-editor .char-insert, .monaco-diff-editor .char-insert { background-color: ${Ce}; }`);const dt=dn.getColor(Z.hzo)||Ce;dt&&Ve.addRule(`.monaco-editor .line-insert, .monaco-diff-editor .line-insert { background-color: ${dt}; }`);const Qt=dn.getColor(Z.j51)||dt;Qt&&(Ve.addRule(`.monaco-editor .inline-added-margin-view-zone { background-color: ${Qt}; }`),Ve.addRule(`.monaco-editor .gutter-insert, .monaco-diff-editor .gutter-insert { background-color: ${Qt}; }`));const en=dn.getColor(Z.P4M);en&&Ve.addRule(`.monaco-editor .char-delete, .monaco-diff-editor .char-delete { background-color: ${en}; }`);const vn=dn.getColor(Z.xi6)||en;vn&&Ve.addRule(`.monaco-editor .line-delete, .monaco-diff-editor .line-delete { background-color: ${vn}; }`);const An=dn.getColor(Z.zOm)||vn;An&&(Ve.addRule(`.monaco-editor .inline-deleted-margin-view-zone { background-color: ${An}; }`),Ve.addRule(`.monaco-editor .gutter-delete, .monaco-diff-editor .gutter-delete { background-color: ${An}; }`));const On=dn.getColor(Z.XL$);On&&Ve.addRule(`.monaco-editor .line-insert, .monaco-editor .char-insert { border: 1px ${(0,jt.c3)(dn.type)?"dashed":"solid"} ${On}; }`);const In=dn.getColor(Z.mHy);In&&Ve.addRule(`.monaco-editor .line-delete, .monaco-editor .char-delete { border: 1px ${(0,jt.c3)(dn.type)?"dashed":"solid"} ${In}; }`);const Sn=dn.getColor(Z._wn);Sn&&Ve.addRule(`.monaco-diff-editor.side-by-side .editor.modified { box-shadow: -6px 0 5px -5px ${Sn}; }`);const Mn=dn.getColor(Z.LLc);Mn&&Ve.addRule(`.monaco-diff-editor.side-by-side .editor.modified { border-left: 1px solid ${Mn}; }`);const Bn=dn.getColor(Z.etL);Bn&&Ve.addRule(`
			.monaco-diff-editor .diffViewport {
				background: ${Bn};
			}
		`);const Jn=dn.getColor(Z.ABB);Jn&&Ve.addRule(`
			.monaco-diff-editor .diffViewport:hover {
				background: ${Jn};
			}
		`);const ai=dn.getColor(Z.ynu);ai&&Ve.addRule(`
			.monaco-diff-editor .diffViewport:active {
				background: ${ai};
			}
		`);const jn=dn.getColor(Z.L_t);Ve.addRule(`
	.monaco-editor .diagonal-fill {
		background-image: linear-gradient(
			-45deg,
			${jn} 12.5%,
			#0000 12.5%, #0000 50%,
			${jn} 50%, ${jn} 62.5%,
			#0000 62.5%, #0000 100%
		);
		background-size: 8px 8px;
	}
	`)})},53284:function(nt,xe,l){"use strict";l.d(xe,{F:function(){return P}});var C=l(15621),d=l(60218),j=l(94214),W=l(43299),L=l(14481);const z={followsCaret:!0,ignoreCharChanges:!0,alwaysRevealFirst:!0};class P extends j.JT{constructor(T,S={}){super(),this._onDidUpdate=this._register(new d.Q5),this._editor=T,this._options=W.jB(S,z,!1),this.disposed=!1,this.nextIdx=-1,this.ranges=[],this.ignoreSelectionChange=!1,this.revealFirst=Boolean(this._options.alwaysRevealFirst),this._register(this._editor.onDidDispose(()=>this.dispose())),this._register(this._editor.onDidUpdateDiff(()=>this._onDiffUpdated())),this._options.followsCaret&&this._register(this._editor.getModifiedEditor().onDidChangeCursorPosition(_=>{this.ignoreSelectionChange||(this.nextIdx=-1)})),this._options.alwaysRevealFirst&&this._register(this._editor.getModifiedEditor().onDidChangeModel(_=>{this.revealFirst=!0})),this._init()}_init(){this._editor.getLineChanges()}_onDiffUpdated(){this._init(),this._compute(this._editor.getLineChanges()),this.revealFirst&&this._editor.getLineChanges()!==null&&(this.revealFirst=!1,this.nextIdx=-1,this.next(1))}_compute(T){this.ranges=[],T&&T.forEach(S=>{!this._options.ignoreCharChanges&&S.charChanges?S.charChanges.forEach(_=>{this.ranges.push({rhs:!0,range:new L.e(_.modifiedStartLineNumber,_.modifiedStartColumn,_.modifiedEndLineNumber,_.modifiedEndColumn)})}):S.modifiedEndLineNumber===0?this.ranges.push({rhs:!0,range:new L.e(S.modifiedStartLineNumber,1,S.modifiedStartLineNumber+1,1)}):this.ranges.push({rhs:!0,range:new L.e(S.modifiedStartLineNumber,1,S.modifiedEndLineNumber+1,1)})}),this.ranges.sort((S,_)=>L.e.compareRangesUsingStarts(S.range,_.range)),this._onDidUpdate.fire(this)}_initIdx(T){let S=!1;const _=this._editor.getPosition();if(!_){this.nextIdx=0;return}for(let y=0,u=this.ranges.length;y<u&&!S;y++){const a=this.ranges[y].range;_.isBeforeOrEqual(a.getStartPosition())&&(this.nextIdx=y+(T?0:-1),S=!0)}S||(this.nextIdx=T?0:this.ranges.length-1),this.nextIdx<0&&(this.nextIdx=this.ranges.length-1)}_move(T,S){if(C.ok(!this.disposed,"Illegal State - diff navigator has been disposed"),!this.canNavigate())return;this.nextIdx===-1?this._initIdx(T):T?(this.nextIdx+=1,this.nextIdx>=this.ranges.length&&(this.nextIdx=0)):(this.nextIdx-=1,this.nextIdx<0&&(this.nextIdx=this.ranges.length-1));const _=this.ranges[this.nextIdx];this.ignoreSelectionChange=!0;try{const y=_.range.getStartPosition();this._editor.setPosition(y),this._editor.revealRangeInCenter(_.range,S)}finally{this.ignoreSelectionChange=!1}}canNavigate(){return this.ranges&&this.ranges.length>0}next(T=0){this._move(!0,T)}previous(T=0){this._move(!1,T)}dispose(){super.dispose(),this.ranges=[],this.disposed=!0}}},93297:function(nt,xe,l){"use strict";l.d(xe,{OY:function(){return j},Sj:function(){return W},T4:function(){return d},Uo:function(){return L},hP:function(){return z}});var C=l(17122);class d{constructor(A,T,S=!1){this._range=A,this._text=T,this.insertsAutoWhitespace=S}getEditOperations(A,T){T.addTrackedEditOperation(this._range,this._text)}computeCursorState(A,T){const _=T.getInverseEditOperations()[0].range;return C.Y.fromPositions(_.getEndPosition())}}class j{constructor(A,T){this._range=A,this._text=T}getEditOperations(A,T){T.addTrackedEditOperation(this._range,this._text)}computeCursorState(A,T){const _=T.getInverseEditOperations()[0].range;return C.Y.fromRange(_,0)}}class W{constructor(A,T,S=!1){this._range=A,this._text=T,this.insertsAutoWhitespace=S}getEditOperations(A,T){T.addTrackedEditOperation(this._range,this._text)}computeCursorState(A,T){const _=T.getInverseEditOperations()[0].range;return C.Y.fromPositions(_.getStartPosition())}}class L{constructor(A,T,S,_,y=!1){this._range=A,this._text=T,this._columnDeltaOffset=_,this._lineNumberDeltaOffset=S,this.insertsAutoWhitespace=y}getEditOperations(A,T){T.addTrackedEditOperation(this._range,this._text)}computeCursorState(A,T){const _=T.getInverseEditOperations()[0].range;return C.Y.fromPositions(_.getEndPosition().delta(this._lineNumberDeltaOffset,this._columnDeltaOffset))}}class z{constructor(A,T,S,_=!1){this._range=A,this._text=T,this._initialSelection=S,this._forceMoveMarkers=_,this._selectionId=null}getEditOperations(A,T){T.addTrackedEditOperation(this._range,this._text,this._forceMoveMarkers),this._selectionId=T.trackSelection(this._initialSelection)}computeCursorState(A,T){return T.getTrackedSelection(this._selectionId)}}},34621:function(nt,xe,l){"use strict";l.d(xe,{U:function(){return _}});var C=l(22297),d=l(72289),j=l(14481),W=l(17122),L=l(18467),z=l(13634),P=function(y,u,a,b){var D=arguments.length,N=D<3?u:b===null?b=Object.getOwnPropertyDescriptor(u,a):b,I;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")N=Reflect.decorate(y,u,a,b);else for(var E=y.length-1;E>=0;E--)(I=y[E])&&(N=(D<3?I(N):D>3?I(u,a,N):I(u,a))||N);return D>3&&N&&Object.defineProperty(u,a,N),N},A=function(y,u){return function(a,b){u(a,b,y)}};const T=Object.create(null);function S(y,u){if(u<=0)return"";T[y]||(T[y]=["",y]);const a=T[y];for(let b=a.length;b<=u;b++)a[b]=a[b-1]+y;return a[u]}let _=class L0{constructor(u,a,b){this._languageConfigurationService=b,this._opts=a,this._selection=u,this._selectionId=null,this._useLastEditRangeForCursorEndPosition=!1,this._selectionStartColumnStaysPut=!1}static unshiftIndent(u,a,b,D,N){const I=d.i.visibleColumnFromColumn(u,a,b);if(N){const E=S(" ",D),R=d.i.prevIndentTabStop(I,D)/D;return S(E,R)}else{const E="	",R=d.i.prevRenderTabStop(I,b)/b;return S(E,R)}}static shiftIndent(u,a,b,D,N){const I=d.i.visibleColumnFromColumn(u,a,b);if(N){const E=S(" ",D),R=d.i.nextIndentTabStop(I,D)/D;return S(E,R)}else{const E="	",R=d.i.nextRenderTabStop(I,b)/b;return S(E,R)}}_addEditOperation(u,a,b){this._useLastEditRangeForCursorEndPosition?u.addTrackedEditOperation(a,b):u.addEditOperation(a,b)}getEditOperations(u,a){const b=this._selection.startLineNumber;let D=this._selection.endLineNumber;this._selection.endColumn===1&&b!==D&&(D=D-1);const{tabSize:N,indentSize:I,insertSpaces:E}=this._opts,O=b===D;if(this._opts.useTabStops){this._selection.isEmpty()&&/^\s*$/.test(u.getLineContent(b))&&(this._useLastEditRangeForCursorEndPosition=!0);let R=0,M=0;for(let K=b;K<=D;K++,R=M){M=0;const Z=u.getLineContent(K);let te=C.LC(Z);if(this._opts.isUnshift&&(Z.length===0||te===0)||!O&&!this._opts.isUnshift&&Z.length===0)continue;if(te===-1&&(te=Z.length),K>1&&d.i.visibleColumnFromColumn(Z,te+1,N)%I!==0&&u.tokenization.isCheapToTokenize(K-1)){const le=(0,L.A)(this._opts.autoIndent,u,new j.e(K-1,u.getLineMaxColumn(K-1),K-1,u.getLineMaxColumn(K-1)),this._languageConfigurationService);if(le){if(M=R,le.appendText)for(let se=0,X=le.appendText.length;se<X&&M<I&&le.appendText.charCodeAt(se)===32;se++)M++;le.removeText&&(M=Math.max(0,M-le.removeText));for(let se=0;se<M&&!(te===0||Z.charCodeAt(te-1)!==32);se++)te--}}if(this._opts.isUnshift&&te===0)continue;let de;this._opts.isUnshift?de=L0.unshiftIndent(Z,te+1,N,I,E):de=L0.shiftIndent(Z,te+1,N,I,E),this._addEditOperation(a,new j.e(K,1,K,te+1),de),K===b&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn<=te+1)}}else{!this._opts.isUnshift&&this._selection.isEmpty()&&u.getLineLength(b)===0&&(this._useLastEditRangeForCursorEndPosition=!0);const R=E?S(" ",I):"	";for(let M=b;M<=D;M++){const K=u.getLineContent(M);let Z=C.LC(K);if(!(this._opts.isUnshift&&(K.length===0||Z===0))&&!(!O&&!this._opts.isUnshift&&K.length===0)&&(Z===-1&&(Z=K.length),!(this._opts.isUnshift&&Z===0)))if(this._opts.isUnshift){Z=Math.min(Z,I);for(let te=0;te<Z;te++)if(K.charCodeAt(te)===9){Z=te+1;break}this._addEditOperation(a,new j.e(M,1,M,Z+1),"")}else this._addEditOperation(a,new j.e(M,1,M,1),R),M===b&&!this._selection.isEmpty()&&(this._selectionStartColumnStaysPut=this._selection.startColumn===1)}}this._selectionId=a.trackSelection(this._selection)}computeCursorState(u,a){if(this._useLastEditRangeForCursorEndPosition){const D=a.getInverseEditOperations()[0];return new W.Y(D.range.endLineNumber,D.range.endColumn,D.range.endLineNumber,D.range.endColumn)}const b=a.getTrackedSelection(this._selectionId);if(this._selectionStartColumnStaysPut){const D=this._selection.startColumn;return b.startColumn<=D?b:b.getDirection()===0?new W.Y(b.startLineNumber,D,b.endLineNumber,b.endColumn):new W.Y(b.endLineNumber,b.endColumn,b.startLineNumber,D)}return b}};_=P([A(2,z.c_)],_)},35847:function(nt,xe,l){"use strict";l.d(xe,{Pe:function(){return y},ei:function(){return _},wk:function(){return z}});var C=l(24030),d=l(73209),j=l(83218),W=l(90410),L=l(14038);const z=Object.freeze({id:"editor",order:5,type:"object",title:j.NC("editorConfigurationTitle","Editor"),scope:5}),P=Object.assign(Object.assign({},z),{properties:{"editor.tabSize":{type:"number",default:d.D.tabSize,minimum:1,markdownDescription:j.NC("tabSize","The number of spaces a tab is equal to. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.insertSpaces":{type:"boolean",default:d.D.insertSpaces,markdownDescription:j.NC("insertSpaces","Insert spaces when pressing `Tab`. This setting is overridden based on the file contents when `#editor.detectIndentation#` is on.")},"editor.detectIndentation":{type:"boolean",default:d.D.detectIndentation,markdownDescription:j.NC("detectIndentation","Controls whether `#editor.tabSize#` and `#editor.insertSpaces#` will be automatically detected when a file is opened based on the file contents.")},"editor.trimAutoWhitespace":{type:"boolean",default:d.D.trimAutoWhitespace,description:j.NC("trimAutoWhitespace","Remove trailing auto inserted whitespace.")},"editor.largeFileOptimizations":{type:"boolean",default:d.D.largeFileOptimizations,description:j.NC("largeFileOptimizations","Special handling for large files to disable certain memory intensive features.")},"editor.wordBasedSuggestions":{type:"boolean",default:!0,description:j.NC("wordBasedSuggestions","Controls whether completions should be computed based on words in the document.")},"editor.wordBasedSuggestionsMode":{enum:["currentDocument","matchingDocuments","allDocuments"],default:"matchingDocuments",enumDescriptions:[j.NC("wordBasedSuggestionsMode.currentDocument","Only suggest words from the active document."),j.NC("wordBasedSuggestionsMode.matchingDocuments","Suggest words from all open documents of the same language."),j.NC("wordBasedSuggestionsMode.allDocuments","Suggest words from all open documents.")],description:j.NC("wordBasedSuggestionsMode","Controls from which documents word based completions are computed.")},"editor.semanticHighlighting.enabled":{enum:[!0,!1,"configuredByTheme"],enumDescriptions:[j.NC("semanticHighlighting.true","Semantic highlighting enabled for all color themes."),j.NC("semanticHighlighting.false","Semantic highlighting disabled for all color themes."),j.NC("semanticHighlighting.configuredByTheme","Semantic highlighting is configured by the current color theme's `semanticHighlighting` setting.")],default:"configuredByTheme",description:j.NC("semanticHighlighting.enabled","Controls whether the semanticHighlighting is shown for the languages that support it.")},"editor.stablePeek":{type:"boolean",default:!1,markdownDescription:j.NC("stablePeek","Keep peek editors open even when double clicking their content or when hitting `Escape`.")},"editor.maxTokenizationLineLength":{type:"integer",default:2e4,description:j.NC("maxTokenizationLineLength","Lines above this length will not be tokenized for performance reasons")},"editor.language.brackets":{type:["array","null"],default:null,description:j.NC("schema.brackets","Defines the bracket symbols that increase or decrease the indentation."),items:{type:"array",items:[{type:"string",description:j.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:j.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"editor.language.colorizedBracketPairs":{type:["array","null"],default:null,description:j.NC("schema.colorizedBracketPairs","Defines the bracket pairs that are colorized by their nesting level if bracket pair colorization is enabled."),items:{type:"array",items:[{type:"string",description:j.NC("schema.openBracket","The opening bracket character or string sequence.")},{type:"string",description:j.NC("schema.closeBracket","The closing bracket character or string sequence.")}]}},"diffEditor.maxComputationTime":{type:"number",default:5e3,description:j.NC("maxComputationTime","Timeout in milliseconds after which diff computation is cancelled. Use 0 for no timeout.")},"diffEditor.maxFileSize":{type:"number",default:50,description:j.NC("maxFileSize","Maximum file size in MB for which to compute diffs. Use 0 for no limit.")},"diffEditor.renderSideBySide":{type:"boolean",default:!0,description:j.NC("sideBySide","Controls whether the diff editor shows the diff side by side or inline.")},"diffEditor.renderMarginRevertIcon":{type:"boolean",default:!0,description:j.NC("renderMarginRevertIcon","When enabled, the diff editor shows arrows in its glyph margin to revert changes.")},"diffEditor.ignoreTrimWhitespace":{type:"boolean",default:!0,description:j.NC("ignoreTrimWhitespace","When enabled, the diff editor ignores changes in leading or trailing whitespace.")},"diffEditor.renderIndicators":{type:"boolean",default:!0,description:j.NC("renderIndicators","Controls whether the diff editor shows +/- indicators for added/removed changes.")},"diffEditor.codeLens":{type:"boolean",default:!1,description:j.NC("codeLens","Controls whether the editor shows CodeLens.")},"diffEditor.wordWrap":{type:"string",enum:["off","on","inherit"],default:"inherit",markdownEnumDescriptions:[j.NC("wordWrap.off","Lines will never wrap."),j.NC("wordWrap.on","Lines will wrap at the viewport width."),j.NC("wordWrap.inherit","Lines will wrap according to the `#editor.wordWrap#` setting.")]}}});function A(a){return typeof a.type!="undefined"||typeof a.anyOf!="undefined"}for(const a of C.Bc){const b=a.schema;if(typeof b!="undefined")if(A(b))P.properties[`editor.${a.name}`]=b;else for(const D in b)Object.hasOwnProperty.call(b,D)&&(P.properties[D]=b[D])}let T=null;function S(){return T===null&&(T=Object.create(null),Object.keys(P.properties).forEach(a=>{T[a]=!0})),T}function _(a){return S()[`editor.${a}`]||!1}function y(a){return S()[`diffEditor.${a}`]||!1}L.B.as(W.IP.Configuration).registerConfiguration(P)},24030:function(nt,xe,l){"use strict";l.d(xe,{$J:function(){return Et},Av:function(){return Re},BH:function(){return ht},Bb:function(){return A},Bc:function(){return vt},LJ:function(){return T},NY:function(){return R},O7:function(){return b},Zc:function(){return N},d2:function(){return le},gk:function(){return H},hL:function(){return qn},n0:function(){return U},qt:function(){return Se},rk:function(){return _},y0:function(){return P}});var C=l(83218),d=l(94976),j=l(27619),W=l(84553),L=l(43299),z=l(73209);const P=8;class A{constructor(ye){this._values=ye}hasChanged(ye){return this._values[ye]}}class T{constructor(){this.stableMinimapLayoutInput=null,this.stableFitMaxMinimapScale=0,this.stableFitRemainingWidth=0}}class S{constructor(ye,qe,Wt,Xt){this.id=ye,this.name=qe,this.defaultValue=Wt,this.schema=Xt}applyUpdate(ye,qe){return y(ye,qe)}compute(ye,qe,Wt){return Wt}}class _{constructor(ye,qe){this.newValue=ye,this.didChange=qe}}function y(yt,ye){if(typeof yt!="object"||typeof ye!="object"||!yt||!ye)return new _(ye,yt!==ye);if(Array.isArray(yt)||Array.isArray(ye)){const Wt=Array.isArray(yt)&&Array.isArray(ye)&&W.fS(yt,ye);return new _(ye,!Wt)}let qe=!1;for(const Wt in ye)if(ye.hasOwnProperty(Wt)){const Xt=y(yt[Wt],ye[Wt]);Xt.didChange&&(yt[Wt]=Xt.newValue,qe=!0)}return new _(yt,qe)}class u{constructor(ye){this.schema=void 0,this.id=ye,this.name="_never_",this.defaultValue=void 0}applyUpdate(ye,qe){return y(ye,qe)}validate(ye){return this.defaultValue}}class a{constructor(ye,qe,Wt,Xt){this.id=ye,this.name=qe,this.defaultValue=Wt,this.schema=Xt}applyUpdate(ye,qe){return y(ye,qe)}validate(ye){return typeof ye=="undefined"?this.defaultValue:ye}compute(ye,qe,Wt){return Wt}}function b(yt,ye){return typeof yt=="undefined"?ye:yt==="false"?!1:Boolean(yt)}class D extends a{constructor(ye,qe,Wt,Xt=void 0){typeof Xt!="undefined"&&(Xt.type="boolean",Xt.default=Wt),super(ye,qe,Wt,Xt)}validate(ye){return b(ye,this.defaultValue)}}function N(yt,ye,qe,Wt){if(typeof yt=="undefined")return ye;let Xt=parseInt(yt,10);return isNaN(Xt)?ye:(Xt=Math.max(qe,Xt),Xt=Math.min(Wt,Xt),Xt|0)}class I extends a{constructor(ye,qe,Wt,Xt,mn,bn=void 0){typeof bn!="undefined"&&(bn.type="integer",bn.default=Wt,bn.minimum=Xt,bn.maximum=mn),super(ye,qe,Wt,bn),this.minimum=Xt,this.maximum=mn}static clampedInt(ye,qe,Wt,Xt){return N(ye,qe,Wt,Xt)}validate(ye){return I.clampedInt(ye,this.defaultValue,this.minimum,this.maximum)}}class E extends a{constructor(ye,qe,Wt,Xt,mn){typeof mn!="undefined"&&(mn.type="number",mn.default=Wt),super(ye,qe,Wt,mn),this.validationFn=Xt}static clamp(ye,qe,Wt){return ye<qe?qe:ye>Wt?Wt:ye}static float(ye,qe){if(typeof ye=="number")return ye;if(typeof ye=="undefined")return qe;const Wt=parseFloat(ye);return isNaN(Wt)?qe:Wt}validate(ye){return this.validationFn(E.float(ye,this.defaultValue))}}class O extends a{static string(ye,qe){return typeof ye!="string"?qe:ye}constructor(ye,qe,Wt,Xt=void 0){typeof Xt!="undefined"&&(Xt.type="string",Xt.default=Wt),super(ye,qe,Wt,Xt)}validate(ye){return O.string(ye,this.defaultValue)}}function R(yt,ye,qe){return typeof yt!="string"||qe.indexOf(yt)===-1?ye:yt}class M extends a{constructor(ye,qe,Wt,Xt,mn=void 0){typeof mn!="undefined"&&(mn.type="string",mn.enum=Xt,mn.default=Wt),super(ye,qe,Wt,mn),this._allowedValues=Xt}validate(ye){return R(ye,this.defaultValue,this._allowedValues)}}class K extends S{constructor(ye,qe,Wt,Xt,mn,bn,ot=void 0){typeof ot!="undefined"&&(ot.type="string",ot.enum=mn,ot.default=Xt),super(ye,qe,Wt,ot),this._allowedValues=mn,this._convert=bn}validate(ye){return typeof ye!="string"?this.defaultValue:this._allowedValues.indexOf(ye)===-1?this.defaultValue:this._convert(ye)}}function Z(yt){switch(yt){case"none":return 0;case"keep":return 1;case"brackets":return 2;case"advanced":return 3;case"full":return 4}}class te extends S{constructor(){super(2,"accessibilitySupport",0,{type:"string",enum:["auto","on","off"],enumDescriptions:[C.NC("accessibilitySupport.auto","The editor will use platform APIs to detect when a Screen Reader is attached."),C.NC("accessibilitySupport.on","The editor will be permanently optimized for usage with a Screen Reader. Word wrapping will be disabled."),C.NC("accessibilitySupport.off","The editor will never be optimized for usage with a Screen Reader.")],default:"auto",description:C.NC("accessibilitySupport","Controls whether the editor should run in a mode where it is optimized for screen readers. Setting to on will disable word wrapping.")})}validate(ye){switch(ye){case"auto":return 0;case"off":return 1;case"on":return 2}return this.defaultValue}compute(ye,qe,Wt){return Wt===0?ye.accessibilitySupport:Wt}}class de extends S{constructor(){const ye={insertSpace:!0,ignoreEmptyLines:!0};super(19,"comments",ye,{"editor.comments.insertSpace":{type:"boolean",default:ye.insertSpace,description:C.NC("comments.insertSpace","Controls whether a space character is inserted when commenting.")},"editor.comments.ignoreEmptyLines":{type:"boolean",default:ye.ignoreEmptyLines,description:C.NC("comments.ignoreEmptyLines","Controls if empty lines should be ignored with toggle, add or remove actions for line comments.")}})}validate(ye){if(!ye||typeof ye!="object")return this.defaultValue;const qe=ye;return{insertSpace:b(qe.insertSpace,this.defaultValue.insertSpace),ignoreEmptyLines:b(qe.ignoreEmptyLines,this.defaultValue.ignoreEmptyLines)}}}function ge(yt){switch(yt){case"blink":return 1;case"smooth":return 2;case"phase":return 3;case"expand":return 4;case"solid":return 5}}var le;(function(yt){yt[yt.Line=1]="Line",yt[yt.Block=2]="Block",yt[yt.Underline=3]="Underline",yt[yt.LineThin=4]="LineThin",yt[yt.BlockOutline=5]="BlockOutline",yt[yt.UnderlineThin=6]="UnderlineThin"})(le||(le={}));function se(yt){switch(yt){case"line":return le.Line;case"block":return le.Block;case"underline":return le.Underline;case"line-thin":return le.LineThin;case"block-outline":return le.BlockOutline;case"underline-thin":return le.UnderlineThin}}class X extends u{constructor(){super(130)}compute(ye,qe,Wt){const Xt=["monaco-editor"];return qe.get(35)&&Xt.push(qe.get(35)),ye.extraEditorClassName&&Xt.push(ye.extraEditorClassName),qe.get(68)==="default"?Xt.push("mouse-default"):qe.get(68)==="copy"&&Xt.push("mouse-copy"),qe.get(102)&&Xt.push("showUnused"),qe.get(128)&&Xt.push("showDeprecated"),Xt.join(" ")}}class re extends D{constructor(){super(33,"emptySelectionClipboard",!0,{description:C.NC("emptySelectionClipboard","Controls whether copying without a selection copies the current line.")})}compute(ye,qe,Wt){return Wt&&ye.emptySelectionClipboard}}class ne extends S{constructor(){const ye={cursorMoveOnType:!0,seedSearchStringFromSelection:"always",autoFindInSelection:"never",globalFindClipboard:!1,addExtraSpaceOnTop:!0,loop:!0};super(37,"find",ye,{"editor.find.cursorMoveOnType":{type:"boolean",default:ye.cursorMoveOnType,description:C.NC("find.cursorMoveOnType","Controls whether the cursor should jump to find matches while typing.")},"editor.find.seedSearchStringFromSelection":{type:"string",enum:["never","always","selection"],default:ye.seedSearchStringFromSelection,enumDescriptions:[C.NC("editor.find.seedSearchStringFromSelection.never","Never seed search string from the editor selection."),C.NC("editor.find.seedSearchStringFromSelection.always","Always seed search string from the editor selection, including word at cursor position."),C.NC("editor.find.seedSearchStringFromSelection.selection","Only seed search string from the editor selection.")],description:C.NC("find.seedSearchStringFromSelection","Controls whether the search string in the Find Widget is seeded from the editor selection.")},"editor.find.autoFindInSelection":{type:"string",enum:["never","always","multiline"],default:ye.autoFindInSelection,enumDescriptions:[C.NC("editor.find.autoFindInSelection.never","Never turn on Find in Selection automatically (default)."),C.NC("editor.find.autoFindInSelection.always","Always turn on Find in Selection automatically."),C.NC("editor.find.autoFindInSelection.multiline","Turn on Find in Selection automatically when multiple lines of content are selected.")],description:C.NC("find.autoFindInSelection","Controls the condition for turning on Find in Selection automatically.")},"editor.find.globalFindClipboard":{type:"boolean",default:ye.globalFindClipboard,description:C.NC("find.globalFindClipboard","Controls whether the Find Widget should read or modify the shared find clipboard on macOS."),included:d.dz},"editor.find.addExtraSpaceOnTop":{type:"boolean",default:ye.addExtraSpaceOnTop,description:C.NC("find.addExtraSpaceOnTop","Controls whether the Find Widget should add extra lines on top of the editor. When true, you can scroll beyond the first line when the Find Widget is visible.")},"editor.find.loop":{type:"boolean",default:ye.loop,description:C.NC("find.loop","Controls whether the search automatically restarts from the beginning (or the end) when no further matches can be found.")}})}validate(ye){if(!ye||typeof ye!="object")return this.defaultValue;const qe=ye;return{cursorMoveOnType:b(qe.cursorMoveOnType,this.defaultValue.cursorMoveOnType),seedSearchStringFromSelection:typeof ye.seedSearchStringFromSelection=="boolean"?ye.seedSearchStringFromSelection?"always":"never":R(qe.seedSearchStringFromSelection,this.defaultValue.seedSearchStringFromSelection,["never","always","selection"]),autoFindInSelection:typeof ye.autoFindInSelection=="boolean"?ye.autoFindInSelection?"always":"never":R(qe.autoFindInSelection,this.defaultValue.autoFindInSelection,["never","always","multiline"]),globalFindClipboard:b(qe.globalFindClipboard,this.defaultValue.globalFindClipboard),addExtraSpaceOnTop:b(qe.addExtraSpaceOnTop,this.defaultValue.addExtraSpaceOnTop),loop:b(qe.loop,this.defaultValue.loop)}}}class U extends S{constructor(){super(47,"fontLigatures",U.OFF,{anyOf:[{type:"boolean",description:C.NC("fontLigatures","Enables/Disables font ligatures ('calt' and 'liga' font features). Change this to a string for fine-grained control of the 'font-feature-settings' CSS property.")},{type:"string",description:C.NC("fontFeatureSettings","Explicit 'font-feature-settings' CSS property. A boolean can be passed instead if one only needs to turn on/off ligatures.")}],description:C.NC("fontLigaturesGeneral","Configures font ligatures or font features. Can be either a boolean to enable/disable ligatures or a string for the value of the CSS 'font-feature-settings' property."),default:!1})}validate(ye){return typeof ye=="undefined"?this.defaultValue:typeof ye=="string"?ye==="false"?U.OFF:ye==="true"?U.ON:ye:Boolean(ye)?U.ON:U.OFF}}U.OFF='"liga" off, "calt" off',U.ON='"liga" on, "calt" on';class oe extends u{constructor(){super(46)}compute(ye,qe,Wt){return ye.fontInfo}}class q extends a{constructor(){super(48,"fontSize",qn.fontSize,{type:"number",minimum:6,maximum:100,default:qn.fontSize,description:C.NC("fontSize","Controls the font size in pixels.")})}validate(ye){const qe=E.float(ye,this.defaultValue);return qe===0?qn.fontSize:E.clamp(qe,6,100)}compute(ye,qe,Wt){return ye.fontInfo.fontSize}}class ae extends S{constructor(){super(49,"fontWeight",qn.fontWeight,{anyOf:[{type:"number",minimum:ae.MINIMUM_VALUE,maximum:ae.MAXIMUM_VALUE,errorMessage:C.NC("fontWeightErrorMessage",'Only "normal" and "bold" keywords or numbers between 1 and 1000 are allowed.')},{type:"string",pattern:"^(normal|bold|1000|[1-9][0-9]{0,2})$"},{enum:ae.SUGGESTION_VALUES}],default:qn.fontWeight,description:C.NC("fontWeight",'Controls the font weight. Accepts "normal" and "bold" keywords or numbers between 1 and 1000.')})}validate(ye){return ye==="normal"||ye==="bold"?ye:String(I.clampedInt(ye,qn.fontWeight,ae.MINIMUM_VALUE,ae.MAXIMUM_VALUE))}}ae.SUGGESTION_VALUES=["normal","bold","100","200","300","400","500","600","700","800","900"],ae.MINIMUM_VALUE=1,ae.MAXIMUM_VALUE=1e3;class me extends S{constructor(){const ye={multiple:"peek",multipleDefinitions:"peek",multipleTypeDefinitions:"peek",multipleDeclarations:"peek",multipleImplementations:"peek",multipleReferences:"peek",alternativeDefinitionCommand:"editor.action.goToReferences",alternativeTypeDefinitionCommand:"editor.action.goToReferences",alternativeDeclarationCommand:"editor.action.goToReferences",alternativeImplementationCommand:"",alternativeReferenceCommand:""},qe={type:"string",enum:["peek","gotoAndPeek","goto"],default:ye.multiple,enumDescriptions:[C.NC("editor.gotoLocation.multiple.peek","Show peek view of the results (default)"),C.NC("editor.gotoLocation.multiple.gotoAndPeek","Go to the primary result and show a peek view"),C.NC("editor.gotoLocation.multiple.goto","Go to the primary result and enable peek-less navigation to others")]},Wt=["","editor.action.referenceSearch.trigger","editor.action.goToReferences","editor.action.peekImplementation","editor.action.goToImplementation","editor.action.peekTypeDefinition","editor.action.goToTypeDefinition","editor.action.peekDeclaration","editor.action.revealDeclaration","editor.action.peekDefinition","editor.action.revealDefinitionAside","editor.action.revealDefinition"];super(53,"gotoLocation",ye,{"editor.gotoLocation.multiple":{deprecationMessage:C.NC("editor.gotoLocation.multiple.deprecated","This setting is deprecated, please use separate settings like 'editor.editor.gotoLocation.multipleDefinitions' or 'editor.editor.gotoLocation.multipleImplementations' instead.")},"editor.gotoLocation.multipleDefinitions":Object.assign({description:C.NC("editor.editor.gotoLocation.multipleDefinitions","Controls the behavior the 'Go to Definition'-command when multiple target locations exist.")},qe),"editor.gotoLocation.multipleTypeDefinitions":Object.assign({description:C.NC("editor.editor.gotoLocation.multipleTypeDefinitions","Controls the behavior the 'Go to Type Definition'-command when multiple target locations exist.")},qe),"editor.gotoLocation.multipleDeclarations":Object.assign({description:C.NC("editor.editor.gotoLocation.multipleDeclarations","Controls the behavior the 'Go to Declaration'-command when multiple target locations exist.")},qe),"editor.gotoLocation.multipleImplementations":Object.assign({description:C.NC("editor.editor.gotoLocation.multipleImplemenattions","Controls the behavior the 'Go to Implementations'-command when multiple target locations exist.")},qe),"editor.gotoLocation.multipleReferences":Object.assign({description:C.NC("editor.editor.gotoLocation.multipleReferences","Controls the behavior the 'Go to References'-command when multiple target locations exist.")},qe),"editor.gotoLocation.alternativeDefinitionCommand":{type:"string",default:ye.alternativeDefinitionCommand,enum:Wt,description:C.NC("alternativeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Definition' is the current location.")},"editor.gotoLocation.alternativeTypeDefinitionCommand":{type:"string",default:ye.alternativeTypeDefinitionCommand,enum:Wt,description:C.NC("alternativeTypeDefinitionCommand","Alternative command id that is being executed when the result of 'Go to Type Definition' is the current location.")},"editor.gotoLocation.alternativeDeclarationCommand":{type:"string",default:ye.alternativeDeclarationCommand,enum:Wt,description:C.NC("alternativeDeclarationCommand","Alternative command id that is being executed when the result of 'Go to Declaration' is the current location.")},"editor.gotoLocation.alternativeImplementationCommand":{type:"string",default:ye.alternativeImplementationCommand,enum:Wt,description:C.NC("alternativeImplementationCommand","Alternative command id that is being executed when the result of 'Go to Implementation' is the current location.")},"editor.gotoLocation.alternativeReferenceCommand":{type:"string",default:ye.alternativeReferenceCommand,enum:Wt,description:C.NC("alternativeReferenceCommand","Alternative command id that is being executed when the result of 'Go to Reference' is the current location.")}})}validate(ye){var qe,Wt,Xt,mn,bn;if(!ye||typeof ye!="object")return this.defaultValue;const ot=ye;return{multiple:R(ot.multiple,this.defaultValue.multiple,["peek","gotoAndPeek","goto"]),multipleDefinitions:(qe=ot.multipleDefinitions)!==null&&qe!==void 0?qe:R(ot.multipleDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleTypeDefinitions:(Wt=ot.multipleTypeDefinitions)!==null&&Wt!==void 0?Wt:R(ot.multipleTypeDefinitions,"peek",["peek","gotoAndPeek","goto"]),multipleDeclarations:(Xt=ot.multipleDeclarations)!==null&&Xt!==void 0?Xt:R(ot.multipleDeclarations,"peek",["peek","gotoAndPeek","goto"]),multipleImplementations:(mn=ot.multipleImplementations)!==null&&mn!==void 0?mn:R(ot.multipleImplementations,"peek",["peek","gotoAndPeek","goto"]),multipleReferences:(bn=ot.multipleReferences)!==null&&bn!==void 0?bn:R(ot.multipleReferences,"peek",["peek","gotoAndPeek","goto"]),alternativeDefinitionCommand:O.string(ot.alternativeDefinitionCommand,this.defaultValue.alternativeDefinitionCommand),alternativeTypeDefinitionCommand:O.string(ot.alternativeTypeDefinitionCommand,this.defaultValue.alternativeTypeDefinitionCommand),alternativeDeclarationCommand:O.string(ot.alternativeDeclarationCommand,this.defaultValue.alternativeDeclarationCommand),alternativeImplementationCommand:O.string(ot.alternativeImplementationCommand,this.defaultValue.alternativeImplementationCommand),alternativeReferenceCommand:O.string(ot.alternativeReferenceCommand,this.defaultValue.alternativeReferenceCommand)}}}class ke extends S{constructor(){const ye={enabled:!0,delay:300,sticky:!0,above:!0};super(55,"hover",ye,{"editor.hover.enabled":{type:"boolean",default:ye.enabled,description:C.NC("hover.enabled","Controls whether the hover is shown.")},"editor.hover.delay":{type:"number",default:ye.delay,minimum:0,maximum:1e4,description:C.NC("hover.delay","Controls the delay in milliseconds after which the hover is shown.")},"editor.hover.sticky":{type:"boolean",default:ye.sticky,description:C.NC("hover.sticky","Controls whether the hover should remain visible when mouse is moved over it.")},"editor.hover.above":{type:"boolean",default:ye.above,description:C.NC("hover.above","Prefer showing hovers above the line, if there's space.")}})}validate(ye){if(!ye||typeof ye!="object")return this.defaultValue;const qe=ye;return{enabled:b(qe.enabled,this.defaultValue.enabled),delay:I.clampedInt(qe.delay,this.defaultValue.delay,0,1e4),sticky:b(qe.sticky,this.defaultValue.sticky),above:b(qe.above,this.defaultValue.above)}}}class H extends u{constructor(){super(133)}compute(ye,qe,Wt){return H.computeLayout(qe,{memory:ye.memory,outerWidth:ye.outerWidth,outerHeight:ye.outerHeight,isDominatedByLongLines:ye.isDominatedByLongLines,lineHeight:ye.fontInfo.lineHeight,viewLineCount:ye.viewLineCount,lineNumbersDigitCount:ye.lineNumbersDigitCount,typicalHalfwidthCharacterWidth:ye.fontInfo.typicalHalfwidthCharacterWidth,maxDigitWidth:ye.fontInfo.maxDigitWidth,pixelRatio:ye.pixelRatio})}static computeContainedMinimapLineCount(ye){const qe=ye.height/ye.lineHeight,Wt=ye.scrollBeyondLastLine?qe-1:0,Xt=(ye.viewLineCount+Wt)/(ye.pixelRatio*ye.height),mn=Math.floor(ye.viewLineCount/Xt);return{typicalViewportLineCount:qe,extraLinesBeyondLastLine:Wt,desiredRatio:Xt,minimapLineCount:mn}}static _computeMinimapLayout(ye,qe){const Wt=ye.outerWidth,Xt=ye.outerHeight,mn=ye.pixelRatio;if(!ye.minimap.enabled)return{renderMinimap:0,minimapLeft:0,minimapWidth:0,minimapHeightIsEditorHeight:!1,minimapIsSampling:!1,minimapScale:1,minimapLineHeight:1,minimapCanvasInnerWidth:0,minimapCanvasInnerHeight:Math.floor(mn*Xt),minimapCanvasOuterWidth:0,minimapCanvasOuterHeight:Xt};const bn=qe.stableMinimapLayoutInput,ot=bn&&ye.outerHeight===bn.outerHeight&&ye.lineHeight===bn.lineHeight&&ye.typicalHalfwidthCharacterWidth===bn.typicalHalfwidthCharacterWidth&&ye.pixelRatio===bn.pixelRatio&&ye.scrollBeyondLastLine===bn.scrollBeyondLastLine&&ye.minimap.enabled===bn.minimap.enabled&&ye.minimap.side===bn.minimap.side&&ye.minimap.size===bn.minimap.size&&ye.minimap.showSlider===bn.minimap.showSlider&&ye.minimap.renderCharacters===bn.minimap.renderCharacters&&ye.minimap.maxColumn===bn.minimap.maxColumn&&ye.minimap.scale===bn.minimap.scale&&ye.verticalScrollbarWidth===bn.verticalScrollbarWidth&&ye.isViewportWrapping===bn.isViewportWrapping,Rt=ye.lineHeight,kt=ye.typicalHalfwidthCharacterWidth,wt=ye.scrollBeyondLastLine,ln=ye.minimap.renderCharacters;let _t=mn>=2?Math.round(ye.minimap.scale*2):ye.minimap.scale;const di=ye.minimap.maxColumn,Xn=ye.minimap.size,dn=ye.minimap.side,Ve=ye.verticalScrollbarWidth,Ce=ye.viewLineCount,dt=ye.remainingWidth,Qt=ye.isViewportWrapping,en=ln?2:3;let vn=Math.floor(mn*Xt);const An=vn/mn;let On=!1,In=!1,Sn=en*_t,Mn=_t/mn,Bn=1;if(Xn==="fill"||Xn==="fit"){const{typicalViewportLineCount:wi,extraLinesBeyondLastLine:Li,desiredRatio:kn,minimapLineCount:vi}=H.computeContainedMinimapLineCount({viewLineCount:Ce,scrollBeyondLastLine:wt,height:Xt,lineHeight:Rt,pixelRatio:mn});if(Ce/vi>1)On=!0,In=!0,_t=1,Sn=1,Mn=_t/mn;else{let Ye=!1,Tt=_t+1;if(Xn==="fit"){const nn=Math.ceil((Ce+Li)*Sn);Qt&&ot&&dt<=qe.stableFitRemainingWidth?(Ye=!0,Tt=qe.stableFitMaxMinimapScale):Ye=nn>vn}if(Xn==="fill"||Ye){On=!0;const nn=_t;Sn=Math.min(Rt*mn,Math.max(1,Math.floor(1/kn))),Qt&&ot&&dt<=qe.stableFitRemainingWidth&&(Tt=qe.stableFitMaxMinimapScale),_t=Math.min(Tt,Math.max(1,Math.floor(Sn/en))),_t>nn&&(Bn=Math.min(2,_t/nn)),Mn=_t/mn/Bn,vn=Math.ceil(Math.max(wi,Ce+Li)*Sn),Qt?(qe.stableMinimapLayoutInput=ye,qe.stableFitRemainingWidth=dt,qe.stableFitMaxMinimapScale=_t):(qe.stableMinimapLayoutInput=null,qe.stableFitRemainingWidth=0)}}}const Jn=Math.floor(di*Mn),ai=Math.min(Jn,Math.max(0,Math.floor((dt-Ve-2)*Mn/(kt+Mn)))+P);let jn=Math.floor(mn*ai);const Ii=jn/mn;jn=Math.floor(jn*Bn);const ci=ln?1:2,oi=dn==="left"?0:Wt-ai-Ve;return{renderMinimap:ci,minimapLeft:oi,minimapWidth:ai,minimapHeightIsEditorHeight:On,minimapIsSampling:In,minimapScale:_t,minimapLineHeight:Sn,minimapCanvasInnerWidth:jn,minimapCanvasInnerHeight:vn,minimapCanvasOuterWidth:Ii,minimapCanvasOuterHeight:An}}static computeLayout(ye,qe){const Wt=qe.outerWidth|0,Xt=qe.outerHeight|0,mn=qe.lineHeight|0,bn=qe.lineNumbersDigitCount|0,ot=qe.typicalHalfwidthCharacterWidth,Rt=qe.maxDigitWidth,kt=qe.pixelRatio,wt=qe.viewLineCount,ln=ye.get(125),_t=ln==="inherit"?ye.get(124):ln,di=_t==="inherit"?ye.get(120):_t,Xn=ye.get(123),dn=ye.get(2),Ve=qe.isDominatedByLongLines,Ce=ye.get(52),dt=ye.get(62).renderType!==0,Qt=ye.get(63),en=ye.get(96),vn=ye.get(67),An=ye.get(94),On=An.verticalScrollbarSize,In=An.verticalHasArrows,Sn=An.arrowSize,Mn=An.horizontalScrollbarSize,Bn=ye.get(60),Jn=ye.get(39),ai=ye.get(101)!=="never";let jn;if(typeof Bn=="string"&&/^\d+(\.\d+)?ch$/.test(Bn)){const Ci=parseFloat(Bn.substr(0,Bn.length-2));jn=I.clampedInt(Ci*ot,0,0,1e3)}else jn=I.clampedInt(Bn,0,0,1e3);Jn&&ai&&(jn+=16);let Ii=0;if(dt){const Ci=Math.max(bn,Qt);Ii=Math.round(Ci*Rt)}let ci=0;Ce&&(ci=mn);let oi=0,wi=oi+ci,Li=wi+Ii,kn=Li+jn;const vi=Wt-ci-Ii-jn;let Si=!1,Ye=!1,Tt=-1;dn!==2&&(_t==="inherit"&&Ve?(Si=!0,Ye=!0):di==="on"||di==="bounded"?Ye=!0:di==="wordWrapColumn"&&(Tt=Xn));const nn=H._computeMinimapLayout({outerWidth:Wt,outerHeight:Xt,lineHeight:mn,typicalHalfwidthCharacterWidth:ot,pixelRatio:kt,scrollBeyondLastLine:en,minimap:vn,verticalScrollbarWidth:On,viewLineCount:wt,remainingWidth:vi,isViewportWrapping:Ye},qe.memory||new T);nn.renderMinimap!==0&&nn.minimapLeft===0&&(oi+=nn.minimapWidth,wi+=nn.minimapWidth,Li+=nn.minimapWidth,kn+=nn.minimapWidth);const hn=vi-nn.minimapWidth,Vn=Math.max(1,Math.floor((hn-On-2)/ot)),Hn=In?Sn:0;return Ye&&(Tt=Math.max(1,Vn),di==="bounded"&&(Tt=Math.min(Tt,Xn))),{width:Wt,height:Xt,glyphMarginLeft:oi,glyphMarginWidth:ci,lineNumbersLeft:wi,lineNumbersWidth:Ii,decorationsLeft:Li,decorationsWidth:jn,contentLeft:kn,contentWidth:hn,minimap:nn,viewportColumn:Vn,isWordWrapMinified:Si,isViewportWrapping:Ye,wrappingColumn:Tt,verticalScrollbarWidth:On,horizontalScrollbarHeight:Mn,overviewRuler:{top:Hn,width:On,height:Xt-2*Hn,right:0}}}}class ut extends S{constructor(){const ye={enabled:!0};super(59,"lightbulb",ye,{"editor.lightbulb.enabled":{type:"boolean",default:ye.enabled,description:C.NC("codeActions","Enables the code action lightbulb in the editor.")}})}validate(ye){return!ye||typeof ye!="object"?this.defaultValue:{enabled:b(ye.enabled,this.defaultValue.enabled)}}}class Ke extends S{constructor(){const ye={stickyScroll:{enabled:!1}};super(34,"experimental",ye,{"editor.experimental.stickyScroll.enabled":{type:"boolean",default:ye.stickyScroll.enabled,description:C.NC("editor.experimental.stickyScroll","Shows the nested current scopes during the scroll at the top of the editor.")}})}validate(ye){var qe;return!ye||typeof ye!="object"?this.defaultValue:{stickyScroll:{enabled:b((qe=ye.stickyScroll)===null||qe===void 0?void 0:qe.enabled,this.defaultValue.stickyScroll.enabled)}}}}class He extends S{constructor(){const ye={enabled:"on",fontSize:0,fontFamily:"",padding:!1};super(129,"inlayHints",ye,{"editor.inlayHints.enabled":{type:"string",default:ye.enabled,description:C.NC("inlayHints.enable","Enables the inlay hints in the editor."),enum:["on","onUnlessPressed","offUnlessPressed","off"],markdownEnumDescriptions:[C.NC("editor.inlayHints.on","Inlay hints are enabled"),C.NC("editor.inlayHints.onUnlessPressed","Inlay hints are showing by default and hide when holding `Ctrl+Alt`"),C.NC("editor.inlayHints.offUnlessPressed","Inlay hints are hidden by default and show when holding `Ctrl+Alt`"),C.NC("editor.inlayHints.off","Inlay hints are disabled")]},"editor.inlayHints.fontSize":{type:"number",default:ye.fontSize,markdownDescription:C.NC("inlayHints.fontSize","Controls font size of inlay hints in the editor. As default the {0} is used when the configured value is less than {1} or greater than the editor font size.","`#editor.fontSize#`","`5`")},"editor.inlayHints.fontFamily":{type:"string",default:ye.fontFamily,markdownDescription:C.NC("inlayHints.fontFamily","Controls font family of inlay hints in the editor. When set to empty, the {0} is used.","`#editor.fontFamily#`")},"editor.inlayHints.padding":{type:"boolean",default:ye.padding,description:C.NC("inlayHints.padding","Enables the padding around the inlay hints in the editor.")}})}validate(ye){if(!ye||typeof ye!="object")return this.defaultValue;const qe=ye;return typeof qe.enabled=="boolean"&&(qe.enabled=qe.enabled?"on":"off"),{enabled:R(qe.enabled,this.defaultValue.enabled,["on","off","offUnlessPressed","onUnlessPressed"]),fontSize:I.clampedInt(qe.fontSize,this.defaultValue.fontSize,0,100),fontFamily:O.string(qe.fontFamily,this.defaultValue.fontFamily),padding:b(qe.padding,this.defaultValue.padding)}}}class ze extends E{constructor(){super(61,"lineHeight",qn.lineHeight,ye=>E.clamp(ye,0,150),{markdownDescription:C.NC("lineHeight",`Controls the line height. 
 - Use 0 to automatically compute the line height from the font size.
 - Values between 0 and 8 will be used as a multiplier with the font size.
 - Values greater than or equal to 8 will be used as effective values.`)})}compute(ye,qe,Wt){return ye.fontInfo.lineHeight}}class Le extends S{constructor(){const ye={enabled:!0,size:"proportional",side:"right",showSlider:"mouseover",autohide:!1,renderCharacters:!0,maxColumn:120,scale:1};super(67,"minimap",ye,{"editor.minimap.enabled":{type:"boolean",default:ye.enabled,description:C.NC("minimap.enabled","Controls whether the minimap is shown.")},"editor.minimap.autohide":{type:"boolean",default:ye.autohide,description:C.NC("minimap.autohide","Controls whether the minimap is hidden automatically.")},"editor.minimap.size":{type:"string",enum:["proportional","fill","fit"],enumDescriptions:[C.NC("minimap.size.proportional","The minimap has the same size as the editor contents (and might scroll)."),C.NC("minimap.size.fill","The minimap will stretch or shrink as necessary to fill the height of the editor (no scrolling)."),C.NC("minimap.size.fit","The minimap will shrink as necessary to never be larger than the editor (no scrolling).")],default:ye.size,description:C.NC("minimap.size","Controls the size of the minimap.")},"editor.minimap.side":{type:"string",enum:["left","right"],default:ye.side,description:C.NC("minimap.side","Controls the side where to render the minimap.")},"editor.minimap.showSlider":{type:"string",enum:["always","mouseover"],default:ye.showSlider,description:C.NC("minimap.showSlider","Controls when the minimap slider is shown.")},"editor.minimap.scale":{type:"number",default:ye.scale,minimum:1,maximum:3,enum:[1,2,3],description:C.NC("minimap.scale","Scale of content drawn in the minimap: 1, 2 or 3.")},"editor.minimap.renderCharacters":{type:"boolean",default:ye.renderCharacters,description:C.NC("minimap.renderCharacters","Render the actual characters on a line as opposed to color blocks.")},"editor.minimap.maxColumn":{type:"number",default:ye.maxColumn,description:C.NC("minimap.maxColumn","Limit the width of the minimap to render at most a certain number of columns.")}})}validate(ye){if(!ye||typeof ye!="object")return this.defaultValue;const qe=ye;return{enabled:b(qe.enabled,this.defaultValue.enabled),autohide:b(qe.autohide,this.defaultValue.autohide),size:R(qe.size,this.defaultValue.size,["proportional","fill","fit"]),side:R(qe.side,this.defaultValue.side,["right","left"]),showSlider:R(qe.showSlider,this.defaultValue.showSlider,["always","mouseover"]),renderCharacters:b(qe.renderCharacters,this.defaultValue.renderCharacters),scale:I.clampedInt(qe.scale,1,1,3),maxColumn:I.clampedInt(qe.maxColumn,this.defaultValue.maxColumn,1,1e4)}}}function Ze(yt){return yt==="ctrlCmd"?d.dz?"metaKey":"ctrlKey":"altKey"}class Ge extends S{constructor(){super(77,"padding",{top:0,bottom:0},{"editor.padding.top":{type:"number",default:0,minimum:0,maximum:1e3,description:C.NC("padding.top","Controls the amount of space between the top edge of the editor and the first line.")},"editor.padding.bottom":{type:"number",default:0,minimum:0,maximum:1e3,description:C.NC("padding.bottom","Controls the amount of space between the bottom edge of the editor and the last line.")}})}validate(ye){if(!ye||typeof ye!="object")return this.defaultValue;const qe=ye;return{top:I.clampedInt(qe.top,0,0,1e3),bottom:I.clampedInt(qe.bottom,0,0,1e3)}}}class Fe extends S{constructor(){const ye={enabled:!0,cycle:!1};super(78,"parameterHints",ye,{"editor.parameterHints.enabled":{type:"boolean",default:ye.enabled,description:C.NC("parameterHints.enabled","Enables a pop-up that shows parameter documentation and type information as you type.")},"editor.parameterHints.cycle":{type:"boolean",default:ye.cycle,description:C.NC("parameterHints.cycle","Controls whether the parameter hints menu cycles or closes when reaching the end of the list.")}})}validate(ye){if(!ye||typeof ye!="object")return this.defaultValue;const qe=ye;return{enabled:b(qe.enabled,this.defaultValue.enabled),cycle:b(qe.cycle,this.defaultValue.cycle)}}}class ct extends u{constructor(){super(131)}compute(ye,qe,Wt){return ye.pixelRatio}}class ft extends S{constructor(){const ye={other:"on",comments:"off",strings:"off"},qe=[{type:"boolean"},{type:"string",enum:["on","inline","off"],enumDescriptions:[C.NC("on","Quick suggestions show inside the suggest widget"),C.NC("inline","Quick suggestions show as ghost text"),C.NC("off","Quick suggestions are disabled")]}];super(81,"quickSuggestions",ye,{type:"object",additionalProperties:!1,properties:{strings:{anyOf:qe,default:ye.strings,description:C.NC("quickSuggestions.strings","Enable quick suggestions inside strings.")},comments:{anyOf:qe,default:ye.comments,description:C.NC("quickSuggestions.comments","Enable quick suggestions inside comments.")},other:{anyOf:qe,default:ye.other,description:C.NC("quickSuggestions.other","Enable quick suggestions outside of strings and comments.")}},default:ye,markdownDescription:C.NC("quickSuggestions","Controls whether suggestions should automatically show up while typing. This can be controlled for typing in comments, strings, and other code. Quick suggestion can be configured to show as ghost text or with the suggest widget. Also be aware of the '{0}'-setting which controls if suggestions are triggered by special characters.","#editor.suggestOnTriggerCharacters#")}),this.defaultValue=ye}validate(ye){if(typeof ye=="boolean"){const kt=ye?"on":"off";return{comments:kt,strings:kt,other:kt}}if(!ye||typeof ye!="object")return this.defaultValue;const{other:qe,comments:Wt,strings:Xt}=ye,mn=["on","inline","off"];let bn,ot,Rt;return typeof qe=="boolean"?bn=qe?"on":"off":bn=R(qe,this.defaultValue.other,mn),typeof Wt=="boolean"?ot=Wt?"on":"off":ot=R(Wt,this.defaultValue.comments,mn),typeof Xt=="boolean"?Rt=Xt?"on":"off":Rt=R(Xt,this.defaultValue.strings,mn),{other:bn,comments:ot,strings:Rt}}}class Ot extends S{constructor(){super(62,"lineNumbers",{renderType:1,renderFn:null},{type:"string",enum:["off","on","relative","interval"],enumDescriptions:[C.NC("lineNumbers.off","Line numbers are not rendered."),C.NC("lineNumbers.on","Line numbers are rendered as absolute number."),C.NC("lineNumbers.relative","Line numbers are rendered as distance in lines to cursor position."),C.NC("lineNumbers.interval","Line numbers are rendered every 10 lines.")],default:"on",description:C.NC("lineNumbers","Controls the display of line numbers.")})}validate(ye){let qe=this.defaultValue.renderType,Wt=this.defaultValue.renderFn;return typeof ye!="undefined"&&(typeof ye=="function"?(qe=4,Wt=ye):ye==="interval"?qe=3:ye==="relative"?qe=2:ye==="on"?qe=1:qe=0),{renderType:qe,renderFn:Wt}}}function Et(yt){const ye=yt.get(89);return ye==="editable"?yt.get(83):ye!=="on"}class Vt extends S{constructor(){const ye=[],qe={type:"number",description:C.NC("rulers.size","Number of monospace characters at which this editor ruler will render.")};super(93,"rulers",ye,{type:"array",items:{anyOf:[qe,{type:["object"],properties:{column:qe,color:{type:"string",description:C.NC("rulers.color","Color of this editor ruler."),format:"color-hex"}}}]},default:ye,description:C.NC("rulers","Render vertical rulers after a certain number of monospace characters. Use multiple values for multiple rulers. No rulers are drawn if array is empty.")})}validate(ye){if(Array.isArray(ye)){const qe=[];for(const Wt of ye)if(typeof Wt=="number")qe.push({column:I.clampedInt(Wt,0,0,1e4),color:null});else if(Wt&&typeof Wt=="object"){const Xt=Wt;qe.push({column:I.clampedInt(Xt.column,0,0,1e4),color:Xt.color})}return qe.sort((Wt,Xt)=>Wt.column-Xt.column),qe}return this.defaultValue}}function We(yt,ye){if(typeof yt!="string")return ye;switch(yt){case"hidden":return 2;case"visible":return 3;default:return 1}}class St extends S{constructor(){const ye={vertical:1,horizontal:1,arrowSize:11,useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,horizontalScrollbarSize:12,horizontalSliderSize:12,verticalScrollbarSize:14,verticalSliderSize:14,handleMouseWheel:!0,alwaysConsumeMouseWheel:!0,scrollByPage:!1};super(94,"scrollbar",ye,{"editor.scrollbar.vertical":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[C.NC("scrollbar.vertical.auto","The vertical scrollbar will be visible only when necessary."),C.NC("scrollbar.vertical.visible","The vertical scrollbar will always be visible."),C.NC("scrollbar.vertical.fit","The vertical scrollbar will always be hidden.")],default:"auto",description:C.NC("scrollbar.vertical","Controls the visibility of the vertical scrollbar.")},"editor.scrollbar.horizontal":{type:"string",enum:["auto","visible","hidden"],enumDescriptions:[C.NC("scrollbar.horizontal.auto","The horizontal scrollbar will be visible only when necessary."),C.NC("scrollbar.horizontal.visible","The horizontal scrollbar will always be visible."),C.NC("scrollbar.horizontal.fit","The horizontal scrollbar will always be hidden.")],default:"auto",description:C.NC("scrollbar.horizontal","Controls the visibility of the horizontal scrollbar.")},"editor.scrollbar.verticalScrollbarSize":{type:"number",default:ye.verticalScrollbarSize,description:C.NC("scrollbar.verticalScrollbarSize","The width of the vertical scrollbar.")},"editor.scrollbar.horizontalScrollbarSize":{type:"number",default:ye.horizontalScrollbarSize,description:C.NC("scrollbar.horizontalScrollbarSize","The height of the horizontal scrollbar.")},"editor.scrollbar.scrollByPage":{type:"boolean",default:ye.scrollByPage,description:C.NC("scrollbar.scrollByPage","Controls whether clicks scroll by page or jump to click position.")}})}validate(ye){if(!ye||typeof ye!="object")return this.defaultValue;const qe=ye,Wt=I.clampedInt(qe.horizontalScrollbarSize,this.defaultValue.horizontalScrollbarSize,0,1e3),Xt=I.clampedInt(qe.verticalScrollbarSize,this.defaultValue.verticalScrollbarSize,0,1e3);return{arrowSize:I.clampedInt(qe.arrowSize,this.defaultValue.arrowSize,0,1e3),vertical:We(qe.vertical,this.defaultValue.vertical),horizontal:We(qe.horizontal,this.defaultValue.horizontal),useShadows:b(qe.useShadows,this.defaultValue.useShadows),verticalHasArrows:b(qe.verticalHasArrows,this.defaultValue.verticalHasArrows),horizontalHasArrows:b(qe.horizontalHasArrows,this.defaultValue.horizontalHasArrows),handleMouseWheel:b(qe.handleMouseWheel,this.defaultValue.handleMouseWheel),alwaysConsumeMouseWheel:b(qe.alwaysConsumeMouseWheel,this.defaultValue.alwaysConsumeMouseWheel),horizontalScrollbarSize:Wt,horizontalSliderSize:I.clampedInt(qe.horizontalSliderSize,Wt,0,1e3),verticalScrollbarSize:Xt,verticalSliderSize:I.clampedInt(qe.verticalSliderSize,Xt,0,1e3),scrollByPage:b(qe.scrollByPage,this.defaultValue.scrollByPage)}}}const Re="inUntrustedWorkspace",Se={allowedCharacters:"editor.unicodeHighlight.allowedCharacters",invisibleCharacters:"editor.unicodeHighlight.invisibleCharacters",nonBasicASCII:"editor.unicodeHighlight.nonBasicASCII",ambiguousCharacters:"editor.unicodeHighlight.ambiguousCharacters",includeComments:"editor.unicodeHighlight.includeComments",includeStrings:"editor.unicodeHighlight.includeStrings",allowedLocales:"editor.unicodeHighlight.allowedLocales"};class Ee extends S{constructor(){const ye={nonBasicASCII:Re,invisibleCharacters:!0,ambiguousCharacters:!0,includeComments:Re,includeStrings:!0,allowedCharacters:{},allowedLocales:{_os:!0,_vscode:!0}};super(115,"unicodeHighlight",ye,{[Se.nonBasicASCII]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Re],default:ye.nonBasicASCII,description:C.NC("unicodeHighlight.nonBasicASCII","Controls whether all non-basic ASCII characters are highlighted. Only characters between U+0020 and U+007E, tab, line-feed and carriage-return are considered basic ASCII.")},[Se.invisibleCharacters]:{restricted:!0,type:"boolean",default:ye.invisibleCharacters,description:C.NC("unicodeHighlight.invisibleCharacters","Controls whether characters that just reserve space or have no width at all are highlighted.")},[Se.ambiguousCharacters]:{restricted:!0,type:"boolean",default:ye.ambiguousCharacters,description:C.NC("unicodeHighlight.ambiguousCharacters","Controls whether characters are highlighted that can be confused with basic ASCII characters, except those that are common in the current user locale.")},[Se.includeComments]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Re],default:ye.includeComments,description:C.NC("unicodeHighlight.includeComments","Controls whether characters in comments should also be subject to unicode highlighting.")},[Se.includeStrings]:{restricted:!0,type:["boolean","string"],enum:[!0,!1,Re],default:ye.includeStrings,description:C.NC("unicodeHighlight.includeStrings","Controls whether characters in strings should also be subject to unicode highlighting.")},[Se.allowedCharacters]:{restricted:!0,type:"object",default:ye.allowedCharacters,description:C.NC("unicodeHighlight.allowedCharacters","Defines allowed characters that are not being highlighted."),additionalProperties:{type:"boolean"}},[Se.allowedLocales]:{restricted:!0,type:"object",additionalProperties:{type:"boolean"},default:ye.allowedLocales,description:C.NC("unicodeHighlight.allowedLocales","Unicode characters that are common in allowed locales are not being highlighted.")}})}applyUpdate(ye,qe){let Wt=!1;qe.allowedCharacters&&ye&&(L.fS(ye.allowedCharacters,qe.allowedCharacters)||(ye=Object.assign(Object.assign({},ye),{allowedCharacters:qe.allowedCharacters}),Wt=!0)),qe.allowedLocales&&ye&&(L.fS(ye.allowedLocales,qe.allowedLocales)||(ye=Object.assign(Object.assign({},ye),{allowedLocales:qe.allowedLocales}),Wt=!0));const Xt=super.applyUpdate(ye,qe);return Wt?new _(Xt.newValue,!0):Xt}validate(ye){if(!ye||typeof ye!="object")return this.defaultValue;const qe=ye;return{nonBasicASCII:jt(qe.nonBasicASCII,Re,[!0,!1,Re]),invisibleCharacters:b(qe.invisibleCharacters,this.defaultValue.invisibleCharacters),ambiguousCharacters:b(qe.ambiguousCharacters,this.defaultValue.ambiguousCharacters),includeComments:jt(qe.includeComments,Re,[!0,!1,Re]),includeStrings:jt(qe.includeStrings,Re,[!0,!1,Re]),allowedCharacters:this.validateBooleanMap(ye.allowedCharacters,this.defaultValue.allowedCharacters),allowedLocales:this.validateBooleanMap(ye.allowedLocales,this.defaultValue.allowedLocales)}}validateBooleanMap(ye,qe){if(typeof ye!="object"||!ye)return qe;const Wt={};for(const[Xt,mn]of Object.entries(ye))mn===!0&&(Wt[Xt]=!0);return Wt}}class Be extends S{constructor(){const ye={enabled:!0,mode:"subwordSmart"};super(57,"inlineSuggest",ye,{"editor.inlineSuggest.enabled":{type:"boolean",default:ye.enabled,description:C.NC("inlineSuggest.enabled","Controls whether to automatically show inline suggestions in the editor.")}})}validate(ye){if(!ye||typeof ye!="object")return this.defaultValue;const qe=ye;return{enabled:b(qe.enabled,this.defaultValue.enabled),mode:R(qe.mode,this.defaultValue.mode,["prefix","subword","subwordSmart"])}}}class Xe extends S{constructor(){const ye={enabled:z.D.bracketPairColorizationOptions.enabled,independentColorPoolPerBracketType:z.D.bracketPairColorizationOptions.independentColorPoolPerBracketType};super(12,"bracketPairColorization",ye,{"editor.bracketPairColorization.enabled":{type:"boolean",default:ye.enabled,markdownDescription:C.NC("bracketPairColorization.enabled","Controls whether bracket pair colorization is enabled or not. Use {0} to override the bracket highlight colors.","`#workbench.colorCustomizations#`")},"editor.bracketPairColorization.independentColorPoolPerBracketType":{type:"boolean",default:ye.independentColorPoolPerBracketType,description:C.NC("bracketPairColorization.independentColorPoolPerBracketType","Controls whether each bracket type has its own independent color pool.")}})}validate(ye){if(!ye||typeof ye!="object")return this.defaultValue;const qe=ye;return{enabled:b(qe.enabled,this.defaultValue.enabled),independentColorPoolPerBracketType:b(qe.independentColorPoolPerBracketType,this.defaultValue.independentColorPoolPerBracketType)}}}class Pt extends S{constructor(){const ye={bracketPairs:!1,bracketPairsHorizontal:"active",highlightActiveBracketPair:!0,indentation:!0,highlightActiveIndentation:!0};super(13,"guides",ye,{"editor.guides.bracketPairs":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[C.NC("editor.guides.bracketPairs.true","Enables bracket pair guides."),C.NC("editor.guides.bracketPairs.active","Enables bracket pair guides only for the active bracket pair."),C.NC("editor.guides.bracketPairs.false","Disables bracket pair guides.")],default:ye.bracketPairs,description:C.NC("editor.guides.bracketPairs","Controls whether bracket pair guides are enabled or not.")},"editor.guides.bracketPairsHorizontal":{type:["boolean","string"],enum:[!0,"active",!1],enumDescriptions:[C.NC("editor.guides.bracketPairsHorizontal.true","Enables horizontal guides as addition to vertical bracket pair guides."),C.NC("editor.guides.bracketPairsHorizontal.active","Enables horizontal guides only for the active bracket pair."),C.NC("editor.guides.bracketPairsHorizontal.false","Disables horizontal bracket pair guides.")],default:ye.bracketPairsHorizontal,description:C.NC("editor.guides.bracketPairsHorizontal","Controls whether horizontal bracket pair guides are enabled or not.")},"editor.guides.highlightActiveBracketPair":{type:"boolean",default:ye.highlightActiveBracketPair,description:C.NC("editor.guides.highlightActiveBracketPair","Controls whether the editor should highlight the active bracket pair.")},"editor.guides.indentation":{type:"boolean",default:ye.indentation,description:C.NC("editor.guides.indentation","Controls whether the editor should render indent guides.")},"editor.guides.highlightActiveIndentation":{type:["boolean","string"],enum:[!0,"always",!1],enumDescriptions:[C.NC("editor.guides.highlightActiveIndentation.true","Highlights the active indent guide."),C.NC("editor.guides.highlightActiveIndentation.always","Highlights the active indent guide even if bracket guides are highlighted."),C.NC("editor.guides.highlightActiveIndentation.false","Do not highlight the active indent guide.")],default:ye.highlightActiveIndentation,description:C.NC("editor.guides.highlightActiveIndentation","Controls whether the editor should highlight the active indent guide.")}})}validate(ye){if(!ye||typeof ye!="object")return this.defaultValue;const qe=ye;return{bracketPairs:jt(qe.bracketPairs,this.defaultValue.bracketPairs,[!0,!1,"active"]),bracketPairsHorizontal:jt(qe.bracketPairsHorizontal,this.defaultValue.bracketPairsHorizontal,[!0,!1,"active"]),highlightActiveBracketPair:b(qe.highlightActiveBracketPair,this.defaultValue.highlightActiveBracketPair),indentation:b(qe.indentation,this.defaultValue.indentation),highlightActiveIndentation:jt(qe.highlightActiveIndentation,this.defaultValue.highlightActiveIndentation,[!0,!1,"always"])}}}function jt(yt,ye,qe){const Wt=qe.indexOf(yt);return Wt===-1?ye:qe[Wt]}class pn extends S{constructor(){const ye={insertMode:"insert",filterGraceful:!0,snippetsPreventQuickSuggestions:!0,localityBonus:!1,shareSuggestSelections:!1,showIcons:!0,showStatusBar:!1,preview:!1,previewMode:"subwordSmart",showInlineDetails:!0,showMethods:!0,showFunctions:!0,showConstructors:!0,showDeprecated:!0,showFields:!0,showVariables:!0,showClasses:!0,showStructs:!0,showInterfaces:!0,showModules:!0,showProperties:!0,showEvents:!0,showOperators:!0,showUnits:!0,showValues:!0,showConstants:!0,showEnums:!0,showEnumMembers:!0,showKeywords:!0,showWords:!0,showColors:!0,showFiles:!0,showReferences:!0,showFolders:!0,showTypeParameters:!0,showSnippets:!0,showUsers:!0,showIssues:!0};super(108,"suggest",ye,{"editor.suggest.insertMode":{type:"string",enum:["insert","replace"],enumDescriptions:[C.NC("suggest.insertMode.insert","Insert suggestion without overwriting text right of the cursor."),C.NC("suggest.insertMode.replace","Insert suggestion and overwrite text right of the cursor.")],default:ye.insertMode,description:C.NC("suggest.insertMode","Controls whether words are overwritten when accepting completions. Note that this depends on extensions opting into this feature.")},"editor.suggest.filterGraceful":{type:"boolean",default:ye.filterGraceful,description:C.NC("suggest.filterGraceful","Controls whether filtering and sorting suggestions accounts for small typos.")},"editor.suggest.localityBonus":{type:"boolean",default:ye.localityBonus,description:C.NC("suggest.localityBonus","Controls whether sorting favors words that appear close to the cursor.")},"editor.suggest.shareSuggestSelections":{type:"boolean",default:ye.shareSuggestSelections,markdownDescription:C.NC("suggest.shareSuggestSelections","Controls whether remembered suggestion selections are shared between multiple workspaces and windows (needs `#editor.suggestSelection#`).")},"editor.suggest.snippetsPreventQuickSuggestions":{type:"boolean",default:ye.snippetsPreventQuickSuggestions,description:C.NC("suggest.snippetsPreventQuickSuggestions","Controls whether an active snippet prevents quick suggestions.")},"editor.suggest.showIcons":{type:"boolean",default:ye.showIcons,description:C.NC("suggest.showIcons","Controls whether to show or hide icons in suggestions.")},"editor.suggest.showStatusBar":{type:"boolean",default:ye.showStatusBar,description:C.NC("suggest.showStatusBar","Controls the visibility of the status bar at the bottom of the suggest widget.")},"editor.suggest.preview":{type:"boolean",default:ye.preview,description:C.NC("suggest.preview","Controls whether to preview the suggestion outcome in the editor.")},"editor.suggest.showInlineDetails":{type:"boolean",default:ye.showInlineDetails,description:C.NC("suggest.showInlineDetails","Controls whether suggest details show inline with the label or only in the details widget")},"editor.suggest.maxVisibleSuggestions":{type:"number",deprecationMessage:C.NC("suggest.maxVisibleSuggestions.dep","This setting is deprecated. The suggest widget can now be resized.")},"editor.suggest.filteredTypes":{type:"object",deprecationMessage:C.NC("deprecated","This setting is deprecated, please use separate settings like 'editor.suggest.showKeywords' or 'editor.suggest.showSnippets' instead.")},"editor.suggest.showMethods":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showMethods","When enabled IntelliSense shows `method`-suggestions.")},"editor.suggest.showFunctions":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showFunctions","When enabled IntelliSense shows `function`-suggestions.")},"editor.suggest.showConstructors":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showConstructors","When enabled IntelliSense shows `constructor`-suggestions.")},"editor.suggest.showDeprecated":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showDeprecated","When enabled IntelliSense shows `deprecated`-suggestions.")},"editor.suggest.showFields":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showFields","When enabled IntelliSense shows `field`-suggestions.")},"editor.suggest.showVariables":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showVariables","When enabled IntelliSense shows `variable`-suggestions.")},"editor.suggest.showClasses":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showClasss","When enabled IntelliSense shows `class`-suggestions.")},"editor.suggest.showStructs":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showStructs","When enabled IntelliSense shows `struct`-suggestions.")},"editor.suggest.showInterfaces":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showInterfaces","When enabled IntelliSense shows `interface`-suggestions.")},"editor.suggest.showModules":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showModules","When enabled IntelliSense shows `module`-suggestions.")},"editor.suggest.showProperties":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showPropertys","When enabled IntelliSense shows `property`-suggestions.")},"editor.suggest.showEvents":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showEvents","When enabled IntelliSense shows `event`-suggestions.")},"editor.suggest.showOperators":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showOperators","When enabled IntelliSense shows `operator`-suggestions.")},"editor.suggest.showUnits":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showUnits","When enabled IntelliSense shows `unit`-suggestions.")},"editor.suggest.showValues":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showValues","When enabled IntelliSense shows `value`-suggestions.")},"editor.suggest.showConstants":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showConstants","When enabled IntelliSense shows `constant`-suggestions.")},"editor.suggest.showEnums":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showEnums","When enabled IntelliSense shows `enum`-suggestions.")},"editor.suggest.showEnumMembers":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showEnumMembers","When enabled IntelliSense shows `enumMember`-suggestions.")},"editor.suggest.showKeywords":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showKeywords","When enabled IntelliSense shows `keyword`-suggestions.")},"editor.suggest.showWords":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showTexts","When enabled IntelliSense shows `text`-suggestions.")},"editor.suggest.showColors":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showColors","When enabled IntelliSense shows `color`-suggestions.")},"editor.suggest.showFiles":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showFiles","When enabled IntelliSense shows `file`-suggestions.")},"editor.suggest.showReferences":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showReferences","When enabled IntelliSense shows `reference`-suggestions.")},"editor.suggest.showCustomcolors":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showCustomcolors","When enabled IntelliSense shows `customcolor`-suggestions.")},"editor.suggest.showFolders":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showFolders","When enabled IntelliSense shows `folder`-suggestions.")},"editor.suggest.showTypeParameters":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showTypeParameters","When enabled IntelliSense shows `typeParameter`-suggestions.")},"editor.suggest.showSnippets":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showSnippets","When enabled IntelliSense shows `snippet`-suggestions.")},"editor.suggest.showUsers":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showUsers","When enabled IntelliSense shows `user`-suggestions.")},"editor.suggest.showIssues":{type:"boolean",default:!0,markdownDescription:C.NC("editor.suggest.showIssues","When enabled IntelliSense shows `issues`-suggestions.")}})}validate(ye){if(!ye||typeof ye!="object")return this.defaultValue;const qe=ye;return{insertMode:R(qe.insertMode,this.defaultValue.insertMode,["insert","replace"]),filterGraceful:b(qe.filterGraceful,this.defaultValue.filterGraceful),snippetsPreventQuickSuggestions:b(qe.snippetsPreventQuickSuggestions,this.defaultValue.filterGraceful),localityBonus:b(qe.localityBonus,this.defaultValue.localityBonus),shareSuggestSelections:b(qe.shareSuggestSelections,this.defaultValue.shareSuggestSelections),showIcons:b(qe.showIcons,this.defaultValue.showIcons),showStatusBar:b(qe.showStatusBar,this.defaultValue.showStatusBar),preview:b(qe.preview,this.defaultValue.preview),previewMode:R(qe.previewMode,this.defaultValue.previewMode,["prefix","subword","subwordSmart"]),showInlineDetails:b(qe.showInlineDetails,this.defaultValue.showInlineDetails),showMethods:b(qe.showMethods,this.defaultValue.showMethods),showFunctions:b(qe.showFunctions,this.defaultValue.showFunctions),showConstructors:b(qe.showConstructors,this.defaultValue.showConstructors),showDeprecated:b(qe.showDeprecated,this.defaultValue.showDeprecated),showFields:b(qe.showFields,this.defaultValue.showFields),showVariables:b(qe.showVariables,this.defaultValue.showVariables),showClasses:b(qe.showClasses,this.defaultValue.showClasses),showStructs:b(qe.showStructs,this.defaultValue.showStructs),showInterfaces:b(qe.showInterfaces,this.defaultValue.showInterfaces),showModules:b(qe.showModules,this.defaultValue.showModules),showProperties:b(qe.showProperties,this.defaultValue.showProperties),showEvents:b(qe.showEvents,this.defaultValue.showEvents),showOperators:b(qe.showOperators,this.defaultValue.showOperators),showUnits:b(qe.showUnits,this.defaultValue.showUnits),showValues:b(qe.showValues,this.defaultValue.showValues),showConstants:b(qe.showConstants,this.defaultValue.showConstants),showEnums:b(qe.showEnums,this.defaultValue.showEnums),showEnumMembers:b(qe.showEnumMembers,this.defaultValue.showEnumMembers),showKeywords:b(qe.showKeywords,this.defaultValue.showKeywords),showWords:b(qe.showWords,this.defaultValue.showWords),showColors:b(qe.showColors,this.defaultValue.showColors),showFiles:b(qe.showFiles,this.defaultValue.showFiles),showReferences:b(qe.showReferences,this.defaultValue.showReferences),showFolders:b(qe.showFolders,this.defaultValue.showFolders),showTypeParameters:b(qe.showTypeParameters,this.defaultValue.showTypeParameters),showSnippets:b(qe.showSnippets,this.defaultValue.showSnippets),showUsers:b(qe.showUsers,this.defaultValue.showUsers),showIssues:b(qe.showIssues,this.defaultValue.showIssues)}}}class at extends S{constructor(){super(104,"smartSelect",{selectLeadingAndTrailingWhitespace:!0},{"editor.smartSelect.selectLeadingAndTrailingWhitespace":{description:C.NC("selectLeadingAndTrailingWhitespace","Whether leading and trailing whitespace should always be selected."),default:!0,type:"boolean"}})}validate(ye){return!ye||typeof ye!="object"?this.defaultValue:{selectLeadingAndTrailingWhitespace:b(ye.selectLeadingAndTrailingWhitespace,this.defaultValue.selectLeadingAndTrailingWhitespace)}}}class Mt extends u{constructor(){super(132)}compute(ye,qe,Wt){return qe.get(83)?!0:ye.tabFocusMode}}function Gt(yt){switch(yt){case"none":return 0;case"same":return 1;case"indent":return 2;case"deepIndent":return 3}}class _n extends u{constructor(){super(134)}compute(ye,qe,Wt){const Xt=qe.get(133);return{isDominatedByLongLines:ye.isDominatedByLongLines,isWordWrapMinified:Xt.isWordWrapMinified,isViewportWrapping:Xt.isViewportWrapping,wrappingColumn:Xt.wrappingColumn}}}class Rn extends S{constructor(){const ye={enabled:!0};super(32,"dropIntoEditor",ye,{"editor.dropIntoEditor.enabled":{type:"boolean",default:ye.enabled,markdownDescription:C.NC("dropIntoEditor.enabled","Controls whether you can drag and drop a file into a text editor by holding down `shift` (instead of opening the file in an editor).")}})}validate(ye){return!ye||typeof ye!="object"?this.defaultValue:{enabled:b(ye.enabled,this.defaultValue.enabled)}}}const Wn="Consolas, 'Courier New', monospace",wn="Menlo, Monaco, 'Courier New', monospace",je="'Droid Sans Mono', 'monospace', monospace",qn={fontFamily:d.dz?wn:d.IJ?je:Wn,fontWeight:"normal",fontSize:d.dz?12:14,lineHeight:0,letterSpacing:0},vt=[];function _e(yt){return vt[yt.id]=yt,yt}const ht={acceptSuggestionOnCommitCharacter:_e(new D(0,"acceptSuggestionOnCommitCharacter",!0,{markdownDescription:C.NC("acceptSuggestionOnCommitCharacter","Controls whether suggestions should be accepted on commit characters. For example, in JavaScript, the semi-colon (`; `) can be a commit character that accepts a suggestion and types that character.")})),acceptSuggestionOnEnter:_e(new M(1,"acceptSuggestionOnEnter","on",["on","smart","off"],{markdownEnumDescriptions:["",C.NC("acceptSuggestionOnEnterSmart","Only accept a suggestion with `Enter` when it makes a textual change."),""],markdownDescription:C.NC("acceptSuggestionOnEnter","Controls whether suggestions should be accepted on `Enter`, in addition to `Tab`. Helps to avoid ambiguity between inserting new lines or accepting suggestions.")})),accessibilitySupport:_e(new te),accessibilityPageSize:_e(new I(3,"accessibilityPageSize",10,1,1073741824,{description:C.NC("accessibilityPageSize","Controls the number of lines in the editor that can be read out by a screen reader at once. When we detect a screen reader we automatically set the default to be 500. Warning: this has a performance implication for numbers larger than the default.")})),ariaLabel:_e(new O(4,"ariaLabel",C.NC("editorViewAccessibleLabel","Editor content"))),autoClosingBrackets:_e(new M(5,"autoClosingBrackets","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",C.NC("editor.autoClosingBrackets.languageDefined","Use language configurations to determine when to autoclose brackets."),C.NC("editor.autoClosingBrackets.beforeWhitespace","Autoclose brackets only when the cursor is to the left of whitespace."),""],description:C.NC("autoClosingBrackets","Controls whether the editor should automatically close brackets after the user adds an opening bracket.")})),autoClosingDelete:_e(new M(6,"autoClosingDelete","auto",["always","auto","never"],{enumDescriptions:["",C.NC("editor.autoClosingDelete.auto","Remove adjacent closing quotes or brackets only if they were automatically inserted."),""],description:C.NC("autoClosingDelete","Controls whether the editor should remove adjacent closing quotes or brackets when deleting.")})),autoClosingOvertype:_e(new M(7,"autoClosingOvertype","auto",["always","auto","never"],{enumDescriptions:["",C.NC("editor.autoClosingOvertype.auto","Type over closing quotes or brackets only if they were automatically inserted."),""],description:C.NC("autoClosingOvertype","Controls whether the editor should type over closing quotes or brackets.")})),autoClosingQuotes:_e(new M(8,"autoClosingQuotes","languageDefined",["always","languageDefined","beforeWhitespace","never"],{enumDescriptions:["",C.NC("editor.autoClosingQuotes.languageDefined","Use language configurations to determine when to autoclose quotes."),C.NC("editor.autoClosingQuotes.beforeWhitespace","Autoclose quotes only when the cursor is to the left of whitespace."),""],description:C.NC("autoClosingQuotes","Controls whether the editor should automatically close quotes after the user adds an opening quote.")})),autoIndent:_e(new K(9,"autoIndent",4,"full",["none","keep","brackets","advanced","full"],Z,{enumDescriptions:[C.NC("editor.autoIndent.none","The editor will not insert indentation automatically."),C.NC("editor.autoIndent.keep","The editor will keep the current line's indentation."),C.NC("editor.autoIndent.brackets","The editor will keep the current line's indentation and honor language defined brackets."),C.NC("editor.autoIndent.advanced","The editor will keep the current line's indentation, honor language defined brackets and invoke special onEnterRules defined by languages."),C.NC("editor.autoIndent.full","The editor will keep the current line's indentation, honor language defined brackets, invoke special onEnterRules defined by languages, and honor indentationRules defined by languages.")],description:C.NC("autoIndent","Controls whether the editor should automatically adjust the indentation when users type, paste, move or indent lines.")})),automaticLayout:_e(new D(10,"automaticLayout",!1)),autoSurround:_e(new M(11,"autoSurround","languageDefined",["languageDefined","quotes","brackets","never"],{enumDescriptions:[C.NC("editor.autoSurround.languageDefined","Use language configurations to determine when to automatically surround selections."),C.NC("editor.autoSurround.quotes","Surround with quotes but not brackets."),C.NC("editor.autoSurround.brackets","Surround with brackets but not quotes."),""],description:C.NC("autoSurround","Controls whether the editor should automatically surround selections when typing quotes or brackets.")})),bracketPairColorization:_e(new Xe),bracketPairGuides:_e(new Pt),stickyTabStops:_e(new D(106,"stickyTabStops",!1,{description:C.NC("stickyTabStops","Emulate selection behavior of tab characters when using spaces for indentation. Selection will stick to tab stops.")})),codeLens:_e(new D(14,"codeLens",!0,{description:C.NC("codeLens","Controls whether the editor shows CodeLens.")})),codeLensFontFamily:_e(new O(15,"codeLensFontFamily","",{description:C.NC("codeLensFontFamily","Controls the font family for CodeLens.")})),codeLensFontSize:_e(new I(16,"codeLensFontSize",0,0,100,{type:"number",default:0,minimum:0,maximum:100,markdownDescription:C.NC("codeLensFontSize","Controls the font size in pixels for CodeLens. When set to `0`, 90% of `#editor.fontSize#` is used.")})),colorDecorators:_e(new D(17,"colorDecorators",!0,{description:C.NC("colorDecorators","Controls whether the editor should render the inline color decorators and color picker.")})),columnSelection:_e(new D(18,"columnSelection",!1,{description:C.NC("columnSelection","Enable that the selection with the mouse and keys is doing column selection.")})),comments:_e(new de),contextmenu:_e(new D(20,"contextmenu",!0)),copyWithSyntaxHighlighting:_e(new D(21,"copyWithSyntaxHighlighting",!0,{description:C.NC("copyWithSyntaxHighlighting","Controls whether syntax highlighting should be copied into the clipboard.")})),cursorBlinking:_e(new K(22,"cursorBlinking",1,"blink",["blink","smooth","phase","expand","solid"],ge,{description:C.NC("cursorBlinking","Control the cursor animation style.")})),cursorSmoothCaretAnimation:_e(new D(23,"cursorSmoothCaretAnimation",!1,{description:C.NC("cursorSmoothCaretAnimation","Controls whether the smooth caret animation should be enabled.")})),cursorStyle:_e(new K(24,"cursorStyle",le.Line,"line",["line","block","underline","line-thin","block-outline","underline-thin"],se,{description:C.NC("cursorStyle","Controls the cursor style.")})),cursorSurroundingLines:_e(new I(25,"cursorSurroundingLines",0,0,1073741824,{description:C.NC("cursorSurroundingLines","Controls the minimal number of visible leading and trailing lines surrounding the cursor. Known as 'scrollOff' or 'scrollOffset' in some other editors.")})),cursorSurroundingLinesStyle:_e(new M(26,"cursorSurroundingLinesStyle","default",["default","all"],{enumDescriptions:[C.NC("cursorSurroundingLinesStyle.default","`cursorSurroundingLines` is enforced only when triggered via the keyboard or API."),C.NC("cursorSurroundingLinesStyle.all","`cursorSurroundingLines` is enforced always.")],description:C.NC("cursorSurroundingLinesStyle","Controls when `cursorSurroundingLines` should be enforced.")})),cursorWidth:_e(new I(27,"cursorWidth",0,0,1073741824,{markdownDescription:C.NC("cursorWidth","Controls the width of the cursor when `#editor.cursorStyle#` is set to `line`.")})),disableLayerHinting:_e(new D(28,"disableLayerHinting",!1)),disableMonospaceOptimizations:_e(new D(29,"disableMonospaceOptimizations",!1)),domReadOnly:_e(new D(30,"domReadOnly",!1)),dragAndDrop:_e(new D(31,"dragAndDrop",!0,{description:C.NC("dragAndDrop","Controls whether the editor should allow moving selections via drag and drop.")})),emptySelectionClipboard:_e(new re),dropIntoEditor:_e(new Rn),experimental:_e(new Ke),extraEditorClassName:_e(new O(35,"extraEditorClassName","")),fastScrollSensitivity:_e(new E(36,"fastScrollSensitivity",5,yt=>yt<=0?5:yt,{markdownDescription:C.NC("fastScrollSensitivity","Scrolling speed multiplier when pressing `Alt`.")})),find:_e(new ne),fixedOverflowWidgets:_e(new D(38,"fixedOverflowWidgets",!1)),folding:_e(new D(39,"folding",!0,{description:C.NC("folding","Controls whether the editor has code folding enabled.")})),foldingStrategy:_e(new M(40,"foldingStrategy","auto",["auto","indentation"],{enumDescriptions:[C.NC("foldingStrategy.auto","Use a language-specific folding strategy if available, else the indentation-based one."),C.NC("foldingStrategy.indentation","Use the indentation-based folding strategy.")],description:C.NC("foldingStrategy","Controls the strategy for computing folding ranges.")})),foldingHighlight:_e(new D(41,"foldingHighlight",!0,{description:C.NC("foldingHighlight","Controls whether the editor should highlight folded ranges.")})),foldingImportsByDefault:_e(new D(42,"foldingImportsByDefault",!1,{description:C.NC("foldingImportsByDefault","Controls whether the editor automatically collapses import ranges.")})),foldingMaximumRegions:_e(new I(43,"foldingMaximumRegions",5e3,10,65e3,{description:C.NC("foldingMaximumRegions","The maximum number of foldable regions. Increasing this value may result in the editor becoming less responsive when the current source has a large number of foldable regions.")})),unfoldOnClickAfterEndOfLine:_e(new D(44,"unfoldOnClickAfterEndOfLine",!1,{description:C.NC("unfoldOnClickAfterEndOfLine","Controls whether clicking on the empty content after a folded line will unfold the line.")})),fontFamily:_e(new O(45,"fontFamily",qn.fontFamily,{description:C.NC("fontFamily","Controls the font family.")})),fontInfo:_e(new oe),fontLigatures2:_e(new U),fontSize:_e(new q),fontWeight:_e(new ae),formatOnPaste:_e(new D(50,"formatOnPaste",!1,{description:C.NC("formatOnPaste","Controls whether the editor should automatically format the pasted content. A formatter must be available and the formatter should be able to format a range in a document.")})),formatOnType:_e(new D(51,"formatOnType",!1,{description:C.NC("formatOnType","Controls whether the editor should automatically format the line after typing.")})),glyphMargin:_e(new D(52,"glyphMargin",!0,{description:C.NC("glyphMargin","Controls whether the editor should render the vertical glyph margin. Glyph margin is mostly used for debugging.")})),gotoLocation:_e(new me),hideCursorInOverviewRuler:_e(new D(54,"hideCursorInOverviewRuler",!1,{description:C.NC("hideCursorInOverviewRuler","Controls whether the cursor should be hidden in the overview ruler.")})),hover:_e(new ke),inDiffEditor:_e(new D(56,"inDiffEditor",!1)),letterSpacing:_e(new E(58,"letterSpacing",qn.letterSpacing,yt=>E.clamp(yt,-5,20),{description:C.NC("letterSpacing","Controls the letter spacing in pixels.")})),lightbulb:_e(new ut),lineDecorationsWidth:_e(new a(60,"lineDecorationsWidth",10)),lineHeight:_e(new ze),lineNumbers:_e(new Ot),lineNumbersMinChars:_e(new I(63,"lineNumbersMinChars",5,1,300)),linkedEditing:_e(new D(64,"linkedEditing",!1,{description:C.NC("linkedEditing","Controls whether the editor has linked editing enabled. Depending on the language, related symbols, e.g. HTML tags, are updated while editing.")})),links:_e(new D(65,"links",!0,{description:C.NC("links","Controls whether the editor should detect links and make them clickable.")})),matchBrackets:_e(new M(66,"matchBrackets","always",["always","near","never"],{description:C.NC("matchBrackets","Highlight matching brackets.")})),minimap:_e(new Le),mouseStyle:_e(new M(68,"mouseStyle","text",["text","default","copy"])),mouseWheelScrollSensitivity:_e(new E(69,"mouseWheelScrollSensitivity",1,yt=>yt===0?1:yt,{markdownDescription:C.NC("mouseWheelScrollSensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")})),mouseWheelZoom:_e(new D(70,"mouseWheelZoom",!1,{markdownDescription:C.NC("mouseWheelZoom","Zoom the font of the editor when using mouse wheel and holding `Ctrl`.")})),multiCursorMergeOverlapping:_e(new D(71,"multiCursorMergeOverlapping",!0,{description:C.NC("multiCursorMergeOverlapping","Merge multiple cursors when they are overlapping.")})),multiCursorModifier:_e(new K(72,"multiCursorModifier","altKey","alt",["ctrlCmd","alt"],Ze,{markdownEnumDescriptions:[C.NC("multiCursorModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),C.NC("multiCursorModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],markdownDescription:C.NC({key:"multiCursorModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add multiple cursors with the mouse. The Go to Definition and Open Link mouse gestures will adapt such that they do not conflict with the [multicursor modifier](https://code.visualstudio.com/docs/editor/codebasics#_multicursor-modifier).")})),multiCursorPaste:_e(new M(73,"multiCursorPaste","spread",["spread","full"],{markdownEnumDescriptions:[C.NC("multiCursorPaste.spread","Each cursor pastes a single line of the text."),C.NC("multiCursorPaste.full","Each cursor pastes the full text.")],markdownDescription:C.NC("multiCursorPaste","Controls pasting when the line count of the pasted text matches the cursor count.")})),occurrencesHighlight:_e(new D(74,"occurrencesHighlight",!0,{description:C.NC("occurrencesHighlight","Controls whether the editor should highlight semantic symbol occurrences.")})),overviewRulerBorder:_e(new D(75,"overviewRulerBorder",!0,{description:C.NC("overviewRulerBorder","Controls whether a border should be drawn around the overview ruler.")})),overviewRulerLanes:_e(new I(76,"overviewRulerLanes",3,0,3)),padding:_e(new Ge),parameterHints:_e(new Fe),peekWidgetDefaultFocus:_e(new M(79,"peekWidgetDefaultFocus","tree",["tree","editor"],{enumDescriptions:[C.NC("peekWidgetDefaultFocus.tree","Focus the tree when opening peek"),C.NC("peekWidgetDefaultFocus.editor","Focus the editor when opening peek")],description:C.NC("peekWidgetDefaultFocus","Controls whether to focus the inline editor or the tree in the peek widget.")})),definitionLinkOpensInPeek:_e(new D(80,"definitionLinkOpensInPeek",!1,{description:C.NC("definitionLinkOpensInPeek","Controls whether the Go to Definition mouse gesture always opens the peek widget.")})),quickSuggestions:_e(new ft),quickSuggestionsDelay:_e(new I(82,"quickSuggestionsDelay",10,0,1073741824,{description:C.NC("quickSuggestionsDelay","Controls the delay in milliseconds after which quick suggestions will show up.")})),readOnly:_e(new D(83,"readOnly",!1)),renameOnType:_e(new D(84,"renameOnType",!1,{description:C.NC("renameOnType","Controls whether the editor auto renames on type."),markdownDeprecationMessage:C.NC("renameOnTypeDeprecate","Deprecated, use `editor.linkedEditing` instead.")})),renderControlCharacters:_e(new D(85,"renderControlCharacters",!0,{description:C.NC("renderControlCharacters","Controls whether the editor should render control characters."),restricted:!0})),renderFinalNewline:_e(new D(86,"renderFinalNewline",!0,{description:C.NC("renderFinalNewline","Render last line number when the file ends with a newline.")})),renderLineHighlight:_e(new M(87,"renderLineHighlight","line",["none","gutter","line","all"],{enumDescriptions:["","","",C.NC("renderLineHighlight.all","Highlights both the gutter and the current line.")],description:C.NC("renderLineHighlight","Controls how the editor should render the current line highlight.")})),renderLineHighlightOnlyWhenFocus:_e(new D(88,"renderLineHighlightOnlyWhenFocus",!1,{description:C.NC("renderLineHighlightOnlyWhenFocus","Controls if the editor should render the current line highlight only when the editor is focused.")})),renderValidationDecorations:_e(new M(89,"renderValidationDecorations","editable",["editable","on","off"])),renderWhitespace:_e(new M(90,"renderWhitespace","selection",["none","boundary","selection","trailing","all"],{enumDescriptions:["",C.NC("renderWhitespace.boundary","Render whitespace characters except for single spaces between words."),C.NC("renderWhitespace.selection","Render whitespace characters only on selected text."),C.NC("renderWhitespace.trailing","Render only trailing whitespace characters."),""],description:C.NC("renderWhitespace","Controls how the editor should render whitespace characters.")})),revealHorizontalRightPadding:_e(new I(91,"revealHorizontalRightPadding",30,0,1e3)),roundedSelection:_e(new D(92,"roundedSelection",!0,{description:C.NC("roundedSelection","Controls whether selections should have rounded corners.")})),rulers:_e(new Vt),scrollbar:_e(new St),scrollBeyondLastColumn:_e(new I(95,"scrollBeyondLastColumn",4,0,1073741824,{description:C.NC("scrollBeyondLastColumn","Controls the number of extra characters beyond which the editor will scroll horizontally.")})),scrollBeyondLastLine:_e(new D(96,"scrollBeyondLastLine",!0,{description:C.NC("scrollBeyondLastLine","Controls whether the editor will scroll beyond the last line.")})),scrollPredominantAxis:_e(new D(97,"scrollPredominantAxis",!0,{description:C.NC("scrollPredominantAxis","Scroll only along the predominant axis when scrolling both vertically and horizontally at the same time. Prevents horizontal drift when scrolling vertically on a trackpad.")})),selectionClipboard:_e(new D(98,"selectionClipboard",!0,{description:C.NC("selectionClipboard","Controls whether the Linux primary clipboard should be supported."),included:d.IJ})),selectionHighlight:_e(new D(99,"selectionHighlight",!0,{description:C.NC("selectionHighlight","Controls whether the editor should highlight matches similar to the selection.")})),selectOnLineNumbers:_e(new D(100,"selectOnLineNumbers",!0)),showFoldingControls:_e(new M(101,"showFoldingControls","mouseover",["always","never","mouseover"],{enumDescriptions:[C.NC("showFoldingControls.always","Always show the folding controls."),C.NC("showFoldingControls.never","Never show the folding controls and reduce the gutter size."),C.NC("showFoldingControls.mouseover","Only show the folding controls when the mouse is over the gutter.")],description:C.NC("showFoldingControls","Controls when the folding controls on the gutter are shown.")})),showUnused:_e(new D(102,"showUnused",!0,{description:C.NC("showUnused","Controls fading out of unused code.")})),showDeprecated:_e(new D(128,"showDeprecated",!0,{description:C.NC("showDeprecated","Controls strikethrough deprecated variables.")})),inlayHints:_e(new He),snippetSuggestions:_e(new M(103,"snippetSuggestions","inline",["top","bottom","inline","none"],{enumDescriptions:[C.NC("snippetSuggestions.top","Show snippet suggestions on top of other suggestions."),C.NC("snippetSuggestions.bottom","Show snippet suggestions below other suggestions."),C.NC("snippetSuggestions.inline","Show snippets suggestions with other suggestions."),C.NC("snippetSuggestions.none","Do not show snippet suggestions.")],description:C.NC("snippetSuggestions","Controls whether snippets are shown with other suggestions and how they are sorted.")})),smartSelect:_e(new at),smoothScrolling:_e(new D(105,"smoothScrolling",!1,{description:C.NC("smoothScrolling","Controls whether the editor will scroll using an animation.")})),stopRenderingLineAfter:_e(new I(107,"stopRenderingLineAfter",1e4,-1,1073741824)),suggest:_e(new pn),inlineSuggest:_e(new Be),suggestFontSize:_e(new I(109,"suggestFontSize",0,0,1e3,{markdownDescription:C.NC("suggestFontSize","Font size for the suggest widget. When set to {0}, the value of {1} is used.","`0`","`#editor.fontSize#`")})),suggestLineHeight:_e(new I(110,"suggestLineHeight",0,0,1e3,{markdownDescription:C.NC("suggestLineHeight","Line height for the suggest widget. When set to {0}, the value of {1} is used. The minimum value is 8.","`0`","`#editor.lineHeight#`")})),suggestOnTriggerCharacters:_e(new D(111,"suggestOnTriggerCharacters",!0,{description:C.NC("suggestOnTriggerCharacters","Controls whether suggestions should automatically show up when typing trigger characters.")})),suggestSelection:_e(new M(112,"suggestSelection","first",["first","recentlyUsed","recentlyUsedByPrefix"],{markdownEnumDescriptions:[C.NC("suggestSelection.first","Always select the first suggestion."),C.NC("suggestSelection.recentlyUsed","Select recent suggestions unless further typing selects one, e.g. `console.| -> console.log` because `log` has been completed recently."),C.NC("suggestSelection.recentlyUsedByPrefix","Select suggestions based on previous prefixes that have completed those suggestions, e.g. `co -> console` and `con -> const`.")],description:C.NC("suggestSelection","Controls how suggestions are pre-selected when showing the suggest list.")})),tabCompletion:_e(new M(113,"tabCompletion","off",["on","off","onlySnippets"],{enumDescriptions:[C.NC("tabCompletion.on","Tab complete will insert the best matching suggestion when pressing tab."),C.NC("tabCompletion.off","Disable tab completions."),C.NC("tabCompletion.onlySnippets","Tab complete snippets when their prefix match. Works best when 'quickSuggestions' aren't enabled.")],description:C.NC("tabCompletion","Enables tab completions.")})),tabIndex:_e(new I(114,"tabIndex",0,-1,1073741824)),unicodeHighlight:_e(new Ee),unusualLineTerminators:_e(new M(116,"unusualLineTerminators","prompt",["auto","off","prompt"],{enumDescriptions:[C.NC("unusualLineTerminators.auto","Unusual line terminators are automatically removed."),C.NC("unusualLineTerminators.off","Unusual line terminators are ignored."),C.NC("unusualLineTerminators.prompt","Unusual line terminators prompt to be removed.")],description:C.NC("unusualLineTerminators","Remove unusual line terminators that might cause problems.")})),useShadowDOM:_e(new D(117,"useShadowDOM",!0)),useTabStops:_e(new D(118,"useTabStops",!0,{description:C.NC("useTabStops","Inserting and deleting whitespace follows tab stops.")})),wordSeparators:_e(new O(119,"wordSeparators",j.vu,{description:C.NC("wordSeparators","Characters that will be used as word separators when doing word related navigations or operations.")})),wordWrap:_e(new M(120,"wordWrap","off",["off","on","wordWrapColumn","bounded"],{markdownEnumDescriptions:[C.NC("wordWrap.off","Lines will never wrap."),C.NC("wordWrap.on","Lines will wrap at the viewport width."),C.NC({key:"wordWrap.wordWrapColumn",comment:["- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at `#editor.wordWrapColumn#`."),C.NC({key:"wordWrap.bounded",comment:["- viewport means the edge of the visible window size.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Lines will wrap at the minimum of viewport and `#editor.wordWrapColumn#`.")],description:C.NC({key:"wordWrap",comment:["- 'off', 'on', 'wordWrapColumn' and 'bounded' refer to values the setting can take and should not be localized.","- `editor.wordWrapColumn` refers to a different setting and should not be localized."]},"Controls how lines should wrap.")})),wordWrapBreakAfterCharacters:_e(new O(121,"wordWrapBreakAfterCharacters"," 	})]?|/&.,;\xA2\xB0\u2032\u2033\u2030\u2103\u3001\u3002\uFF61\uFF64\uFFE0\uFF0C\uFF0E\uFF1A\uFF1B\uFF1F\uFF01\uFF05\u30FB\uFF65\u309D\u309E\u30FD\u30FE\u30FC\u30A1\u30A3\u30A5\u30A7\u30A9\u30C3\u30E3\u30E5\u30E7\u30EE\u30F5\u30F6\u3041\u3043\u3045\u3047\u3049\u3063\u3083\u3085\u3087\u308E\u3095\u3096\u31F0\u31F1\u31F2\u31F3\u31F4\u31F5\u31F6\u31F7\u31F8\u31F9\u31FA\u31FB\u31FC\u31FD\u31FE\u31FF\u3005\u303B\uFF67\uFF68\uFF69\uFF6A\uFF6B\uFF6C\uFF6D\uFF6E\uFF6F\uFF70\u201D\u3009\u300B\u300D\u300F\u3011\u3015\uFF09\uFF3D\uFF5D\uFF63")),wordWrapBreakBeforeCharacters:_e(new O(122,"wordWrapBreakBeforeCharacters","([{\u2018\u201C\u3008\u300A\u300C\u300E\u3010\u3014\uFF08\uFF3B\uFF5B\uFF62\xA3\xA5\uFF04\uFFE1\uFFE5+\uFF0B")),wordWrapColumn:_e(new I(123,"wordWrapColumn",80,1,1073741824,{markdownDescription:C.NC({key:"wordWrapColumn",comment:["- `editor.wordWrap` refers to a different setting and should not be localized.","- 'wordWrapColumn' and 'bounded' refer to values the different setting can take and should not be localized."]},"Controls the wrapping column of the editor when `#editor.wordWrap#` is `wordWrapColumn` or `bounded`.")})),wordWrapOverride1:_e(new M(124,"wordWrapOverride1","inherit",["off","on","inherit"])),wordWrapOverride2:_e(new M(125,"wordWrapOverride2","inherit",["off","on","inherit"])),wrappingIndent:_e(new K(126,"wrappingIndent",1,"same",["none","same","indent","deepIndent"],Gt,{enumDescriptions:[C.NC("wrappingIndent.none","No indentation. Wrapped lines begin at column 1."),C.NC("wrappingIndent.same","Wrapped lines get the same indentation as the parent."),C.NC("wrappingIndent.indent","Wrapped lines get +1 indentation toward the parent."),C.NC("wrappingIndent.deepIndent","Wrapped lines get +2 indentation toward the parent.")],description:C.NC("wrappingIndent","Controls the indentation of wrapped lines.")})),wrappingStrategy:_e(new M(127,"wrappingStrategy","simple",["simple","advanced"],{enumDescriptions:[C.NC("wrappingStrategy.simple","Assumes that all characters are of the same width. This is a fast algorithm that works correctly for monospace fonts and certain scripts (like Latin characters) where glyphs are of equal width."),C.NC("wrappingStrategy.advanced","Delegates wrapping points computation to the browser. This is a slow algorithm, that might cause freezes for large files, but it works correctly in all cases.")],description:C.NC("wrappingStrategy","Controls the algorithm that computes wrapping points.")})),editorClassName:_e(new X),pixelRatio:_e(new ct),tabFocusMode:_e(new Mt),layoutInfo:_e(new H),wrappingInfo:_e(new _n)}},20896:function(nt,xe,l){"use strict";l.d(xe,{C:function(){return d}});var C=l(60218);const d=new class{constructor(){this._zoomLevel=0,this._onDidChangeZoomLevel=new C.Q5,this.onDidChangeZoomLevel=this._onDidChangeZoomLevel.event}getZoomLevel(){return this._zoomLevel}setZoomLevel(j){j=Math.min(Math.max(-5,j),20),this._zoomLevel!==j&&(this._zoomLevel=j,this._onDidChangeZoomLevel.fire(this._zoomLevel))}}},82220:function(nt,xe,l){"use strict";l.d(xe,{E4:function(){return z},pR:function(){return A}});var C=l(94976),d=l(24030),j=l(20896);const W=C.dz?1.5:1.35,L=8;class z{constructor(S){this._bareFontInfoBrand=void 0,this.pixelRatio=S.pixelRatio,this.fontFamily=String(S.fontFamily),this.fontWeight=String(S.fontWeight),this.fontSize=S.fontSize,this.fontFeatureSettings=S.fontFeatureSettings,this.lineHeight=S.lineHeight|0,this.letterSpacing=S.letterSpacing}static createFromValidatedSettings(S,_,y){const u=S.get(45),a=S.get(49),b=S.get(48),D=S.get(47),N=S.get(61),I=S.get(58);return z._create(u,a,b,D,N,I,_,y)}static _create(S,_,y,u,a,b,D,N){a===0?a=W*y:a<L&&(a=a*y),a=Math.round(a),a<L&&(a=L);const I=1+(N?0:j.C.getZoomLevel()*.1);return y*=I,a*=I,new z({pixelRatio:D,fontFamily:S,fontWeight:_,fontSize:y,fontFeatureSettings:u,lineHeight:a,letterSpacing:b})}getId(){return`${this.pixelRatio}-${this.fontFamily}-${this.fontWeight}-${this.fontSize}-${this.fontFeatureSettings}-${this.lineHeight}-${this.letterSpacing}`}getMassagedFontFamily(){const S=d.hL.fontFamily,_=z._wrapInQuotes(this.fontFamily);return S&&this.fontFamily!==S?`${_}, ${S}`:_}static _wrapInQuotes(S){return/[,"']/.test(S)?S:/[+ ]/.test(S)?`"${S}"`:S}}const P=1;class A extends z{constructor(S,_){super(S),this._editorStylingBrand=void 0,this.version=P,this.isTrusted=_,this.isMonospace=S.isMonospace,this.typicalHalfwidthCharacterWidth=S.typicalHalfwidthCharacterWidth,this.typicalFullwidthCharacterWidth=S.typicalFullwidthCharacterWidth,this.canUseHalfwidthRightwardsArrow=S.canUseHalfwidthRightwardsArrow,this.spaceWidth=S.spaceWidth,this.middotWidth=S.middotWidth,this.wsmiddotWidth=S.wsmiddotWidth,this.maxDigitWidth=S.maxDigitWidth}equals(S){return this.fontFamily===S.fontFamily&&this.fontWeight===S.fontWeight&&this.fontSize===S.fontSize&&this.fontFeatureSettings===S.fontFeatureSettings&&this.lineHeight===S.lineHeight&&this.letterSpacing===S.letterSpacing&&this.typicalHalfwidthCharacterWidth===S.typicalHalfwidthCharacterWidth&&this.typicalFullwidthCharacterWidth===S.typicalFullwidthCharacterWidth&&this.canUseHalfwidthRightwardsArrow===S.canUseHalfwidthRightwardsArrow&&this.spaceWidth===S.spaceWidth&&this.middotWidth===S.middotWidth&&this.wsmiddotWidth===S.wsmiddotWidth&&this.maxDigitWidth===S.maxDigitWidth}}},7278:function(nt,xe,l){"use strict";l.d(xe,{N:function(){return d},q:function(){return j}});var C=l(96796);class d{constructor(L){const z=(0,C.K)(L);this._defaultValue=z,this._asciiMap=d._createAsciiMap(z),this._map=new Map}static _createAsciiMap(L){const z=new Uint8Array(256);for(let P=0;P<256;P++)z[P]=L;return z}set(L,z){const P=(0,C.K)(z);L>=0&&L<256?this._asciiMap[L]=P:this._map.set(L,P)}get(L){return L>=0&&L<256?this._asciiMap[L]:this._map.get(L)||this._defaultValue}}class j{constructor(){this._actual=new d(0)}add(L){this._actual.set(L,1)}has(L){return this._actual.get(L)===1}}},72289:function(nt,xe,l){"use strict";l.d(xe,{i:function(){return d}});var C=l(22297);class d{static _nextVisibleColumn(W,L,z){return W===9?d.nextRenderTabStop(L,z):C.K7(W)||C.C8(W)?L+2:L+1}static visibleColumnFromColumn(W,L,z){const P=Math.min(L-1,W.length),A=W.substring(0,P),T=new C.W1(A);let S=0;for(;!T.eol();){const _=C.ZH(A,P,T.offset);T.nextGraphemeLength(),S=this._nextVisibleColumn(_,S,z)}return S}static columnFromVisibleColumn(W,L,z){if(L<=0)return 1;const P=W.length,A=new C.W1(W);let T=0,S=1;for(;!A.eol();){const _=C.ZH(W,P,A.offset);A.nextGraphemeLength();const y=this._nextVisibleColumn(_,T,z),u=A.offset+1;if(y>=L){const a=L-T;return y-L<a?u:S}T=y,S=u}return P+1}static nextRenderTabStop(W,L){return W+L-W%L}static nextIndentTabStop(W,L){return W+L-W%L}static prevRenderTabStop(W,L){return Math.max(0,W-1-(W-1)%L)}static prevIndentTabStop(W,L){return Math.max(0,W-1-(W-1)%L)}}},74691:function(nt,xe,l){"use strict";l.d(xe,{h:function(){return d}});var C=l(14481);class d{static insert(W,L){return{range:new C.e(W.lineNumber,W.column,W.lineNumber,W.column),text:L,forceMoveMarkers:!0}}static delete(W){return{range:W,text:null}}static replace(W,L){return{range:W,text:L}}static replaceMove(W,L){return{range:W,text:L,forceMoveMarkers:!0}}}},66658:function(nt,xe,l){"use strict";l.d(xe,{CE:function(){return H},DD:function(){return E},DS:function(){return Ge},Dl:function(){return K},HV:function(){return St},IO:function(){return re},Jn:function(){return ct},Kh:function(){return z},L7:function(){return We},Mm:function(){return P},N5:function(){return X},Qb:function(){return Ot},Re:function(){return q},TC:function(){return M},To:function(){return Vt},UP:function(){return ut},Vs:function(){return ke},YF:function(){return ft},Ym:function(){return D},eS:function(){return ae},e_:function(){return te},f9:function(){return Re},fY:function(){return u},hw:function(){return N},kp:function(){return ge},lK:function(){return oe},lS:function(){return Fe},m$:function(){return Ze},m1:function(){return He},m3:function(){return Et},m9:function(){return U},n0:function(){return y},oV:function(){return Le},r0:function(){return Ke},tR:function(){return b},ts:function(){return ze},x3:function(){return se},zJ:function(){return me},zk:function(){return O},zu:function(){return le},zw:function(){return Z}});var C=l(83218),d=l(15304),j=l(55952),W=l(16597),L=l(26687);const z=(0,j.P6G)("editor.lineHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},C.NC("lineHighlight","Background color for the highlight of line at the cursor position.")),P=(0,j.P6G)("editor.lineHighlightBorder",{dark:"#282828",light:"#eeeeee",hcDark:"#f38518",hcLight:j.lRK},C.NC("lineHighlightBorderBox","Background color for the border around the line at the cursor position.")),A=(0,j.P6G)("editor.rangeHighlightBackground",{dark:"#ffffff0b",light:"#fdff0033",hcDark:null,hcLight:null},C.NC("rangeHighlight","Background color of highlighted ranges, like by quick open and find features. The color must not be opaque so as not to hide underlying decorations."),!0),T=(0,j.P6G)("editor.rangeHighlightBorder",{dark:null,light:null,hcDark:j.xL1,hcLight:j.xL1},C.NC("rangeHighlightBorder","Background color of the border around highlighted ranges."),!0),S=(0,j.P6G)("editor.symbolHighlightBackground",{dark:j.MUv,light:j.MUv,hcDark:null,hcLight:null},C.NC("symbolHighlight","Background color of highlighted symbol, like for go to definition or go next/previous symbol. The color must not be opaque so as not to hide underlying decorations."),!0),_=(0,j.P6G)("editor.symbolHighlightBorder",{dark:null,light:null,hcDark:j.xL1,hcLight:j.xL1},C.NC("symbolHighlightBorder","Background color of the border around highlighted symbols."),!0),y=(0,j.P6G)("editorCursor.foreground",{dark:"#AEAFAD",light:d.Il.black,hcDark:d.Il.white,hcLight:"#0F4A85"},C.NC("caret","Color of the editor cursor.")),u=(0,j.P6G)("editorCursor.background",null,C.NC("editorCursorBackground","The background color of the editor cursor. Allows customizing the color of a character overlapped by a block cursor.")),a=(0,j.P6G)("editorWhitespace.foreground",{dark:"#e3e4e229",light:"#33333333",hcDark:"#e3e4e229",hcLight:"#CCCCCC"},C.NC("editorWhitespaces","Color of whitespace characters in the editor.")),b=(0,j.P6G)("editorIndentGuide.background",{dark:a,light:a,hcDark:a,hcLight:a},C.NC("editorIndentGuides","Color of the editor indentation guides.")),D=(0,j.P6G)("editorIndentGuide.activeBackground",{dark:a,light:a,hcDark:a,hcLight:a},C.NC("editorActiveIndentGuide","Color of the active editor indentation guides.")),N=(0,j.P6G)("editorLineNumber.foreground",{dark:"#858585",light:"#237893",hcDark:d.Il.white,hcLight:"#292929"},C.NC("editorLineNumbers","Color of editor line numbers.")),I=(0,j.P6G)("editorActiveLineNumber.foreground",{dark:"#c6c6c6",light:"#0B216F",hcDark:j.xL1,hcLight:j.xL1},C.NC("editorActiveLineNumber","Color of editor active line number"),!1,C.NC("deprecatedEditorActiveLineNumber","Id is deprecated. Use 'editorLineNumber.activeForeground' instead.")),E=(0,j.P6G)("editorLineNumber.activeForeground",{dark:I,light:I,hcDark:I,hcLight:I},C.NC("editorActiveLineNumber","Color of editor active line number")),O=(0,j.P6G)("editorRuler.foreground",{dark:"#5A5A5A",light:d.Il.lightgrey,hcDark:d.Il.white,hcLight:"#292929"},C.NC("editorRuler","Color of the editor rulers.")),R=(0,j.P6G)("editorCodeLens.foreground",{dark:"#999999",light:"#919191",hcDark:"#999999",hcLight:"#292929"},C.NC("editorCodeLensForeground","Foreground color of editor CodeLens")),M=(0,j.P6G)("editorBracketMatch.background",{dark:"#0064001a",light:"#0064001a",hcDark:"#0064001a",hcLight:"#0000"},C.NC("editorBracketMatchBackground","Background color behind matching brackets")),K=(0,j.P6G)("editorBracketMatch.border",{dark:"#888",light:"#B9B9B9",hcDark:j.lRK,hcLight:j.lRK},C.NC("editorBracketMatchBorder","Color for matching brackets boxes")),Z=(0,j.P6G)("editorOverviewRuler.border",{dark:"#7f7f7f4d",light:"#7f7f7f4d",hcDark:"#7f7f7f4d",hcLight:"#666666"},C.NC("editorOverviewRulerBorder","Color of the overview ruler border.")),te=(0,j.P6G)("editorOverviewRuler.background",null,C.NC("editorOverviewRulerBackground","Background color of the editor overview ruler. Only used when the minimap is enabled and placed on the right side of the editor.")),de=(0,j.P6G)("editorGutter.background",{dark:j.cvW,light:j.cvW,hcDark:j.cvW,hcLight:j.cvW},C.NC("editorGutter","Background color of the editor gutter. The gutter contains the glyph margins and the line numbers.")),ge=(0,j.P6G)("editorUnnecessaryCode.border",{dark:null,light:null,hcDark:d.Il.fromHex("#fff").transparent(.8),hcLight:j.lRK},C.NC("unnecessaryCodeBorder","Border color of unnecessary (unused) source code in the editor.")),le=(0,j.P6G)("editorUnnecessaryCode.opacity",{dark:d.Il.fromHex("#000a"),light:d.Il.fromHex("#0007"),hcDark:null,hcLight:null},C.NC("unnecessaryCodeOpacity",`Opacity of unnecessary (unused) source code in the editor. For example, "#000000c0" will render the code with 75% opacity. For high contrast themes, use the  'editorUnnecessaryCode.border' theme color to underline unnecessary code instead of fading it out.`)),se=(0,j.P6G)("editorGhostText.border",{dark:null,light:null,hcDark:d.Il.fromHex("#fff").transparent(.8),hcLight:d.Il.fromHex("#292929").transparent(.8)},C.NC("editorGhostTextBorder","Border color of ghost text in the editor.")),X=(0,j.P6G)("editorGhostText.foreground",{dark:d.Il.fromHex("#ffffff56"),light:d.Il.fromHex("#0007"),hcDark:null,hcLight:null},C.NC("editorGhostTextForeground","Foreground color of the ghost text in the editor.")),re=(0,j.P6G)("editorGhostText.background",{dark:null,light:null,hcDark:null,hcLight:null},C.NC("editorGhostTextBackground","Background color of the ghost text in the editor.")),ne=new d.Il(new d.VS(0,122,204,.6)),U=(0,j.P6G)("editorOverviewRuler.rangeHighlightForeground",{dark:ne,light:ne,hcDark:ne,hcLight:ne},C.NC("overviewRulerRangeHighlight","Overview ruler marker color for range highlights. The color must not be opaque so as not to hide underlying decorations."),!0),oe=(0,j.P6G)("editorOverviewRuler.errorForeground",{dark:new d.Il(new d.VS(255,18,18,.7)),light:new d.Il(new d.VS(255,18,18,.7)),hcDark:new d.Il(new d.VS(255,50,50,1)),hcLight:"#B5200D"},C.NC("overviewRuleError","Overview ruler marker color for errors.")),q=(0,j.P6G)("editorOverviewRuler.warningForeground",{dark:j.uoC,light:j.uoC,hcDark:j.pW3,hcLight:j.pW3},C.NC("overviewRuleWarning","Overview ruler marker color for warnings.")),ae=(0,j.P6G)("editorOverviewRuler.infoForeground",{dark:j.c63,light:j.c63,hcDark:j.T83,hcLight:j.T83},C.NC("overviewRuleInfo","Overview ruler marker color for infos.")),me=(0,j.P6G)("editorBracketHighlight.foreground1",{dark:"#FFD700",light:"#0431FAFF",hcDark:"#FFD700",hcLight:"#0431FAFF"},C.NC("editorBracketHighlightForeground1","Foreground color of brackets (1). Requires enabling bracket pair colorization.")),ke=(0,j.P6G)("editorBracketHighlight.foreground2",{dark:"#DA70D6",light:"#319331FF",hcDark:"#DA70D6",hcLight:"#319331FF"},C.NC("editorBracketHighlightForeground2","Foreground color of brackets (2). Requires enabling bracket pair colorization.")),H=(0,j.P6G)("editorBracketHighlight.foreground3",{dark:"#179FFF",light:"#7B3814FF",hcDark:"#87CEFA",hcLight:"#7B3814FF"},C.NC("editorBracketHighlightForeground3","Foreground color of brackets (3). Requires enabling bracket pair colorization.")),ut=(0,j.P6G)("editorBracketHighlight.foreground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},C.NC("editorBracketHighlightForeground4","Foreground color of brackets (4). Requires enabling bracket pair colorization.")),Ke=(0,j.P6G)("editorBracketHighlight.foreground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},C.NC("editorBracketHighlightForeground5","Foreground color of brackets (5). Requires enabling bracket pair colorization.")),He=(0,j.P6G)("editorBracketHighlight.foreground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},C.NC("editorBracketHighlightForeground6","Foreground color of brackets (6). Requires enabling bracket pair colorization.")),ze=(0,j.P6G)("editorBracketHighlight.unexpectedBracket.foreground",{dark:new d.Il(new d.VS(255,18,18,.8)),light:new d.Il(new d.VS(255,18,18,.8)),hcDark:new d.Il(new d.VS(255,50,50,1)),hcLight:""},C.NC("editorBracketHighlightUnexpectedBracketForeground","Foreground color of unexpected brackets.")),Le=(0,j.P6G)("editorBracketPairGuide.background1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},C.NC("editorBracketPairGuide.background1","Background color of inactive bracket pair guides (1). Requires enabling bracket pair guides.")),Ze=(0,j.P6G)("editorBracketPairGuide.background2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},C.NC("editorBracketPairGuide.background2","Background color of inactive bracket pair guides (2). Requires enabling bracket pair guides.")),Ge=(0,j.P6G)("editorBracketPairGuide.background3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},C.NC("editorBracketPairGuide.background3","Background color of inactive bracket pair guides (3). Requires enabling bracket pair guides.")),Fe=(0,j.P6G)("editorBracketPairGuide.background4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},C.NC("editorBracketPairGuide.background4","Background color of inactive bracket pair guides (4). Requires enabling bracket pair guides.")),ct=(0,j.P6G)("editorBracketPairGuide.background5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},C.NC("editorBracketPairGuide.background5","Background color of inactive bracket pair guides (5). Requires enabling bracket pair guides.")),ft=(0,j.P6G)("editorBracketPairGuide.background6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},C.NC("editorBracketPairGuide.background6","Background color of inactive bracket pair guides (6). Requires enabling bracket pair guides.")),Ot=(0,j.P6G)("editorBracketPairGuide.activeBackground1",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},C.NC("editorBracketPairGuide.activeBackground1","Background color of active bracket pair guides (1). Requires enabling bracket pair guides.")),Et=(0,j.P6G)("editorBracketPairGuide.activeBackground2",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},C.NC("editorBracketPairGuide.activeBackground2","Background color of active bracket pair guides (2). Requires enabling bracket pair guides.")),Vt=(0,j.P6G)("editorBracketPairGuide.activeBackground3",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},C.NC("editorBracketPairGuide.activeBackground3","Background color of active bracket pair guides (3). Requires enabling bracket pair guides.")),We=(0,j.P6G)("editorBracketPairGuide.activeBackground4",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},C.NC("editorBracketPairGuide.activeBackground4","Background color of active bracket pair guides (4). Requires enabling bracket pair guides.")),St=(0,j.P6G)("editorBracketPairGuide.activeBackground5",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},C.NC("editorBracketPairGuide.activeBackground5","Background color of active bracket pair guides (5). Requires enabling bracket pair guides.")),Re=(0,j.P6G)("editorBracketPairGuide.activeBackground6",{dark:"#00000000",light:"#00000000",hcDark:"#00000000",hcLight:"#00000000"},C.NC("editorBracketPairGuide.activeBackground6","Background color of active bracket pair guides (6). Requires enabling bracket pair guides.")),Se=(0,j.P6G)("editorUnicodeHighlight.border",{dark:"#BD9B03",light:"#CEA33D",hcDark:"#ff0000",hcLight:""},C.NC("editorUnicodeHighlight.border","Border color used to highlight unicode characters.")),Ee=(0,j.P6G)("editorUnicodeHighlight.background",{dark:"#bd9b0326",light:"#cea33d14",hcDark:"#00000000",hcLight:""},C.NC("editorUnicodeHighlight.background","Background color used to highlight unicode characters."));(0,W.Ic)((Be,Xe)=>{const Pt=Be.getColor(j.cvW);Pt&&Xe.addRule(`.monaco-editor, .monaco-editor-background { background-color: ${Pt}; }`);const jt=Be.getColor(z),pn=jt&&!jt.isTransparent()?jt:Pt;pn&&Xe.addRule(`.monaco-editor .inputarea.ime-input { background-color: ${pn}; }`);const at=Be.getColor(j.NOs);at&&Xe.addRule(`.monaco-editor, .monaco-editor .inputarea.ime-input { color: ${at}; }`);const Mt=Be.getColor(de);Mt&&Xe.addRule(`.monaco-editor .margin { background-color: ${Mt}; }`);const Gt=Be.getColor(A);Gt&&Xe.addRule(`.monaco-editor .rangeHighlight { background-color: ${Gt}; }`);const _n=Be.getColor(T);_n&&Xe.addRule(`.monaco-editor .rangeHighlight { border: 1px ${(0,L.c3)(Be.type)?"dotted":"solid"} ${_n}; }`);const Rn=Be.getColor(S);Rn&&Xe.addRule(`.monaco-editor .symbolHighlight { background-color: ${Rn}; }`);const Wn=Be.getColor(_);Wn&&Xe.addRule(`.monaco-editor .symbolHighlight { border: 1px ${(0,L.c3)(Be.type)?"dotted":"solid"} ${Wn}; }`);const wn=Be.getColor(a);wn&&(Xe.addRule(`.monaco-editor .mtkw { color: ${wn} !important; }`),Xe.addRule(`.monaco-editor .mtkz { color: ${wn} !important; }`))})},9357:function(nt,xe,l){"use strict";l.d(xe,{Q:function(){return C}});function C(d){let j=0,W=0,L=0,z=0;for(let P=0,A=d.length;P<A;P++){const T=d.charCodeAt(P);T===13?(j===0&&(W=P),j++,P+1<A&&d.charCodeAt(P+1)===10?(z|=2,P++):z|=3,L=P+1):T===10&&(z|=1,j===0&&(W=P),j++,L=P+1)}return j===0&&(W=d.length),[j,W,d.length-L,z]}},69460:function(nt,xe,l){"use strict";l.d(xe,{x:function(){return W}});var C=l(22297),d=l(72289);function j(L,z,P){let A=0;for(let S=0;S<L.length;S++)L.charAt(S)==="	"?A=d.i.nextIndentTabStop(A,z):A++;let T="";if(!P){const S=Math.floor(A/z);A=A%z;for(let _=0;_<S;_++)T+="	"}for(let S=0;S<A;S++)T+=" ";return T}function W(L,z,P){let A=C.LC(L);return A===-1&&(A=L.length),j(L.substring(0,A),z,P)+L.substring(A)}},67120:function(nt,xe,l){"use strict";l.d(xe,{L:function(){return C}});class C{constructor(j,W){this.lineNumber=j,this.column=W}with(j=this.lineNumber,W=this.column){return j===this.lineNumber&&W===this.column?this:new C(j,W)}delta(j=0,W=0){return this.with(this.lineNumber+j,this.column+W)}equals(j){return C.equals(this,j)}static equals(j,W){return!j&&!W?!0:!!j&&!!W&&j.lineNumber===W.lineNumber&&j.column===W.column}isBefore(j){return C.isBefore(this,j)}static isBefore(j,W){return j.lineNumber<W.lineNumber?!0:W.lineNumber<j.lineNumber?!1:j.column<W.column}isBeforeOrEqual(j){return C.isBeforeOrEqual(this,j)}static isBeforeOrEqual(j,W){return j.lineNumber<W.lineNumber?!0:W.lineNumber<j.lineNumber?!1:j.column<=W.column}static compare(j,W){const L=j.lineNumber|0,z=W.lineNumber|0;if(L===z){const P=j.column|0,A=W.column|0;return P-A}return L-z}clone(){return new C(this.lineNumber,this.column)}toString(){return"("+this.lineNumber+","+this.column+")"}static lift(j){return new C(j.lineNumber,j.column)}static isIPosition(j){return j&&typeof j.lineNumber=="number"&&typeof j.column=="number"}}},14481:function(nt,xe,l){"use strict";l.d(xe,{e:function(){return d}});var C=l(67120);class d{constructor(W,L,z,P){W>z||W===z&&L>P?(this.startLineNumber=z,this.startColumn=P,this.endLineNumber=W,this.endColumn=L):(this.startLineNumber=W,this.startColumn=L,this.endLineNumber=z,this.endColumn=P)}isEmpty(){return d.isEmpty(this)}static isEmpty(W){return W.startLineNumber===W.endLineNumber&&W.startColumn===W.endColumn}containsPosition(W){return d.containsPosition(this,W)}static containsPosition(W,L){return!(L.lineNumber<W.startLineNumber||L.lineNumber>W.endLineNumber||L.lineNumber===W.startLineNumber&&L.column<W.startColumn||L.lineNumber===W.endLineNumber&&L.column>W.endColumn)}static strictContainsPosition(W,L){return!(L.lineNumber<W.startLineNumber||L.lineNumber>W.endLineNumber||L.lineNumber===W.startLineNumber&&L.column<=W.startColumn||L.lineNumber===W.endLineNumber&&L.column>=W.endColumn)}containsRange(W){return d.containsRange(this,W)}static containsRange(W,L){return!(L.startLineNumber<W.startLineNumber||L.endLineNumber<W.startLineNumber||L.startLineNumber>W.endLineNumber||L.endLineNumber>W.endLineNumber||L.startLineNumber===W.startLineNumber&&L.startColumn<W.startColumn||L.endLineNumber===W.endLineNumber&&L.endColumn>W.endColumn)}strictContainsRange(W){return d.strictContainsRange(this,W)}static strictContainsRange(W,L){return!(L.startLineNumber<W.startLineNumber||L.endLineNumber<W.startLineNumber||L.startLineNumber>W.endLineNumber||L.endLineNumber>W.endLineNumber||L.startLineNumber===W.startLineNumber&&L.startColumn<=W.startColumn||L.endLineNumber===W.endLineNumber&&L.endColumn>=W.endColumn)}plusRange(W){return d.plusRange(this,W)}static plusRange(W,L){let z,P,A,T;return L.startLineNumber<W.startLineNumber?(z=L.startLineNumber,P=L.startColumn):L.startLineNumber===W.startLineNumber?(z=L.startLineNumber,P=Math.min(L.startColumn,W.startColumn)):(z=W.startLineNumber,P=W.startColumn),L.endLineNumber>W.endLineNumber?(A=L.endLineNumber,T=L.endColumn):L.endLineNumber===W.endLineNumber?(A=L.endLineNumber,T=Math.max(L.endColumn,W.endColumn)):(A=W.endLineNumber,T=W.endColumn),new d(z,P,A,T)}intersectRanges(W){return d.intersectRanges(this,W)}static intersectRanges(W,L){let z=W.startLineNumber,P=W.startColumn,A=W.endLineNumber,T=W.endColumn;const S=L.startLineNumber,_=L.startColumn,y=L.endLineNumber,u=L.endColumn;return z<S?(z=S,P=_):z===S&&(P=Math.max(P,_)),A>y?(A=y,T=u):A===y&&(T=Math.min(T,u)),z>A||z===A&&P>T?null:new d(z,P,A,T)}equalsRange(W){return d.equalsRange(this,W)}static equalsRange(W,L){return!!W&&!!L&&W.startLineNumber===L.startLineNumber&&W.startColumn===L.startColumn&&W.endLineNumber===L.endLineNumber&&W.endColumn===L.endColumn}getEndPosition(){return d.getEndPosition(this)}static getEndPosition(W){return new C.L(W.endLineNumber,W.endColumn)}getStartPosition(){return d.getStartPosition(this)}static getStartPosition(W){return new C.L(W.startLineNumber,W.startColumn)}toString(){return"["+this.startLineNumber+","+this.startColumn+" -> "+this.endLineNumber+","+this.endColumn+"]"}setEndPosition(W,L){return new d(this.startLineNumber,this.startColumn,W,L)}setStartPosition(W,L){return new d(W,L,this.endLineNumber,this.endColumn)}collapseToStart(){return d.collapseToStart(this)}static collapseToStart(W){return new d(W.startLineNumber,W.startColumn,W.startLineNumber,W.startColumn)}static fromPositions(W,L=W){return new d(W.lineNumber,W.column,L.lineNumber,L.column)}static lift(W){return W?new d(W.startLineNumber,W.startColumn,W.endLineNumber,W.endColumn):null}static isIRange(W){return W&&typeof W.startLineNumber=="number"&&typeof W.startColumn=="number"&&typeof W.endLineNumber=="number"&&typeof W.endColumn=="number"}static areIntersectingOrTouching(W,L){return!(W.endLineNumber<L.startLineNumber||W.endLineNumber===L.startLineNumber&&W.endColumn<L.startColumn||L.endLineNumber<W.startLineNumber||L.endLineNumber===W.startLineNumber&&L.endColumn<W.startColumn)}static areIntersecting(W,L){return!(W.endLineNumber<L.startLineNumber||W.endLineNumber===L.startLineNumber&&W.endColumn<=L.startColumn||L.endLineNumber<W.startLineNumber||L.endLineNumber===W.startLineNumber&&L.endColumn<=W.startColumn)}static compareRangesUsingStarts(W,L){if(W&&L){const A=W.startLineNumber|0,T=L.startLineNumber|0;if(A===T){const S=W.startColumn|0,_=L.startColumn|0;if(S===_){const y=W.endLineNumber|0,u=L.endLineNumber|0;if(y===u){const a=W.endColumn|0,b=L.endColumn|0;return a-b}return y-u}return S-_}return A-T}return(W?1:0)-(L?1:0)}static compareRangesUsingEnds(W,L){return W.endLineNumber===L.endLineNumber?W.endColumn===L.endColumn?W.startLineNumber===L.startLineNumber?W.startColumn-L.startColumn:W.startLineNumber-L.startLineNumber:W.endColumn-L.endColumn:W.endLineNumber-L.endLineNumber}static spansMultipleLines(W){return W.endLineNumber>W.startLineNumber}toJSON(){return this}}},17122:function(nt,xe,l){"use strict";l.d(xe,{Y:function(){return j}});var C=l(67120),d=l(14481);class j extends d.e{constructor(L,z,P,A){super(L,z,P,A),this.selectionStartLineNumber=L,this.selectionStartColumn=z,this.positionLineNumber=P,this.positionColumn=A}toString(){return"["+this.selectionStartLineNumber+","+this.selectionStartColumn+" -> "+this.positionLineNumber+","+this.positionColumn+"]"}equalsSelection(L){return j.selectionsEqual(this,L)}static selectionsEqual(L,z){return L.selectionStartLineNumber===z.selectionStartLineNumber&&L.selectionStartColumn===z.selectionStartColumn&&L.positionLineNumber===z.positionLineNumber&&L.positionColumn===z.positionColumn}getDirection(){return this.selectionStartLineNumber===this.startLineNumber&&this.selectionStartColumn===this.startColumn?0:1}setEndPosition(L,z){return this.getDirection()===0?new j(this.startLineNumber,this.startColumn,L,z):new j(L,z,this.startLineNumber,this.startColumn)}getPosition(){return new C.L(this.positionLineNumber,this.positionColumn)}getSelectionStart(){return new C.L(this.selectionStartLineNumber,this.selectionStartColumn)}setStartPosition(L,z){return this.getDirection()===0?new j(L,z,this.endLineNumber,this.endColumn):new j(this.endLineNumber,this.endColumn,L,z)}static fromPositions(L,z=L){return new j(L.lineNumber,L.column,z.lineNumber,z.column)}static fromRange(L,z){return z===0?new j(L.startLineNumber,L.startColumn,L.endLineNumber,L.endColumn):new j(L.endLineNumber,L.endColumn,L.startLineNumber,L.startColumn)}static liftSelection(L){return new j(L.selectionStartLineNumber,L.selectionStartColumn,L.positionLineNumber,L.positionColumn)}static selectionsArrEqual(L,z){if(L&&!z||!L&&z)return!1;if(!L&&!z)return!0;if(L.length!==z.length)return!1;for(let P=0,A=L.length;P<A;P++)if(!this.selectionsEqual(L[P],z[P]))return!1;return!0}static isISelection(L){return L&&typeof L.selectionStartLineNumber=="number"&&typeof L.selectionStartColumn=="number"&&typeof L.positionLineNumber=="number"&&typeof L.positionColumn=="number"}static createWithDirection(L,z,P,A,T){return T===0?new j(L,z,P,A):new j(P,A,L,z)}}},10501:function(nt,xe,l){"use strict";l.d(xe,{kH:function(){return y},l$:function(){return _},lZ:function(){return S},oe:function(){return T}});var C=l(22297),d=l(94976),j=l(90357);let W;function L(){return W||(W=new TextDecoder("UTF-16LE")),W}let z;function P(){return z||(z=new TextDecoder("UTF-16BE")),z}let A;function T(){return A||(A=d.r()?L():P()),A}const S=typeof TextDecoder!="undefined";let _,y;S?(_=N=>new b(N),y=u):(_=N=>new D,y=a);function u(N,I,E){const O=new Uint16Array(N.buffer,I,E);return E>0&&(O[0]===65279||O[0]===65534)?a(N,I,E):L().decode(O)}function a(N,I,E){const O=[];let R=0;for(let M=0;M<E;M++){const K=j.mP(N,I);I+=2,O[R++]=String.fromCharCode(K)}return O.join("")}class b{constructor(I){this._capacity=I|0,this._buffer=new Uint16Array(this._capacity),this._completedStrings=null,this._bufferLength=0}reset(){this._completedStrings=null,this._bufferLength=0}build(){return this._completedStrings!==null?(this._flushBuffer(),this._completedStrings.join("")):this._buildBuffer()}_buildBuffer(){if(this._bufferLength===0)return"";const I=new Uint16Array(this._buffer.buffer,0,this._bufferLength);return T().decode(I)}_flushBuffer(){const I=this._buildBuffer();this._bufferLength=0,this._completedStrings===null?this._completedStrings=[I]:this._completedStrings[this._completedStrings.length]=I}write1(I){const E=this._capacity-this._bufferLength;E<=1&&(E===0||C.ZG(I))&&this._flushBuffer(),this._buffer[this._bufferLength++]=I}appendASCII(I){this._bufferLength===this._capacity&&this._flushBuffer(),this._buffer[this._bufferLength++]=I}appendASCIIString(I){const E=I.length;if(this._bufferLength+E>=this._capacity){this._flushBuffer(),this._completedStrings[this._completedStrings.length]=I;return}for(let O=0;O<E;O++)this._buffer[this._bufferLength++]=I.charCodeAt(O)}}class D{constructor(){this._pieces=[],this._piecesLen=0}reset(){this._pieces=[],this._piecesLen=0}build(){return this._pieces.join("")}write1(I){this._pieces[this._piecesLen++]=String.fromCharCode(I)}appendASCII(I){this._pieces[this._piecesLen++]=String.fromCharCode(I)}appendASCIIString(I){this._pieces[this._piecesLen++]=I}}},19645:function(nt,xe,l){"use strict";l.d(xe,{b:function(){return L},q:function(){return W}});var C=l(90357),d=l(10501);function j(P){return P.replace(/\n/g,"\\n").replace(/\r/g,"\\r")}class W{constructor(A,T,S,_){this.oldPosition=A,this.oldText=T,this.newPosition=S,this.newText=_}get oldLength(){return this.oldText.length}get oldEnd(){return this.oldPosition+this.oldText.length}get newLength(){return this.newText.length}get newEnd(){return this.newPosition+this.newText.length}toString(){return this.oldText.length===0?`(insert@${this.oldPosition} "${j(this.newText)}")`:this.newText.length===0?`(delete@${this.oldPosition} "${j(this.oldText)}")`:`(replace@${this.oldPosition} "${j(this.oldText)}" with "${j(this.newText)}")`}static _writeStringSize(A){return 4+2*A.length}static _writeString(A,T,S){const _=T.length;C.T4(A,_,S),S+=4;for(let y=0;y<_;y++)C.oq(A,T.charCodeAt(y),S),S+=2;return S}static _readString(A,T){const S=C.Ag(A,T);return T+=4,(0,d.kH)(A,T,S)}writeSize(){return 4+4+W._writeStringSize(this.oldText)+W._writeStringSize(this.newText)}write(A,T){return C.T4(A,this.oldPosition,T),T+=4,C.T4(A,this.newPosition,T),T+=4,T=W._writeString(A,this.oldText,T),T=W._writeString(A,this.newText,T),T}static read(A,T,S){const _=C.Ag(A,T);T+=4;const y=C.Ag(A,T);T+=4;const u=W._readString(A,T);T+=W._writeStringSize(u);const a=W._readString(A,T);return T+=W._writeStringSize(a),S.push(new W(_,u,y,a)),T}}function L(P,A){return P===null||P.length===0?A:new z(P,A).compress()}class z{constructor(A,T){this._prevEdits=A,this._currEdits=T,this._result=[],this._resultLen=0,this._prevLen=this._prevEdits.length,this._prevDeltaOffset=0,this._currLen=this._currEdits.length,this._currDeltaOffset=0}compress(){let A=0,T=0,S=this._getPrev(A),_=this._getCurr(T);for(;A<this._prevLen||T<this._currLen;){if(S===null){this._acceptCurr(_),_=this._getCurr(++T);continue}if(_===null){this._acceptPrev(S),S=this._getPrev(++A);continue}if(_.oldEnd<=S.newPosition){this._acceptCurr(_),_=this._getCurr(++T);continue}if(S.newEnd<=_.oldPosition){this._acceptPrev(S),S=this._getPrev(++A);continue}if(_.oldPosition<S.newPosition){const[D,N]=z._splitCurr(_,S.newPosition-_.oldPosition);this._acceptCurr(D),_=N;continue}if(S.newPosition<_.oldPosition){const[D,N]=z._splitPrev(S,_.oldPosition-S.newPosition);this._acceptPrev(D),S=N;continue}let a,b;if(_.oldEnd===S.newEnd)a=S,b=_,S=this._getPrev(++A),_=this._getCurr(++T);else if(_.oldEnd<S.newEnd){const[D,N]=z._splitPrev(S,_.oldLength);a=D,b=_,S=N,_=this._getCurr(++T)}else{const[D,N]=z._splitCurr(_,S.newLength);a=S,b=D,S=this._getPrev(++A),_=N}this._result[this._resultLen++]=new W(a.oldPosition,a.oldText,b.newPosition,b.newText),this._prevDeltaOffset+=a.newLength-a.oldLength,this._currDeltaOffset+=b.newLength-b.oldLength}const y=z._merge(this._result);return z._removeNoOps(y)}_acceptCurr(A){this._result[this._resultLen++]=z._rebaseCurr(this._prevDeltaOffset,A),this._currDeltaOffset+=A.newLength-A.oldLength}_getCurr(A){return A<this._currLen?this._currEdits[A]:null}_acceptPrev(A){this._result[this._resultLen++]=z._rebasePrev(this._currDeltaOffset,A),this._prevDeltaOffset+=A.newLength-A.oldLength}_getPrev(A){return A<this._prevLen?this._prevEdits[A]:null}static _rebaseCurr(A,T){return new W(T.oldPosition-A,T.oldText,T.newPosition,T.newText)}static _rebasePrev(A,T){return new W(T.oldPosition,T.oldText,T.newPosition+A,T.newText)}static _splitPrev(A,T){const S=A.newText.substr(0,T),_=A.newText.substr(T);return[new W(A.oldPosition,A.oldText,A.newPosition,S),new W(A.oldEnd,"",A.newPosition+T,_)]}static _splitCurr(A,T){const S=A.oldText.substr(0,T),_=A.oldText.substr(T);return[new W(A.oldPosition,S,A.newPosition,A.newText),new W(A.oldPosition+T,_,A.newEnd,"")]}static _merge(A){if(A.length===0)return A;const T=[];let S=0,_=A[0];for(let y=1;y<A.length;y++){const u=A[y];_.oldEnd===u.oldPosition?_=new W(_.oldPosition,_.oldText+u.oldText,_.newPosition,_.newText+u.newText):(T[S++]=_,_=u)}return T[S++]=_,T}static _removeNoOps(A){if(A.length===0)return A;const T=[];let S=0;for(let _=0;_<A.length;_++){const y=A[_];y.oldText!==y.newText&&(T[S++]=y)}return T}}},73209:function(nt,xe,l){"use strict";l.d(xe,{D:function(){return C}});const C={tabSize:4,indentSize:4,insertSpaces:!0,detectIndentation:!0,trimAutoWhitespace:!0,largeFileOptimizations:!0,bracketPairColorizationOptions:{enabled:!0,independentColorPoolPerBracketType:!1}}},6669:function(nt,xe,l){"use strict";l.d(xe,{u:function(){return W}});var C=l(7278);class d extends C.N{constructor(z){super(0);for(let P=0,A=z.length;P<A;P++)this.set(z.charCodeAt(P),2);this.set(32,1),this.set(9,1)}}function j(L){const z={};return P=>(z.hasOwnProperty(P)||(z[P]=L(P)),z[P])}const W=j(L=>new d(L))},27619:function(nt,xe,l){"use strict";l.d(xe,{Af:function(){return L},eq:function(){return z},t2:function(){return A},vu:function(){return j}});var C=l(37371),d=l(69368);const j="`~!@#$%^&*()-=+[{]}\\|;:'\",.<>/?";function W(S=""){let _="(-?\\d*\\.\\d\\w*)|([^";for(const y of j)S.indexOf(y)>=0||(_+="\\"+y);return _+="\\s]+)",new RegExp(_,"g")}const L=W();function z(S){let _=L;if(S&&S instanceof RegExp)if(S.global)_=S;else{let y="g";S.ignoreCase&&(y+="i"),S.multiline&&(y+="m"),S.unicode&&(y+="u"),_=new RegExp(S.source,y)}return _.lastIndex=0,_}const P=new d.S;P.unshift({maxLen:1e3,windowSize:15,timeBudget:150});function A(S,_,y,u,a){if(a||(a=C.$.first(P)),y.length>a.maxLen){let E=S-a.maxLen/2;return E<0?E=0:u+=E,y=y.substring(E,S+a.maxLen/2),A(S,_,y,u,a)}const b=Date.now(),D=S-1-u;let N=-1,I=null;for(let E=1;!(Date.now()-b>=a.timeBudget);E++){const O=D-a.windowSize*E;_.lastIndex=Math.max(0,O);const R=T(_,y,D,N);if(!R&&I||(I=R,O<=0))break;N=O}if(I){const E={word:I[0],startColumn:u+1+I.index,endColumn:u+1+I.index+I[0].length};return _.lastIndex=0,E}return null}function T(S,_,y,u){let a;for(;a=S.exec(_);){const b=a.index||0;if(b<=y&&S.lastIndex>=y)return a;if(u>0&&b>u)return null}return null}},41939:function(nt,xe,l){"use strict";l.d(xe,{l:function(){return d}});var C=l(72289);class d{static whitespaceVisibleColumn(W,L,z){const P=W.length;let A=0,T=-1,S=-1;for(let _=0;_<P;_++){if(_===L)return[T,S,A];switch(A%z===0&&(T=_,S=A),W.charCodeAt(_)){case 32:A+=1;break;case 9:A=C.i.nextRenderTabStop(A,z);break;default:return[-1,-1,-1]}}return L===P?[T,S,A]:[-1,-1,-1]}static atomicPosition(W,L,z,P){const A=W.length,[T,S,_]=d.whitespaceVisibleColumn(W,L,z);if(_===-1)return-1;let y;switch(P){case 0:y=!0;break;case 1:y=!1;break;case 2:if(_%z===0)return L;y=_%z<=z/2;break}if(y){if(T===-1)return-1;let b=S;for(let D=T;D<A;++D){if(b===S+z)return T;switch(W.charCodeAt(D)){case 32:b+=1;break;case 9:b=C.i.nextRenderTabStop(b,z);break;default:return-1}}return b===S+z?T:-1}const u=C.i.nextRenderTabStop(_,z);let a=_;for(let b=L;b<A;b++){if(a===u)return b;switch(W.charCodeAt(b)){case 32:a+=1;break;case 9:a=C.i.nextRenderTabStop(a,z);break;default:return-1}}return a===u?A:-1}}},53570:function(nt,xe,l){"use strict";l.d(xe,{A:function(){return A}});var C=l(22297),d=l(93297),j=l(16505),W=l(72289),L=l(98454),z=l(14481),P=l(67120);class A{static deleteRight(S,_,y,u){const a=[];let b=S!==3;for(let D=0,N=u.length;D<N;D++){const I=u[D];let E=I;if(E.isEmpty()){const O=I.getPosition(),R=L.o.right(_,y,O);E=new z.e(R.lineNumber,R.column,O.lineNumber,O.column)}if(E.isEmpty()){a[D]=null;continue}E.startLineNumber!==E.endLineNumber&&(b=!0),a[D]=new d.T4(E,"")}return[b,a]}static isAutoClosingPairDelete(S,_,y,u,a,b,D){if(_==="never"&&y==="never"||S==="never")return!1;for(let N=0,I=b.length;N<I;N++){const E=b[N],O=E.getPosition();if(!E.isEmpty())return!1;const R=a.getLineContent(O.lineNumber);if(O.column<2||O.column>=R.length+1)return!1;const M=R.charAt(O.column-2),K=u.get(M);if(!K)return!1;if((0,j.LN)(M)){if(y==="never")return!1}else if(_==="never")return!1;const Z=R.charAt(O.column-1);let te=!1;for(const de of K)de.open===M&&de.close===Z&&(te=!0);if(!te)return!1;if(S==="auto"){let de=!1;for(let ge=0,le=D.length;ge<le;ge++){const se=D[ge];if(O.lineNumber===se.startLineNumber&&O.column===se.startColumn){de=!0;break}}if(!de)return!1}}return!0}static _runAutoClosingPairDelete(S,_,y){const u=[];for(let a=0,b=y.length;a<b;a++){const D=y[a].getPosition(),N=new z.e(D.lineNumber,D.column-1,D.lineNumber,D.column+1);u[a]=new d.T4(N,"")}return[!0,u]}static deleteLeft(S,_,y,u,a){if(this.isAutoClosingPairDelete(_.autoClosingDelete,_.autoClosingBrackets,_.autoClosingQuotes,_.autoClosingPairs.autoClosingPairsOpenByEnd,y,u,a))return this._runAutoClosingPairDelete(_,y,u);const b=[];let D=S!==2;for(let N=0,I=u.length;N<I;N++){const E=A.getDeleteRange(u[N],y,_);if(E.isEmpty()){b[N]=null;continue}E.startLineNumber!==E.endLineNumber&&(D=!0),b[N]=new d.T4(E,"")}return[D,b]}static getDeleteRange(S,_,y){if(!S.isEmpty())return S;const u=S.getPosition();if(y.useTabStops&&u.column>1){const a=_.getLineContent(u.lineNumber),b=C.LC(a),D=b===-1?a.length+1:b+1;if(u.column<=D){const N=y.visibleColumnFromColumn(_,u),I=W.i.prevIndentTabStop(N,y.indentSize),E=y.columnFromVisibleColumn(_,u.lineNumber,I);return new z.e(u.lineNumber,E,u.lineNumber,u.column)}}return z.e.fromPositions(A.getPositionAfterDeleteLeft(u,_),u)}static getPositionAfterDeleteLeft(S,_){if(S.column>1){const y=C.oH(S.column-1,_.getLineContent(S.lineNumber));return S.with(void 0,y+1)}else if(S.lineNumber>1){const y=S.lineNumber-1;return new P.L(y,_.getLineMaxColumn(y))}else return S}static cut(S,_,y){const u=[];let a=null;y.sort((b,D)=>P.L.compare(b.getStartPosition(),D.getEndPosition()));for(let b=0,D=y.length;b<D;b++){const N=y[b];if(N.isEmpty())if(S.emptySelectionClipboard){const I=N.getPosition();let E,O,R,M;I.lineNumber<_.getLineCount()?(E=I.lineNumber,O=1,R=I.lineNumber+1,M=1):I.lineNumber>1&&(a==null?void 0:a.endLineNumber)!==I.lineNumber?(E=I.lineNumber-1,O=_.getLineMaxColumn(I.lineNumber-1),R=I.lineNumber,M=_.getLineMaxColumn(I.lineNumber)):(E=I.lineNumber,O=1,R=I.lineNumber,M=_.getLineMaxColumn(I.lineNumber));const K=new z.e(E,O,R,M);a=K,K.isEmpty()?u[b]=null:u[b]=new d.T4(K,"")}else u[b]=null;else u[b]=new d.T4(N,"")}return new j.Tp(0,u,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}}},17493:function(nt,xe,l){"use strict";l.d(xe,{N:function(){return A},P:function(){return P}});var C=l(17014),d=l(16505),j=l(98454),W=l(49885),L=l(67120),z=l(14481);class P{static addCursorDown(S,_,y){const u=[];let a=0;for(let b=0,D=_.length;b<D;b++){const N=_[b];u[a++]=new d.Vi(N.modelState,N.viewState),y?u[a++]=d.Vi.fromModelState(j.o.translateDown(S.cursorConfig,S.model,N.modelState)):u[a++]=d.Vi.fromViewState(j.o.translateDown(S.cursorConfig,S,N.viewState))}return u}static addCursorUp(S,_,y){const u=[];let a=0;for(let b=0,D=_.length;b<D;b++){const N=_[b];u[a++]=new d.Vi(N.modelState,N.viewState),y?u[a++]=d.Vi.fromModelState(j.o.translateUp(S.cursorConfig,S.model,N.modelState)):u[a++]=d.Vi.fromViewState(j.o.translateUp(S.cursorConfig,S,N.viewState))}return u}static moveToBeginningOfLine(S,_,y){const u=[];for(let a=0,b=_.length;a<b;a++){const D=_[a];u[a]=this._moveToLineStart(S,D,y)}return u}static _moveToLineStart(S,_,y){const u=_.viewState.position.column,a=_.modelState.position.column,b=u===a,D=_.viewState.position.lineNumber,N=S.getLineFirstNonWhitespaceColumn(D);return!b&&!(u===N)?this._moveToLineStartByView(S,_,y):this._moveToLineStartByModel(S,_,y)}static _moveToLineStartByView(S,_,y){return d.Vi.fromViewState(j.o.moveToBeginningOfLine(S.cursorConfig,S,_.viewState,y))}static _moveToLineStartByModel(S,_,y){return d.Vi.fromModelState(j.o.moveToBeginningOfLine(S.cursorConfig,S.model,_.modelState,y))}static moveToEndOfLine(S,_,y,u){const a=[];for(let b=0,D=_.length;b<D;b++){const N=_[b];a[b]=this._moveToLineEnd(S,N,y,u)}return a}static _moveToLineEnd(S,_,y,u){const a=_.viewState.position,b=S.getLineMaxColumn(a.lineNumber),D=a.column===b,N=_.modelState.position,I=S.model.getLineMaxColumn(N.lineNumber),E=b-a.column===I-N.column;return D||E?this._moveToLineEndByModel(S,_,y,u):this._moveToLineEndByView(S,_,y,u)}static _moveToLineEndByView(S,_,y,u){return d.Vi.fromViewState(j.o.moveToEndOfLine(S.cursorConfig,S,_.viewState,y,u))}static _moveToLineEndByModel(S,_,y,u){return d.Vi.fromModelState(j.o.moveToEndOfLine(S.cursorConfig,S.model,_.modelState,y,u))}static expandLineSelection(S,_){const y=[];for(let u=0,a=_.length;u<a;u++){const b=_[u],D=b.modelState.selection.startLineNumber,N=S.model.getLineCount();let I=b.modelState.selection.endLineNumber,E;I===N?E=S.model.getLineMaxColumn(N):(I++,E=1),y[u]=d.Vi.fromModelState(new d.rS(new z.e(D,1,D,1),0,new L.L(I,E),0))}return y}static moveToBeginningOfBuffer(S,_,y){const u=[];for(let a=0,b=_.length;a<b;a++){const D=_[a];u[a]=d.Vi.fromModelState(j.o.moveToBeginningOfBuffer(S.cursorConfig,S.model,D.modelState,y))}return u}static moveToEndOfBuffer(S,_,y){const u=[];for(let a=0,b=_.length;a<b;a++){const D=_[a];u[a]=d.Vi.fromModelState(j.o.moveToEndOfBuffer(S.cursorConfig,S.model,D.modelState,y))}return u}static selectAll(S,_){const y=S.model.getLineCount(),u=S.model.getLineMaxColumn(y);return d.Vi.fromModelState(new d.rS(new z.e(1,1,1,1),0,new L.L(y,u),0))}static line(S,_,y,u,a){const b=S.model.validatePosition(u),D=a?S.coordinatesConverter.validateViewPosition(new L.L(a.lineNumber,a.column),b):S.coordinatesConverter.convertModelPositionToViewPosition(b);if(!y||!_.modelState.hasSelection()){const I=S.model.getLineCount();let E=b.lineNumber+1,O=1;return E>I&&(E=I,O=S.model.getLineMaxColumn(E)),d.Vi.fromModelState(new d.rS(new z.e(b.lineNumber,1,E,O),0,new L.L(E,O),0))}const N=_.modelState.selectionStart.getStartPosition().lineNumber;if(b.lineNumber<N)return d.Vi.fromViewState(_.viewState.move(_.modelState.hasSelection(),D.lineNumber,1,0));if(b.lineNumber>N){const I=S.getLineCount();let E=D.lineNumber+1,O=1;return E>I&&(E=I,O=S.getLineMaxColumn(E)),d.Vi.fromViewState(_.viewState.move(_.modelState.hasSelection(),E,O,0))}else{const I=_.modelState.selectionStart.getEndPosition();return d.Vi.fromModelState(_.modelState.move(_.modelState.hasSelection(),I.lineNumber,I.column,0))}}static word(S,_,y,u){const a=S.model.validatePosition(u);return d.Vi.fromModelState(W.w.word(S.cursorConfig,S.model,_.modelState,y,a))}static cancelSelection(S,_){if(!_.modelState.hasSelection())return new d.Vi(_.modelState,_.viewState);const y=_.viewState.position.lineNumber,u=_.viewState.position.column;return d.Vi.fromViewState(new d.rS(new z.e(y,u,y,u),0,new L.L(y,u),0))}static moveTo(S,_,y,u,a){const b=S.model.validatePosition(u),D=a?S.coordinatesConverter.validateViewPosition(new L.L(a.lineNumber,a.column),b):S.coordinatesConverter.convertModelPositionToViewPosition(b);return d.Vi.fromViewState(_.viewState.move(y,D.lineNumber,D.column,0))}static simpleMove(S,_,y,u,a,b){switch(y){case 0:return b===4?this._moveHalfLineLeft(S,_,u):this._moveLeft(S,_,u,a);case 1:return b===4?this._moveHalfLineRight(S,_,u):this._moveRight(S,_,u,a);case 2:return b===2?this._moveUpByViewLines(S,_,u,a):this._moveUpByModelLines(S,_,u,a);case 3:return b===2?this._moveDownByViewLines(S,_,u,a):this._moveDownByModelLines(S,_,u,a);case 4:return b===2?_.map(D=>d.Vi.fromViewState(j.o.moveToPrevBlankLine(S.cursorConfig,S,D.viewState,u))):_.map(D=>d.Vi.fromModelState(j.o.moveToPrevBlankLine(S.cursorConfig,S.model,D.modelState,u)));case 5:return b===2?_.map(D=>d.Vi.fromViewState(j.o.moveToNextBlankLine(S.cursorConfig,S,D.viewState,u))):_.map(D=>d.Vi.fromModelState(j.o.moveToNextBlankLine(S.cursorConfig,S.model,D.modelState,u)));case 6:return this._moveToViewMinColumn(S,_,u);case 7:return this._moveToViewFirstNonWhitespaceColumn(S,_,u);case 8:return this._moveToViewCenterColumn(S,_,u);case 9:return this._moveToViewMaxColumn(S,_,u);case 10:return this._moveToViewLastNonWhitespaceColumn(S,_,u);default:return null}}static viewportMove(S,_,y,u,a){const b=S.getCompletelyVisibleViewRange(),D=S.coordinatesConverter.convertViewRangeToModelRange(b);switch(y){case 11:{const N=this._firstLineNumberInRange(S.model,D,a),I=S.model.getLineFirstNonWhitespaceColumn(N);return[this._moveToModelPosition(S,_[0],u,N,I)]}case 13:{const N=this._lastLineNumberInRange(S.model,D,a),I=S.model.getLineFirstNonWhitespaceColumn(N);return[this._moveToModelPosition(S,_[0],u,N,I)]}case 12:{const N=Math.round((D.startLineNumber+D.endLineNumber)/2),I=S.model.getLineFirstNonWhitespaceColumn(N);return[this._moveToModelPosition(S,_[0],u,N,I)]}case 14:{const N=[];for(let I=0,E=_.length;I<E;I++){const O=_[I];N[I]=this.findPositionInViewportIfOutside(S,O,b,u)}return N}default:return null}}static findPositionInViewportIfOutside(S,_,y,u){const a=_.viewState.position.lineNumber;if(y.startLineNumber<=a&&a<=y.endLineNumber-1)return new d.Vi(_.modelState,_.viewState);{let b;a>y.endLineNumber-1?b=y.endLineNumber-1:a<y.startLineNumber?b=y.startLineNumber:b=a;const D=j.o.vertical(S.cursorConfig,S,a,_.viewState.position.column,_.viewState.leftoverVisibleColumns,b,!1);return d.Vi.fromViewState(_.viewState.move(u,D.lineNumber,D.column,D.leftoverVisibleColumns))}}static _firstLineNumberInRange(S,_,y){let u=_.startLineNumber;return _.startColumn!==S.getLineMinColumn(u)&&u++,Math.min(_.endLineNumber,u+y-1)}static _lastLineNumberInRange(S,_,y){let u=_.startLineNumber;return _.startColumn!==S.getLineMinColumn(u)&&u++,Math.max(u,_.endLineNumber-y+1)}static _moveLeft(S,_,y,u){return _.map(a=>d.Vi.fromViewState(j.o.moveLeft(S.cursorConfig,S,a.viewState,y,u)))}static _moveHalfLineLeft(S,_,y){const u=[];for(let a=0,b=_.length;a<b;a++){const D=_[a],N=D.viewState.position.lineNumber,I=Math.round(S.getLineContent(N).length/2);u[a]=d.Vi.fromViewState(j.o.moveLeft(S.cursorConfig,S,D.viewState,y,I))}return u}static _moveRight(S,_,y,u){return _.map(a=>d.Vi.fromViewState(j.o.moveRight(S.cursorConfig,S,a.viewState,y,u)))}static _moveHalfLineRight(S,_,y){const u=[];for(let a=0,b=_.length;a<b;a++){const D=_[a],N=D.viewState.position.lineNumber,I=Math.round(S.getLineContent(N).length/2);u[a]=d.Vi.fromViewState(j.o.moveRight(S.cursorConfig,S,D.viewState,y,I))}return u}static _moveDownByViewLines(S,_,y,u){const a=[];for(let b=0,D=_.length;b<D;b++){const N=_[b];a[b]=d.Vi.fromViewState(j.o.moveDown(S.cursorConfig,S,N.viewState,y,u))}return a}static _moveDownByModelLines(S,_,y,u){const a=[];for(let b=0,D=_.length;b<D;b++){const N=_[b];a[b]=d.Vi.fromModelState(j.o.moveDown(S.cursorConfig,S.model,N.modelState,y,u))}return a}static _moveUpByViewLines(S,_,y,u){const a=[];for(let b=0,D=_.length;b<D;b++){const N=_[b];a[b]=d.Vi.fromViewState(j.o.moveUp(S.cursorConfig,S,N.viewState,y,u))}return a}static _moveUpByModelLines(S,_,y,u){const a=[];for(let b=0,D=_.length;b<D;b++){const N=_[b];a[b]=d.Vi.fromModelState(j.o.moveUp(S.cursorConfig,S.model,N.modelState,y,u))}return a}static _moveToViewPosition(S,_,y,u,a){return d.Vi.fromViewState(_.viewState.move(y,u,a,0))}static _moveToModelPosition(S,_,y,u,a){return d.Vi.fromModelState(_.modelState.move(y,u,a,0))}static _moveToViewMinColumn(S,_,y){const u=[];for(let a=0,b=_.length;a<b;a++){const D=_[a],N=D.viewState.position.lineNumber,I=S.getLineMinColumn(N);u[a]=this._moveToViewPosition(S,D,y,N,I)}return u}static _moveToViewFirstNonWhitespaceColumn(S,_,y){const u=[];for(let a=0,b=_.length;a<b;a++){const D=_[a],N=D.viewState.position.lineNumber,I=S.getLineFirstNonWhitespaceColumn(N);u[a]=this._moveToViewPosition(S,D,y,N,I)}return u}static _moveToViewCenterColumn(S,_,y){const u=[];for(let a=0,b=_.length;a<b;a++){const D=_[a],N=D.viewState.position.lineNumber,I=Math.round((S.getLineMaxColumn(N)+S.getLineMinColumn(N))/2);u[a]=this._moveToViewPosition(S,D,y,N,I)}return u}static _moveToViewMaxColumn(S,_,y){const u=[];for(let a=0,b=_.length;a<b;a++){const D=_[a],N=D.viewState.position.lineNumber,I=S.getLineMaxColumn(N);u[a]=this._moveToViewPosition(S,D,y,N,I)}return u}static _moveToViewLastNonWhitespaceColumn(S,_,y){const u=[];for(let a=0,b=_.length;a<b;a++){const D=_[a],N=D.viewState.position.lineNumber,I=S.getLineLastNonWhitespaceColumn(N);u[a]=this._moveToViewPosition(S,D,y,N,I)}return u}}var A;(function(T){const S=function(y){if(!C.Kn(y))return!1;const u=y;return!(!C.HD(u.to)||!C.o8(u.select)&&!C.jn(u.select)||!C.o8(u.by)&&!C.HD(u.by)||!C.o8(u.value)&&!C.hj(u.value))};T.description={description:"Move cursor to a logical position in the view",args:[{name:"Cursor move argument object",description:`Property-value pairs that can be passed through this argument:
					* 'to': A mandatory logical position value providing where to move the cursor.
						\`\`\`
						'left', 'right', 'up', 'down', 'prevBlankLine', 'nextBlankLine',
						'wrappedLineStart', 'wrappedLineEnd', 'wrappedLineColumnCenter'
						'wrappedLineFirstNonWhitespaceCharacter', 'wrappedLineLastNonWhitespaceCharacter'
						'viewPortTop', 'viewPortCenter', 'viewPortBottom', 'viewPortIfOutside'
						\`\`\`
					* 'by': Unit to move. Default is computed based on 'to' value.
						\`\`\`
						'line', 'wrappedLine', 'character', 'halfLine'
						\`\`\`
					* 'value': Number of units to move. Default is '1'.
					* 'select': If 'true' makes the selection. Default is 'false'.
				`,constraint:S,schema:{type:"object",required:["to"],properties:{to:{type:"string",enum:["left","right","up","down","prevBlankLine","nextBlankLine","wrappedLineStart","wrappedLineEnd","wrappedLineColumnCenter","wrappedLineFirstNonWhitespaceCharacter","wrappedLineLastNonWhitespaceCharacter","viewPortTop","viewPortCenter","viewPortBottom","viewPortIfOutside"]},by:{type:"string",enum:["line","wrappedLine","character","halfLine"]},value:{type:"number",default:1},select:{type:"boolean",default:!1}}}}]},T.RawDirection={Left:"left",Right:"right",Up:"up",Down:"down",PrevBlankLine:"prevBlankLine",NextBlankLine:"nextBlankLine",WrappedLineStart:"wrappedLineStart",WrappedLineFirstNonWhitespaceCharacter:"wrappedLineFirstNonWhitespaceCharacter",WrappedLineColumnCenter:"wrappedLineColumnCenter",WrappedLineEnd:"wrappedLineEnd",WrappedLineLastNonWhitespaceCharacter:"wrappedLineLastNonWhitespaceCharacter",ViewPortTop:"viewPortTop",ViewPortCenter:"viewPortCenter",ViewPortBottom:"viewPortBottom",ViewPortIfOutside:"viewPortIfOutside"},T.RawUnit={Line:"line",WrappedLine:"wrappedLine",Character:"character",HalfLine:"halfLine"};function _(y){if(!y.to)return null;let u;switch(y.to){case T.RawDirection.Left:u=0;break;case T.RawDirection.Right:u=1;break;case T.RawDirection.Up:u=2;break;case T.RawDirection.Down:u=3;break;case T.RawDirection.PrevBlankLine:u=4;break;case T.RawDirection.NextBlankLine:u=5;break;case T.RawDirection.WrappedLineStart:u=6;break;case T.RawDirection.WrappedLineFirstNonWhitespaceCharacter:u=7;break;case T.RawDirection.WrappedLineColumnCenter:u=8;break;case T.RawDirection.WrappedLineEnd:u=9;break;case T.RawDirection.WrappedLineLastNonWhitespaceCharacter:u=10;break;case T.RawDirection.ViewPortTop:u=11;break;case T.RawDirection.ViewPortBottom:u=13;break;case T.RawDirection.ViewPortCenter:u=12;break;case T.RawDirection.ViewPortIfOutside:u=14;break;default:return null}let a=0;switch(y.by){case T.RawUnit.Line:a=1;break;case T.RawUnit.WrappedLine:a=2;break;case T.RawUnit.Character:a=3;break;case T.RawUnit.HalfLine:a=4;break}return{direction:u,unit:a,select:!!y.select,value:y.value||1}}T.parse=_})(A||(A={}))},98454:function(nt,xe,l){"use strict";l.d(xe,{o:function(){return A}});var C=l(16505),d=l(72289),j=l(67120),W=l(14481),L=l(22297),z=l(41939);class P{constructor(S,_,y){this._cursorPositionBrand=void 0,this.lineNumber=S,this.column=_,this.leftoverVisibleColumns=y}}class A{static leftPosition(S,_){if(_.column>S.getLineMinColumn(_.lineNumber))return _.delta(void 0,-L.HO(S.getLineContent(_.lineNumber),_.column-1));if(_.lineNumber>1){const y=_.lineNumber-1;return new j.L(y,S.getLineMaxColumn(y))}else return _}static leftPositionAtomicSoftTabs(S,_,y){if(_.column<=S.getLineIndentColumn(_.lineNumber)){const u=S.getLineMinColumn(_.lineNumber),a=S.getLineContent(_.lineNumber),b=z.l.atomicPosition(a,_.column-1,y,0);if(b!==-1&&b+1>=u)return new j.L(_.lineNumber,b+1)}return this.leftPosition(S,_)}static left(S,_,y){const u=S.stickyTabStops?A.leftPositionAtomicSoftTabs(_,y,S.tabSize):A.leftPosition(_,y);return new P(u.lineNumber,u.column,0)}static moveLeft(S,_,y,u,a){let b,D;if(y.hasSelection()&&!u)b=y.selection.startLineNumber,D=y.selection.startColumn;else{const N=y.position.delta(void 0,-(a-1)),I=_.normalizePosition(A.clipPositionColumn(N,_),0),E=A.left(S,_,I);b=E.lineNumber,D=E.column}return y.move(u,b,D,0)}static clipPositionColumn(S,_){return new j.L(S.lineNumber,A.clipRange(S.column,_.getLineMinColumn(S.lineNumber),_.getLineMaxColumn(S.lineNumber)))}static clipRange(S,_,y){return S<_?_:S>y?y:S}static rightPosition(S,_,y){return y<S.getLineMaxColumn(_)?y=y+L.vH(S.getLineContent(_),y-1):_<S.getLineCount()&&(_=_+1,y=S.getLineMinColumn(_)),new j.L(_,y)}static rightPositionAtomicSoftTabs(S,_,y,u,a){if(y<S.getLineIndentColumn(_)){const b=S.getLineContent(_),D=z.l.atomicPosition(b,y-1,u,1);if(D!==-1)return new j.L(_,D+1)}return this.rightPosition(S,_,y)}static right(S,_,y){const u=S.stickyTabStops?A.rightPositionAtomicSoftTabs(_,y.lineNumber,y.column,S.tabSize,S.indentSize):A.rightPosition(_,y.lineNumber,y.column);return new P(u.lineNumber,u.column,0)}static moveRight(S,_,y,u,a){let b,D;if(y.hasSelection()&&!u)b=y.selection.endLineNumber,D=y.selection.endColumn;else{const N=y.position.delta(void 0,a-1),I=_.normalizePosition(A.clipPositionColumn(N,_),1),E=A.right(S,_,I);b=E.lineNumber,D=E.column}return y.move(u,b,D,0)}static vertical(S,_,y,u,a,b,D,N){const I=d.i.visibleColumnFromColumn(_.getLineContent(y),u,S.tabSize)+a,E=_.getLineCount(),O=y===1&&u===1,R=y===E&&u===_.getLineMaxColumn(y),M=b<y?O:R;if(y=b,y<1?(y=1,D?u=_.getLineMinColumn(y):u=Math.min(_.getLineMaxColumn(y),u)):y>E?(y=E,D?u=_.getLineMaxColumn(y):u=Math.min(_.getLineMaxColumn(y),u)):u=S.columnFromVisibleColumn(_,y,I),M?a=0:a=I-d.i.visibleColumnFromColumn(_.getLineContent(y),u,S.tabSize),N!==void 0){const K=new j.L(y,u),Z=_.normalizePosition(K,N);a=a+(u-Z.column),y=Z.lineNumber,u=Z.column}return new P(y,u,a)}static down(S,_,y,u,a,b,D){return this.vertical(S,_,y,u,a,y+b,D,4)}static moveDown(S,_,y,u,a){let b,D;y.hasSelection()&&!u?(b=y.selection.endLineNumber,D=y.selection.endColumn):(b=y.position.lineNumber,D=y.position.column);const N=A.down(S,_,b,D,y.leftoverVisibleColumns,a,!0);return y.move(u,N.lineNumber,N.column,N.leftoverVisibleColumns)}static translateDown(S,_,y){const u=y.selection,a=A.down(S,_,u.selectionStartLineNumber,u.selectionStartColumn,y.selectionStartLeftoverVisibleColumns,1,!1),b=A.down(S,_,u.positionLineNumber,u.positionColumn,y.leftoverVisibleColumns,1,!1);return new C.rS(new W.e(a.lineNumber,a.column,a.lineNumber,a.column),a.leftoverVisibleColumns,new j.L(b.lineNumber,b.column),b.leftoverVisibleColumns)}static up(S,_,y,u,a,b,D){return this.vertical(S,_,y,u,a,y-b,D,3)}static moveUp(S,_,y,u,a){let b,D;y.hasSelection()&&!u?(b=y.selection.startLineNumber,D=y.selection.startColumn):(b=y.position.lineNumber,D=y.position.column);const N=A.up(S,_,b,D,y.leftoverVisibleColumns,a,!0);return y.move(u,N.lineNumber,N.column,N.leftoverVisibleColumns)}static translateUp(S,_,y){const u=y.selection,a=A.up(S,_,u.selectionStartLineNumber,u.selectionStartColumn,y.selectionStartLeftoverVisibleColumns,1,!1),b=A.up(S,_,u.positionLineNumber,u.positionColumn,y.leftoverVisibleColumns,1,!1);return new C.rS(new W.e(a.lineNumber,a.column,a.lineNumber,a.column),a.leftoverVisibleColumns,new j.L(b.lineNumber,b.column),b.leftoverVisibleColumns)}static _isBlankLine(S,_){return S.getLineFirstNonWhitespaceColumn(_)===0}static moveToPrevBlankLine(S,_,y,u){let a=y.position.lineNumber;for(;a>1&&this._isBlankLine(_,a);)a--;for(;a>1&&!this._isBlankLine(_,a);)a--;return y.move(u,a,_.getLineMinColumn(a),0)}static moveToNextBlankLine(S,_,y,u){const a=_.getLineCount();let b=y.position.lineNumber;for(;b<a&&this._isBlankLine(_,b);)b++;for(;b<a&&!this._isBlankLine(_,b);)b++;return y.move(u,b,_.getLineMinColumn(b),0)}static moveToBeginningOfLine(S,_,y,u){const a=y.position.lineNumber,b=_.getLineMinColumn(a),D=_.getLineFirstNonWhitespaceColumn(a)||b;let N;return y.position.column===D?N=b:N=D,y.move(u,a,N,0)}static moveToEndOfLine(S,_,y,u,a){const b=y.position.lineNumber,D=_.getLineMaxColumn(b);return y.move(u,b,D,a?1073741824-D:0)}static moveToBeginningOfBuffer(S,_,y,u){return y.move(u,1,1,0)}static moveToEndOfBuffer(S,_,y,u){const a=_.getLineCount(),b=_.getLineMaxColumn(a);return y.move(u,a,b,0)}}},11333:function(nt,xe,l){"use strict";l.d(xe,{Nu:function(){return E},u6:function(){return N},g_:function(){return I}});var C=l(708),d=l(22297),j=l(93297),W=l(34621),L=l(14481),z=l(17122);class P{constructor(te,de,ge){this._range=te,this._charBeforeSelection=de,this._charAfterSelection=ge}getEditOperations(te,de){de.addTrackedEditOperation(new L.e(this._range.startLineNumber,this._range.startColumn,this._range.startLineNumber,this._range.startColumn),this._charBeforeSelection),de.addTrackedEditOperation(new L.e(this._range.endLineNumber,this._range.endColumn,this._range.endLineNumber,this._range.endColumn),this._charAfterSelection)}computeCursorState(te,de){const ge=de.getInverseEditOperations(),le=ge[0].range,se=ge[1].range;return new z.Y(le.endLineNumber,le.endColumn,se.endLineNumber,se.endColumn-this._charAfterSelection.length)}}class A{constructor(te,de,ge){this._position=te,this._text=de,this._charAfter=ge}getEditOperations(te,de){de.addTrackedEditOperation(new L.e(this._position.lineNumber,this._position.column,this._position.lineNumber,this._position.column),this._text+this._charAfter)}computeCursorState(te,de){const le=de.getInverseEditOperations()[0].range;return new z.Y(le.endLineNumber,le.startColumn,le.endLineNumber,le.endColumn-this._charAfter.length)}}var T=l(16505),S=l(6669),_=l(67120),y=l(56563),u=l(13634),a=l(26743),b=l(6547),D=l(18467);class N{static indent(te,de,ge){if(de===null||ge===null)return[];const le=[];for(let se=0,X=ge.length;se<X;se++)le[se]=new W.U(ge[se],{isUnshift:!1,tabSize:te.tabSize,indentSize:te.indentSize,insertSpaces:te.insertSpaces,useTabStops:te.useTabStops,autoIndent:te.autoIndent},te.languageConfigurationService);return le}static outdent(te,de,ge){const le=[];for(let se=0,X=ge.length;se<X;se++)le[se]=new W.U(ge[se],{isUnshift:!0,tabSize:te.tabSize,indentSize:te.indentSize,insertSpaces:te.insertSpaces,useTabStops:te.useTabStops,autoIndent:te.autoIndent},te.languageConfigurationService);return le}static shiftIndent(te,de,ge){return ge=ge||1,W.U.shiftIndent(de,de.length+ge,te.tabSize,te.indentSize,te.insertSpaces)}static unshiftIndent(te,de,ge){return ge=ge||1,W.U.unshiftIndent(de,de.length+ge,te.tabSize,te.indentSize,te.insertSpaces)}static _distributedPaste(te,de,ge,le){const se=[];for(let X=0,re=ge.length;X<re;X++)se[X]=new j.T4(ge[X],le[X]);return new T.Tp(0,se,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _simplePaste(te,de,ge,le,se){const X=[];for(let re=0,ne=ge.length;re<ne;re++){const U=ge[re],oe=U.getPosition();if(se&&!U.isEmpty()&&(se=!1),se&&le.indexOf(`
`)!==le.length-1&&(se=!1),se){const q=new L.e(oe.lineNumber,1,oe.lineNumber,1);X[re]=new j.hP(q,le,U,!0)}else X[re]=new j.T4(U,le)}return new T.Tp(0,X,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _distributePasteToCursors(te,de,ge,le,se){if(le||de.length===1)return null;if(se&&se.length===de.length)return se;if(te.multiCursorPaste==="spread"){ge.charCodeAt(ge.length-1)===10&&(ge=ge.substr(0,ge.length-1)),ge.charCodeAt(ge.length-1)===13&&(ge=ge.substr(0,ge.length-1));const X=d.uq(ge);if(X.length===de.length)return X}return null}static paste(te,de,ge,le,se,X){const re=this._distributePasteToCursors(te,ge,le,se,X);return re?(ge=ge.sort(L.e.compareRangesUsingStarts),this._distributedPaste(te,de,ge,re)):this._simplePaste(te,de,ge,le,se)}static _goodIndentForLine(te,de,ge){let le=null,se="";const X=(0,b.r7)(te.autoIndent,de,ge,!1,te.languageConfigurationService);if(X)le=X.action,se=X.indentation;else if(ge>1){let re;for(re=ge-1;re>=1;re--){const oe=de.getLineContent(re);if(d.ow(oe)>=0)break}if(re<1)return null;const ne=de.getLineMaxColumn(re),U=(0,D.A)(te.autoIndent,de,new L.e(re,ne,re,ne),te.languageConfigurationService);U&&(se=U.indentation+U.appendText)}return le&&(le===y.wU.Indent&&(se=N.shiftIndent(te,se)),le===y.wU.Outdent&&(se=N.unshiftIndent(te,se)),se=te.normalizeIndentation(se)),se||null}static _replaceJumpToNextIndent(te,de,ge,le){let se="";const X=ge.getStartPosition();if(te.insertSpaces){const re=te.visibleColumnFromColumn(de,X),ne=te.indentSize,U=ne-re%ne;for(let oe=0;oe<U;oe++)se+=" "}else se="	";return new j.T4(ge,se,le)}static tab(te,de,ge){const le=[];for(let se=0,X=ge.length;se<X;se++){const re=ge[se];if(re.isEmpty()){const ne=de.getLineContent(re.startLineNumber);if(/^\s*$/.test(ne)&&de.tokenization.isCheapToTokenize(re.startLineNumber)){let U=this._goodIndentForLine(te,de,re.startLineNumber);U=U||"	";const oe=te.normalizeIndentation(U);if(!ne.startsWith(oe)){le[se]=new j.T4(new L.e(re.startLineNumber,1,re.startLineNumber,ne.length+1),oe,!0);continue}}le[se]=this._replaceJumpToNextIndent(te,de,re,!0)}else{if(re.startLineNumber===re.endLineNumber){const ne=de.getLineMaxColumn(re.startLineNumber);if(re.startColumn!==1||re.endColumn!==ne){le[se]=this._replaceJumpToNextIndent(te,de,re,!1);continue}}le[se]=new W.U(re,{isUnshift:!1,tabSize:te.tabSize,indentSize:te.indentSize,insertSpaces:te.insertSpaces,useTabStops:te.useTabStops,autoIndent:te.autoIndent},te.languageConfigurationService)}}return le}static compositionType(te,de,ge,le,se,X,re,ne){const U=le.map(oe=>this._compositionType(ge,oe,se,X,re,ne));return new T.Tp(4,U,{shouldPushStackElementBefore:R(te,4),shouldPushStackElementAfter:!1})}static _compositionType(te,de,ge,le,se,X){if(!de.isEmpty())return null;const re=de.getPosition(),ne=Math.max(1,re.column-le),U=Math.min(te.getLineMaxColumn(re.lineNumber),re.column+se),oe=new L.e(re.lineNumber,ne,re.lineNumber,U);return te.getValueInRange(oe)===ge&&X===0?null:new j.Uo(oe,ge,0,X)}static _typeCommand(te,de,ge){return ge?new j.Sj(te,de,!0):new j.T4(te,de,!0)}static _enter(te,de,ge,le){if(te.autoIndent===0)return N._typeCommand(le,`
`,ge);if(!de.tokenization.isCheapToTokenize(le.getStartPosition().lineNumber)||te.autoIndent===1){const ne=de.getLineContent(le.startLineNumber),U=d.V8(ne).substring(0,le.startColumn-1);return N._typeCommand(le,`
`+te.normalizeIndentation(U),ge)}const se=(0,D.A)(te.autoIndent,de,le,te.languageConfigurationService);if(se){if(se.indentAction===y.wU.None)return N._typeCommand(le,`
`+te.normalizeIndentation(se.indentation+se.appendText),ge);if(se.indentAction===y.wU.Indent)return N._typeCommand(le,`
`+te.normalizeIndentation(se.indentation+se.appendText),ge);if(se.indentAction===y.wU.IndentOutdent){const ne=te.normalizeIndentation(se.indentation),U=te.normalizeIndentation(se.indentation+se.appendText),oe=`
`+U+`
`+ne;return ge?new j.Sj(le,oe,!0):new j.Uo(le,oe,-1,U.length-ne.length,!0)}else if(se.indentAction===y.wU.Outdent){const ne=N.unshiftIndent(te,se.indentation);return N._typeCommand(le,`
`+te.normalizeIndentation(ne+se.appendText),ge)}}const X=de.getLineContent(le.startLineNumber),re=d.V8(X).substring(0,le.startColumn-1);if(te.autoIndent>=4){const ne=(0,b.UF)(te.autoIndent,de,le,{unshiftIndent:U=>N.unshiftIndent(te,U),shiftIndent:U=>N.shiftIndent(te,U),normalizeIndentation:U=>te.normalizeIndentation(U)},te.languageConfigurationService);if(ne){let U=te.visibleColumnFromColumn(de,le.getEndPosition());const oe=le.endColumn,q=de.getLineContent(le.endLineNumber),ae=d.LC(q);if(ae>=0?le=le.setEndPosition(le.endLineNumber,Math.max(le.endColumn,ae+1)):le=le.setEndPosition(le.endLineNumber,de.getLineMaxColumn(le.endLineNumber)),ge)return new j.Sj(le,`
`+te.normalizeIndentation(ne.afterEnter),!0);{let me=0;return oe<=ae+1&&(te.insertSpaces||(U=Math.ceil(U/te.indentSize)),me=Math.min(U+1-te.normalizeIndentation(ne.afterEnter).length-1,0)),new j.Uo(le,`
`+te.normalizeIndentation(ne.afterEnter),0,me,!0)}}}return N._typeCommand(le,`
`+te.normalizeIndentation(re),ge)}static _isAutoIndentType(te,de,ge){if(te.autoIndent<4)return!1;for(let le=0,se=ge.length;le<se;le++)if(!de.tokenization.isCheapToTokenize(ge[le].getEndPosition().lineNumber))return!1;return!0}static _runAutoIndentType(te,de,ge,le){const se=(0,u.u0)(de,ge.startLineNumber,ge.startColumn),X=(0,b.$9)(te.autoIndent,de,ge,le,{shiftIndent:re=>N.shiftIndent(te,re),unshiftIndent:re=>N.unshiftIndent(te,re)},te.languageConfigurationService);if(X===null)return null;if(X!==te.normalizeIndentation(se)){const re=de.getLineFirstNonWhitespaceColumn(ge.startLineNumber);return re===0?N._typeCommand(new L.e(ge.startLineNumber,1,ge.endLineNumber,ge.endColumn),te.normalizeIndentation(X)+le,!1):N._typeCommand(new L.e(ge.startLineNumber,1,ge.endLineNumber,ge.endColumn),te.normalizeIndentation(X)+de.getLineContent(ge.startLineNumber).substring(re-1,ge.startColumn-1)+le,!1)}return null}static _isAutoClosingOvertype(te,de,ge,le,se){if(te.autoClosingOvertype==="never"||!te.autoClosingPairs.autoClosingPairsCloseSingleChar.has(se))return!1;for(let X=0,re=ge.length;X<re;X++){const ne=ge[X];if(!ne.isEmpty())return!1;const U=ne.getPosition(),oe=de.getLineContent(U.lineNumber);if(oe.charAt(U.column-1)!==se)return!1;const ae=(0,T.LN)(se);if((U.column>2?oe.charCodeAt(U.column-2):0)===92&&ae)return!1;if(te.autoClosingOvertype==="auto"){let ke=!1;for(let H=0,ut=le.length;H<ut;H++){const Ke=le[H];if(U.lineNumber===Ke.startLineNumber&&U.column===Ke.startColumn){ke=!0;break}}if(!ke)return!1}}return!0}static _runAutoClosingOvertype(te,de,ge,le,se){const X=[];for(let re=0,ne=le.length;re<ne;re++){const oe=le[re].getPosition(),q=new L.e(oe.lineNumber,oe.column,oe.lineNumber,oe.column+1);X[re]=new j.T4(q,se)}return new T.Tp(4,X,{shouldPushStackElementBefore:R(te,4),shouldPushStackElementAfter:!1})}static _isBeforeClosingBrace(te,de){const ge=de.charAt(0),le=te.autoClosingPairs.autoClosingPairsOpenByStart.get(ge)||[],se=te.autoClosingPairs.autoClosingPairsCloseByStart.get(ge)||[],X=le.some(ne=>de.startsWith(ne.open)),re=se.some(ne=>de.startsWith(ne.close));return!X&&re}static _findAutoClosingPairOpen(te,de,ge,le){const se=te.autoClosingPairs.autoClosingPairsOpenByEnd.get(le);if(!se)return null;let X=null;for(const re of se)if(X===null||re.open.length>X.open.length){let ne=!0;for(const U of ge)if(de.getValueInRange(new L.e(U.lineNumber,U.column-re.open.length+1,U.lineNumber,U.column))+le!==re.open){ne=!1;break}ne&&(X=re)}return X}static _findContainedAutoClosingPair(te,de){if(de.open.length<=1)return null;const ge=de.close.charAt(de.close.length-1),le=te.autoClosingPairs.autoClosingPairsCloseByEnd.get(ge)||[];let se=null;for(const X of le)X.open!==de.open&&de.open.includes(X.open)&&de.close.endsWith(X.close)&&(!se||X.open.length>se.open.length)&&(se=X);return se}static _getAutoClosingPairClose(te,de,ge,le,se){const X=(0,T.LN)(le),re=X?te.autoClosingQuotes:te.autoClosingBrackets,ne=X?te.shouldAutoCloseBefore.quote:te.shouldAutoCloseBefore.bracket;if(re==="never")return null;for(const ke of ge)if(!ke.isEmpty())return null;const U=ge.map(ke=>{const H=ke.getPosition();return se?{lineNumber:H.lineNumber,beforeColumn:H.column-le.length,afterColumn:H.column}:{lineNumber:H.lineNumber,beforeColumn:H.column,afterColumn:H.column}}),oe=this._findAutoClosingPairOpen(te,de,U.map(ke=>new _.L(ke.lineNumber,ke.beforeColumn)),le);if(!oe)return null;const q=this._findContainedAutoClosingPair(te,oe),ae=q?q.close:"";let me=!0;for(const ke of U){const{lineNumber:H,beforeColumn:ut,afterColumn:Ke}=ke,He=de.getLineContent(H),ze=He.substring(0,ut-1),Le=He.substring(Ke-1);if(Le.startsWith(ae)||(me=!1),Le.length>0){const ct=Le.charAt(0);if(!N._isBeforeClosingBrace(te,Le)&&!ne(ct))return null}if(oe.open.length===1&&(le==="'"||le==='"')&&re!=="always"){const ct=(0,S.u)(te.wordSeparators);if(ze.length>0){const ft=ze.charCodeAt(ze.length-1);if(ct.get(ft)===0)return null}}if(!de.tokenization.isCheapToTokenize(H))return null;de.tokenization.forceTokenization(H);const Ze=de.tokenization.getLineTokens(H),Ge=(0,a.wH)(Ze,ut-1);if(!oe.shouldAutoClose(Ge,ut-Ge.firstCharOffset))return null;const Fe=oe.findNeutralCharacter();if(Fe){const ct=de.tokenization.getTokenTypeIfInsertingCharacter(H,ut,Fe);if(!oe.isOK(ct))return null}}return me?oe.close.substring(0,oe.close.length-ae.length):oe.close}static _runAutoClosingOpenCharType(te,de,ge,le,se,X,re){const ne=[];for(let U=0,oe=le.length;U<oe;U++){const q=le[U];ne[U]=new I(q,se,!X,re)}return new T.Tp(4,ne,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}static _shouldSurroundChar(te,de){return(0,T.LN)(de)?te.autoSurround==="quotes"||te.autoSurround==="languageDefined":te.autoSurround==="brackets"||te.autoSurround==="languageDefined"}static _isSurroundSelectionType(te,de,ge,le){if(!N._shouldSurroundChar(te,le)||!te.surroundingPairs.hasOwnProperty(le))return!1;const se=(0,T.LN)(le);for(const X of ge){if(X.isEmpty())return!1;let re=!0;for(let ne=X.startLineNumber;ne<=X.endLineNumber;ne++){const U=de.getLineContent(ne),oe=ne===X.startLineNumber?X.startColumn-1:0,q=ne===X.endLineNumber?X.endColumn-1:U.length,ae=U.substring(oe,q);if(/[^ \t]/.test(ae)){re=!1;break}}if(re)return!1;if(se&&X.startLineNumber===X.endLineNumber&&X.startColumn+1===X.endColumn){const ne=de.getValueInRange(X);if((0,T.LN)(ne))return!1}}return!0}static _runSurroundSelectionType(te,de,ge,le,se){const X=[];for(let re=0,ne=le.length;re<ne;re++){const U=le[re],oe=de.surroundingPairs[se];X[re]=new P(U,se,oe)}return new T.Tp(0,X,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!0})}static _isTypeInterceptorElectricChar(te,de,ge){return!!(ge.length===1&&de.tokenization.isCheapToTokenize(ge[0].getEndPosition().lineNumber))}static _typeInterceptorElectricChar(te,de,ge,le,se){if(!de.electricChars.hasOwnProperty(se)||!le.isEmpty())return null;const X=le.getPosition();ge.tokenization.forceTokenization(X.lineNumber);const re=ge.tokenization.getLineTokens(X.lineNumber);let ne;try{ne=de.onElectricCharacter(se,re,X.column)}catch(U){return(0,C.dL)(U),null}if(!ne)return null;if(ne.matchOpenBracket){const U=(re.getLineContent()+se).lastIndexOf(ne.matchOpenBracket)+1,oe=ge.bracketPairs.findMatchingBracketUp(ne.matchOpenBracket,{lineNumber:X.lineNumber,column:U},500);if(oe){if(oe.startLineNumber===X.lineNumber)return null;const q=ge.getLineContent(oe.startLineNumber),ae=d.V8(q),me=de.normalizeIndentation(ae),ke=ge.getLineContent(X.lineNumber),H=ge.getLineFirstNonWhitespaceColumn(X.lineNumber)||X.column,ut=ke.substring(H-1,X.column-1),Ke=me+ut+se,He=new L.e(X.lineNumber,1,X.lineNumber,X.column),ze=new j.T4(He,Ke);return new T.Tp(O(Ke,te),[ze],{shouldPushStackElementBefore:!1,shouldPushStackElementAfter:!0})}}return null}static compositionEndWithInterceptors(te,de,ge,le,se,X){if(!le)return null;let re=null;for(const q of le)if(re===null)re=q.insertedText;else if(re!==q.insertedText)return null;if(!re||re.length!==1)return null;const ne=re;let U=!1;for(const q of le)if(q.deletedText.length!==0){U=!0;break}if(U){if(!N._shouldSurroundChar(de,ne)||!de.surroundingPairs.hasOwnProperty(ne))return null;const q=(0,T.LN)(ne);for(const ke of le)if(ke.deletedSelectionStart!==0||ke.deletedSelectionEnd!==ke.deletedText.length||/^[ \t]+$/.test(ke.deletedText)||q&&(0,T.LN)(ke.deletedText))return null;const ae=[];for(const ke of se){if(!ke.isEmpty())return null;ae.push(ke.getPosition())}if(ae.length!==le.length)return null;const me=[];for(let ke=0,H=ae.length;ke<H;ke++)me.push(new A(ae[ke],le[ke].deletedText,ne));return new T.Tp(4,me,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(de,ge,se,X,ne)){const q=se.map(ae=>new j.T4(new L.e(ae.positionLineNumber,ae.positionColumn,ae.positionLineNumber,ae.positionColumn+1),"",!1));return new T.Tp(4,q,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}const oe=this._getAutoClosingPairClose(de,ge,se,ne,!0);return oe!==null?this._runAutoClosingOpenCharType(te,de,ge,se,ne,!0,oe):null}static typeWithInterceptors(te,de,ge,le,se,X,re){if(!te&&re===`
`){const oe=[];for(let q=0,ae=se.length;q<ae;q++)oe[q]=N._enter(ge,le,!1,se[q]);return new T.Tp(4,oe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(!te&&this._isAutoIndentType(ge,le,se)){const oe=[];let q=!1;for(let ae=0,me=se.length;ae<me;ae++)if(oe[ae]=this._runAutoIndentType(ge,le,se[ae],re),!oe[ae]){q=!0;break}if(!q)return new T.Tp(4,oe,{shouldPushStackElementBefore:!0,shouldPushStackElementAfter:!1})}if(this._isAutoClosingOvertype(ge,le,se,X,re))return this._runAutoClosingOvertype(de,ge,le,se,re);if(!te){const oe=this._getAutoClosingPairClose(ge,le,se,re,!1);if(oe)return this._runAutoClosingOpenCharType(de,ge,le,se,re,!1,oe)}if(!te&&this._isSurroundSelectionType(ge,le,se,re))return this._runSurroundSelectionType(de,ge,le,se,re);if(!te&&this._isTypeInterceptorElectricChar(ge,le,se)){const oe=this._typeInterceptorElectricChar(de,ge,le,se[0],re);if(oe)return oe}const ne=[];for(let oe=0,q=se.length;oe<q;oe++)ne[oe]=new j.T4(se[oe],re);const U=O(re,de);return new T.Tp(U,ne,{shouldPushStackElementBefore:R(de,U),shouldPushStackElementAfter:!1})}static typeWithoutInterceptors(te,de,ge,le,se){const X=[];for(let ne=0,U=le.length;ne<U;ne++)X[ne]=new j.T4(le[ne],se);const re=O(se,te);return new T.Tp(re,X,{shouldPushStackElementBefore:R(te,re),shouldPushStackElementAfter:!1})}static lineInsertBefore(te,de,ge){if(de===null||ge===null)return[];const le=[];for(let se=0,X=ge.length;se<X;se++){let re=ge[se].positionLineNumber;if(re===1)le[se]=new j.Sj(new L.e(1,1,1,1),`
`);else{re--;const ne=de.getLineMaxColumn(re);le[se]=this._enter(te,de,!1,new L.e(re,ne,re,ne))}}return le}static lineInsertAfter(te,de,ge){if(de===null||ge===null)return[];const le=[];for(let se=0,X=ge.length;se<X;se++){const re=ge[se].positionLineNumber,ne=de.getLineMaxColumn(re);le[se]=this._enter(te,de,!1,new L.e(re,ne,re,ne))}return le}static lineBreakInsert(te,de,ge){const le=[];for(let se=0,X=ge.length;se<X;se++)le[se]=this._enter(te,de,!0,ge[se]);return le}}class I extends j.Uo{constructor(te,de,ge,le){super(te,(ge?de:"")+le,0,-le.length),this._openCharacter=de,this._closeCharacter=le,this.closeCharacterRange=null,this.enclosingRange=null}computeCursorState(te,de){const le=de.getInverseEditOperations()[0].range;return this.closeCharacterRange=new L.e(le.startLineNumber,le.endColumn-this._closeCharacter.length,le.endLineNumber,le.endColumn),this.enclosingRange=new L.e(le.startLineNumber,le.endColumn-this._openCharacter.length-this._closeCharacter.length,le.endLineNumber,le.endColumn),super.computeCursorState(te,de)}}class E{constructor(te,de,ge,le,se,X){this.deletedText=te,this.deletedSelectionStart=de,this.deletedSelectionEnd=ge,this.insertedText=le,this.insertedSelectionStart=se,this.insertedSelectionEnd=X}}function O(Z,te){return Z===" "?te===5||te===6?6:5:4}function R(Z,te){return K(Z)&&!K(te)?!0:Z===5?!1:M(Z)!==M(te)}function M(Z){return Z===6||Z===5?"space":Z}function K(Z){return Z===4||Z===5||Z===6}},49885:function(nt,xe,l){"use strict";l.d(xe,{L:function(){return A},w:function(){return P}});var C=l(22297),d=l(16505),j=l(53570),W=l(6669),L=l(67120),z=l(14481);class P{static _createWord(_,y,u,a,b){return{start:a,end:b,wordType:y,nextCharClass:u}}static _findPreviousWordOnLine(_,y,u){const a=y.getLineContent(u.lineNumber);return this._doFindPreviousWordOnLine(a,_,u)}static _doFindPreviousWordOnLine(_,y,u){let a=0;for(let b=u.column-2;b>=0;b--){const D=_.charCodeAt(b),N=y.get(D);if(N===0){if(a===2)return this._createWord(_,a,N,b+1,this._findEndOfWord(_,y,a,b+1));a=1}else if(N===2){if(a===1)return this._createWord(_,a,N,b+1,this._findEndOfWord(_,y,a,b+1));a=2}else if(N===1&&a!==0)return this._createWord(_,a,N,b+1,this._findEndOfWord(_,y,a,b+1))}return a!==0?this._createWord(_,a,1,0,this._findEndOfWord(_,y,a,0)):null}static _findEndOfWord(_,y,u,a){const b=_.length;for(let D=a;D<b;D++){const N=_.charCodeAt(D),I=y.get(N);if(I===1||u===1&&I===2||u===2&&I===0)return D}return b}static _findNextWordOnLine(_,y,u){const a=y.getLineContent(u.lineNumber);return this._doFindNextWordOnLine(a,_,u)}static _doFindNextWordOnLine(_,y,u){let a=0;const b=_.length;for(let D=u.column-1;D<b;D++){const N=_.charCodeAt(D),I=y.get(N);if(I===0){if(a===2)return this._createWord(_,a,I,this._findStartOfWord(_,y,a,D-1),D);a=1}else if(I===2){if(a===1)return this._createWord(_,a,I,this._findStartOfWord(_,y,a,D-1),D);a=2}else if(I===1&&a!==0)return this._createWord(_,a,I,this._findStartOfWord(_,y,a,D-1),D)}return a!==0?this._createWord(_,a,1,this._findStartOfWord(_,y,a,b-1),b):null}static _findStartOfWord(_,y,u,a){for(let b=a;b>=0;b--){const D=_.charCodeAt(b),N=y.get(D);if(N===1||u===1&&N===2||u===2&&N===0)return b+1}return 0}static moveWordLeft(_,y,u,a){let b=u.lineNumber,D=u.column;D===1&&b>1&&(b=b-1,D=y.getLineMaxColumn(b));let N=P._findPreviousWordOnLine(_,y,new L.L(b,D));if(a===0)return new L.L(b,N?N.start+1:1);if(a===1)return N&&N.wordType===2&&N.end-N.start===1&&N.nextCharClass===0&&(N=P._findPreviousWordOnLine(_,y,new L.L(b,N.start+1))),new L.L(b,N?N.start+1:1);if(a===3){for(;N&&N.wordType===2;)N=P._findPreviousWordOnLine(_,y,new L.L(b,N.start+1));return new L.L(b,N?N.start+1:1)}return N&&D<=N.end+1&&(N=P._findPreviousWordOnLine(_,y,new L.L(b,N.start+1))),new L.L(b,N?N.end+1:1)}static _moveWordPartLeft(_,y){const u=y.lineNumber,a=_.getLineMaxColumn(u);if(y.column===1)return u>1?new L.L(u-1,_.getLineMaxColumn(u-1)):y;const b=_.getLineContent(u);for(let D=y.column-1;D>1;D--){const N=b.charCodeAt(D-2),I=b.charCodeAt(D-1);if(N===95&&I!==95)return new L.L(u,D);if((C.mK(N)||C.T5(N))&&C.df(I))return new L.L(u,D);if(C.df(N)&&C.df(I)&&D+1<a){const E=b.charCodeAt(D);if(C.mK(E)||C.T5(E))return new L.L(u,D)}}return new L.L(u,1)}static moveWordRight(_,y,u,a){let b=u.lineNumber,D=u.column,N=!1;D===y.getLineMaxColumn(b)&&b<y.getLineCount()&&(N=!0,b=b+1,D=1);let I=P._findNextWordOnLine(_,y,new L.L(b,D));if(a===2)I&&I.wordType===2&&I.end-I.start===1&&I.nextCharClass===0&&(I=P._findNextWordOnLine(_,y,new L.L(b,I.end+1))),I?D=I.end+1:D=y.getLineMaxColumn(b);else if(a===3){for(N&&(D=0);I&&(I.wordType===2||I.start+1<=D);)I=P._findNextWordOnLine(_,y,new L.L(b,I.end+1));I?D=I.start+1:D=y.getLineMaxColumn(b)}else I&&!N&&D>=I.start+1&&(I=P._findNextWordOnLine(_,y,new L.L(b,I.end+1))),I?D=I.start+1:D=y.getLineMaxColumn(b);return new L.L(b,D)}static _moveWordPartRight(_,y){const u=y.lineNumber,a=_.getLineMaxColumn(u);if(y.column===a)return u<_.getLineCount()?new L.L(u+1,1):y;const b=_.getLineContent(u);for(let D=y.column+1;D<a;D++){const N=b.charCodeAt(D-2),I=b.charCodeAt(D-1);if(N!==95&&I===95)return new L.L(u,D);if((C.mK(N)||C.T5(N))&&C.df(I))return new L.L(u,D);if(C.df(N)&&C.df(I)&&D+1<a){const E=b.charCodeAt(D);if(C.mK(E)||C.T5(E))return new L.L(u,D)}}return new L.L(u,a)}static _deleteWordLeftWhitespace(_,y){const u=_.getLineContent(y.lineNumber),a=y.column-2,b=C.ow(u,a);return b+1<a?new z.e(y.lineNumber,b+2,y.lineNumber,y.column):null}static deleteWordLeft(_,y){const u=_.wordSeparators,a=_.model,b=_.selection,D=_.whitespaceHeuristics;if(!b.isEmpty())return b;if(j.A.isAutoClosingPairDelete(_.autoClosingDelete,_.autoClosingBrackets,_.autoClosingQuotes,_.autoClosingPairs.autoClosingPairsOpenByEnd,_.model,[_.selection],_.autoClosedCharacters)){const R=_.selection.getPosition();return new z.e(R.lineNumber,R.column-1,R.lineNumber,R.column+1)}const N=new L.L(b.positionLineNumber,b.positionColumn);let I=N.lineNumber,E=N.column;if(I===1&&E===1)return null;if(D){const R=this._deleteWordLeftWhitespace(a,N);if(R)return R}let O=P._findPreviousWordOnLine(u,a,N);return y===0?O?E=O.start+1:E>1?E=1:(I--,E=a.getLineMaxColumn(I)):(O&&E<=O.end+1&&(O=P._findPreviousWordOnLine(u,a,new L.L(I,O.start+1))),O?E=O.end+1:E>1?E=1:(I--,E=a.getLineMaxColumn(I))),new z.e(I,E,N.lineNumber,N.column)}static deleteInsideWord(_,y,u){if(!u.isEmpty())return u;const a=new L.L(u.positionLineNumber,u.positionColumn),b=this._deleteInsideWordWhitespace(y,a);return b||this._deleteInsideWordDetermineDeleteRange(_,y,a)}static _charAtIsWhitespace(_,y){const u=_.charCodeAt(y);return u===32||u===9}static _deleteInsideWordWhitespace(_,y){const u=_.getLineContent(y.lineNumber),a=u.length;if(a===0)return null;let b=Math.max(y.column-2,0);if(!this._charAtIsWhitespace(u,b))return null;let D=Math.min(y.column-1,a-1);if(!this._charAtIsWhitespace(u,D))return null;for(;b>0&&this._charAtIsWhitespace(u,b-1);)b--;for(;D+1<a&&this._charAtIsWhitespace(u,D+1);)D++;return new z.e(y.lineNumber,b+1,y.lineNumber,D+2)}static _deleteInsideWordDetermineDeleteRange(_,y,u){const a=y.getLineContent(u.lineNumber),b=a.length;if(b===0)return u.lineNumber>1?new z.e(u.lineNumber-1,y.getLineMaxColumn(u.lineNumber-1),u.lineNumber,1):u.lineNumber<y.getLineCount()?new z.e(u.lineNumber,1,u.lineNumber+1,1):new z.e(u.lineNumber,1,u.lineNumber,1);const D=R=>R.start+1<=u.column&&u.column<=R.end+1,N=(R,M)=>(R=Math.min(R,u.column),M=Math.max(M,u.column),new z.e(u.lineNumber,R,u.lineNumber,M)),I=R=>{let M=R.start+1,K=R.end+1,Z=!1;for(;K-1<b&&this._charAtIsWhitespace(a,K-1);)Z=!0,K++;if(!Z)for(;M>1&&this._charAtIsWhitespace(a,M-2);)M--;return N(M,K)},E=P._findPreviousWordOnLine(_,y,u);if(E&&D(E))return I(E);const O=P._findNextWordOnLine(_,y,u);return O&&D(O)?I(O):E&&O?N(E.end+1,O.start+1):E?N(E.start+1,E.end+1):O?N(O.start+1,O.end+1):N(1,b+1)}static _deleteWordPartLeft(_,y){if(!y.isEmpty())return y;const u=y.getPosition(),a=P._moveWordPartLeft(_,u);return new z.e(u.lineNumber,u.column,a.lineNumber,a.column)}static _findFirstNonWhitespaceChar(_,y){const u=_.length;for(let a=y;a<u;a++){const b=_.charAt(a);if(b!==" "&&b!=="	")return a}return u}static _deleteWordRightWhitespace(_,y){const u=_.getLineContent(y.lineNumber),a=y.column-1,b=this._findFirstNonWhitespaceChar(u,a);return a+1<b?new z.e(y.lineNumber,y.column,y.lineNumber,b+1):null}static deleteWordRight(_,y){const u=_.wordSeparators,a=_.model,b=_.selection,D=_.whitespaceHeuristics;if(!b.isEmpty())return b;const N=new L.L(b.positionLineNumber,b.positionColumn);let I=N.lineNumber,E=N.column;const O=a.getLineCount(),R=a.getLineMaxColumn(I);if(I===O&&E===R)return null;if(D){const K=this._deleteWordRightWhitespace(a,N);if(K)return K}let M=P._findNextWordOnLine(u,a,N);return y===2?M?E=M.end+1:E<R||I===O?E=R:(I++,M=P._findNextWordOnLine(u,a,new L.L(I,1)),M?E=M.start+1:E=a.getLineMaxColumn(I)):(M&&E>=M.start+1&&(M=P._findNextWordOnLine(u,a,new L.L(I,M.end+1))),M?E=M.start+1:E<R||I===O?E=R:(I++,M=P._findNextWordOnLine(u,a,new L.L(I,1)),M?E=M.start+1:E=a.getLineMaxColumn(I))),new z.e(I,E,N.lineNumber,N.column)}static _deleteWordPartRight(_,y){if(!y.isEmpty())return y;const u=y.getPosition(),a=P._moveWordPartRight(_,u);return new z.e(u.lineNumber,u.column,a.lineNumber,a.column)}static _createWordAtPosition(_,y,u){const a=new z.e(y,u.start+1,y,u.end+1);return{word:_.getValueInRange(a),startColumn:a.startColumn,endColumn:a.endColumn}}static getWordAtPosition(_,y,u){const a=(0,W.u)(y),b=P._findPreviousWordOnLine(a,_,u);if(b&&b.wordType===1&&b.start<=u.column-1&&u.column-1<=b.end)return P._createWordAtPosition(_,u.lineNumber,b);const D=P._findNextWordOnLine(a,_,u);return D&&D.wordType===1&&D.start<=u.column-1&&u.column-1<=D.end?P._createWordAtPosition(_,u.lineNumber,D):null}static word(_,y,u,a,b){const D=(0,W.u)(_.wordSeparators),N=P._findPreviousWordOnLine(D,y,b),I=P._findNextWordOnLine(D,y,b);if(!a){let K,Z;return N&&N.wordType===1&&N.start<=b.column-1&&b.column-1<=N.end?(K=N.start+1,Z=N.end+1):I&&I.wordType===1&&I.start<=b.column-1&&b.column-1<=I.end?(K=I.start+1,Z=I.end+1):(N?K=N.end+1:K=1,I?Z=I.start+1:Z=y.getLineMaxColumn(b.lineNumber)),new d.rS(new z.e(b.lineNumber,K,b.lineNumber,Z),0,new L.L(b.lineNumber,Z),0)}let E,O;N&&N.wordType===1&&N.start<b.column-1&&b.column-1<N.end?(E=N.start+1,O=N.end+1):I&&I.wordType===1&&I.start<b.column-1&&b.column-1<I.end?(E=I.start+1,O=I.end+1):(E=b.column,O=b.column);const R=b.lineNumber;let M;if(u.selectionStart.containsPosition(b))M=u.selectionStart.endColumn;else if(b.isBeforeOrEqual(u.selectionStart.getStartPosition())){M=E;const K=new L.L(R,M);u.selectionStart.containsPosition(K)&&(M=u.selectionStart.endColumn)}else{M=O;const K=new L.L(R,M);u.selectionStart.containsPosition(K)&&(M=u.selectionStart.startColumn)}return u.move(!0,R,M,0)}}class A extends P{static deleteWordPartLeft(_){const y=T([P.deleteWordLeft(_,0),P.deleteWordLeft(_,2),P._deleteWordPartLeft(_.model,_.selection)]);return y.sort(z.e.compareRangesUsingEnds),y[2]}static deleteWordPartRight(_){const y=T([P.deleteWordRight(_,0),P.deleteWordRight(_,2),P._deleteWordPartRight(_.model,_.selection)]);return y.sort(z.e.compareRangesUsingStarts),y[0]}static moveWordPartLeft(_,y,u){const a=T([P.moveWordLeft(_,y,u,0),P.moveWordLeft(_,y,u,2),P._moveWordPartLeft(y,u)]);return a.sort(L.L.compare),a[2]}static moveWordPartRight(_,y,u){const a=T([P.moveWordRight(_,y,u,0),P.moveWordRight(_,y,u,2),P._moveWordPartRight(y,u)]);return a.sort(L.L.compare),a[0]}}function T(S){return S.filter(_=>Boolean(_))}},16505:function(nt,xe,l){"use strict";l.d(xe,{LM:function(){return S},LN:function(){return D},Tp:function(){return b},Vi:function(){return _},rS:function(){return a}});var C=l(67120),d=l(14481),j=l(17122),W=l(26743),L=l(72289),z=l(69460);const P=()=>!0,A=()=>!1,T=N=>N===" "||N==="	";class S{constructor(I,E,O,R){this.languageConfigurationService=R,this._cursorMoveConfigurationBrand=void 0,this._languageId=I;const M=O.options,K=M.get(133);this.readOnly=M.get(83),this.tabSize=E.tabSize,this.indentSize=E.indentSize,this.insertSpaces=E.insertSpaces,this.stickyTabStops=M.get(106),this.lineHeight=M.get(61),this.pageSize=Math.max(1,Math.floor(K.height/this.lineHeight)-2),this.useTabStops=M.get(118),this.wordSeparators=M.get(119),this.emptySelectionClipboard=M.get(33),this.copyWithSyntaxHighlighting=M.get(21),this.multiCursorMergeOverlapping=M.get(71),this.multiCursorPaste=M.get(73),this.autoClosingBrackets=M.get(5),this.autoClosingQuotes=M.get(8),this.autoClosingDelete=M.get(6),this.autoClosingOvertype=M.get(7),this.autoSurround=M.get(11),this.autoIndent=M.get(9),this.surroundingPairs={},this._electricChars=null,this.shouldAutoCloseBefore={quote:this._getShouldAutoClose(I,this.autoClosingQuotes),bracket:this._getShouldAutoClose(I,this.autoClosingBrackets)},this.autoClosingPairs=this.languageConfigurationService.getLanguageConfiguration(I).getAutoClosingPairs();const Z=this.languageConfigurationService.getLanguageConfiguration(I).getSurroundingPairs();if(Z)for(const te of Z)this.surroundingPairs[te.open]=te.close}static shouldRecreate(I){return I.hasChanged(133)||I.hasChanged(119)||I.hasChanged(33)||I.hasChanged(71)||I.hasChanged(73)||I.hasChanged(5)||I.hasChanged(8)||I.hasChanged(6)||I.hasChanged(7)||I.hasChanged(11)||I.hasChanged(118)||I.hasChanged(61)||I.hasChanged(83)}get electricChars(){var I;if(!this._electricChars){this._electricChars={};const E=(I=this.languageConfigurationService.getLanguageConfiguration(this._languageId).electricCharacter)===null||I===void 0?void 0:I.getElectricCharacters();if(E)for(const O of E)this._electricChars[O]=!0}return this._electricChars}onElectricCharacter(I,E,O){const R=(0,W.wH)(E,O-1),M=this.languageConfigurationService.getLanguageConfiguration(R.languageId).electricCharacter;return M?M.onElectricCharacter(I,R,O-R.firstCharOffset):null}normalizeIndentation(I){return(0,z.x)(I,this.indentSize,this.insertSpaces)}_getShouldAutoClose(I,E){switch(E){case"beforeWhitespace":return T;case"languageDefined":return this._getLanguageDefinedShouldAutoClose(I);case"always":return P;case"never":return A}}_getLanguageDefinedShouldAutoClose(I){const E=this.languageConfigurationService.getLanguageConfiguration(I).getAutoCloseBeforeSet();return O=>E.indexOf(O)!==-1}visibleColumnFromColumn(I,E){return L.i.visibleColumnFromColumn(I.getLineContent(E.lineNumber),E.column,this.tabSize)}columnFromVisibleColumn(I,E,O){const R=L.i.columnFromVisibleColumn(I.getLineContent(E),O,this.tabSize),M=I.getLineMinColumn(E);if(R<M)return M;const K=I.getLineMaxColumn(E);return R>K?K:R}}class _{constructor(I,E){this._cursorStateBrand=void 0,this.modelState=I,this.viewState=E}static fromModelState(I){return new y(I)}static fromViewState(I){return new u(I)}static fromModelSelection(I){const E=j.Y.liftSelection(I),O=new a(d.e.fromPositions(E.getSelectionStart()),0,E.getPosition(),0);return _.fromModelState(O)}static fromModelSelections(I){const E=[];for(let O=0,R=I.length;O<R;O++)E[O]=this.fromModelSelection(I[O]);return E}equals(I){return this.viewState.equals(I.viewState)&&this.modelState.equals(I.modelState)}}class y{constructor(I){this.modelState=I,this.viewState=null}}class u{constructor(I){this.modelState=null,this.viewState=I}}class a{constructor(I,E,O,R){this._singleCursorStateBrand=void 0,this.selectionStart=I,this.selectionStartLeftoverVisibleColumns=E,this.position=O,this.leftoverVisibleColumns=R,this.selection=a._computeSelection(this.selectionStart,this.position)}equals(I){return this.selectionStartLeftoverVisibleColumns===I.selectionStartLeftoverVisibleColumns&&this.leftoverVisibleColumns===I.leftoverVisibleColumns&&this.position.equals(I.position)&&this.selectionStart.equalsRange(I.selectionStart)}hasSelection(){return!this.selection.isEmpty()||!this.selectionStart.isEmpty()}move(I,E,O,R){return I?new a(this.selectionStart,this.selectionStartLeftoverVisibleColumns,new C.L(E,O),R):new a(new d.e(E,O,E,O),R,new C.L(E,O),R)}static _computeSelection(I,E){return I.isEmpty()||!E.isBeforeOrEqual(I.getStartPosition())?j.Y.fromPositions(I.getStartPosition(),E):j.Y.fromPositions(I.getEndPosition(),E)}}class b{constructor(I,E,O){this._editOperationResultBrand=void 0,this.type=I,this.commands=E,this.shouldPushStackElementBefore=O.shouldPushStackElementBefore,this.shouldPushStackElementAfter=O.shouldPushStackElementAfter}}function D(N){return N==="'"||N==='"'||N==="`"}},79078:function(nt,xe,l){"use strict";l.d(xe,{p:function(){return C}});class C{constructor(j,W,L,z,P,A){this.id=j,this.label=W,this.alias=L,this._precondition=z,this._run=P,this._contextKeyService=A}isSupported(){return this._contextKeyService.contextMatchesRules(this._precondition)}run(){return this.isSupported()?this._run():Promise.resolve(void 0)}}},33182:function(nt,xe,l){"use strict";l.d(xe,{g:function(){return C}});const C={ICodeEditor:"vs.editor.ICodeEditor",IDiffEditor:"vs.editor.IDiffEditor"}},57881:function(nt,xe,l){"use strict";l.d(xe,{u:function(){return j}});var C=l(83218),d=l(37483),j;(function(W){W.editorSimpleInput=new d.uy("editorSimpleInput",!1,!0),W.editorTextFocus=new d.uy("editorTextFocus",!1,C.NC("editorTextFocus","Whether the editor text has focus (cursor is blinking)")),W.focus=new d.uy("editorFocus",!1,C.NC("editorFocus","Whether the editor or an editor widget has focus (e.g. focus is in the find widget)")),W.textInputFocus=new d.uy("textInputFocus",!1,C.NC("textInputFocus","Whether an editor or a rich text input has focus (cursor is blinking)")),W.readOnly=new d.uy("editorReadonly",!1,C.NC("editorReadonly","Whether the editor is read only")),W.inDiffEditor=new d.uy("inDiffEditor",!1,C.NC("inDiffEditor","Whether the context is a diff editor")),W.columnSelection=new d.uy("editorColumnSelection",!1,C.NC("editorColumnSelection","Whether `editor.columnSelection` is enabled")),W.writable=W.readOnly.toNegated(),W.hasNonEmptySelection=new d.uy("editorHasSelection",!1,C.NC("editorHasSelection","Whether the editor has text selected")),W.hasOnlyEmptySelection=W.hasNonEmptySelection.toNegated(),W.hasMultipleSelections=new d.uy("editorHasMultipleSelections",!1,C.NC("editorHasMultipleSelections","Whether the editor has multiple selections")),W.hasSingleSelection=W.hasMultipleSelections.toNegated(),W.tabMovesFocus=new d.uy("editorTabMovesFocus",!1,C.NC("editorTabMovesFocus","Whether `Tab` will move focus out of the editor")),W.tabDoesNotMoveFocus=W.tabMovesFocus.toNegated(),W.isInWalkThroughSnippet=new d.uy("isInEmbeddedEditor",!1,!0),W.canUndo=new d.uy("canUndo",!1,!0),W.canRedo=new d.uy("canRedo",!1,!0),W.hoverVisible=new d.uy("editorHoverVisible",!1,C.NC("editorHoverVisible","Whether the editor hover is visible")),W.inCompositeEditor=new d.uy("inCompositeEditor",void 0,C.NC("inCompositeEditor","Whether the editor is part of a larger editor (e.g. notebooks)")),W.notInCompositeEditor=W.inCompositeEditor.toNegated(),W.languageId=new d.uy("editorLangId","",C.NC("editorLangId","The language identifier of the editor")),W.hasCompletionItemProvider=new d.uy("editorHasCompletionItemProvider",!1,C.NC("editorHasCompletionItemProvider","Whether the editor has a completion item provider")),W.hasCodeActionsProvider=new d.uy("editorHasCodeActionsProvider",!1,C.NC("editorHasCodeActionsProvider","Whether the editor has a code actions provider")),W.hasCodeLensProvider=new d.uy("editorHasCodeLensProvider",!1,C.NC("editorHasCodeLensProvider","Whether the editor has a code lens provider")),W.hasDefinitionProvider=new d.uy("editorHasDefinitionProvider",!1,C.NC("editorHasDefinitionProvider","Whether the editor has a definition provider")),W.hasDeclarationProvider=new d.uy("editorHasDeclarationProvider",!1,C.NC("editorHasDeclarationProvider","Whether the editor has a declaration provider")),W.hasImplementationProvider=new d.uy("editorHasImplementationProvider",!1,C.NC("editorHasImplementationProvider","Whether the editor has an implementation provider")),W.hasTypeDefinitionProvider=new d.uy("editorHasTypeDefinitionProvider",!1,C.NC("editorHasTypeDefinitionProvider","Whether the editor has a type definition provider")),W.hasHoverProvider=new d.uy("editorHasHoverProvider",!1,C.NC("editorHasHoverProvider","Whether the editor has a hover provider")),W.hasDocumentHighlightProvider=new d.uy("editorHasDocumentHighlightProvider",!1,C.NC("editorHasDocumentHighlightProvider","Whether the editor has a document highlight provider")),W.hasDocumentSymbolProvider=new d.uy("editorHasDocumentSymbolProvider",!1,C.NC("editorHasDocumentSymbolProvider","Whether the editor has a document symbol provider")),W.hasReferenceProvider=new d.uy("editorHasReferenceProvider",!1,C.NC("editorHasReferenceProvider","Whether the editor has a reference provider")),W.hasRenameProvider=new d.uy("editorHasRenameProvider",!1,C.NC("editorHasRenameProvider","Whether the editor has a rename provider")),W.hasSignatureHelpProvider=new d.uy("editorHasSignatureHelpProvider",!1,C.NC("editorHasSignatureHelpProvider","Whether the editor has a signature help provider")),W.hasInlayHintsProvider=new d.uy("editorHasInlayHintsProvider",!1,C.NC("editorHasInlayHintsProvider","Whether the editor has an inline hints provider")),W.hasDocumentFormattingProvider=new d.uy("editorHasDocumentFormattingProvider",!1,C.NC("editorHasDocumentFormattingProvider","Whether the editor has a document formatting provider")),W.hasDocumentSelectionFormattingProvider=new d.uy("editorHasDocumentSelectionFormattingProvider",!1,C.NC("editorHasDocumentSelectionFormattingProvider","Whether the editor has a document selection formatting provider")),W.hasMultipleDocumentFormattingProvider=new d.uy("editorHasMultipleDocumentFormattingProvider",!1,C.NC("editorHasMultipleDocumentFormattingProvider","Whether the editor has multiple document formatting providers")),W.hasMultipleDocumentSelectionFormattingProvider=new d.uy("editorHasMultipleDocumentSelectionFormattingProvider",!1,C.NC("editorHasMultipleDocumentSelectionFormattingProvider","Whether the editor has multiple document selection formatting providers"))})(j||(j={}))},15880:function(nt,xe,l){"use strict";l.d(xe,{N:function(){return C}});class C{static getLanguageId(j){return(j&255)>>>0}static getTokenType(j){return(j&768)>>>8}static containsBalancedBrackets(j){return(j&1024)!==0}static getFontStyle(j){return(j&30720)>>>11}static getForeground(j){return(j&16744448)>>>15}static getBackground(j){return(j&4278190080)>>>24}static getClassNameFromMetadata(j){let L="mtk"+this.getForeground(j);const z=this.getFontStyle(j);return z&1&&(L+=" mtki"),z&2&&(L+=" mtkb"),z&4&&(L+=" mtku"),z&8&&(L+=" mtks"),L}static getInlineStyleFromMetadata(j,W){const L=this.getForeground(j),z=this.getFontStyle(j);let P=`color: ${W[L]};`;z&1&&(P+="font-style: italic;"),z&2&&(P+="font-weight: bold;");let A="";return z&4&&(A+=" underline"),z&8&&(A+=" line-through"),A&&(P+=`text-decoration:${A};`),P}static getPresentationFromMetadata(j){const W=this.getForeground(j),L=this.getFontStyle(j);return{foreground:W,italic:Boolean(L&1),bold:Boolean(L&2),underline:Boolean(L&4),strikethrough:Boolean(L&8)}}}},51080:function(nt,xe,l){"use strict";l.d(xe,{mY:function(){return E},gX:function(){return y},MY:function(){return b},DI:function(){return _},AD:function(){return I},gl:function(){return O},bw:function(){return u},WW:function(){return a},uZ:function(){return N},WU:function(){return T},RW:function(){return R},hG:function(){return S},vx:function(){return D}});var C=l(64272),d=l(92770),j=l(14481),W=l(60218),L=l(94214),z=function(M,K,Z,te){function de(ge){return ge instanceof Z?ge:new Z(function(le){le(ge)})}return new(Z||(Z=Promise))(function(ge,le){function se(ne){try{re(te.next(ne))}catch(U){le(U)}}function X(ne){try{re(te.throw(ne))}catch(U){le(U)}}function re(ne){ne.done?ge(ne.value):de(ne.value).then(se,X)}re((te=te.apply(M,K||[])).next())})};class P{constructor(){this._map=new Map,this._factories=new Map,this._onDidChange=new W.Q5,this.onDidChange=this._onDidChange.event,this._colorMap=null}fire(K){this._onDidChange.fire({changedLanguages:K,changedColorMap:!1})}register(K,Z){return this._map.set(K,Z),this.fire([K]),(0,L.OF)(()=>{this._map.get(K)===Z&&(this._map.delete(K),this.fire([K]))})}registerFactory(K,Z){var te;(te=this._factories.get(K))===null||te===void 0||te.dispose();const de=new A(this,K,Z);return this._factories.set(K,de),(0,L.OF)(()=>{const ge=this._factories.get(K);!ge||ge!==de||(this._factories.delete(K),ge.dispose())})}getOrCreate(K){return z(this,void 0,void 0,function*(){const Z=this.get(K);if(Z)return Z;const te=this._factories.get(K);return!te||te.isResolved?null:(yield te.resolve(),this.get(K))})}get(K){return this._map.get(K)||null}isResolved(K){if(this.get(K))return!0;const te=this._factories.get(K);return!!(!te||te.isResolved)}setColorMap(K){this._colorMap=K,this._onDidChange.fire({changedLanguages:Array.from(this._map.keys()),changedColorMap:!0})}getColorMap(){return this._colorMap}getDefaultBackground(){return this._colorMap&&this._colorMap.length>2?this._colorMap[2]:null}}class A extends L.JT{constructor(K,Z,te){super(),this._registry=K,this._languageId=Z,this._factory=te,this._isDisposed=!1,this._resolvePromise=null,this._isResolved=!1}get isResolved(){return this._isResolved}dispose(){this._isDisposed=!0,super.dispose()}resolve(){return z(this,void 0,void 0,function*(){return this._resolvePromise||(this._resolvePromise=this._create()),this._resolvePromise})}_create(){return z(this,void 0,void 0,function*(){const K=yield Promise.resolve(this._factory.createTokenizationSupport());this._isResolved=!0,K&&!this._isDisposed&&this._register(this._registry.register(this._languageId,K))})}}class T{constructor(K,Z,te){this._tokenBrand=void 0,this.offset=K,this.type=Z,this.language=te}toString(){return"("+this.offset+", "+this.type+")"}}class S{constructor(K,Z){this._tokenizationResultBrand=void 0,this.tokens=K,this.endState=Z}}class _{constructor(K,Z){this._encodedTokenizationResultBrand=void 0,this.tokens=K,this.endState=Z}}var y;(function(M){const K=new Map;K.set(0,C.lA.symbolMethod),K.set(1,C.lA.symbolFunction),K.set(2,C.lA.symbolConstructor),K.set(3,C.lA.symbolField),K.set(4,C.lA.symbolVariable),K.set(5,C.lA.symbolClass),K.set(6,C.lA.symbolStruct),K.set(7,C.lA.symbolInterface),K.set(8,C.lA.symbolModule),K.set(9,C.lA.symbolProperty),K.set(10,C.lA.symbolEvent),K.set(11,C.lA.symbolOperator),K.set(12,C.lA.symbolUnit),K.set(13,C.lA.symbolValue),K.set(15,C.lA.symbolEnum),K.set(14,C.lA.symbolConstant),K.set(15,C.lA.symbolEnum),K.set(16,C.lA.symbolEnumMember),K.set(17,C.lA.symbolKeyword),K.set(27,C.lA.symbolSnippet),K.set(18,C.lA.symbolText),K.set(19,C.lA.symbolColor),K.set(20,C.lA.symbolFile),K.set(21,C.lA.symbolReference),K.set(22,C.lA.symbolCustomColor),K.set(23,C.lA.symbolFolder),K.set(24,C.lA.symbolTypeParameter),K.set(25,C.lA.account),K.set(26,C.lA.issues);function Z(ge){let le=K.get(ge);return le||(console.info("No codicon found for CompletionItemKind "+ge),le=C.lA.symbolProperty),le}M.toIcon=Z;const te=new Map;te.set("method",0),te.set("function",1),te.set("constructor",2),te.set("field",3),te.set("variable",4),te.set("class",5),te.set("struct",6),te.set("interface",7),te.set("module",8),te.set("property",9),te.set("event",10),te.set("operator",11),te.set("unit",12),te.set("value",13),te.set("constant",14),te.set("enum",15),te.set("enum-member",16),te.set("enumMember",16),te.set("keyword",17),te.set("snippet",27),te.set("text",18),te.set("color",19),te.set("file",20),te.set("reference",21),te.set("customcolor",22),te.set("folder",23),te.set("type-parameter",24),te.set("typeParameter",24),te.set("account",25),te.set("issue",26);function de(ge,le){let se=te.get(ge);return typeof se=="undefined"&&!le&&(se=9),se}M.fromString=de})(y||(y={}));var u;(function(M){M[M.Automatic=0]="Automatic",M[M.Explicit=1]="Explicit"})(u||(u={}));var a;(function(M){M[M.Invoke=1]="Invoke",M[M.TriggerCharacter=2]="TriggerCharacter",M[M.ContentChange=3]="ContentChange"})(a||(a={}));var b;(function(M){M[M.Text=0]="Text",M[M.Read=1]="Read",M[M.Write=2]="Write"})(b||(b={}));function D(M){return M&&d.o.isUri(M.uri)&&j.e.isIRange(M.range)&&(j.e.isIRange(M.originSelectionRange)||j.e.isIRange(M.targetSelectionRange))}var N;(function(M){const K=new Map;K.set(0,C.lA.symbolFile),K.set(1,C.lA.symbolModule),K.set(2,C.lA.symbolNamespace),K.set(3,C.lA.symbolPackage),K.set(4,C.lA.symbolClass),K.set(5,C.lA.symbolMethod),K.set(6,C.lA.symbolProperty),K.set(7,C.lA.symbolField),K.set(8,C.lA.symbolConstructor),K.set(9,C.lA.symbolEnum),K.set(10,C.lA.symbolInterface),K.set(11,C.lA.symbolFunction),K.set(12,C.lA.symbolVariable),K.set(13,C.lA.symbolConstant),K.set(14,C.lA.symbolString),K.set(15,C.lA.symbolNumber),K.set(16,C.lA.symbolBoolean),K.set(17,C.lA.symbolArray),K.set(18,C.lA.symbolObject),K.set(19,C.lA.symbolKey),K.set(20,C.lA.symbolNull),K.set(21,C.lA.symbolEnumMember),K.set(22,C.lA.symbolStruct),K.set(23,C.lA.symbolEvent),K.set(24,C.lA.symbolOperator),K.set(25,C.lA.symbolTypeParameter);function Z(te){let de=K.get(te);return de||(console.info("No codicon found for SymbolKind "+te),de=C.lA.symbolProperty),de}M.toIcon=Z})(N||(N={}));class I{constructor(K){this.value=K}}I.Comment=new I("comment"),I.Imports=new I("imports"),I.Region=new I("region");var E;(function(M){function K(Z){return!Z||typeof Z!="object"?!1:typeof Z.id=="string"&&typeof Z.title=="string"}M.is=K})(E||(E={}));var O;(function(M){M[M.Type=1]="Type",M[M.Parameter=2]="Parameter"})(O||(O={}));const R=new P},6547:function(nt,xe,l){"use strict";l.d(xe,{$9:function(){return T},UF:function(){return A},n8:function(){return P},r7:function(){return z},tI:function(){return S}});var C=l(22297),d=l(56563),j=l(26743),W=l(13634);function L(_,y,u){const a=_.tokenization.getLanguageIdAtPosition(y,0);if(y>1){let b,D=-1;for(b=y-1;b>=1;b--){if(_.tokenization.getLanguageIdAtPosition(b,0)!==a)return D;const N=_.getLineContent(b);if(u.shouldIgnore(N)||/^\s+$/.test(N)||N===""){D=b;continue}return b}}return-1}function z(_,y,u,a=!0,b){if(_<4)return null;const D=b.getLanguageConfiguration(y.tokenization.getLanguageId()).indentRulesSupport;if(!D)return null;if(u<=1)return{indentation:"",action:null};const N=L(y,u,D);if(N<0)return null;if(N<1)return{indentation:"",action:null};const I=y.getLineContent(N);if(D.shouldIncrease(I)||D.shouldIndentNextLine(I))return{indentation:C.V8(I),action:d.wU.Indent,line:N};if(D.shouldDecrease(I))return{indentation:C.V8(I),action:null,line:N};{if(N===1)return{indentation:C.V8(y.getLineContent(N)),action:null,line:N};const E=N-1,O=D.getIndentMetadata(y.getLineContent(E));if(!(O&3)&&O&4){let R=0;for(let M=E-1;M>0;M--)if(!D.shouldIndentNextLine(y.getLineContent(M))){R=M;break}return{indentation:C.V8(y.getLineContent(R+1)),action:null,line:R+1}}if(a)return{indentation:C.V8(y.getLineContent(N)),action:null,line:N};for(let R=N;R>0;R--){const M=y.getLineContent(R);if(D.shouldIncrease(M))return{indentation:C.V8(M),action:d.wU.Indent,line:R};if(D.shouldIndentNextLine(M)){let K=0;for(let Z=R-1;Z>0;Z--)if(!D.shouldIndentNextLine(y.getLineContent(R))){K=Z;break}return{indentation:C.V8(y.getLineContent(K+1)),action:null,line:K+1}}else if(D.shouldDecrease(M))return{indentation:C.V8(M),action:null,line:R}}return{indentation:C.V8(y.getLineContent(1)),action:null,line:1}}}function P(_,y,u,a,b,D){if(_<4)return null;const N=D.getLanguageConfiguration(u);if(!N)return null;const I=D.getLanguageConfiguration(u).indentRulesSupport;if(!I)return null;const E=z(_,y,a,void 0,D),O=y.getLineContent(a);if(E){const R=E.line;if(R!==void 0){const M=N.onEnter(_,"",y.getLineContent(R),"");if(M){let K=C.V8(y.getLineContent(R));return M.removeText&&(K=K.substring(0,K.length-M.removeText)),M.indentAction===d.wU.Indent||M.indentAction===d.wU.IndentOutdent?K=b.shiftIndent(K):M.indentAction===d.wU.Outdent&&(K=b.unshiftIndent(K)),I.shouldDecrease(O)&&(K=b.unshiftIndent(K)),M.appendText&&(K+=M.appendText),C.V8(K)}}return I.shouldDecrease(O)?E.action===d.wU.Indent?E.indentation:b.unshiftIndent(E.indentation):E.action===d.wU.Indent?b.shiftIndent(E.indentation):E.indentation}return null}function A(_,y,u,a,b){if(_<4)return null;y.tokenization.forceTokenization(u.startLineNumber);const D=y.tokenization.getLineTokens(u.startLineNumber),N=(0,j.wH)(D,u.startColumn-1),I=N.getLineContent();let E=!1,O;N.firstCharOffset>0&&D.getLanguageId(0)!==N.languageId?(E=!0,O=I.substr(0,u.startColumn-1-N.firstCharOffset)):O=D.getLineContent().substring(0,u.startColumn-1);let R;u.isEmpty()?R=I.substr(u.startColumn-1-N.firstCharOffset):R=(0,W.n2)(y,u.endLineNumber,u.endColumn).getLineContent().substr(u.endColumn-1-N.firstCharOffset);const M=b.getLanguageConfiguration(N.languageId).indentRulesSupport;if(!M)return null;const K=O,Z=C.V8(O),te={tokenization:{getLineTokens:se=>y.tokenization.getLineTokens(se),getLanguageId:()=>y.getLanguageId(),getLanguageIdAtPosition:(se,X)=>y.getLanguageIdAtPosition(se,X)},getLineContent:se=>se===u.startLineNumber?K:y.getLineContent(se)},de=C.V8(D.getLineContent()),ge=z(_,te,u.startLineNumber+1,void 0,b);if(!ge){const se=E?de:Z;return{beforeEnter:se,afterEnter:se}}let le=E?de:ge.indentation;return ge.action===d.wU.Indent&&(le=a.shiftIndent(le)),M.shouldDecrease(R)&&(le=a.unshiftIndent(le)),{beforeEnter:E?de:Z,afterEnter:le}}function T(_,y,u,a,b,D){if(_<4)return null;const N=(0,W.n2)(y,u.startLineNumber,u.startColumn);if(N.firstCharOffset)return null;const I=D.getLanguageConfiguration(N.languageId).indentRulesSupport;if(!I)return null;const E=N.getLineContent(),O=E.substr(0,u.startColumn-1-N.firstCharOffset);let R;if(u.isEmpty()?R=E.substr(u.startColumn-1-N.firstCharOffset):R=(0,W.n2)(y,u.endLineNumber,u.endColumn).getLineContent().substr(u.endColumn-1-N.firstCharOffset),!I.shouldDecrease(O+R)&&I.shouldDecrease(O+a+R)){const M=z(_,y,u.startLineNumber,!1,D);if(!M)return null;let K=M.indentation;return M.action!==d.wU.Indent&&(K=b.unshiftIndent(K)),K}return null}function S(_,y,u){const a=u.getLanguageConfiguration(_.getLanguageId()).indentRulesSupport;return!a||y<1||y>_.getLineCount()?null:a.getIndentMetadata(_.getLineContent(y))}},18467:function(nt,xe,l){"use strict";l.d(xe,{A:function(){return j}});var C=l(56563),d=l(13634);function j(W,L,z,P){const A=(0,d.n2)(L,z.startLineNumber,z.startColumn),T=P.getLanguageConfiguration(A.languageId);if(!T)return null;const S=A.getLineContent(),_=S.substr(0,z.startColumn-1-A.firstCharOffset);let y;z.isEmpty()?y=S.substr(z.startColumn-1-A.firstCharOffset):y=(0,d.n2)(L,z.endLineNumber,z.endColumn).getLineContent().substr(z.endColumn-1-A.firstCharOffset);let u="";if(z.startLineNumber>1&&A.firstCharOffset===0){const E=(0,d.n2)(L,z.startLineNumber-1);E.languageId===A.languageId&&(u=E.getLineContent())}const a=T.onEnter(W,u,_,y);if(!a)return null;const b=a.indentAction;let D=a.appendText;const N=a.removeText||0;D?b===C.wU.Indent&&(D="	"+D):b===C.wU.Indent||b===C.wU.IndentOutdent?D="	":D="";let I=(0,d.u0)(L,z.startLineNumber,z.startColumn);return N&&(I=I.substring(0,I.length-N)),{indentAction:b,appendText:D,removeText:N,indentation:I}}},49038:function(nt,xe,l){"use strict";l.d(xe,{O:function(){return d}});var C=l(47397);const d=(0,C.yh)("languageService")},56563:function(nt,xe,l){"use strict";l.d(xe,{V6:function(){return d},c$:function(){return j},wU:function(){return C}});var C;(function(L){L[L.None=0]="None",L[L.Indent=1]="Indent",L[L.IndentOutdent=2]="IndentOutdent",L[L.Outdent=3]="Outdent"})(C||(C={}));class d{constructor(z){if(this._neutralCharacter=null,this._neutralCharacterSearched=!1,this.open=z.open,this.close=z.close,this._inString=!0,this._inComment=!0,this._inRegEx=!0,Array.isArray(z.notIn))for(let P=0,A=z.notIn.length;P<A;P++)switch(z.notIn[P]){case"string":this._inString=!1;break;case"comment":this._inComment=!1;break;case"regex":this._inRegEx=!1;break}}isOK(z){switch(z){case 0:return!0;case 1:return this._inComment;case 2:return this._inString;case 3:return this._inRegEx}}shouldAutoClose(z,P){if(z.getTokenCount()===0)return!0;const A=z.findTokenIndexAtOffset(P-2),T=z.getStandardTokenType(A);return this.isOK(T)}_findNeutralCharacterInRange(z,P){for(let A=z;A<=P;A++){const T=String.fromCharCode(A);if(!this.open.includes(T)&&!this.close.includes(T))return T}return null}findNeutralCharacter(){return this._neutralCharacterSearched||(this._neutralCharacterSearched=!0,this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(48,57)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(97,122)),this._neutralCharacter||(this._neutralCharacter=this._findNeutralCharacterInRange(65,90))),this._neutralCharacter}}class j{constructor(z){this.autoClosingPairsOpenByStart=new Map,this.autoClosingPairsOpenByEnd=new Map,this.autoClosingPairsCloseByStart=new Map,this.autoClosingPairsCloseByEnd=new Map,this.autoClosingPairsCloseSingleChar=new Map;for(const P of z)W(this.autoClosingPairsOpenByStart,P.open.charAt(0),P),W(this.autoClosingPairsOpenByEnd,P.open.charAt(P.open.length-1),P),W(this.autoClosingPairsCloseByStart,P.close.charAt(0),P),W(this.autoClosingPairsCloseByEnd,P.close.charAt(P.close.length-1),P),P.close.length===1&&P.open.length===1&&W(this.autoClosingPairsCloseSingleChar,P.close,P)}}function W(L,z,P){L.has(z)?L.get(z).push(P):L.set(z,[P])}},13634:function(nt,xe,l){"use strict";l.d(xe,{c_:function(){return se},u0:function(){return q},n2:function(){return ae}});var C=l(60218),d=l(94214),j=l(22297),W=l(27619),L=l(56563),z=l(26743);class P{constructor(Le){if(Le.autoClosingPairs?this._autoClosingPairs=Le.autoClosingPairs.map(Ze=>new L.V6(Ze)):Le.brackets?this._autoClosingPairs=Le.brackets.map(Ze=>new L.V6({open:Ze[0],close:Ze[1]})):this._autoClosingPairs=[],Le.__electricCharacterSupport&&Le.__electricCharacterSupport.docComment){const Ze=Le.__electricCharacterSupport.docComment;this._autoClosingPairs.push(new L.V6({open:Ze.open,close:Ze.close||""}))}this._autoCloseBefore=typeof Le.autoCloseBefore=="string"?Le.autoCloseBefore:P.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED,this._surroundingPairs=Le.surroundingPairs||this._autoClosingPairs}getAutoClosingPairs(){return this._autoClosingPairs}getAutoCloseBeforeSet(){return this._autoCloseBefore}getSurroundingPairs(){return this._surroundingPairs}}P.DEFAULT_AUTOCLOSE_BEFORE_LANGUAGE_DEFINED=`;:.,=}])> 
	`;var A=l(84553),T=l(77372);class S{constructor(Le){this._richEditBrackets=Le}getElectricCharacters(){const Le=[];if(this._richEditBrackets)for(const Ze of this._richEditBrackets.brackets)for(const Ge of Ze.close){const Fe=Ge.charAt(Ge.length-1);Le.push(Fe)}return(0,A.EB)(Le)}onElectricCharacter(Le,Ze,Ge){if(!this._richEditBrackets||this._richEditBrackets.brackets.length===0)return null;const Fe=Ze.findTokenIndexAtOffset(Ge-1);if((0,z.Bu)(Ze.getStandardTokenType(Fe)))return null;const ct=this._richEditBrackets.reversedRegex,ft=Ze.getLineContent().substring(0,Ge-1)+Le,Ot=T.Vr.findPrevBracketInRange(ct,1,ft,0,ft.length);if(!Ot)return null;const Et=ft.substring(Ot.startColumn-1,Ot.endColumn-1).toLowerCase();if(this._richEditBrackets.textIsOpenBracket[Et])return null;const We=Ze.getActualLineContentBefore(Ot.startColumn-1);return/^\s*$/.test(We)?{matchOpenBracket:Et}:null}}function _(ze){return ze.global&&(ze.lastIndex=0),!0}class y{constructor(Le){this._indentationRules=Le}shouldIncrease(Le){return!!(this._indentationRules&&this._indentationRules.increaseIndentPattern&&_(this._indentationRules.increaseIndentPattern)&&this._indentationRules.increaseIndentPattern.test(Le))}shouldDecrease(Le){return!!(this._indentationRules&&this._indentationRules.decreaseIndentPattern&&_(this._indentationRules.decreaseIndentPattern)&&this._indentationRules.decreaseIndentPattern.test(Le))}shouldIndentNextLine(Le){return!!(this._indentationRules&&this._indentationRules.indentNextLinePattern&&_(this._indentationRules.indentNextLinePattern)&&this._indentationRules.indentNextLinePattern.test(Le))}shouldIgnore(Le){return!!(this._indentationRules&&this._indentationRules.unIndentedLinePattern&&_(this._indentationRules.unIndentedLinePattern)&&this._indentationRules.unIndentedLinePattern.test(Le))}getIndentMetadata(Le){let Ze=0;return this.shouldIncrease(Le)&&(Ze+=1),this.shouldDecrease(Le)&&(Ze+=2),this.shouldIndentNextLine(Le)&&(Ze+=4),this.shouldIgnore(Le)&&(Ze+=8),Ze}}var u=l(708);class a{constructor(Le){Le=Le||{},Le.brackets=Le.brackets||[["(",")"],["{","}"],["[","]"]],this._brackets=[],Le.brackets.forEach(Ze=>{const Ge=a._createOpenBracketRegExp(Ze[0]),Fe=a._createCloseBracketRegExp(Ze[1]);Ge&&Fe&&this._brackets.push({open:Ze[0],openRegExp:Ge,close:Ze[1],closeRegExp:Fe})}),this._regExpRules=Le.onEnterRules||[]}onEnter(Le,Ze,Ge,Fe){if(Le>=3)for(let ct=0,ft=this._regExpRules.length;ct<ft;ct++){const Ot=this._regExpRules[ct];if([{reg:Ot.beforeText,text:Ge},{reg:Ot.afterText,text:Fe},{reg:Ot.previousLineText,text:Ze}].every(Vt=>Vt.reg?(Vt.reg.lastIndex=0,Vt.reg.test(Vt.text)):!0))return Ot.action}if(Le>=2&&Ge.length>0&&Fe.length>0)for(let ct=0,ft=this._brackets.length;ct<ft;ct++){const Ot=this._brackets[ct];if(Ot.openRegExp.test(Ge)&&Ot.closeRegExp.test(Fe))return{indentAction:L.wU.IndentOutdent}}if(Le>=2&&Ge.length>0){for(let ct=0,ft=this._brackets.length;ct<ft;ct++)if(this._brackets[ct].openRegExp.test(Ge))return{indentAction:L.wU.Indent}}return null}static _createOpenBracketRegExp(Le){let Ze=j.ec(Le);return/\B/.test(Ze.charAt(0))||(Ze="\\b"+Ze),Ze+="\\s*$",a._safeRegExp(Ze)}static _createCloseBracketRegExp(Le){let Ze=j.ec(Le);return/\B/.test(Ze.charAt(Ze.length-1))||(Ze=Ze+"\\b"),Ze="^\\s*"+Ze,a._safeRegExp(Ze)}static _safeRegExp(Le){try{return new RegExp(Le)}catch(Ze){return(0,u.dL)(Ze),null}}}var b=l(47397),D=l(57024),N=l(49038),I=l(88588),E=l(68347),O=l(71030);class R{constructor(Le,Ze){this.languageId=Le;let Ge;Ze.colorizedBracketPairs?Ge=M(Ze.colorizedBracketPairs.map(ft=>[ft[0],ft[1]])):Ze.brackets?Ge=M(Ze.brackets.map(ft=>[ft[0],ft[1]]).filter(ft=>!(ft[0]==="<"&&ft[1]===">"))):Ge=[];const Fe=new O.b(ft=>{const Ot=new Set;return{info:new Z(this,ft,Ot),closing:Ot}}),ct=new O.b(ft=>{const Ot=new Set;return{info:new te(this,ft,Ot),opening:Ot}});for(const[ft,Ot]of Ge){const Et=Fe.get(ft),Vt=ct.get(Ot);Et.closing.add(Vt.info),Vt.opening.add(Et.info)}this._openingBrackets=new Map([...Fe.cachedValues].map(([ft,Ot])=>[ft,Ot.info])),this._closingBrackets=new Map([...ct.cachedValues].map(([ft,Ot])=>[ft,Ot.info]))}get openingBrackets(){return[...this._openingBrackets.values()]}get closingBrackets(){return[...this._closingBrackets.values()]}getOpeningBracketInfo(Le){return this._openingBrackets.get(Le)}getClosingBracketInfo(Le){return this._closingBrackets.get(Le)}getBracketInfo(Le){return this.getOpeningBracketInfo(Le)||this.getClosingBracketInfo(Le)}}function M(ze){return ze.filter(([Le,Ze])=>Le!==""&&Ze!=="")}class K{constructor(Le,Ze){this.config=Le,this.bracketText=Ze}get languageId(){return this.config.languageId}}class Z extends K{constructor(Le,Ze,Ge){super(Le,Ze),this.openedBrackets=Ge,this.isOpeningBracket=!0}}class te extends K{constructor(Le,Ze,Ge){super(Le,Ze),this.closedBrackets=Ge,this.isOpeningBracket=!1}closes(Le){if(Le.languageId===this.languageId&&Le.config!==this.config)throw new u.he("Brackets from different language configuration cannot be used.");return this.closedBrackets.has(Le)}getClosedBrackets(){return[...this.closedBrackets]}}var de=function(ze,Le,Ze,Ge){var Fe=arguments.length,ct=Fe<3?Le:Ge===null?Ge=Object.getOwnPropertyDescriptor(Le,Ze):Ge,ft;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ct=Reflect.decorate(ze,Le,Ze,Ge);else for(var Ot=ze.length-1;Ot>=0;Ot--)(ft=ze[Ot])&&(ct=(Fe<3?ft(ct):Fe>3?ft(Le,Ze,ct):ft(Le,Ze))||ct);return Fe>3&&ct&&Object.defineProperty(Le,Ze,ct),ct},ge=function(ze,Le){return function(Ze,Ge){Le(Ze,Ge,ze)}};class le{constructor(Le){this.languageId=Le}affects(Le){return this.languageId?this.languageId===Le:!0}}const se=(0,b.yh)("languageConfigurationService");let X=class extends d.JT{constructor(Le,Ze){super(),this.configurationService=Le,this.languageService=Ze,this._registry=this._register(new Ke),this.onDidChangeEmitter=this._register(new C.Q5),this.onDidChange=this.onDidChangeEmitter.event,this.configurations=new Map;const Ge=new Set(Object.values(ne));this._register(this.configurationService.onDidChangeConfiguration(Fe=>{const ct=Fe.change.keys.some(Ot=>Ge.has(Ot)),ft=Fe.change.overrides.filter(([Ot,Et])=>Et.some(Vt=>Ge.has(Vt))).map(([Ot])=>Ot);if(ct)this.configurations.clear(),this.onDidChangeEmitter.fire(new le(void 0));else for(const Ot of ft)this.languageService.isRegisteredLanguageId(Ot)&&(this.configurations.delete(Ot),this.onDidChangeEmitter.fire(new le(Ot)))})),this._register(this._registry.onDidChange(Fe=>{this.configurations.delete(Fe.languageId),this.onDidChangeEmitter.fire(new le(Fe.languageId))}))}register(Le,Ze,Ge){return this._registry.register(Le,Ze,Ge)}getLanguageConfiguration(Le){let Ze=this.configurations.get(Le);return Ze||(Ze=re(Le,this._registry,this.configurationService,this.languageService),this.configurations.set(Le,Ze)),Ze}};X=de([ge(0,D.Ui),ge(1,N.O)],X);function re(ze,Le,Ze,Ge){let Fe=Le.getLanguageConfiguration(ze);if(!Fe){if(!Ge.isRegisteredLanguageId(ze))throw new Error(`Language id "${ze}" is not configured nor known`);Fe=new He(ze,{})}const ct=U(Fe.languageId,Ze),ft=ke([Fe.underlyingConfig,ct]);return new He(Fe.languageId,ft)}const ne={brackets:"editor.language.brackets",colorizedBracketPairs:"editor.language.colorizedBracketPairs"};function U(ze,Le){const Ze=Le.getValue(ne.brackets,{overrideIdentifier:ze}),Ge=Le.getValue(ne.colorizedBracketPairs,{overrideIdentifier:ze});return{brackets:oe(Ze),colorizedBracketPairs:oe(Ge)}}function oe(ze){if(!!Array.isArray(ze))return ze.map(Le=>{if(!(!Array.isArray(Le)||Le.length!==2))return[Le[0],Le[1]]}).filter(Le=>!!Le)}function q(ze,Le,Ze){const Ge=ze.getLineContent(Le);let Fe=j.V8(Ge);return Fe.length>Ze-1&&(Fe=Fe.substring(0,Ze-1)),Fe}function ae(ze,Le,Ze){ze.tokenization.forceTokenization(Le);const Ge=ze.tokenization.getLineTokens(Le),Fe=typeof Ze=="undefined"?ze.getLineMaxColumn(Le)-1:Ze-1;return(0,z.wH)(Ge,Fe)}class me{constructor(Le){this.languageId=Le,this._resolved=null,this._entries=[],this._order=0,this._resolved=null}register(Le,Ze){const Ge=new H(Le,Ze,++this._order);return this._entries.push(Ge),this._resolved=null,(0,d.OF)(()=>{for(let Fe=0;Fe<this._entries.length;Fe++)if(this._entries[Fe]===Ge){this._entries.splice(Fe,1),this._resolved=null;break}})}getResolvedConfiguration(){if(!this._resolved){const Le=this._resolve();Le&&(this._resolved=new He(this.languageId,Le))}return this._resolved}_resolve(){return this._entries.length===0?null:(this._entries.sort(H.cmp),ke(this._entries.map(Le=>Le.configuration)))}}function ke(ze){let Le={comments:void 0,brackets:void 0,wordPattern:void 0,indentationRules:void 0,onEnterRules:void 0,autoClosingPairs:void 0,surroundingPairs:void 0,autoCloseBefore:void 0,folding:void 0,colorizedBracketPairs:void 0,__electricCharacterSupport:void 0};for(const Ze of ze)Le={comments:Ze.comments||Le.comments,brackets:Ze.brackets||Le.brackets,wordPattern:Ze.wordPattern||Le.wordPattern,indentationRules:Ze.indentationRules||Le.indentationRules,onEnterRules:Ze.onEnterRules||Le.onEnterRules,autoClosingPairs:Ze.autoClosingPairs||Le.autoClosingPairs,surroundingPairs:Ze.surroundingPairs||Le.surroundingPairs,autoCloseBefore:Ze.autoCloseBefore||Le.autoCloseBefore,folding:Ze.folding||Le.folding,colorizedBracketPairs:Ze.colorizedBracketPairs||Le.colorizedBracketPairs,__electricCharacterSupport:Ze.__electricCharacterSupport||Le.__electricCharacterSupport};return Le}class H{constructor(Le,Ze,Ge){this.configuration=Le,this.priority=Ze,this.order=Ge}static cmp(Le,Ze){return Le.priority===Ze.priority?Le.order-Ze.order:Le.priority-Ze.priority}}class ut{constructor(Le){this.languageId=Le}}class Ke extends d.JT{constructor(){super(),this._entries=new Map,this._onDidChange=this._register(new C.Q5),this.onDidChange=this._onDidChange.event,this._register(this.register(E.bd,{brackets:[["(",")"],["[","]"],["{","}"]],surroundingPairs:[{open:"{",close:"}"},{open:"[",close:"]"},{open:"(",close:")"},{open:"<",close:">"},{open:'"',close:'"'},{open:"'",close:"'"},{open:"`",close:"`"}],colorizedBracketPairs:[],folding:{offSide:!0}},0))}register(Le,Ze,Ge=0){let Fe=this._entries.get(Le);Fe||(Fe=new me(Le),this._entries.set(Le,Fe));const ct=Fe.register(Ze,Ge);return this._onDidChange.fire(new ut(Le)),(0,d.OF)(()=>{ct.dispose(),this._onDidChange.fire(new ut(Le))})}getLanguageConfiguration(Le){const Ze=this._entries.get(Le);return(Ze==null?void 0:Ze.getResolvedConfiguration())||null}}class He{constructor(Le,Ze){this.languageId=Le,this.underlyingConfig=Ze,this._brackets=null,this._electricCharacter=null,this._onEnterSupport=this.underlyingConfig.brackets||this.underlyingConfig.indentationRules||this.underlyingConfig.onEnterRules?new a(this.underlyingConfig):null,this.comments=He._handleComments(this.underlyingConfig),this.characterPair=new P(this.underlyingConfig),this.wordDefinition=this.underlyingConfig.wordPattern||W.Af,this.indentationRules=this.underlyingConfig.indentationRules,this.underlyingConfig.indentationRules?this.indentRulesSupport=new y(this.underlyingConfig.indentationRules):this.indentRulesSupport=null,this.foldingRules=this.underlyingConfig.folding||{},this.bracketsNew=new R(Le,this.underlyingConfig)}getWordDefinition(){return(0,W.eq)(this.wordDefinition)}get brackets(){return!this._brackets&&this.underlyingConfig.brackets&&(this._brackets=new T.EA(this.languageId,this.underlyingConfig.brackets)),this._brackets}get electricCharacter(){return this._electricCharacter||(this._electricCharacter=new S(this.brackets)),this._electricCharacter}onEnter(Le,Ze,Ge,Fe){return this._onEnterSupport?this._onEnterSupport.onEnter(Le,Ze,Ge,Fe):null}getAutoClosingPairs(){return new L.c$(this.characterPair.getAutoClosingPairs())}getAutoCloseBeforeSet(){return this.characterPair.getAutoCloseBeforeSet()}getSurroundingPairs(){return this.characterPair.getSurroundingPairs()}static _handleComments(Le){const Ze=Le.comments;if(!Ze)return null;const Ge={};if(Ze.lineComment&&(Ge.lineCommentToken=Ze.lineComment),Ze.blockComment){const[Fe,ct]=Ze.blockComment;Ge.blockCommentStartToken=Fe,Ge.blockCommentEndToken=ct}return Ge}}(0,I.z)(se,X)},68347:function(nt,xe,l){"use strict";l.d(xe,{bd:function(){return T},dQ:function(){return A}});var C=l(83218),d=l(60218),j=l(14038),W=l(72086),L=l(90410);const z={ModesRegistry:"editor.modesRegistry"};class P{constructor(){this._onDidChangeLanguages=new d.Q5,this.onDidChangeLanguages=this._onDidChangeLanguages.event,this._languages=[]}registerLanguage(y){return this._languages.push(y),this._onDidChangeLanguages.fire(void 0),{dispose:()=>{for(let u=0,a=this._languages.length;u<a;u++)if(this._languages[u]===y){this._languages.splice(u,1);return}}}}getLanguages(){return this._languages}}const A=new P;j.B.add(z.ModesRegistry,A);const T="plaintext",S=".txt";A.registerLanguage({id:T,extensions:[S],aliases:[C.NC("plainText.alias","Plain Text"),"text"],mimetypes:[W.v.text]}),j.B.as(L.IP.Configuration).registerDefaultConfigurations([{overrides:{"[plaintext]":{"editor.unicodeHighlight.ambiguousCharacters":!1,"editor.unicodeHighlight.invisibleCharacters":!1}}}])},62867:function(nt,xe,l){"use strict";l.d(xe,{Dy:function(){return W},Ri:function(){return j},TJ:function(){return d}});var C=l(51080);const d=new class{clone(){return this}equals(L){return this===L}};function j(L,z){return new C.hG([new C.WU(0,"",L)],z)}function W(L,z){const P=new Uint32Array(2);return P[0]=0,P[1]=(L<<0|0<<8|0<<11|1<<15|2<<24)>>>0,new C.DI(P,z===null?d:z)}},26743:function(nt,xe,l){"use strict";l.d(xe,{Bu:function(){return j},wH:function(){return C}});function C(W,L){const z=W.getCount(),P=W.findTokenIndexAtOffset(L),A=W.getLanguageId(P);let T=P;for(;T+1<z&&W.getLanguageId(T+1)===A;)T++;let S=P;for(;S>0&&W.getLanguageId(S-1)===A;)S--;return new d(W,A,S,T+1,W.getStartOffset(S),W.getEndOffset(T))}class d{constructor(L,z,P,A,T,S){this._scopedLineTokensBrand=void 0,this._actual=L,this.languageId=z,this._firstTokenIndex=P,this._lastTokenIndex=A,this.firstCharOffset=T,this._lastCharOffset=S}getLineContent(){return this._actual.getLineContent().substring(this.firstCharOffset,this._lastCharOffset)}getActualLineContentBefore(L){return this._actual.getLineContent().substring(0,this.firstCharOffset+L)}getTokenCount(){return this._lastTokenIndex-this._firstTokenIndex}findTokenIndexAtOffset(L){return this._actual.findTokenIndexAtOffset(L+this.firstCharOffset)-this._firstTokenIndex}getStandardTokenType(L){return this._actual.getStandardTokenType(L+this._firstTokenIndex)}}function j(W){return(W&3)!==0}},77372:function(nt,xe,l){"use strict";l.d(xe,{EA:function(){return z},Vr:function(){return N}});var C=l(22297),d=l(10501),j=l(14481);class W{constructor(E,O,R,M,K,Z){this._richEditBracketBrand=void 0,this.languageId=E,this.index=O,this.open=R,this.close=M,this.forwardRegex=K,this.reversedRegex=Z,this._openSet=W._toSet(this.open),this._closeSet=W._toSet(this.close)}isOpen(E){return this._openSet.has(E)}isClose(E){return this._closeSet.has(E)}static _toSet(E){const O=new Set;for(const R of E)O.add(R);return O}}function L(I){const E=I.length;I=I.map(Z=>[Z[0].toLowerCase(),Z[1].toLowerCase()]);const O=[];for(let Z=0;Z<E;Z++)O[Z]=Z;const R=(Z,te)=>{const[de,ge]=Z,[le,se]=te;return de===le||de===se||ge===le||ge===se},M=(Z,te)=>{const de=Math.min(Z,te),ge=Math.max(Z,te);for(let le=0;le<E;le++)O[le]===ge&&(O[le]=de)};for(let Z=0;Z<E;Z++){const te=I[Z];for(let de=Z+1;de<E;de++){const ge=I[de];R(te,ge)&&M(O[Z],O[de])}}const K=[];for(let Z=0;Z<E;Z++){const te=[],de=[];for(let ge=0;ge<E;ge++)if(O[ge]===Z){const[le,se]=I[ge];te.push(le),de.push(se)}te.length>0&&K.push({open:te,close:de})}return K}class z{constructor(E,O){this._richEditBracketsBrand=void 0;const R=L(O);this.brackets=R.map((M,K)=>new W(E,K,M.open,M.close,S(M.open,M.close,R,K),_(M.open,M.close,R,K))),this.forwardRegex=y(this.brackets),this.reversedRegex=u(this.brackets),this.textIsBracket={},this.textIsOpenBracket={},this.maxBracketLength=0;for(const M of this.brackets){for(const K of M.open)this.textIsBracket[K]=M,this.textIsOpenBracket[K]=!0,this.maxBracketLength=Math.max(this.maxBracketLength,K.length);for(const K of M.close)this.textIsBracket[K]=M,this.textIsOpenBracket[K]=!1,this.maxBracketLength=Math.max(this.maxBracketLength,K.length)}}}function P(I,E,O,R){for(let M=0,K=E.length;M<K;M++){if(M===O)continue;const Z=E[M];for(const te of Z.open)te.indexOf(I)>=0&&R.push(te);for(const te of Z.close)te.indexOf(I)>=0&&R.push(te)}}function A(I,E){return I.length-E.length}function T(I){if(I.length<=1)return I;const E=[],O=new Set;for(const R of I)O.has(R)||(E.push(R),O.add(R));return E}function S(I,E,O,R){let M=[];M=M.concat(I),M=M.concat(E);for(let K=0,Z=M.length;K<Z;K++)P(M[K],O,R,M);return M=T(M),M.sort(A),M.reverse(),b(M)}function _(I,E,O,R){let M=[];M=M.concat(I),M=M.concat(E);for(let K=0,Z=M.length;K<Z;K++)P(M[K],O,R,M);return M=T(M),M.sort(A),M.reverse(),b(M.map(D))}function y(I){let E=[];for(const O of I){for(const R of O.open)E.push(R);for(const R of O.close)E.push(R)}return E=T(E),b(E)}function u(I){let E=[];for(const O of I){for(const R of O.open)E.push(R);for(const R of O.close)E.push(R)}return E=T(E),b(E.map(D))}function a(I){const E=/^[\w ]+$/.test(I);return I=C.ec(I),E?`\\b${I}\\b`:I}function b(I){const E=`(${I.map(a).join(")|(")})`;return C.GF(E,!0)}const D=function(){function I(R){if(d.lZ){const M=new Uint16Array(R.length);let K=0;for(let Z=R.length-1;Z>=0;Z--)M[K++]=R.charCodeAt(Z);return d.oe().decode(M)}else{const M=[];let K=0;for(let Z=R.length-1;Z>=0;Z--)M[K++]=R.charAt(Z);return M.join("")}}let E=null,O=null;return function(M){return E!==M&&(E=M,O=I(E)),O}}();class N{static _findPrevBracketInText(E,O,R,M){const K=R.match(E);if(!K)return null;const Z=R.length-(K.index||0),te=K[0].length,de=M+Z;return new j.e(O,de-te+1,O,de+1)}static findPrevBracketInRange(E,O,R,M,K){const te=D(R).substring(R.length-K,R.length-M);return this._findPrevBracketInText(E,O,te,M)}static findNextBracketInText(E,O,R,M){const K=R.match(E);if(!K)return null;const Z=K.index||0,te=K[0].length;if(te===0)return null;const de=M+Z;return new j.e(O,de+1,O,de+1+te)}static findNextBracketInRange(E,O,R,M,K){const Z=R.substring(M,K);return this.findNextBracketInText(E,O,Z,M)}}},61647:function(nt,xe,l){"use strict";l.d(xe,{C2:function(){return P},Fq:function(){return A}});var C=l(22297),d=l(37186),j=l(51080),W=l(62867),L=function(S,_,y,u){function a(b){return b instanceof y?b:new y(function(D){D(b)})}return new(y||(y=Promise))(function(b,D){function N(O){try{E(u.next(O))}catch(R){D(R)}}function I(O){try{E(u.throw(O))}catch(R){D(R)}}function E(O){O.done?b(O.value):a(O.value).then(N,I)}E((u=u.apply(S,_||[])).next())})};const z={getInitialState:()=>W.TJ,tokenizeEncoded:(S,_,y)=>(0,W.Dy)(0,y)};function P(S,_,y){return L(this,void 0,void 0,function*(){if(!y)return T(_,S.languageIdCodec,z);const u=yield j.RW.getOrCreate(y);return T(_,S.languageIdCodec,u||z)})}function A(S,_,y,u,a,b,D){let N="<div>",I=u,E=0,O=!0;for(let R=0,M=_.getCount();R<M;R++){const K=_.getEndOffset(R);if(K<=u)continue;let Z="";for(;I<K&&I<a;I++){const te=S.charCodeAt(I);switch(te){case 9:{let de=b-(I+E)%b;for(E+=de-1;de>0;)D&&O?(Z+="&#160;",O=!1):(Z+=" ",O=!0),de--;break}case 60:Z+="&lt;",O=!1;break;case 62:Z+="&gt;",O=!1;break;case 38:Z+="&amp;",O=!1;break;case 0:Z+="&#00;",O=!1;break;case 65279:case 8232:case 8233:case 133:Z+="\uFFFD",O=!1;break;case 13:Z+="&#8203",O=!1;break;case 32:D&&O?(Z+="&#160;",O=!1):(Z+=" ",O=!0);break;default:Z+=String.fromCharCode(te),O=!1}}if(N+=`<span style="${_.getInlineStyle(R,y)}">${Z}</span>`,K>a||I>=a)break}return N+="</div>",N}function T(S,_,y){let u='<div class="monaco-tokenized-source">';const a=C.uq(S);let b=y.getInitialState();for(let D=0,N=a.length;D<N;D++){const I=a[D];D>0&&(u+="<br/>");const E=y.tokenizeEncoded(I,!0,b);d.A.convertToEndOffset(E.tokens,I.length);const R=new d.A(E.tokens,I,_).inflate();let M=0;for(let K=0,Z=R.getCount();K<Z;K++){const te=R.getClassName(K),de=R.getEndOffset(K);u+=`<span class="${te}">${C.YU(I.substring(M,de))}</span>`,M=de}b=E.endState}return u+="</div>",u}},6276:function(nt,xe,l){"use strict";l.d(xe,{F5:function(){return j},Hf:function(){return P},Qi:function(){return A},RM:function(){return W},Tx:function(){return T},dJ:function(){return L},je:function(){return S},pt:function(){return _},sh:function(){return d},tk:function(){return z}});var C=l(43299),d;(function(y){y[y.Left=1]="Left",y[y.Center=2]="Center",y[y.Right=4]="Right",y[y.Full=7]="Full"})(d||(d={}));var j;(function(y){y[y.Inline=1]="Inline",y[y.Gutter=2]="Gutter"})(j||(j={}));var W;(function(y){y[y.Both=0]="Both",y[y.Right=1]="Right",y[y.Left=2]="Left",y[y.None=3]="None"})(W||(W={}));class L{constructor(u){this._textModelResolvedOptionsBrand=void 0,this.tabSize=Math.max(1,u.tabSize|0),this.indentSize=u.tabSize|0,this.insertSpaces=Boolean(u.insertSpaces),this.defaultEOL=u.defaultEOL|0,this.trimAutoWhitespace=Boolean(u.trimAutoWhitespace),this.bracketPairColorizationOptions=u.bracketPairColorizationOptions}equals(u){return this.tabSize===u.tabSize&&this.indentSize===u.indentSize&&this.insertSpaces===u.insertSpaces&&this.defaultEOL===u.defaultEOL&&this.trimAutoWhitespace===u.trimAutoWhitespace&&(0,C.fS)(this.bracketPairColorizationOptions,u.bracketPairColorizationOptions)}createChangeEvent(u){return{tabSize:this.tabSize!==u.tabSize,indentSize:this.indentSize!==u.indentSize,insertSpaces:this.insertSpaces!==u.insertSpaces,trimAutoWhitespace:this.trimAutoWhitespace!==u.trimAutoWhitespace}}}class z{constructor(u,a){this._findMatchBrand=void 0,this.range=u,this.matches=a}}function P(y){return y&&typeof y.read=="function"}class A{constructor(u,a,b,D,N,I){this.identifier=u,this.range=a,this.text=b,this.forceMoveMarkers=D,this.isAutoWhitespaceEdit=N,this._isTracked=I}}class T{constructor(u,a,b){this.regex=u,this.wordSeparators=a,this.simpleSearch=b}}class S{constructor(u,a,b){this.reverseEdits=u,this.changes=a,this.trimAutoWhitespaceLineNumbers=b}}function _(y){return!y.isTooLargeForSyncing()&&!y.isForSimpleWidget}},60671:function(nt,xe,l){"use strict";l.d(xe,{BH:function(){return u},Dm:function(){return b},Kd:function(){return L},Y0:function(){return z},n2:function(){return a}});var C=l(72289),d=l(49935),j=l(70252);class W{constructor(N){this._length=N}get length(){return this._length}}class L extends W{constructor(N,I,E,O,R){super(N),this.openingBracket=I,this.child=E,this.closingBracket=O,this.missingOpeningBracketIds=R}static create(N,I,E){let O=N.length;return I&&(O=(0,d.Ii)(O,I.length)),E&&(O=(0,d.Ii)(O,E.length)),new L(O,N,I,E,I?I.missingOpeningBracketIds:j.tS.getEmpty())}get kind(){return 2}get listHeight(){return 0}get childrenLength(){return 3}getChild(N){switch(N){case 0:return this.openingBracket;case 1:return this.child;case 2:return this.closingBracket}throw new Error("Invalid child index")}get children(){const N=new Array;return N.push(this.openingBracket),this.child&&N.push(this.child),this.closingBracket&&N.push(this.closingBracket),N}canBeReused(N){return!(this.closingBracket===null||N.intersects(this.missingOpeningBracketIds))}deepClone(){return new L(this.length,this.openingBracket.deepClone(),this.child&&this.child.deepClone(),this.closingBracket&&this.closingBracket.deepClone(),this.missingOpeningBracketIds)}computeMinIndentation(N,I){return this.child?this.child.computeMinIndentation((0,d.Ii)(N,this.openingBracket.length),I):Number.MAX_SAFE_INTEGER}}class z extends W{constructor(N,I,E){super(N),this.listHeight=I,this._missingOpeningBracketIds=E,this.cachedMinIndentation=-1}static create23(N,I,E,O=!1){let R=N.length,M=N.missingOpeningBracketIds;if(N.listHeight!==I.listHeight)throw new Error("Invalid list heights");if(R=(0,d.Ii)(R,I.length),M=M.merge(I.missingOpeningBracketIds),E){if(N.listHeight!==E.listHeight)throw new Error("Invalid list heights");R=(0,d.Ii)(R,E.length),M=M.merge(E.missingOpeningBracketIds)}return O?new A(R,N.listHeight+1,N,I,E,M):new P(R,N.listHeight+1,N,I,E,M)}static getEmpty(){return new S(d.xl,0,[],j.tS.getEmpty())}get kind(){return 4}get missingOpeningBracketIds(){return this._missingOpeningBracketIds}throwIfImmutable(){}makeLastElementMutable(){this.throwIfImmutable();const N=this.childrenLength;if(N===0)return;const I=this.getChild(N-1),E=I.kind===4?I.toMutable():I;return I!==E&&this.setChild(N-1,E),E}makeFirstElementMutable(){if(this.throwIfImmutable(),this.childrenLength===0)return;const I=this.getChild(0),E=I.kind===4?I.toMutable():I;return I!==E&&this.setChild(0,E),E}canBeReused(N){if(N.intersects(this.missingOpeningBracketIds))return!1;let I=this,E;for(;I.kind===4&&(E=I.childrenLength)>0;)I=I.getChild(E-1);return I.canBeReused(N)}handleChildrenChanged(){this.throwIfImmutable();const N=this.childrenLength;let I=this.getChild(0).length,E=this.getChild(0).missingOpeningBracketIds;for(let O=1;O<N;O++){const R=this.getChild(O);I=(0,d.Ii)(I,R.length),E=E.merge(R.missingOpeningBracketIds)}this._length=I,this._missingOpeningBracketIds=E,this.cachedMinIndentation=-1}computeMinIndentation(N,I){if(this.cachedMinIndentation!==-1)return this.cachedMinIndentation;let E=Number.MAX_SAFE_INTEGER,O=N;for(let R=0;R<this.childrenLength;R++){const M=this.getChild(R);M&&(E=Math.min(E,M.computeMinIndentation(O,I)),O=(0,d.Ii)(O,M.length))}return this.cachedMinIndentation=E,E}}class P extends z{constructor(N,I,E,O,R,M){super(N,I,M),this._item1=E,this._item2=O,this._item3=R}get childrenLength(){return this._item3!==null?3:2}getChild(N){switch(N){case 0:return this._item1;case 1:return this._item2;case 2:return this._item3}throw new Error("Invalid child index")}setChild(N,I){switch(N){case 0:this._item1=I;return;case 1:this._item2=I;return;case 2:this._item3=I;return}throw new Error("Invalid child index")}get children(){return this._item3?[this._item1,this._item2,this._item3]:[this._item1,this._item2]}get item1(){return this._item1}get item2(){return this._item2}get item3(){return this._item3}deepClone(){return new P(this.length,this.listHeight,this._item1.deepClone(),this._item2.deepClone(),this._item3?this._item3.deepClone():null,this.missingOpeningBracketIds)}appendChildOfSameHeight(N){if(this._item3)throw new Error("Cannot append to a full (2,3) tree node");this.throwIfImmutable(),this._item3=N,this.handleChildrenChanged()}unappendChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const N=this._item3;return this._item3=null,this.handleChildrenChanged(),N}prependChildOfSameHeight(N){if(this._item3)throw new Error("Cannot prepend to a full (2,3) tree node");this.throwIfImmutable(),this._item3=this._item2,this._item2=this._item1,this._item1=N,this.handleChildrenChanged()}unprependChild(){if(!this._item3)throw new Error("Cannot remove from a non-full (2,3) tree node");this.throwIfImmutable();const N=this._item1;return this._item1=this._item2,this._item2=this._item3,this._item3=null,this.handleChildrenChanged(),N}toMutable(){return this}}class A extends P{toMutable(){return new P(this.length,this.listHeight,this.item1,this.item2,this.item3,this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}class T extends z{constructor(N,I,E,O){super(N,I,O),this._children=E}get childrenLength(){return this._children.length}getChild(N){return this._children[N]}setChild(N,I){this._children[N]=I}get children(){return this._children}deepClone(){const N=new Array(this._children.length);for(let I=0;I<this._children.length;I++)N[I]=this._children[I].deepClone();return new T(this.length,this.listHeight,N,this.missingOpeningBracketIds)}appendChildOfSameHeight(N){this.throwIfImmutable(),this._children.push(N),this.handleChildrenChanged()}unappendChild(){this.throwIfImmutable();const N=this._children.pop();return this.handleChildrenChanged(),N}prependChildOfSameHeight(N){this.throwIfImmutable(),this._children.unshift(N),this.handleChildrenChanged()}unprependChild(){this.throwIfImmutable();const N=this._children.shift();return this.handleChildrenChanged(),N}toMutable(){return this}}class S extends T{toMutable(){return new T(this.length,this.listHeight,[...this.children],this.missingOpeningBracketIds)}throwIfImmutable(){throw new Error("this instance is immutable")}}const _=[];class y extends W{get listHeight(){return 0}get childrenLength(){return 0}getChild(N){return null}get children(){return _}deepClone(){return this}}class u extends y{get kind(){return 0}get missingOpeningBracketIds(){return j.tS.getEmpty()}canBeReused(N){return!0}computeMinIndentation(N,I){const E=(0,d.Hw)(N),O=(E.columnCount===0?E.lineCount:E.lineCount+1)+1,R=(0,d.W9)((0,d.Ii)(N,this.length))+1;let M=Number.MAX_SAFE_INTEGER;for(let K=O;K<=R;K++){const Z=I.getLineFirstNonWhitespaceColumn(K),te=I.getLineContent(K);if(Z===0)continue;const de=C.i.visibleColumnFromColumn(te,Z,I.getOptions().tabSize);M=Math.min(M,de)}return M}}class a extends y{constructor(N,I,E){super(N),this.bracketInfo=I,this.bracketIds=E}static create(N,I,E){return new a(N,I,E)}get kind(){return 1}get missingOpeningBracketIds(){return j.tS.getEmpty()}get text(){return this.bracketInfo.bracketText}get languageId(){return this.bracketInfo.languageId}canBeReused(N){return!1}computeMinIndentation(N,I){return Number.MAX_SAFE_INTEGER}}class b extends y{constructor(N,I){super(I),this.missingOpeningBracketIds=N}get kind(){return 3}canBeReused(N){return!N.intersects(this.missingOpeningBracketIds)}computeMinIndentation(N,I){return Number.MAX_SAFE_INTEGER}}},12810:function(nt,xe,l){"use strict";l.d(xe,{Q:function(){return d},Y:function(){return j}});var C=l(49935);class d{constructor(z,P,A){this.startOffset=z,this.endOffset=P,this.newLength=A}}class j{constructor(z,P){this.documentLength=P,this.nextEditIdx=0,this.deltaOldToNewLineCount=0,this.deltaOldToNewColumnCount=0,this.deltaLineIdxInOld=-1,this.edits=z.map(A=>W.from(A))}getOffsetBeforeChange(z){return this.adjustNextEdit(z),this.translateCurToOld(z)}getDistanceToNextChange(z){this.adjustNextEdit(z);const P=this.edits[this.nextEditIdx],A=P?this.translateOldToCur(P.offsetObj):this.documentLength;return(0,C.BE)(z,A)}translateOldToCur(z){return z.lineCount===this.deltaLineIdxInOld?(0,C.Hg)(z.lineCount+this.deltaOldToNewLineCount,z.columnCount+this.deltaOldToNewColumnCount):(0,C.Hg)(z.lineCount+this.deltaOldToNewLineCount,z.columnCount)}translateCurToOld(z){const P=(0,C.Hw)(z);return P.lineCount-this.deltaOldToNewLineCount===this.deltaLineIdxInOld?(0,C.Hg)(P.lineCount-this.deltaOldToNewLineCount,P.columnCount-this.deltaOldToNewColumnCount):(0,C.Hg)(P.lineCount-this.deltaOldToNewLineCount,P.columnCount)}adjustNextEdit(z){for(;this.nextEditIdx<this.edits.length;){const P=this.edits[this.nextEditIdx],A=this.translateOldToCur(P.endOffsetAfterObj);if((0,C.By)(A,z)){this.nextEditIdx++;const T=(0,C.Hw)(A),S=(0,C.Hw)(this.translateOldToCur(P.endOffsetBeforeObj)),_=T.lineCount-S.lineCount;this.deltaOldToNewLineCount+=_;const y=this.deltaLineIdxInOld===P.endOffsetBeforeObj.lineCount?this.deltaOldToNewColumnCount:0,u=T.columnCount-S.columnCount;this.deltaOldToNewColumnCount=y+u,this.deltaLineIdxInOld=P.endOffsetBeforeObj.lineCount}else break}}}class W{constructor(z,P,A){this.endOffsetBeforeObj=(0,C.Hw)(P),this.endOffsetAfterObj=(0,C.Hw)((0,C.Ii)(z,A)),this.offsetObj=(0,C.Hw)(z)}static from(z){return new W(z.startOffset,z.endOffset,z.newLength)}}},11313:function(nt,xe,l){"use strict";l.d(xe,{Z:function(){return A}});var C=l(22297),d=l(60671),j=l(49935),W=l(70252),L=l(408);class z{constructor(S){this.map=S,this.hasRegExp=!1,this._regExpGlobal=null}static createFromLanguage(S,_){function y(a){return _.getKey(`${a.languageId}:::${a.bracketText}`)}const u=new Map;for(const a of S.bracketsNew.openingBrackets){const b=(0,j.Hg)(0,a.bracketText.length),D=y(a),N=W.tS.getEmpty().add(D,W.Qw);u.set(a.bracketText,new L.WU(b,1,D,N,d.n2.create(b,a,N)))}for(const a of S.bracketsNew.closingBrackets){const b=(0,j.Hg)(0,a.bracketText.length);let D=W.tS.getEmpty();const N=a.getClosedBrackets();for(const I of N)D=D.add(y(I),W.Qw);u.set(a.bracketText,new L.WU(b,2,y(N[0]),D,d.n2.create(b,a,D)))}return new z(u)}getRegExpStr(){if(this.isEmpty)return null;{const S=[...this.map.keys()];return S.sort(),S.reverse(),S.map(_=>P(_)).join("|")}}get regExpGlobal(){if(!this.hasRegExp){const S=this.getRegExpStr();this._regExpGlobal=S?new RegExp(S,"gi"):null,this.hasRegExp=!0}return this._regExpGlobal}getToken(S){return this.map.get(S.toLowerCase())}findClosingTokenText(S){for(const[_,y]of this.map)if(y.kind===2&&y.bracketIds.intersects(S))return _}get isEmpty(){return this.map.size===0}}function P(T){let S=(0,C.ec)(T);return/^[\w ]+/.test(T)&&(S=`\\b${S}`),/[\w ]+$/.test(T)&&(S=`${S}\\b`),S}class A{constructor(S,_){this.denseKeyProvider=S,this.getLanguageConfiguration=_,this.languageIdToBracketTokens=new Map}didLanguageChange(S){return this.languageIdToBracketTokens.has(S)}getSingleLanguageBracketTokens(S){let _=this.languageIdToBracketTokens.get(S);return _||(_=z.createFromLanguage(this.getLanguageConfiguration(S),this.denseKeyProvider),this.languageIdToBracketTokens.set(S,_)),_}}},49935:function(nt,xe,l){"use strict";l.d(xe,{BE:function(){return u},By:function(){return b},F_:function(){return _},Hg:function(){return A},Hw:function(){return T},Ii:function(){return y},PZ:function(){return N},Qw:function(){return I},VR:function(){return a},W9:function(){return S},Zq:function(){return D},av:function(){return W},oR:function(){return E},xd:function(){return z},xl:function(){return L}});var C=l(22297),d=l(14481);class j{constructor(R,M){this.lineCount=R,this.columnCount=M}toString(){return`${this.lineCount},${this.columnCount}`}}j.zero=new j(0,0);function W(O,R,M,K){return O!==M?A(M-O,K):A(0,K-R)}const L=0;function z(O){return O===0}const P=Math.pow(2,26);function A(O,R){return O*P+R}function T(O){const R=O,M=Math.floor(R/P),K=R-M*P;return new j(M,K)}function S(O){return Math.floor(O/P)}function _(O){return O}function y(O,R){return R<P?O+R:O-O%P+R}function u(O,R){const M=O,K=R;if(K-M<=0)return L;const te=Math.floor(M/P),de=Math.floor(K/P),ge=K-de*P;if(te===de){const le=M-te*P;return A(0,ge-le)}else return A(de-te,ge)}function a(O,R){return O<R}function b(O,R){return O<=R}function D(O,R){return O>=R}function N(O){return A(O.lineNumber-1,O.column-1)}function I(O,R){const M=O,K=Math.floor(M/P),Z=M-K*P,te=R,de=Math.floor(te/P),ge=te-de*P;return new d.e(K+1,Z+1,de+1,ge+1)}function E(O){const R=(0,C.uq)(O);return A(R.length-1,R[R.length-1].length)}},70143:function(nt,xe,l){"use strict";l.d(xe,{w:function(){return a}});var C=l(60671),d=l(12810),j=l(70252),W=l(49935);function L(D){if(D.length===0)return null;if(D.length===1)return D[0];let N=0;function I(){if(N>=D.length)return null;const M=N,K=D[M].listHeight;for(N++;N<D.length&&D[N].listHeight===K;)N++;return N-M>=2?z(M===0&&N===D.length?D:D.slice(M,N),!1):D[M]}let E=I(),O=I();if(!O)return E;for(let M=I();M;M=I())P(E,O)<=P(O,M)?(E=A(E,O),O=M):O=A(O,M);return A(E,O)}function z(D,N=!1){if(D.length===0)return null;if(D.length===1)return D[0];let I=D.length;for(;I>3;){const E=I>>1;for(let O=0;O<E;O++){const R=O<<1;D[O]=C.Y0.create23(D[R],D[R+1],R+3===I?D[R+2]:null,N)}I=E}return C.Y0.create23(D[0],D[1],I>=3?D[2]:null,N)}function P(D,N){return Math.abs(D.listHeight-N.listHeight)}function A(D,N){return D.listHeight===N.listHeight?C.Y0.create23(D,N,null,!1):D.listHeight>N.listHeight?T(D,N):S(N,D)}function T(D,N){D=D.toMutable();let I=D;const E=new Array;let O;for(;;){if(N.listHeight===I.listHeight){O=N;break}if(I.kind!==4)throw new Error("unexpected");E.push(I),I=I.makeLastElementMutable()}for(let R=E.length-1;R>=0;R--){const M=E[R];O?M.childrenLength>=3?O=C.Y0.create23(M.unappendChild(),O,null,!1):(M.appendChildOfSameHeight(O),O=void 0):M.handleChildrenChanged()}return O?C.Y0.create23(D,O,null,!1):D}function S(D,N){D=D.toMutable();let I=D;const E=new Array;for(;N.listHeight!==I.listHeight;){if(I.kind!==4)throw new Error("unexpected");E.push(I),I=I.makeFirstElementMutable()}let O=N;for(let R=E.length-1;R>=0;R--){const M=E[R];O?M.childrenLength>=3?O=C.Y0.create23(O,M.unprependChild(),null,!1):(M.prependChildOfSameHeight(O),O=void 0):M.handleChildrenChanged()}return O?C.Y0.create23(O,D,null,!1):D}class _{constructor(N){this.lastOffset=W.xl,this.nextNodes=[N],this.offsets=[W.xl],this.idxs=[]}readLongestNodeAt(N,I){if((0,W.VR)(N,this.lastOffset))throw new Error("Invalid offset");for(this.lastOffset=N;;){const E=u(this.nextNodes);if(!E)return;const O=u(this.offsets);if((0,W.VR)(N,O))return;if((0,W.VR)(O,N))if((0,W.Ii)(O,E.length)<=N)this.nextNodeAfterCurrent();else{const R=y(E);R!==-1?(this.nextNodes.push(E.getChild(R)),this.offsets.push(O),this.idxs.push(R)):this.nextNodeAfterCurrent()}else{if(I(E))return this.nextNodeAfterCurrent(),E;{const R=y(E);if(R===-1){this.nextNodeAfterCurrent();return}else this.nextNodes.push(E.getChild(R)),this.offsets.push(O),this.idxs.push(R)}}}}nextNodeAfterCurrent(){for(;;){const N=u(this.offsets),I=u(this.nextNodes);if(this.nextNodes.pop(),this.offsets.pop(),this.idxs.length===0)break;const E=u(this.nextNodes),O=y(E,this.idxs[this.idxs.length-1]);if(O!==-1){this.nextNodes.push(E.getChild(O)),this.offsets.push((0,W.Ii)(N,I.length)),this.idxs[this.idxs.length-1]=O;break}else this.idxs.pop()}}}function y(D,N=-1){for(;;){if(N++,N>=D.childrenLength)return-1;if(D.getChild(N))return N}}function u(D){return D.length>0?D[D.length-1]:void 0}function a(D,N,I,E){return new b(D,N,I,E).parseDocument()}class b{constructor(N,I,E,O){if(this.tokenizer=N,this.createImmutableLists=O,this._itemsConstructed=0,this._itemsFromCache=0,E&&O)throw new Error("Not supported");this.oldNodeReader=E?new _(E):void 0,this.positionMapper=new d.Y(I,N.length)}parseDocument(){this._itemsConstructed=0,this._itemsFromCache=0;let N=this.parseList(j.tS.getEmpty());return N||(N=C.Y0.getEmpty()),N}parseList(N){const I=new Array;for(;;){const O=this.tokenizer.peek();if(!O||O.kind===2&&O.bracketIds.intersects(N))break;const R=this.parseChild(N);R.kind===4&&R.childrenLength===0||I.push(R)}return this.oldNodeReader?L(I):z(I,this.createImmutableLists)}parseChild(N){if(this.oldNodeReader){const E=this.positionMapper.getDistanceToNextChange(this.tokenizer.offset);if(!(0,W.xd)(E)){const O=this.oldNodeReader.readLongestNodeAt(this.positionMapper.getOffsetBeforeChange(this.tokenizer.offset),R=>(0,W.VR)(R.length,E)?R.canBeReused(N):!1);if(O)return this._itemsFromCache++,this.tokenizer.skip(O.length),O}}this._itemsConstructed++;const I=this.tokenizer.read();switch(I.kind){case 2:return new C.Dm(I.bracketIds,I.length);case 0:return I.astNode;case 1:{const E=N.merge(I.bracketIds),O=this.parseList(E),R=this.tokenizer.peek();return R&&R.kind===2&&(R.bracketId===I.bracketId||R.bracketIds.intersects(I.bracketIds))?(this.tokenizer.read(),C.Kd.create(I.astNode,O,R.astNode)):C.Kd.create(I.astNode,O,null)}default:throw new Error("unexpected")}}}},70252:function(nt,xe,l){"use strict";l.d(xe,{FE:function(){return W},Qw:function(){return j},tS:function(){return d}});const C=new Array;class d{constructor(z,P){this.items=z,this.additionalItems=P}static create(z,P){if(z<=128&&P.length===0){let A=d.cache[z];return A||(A=new d(z,P),d.cache[z]=A),A}return new d(z,P)}static getEmpty(){return this.empty}add(z,P){const A=P.getKey(z);let T=A>>5;if(T===0){const _=1<<A|this.items;return _===this.items?this:d.create(_,this.additionalItems)}T--;const S=this.additionalItems.slice(0);for(;S.length<T;)S.push(0);return S[T]|=1<<(A&31),d.create(this.items,S)}merge(z){const P=this.items|z.items;if(this.additionalItems===C&&z.additionalItems===C)return P===this.items?this:P===z.items?z:d.create(P,C);const A=new Array;for(let T=0;T<Math.max(this.additionalItems.length,z.additionalItems.length);T++){const S=this.additionalItems[T]||0,_=z.additionalItems[T]||0;A.push(S|_)}return d.create(P,A)}intersects(z){if((this.items&z.items)!==0)return!0;for(let P=0;P<Math.min(this.additionalItems.length,z.additionalItems.length);P++)if((this.additionalItems[P]&z.additionalItems[P])!==0)return!0;return!1}}d.cache=new Array(129),d.empty=d.create(0,C);const j={getKey(L){return L}};class W{constructor(){this.items=new Map}getKey(z){let P=this.items.get(z);return P===void 0&&(P=this.items.size,this.items.set(z,P)),P}}},408:function(nt,xe,l){"use strict";l.d(xe,{WU:function(){return z},g:function(){return T},xH:function(){return P}});var C=l(708),d=l(15880),j=l(60671),W=l(49935),L=l(70252);class z{constructor(_,y,u,a,b){this.length=_,this.kind=y,this.bracketId=u,this.bracketIds=a,this.astNode=b}}class P{constructor(_,y){this.textModel=_,this.bracketTokens=y,this.reader=new A(this.textModel,this.bracketTokens),this._offset=W.xl,this.didPeek=!1,this.peeked=null,this.textBufferLineCount=_.getLineCount(),this.textBufferLastLineLength=_.getLineLength(this.textBufferLineCount)}get offset(){return this._offset}get length(){return(0,W.Hg)(this.textBufferLineCount,this.textBufferLastLineLength)}skip(_){this.didPeek=!1,this._offset=(0,W.Ii)(this._offset,_);const y=(0,W.Hw)(this._offset);this.reader.setPosition(y.lineCount,y.columnCount)}read(){let _;return this.peeked?(this.didPeek=!1,_=this.peeked):_=this.reader.read(),_&&(this._offset=(0,W.Ii)(this._offset,_.length)),_}peek(){return this.didPeek||(this.peeked=this.reader.read(),this.didPeek=!0),this.peeked}}class A{constructor(_,y){this.textModel=_,this.bracketTokens=y,this.lineIdx=0,this.line=null,this.lineCharOffset=0,this.lineTokens=null,this.lineTokenOffset=0,this.peekedToken=null,this.textBufferLineCount=_.getLineCount(),this.textBufferLastLineLength=_.getLineLength(this.textBufferLineCount)}setPosition(_,y){_===this.lineIdx?(this.lineCharOffset=y,this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset)):(this.lineIdx=_,this.lineCharOffset=y,this.line=null),this.peekedToken=null}read(){if(this.peekedToken){const b=this.peekedToken;return this.peekedToken=null,this.lineCharOffset+=(0,W.F_)(b.length),b}if(this.lineIdx>this.textBufferLineCount-1||this.lineIdx===this.textBufferLineCount-1&&this.lineCharOffset>=this.textBufferLastLineLength)return null;this.line===null&&(this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.line=this.lineTokens.getLineContent(),this.lineTokenOffset=this.lineCharOffset===0?0:this.lineTokens.findTokenIndexAtOffset(this.lineCharOffset));const _=this.lineIdx,y=this.lineCharOffset;let u=0;for(;;){const b=this.lineTokens,D=b.getCount();let N=null;if(this.lineTokenOffset<D){const I=b.getMetadata(this.lineTokenOffset);for(;this.lineTokenOffset+1<D&&I===b.getMetadata(this.lineTokenOffset+1);)this.lineTokenOffset++;const E=d.N.getTokenType(I)===0,O=d.N.containsBalancedBrackets(I),R=b.getEndOffset(this.lineTokenOffset);if(O&&E&&this.lineCharOffset<R){const M=b.getLanguageId(this.lineTokenOffset),K=this.line.substring(this.lineCharOffset,R),Z=this.bracketTokens.getSingleLanguageBracketTokens(M),te=Z.regExpGlobal;if(te){te.lastIndex=0;const de=te.exec(K);de&&(N=Z.getToken(de[0]),N&&(this.lineCharOffset+=de.index))}}if(u+=R-this.lineCharOffset,N)if(_!==this.lineIdx||y!==this.lineCharOffset){this.peekedToken=N;break}else return this.lineCharOffset+=(0,W.F_)(N.length),N;else this.lineTokenOffset++,this.lineCharOffset=R}else if(this.lineIdx===this.textBufferLineCount-1||(this.lineIdx++,this.lineTokens=this.textModel.tokenization.getLineTokens(this.lineIdx+1),this.lineTokenOffset=0,this.line=this.lineTokens.getLineContent(),this.lineCharOffset=0,u+=33,u>1e3))break;if(u>1500)break}const a=(0,W.av)(_,y,this.lineIdx,this.lineCharOffset);return new z(a,0,-1,L.tS.getEmpty(),new j.BH(a))}}class T{constructor(_,y){this.text=_,this._offset=W.xl,this.idx=0;const u=y.getRegExpStr(),a=u?new RegExp(u+`|
`,"gi"):null,b=[];let D,N=0,I=0,E=0,O=0;const R=new Array;for(let Z=0;Z<60;Z++)R.push(new z((0,W.Hg)(0,Z),0,-1,L.tS.getEmpty(),new j.BH((0,W.Hg)(0,Z))));const M=new Array;for(let Z=0;Z<60;Z++)M.push(new z((0,W.Hg)(1,Z),0,-1,L.tS.getEmpty(),new j.BH((0,W.Hg)(1,Z))));if(a)for(a.lastIndex=0;(D=a.exec(_))!==null;){const Z=D.index,te=D[0];if(te===`
`)N++,I=Z+1;else{if(E!==Z){let de;if(O===N){const ge=Z-E;if(ge<R.length)de=R[ge];else{const le=(0,W.Hg)(0,ge);de=new z(le,0,-1,L.tS.getEmpty(),new j.BH(le))}}else{const ge=N-O,le=Z-I;if(ge===1&&le<M.length)de=M[le];else{const se=(0,W.Hg)(ge,le);de=new z(se,0,-1,L.tS.getEmpty(),new j.BH(se))}}b.push(de)}b.push(y.getToken(te)),E=Z+te.length,O=N}}const K=_.length;if(E!==K){const Z=O===N?(0,W.Hg)(0,K-E):(0,W.Hg)(N-O,K-I);b.push(new z(Z,0,-1,L.tS.getEmpty(),new j.BH(Z)))}this.length=(0,W.Hg)(N,K-I),this.tokens=b}get offset(){return this._offset}read(){return this.tokens[this.idx++]||null}peek(){return this.tokens[this.idx]||null}skip(_){throw new C.B8}}},49652:function(nt,xe,l){"use strict";l.d(xe,{NL:function(){return a},e9:function(){return u}});var C=l(83218),d=l(708),j=l(17122),W=l(92770),L=l(19645),z=l(90357),P=l(46088);function A(b){return b.toString()}class T{constructor(D,N,I,E,O,R,M){this.beforeVersionId=D,this.afterVersionId=N,this.beforeEOL=I,this.afterEOL=E,this.beforeCursorState=O,this.afterCursorState=R,this.changes=M}static create(D,N){const I=D.getAlternativeVersionId(),E=y(D);return new T(I,I,E,E,N,N,[])}append(D,N,I,E,O){N.length>0&&(this.changes=(0,L.b)(this.changes,N)),this.afterEOL=I,this.afterVersionId=E,this.afterCursorState=O}static _writeSelectionsSize(D){return 4+4*4*(D?D.length:0)}static _writeSelections(D,N,I){if(z.T4(D,N?N.length:0,I),I+=4,N)for(const E of N)z.T4(D,E.selectionStartLineNumber,I),I+=4,z.T4(D,E.selectionStartColumn,I),I+=4,z.T4(D,E.positionLineNumber,I),I+=4,z.T4(D,E.positionColumn,I),I+=4;return I}static _readSelections(D,N,I){const E=z.Ag(D,N);N+=4;for(let O=0;O<E;O++){const R=z.Ag(D,N);N+=4;const M=z.Ag(D,N);N+=4;const K=z.Ag(D,N);N+=4;const Z=z.Ag(D,N);N+=4,I.push(new j.Y(R,M,K,Z))}return N}serialize(){let D=10+T._writeSelectionsSize(this.beforeCursorState)+T._writeSelectionsSize(this.afterCursorState)+4;for(const E of this.changes)D+=E.writeSize();const N=new Uint8Array(D);let I=0;z.T4(N,this.beforeVersionId,I),I+=4,z.T4(N,this.afterVersionId,I),I+=4,z.Cg(N,this.beforeEOL,I),I+=1,z.Cg(N,this.afterEOL,I),I+=1,I=T._writeSelections(N,this.beforeCursorState,I),I=T._writeSelections(N,this.afterCursorState,I),z.T4(N,this.changes.length,I),I+=4;for(const E of this.changes)I=E.write(N,I);return N.buffer}static deserialize(D){const N=new Uint8Array(D);let I=0;const E=z.Ag(N,I);I+=4;const O=z.Ag(N,I);I+=4;const R=z.Q$(N,I);I+=1;const M=z.Q$(N,I);I+=1;const K=[];I=T._readSelections(N,I,K);const Z=[];I=T._readSelections(N,I,Z);const te=z.Ag(N,I);I+=4;const de=[];for(let ge=0;ge<te;ge++)I=L.q.read(N,I,de);return new T(E,O,R,M,K,Z,de)}}class S{constructor(D,N,I,E){this.label=D,this.code=N,this.model=I,this._data=T.create(I,E)}get type(){return 0}get resource(){return W.o.isUri(this.model)?this.model:this.model.uri}toString(){return(this._data instanceof T?this._data:T.deserialize(this._data)).changes.map(N=>N.toString()).join(", ")}matchesResource(D){return(W.o.isUri(this.model)?this.model:this.model.uri).toString()===D.toString()}setModel(D){this.model=D}canAppend(D){return this.model===D&&this._data instanceof T}append(D,N,I,E,O){this._data instanceof T&&this._data.append(D,N,I,E,O)}close(){this._data instanceof T&&(this._data=this._data.serialize())}open(){this._data instanceof T||(this._data=T.deserialize(this._data))}undo(){if(W.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof T&&(this._data=this._data.serialize());const D=T.deserialize(this._data);this.model._applyUndo(D.changes,D.beforeEOL,D.beforeVersionId,D.beforeCursorState)}redo(){if(W.o.isUri(this.model))throw new Error("Invalid SingleModelEditStackElement");this._data instanceof T&&(this._data=this._data.serialize());const D=T.deserialize(this._data);this.model._applyRedo(D.changes,D.afterEOL,D.afterVersionId,D.afterCursorState)}heapSize(){return this._data instanceof T&&(this._data=this._data.serialize()),this._data.byteLength+168}}class _{constructor(D,N,I){this.label=D,this.code=N,this.type=1,this._isOpen=!0,this._editStackElementsArr=I.slice(0),this._editStackElementsMap=new Map;for(const E of this._editStackElementsArr){const O=A(E.resource);this._editStackElementsMap.set(O,E)}this._delegate=null}get resources(){return this._editStackElementsArr.map(D=>D.resource)}prepareUndoRedo(){if(this._delegate)return this._delegate.prepareUndoRedo(this)}matchesResource(D){const N=A(D);return this._editStackElementsMap.has(N)}setModel(D){const N=A(W.o.isUri(D)?D:D.uri);this._editStackElementsMap.has(N)&&this._editStackElementsMap.get(N).setModel(D)}canAppend(D){if(!this._isOpen)return!1;const N=A(D.uri);return this._editStackElementsMap.has(N)?this._editStackElementsMap.get(N).canAppend(D):!1}append(D,N,I,E,O){const R=A(D.uri);this._editStackElementsMap.get(R).append(D,N,I,E,O)}close(){this._isOpen=!1}open(){}undo(){this._isOpen=!1;for(const D of this._editStackElementsArr)D.undo()}redo(){for(const D of this._editStackElementsArr)D.redo()}heapSize(D){const N=A(D);return this._editStackElementsMap.has(N)?this._editStackElementsMap.get(N).heapSize():0}split(){return this._editStackElementsArr}toString(){const D=[];for(const N of this._editStackElementsArr)D.push(`${(0,P.EZ)(N.resource)}: ${N}`);return`{${D.join(", ")}}`}}function y(b){return b.getEOL()===`
`?0:1}function u(b){return b?b instanceof S||b instanceof _:!1}class a{constructor(D,N){this._model=D,this._undoRedoService=N}pushStackElement(){const D=this._undoRedoService.getLastElement(this._model.uri);u(D)&&D.close()}popStackElement(){const D=this._undoRedoService.getLastElement(this._model.uri);u(D)&&D.open()}clear(){this._undoRedoService.removeElements(this._model.uri)}_getOrCreateEditStackElement(D){const N=this._undoRedoService.getLastElement(this._model.uri);if(u(N)&&N.canAppend(this._model))return N;const I=new S(C.NC("edit","Typing"),"undoredo.textBufferEdit",this._model,D);return this._undoRedoService.pushElement(I),I}pushEOL(D){const N=this._getOrCreateEditStackElement(null);this._model.setEOL(D),N.append(this._model,[],y(this._model),this._model.getAlternativeVersionId(),null)}pushEditOperation(D,N,I){const E=this._getOrCreateEditStackElement(D),O=this._model.applyEdits(N,!0),R=a._computeCursorState(I,O),M=O.map((K,Z)=>({index:Z,textChange:K.textChange}));return M.sort((K,Z)=>K.textChange.oldPosition===Z.textChange.oldPosition?K.index-Z.index:K.textChange.oldPosition-Z.textChange.oldPosition),E.append(this._model,M.map(K=>K.textChange),y(this._model),this._model.getAlternativeVersionId(),R),R}static _computeCursorState(D,N){try{return D?D(N):null}catch(I){return(0,d.dL)(I),null}}}},99087:function(nt,xe,l){"use strict";l.d(xe,{W:function(){return T},l:function(){return A}});var C=l(84553),d=l(22297),j=l(72289),W=l(14481),L=l(74372),z=l(17258),P=l(48327);class A extends L.U{constructor(_,y){super(),this.textModel=_,this.languageConfigurationService=y}getLanguageConfiguration(_){return this.languageConfigurationService.getLanguageConfiguration(_)}_computeIndentLevel(_){return(0,z.q)(this.textModel.getLineContent(_+1),this.textModel.getOptions().tabSize)}getActiveIndentGuide(_,y,u){this.assertNotDisposed();const a=this.textModel.getLineCount();if(_<1||_>a)throw new Error("Illegal value for lineNumber");const b=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,D=Boolean(b&&b.offSide);let N=-2,I=-1,E=-2,O=-1;const R=U=>{if(N!==-1&&(N===-2||N>U-1)){N=-1,I=-1;for(let oe=U-2;oe>=0;oe--){const q=this._computeIndentLevel(oe);if(q>=0){N=oe,I=q;break}}}if(E===-2){E=-1,O=-1;for(let oe=U;oe<a;oe++){const q=this._computeIndentLevel(oe);if(q>=0){E=oe,O=q;break}}}};let M=-2,K=-1,Z=-2,te=-1;const de=U=>{if(M===-2){M=-1,K=-1;for(let oe=U-2;oe>=0;oe--){const q=this._computeIndentLevel(oe);if(q>=0){M=oe,K=q;break}}}if(Z!==-1&&(Z===-2||Z<U-1)){Z=-1,te=-1;for(let oe=U;oe<a;oe++){const q=this._computeIndentLevel(oe);if(q>=0){Z=oe,te=q;break}}}};let ge=0,le=!0,se=0,X=!0,re=0,ne=0;for(let U=0;le||X;U++){const oe=_-U,q=_+U;U>1&&(oe<1||oe<y)&&(le=!1),U>1&&(q>a||q>u)&&(X=!1),U>5e4&&(le=!1,X=!1);let ae=-1;if(le&&oe>=1){const ke=this._computeIndentLevel(oe-1);ke>=0?(E=oe-1,O=ke,ae=Math.ceil(ke/this.textModel.getOptions().indentSize)):(R(oe),ae=this._getIndentLevelForWhitespaceLine(D,I,O))}let me=-1;if(X&&q<=a){const ke=this._computeIndentLevel(q-1);ke>=0?(M=q-1,K=ke,me=Math.ceil(ke/this.textModel.getOptions().indentSize)):(de(q),me=this._getIndentLevelForWhitespaceLine(D,K,te))}if(U===0){ne=ae;continue}if(U===1){if(q<=a&&me>=0&&ne+1===me){le=!1,ge=q,se=q,re=me;continue}if(oe>=1&&ae>=0&&ae-1===ne){X=!1,ge=oe,se=oe,re=ae;continue}if(ge=_,se=_,re=ne,re===0)return{startLineNumber:ge,endLineNumber:se,indent:re}}le&&(ae>=re?ge=oe:le=!1),X&&(me>=re?se=q:X=!1)}return{startLineNumber:ge,endLineNumber:se,indent:re}}getLinesBracketGuides(_,y,u,a){var b;const D=[];for(let M=_;M<=y;M++)D.push([]);const N=!0,I=this.textModel.bracketPairs.getBracketPairsInRangeWithMinIndentation(new W.e(_,1,y,this.textModel.getLineMaxColumn(y)));let E;if(u&&I.length>0){const M=(_<=u.lineNumber&&u.lineNumber<=y?I:this.textModel.bracketPairs.getBracketPairsInRange(W.e.fromPositions(u))).filter(K=>W.e.strictContainsPosition(K.range,u));E=(b=(0,C.dF)(M,K=>N||K.range.startLineNumber!==K.range.endLineNumber))===null||b===void 0?void 0:b.range}const O=this.textModel.getOptions().bracketPairColorizationOptions.independentColorPoolPerBracketType,R=new T;for(const M of I){if(!M.closingBracketRange)continue;const K=E&&M.range.equalsRange(E);if(!K&&!a.includeInactive)continue;const Z=R.getInlineClassName(M.nestingLevel,M.nestingLevelOfEqualBracketType,O)+(a.highlightActive&&K?" "+R.activeClassName:""),te=M.openingBracketRange.getStartPosition(),de=M.closingBracketRange.getStartPosition(),ge=a.horizontalGuides===P.s6.Enabled||a.horizontalGuides===P.s6.EnabledForActive&&K;if(M.range.startLineNumber===M.range.endLineNumber){N&&ge&&D[M.range.startLineNumber-_].push(new P.UO(-1,M.openingBracketRange.getEndPosition().column,Z,new P.vW(!1,de.column),-1,-1));continue}const le=this.getVisibleColumnFromPosition(de),se=this.getVisibleColumnFromPosition(M.openingBracketRange.getStartPosition()),X=Math.min(se,le,M.minVisibleColumnIndentation+1);let re=!1;d.LC(this.textModel.getLineContent(M.closingBracketRange.startLineNumber))<M.closingBracketRange.startColumn-1&&(re=!0);const oe=Math.max(te.lineNumber,_),q=Math.min(de.lineNumber,y),ae=re?1:0;for(let me=oe;me<q+ae;me++)D[me-_].push(new P.UO(X,-1,Z,null,me===te.lineNumber?te.column:-1,me===de.lineNumber?de.column:-1));ge&&(te.lineNumber>=_&&se>X&&D[te.lineNumber-_].push(new P.UO(X,-1,Z,new P.vW(!1,te.column),-1,-1)),de.lineNumber<=y&&le>X&&D[de.lineNumber-_].push(new P.UO(X,-1,Z,new P.vW(!re,de.column),-1,-1)))}for(const M of D)M.sort((K,Z)=>K.visibleColumn-Z.visibleColumn);return D}getVisibleColumnFromPosition(_){return j.i.visibleColumnFromColumn(this.textModel.getLineContent(_.lineNumber),_.column,this.textModel.getOptions().tabSize)+1}getLinesIndentGuides(_,y){this.assertNotDisposed();const u=this.textModel.getLineCount();if(_<1||_>u)throw new Error("Illegal value for startLineNumber");if(y<1||y>u)throw new Error("Illegal value for endLineNumber");const a=this.textModel.getOptions(),b=this.getLanguageConfiguration(this.textModel.getLanguageId()).foldingRules,D=Boolean(b&&b.offSide),N=new Array(y-_+1);let I=-2,E=-1,O=-2,R=-1;for(let M=_;M<=y;M++){const K=M-_,Z=this._computeIndentLevel(M-1);if(Z>=0){I=M-1,E=Z,N[K]=Math.ceil(Z/a.indentSize);continue}if(I===-2){I=-1,E=-1;for(let te=M-2;te>=0;te--){const de=this._computeIndentLevel(te);if(de>=0){I=te,E=de;break}}}if(O!==-1&&(O===-2||O<M-1)){O=-1,R=-1;for(let te=M;te<u;te++){const de=this._computeIndentLevel(te);if(de>=0){O=te,R=de;break}}}N[K]=this._getIndentLevelForWhitespaceLine(D,E,R)}return N}_getIndentLevelForWhitespaceLine(_,y,u){const a=this.textModel.getOptions();return y===-1||u===-1?0:y<u?1+Math.floor(y/a.indentSize):y===u||_?Math.ceil(u/a.indentSize):1+Math.floor(u/a.indentSize)}}class T{constructor(){this.activeClassName="indent-active"}getInlineClassName(_,y,u){return this.getInlineClassNameOfLevel(u?y:_)}getInlineClassNameOfLevel(_){return`bracket-indent-guide lvl-${_%30}`}}},88688:function(nt,xe,l){"use strict";l.d(xe,{Ck:function(){return W},oQ:function(){return j}});var C=l(84553),d=l(96796);class j{constructor(P){this.values=P,this.prefixSum=new Uint32Array(P.length),this.prefixSumValidIndex=new Int32Array(1),this.prefixSumValidIndex[0]=-1}insertValues(P,A){P=(0,d.A)(P);const T=this.values,S=this.prefixSum,_=A.length;return _===0?!1:(this.values=new Uint32Array(T.length+_),this.values.set(T.subarray(0,P),0),this.values.set(T.subarray(P),P+_),this.values.set(A,P),P-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=P-1),this.prefixSum=new Uint32Array(this.values.length),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(S.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}setValue(P,A){return P=(0,d.A)(P),A=(0,d.A)(A),this.values[P]===A?!1:(this.values[P]=A,P-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=P-1),!0)}removeValues(P,A){P=(0,d.A)(P),A=(0,d.A)(A);const T=this.values,S=this.prefixSum;if(P>=T.length)return!1;const _=T.length-P;return A>=_&&(A=_),A===0?!1:(this.values=new Uint32Array(T.length-A),this.values.set(T.subarray(0,P),0),this.values.set(T.subarray(P+A),P),this.prefixSum=new Uint32Array(this.values.length),P-1<this.prefixSumValidIndex[0]&&(this.prefixSumValidIndex[0]=P-1),this.prefixSumValidIndex[0]>=0&&this.prefixSum.set(S.subarray(0,this.prefixSumValidIndex[0]+1)),!0)}getTotalSum(){return this.values.length===0?0:this._getPrefixSum(this.values.length-1)}getPrefixSum(P){return P<0?0:(P=(0,d.A)(P),this._getPrefixSum(P))}_getPrefixSum(P){if(P<=this.prefixSumValidIndex[0])return this.prefixSum[P];let A=this.prefixSumValidIndex[0]+1;A===0&&(this.prefixSum[0]=this.values[0],A++),P>=this.values.length&&(P=this.values.length-1);for(let T=A;T<=P;T++)this.prefixSum[T]=this.prefixSum[T-1]+this.values[T];return this.prefixSumValidIndex[0]=Math.max(this.prefixSumValidIndex[0],P),this.prefixSum[P]}getIndexOf(P){P=Math.floor(P),this.getTotalSum();let A=0,T=this.values.length-1,S=0,_=0,y=0;for(;A<=T;)if(S=A+(T-A)/2|0,_=this.prefixSum[S],y=_-this.values[S],P<y)T=S-1;else if(P>=_)A=S+1;else break;return new L(S,P-y)}}class W{constructor(P){this._values=P,this._isValid=!1,this._validEndIndex=-1,this._prefixSum=[],this._indexBySum=[]}getTotalSum(){return this._ensureValid(),this._indexBySum.length}getPrefixSum(P){return this._ensureValid(),P===0?0:this._prefixSum[P-1]}getIndexOf(P){this._ensureValid();const A=this._indexBySum[P],T=A>0?this._prefixSum[A-1]:0;return new L(A,P-T)}removeValues(P,A){this._values.splice(P,A),this._invalidate(P)}insertValues(P,A){this._values=(0,C.Zv)(this._values,P,A),this._invalidate(P)}_invalidate(P){this._isValid=!1,this._validEndIndex=Math.min(this._validEndIndex,P-1)}_ensureValid(){if(!this._isValid){for(let P=this._validEndIndex+1,A=this._values.length;P<A;P++){const T=this._values[P],S=P>0?this._prefixSum[P-1]:0;this._prefixSum[P]=S+T;for(let _=0;_<T;_++)this._indexBySum[S+_]=P}this._prefixSum.length=this._values.length,this._indexBySum.length=this._prefixSum[this._prefixSum.length-1],this._isValid=!0,this._validEndIndex=this._values.length-1}}setValue(P,A){this._values[P]!==A&&(this._values[P]=A,this._invalidate(P))}}class L{constructor(P,A){this.index=P,this.remainder=A,this._prefixSumIndexOfResultBrand=void 0,this.index=P,this.remainder=A}}},75357:function(nt,xe,l){"use strict";l.d(xe,{HS:function(){return Ln},qx:function(){return hi},yO:function(){return As}});var C=l(84553),d=l(15304),j=l(708),W=l(60218),L=l(94214),z=l(22297),P=l(92770),A=l(9357),T=l(69460),S=l(67120),_=l(14481),y=l(17122),u=l(73209),a=l(49038),b=l(13634),D=l(6276);class N{constructor(k,F,m,B){this.range=k,this.nestingLevel=F,this.nestingLevelOfEqualBracketType=m,this.isInvalid=B}}class I{constructor(k,F,m,B,ee,fe){this.range=k,this.openingBracketRange=F,this.closingBracketRange=m,this.nestingLevel=B,this.nestingLevelOfEqualBracketType=ee,this.bracketPairNode=fe}get openingBracketInfo(){return this.bracketPairNode.openingBracket.bracketInfo}}class E extends I{constructor(k,F,m,B,ee,fe,Ie){super(k,F,m,B,ee,fe),this.minVisibleColumnIndentation=Ie}}var O=l(12810),R=l(11313),M=l(49935),K=l(70143),Z=l(70252),te=l(408);class de extends L.JT{constructor(k,F){if(super(),this.textModel=k,this.getLanguageConfiguration=F,this.didChangeEmitter=new W.Q5,this.denseKeyProvider=new Z.FE,this.brackets=new R.Z(this.denseKeyProvider,this.getLanguageConfiguration),this.onDidChange=this.didChangeEmitter.event,k.tokenization.backgroundTokenizationState===0){const m=this.brackets.getSingleLanguageBracketTokens(this.textModel.getLanguageId()),B=new te.g(this.textModel.getValue(),m);this.initialAstWithoutTokens=(0,K.w)(B,[],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens}else k.tokenization.backgroundTokenizationState===2?(this.initialAstWithoutTokens=void 0,this.astWithTokens=this.parseDocumentFromTextBuffer([],void 0,!1)):k.tokenization.backgroundTokenizationState===1&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer([],void 0,!0),this.astWithTokens=this.initialAstWithoutTokens)}didLanguageChange(k){return this.brackets.didLanguageChange(k)}handleDidChangeBackgroundTokenizationState(){if(this.textModel.tokenization.backgroundTokenizationState===2){const k=this.initialAstWithoutTokens===void 0;this.initialAstWithoutTokens=void 0,k||this.didChangeEmitter.fire()}}handleDidChangeTokens({ranges:k}){const F=k.map(m=>new O.Q((0,M.Hg)(m.fromLineNumber-1,0),(0,M.Hg)(m.toLineNumber,0),(0,M.Hg)(m.toLineNumber-m.fromLineNumber+1,0)));this.astWithTokens=this.parseDocumentFromTextBuffer(F,this.astWithTokens,!1),this.initialAstWithoutTokens||this.didChangeEmitter.fire()}handleContentChanged(k){const F=k.changes.map(m=>{const B=_.e.lift(m.range);return new O.Q((0,M.PZ)(B.getStartPosition()),(0,M.PZ)(B.getEndPosition()),(0,M.oR)(m.text))}).reverse();this.astWithTokens=this.parseDocumentFromTextBuffer(F,this.astWithTokens,!1),this.initialAstWithoutTokens&&(this.initialAstWithoutTokens=this.parseDocumentFromTextBuffer(F,this.initialAstWithoutTokens,!1))}parseDocumentFromTextBuffer(k,F,m){const ee=F,fe=new te.xH(this.textModel,this.brackets);return(0,K.w)(fe,k,ee,m)}getBracketsInRange(k){const F=(0,M.Hg)(k.startLineNumber-1,k.startColumn-1),m=(0,M.Hg)(k.endLineNumber-1,k.endColumn-1),B=new Array,ee=this.initialAstWithoutTokens||this.astWithTokens;return se(ee,M.xl,ee.length,F,m,B,0,new Map),B}getBracketPairsInRange(k,F){const m=new Array,B=(0,M.PZ)(k.getStartPosition()),ee=(0,M.PZ)(k.getEndPosition()),fe=this.initialAstWithoutTokens||this.astWithTokens,Ie=new X(m,F,this.textModel);return re(fe,M.xl,fe.length,B,ee,Ie,0,new Map),m}getFirstBracketAfter(k){const F=this.initialAstWithoutTokens||this.astWithTokens;return le(F,M.xl,F.length,(0,M.PZ)(k))}getFirstBracketBefore(k){const F=this.initialAstWithoutTokens||this.astWithTokens;return ge(F,M.xl,F.length,(0,M.PZ)(k))}}function ge(we,k,F,m){if(we.kind===4||we.kind===2){const B=[];for(const ee of we.children)F=(0,M.Ii)(k,ee.length),B.push({nodeOffsetStart:k,nodeOffsetEnd:F}),k=F;for(let ee=B.length-1;ee>=0;ee--){const{nodeOffsetStart:fe,nodeOffsetEnd:Ie}=B[ee];if((0,M.VR)(fe,m)){const Te=ge(we.children[ee],fe,Ie,m);if(Te)return Te}}return null}else{if(we.kind===3)return null;if(we.kind===1){const B=(0,M.Qw)(k,F);return{bracketInfo:we.bracketInfo,range:B}}}return null}function le(we,k,F,m){if(we.kind===4||we.kind===2){for(const B of we.children){if(F=(0,M.Ii)(k,B.length),(0,M.VR)(m,F)){const ee=le(B,k,F,m);if(ee)return ee}k=F}return null}else{if(we.kind===3)return null;if(we.kind===1){const B=(0,M.Qw)(k,F);return{bracketInfo:we.bracketInfo,range:B}}}return null}function se(we,k,F,m,B,ee,fe,Ie){if(!(fe>200)){if(we.kind===4)for(const Te of we.children)F=(0,M.Ii)(k,Te.length),(0,M.By)(k,B)&&(0,M.Zq)(F,m)&&se(Te,k,F,m,B,ee,fe,Ie),k=F;else if(we.kind===2){let Te=0;if(Ie){let Je=Ie.get(we.openingBracket.text);Je===void 0&&(Je=0),Te=Je,Je++,Ie.set(we.openingBracket.text,Je)}{const Je=we.openingBracket;if(F=(0,M.Ii)(k,Je.length),(0,M.By)(k,B)&&(0,M.Zq)(F,m)){const it=(0,M.Qw)(k,F);ee.push(new N(it,fe,Te,!we.closingBracket))}k=F}if(we.child){const Je=we.child;F=(0,M.Ii)(k,Je.length),(0,M.By)(k,B)&&(0,M.Zq)(F,m)&&se(Je,k,F,m,B,ee,fe+1,Ie),k=F}if(we.closingBracket){const Je=we.closingBracket;if(F=(0,M.Ii)(k,Je.length),(0,M.By)(k,B)&&(0,M.Zq)(F,m)){const it=(0,M.Qw)(k,F);ee.push(new N(it,fe,Te,!1))}k=F}Ie==null||Ie.set(we.openingBracket.text,Te)}else if(we.kind===3){const Te=(0,M.Qw)(k,F);ee.push(new N(Te,fe-1,0,!0))}else if(we.kind===1){const Te=(0,M.Qw)(k,F);ee.push(new N(Te,fe-1,0,!1))}}}class X{constructor(k,F,m){this.result=k,this.includeMinIndentation=F,this.textModel=m}}function re(we,k,F,m,B,ee,fe,Ie){var Te;if(!(fe>200))if(we.kind===2){let Je=0;if(Ie){let It=Ie.get(we.openingBracket.text);It===void 0&&(It=0),Je=It,It++,Ie.set(we.openingBracket.text,It)}const it=(0,M.Ii)(k,we.openingBracket.length);let Ct=-1;if(ee.includeMinIndentation&&(Ct=we.computeMinIndentation(k,ee.textModel)),ee.result.push(new E((0,M.Qw)(k,F),(0,M.Qw)(k,it),we.closingBracket?(0,M.Qw)((0,M.Ii)(it,((Te=we.child)===null||Te===void 0?void 0:Te.length)||M.xl),F):void 0,fe,Je,we,Ct)),k=it,we.child){const It=we.child;F=(0,M.Ii)(k,It.length),(0,M.By)(k,B)&&(0,M.Zq)(F,m)&&re(It,k,F,m,B,ee,fe+1,Ie)}Ie==null||Ie.set(we.openingBracket.text,Je)}else{let Je=k;for(const it of we.children){const Ct=Je;Je=(0,M.Ii)(Je,it.length),(0,M.By)(Ct,B)&&(0,M.By)(m,Je)&&re(it,Ct,Je,m,B,ee,fe,Ie)}}}var ne=l(26743),U=l(77372);class oe extends L.JT{constructor(k,F){super(),this.textModel=k,this.languageConfigurationService=F,this.bracketPairsTree=this._register(new L.XK),this.onDidChangeEmitter=new W.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.bracketsRequested=!1,this._register(this.languageConfigurationService.onDidChange(m=>{var B;(!m.languageId||((B=this.bracketPairsTree.value)===null||B===void 0?void 0:B.object.didLanguageChange(m.languageId)))&&(this.bracketPairsTree.clear(),this.updateBracketPairsTree())}))}get canBuildAST(){return this.textModel.getValueLength()<=5e6}handleDidChangeOptions(k){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeLanguage(k){this.bracketPairsTree.clear(),this.updateBracketPairsTree()}handleDidChangeContent(k){var F;(F=this.bracketPairsTree.value)===null||F===void 0||F.object.handleContentChanged(k)}handleDidChangeBackgroundTokenizationState(){var k;(k=this.bracketPairsTree.value)===null||k===void 0||k.object.handleDidChangeBackgroundTokenizationState()}handleDidChangeTokens(k){var F;(F=this.bracketPairsTree.value)===null||F===void 0||F.object.handleDidChangeTokens(k)}updateBracketPairsTree(){if(this.bracketsRequested&&this.canBuildAST){if(!this.bracketPairsTree.value){const k=new L.SL;this.bracketPairsTree.value=q(k.add(new de(this.textModel,F=>this.languageConfigurationService.getLanguageConfiguration(F))),k),k.add(this.bracketPairsTree.value.object.onDidChange(F=>this.onDidChangeEmitter.fire(F))),this.onDidChangeEmitter.fire()}}else this.bracketPairsTree.value&&(this.bracketPairsTree.clear(),this.onDidChangeEmitter.fire())}getBracketPairsInRange(k){var F;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((F=this.bracketPairsTree.value)===null||F===void 0?void 0:F.object.getBracketPairsInRange(k,!1))||[]}getBracketPairsInRangeWithMinIndentation(k){var F;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((F=this.bracketPairsTree.value)===null||F===void 0?void 0:F.object.getBracketPairsInRange(k,!0))||[]}getBracketsInRange(k){var F;return this.bracketsRequested=!0,this.updateBracketPairsTree(),((F=this.bracketPairsTree.value)===null||F===void 0?void 0:F.object.getBracketsInRange(k))||[]}findMatchingBracketUp(k,F,m){const B=this.textModel.validatePosition(F),ee=this.textModel.getLanguageIdAtPosition(B.lineNumber,B.column);if(this.canBuildAST){const fe=this.languageConfigurationService.getLanguageConfiguration(ee).bracketsNew.getClosingBracketInfo(k);if(!fe)return null;const Ie=(0,C.dF)(this.getBracketPairsInRange(_.e.fromPositions(F,F))||[],Te=>fe.closes(Te.openingBracketInfo));return Ie?Ie.openingBracketRange:null}else{const fe=k.toLowerCase(),Ie=this.languageConfigurationService.getLanguageConfiguration(ee).brackets;if(!Ie)return null;const Te=Ie.textIsBracket[fe];return Te?ke(this._findMatchingBracketUp(Te,B,ae(m))):null}}matchBracket(k,F){if(this.canBuildAST){const m=(0,C.jV)(this.getBracketPairsInRange(_.e.fromPositions(k,k)).filter(B=>B.closingBracketRange!==void 0&&(B.openingBracketRange.containsPosition(k)||B.closingBracketRange.containsPosition(k))),(0,C.tT)(B=>B.openingBracketRange.containsPosition(k)?B.openingBracketRange:B.closingBracketRange,_.e.compareRangesUsingStarts));return m?[m.openingBracketRange,m.closingBracketRange]:null}else{const m=ae(F);return this._matchBracket(this.textModel.validatePosition(k),m)}}_establishBracketSearchOffsets(k,F,m,B){const ee=F.getCount(),fe=F.getLanguageId(B);let Ie=Math.max(0,k.column-1-m.maxBracketLength);for(let Je=B-1;Je>=0;Je--){const it=F.getEndOffset(Je);if(it<=Ie)break;if((0,ne.Bu)(F.getStandardTokenType(Je))||F.getLanguageId(Je)!==fe){Ie=it;break}}let Te=Math.min(F.getLineContent().length,k.column-1+m.maxBracketLength);for(let Je=B+1;Je<ee;Je++){const it=F.getStartOffset(Je);if(it>=Te)break;if((0,ne.Bu)(F.getStandardTokenType(Je))||F.getLanguageId(Je)!==fe){Te=it;break}}return{searchStartOffset:Ie,searchEndOffset:Te}}_matchBracket(k,F){const m=k.lineNumber,B=this.textModel.tokenization.getLineTokens(m),ee=this.textModel.getLineContent(m),fe=B.findTokenIndexAtOffset(k.column-1);if(fe<0)return null;const Ie=this.languageConfigurationService.getLanguageConfiguration(B.getLanguageId(fe)).brackets;if(Ie&&!(0,ne.Bu)(B.getStandardTokenType(fe))){let{searchStartOffset:Te,searchEndOffset:Je}=this._establishBracketSearchOffsets(k,B,Ie,fe),it=null;for(;;){const Ct=U.Vr.findNextBracketInRange(Ie.forwardRegex,m,ee,Te,Je);if(!Ct)break;if(Ct.startColumn<=k.column&&k.column<=Ct.endColumn){const It=ee.substring(Ct.startColumn-1,Ct.endColumn-1).toLowerCase(),Ut=this._matchFoundBracket(Ct,Ie.textIsBracket[It],Ie.textIsOpenBracket[It],F);if(Ut){if(Ut instanceof me)return null;it=Ut}}Te=Ct.endColumn-1}if(it)return it}if(fe>0&&B.getStartOffset(fe)===k.column-1){const Te=fe-1,Je=this.languageConfigurationService.getLanguageConfiguration(B.getLanguageId(Te)).brackets;if(Je&&!(0,ne.Bu)(B.getStandardTokenType(Te))){const{searchStartOffset:it,searchEndOffset:Ct}=this._establishBracketSearchOffsets(k,B,Je,Te),It=U.Vr.findPrevBracketInRange(Je.reversedRegex,m,ee,it,Ct);if(It&&It.startColumn<=k.column&&k.column<=It.endColumn){const Ut=ee.substring(It.startColumn-1,It.endColumn-1).toLowerCase(),sn=this._matchFoundBracket(It,Je.textIsBracket[Ut],Je.textIsOpenBracket[Ut],F);if(sn)return sn instanceof me?null:sn}}}return null}_matchFoundBracket(k,F,m,B){if(!F)return null;const ee=m?this._findMatchingBracketDown(F,k.getEndPosition(),B):this._findMatchingBracketUp(F,k.getStartPosition(),B);return ee?ee instanceof me?ee:[k,ee]:null}_findMatchingBracketUp(k,F,m){const B=k.languageId,ee=k.reversedRegex;let fe=-1,Ie=0;const Te=(Je,it,Ct,It)=>{for(;;){if(m&&++Ie%100===0&&!m())return me.INSTANCE;const Ut=U.Vr.findPrevBracketInRange(ee,Je,it,Ct,It);if(!Ut)break;const sn=it.substring(Ut.startColumn-1,Ut.endColumn-1).toLowerCase();if(k.isOpen(sn)?fe++:k.isClose(sn)&&fe--,fe===0)return Ut;It=Ut.startColumn-1}return null};for(let Je=F.lineNumber;Je>=1;Je--){const it=this.textModel.tokenization.getLineTokens(Je),Ct=it.getCount(),It=this.textModel.getLineContent(Je);let Ut=Ct-1,sn=It.length,tn=It.length;Je===F.lineNumber&&(Ut=it.findTokenIndexAtOffset(F.column-1),sn=F.column-1,tn=F.column-1);let rn=!0;for(;Ut>=0;Ut--){const En=it.getLanguageId(Ut)===B&&!(0,ne.Bu)(it.getStandardTokenType(Ut));if(En)rn?sn=it.getStartOffset(Ut):(sn=it.getStartOffset(Ut),tn=it.getEndOffset(Ut));else if(rn&&sn!==tn){const Fn=Te(Je,It,sn,tn);if(Fn)return Fn}rn=En}if(rn&&sn!==tn){const En=Te(Je,It,sn,tn);if(En)return En}}return null}_findMatchingBracketDown(k,F,m){const B=k.languageId,ee=k.forwardRegex;let fe=1,Ie=0;const Te=(it,Ct,It,Ut)=>{for(;;){if(m&&++Ie%100===0&&!m())return me.INSTANCE;const sn=U.Vr.findNextBracketInRange(ee,it,Ct,It,Ut);if(!sn)break;const tn=Ct.substring(sn.startColumn-1,sn.endColumn-1).toLowerCase();if(k.isOpen(tn)?fe++:k.isClose(tn)&&fe--,fe===0)return sn;It=sn.endColumn-1}return null},Je=this.textModel.getLineCount();for(let it=F.lineNumber;it<=Je;it++){const Ct=this.textModel.tokenization.getLineTokens(it),It=Ct.getCount(),Ut=this.textModel.getLineContent(it);let sn=0,tn=0,rn=0;it===F.lineNumber&&(sn=Ct.findTokenIndexAtOffset(F.column-1),tn=F.column-1,rn=F.column-1);let En=!0;for(;sn<It;sn++){const Fn=Ct.getLanguageId(sn)===B&&!(0,ne.Bu)(Ct.getStandardTokenType(sn));if(Fn)En||(tn=Ct.getStartOffset(sn)),rn=Ct.getEndOffset(sn);else if(En&&tn!==rn){const Nn=Te(it,Ut,tn,rn);if(Nn)return Nn}En=Fn}if(En&&tn!==rn){const Fn=Te(it,Ut,tn,rn);if(Fn)return Fn}}return null}findPrevBracket(k){var F;const m=this.textModel.validatePosition(k);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((F=this.bracketPairsTree.value)===null||F===void 0?void 0:F.object.getFirstBracketBefore(m))||null;let B=null,ee=null,fe=null;for(let Ie=m.lineNumber;Ie>=1;Ie--){const Te=this.textModel.tokenization.getLineTokens(Ie),Je=Te.getCount(),it=this.textModel.getLineContent(Ie);let Ct=Je-1,It=it.length,Ut=it.length;if(Ie===m.lineNumber){Ct=Te.findTokenIndexAtOffset(m.column-1),It=m.column-1,Ut=m.column-1;const tn=Te.getLanguageId(Ct);B!==tn&&(B=tn,ee=this.languageConfigurationService.getLanguageConfiguration(B).brackets,fe=this.languageConfigurationService.getLanguageConfiguration(B).bracketsNew)}let sn=!0;for(;Ct>=0;Ct--){const tn=Te.getLanguageId(Ct);if(B!==tn){if(ee&&fe&&sn&&It!==Ut){const En=U.Vr.findPrevBracketInRange(ee.reversedRegex,Ie,it,It,Ut);if(En)return this._toFoundBracket(fe,En);sn=!1}B=tn,ee=this.languageConfigurationService.getLanguageConfiguration(B).brackets,fe=this.languageConfigurationService.getLanguageConfiguration(B).bracketsNew}const rn=!!ee&&!(0,ne.Bu)(Te.getStandardTokenType(Ct));if(rn)sn?It=Te.getStartOffset(Ct):(It=Te.getStartOffset(Ct),Ut=Te.getEndOffset(Ct));else if(fe&&ee&&sn&&It!==Ut){const En=U.Vr.findPrevBracketInRange(ee.reversedRegex,Ie,it,It,Ut);if(En)return this._toFoundBracket(fe,En)}sn=rn}if(fe&&ee&&sn&&It!==Ut){const tn=U.Vr.findPrevBracketInRange(ee.reversedRegex,Ie,it,It,Ut);if(tn)return this._toFoundBracket(fe,tn)}}return null}findNextBracket(k){var F;const m=this.textModel.validatePosition(k);if(this.canBuildAST)return this.bracketsRequested=!0,this.updateBracketPairsTree(),((F=this.bracketPairsTree.value)===null||F===void 0?void 0:F.object.getFirstBracketAfter(m))||null;const B=this.textModel.getLineCount();let ee=null,fe=null,Ie=null;for(let Te=m.lineNumber;Te<=B;Te++){const Je=this.textModel.tokenization.getLineTokens(Te),it=Je.getCount(),Ct=this.textModel.getLineContent(Te);let It=0,Ut=0,sn=0;if(Te===m.lineNumber){It=Je.findTokenIndexAtOffset(m.column-1),Ut=m.column-1,sn=m.column-1;const rn=Je.getLanguageId(It);ee!==rn&&(ee=rn,fe=this.languageConfigurationService.getLanguageConfiguration(ee).brackets,Ie=this.languageConfigurationService.getLanguageConfiguration(ee).bracketsNew)}let tn=!0;for(;It<it;It++){const rn=Je.getLanguageId(It);if(ee!==rn){if(Ie&&fe&&tn&&Ut!==sn){const Fn=U.Vr.findNextBracketInRange(fe.forwardRegex,Te,Ct,Ut,sn);if(Fn)return this._toFoundBracket(Ie,Fn);tn=!1}ee=rn,fe=this.languageConfigurationService.getLanguageConfiguration(ee).brackets,Ie=this.languageConfigurationService.getLanguageConfiguration(ee).bracketsNew}const En=!!fe&&!(0,ne.Bu)(Je.getStandardTokenType(It));if(En)tn||(Ut=Je.getStartOffset(It)),sn=Je.getEndOffset(It);else if(Ie&&fe&&tn&&Ut!==sn){const Fn=U.Vr.findNextBracketInRange(fe.forwardRegex,Te,Ct,Ut,sn);if(Fn)return this._toFoundBracket(Ie,Fn)}tn=En}if(Ie&&fe&&tn&&Ut!==sn){const rn=U.Vr.findNextBracketInRange(fe.forwardRegex,Te,Ct,Ut,sn);if(rn)return this._toFoundBracket(Ie,rn)}}return null}findEnclosingBrackets(k,F){const m=this.textModel.validatePosition(k);if(this.canBuildAST){const Ut=_.e.fromPositions(m),sn=(0,C.dF)(this.getBracketPairsInRange(_.e.fromPositions(m,m)),tn=>tn.closingBracketRange!==void 0&&tn.range.strictContainsRange(Ut));return sn?[sn.openingBracketRange,sn.closingBracketRange]:null}const B=ae(F),ee=this.textModel.getLineCount(),fe=new Map;let Ie=[];const Te=(Ut,sn)=>{if(!fe.has(Ut)){const tn=[];for(let rn=0,En=sn?sn.brackets.length:0;rn<En;rn++)tn[rn]=0;fe.set(Ut,tn)}Ie=fe.get(Ut)};let Je=0;const it=(Ut,sn,tn,rn,En)=>{for(;;){if(B&&++Je%100===0&&!B())return me.INSTANCE;const Fn=U.Vr.findNextBracketInRange(Ut.forwardRegex,sn,tn,rn,En);if(!Fn)break;const Nn=tn.substring(Fn.startColumn-1,Fn.endColumn-1).toLowerCase(),ni=Ut.textIsBracket[Nn];if(ni&&(ni.isOpen(Nn)?Ie[ni.index]++:ni.isClose(Nn)&&Ie[ni.index]--,Ie[ni.index]===-1))return this._matchFoundBracket(Fn,ni,!1,B);rn=Fn.endColumn-1}return null};let Ct=null,It=null;for(let Ut=m.lineNumber;Ut<=ee;Ut++){const sn=this.textModel.tokenization.getLineTokens(Ut),tn=sn.getCount(),rn=this.textModel.getLineContent(Ut);let En=0,Fn=0,Nn=0;if(Ut===m.lineNumber){En=sn.findTokenIndexAtOffset(m.column-1),Fn=m.column-1,Nn=m.column-1;const Ps=sn.getLanguageId(En);Ct!==Ps&&(Ct=Ps,It=this.languageConfigurationService.getLanguageConfiguration(Ct).brackets,Te(Ct,It))}let ni=!0;for(;En<tn;En++){const Ps=sn.getLanguageId(En);if(Ct!==Ps){if(It&&ni&&Fn!==Nn){const js=it(It,Ut,rn,Fn,Nn);if(js)return ke(js);ni=!1}Ct=Ps,It=this.languageConfigurationService.getLanguageConfiguration(Ct).brackets,Te(Ct,It)}const no=!!It&&!(0,ne.Bu)(sn.getStandardTokenType(En));if(no)ni||(Fn=sn.getStartOffset(En)),Nn=sn.getEndOffset(En);else if(It&&ni&&Fn!==Nn){const js=it(It,Ut,rn,Fn,Nn);if(js)return ke(js)}ni=no}if(It&&ni&&Fn!==Nn){const Ps=it(It,Ut,rn,Fn,Nn);if(Ps)return ke(Ps)}}return null}_toFoundBracket(k,F){if(!F)return null;let m=this.textModel.getValueInRange(F);m=m.toLowerCase();const B=k.getBracketInfo(m);return B?{range:F,bracketInfo:B}:null}}function q(we,k){return{object:we,dispose:()=>k==null?void 0:k.dispose()}}function ae(we){if(typeof we=="undefined")return()=>!0;{const k=Date.now();return()=>Date.now()-k<=we}}class me{constructor(){this._searchCanceledBrand=void 0}}me.INSTANCE=new me;function ke(we){return we instanceof me?null:we}var H=l(66658),ut=l(16597);class Ke extends L.JT{constructor(k){super(),this.textModel=k,this.colorProvider=new He,this.onDidChangeEmitter=new W.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.colorizationOptions=k.getOptions().bracketPairColorizationOptions,this._register(k.bracketPairs.onDidChange(F=>{this.onDidChangeEmitter.fire()}))}handleDidChangeOptions(k){this.colorizationOptions=this.textModel.getOptions().bracketPairColorizationOptions}getDecorationsInRange(k,F,m){if(F===void 0)return[];if(!this.colorizationOptions.enabled)return[];const B=new Array,ee=this.textModel.bracketPairs.getBracketsInRange(k);for(const fe of ee)B.push({id:`bracket${fe.range.toString()}-${fe.nestingLevel}`,options:{description:"BracketPairColorization",inlineClassName:this.colorProvider.getInlineClassName(fe,this.colorizationOptions.independentColorPoolPerBracketType)},ownerId:0,range:fe.range});return B}getAllDecorations(k,F){return k===void 0?[]:this.colorizationOptions.enabled?this.getDecorationsInRange(new _.e(1,1,this.textModel.getLineCount(),1),k,F):[]}}class He{constructor(){this.unexpectedClosingBracketClassName="unexpected-closing-bracket"}getInlineClassName(k,F){return k.isInvalid?this.unexpectedClosingBracketClassName:this.getInlineClassNameOfLevel(F?k.nestingLevelOfEqualBracketType:k.nestingLevel)}getInlineClassNameOfLevel(k){return`bracket-highlighting-${k%30}`}}(0,ut.Ic)((we,k)=>{const F=[H.zJ,H.Vs,H.CE,H.UP,H.r0,H.m1],m=new He;k.addRule(`.monaco-editor .${m.unexpectedClosingBracketClassName} { color: ${we.getColor(H.ts)}; }`);const B=F.map(ee=>we.getColor(ee)).filter(ee=>!!ee).filter(ee=>!ee.isTransparent());for(let ee=0;ee<30;ee++){const fe=B[ee%B.length];k.addRule(`.monaco-editor .${m.getInlineClassNameOfLevel(ee)} { color: ${fe}; }`)}});var ze=l(49652),Le=l(99087);class Ze{constructor(){this.spacesDiff=0,this.looksLikeAlignment=!1}}function Ge(we,k,F,m,B){B.spacesDiff=0,B.looksLikeAlignment=!1;let ee;for(ee=0;ee<k&&ee<m;ee++){const It=we.charCodeAt(ee),Ut=F.charCodeAt(ee);if(It!==Ut)break}let fe=0,Ie=0;for(let It=ee;It<k;It++)we.charCodeAt(It)===32?fe++:Ie++;let Te=0,Je=0;for(let It=ee;It<m;It++)F.charCodeAt(It)===32?Te++:Je++;if(fe>0&&Ie>0||Te>0&&Je>0)return;const it=Math.abs(Ie-Je),Ct=Math.abs(fe-Te);if(it===0){B.spacesDiff=Ct,Ct>0&&0<=Te-1&&Te-1<we.length&&Te<F.length&&F.charCodeAt(Te)!==32&&we.charCodeAt(Te-1)===32&&we.charCodeAt(we.length-1)===44&&(B.looksLikeAlignment=!0);return}if(Ct%it===0){B.spacesDiff=Ct/it;return}}function Fe(we,k,F){const m=Math.min(we.getLineCount(),1e4);let B=0,ee=0,fe="",Ie=0;const Te=[2,4,6,8,3,5,7],Je=8,it=[0,0,0,0,0,0,0,0,0],Ct=new Ze;for(let sn=1;sn<=m;sn++){const tn=we.getLineLength(sn),rn=we.getLineContent(sn),En=tn<=65536;let Fn=!1,Nn=0,ni=0,Ps=0;for(let js=0,Co=tn;js<Co;js++){const Wi=En?rn.charCodeAt(js):we.getLineCharCode(sn,js);if(Wi===9)Ps++;else if(Wi===32)ni++;else{Fn=!0,Nn=js;break}}if(!Fn||(Ps>0?B++:ni>1&&ee++,Ge(fe,Ie,rn,Nn,Ct),Ct.looksLikeAlignment&&!(F&&k===Ct.spacesDiff)))continue;const no=Ct.spacesDiff;no<=Je&&it[no]++,fe=rn,Ie=Nn}let It=F;B!==ee&&(It=B<ee);let Ut=k;if(It){let sn=It?0:.1*m;Te.forEach(tn=>{const rn=it[tn];rn>sn&&(sn=rn,Ut=tn)}),Ut===4&&it[4]>0&&it[2]>0&&it[2]>=it[4]/2&&(Ut=2)}return{insertSpaces:It,tabSize:Ut}}function ct(we){return(we.metadata&1)>>>0}function ft(we,k){we.metadata=we.metadata&254|k<<0}function Ot(we){return(we.metadata&2)>>>1===1}function Et(we,k){we.metadata=we.metadata&253|(k?1:0)<<1}function Vt(we){return(we.metadata&4)>>>2===1}function We(we,k){we.metadata=we.metadata&251|(k?1:0)<<2}function St(we){return(we.metadata&24)>>>3}function Re(we,k){we.metadata=we.metadata&231|k<<3}function Se(we){return(we.metadata&32)>>>5===1}function Ee(we,k){we.metadata=we.metadata&223|(k?1:0)<<5}class Be{constructor(k,F,m){this.metadata=0,this.parent=this,this.left=this,this.right=this,ft(this,1),this.start=F,this.end=m,this.delta=0,this.maxEnd=m,this.id=k,this.ownerId=0,this.options=null,We(this,!1),Re(this,1),Ee(this,!1),this.cachedVersionId=0,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=m,this.range=null,Et(this,!1)}reset(k,F,m,B){this.start=F,this.end=m,this.maxEnd=m,this.cachedVersionId=k,this.cachedAbsoluteStart=F,this.cachedAbsoluteEnd=m,this.range=B}setOptions(k){this.options=k;const F=this.options.className;We(this,F==="squiggly-error"||F==="squiggly-warning"||F==="squiggly-info"),Re(this,this.options.stickiness),Ee(this,this.options.collapseOnReplaceEdit)}setCachedOffsets(k,F,m){this.cachedVersionId!==m&&(this.range=null),this.cachedVersionId=m,this.cachedAbsoluteStart=k,this.cachedAbsoluteEnd=F}detach(){this.parent=null,this.left=null,this.right=null}}const Xe=new Be(null,0,0);Xe.parent=Xe,Xe.left=Xe,Xe.right=Xe,ft(Xe,0);class Pt{constructor(){this.root=Xe,this.requestNormalizeDelta=!1}intervalSearch(k,F,m,B,ee){return this.root===Xe?[]:wn(this,k,F,m,B,ee)}search(k,F,m){return this.root===Xe?[]:Wn(this,k,F,m)}collectNodesFromOwner(k){return _n(this,k)}collectNodesPostOrder(){return Rn(this)}insert(k){je(this,k),this._normalizeDeltaIfNecessary()}delete(k){vt(this,k),this._normalizeDeltaIfNecessary()}resolveNode(k,F){const m=k;let B=0;for(;k!==this.root;)k===k.parent.right&&(B+=k.parent.delta),k=k.parent;const ee=m.start+B,fe=m.end+B;m.setCachedOffsets(ee,fe,F)}acceptReplace(k,F,m,B){const ee=Mt(this,k,k+F);for(let fe=0,Ie=ee.length;fe<Ie;fe++){const Te=ee[fe];vt(this,Te)}this._normalizeDeltaIfNecessary(),Gt(this,k,k+F,m),this._normalizeDeltaIfNecessary();for(let fe=0,Ie=ee.length;fe<Ie;fe++){const Te=ee[fe];Te.start=Te.cachedAbsoluteStart,Te.end=Te.cachedAbsoluteEnd,at(Te,k,k+F,m,B),Te.maxEnd=Te.end,je(this,Te)}this._normalizeDeltaIfNecessary()}_normalizeDeltaIfNecessary(){!this.requestNormalizeDelta||(this.requestNormalizeDelta=!1,jt(this))}}function jt(we){let k=we.root,F=0;for(;k!==Xe;){if(k.left!==Xe&&!Ot(k.left)){k=k.left;continue}if(k.right!==Xe&&!Ot(k.right)){F+=k.delta,k=k.right;continue}k.start=F+k.start,k.end=F+k.end,k.delta=0,Wt(k),Et(k,!0),Et(k.left,!1),Et(k.right,!1),k===k.parent.right&&(F-=k.parent.delta),k=k.parent}Et(we.root,!1)}function pn(we,k,F,m){return we<F?!0:we>F||m===1?!1:m===2?!0:k}function at(we,k,F,m,B){const ee=St(we),fe=ee===0||ee===2,Ie=ee===1||ee===2,Te=F-k,Je=m,it=Math.min(Te,Je),Ct=we.start;let It=!1;const Ut=we.end;let sn=!1;k<=Ct&&Ut<=F&&Se(we)&&(we.start=k,It=!0,we.end=k,sn=!0);{const rn=B?1:Te>0?2:0;!It&&pn(Ct,fe,k,rn)&&(It=!0),!sn&&pn(Ut,Ie,k,rn)&&(sn=!0)}if(it>0&&!B){const rn=Te>Je?2:0;!It&&pn(Ct,fe,k+it,rn)&&(It=!0),!sn&&pn(Ut,Ie,k+it,rn)&&(sn=!0)}{const rn=B?1:0;!It&&pn(Ct,fe,F,rn)&&(we.start=k+Je,It=!0),!sn&&pn(Ut,Ie,F,rn)&&(we.end=k+Je,sn=!0)}const tn=Je-Te;It||(we.start=Math.max(0,Ct+tn)),sn||(we.end=Math.max(0,Ut+tn)),we.start>we.end&&(we.end=we.start)}function Mt(we,k,F){let m=we.root,B=0,ee=0,fe=0,Ie=0;const Te=[];let Je=0;for(;m!==Xe;){if(Ot(m)){Et(m.left,!1),Et(m.right,!1),m===m.parent.right&&(B-=m.parent.delta),m=m.parent;continue}if(!Ot(m.left)){if(ee=B+m.maxEnd,ee<k){Et(m,!0);continue}if(m.left!==Xe){m=m.left;continue}}if(fe=B+m.start,fe>F){Et(m,!0);continue}if(Ie=B+m.end,Ie>=k&&(m.setCachedOffsets(fe,Ie,0),Te[Je++]=m),Et(m,!0),m.right!==Xe&&!Ot(m.right)){B+=m.delta,m=m.right;continue}}return Et(we.root,!1),Te}function Gt(we,k,F,m){let B=we.root,ee=0,fe=0,Ie=0;const Te=m-(F-k);for(;B!==Xe;){if(Ot(B)){Et(B.left,!1),Et(B.right,!1),B===B.parent.right&&(ee-=B.parent.delta),Wt(B),B=B.parent;continue}if(!Ot(B.left)){if(fe=ee+B.maxEnd,fe<k){Et(B,!0);continue}if(B.left!==Xe){B=B.left;continue}}if(Ie=ee+B.start,Ie>F){B.start+=Te,B.end+=Te,B.delta+=Te,(B.delta<-1073741824||B.delta>1073741824)&&(we.requestNormalizeDelta=!0),Et(B,!0);continue}if(Et(B,!0),B.right!==Xe&&!Ot(B.right)){ee+=B.delta,B=B.right;continue}}Et(we.root,!1)}function _n(we,k){let F=we.root;const m=[];let B=0;for(;F!==Xe;){if(Ot(F)){Et(F.left,!1),Et(F.right,!1),F=F.parent;continue}if(F.left!==Xe&&!Ot(F.left)){F=F.left;continue}if(F.ownerId===k&&(m[B++]=F),Et(F,!0),F.right!==Xe&&!Ot(F.right)){F=F.right;continue}}return Et(we.root,!1),m}function Rn(we){let k=we.root;const F=[];let m=0;for(;k!==Xe;){if(Ot(k)){Et(k.left,!1),Et(k.right,!1),k=k.parent;continue}if(k.left!==Xe&&!Ot(k.left)){k=k.left;continue}if(k.right!==Xe&&!Ot(k.right)){k=k.right;continue}F[m++]=k,Et(k,!0)}return Et(we.root,!1),F}function Wn(we,k,F,m){let B=we.root,ee=0,fe=0,Ie=0;const Te=[];let Je=0;for(;B!==Xe;){if(Ot(B)){Et(B.left,!1),Et(B.right,!1),B===B.parent.right&&(ee-=B.parent.delta),B=B.parent;continue}if(B.left!==Xe&&!Ot(B.left)){B=B.left;continue}fe=ee+B.start,Ie=ee+B.end,B.setCachedOffsets(fe,Ie,m);let it=!0;if(k&&B.ownerId&&B.ownerId!==k&&(it=!1),F&&Vt(B)&&(it=!1),it&&(Te[Je++]=B),Et(B,!0),B.right!==Xe&&!Ot(B.right)){ee+=B.delta,B=B.right;continue}}return Et(we.root,!1),Te}function wn(we,k,F,m,B,ee){let fe=we.root,Ie=0,Te=0,Je=0,it=0;const Ct=[];let It=0;for(;fe!==Xe;){if(Ot(fe)){Et(fe.left,!1),Et(fe.right,!1),fe===fe.parent.right&&(Ie-=fe.parent.delta),fe=fe.parent;continue}if(!Ot(fe.left)){if(Te=Ie+fe.maxEnd,Te<k){Et(fe,!0);continue}if(fe.left!==Xe){fe=fe.left;continue}}if(Je=Ie+fe.start,Je>F){Et(fe,!0);continue}if(it=Ie+fe.end,it>=k){fe.setCachedOffsets(Je,it,ee);let Ut=!0;m&&fe.ownerId&&fe.ownerId!==m&&(Ut=!1),B&&Vt(fe)&&(Ut=!1),Ut&&(Ct[It++]=fe)}if(Et(fe,!0),fe.right!==Xe&&!Ot(fe.right)){Ie+=fe.delta,fe=fe.right;continue}}return Et(we.root,!1),Ct}function je(we,k){if(we.root===Xe)return k.parent=Xe,k.left=Xe,k.right=Xe,ft(k,0),we.root=k,we.root;qn(we,k),Xt(k.parent);let F=k;for(;F!==we.root&&ct(F.parent)===1;)if(F.parent===F.parent.parent.left){const m=F.parent.parent.right;ct(m)===1?(ft(F.parent,0),ft(m,0),ft(F.parent.parent,1),F=F.parent.parent):(F===F.parent.right&&(F=F.parent,yt(we,F)),ft(F.parent,0),ft(F.parent.parent,1),ye(we,F.parent.parent))}else{const m=F.parent.parent.left;ct(m)===1?(ft(F.parent,0),ft(m,0),ft(F.parent.parent,1),F=F.parent.parent):(F===F.parent.left&&(F=F.parent,ye(we,F)),ft(F.parent,0),ft(F.parent.parent,1),yt(we,F.parent.parent))}return ft(we.root,0),k}function qn(we,k){let F=0,m=we.root;const B=k.start,ee=k.end;for(;;)if(mn(B,ee,m.start+F,m.end+F)<0)if(m.left===Xe){k.start-=F,k.end-=F,k.maxEnd-=F,m.left=k;break}else m=m.left;else if(m.right===Xe){k.start-=F+m.delta,k.end-=F+m.delta,k.maxEnd-=F+m.delta,m.right=k;break}else F+=m.delta,m=m.right;k.parent=m,k.left=Xe,k.right=Xe,ft(k,1)}function vt(we,k){let F,m;if(k.left===Xe?(F=k.right,m=k,F.delta+=k.delta,(F.delta<-1073741824||F.delta>1073741824)&&(we.requestNormalizeDelta=!0),F.start+=k.delta,F.end+=k.delta):k.right===Xe?(F=k.left,m=k):(m=_e(k.right),F=m.right,F.start+=m.delta,F.end+=m.delta,F.delta+=m.delta,(F.delta<-1073741824||F.delta>1073741824)&&(we.requestNormalizeDelta=!0),m.start+=k.delta,m.end+=k.delta,m.delta=k.delta,(m.delta<-1073741824||m.delta>1073741824)&&(we.requestNormalizeDelta=!0)),m===we.root){we.root=F,ft(F,0),k.detach(),ht(),Wt(F),we.root.parent=Xe;return}const B=ct(m)===1;if(m===m.parent.left?m.parent.left=F:m.parent.right=F,m===k?F.parent=m.parent:(m.parent===k?F.parent=m:F.parent=m.parent,m.left=k.left,m.right=k.right,m.parent=k.parent,ft(m,ct(k)),k===we.root?we.root=m:k===k.parent.left?k.parent.left=m:k.parent.right=m,m.left!==Xe&&(m.left.parent=m),m.right!==Xe&&(m.right.parent=m)),k.detach(),B){Xt(F.parent),m!==k&&(Xt(m),Xt(m.parent)),ht();return}Xt(F),Xt(F.parent),m!==k&&(Xt(m),Xt(m.parent));let ee;for(;F!==we.root&&ct(F)===0;)F===F.parent.left?(ee=F.parent.right,ct(ee)===1&&(ft(ee,0),ft(F.parent,1),yt(we,F.parent),ee=F.parent.right),ct(ee.left)===0&&ct(ee.right)===0?(ft(ee,1),F=F.parent):(ct(ee.right)===0&&(ft(ee.left,0),ft(ee,1),ye(we,ee),ee=F.parent.right),ft(ee,ct(F.parent)),ft(F.parent,0),ft(ee.right,0),yt(we,F.parent),F=we.root)):(ee=F.parent.left,ct(ee)===1&&(ft(ee,0),ft(F.parent,1),ye(we,F.parent),ee=F.parent.left),ct(ee.left)===0&&ct(ee.right)===0?(ft(ee,1),F=F.parent):(ct(ee.left)===0&&(ft(ee.right,0),ft(ee,1),yt(we,ee),ee=F.parent.left),ft(ee,ct(F.parent)),ft(F.parent,0),ft(ee.left,0),ye(we,F.parent),F=we.root));ft(F,0),ht()}function _e(we){for(;we.left!==Xe;)we=we.left;return we}function ht(){Xe.parent=Xe,Xe.delta=0,Xe.start=0,Xe.end=0}function yt(we,k){const F=k.right;F.delta+=k.delta,(F.delta<-1073741824||F.delta>1073741824)&&(we.requestNormalizeDelta=!0),F.start+=k.delta,F.end+=k.delta,k.right=F.left,F.left!==Xe&&(F.left.parent=k),F.parent=k.parent,k.parent===Xe?we.root=F:k===k.parent.left?k.parent.left=F:k.parent.right=F,F.left=k,k.parent=F,Wt(k),Wt(F)}function ye(we,k){const F=k.left;k.delta-=F.delta,(k.delta<-1073741824||k.delta>1073741824)&&(we.requestNormalizeDelta=!0),k.start-=F.delta,k.end-=F.delta,k.left=F.right,F.right!==Xe&&(F.right.parent=k),F.parent=k.parent,k.parent===Xe?we.root=F:k===k.parent.right?k.parent.right=F:k.parent.left=F,F.right=k,k.parent=F,Wt(k),Wt(F)}function qe(we){let k=we.end;if(we.left!==Xe){const F=we.left.maxEnd;F>k&&(k=F)}if(we.right!==Xe){const F=we.right.maxEnd+we.delta;F>k&&(k=F)}return k}function Wt(we){we.maxEnd=qe(we)}function Xt(we){for(;we!==Xe;){const k=qe(we);if(we.maxEnd===k)return;we.maxEnd=k,we=we.parent}}function mn(we,k,F,m){return we===F?k-m:we-F}class bn{constructor(k,F){this.piece=k,this.color=F,this.size_left=0,this.lf_left=0,this.parent=this,this.left=this,this.right=this}next(){if(this.right!==ot)return Rt(this.right);let k=this;for(;k.parent!==ot&&k.parent.left!==k;)k=k.parent;return k.parent===ot?ot:k.parent}prev(){if(this.left!==ot)return kt(this.left);let k=this;for(;k.parent!==ot&&k.parent.right!==k;)k=k.parent;return k.parent===ot?ot:k.parent}detach(){this.parent=null,this.left=null,this.right=null}}const ot=new bn(null,0);ot.parent=ot,ot.left=ot,ot.right=ot,ot.color=0;function Rt(we){for(;we.left!==ot;)we=we.left;return we}function kt(we){for(;we.right!==ot;)we=we.right;return we}function wt(we){return we===ot?0:we.size_left+we.piece.length+wt(we.right)}function ln(we){return we===ot?0:we.lf_left+we.piece.lineFeedCnt+ln(we.right)}function _t(){ot.parent=ot}function di(we,k){const F=k.right;F.size_left+=k.size_left+(k.piece?k.piece.length:0),F.lf_left+=k.lf_left+(k.piece?k.piece.lineFeedCnt:0),k.right=F.left,F.left!==ot&&(F.left.parent=k),F.parent=k.parent,k.parent===ot?we.root=F:k.parent.left===k?k.parent.left=F:k.parent.right=F,F.left=k,k.parent=F}function Xn(we,k){const F=k.left;k.left=F.right,F.right!==ot&&(F.right.parent=k),F.parent=k.parent,k.size_left-=F.size_left+(F.piece?F.piece.length:0),k.lf_left-=F.lf_left+(F.piece?F.piece.lineFeedCnt:0),k.parent===ot?we.root=F:k===k.parent.right?k.parent.right=F:k.parent.left=F,F.right=k,k.parent=F}function dn(we,k){let F,m;if(k.left===ot?(m=k,F=m.right):k.right===ot?(m=k,F=m.left):(m=Rt(k.right),F=m.right),m===we.root){we.root=F,F.color=0,k.detach(),_t(),we.root.parent=ot;return}const B=m.color===1;if(m===m.parent.left?m.parent.left=F:m.parent.right=F,m===k?(F.parent=m.parent,dt(we,F)):(m.parent===k?F.parent=m:F.parent=m.parent,dt(we,F),m.left=k.left,m.right=k.right,m.parent=k.parent,m.color=k.color,k===we.root?we.root=m:k===k.parent.left?k.parent.left=m:k.parent.right=m,m.left!==ot&&(m.left.parent=m),m.right!==ot&&(m.right.parent=m),m.size_left=k.size_left,m.lf_left=k.lf_left,dt(we,m)),k.detach(),F.parent.left===F){const fe=wt(F),Ie=ln(F);if(fe!==F.parent.size_left||Ie!==F.parent.lf_left){const Te=fe-F.parent.size_left,Je=Ie-F.parent.lf_left;F.parent.size_left=fe,F.parent.lf_left=Ie,Ce(we,F.parent,Te,Je)}}if(dt(we,F.parent),B){_t();return}let ee;for(;F!==we.root&&F.color===0;)F===F.parent.left?(ee=F.parent.right,ee.color===1&&(ee.color=0,F.parent.color=1,di(we,F.parent),ee=F.parent.right),ee.left.color===0&&ee.right.color===0?(ee.color=1,F=F.parent):(ee.right.color===0&&(ee.left.color=0,ee.color=1,Xn(we,ee),ee=F.parent.right),ee.color=F.parent.color,F.parent.color=0,ee.right.color=0,di(we,F.parent),F=we.root)):(ee=F.parent.left,ee.color===1&&(ee.color=0,F.parent.color=1,Xn(we,F.parent),ee=F.parent.left),ee.left.color===0&&ee.right.color===0?(ee.color=1,F=F.parent):(ee.left.color===0&&(ee.right.color=0,ee.color=1,di(we,ee),ee=F.parent.left),ee.color=F.parent.color,F.parent.color=0,ee.left.color=0,Xn(we,F.parent),F=we.root));F.color=0,_t()}function Ve(we,k){for(dt(we,k);k!==we.root&&k.parent.color===1;)if(k.parent===k.parent.parent.left){const F=k.parent.parent.right;F.color===1?(k.parent.color=0,F.color=0,k.parent.parent.color=1,k=k.parent.parent):(k===k.parent.right&&(k=k.parent,di(we,k)),k.parent.color=0,k.parent.parent.color=1,Xn(we,k.parent.parent))}else{const F=k.parent.parent.left;F.color===1?(k.parent.color=0,F.color=0,k.parent.parent.color=1,k=k.parent.parent):(k===k.parent.left&&(k=k.parent,Xn(we,k)),k.parent.color=0,k.parent.parent.color=1,di(we,k.parent.parent))}we.root.color=0}function Ce(we,k,F,m){for(;k!==we.root&&k!==ot;)k.parent.left===k&&(k.parent.size_left+=F,k.parent.lf_left+=m),k=k.parent}function dt(we,k){let F=0,m=0;if(k!==we.root){for(;k!==we.root&&k===k.parent.right;)k=k.parent;if(k!==we.root)for(k=k.parent,F=wt(k.left)-k.size_left,m=ln(k.left)-k.lf_left,k.size_left+=F,k.lf_left+=m;k!==we.root&&(F!==0||m!==0);)k.parent.left===k&&(k.parent.size_left+=F,k.parent.lf_left+=m),k=k.parent}}var Qt=l(83829);const en=65535;function vn(we){let k;return we[we.length-1]<65536?k=new Uint16Array(we.length):k=new Uint32Array(we.length),k.set(we,0),k}class An{constructor(k,F,m,B,ee){this.lineStarts=k,this.cr=F,this.lf=m,this.crlf=B,this.isBasicASCII=ee}}function On(we,k=!0){const F=[0];let m=1;for(let B=0,ee=we.length;B<ee;B++){const fe=we.charCodeAt(B);fe===13?B+1<ee&&we.charCodeAt(B+1)===10?(F[m++]=B+2,B++):F[m++]=B+1:fe===10&&(F[m++]=B+1)}return k?vn(F):F}function In(we,k){we.length=0,we[0]=0;let F=1,m=0,B=0,ee=0,fe=!0;for(let Te=0,Je=k.length;Te<Je;Te++){const it=k.charCodeAt(Te);it===13?Te+1<Je&&k.charCodeAt(Te+1)===10?(ee++,we[F++]=Te+2,Te++):(m++,we[F++]=Te+1):it===10?(B++,we[F++]=Te+1):fe&&it!==9&&(it<32||it>126)&&(fe=!1)}const Ie=new An(vn(we),m,B,ee,fe);return we.length=0,Ie}class Sn{constructor(k,F,m,B,ee){this.bufferIndex=k,this.start=F,this.end=m,this.lineFeedCnt=B,this.length=ee}}class Mn{constructor(k,F){this.buffer=k,this.lineStarts=F}}class Bn{constructor(k,F){this._pieces=[],this._tree=k,this._BOM=F,this._index=0,k.root!==ot&&k.iterate(k.root,m=>(m!==ot&&this._pieces.push(m.piece),!0))}read(){return this._pieces.length===0?this._index===0?(this._index++,this._BOM):null:this._index>this._pieces.length-1?null:this._index===0?this._BOM+this._tree.getPieceContent(this._pieces[this._index++]):this._tree.getPieceContent(this._pieces[this._index++])}}class Jn{constructor(k){this._limit=k,this._cache=[]}get(k){for(let F=this._cache.length-1;F>=0;F--){const m=this._cache[F];if(m.nodeStartOffset<=k&&m.nodeStartOffset+m.node.piece.length>=k)return m}return null}get2(k){for(let F=this._cache.length-1;F>=0;F--){const m=this._cache[F];if(m.nodeStartLineNumber&&m.nodeStartLineNumber<k&&m.nodeStartLineNumber+m.node.piece.lineFeedCnt>=k)return m}return null}set(k){this._cache.length>=this._limit&&this._cache.shift(),this._cache.push(k)}validate(k){let F=!1;const m=this._cache;for(let B=0;B<m.length;B++){const ee=m[B];if(ee.node.parent===null||ee.nodeStartOffset>=k){m[B]=null,F=!0;continue}}if(F){const B=[];for(const ee of m)ee!==null&&B.push(ee);this._cache=B}}}class ai{constructor(k,F,m){this.create(k,F,m)}create(k,F,m){this._buffers=[new Mn("",[0])],this._lastChangeBufferPos={line:0,column:0},this.root=ot,this._lineCnt=1,this._length=0,this._EOL=F,this._EOLLength=F.length,this._EOLNormalized=m;let B=null;for(let ee=0,fe=k.length;ee<fe;ee++)if(k[ee].buffer.length>0){k[ee].lineStarts||(k[ee].lineStarts=On(k[ee].buffer));const Ie=new Sn(ee+1,{line:0,column:0},{line:k[ee].lineStarts.length-1,column:k[ee].buffer.length-k[ee].lineStarts[k[ee].lineStarts.length-1]},k[ee].lineStarts.length-1,k[ee].buffer.length);this._buffers.push(k[ee]),B=this.rbInsertRight(B,Ie)}this._searchCache=new Jn(1),this._lastVisitedLine={lineNumber:0,value:""},this.computeBufferMetadata()}normalizeEOL(k){const F=en,m=F-Math.floor(F/3),B=m*2;let ee="",fe=0;const Ie=[];if(this.iterate(this.root,Te=>{const Je=this.getNodeContent(Te),it=Je.length;if(fe<=m||fe+it<B)return ee+=Je,fe+=it,!0;const Ct=ee.replace(/\r\n|\r|\n/g,k);return Ie.push(new Mn(Ct,On(Ct))),ee=Je,fe=it,!0}),fe>0){const Te=ee.replace(/\r\n|\r|\n/g,k);Ie.push(new Mn(Te,On(Te)))}this.create(Ie,k,!0)}getEOL(){return this._EOL}setEOL(k){this._EOL=k,this._EOLLength=this._EOL.length,this.normalizeEOL(k)}createSnapshot(k){return new Bn(this,k)}getOffsetAt(k,F){let m=0,B=this.root;for(;B!==ot;)if(B.left!==ot&&B.lf_left+1>=k)B=B.left;else if(B.lf_left+B.piece.lineFeedCnt+1>=k){m+=B.size_left;const ee=this.getAccumulatedValue(B,k-B.lf_left-2);return m+=ee+F-1}else k-=B.lf_left+B.piece.lineFeedCnt,m+=B.size_left+B.piece.length,B=B.right;return m}getPositionAt(k){k=Math.floor(k),k=Math.max(0,k);let F=this.root,m=0;const B=k;for(;F!==ot;)if(F.size_left!==0&&F.size_left>=k)F=F.left;else if(F.size_left+F.piece.length>=k){const ee=this.getIndexOf(F,k-F.size_left);if(m+=F.lf_left+ee.index,ee.index===0){const fe=this.getOffsetAt(m+1,1),Ie=B-fe;return new S.L(m+1,Ie+1)}return new S.L(m+1,ee.remainder+1)}else if(k-=F.size_left+F.piece.length,m+=F.lf_left+F.piece.lineFeedCnt,F.right===ot){const ee=this.getOffsetAt(m+1,1),fe=B-k-ee;return new S.L(m+1,fe+1)}else F=F.right;return new S.L(1,1)}getValueInRange(k,F){if(k.startLineNumber===k.endLineNumber&&k.startColumn===k.endColumn)return"";const m=this.nodeAt2(k.startLineNumber,k.startColumn),B=this.nodeAt2(k.endLineNumber,k.endColumn),ee=this.getValueInRange2(m,B);return F?F!==this._EOL||!this._EOLNormalized?ee.replace(/\r\n|\r|\n/g,F):F===this.getEOL()&&this._EOLNormalized?ee:ee.replace(/\r\n|\r|\n/g,F):ee}getValueInRange2(k,F){if(k.node===F.node){const Ie=k.node,Te=this._buffers[Ie.piece.bufferIndex].buffer,Je=this.offsetInBuffer(Ie.piece.bufferIndex,Ie.piece.start);return Te.substring(Je+k.remainder,Je+F.remainder)}let m=k.node;const B=this._buffers[m.piece.bufferIndex].buffer,ee=this.offsetInBuffer(m.piece.bufferIndex,m.piece.start);let fe=B.substring(ee+k.remainder,ee+m.piece.length);for(m=m.next();m!==ot;){const Ie=this._buffers[m.piece.bufferIndex].buffer,Te=this.offsetInBuffer(m.piece.bufferIndex,m.piece.start);if(m===F.node){fe+=Ie.substring(Te,Te+F.remainder);break}else fe+=Ie.substr(Te,m.piece.length);m=m.next()}return fe}getLinesContent(){const k=[];let F=0,m="",B=!1;return this.iterate(this.root,ee=>{if(ee===ot)return!0;const fe=ee.piece;let Ie=fe.length;if(Ie===0)return!0;const Te=this._buffers[fe.bufferIndex].buffer,Je=this._buffers[fe.bufferIndex].lineStarts,it=fe.start.line,Ct=fe.end.line;let It=Je[it]+fe.start.column;if(B&&(Te.charCodeAt(It)===10&&(It++,Ie--),k[F++]=m,m="",B=!1,Ie===0))return!0;if(it===Ct)return!this._EOLNormalized&&Te.charCodeAt(It+Ie-1)===13?(B=!0,m+=Te.substr(It,Ie-1)):m+=Te.substr(It,Ie),!0;m+=this._EOLNormalized?Te.substring(It,Math.max(It,Je[it+1]-this._EOLLength)):Te.substring(It,Je[it+1]).replace(/(\r\n|\r|\n)$/,""),k[F++]=m;for(let Ut=it+1;Ut<Ct;Ut++)m=this._EOLNormalized?Te.substring(Je[Ut],Je[Ut+1]-this._EOLLength):Te.substring(Je[Ut],Je[Ut+1]).replace(/(\r\n|\r|\n)$/,""),k[F++]=m;return!this._EOLNormalized&&Te.charCodeAt(Je[Ct]+fe.end.column-1)===13?(B=!0,fe.end.column===0?F--:m=Te.substr(Je[Ct],fe.end.column-1)):m=Te.substr(Je[Ct],fe.end.column),!0}),B&&(k[F++]=m,m=""),k[F++]=m,k}getLength(){return this._length}getLineCount(){return this._lineCnt}getLineContent(k){return this._lastVisitedLine.lineNumber===k?this._lastVisitedLine.value:(this._lastVisitedLine.lineNumber=k,k===this._lineCnt?this._lastVisitedLine.value=this.getLineRawContent(k):this._EOLNormalized?this._lastVisitedLine.value=this.getLineRawContent(k,this._EOLLength):this._lastVisitedLine.value=this.getLineRawContent(k).replace(/(\r\n|\r|\n)$/,""),this._lastVisitedLine.value)}_getCharCode(k){if(k.remainder===k.node.piece.length){const F=k.node.next();if(!F)return 0;const m=this._buffers[F.piece.bufferIndex],B=this.offsetInBuffer(F.piece.bufferIndex,F.piece.start);return m.buffer.charCodeAt(B)}else{const F=this._buffers[k.node.piece.bufferIndex],B=this.offsetInBuffer(k.node.piece.bufferIndex,k.node.piece.start)+k.remainder;return F.buffer.charCodeAt(B)}}getLineCharCode(k,F){const m=this.nodeAt2(k,F+1);return this._getCharCode(m)}getLineLength(k){if(k===this.getLineCount()){const F=this.getOffsetAt(k,1);return this.getLength()-F}return this.getOffsetAt(k+1,1)-this.getOffsetAt(k,1)-this._EOLLength}findMatchesInNode(k,F,m,B,ee,fe,Ie,Te,Je,it,Ct){const It=this._buffers[k.piece.bufferIndex],Ut=this.offsetInBuffer(k.piece.bufferIndex,k.piece.start),sn=this.offsetInBuffer(k.piece.bufferIndex,ee),tn=this.offsetInBuffer(k.piece.bufferIndex,fe);let rn;const En={line:0,column:0};let Fn,Nn;F._wordSeparators?(Fn=It.buffer.substring(sn,tn),Nn=ni=>ni+sn,F.reset(0)):(Fn=It.buffer,Nn=ni=>ni,F.reset(sn));do if(rn=F.next(Fn),rn){if(Nn(rn.index)>=tn)return it;this.positionInBuffer(k,Nn(rn.index)-Ut,En);const ni=this.getLineFeedCnt(k.piece.bufferIndex,ee,En),Ps=En.line===ee.line?En.column-ee.column+B:En.column+1,no=Ps+rn[0].length;if(Ct[it++]=(0,Qt.iE)(new _.e(m+ni,Ps,m+ni,no),rn,Te),Nn(rn.index)+rn[0].length>=tn||it>=Je)return it}while(rn);return it}findMatchesLineByLine(k,F,m,B){const ee=[];let fe=0;const Ie=new Qt.sz(F.wordSeparators,F.regex);let Te=this.nodeAt2(k.startLineNumber,k.startColumn);if(Te===null)return[];const Je=this.nodeAt2(k.endLineNumber,k.endColumn);if(Je===null)return[];let it=this.positionInBuffer(Te.node,Te.remainder);const Ct=this.positionInBuffer(Je.node,Je.remainder);if(Te.node===Je.node)return this.findMatchesInNode(Te.node,Ie,k.startLineNumber,k.startColumn,it,Ct,F,m,B,fe,ee),ee;let It=k.startLineNumber,Ut=Te.node;for(;Ut!==Je.node;){const tn=this.getLineFeedCnt(Ut.piece.bufferIndex,it,Ut.piece.end);if(tn>=1){const En=this._buffers[Ut.piece.bufferIndex].lineStarts,Fn=this.offsetInBuffer(Ut.piece.bufferIndex,Ut.piece.start),Nn=En[it.line+tn],ni=It===k.startLineNumber?k.startColumn:1;if(fe=this.findMatchesInNode(Ut,Ie,It,ni,it,this.positionInBuffer(Ut,Nn-Fn),F,m,B,fe,ee),fe>=B)return ee;It+=tn}const rn=It===k.startLineNumber?k.startColumn-1:0;if(It===k.endLineNumber){const En=this.getLineContent(It).substring(rn,k.endColumn-1);return fe=this._findMatchesInLine(F,Ie,En,k.endLineNumber,rn,fe,ee,m,B),ee}if(fe=this._findMatchesInLine(F,Ie,this.getLineContent(It).substr(rn),It,rn,fe,ee,m,B),fe>=B)return ee;It++,Te=this.nodeAt2(It,1),Ut=Te.node,it=this.positionInBuffer(Te.node,Te.remainder)}if(It===k.endLineNumber){const tn=It===k.startLineNumber?k.startColumn-1:0,rn=this.getLineContent(It).substring(tn,k.endColumn-1);return fe=this._findMatchesInLine(F,Ie,rn,k.endLineNumber,tn,fe,ee,m,B),ee}const sn=It===k.startLineNumber?k.startColumn:1;return fe=this.findMatchesInNode(Je.node,Ie,It,sn,it,Ct,F,m,B,fe,ee),ee}_findMatchesInLine(k,F,m,B,ee,fe,Ie,Te,Je){const it=k.wordSeparators;if(!Te&&k.simpleSearch){const It=k.simpleSearch,Ut=It.length,sn=m.length;let tn=-Ut;for(;(tn=m.indexOf(It,tn+Ut))!==-1;)if((!it||(0,Qt.cM)(it,m,sn,tn,Ut))&&(Ie[fe++]=new D.tk(new _.e(B,tn+1+ee,B,tn+1+Ut+ee),null),fe>=Je))return fe;return fe}let Ct;F.reset(0);do if(Ct=F.next(m),Ct&&(Ie[fe++]=(0,Qt.iE)(new _.e(B,Ct.index+1+ee,B,Ct.index+1+Ct[0].length+ee),Ct,Te),fe>=Je))return fe;while(Ct);return fe}insert(k,F,m=!1){if(this._EOLNormalized=this._EOLNormalized&&m,this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",this.root!==ot){const{node:B,remainder:ee,nodeStartOffset:fe}=this.nodeAt(k),Ie=B.piece,Te=Ie.bufferIndex,Je=this.positionInBuffer(B,ee);if(B.piece.bufferIndex===0&&Ie.end.line===this._lastChangeBufferPos.line&&Ie.end.column===this._lastChangeBufferPos.column&&fe+Ie.length===k&&F.length<en){this.appendToNode(B,F),this.computeBufferMetadata();return}if(fe===k)this.insertContentToNodeLeft(F,B),this._searchCache.validate(k);else if(fe+B.piece.length>k){const it=[];let Ct=new Sn(Ie.bufferIndex,Je,Ie.end,this.getLineFeedCnt(Ie.bufferIndex,Je,Ie.end),this.offsetInBuffer(Te,Ie.end)-this.offsetInBuffer(Te,Je));if(this.shouldCheckCRLF()&&this.endWithCR(F)&&this.nodeCharCodeAt(B,ee)===10){const tn={line:Ct.start.line+1,column:0};Ct=new Sn(Ct.bufferIndex,tn,Ct.end,this.getLineFeedCnt(Ct.bufferIndex,tn,Ct.end),Ct.length-1),F+=`
`}if(this.shouldCheckCRLF()&&this.startWithLF(F))if(this.nodeCharCodeAt(B,ee-1)===13){const tn=this.positionInBuffer(B,ee-1);this.deleteNodeTail(B,tn),F="\r"+F,B.piece.length===0&&it.push(B)}else this.deleteNodeTail(B,Je);else this.deleteNodeTail(B,Je);const It=this.createNewPieces(F);Ct.length>0&&this.rbInsertRight(B,Ct);let Ut=B;for(let sn=0;sn<It.length;sn++)Ut=this.rbInsertRight(Ut,It[sn]);this.deleteNodes(it)}else this.insertContentToNodeRight(F,B)}else{const B=this.createNewPieces(F);let ee=this.rbInsertLeft(null,B[0]);for(let fe=1;fe<B.length;fe++)ee=this.rbInsertRight(ee,B[fe])}this.computeBufferMetadata()}delete(k,F){if(this._lastVisitedLine.lineNumber=0,this._lastVisitedLine.value="",F<=0||this.root===ot)return;const m=this.nodeAt(k),B=this.nodeAt(k+F),ee=m.node,fe=B.node;if(ee===fe){const It=this.positionInBuffer(ee,m.remainder),Ut=this.positionInBuffer(ee,B.remainder);if(m.nodeStartOffset===k){if(F===ee.piece.length){const sn=ee.next();dn(this,ee),this.validateCRLFWithPrevNode(sn),this.computeBufferMetadata();return}this.deleteNodeHead(ee,Ut),this._searchCache.validate(k),this.validateCRLFWithPrevNode(ee),this.computeBufferMetadata();return}if(m.nodeStartOffset+ee.piece.length===k+F){this.deleteNodeTail(ee,It),this.validateCRLFWithNextNode(ee),this.computeBufferMetadata();return}this.shrinkNode(ee,It,Ut),this.computeBufferMetadata();return}const Ie=[],Te=this.positionInBuffer(ee,m.remainder);this.deleteNodeTail(ee,Te),this._searchCache.validate(k),ee.piece.length===0&&Ie.push(ee);const Je=this.positionInBuffer(fe,B.remainder);this.deleteNodeHead(fe,Je),fe.piece.length===0&&Ie.push(fe);const it=ee.next();for(let It=it;It!==ot&&It!==fe;It=It.next())Ie.push(It);const Ct=ee.piece.length===0?ee.prev():ee;this.deleteNodes(Ie),this.validateCRLFWithNextNode(Ct),this.computeBufferMetadata()}insertContentToNodeLeft(k,F){const m=[];if(this.shouldCheckCRLF()&&this.endWithCR(k)&&this.startWithLF(F)){const fe=F.piece,Ie={line:fe.start.line+1,column:0},Te=new Sn(fe.bufferIndex,Ie,fe.end,this.getLineFeedCnt(fe.bufferIndex,Ie,fe.end),fe.length-1);F.piece=Te,k+=`
`,Ce(this,F,-1,-1),F.piece.length===0&&m.push(F)}const B=this.createNewPieces(k);let ee=this.rbInsertLeft(F,B[B.length-1]);for(let fe=B.length-2;fe>=0;fe--)ee=this.rbInsertLeft(ee,B[fe]);this.validateCRLFWithPrevNode(ee),this.deleteNodes(m)}insertContentToNodeRight(k,F){this.adjustCarriageReturnFromNext(k,F)&&(k+=`
`);const m=this.createNewPieces(k),B=this.rbInsertRight(F,m[0]);let ee=B;for(let fe=1;fe<m.length;fe++)ee=this.rbInsertRight(ee,m[fe]);this.validateCRLFWithPrevNode(B)}positionInBuffer(k,F,m){const B=k.piece,ee=k.piece.bufferIndex,fe=this._buffers[ee].lineStarts,Te=fe[B.start.line]+B.start.column+F;let Je=B.start.line,it=B.end.line,Ct=0,It=0,Ut=0;for(;Je<=it&&(Ct=Je+(it-Je)/2|0,Ut=fe[Ct],Ct!==it);)if(It=fe[Ct+1],Te<Ut)it=Ct-1;else if(Te>=It)Je=Ct+1;else break;return m?(m.line=Ct,m.column=Te-Ut,null):{line:Ct,column:Te-Ut}}getLineFeedCnt(k,F,m){if(m.column===0)return m.line-F.line;const B=this._buffers[k].lineStarts;if(m.line===B.length-1)return m.line-F.line;const ee=B[m.line+1],fe=B[m.line]+m.column;if(ee>fe+1)return m.line-F.line;const Ie=fe-1;return this._buffers[k].buffer.charCodeAt(Ie)===13?m.line-F.line+1:m.line-F.line}offsetInBuffer(k,F){return this._buffers[k].lineStarts[F.line]+F.column}deleteNodes(k){for(let F=0;F<k.length;F++)dn(this,k[F])}createNewPieces(k){if(k.length>en){const it=[];for(;k.length>en;){const It=k.charCodeAt(en-1);let Ut;It===13||It>=55296&&It<=56319?(Ut=k.substring(0,en-1),k=k.substring(en-1)):(Ut=k.substring(0,en),k=k.substring(en));const sn=On(Ut);it.push(new Sn(this._buffers.length,{line:0,column:0},{line:sn.length-1,column:Ut.length-sn[sn.length-1]},sn.length-1,Ut.length)),this._buffers.push(new Mn(Ut,sn))}const Ct=On(k);return it.push(new Sn(this._buffers.length,{line:0,column:0},{line:Ct.length-1,column:k.length-Ct[Ct.length-1]},Ct.length-1,k.length)),this._buffers.push(new Mn(k,Ct)),it}let F=this._buffers[0].buffer.length;const m=On(k,!1);let B=this._lastChangeBufferPos;if(this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-1]===F&&F!==0&&this.startWithLF(k)&&this.endWithCR(this._buffers[0].buffer)){this._lastChangeBufferPos={line:this._lastChangeBufferPos.line,column:this._lastChangeBufferPos.column+1},B=this._lastChangeBufferPos;for(let it=0;it<m.length;it++)m[it]+=F+1;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(m.slice(1)),this._buffers[0].buffer+="_"+k,F+=1}else{if(F!==0)for(let it=0;it<m.length;it++)m[it]+=F;this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(m.slice(1)),this._buffers[0].buffer+=k}const ee=this._buffers[0].buffer.length,fe=this._buffers[0].lineStarts.length-1,Ie=ee-this._buffers[0].lineStarts[fe],Te={line:fe,column:Ie},Je=new Sn(0,B,Te,this.getLineFeedCnt(0,B,Te),ee-F);return this._lastChangeBufferPos=Te,[Je]}getLineRawContent(k,F=0){let m=this.root,B="";const ee=this._searchCache.get2(k);if(ee){m=ee.node;const fe=this.getAccumulatedValue(m,k-ee.nodeStartLineNumber-1),Ie=this._buffers[m.piece.bufferIndex].buffer,Te=this.offsetInBuffer(m.piece.bufferIndex,m.piece.start);if(ee.nodeStartLineNumber+m.piece.lineFeedCnt===k)B=Ie.substring(Te+fe,Te+m.piece.length);else{const Je=this.getAccumulatedValue(m,k-ee.nodeStartLineNumber);return Ie.substring(Te+fe,Te+Je-F)}}else{let fe=0;const Ie=k;for(;m!==ot;)if(m.left!==ot&&m.lf_left>=k-1)m=m.left;else if(m.lf_left+m.piece.lineFeedCnt>k-1){const Te=this.getAccumulatedValue(m,k-m.lf_left-2),Je=this.getAccumulatedValue(m,k-m.lf_left-1),it=this._buffers[m.piece.bufferIndex].buffer,Ct=this.offsetInBuffer(m.piece.bufferIndex,m.piece.start);return fe+=m.size_left,this._searchCache.set({node:m,nodeStartOffset:fe,nodeStartLineNumber:Ie-(k-1-m.lf_left)}),it.substring(Ct+Te,Ct+Je-F)}else if(m.lf_left+m.piece.lineFeedCnt===k-1){const Te=this.getAccumulatedValue(m,k-m.lf_left-2),Je=this._buffers[m.piece.bufferIndex].buffer,it=this.offsetInBuffer(m.piece.bufferIndex,m.piece.start);B=Je.substring(it+Te,it+m.piece.length);break}else k-=m.lf_left+m.piece.lineFeedCnt,fe+=m.size_left+m.piece.length,m=m.right}for(m=m.next();m!==ot;){const fe=this._buffers[m.piece.bufferIndex].buffer;if(m.piece.lineFeedCnt>0){const Ie=this.getAccumulatedValue(m,0),Te=this.offsetInBuffer(m.piece.bufferIndex,m.piece.start);return B+=fe.substring(Te,Te+Ie-F),B}else{const Ie=this.offsetInBuffer(m.piece.bufferIndex,m.piece.start);B+=fe.substr(Ie,m.piece.length)}m=m.next()}return B}computeBufferMetadata(){let k=this.root,F=1,m=0;for(;k!==ot;)F+=k.lf_left+k.piece.lineFeedCnt,m+=k.size_left+k.piece.length,k=k.right;this._lineCnt=F,this._length=m,this._searchCache.validate(this._length)}getIndexOf(k,F){const m=k.piece,B=this.positionInBuffer(k,F),ee=B.line-m.start.line;if(this.offsetInBuffer(m.bufferIndex,m.end)-this.offsetInBuffer(m.bufferIndex,m.start)===F){const fe=this.getLineFeedCnt(k.piece.bufferIndex,m.start,B);if(fe!==ee)return{index:fe,remainder:0}}return{index:ee,remainder:B.column}}getAccumulatedValue(k,F){if(F<0)return 0;const m=k.piece,B=this._buffers[m.bufferIndex].lineStarts,ee=m.start.line+F+1;return ee>m.end.line?B[m.end.line]+m.end.column-B[m.start.line]-m.start.column:B[ee]-B[m.start.line]-m.start.column}deleteNodeTail(k,F){const m=k.piece,B=m.lineFeedCnt,ee=this.offsetInBuffer(m.bufferIndex,m.end),fe=F,Ie=this.offsetInBuffer(m.bufferIndex,fe),Te=this.getLineFeedCnt(m.bufferIndex,m.start,fe),Je=Te-B,it=Ie-ee,Ct=m.length+it;k.piece=new Sn(m.bufferIndex,m.start,fe,Te,Ct),Ce(this,k,it,Je)}deleteNodeHead(k,F){const m=k.piece,B=m.lineFeedCnt,ee=this.offsetInBuffer(m.bufferIndex,m.start),fe=F,Ie=this.getLineFeedCnt(m.bufferIndex,fe,m.end),Te=this.offsetInBuffer(m.bufferIndex,fe),Je=Ie-B,it=ee-Te,Ct=m.length+it;k.piece=new Sn(m.bufferIndex,fe,m.end,Ie,Ct),Ce(this,k,it,Je)}shrinkNode(k,F,m){const B=k.piece,ee=B.start,fe=B.end,Ie=B.length,Te=B.lineFeedCnt,Je=F,it=this.getLineFeedCnt(B.bufferIndex,B.start,Je),Ct=this.offsetInBuffer(B.bufferIndex,F)-this.offsetInBuffer(B.bufferIndex,ee);k.piece=new Sn(B.bufferIndex,B.start,Je,it,Ct),Ce(this,k,Ct-Ie,it-Te);const It=new Sn(B.bufferIndex,m,fe,this.getLineFeedCnt(B.bufferIndex,m,fe),this.offsetInBuffer(B.bufferIndex,fe)-this.offsetInBuffer(B.bufferIndex,m)),Ut=this.rbInsertRight(k,It);this.validateCRLFWithPrevNode(Ut)}appendToNode(k,F){this.adjustCarriageReturnFromNext(F,k)&&(F+=`
`);const m=this.shouldCheckCRLF()&&this.startWithLF(F)&&this.endWithCR(k),B=this._buffers[0].buffer.length;this._buffers[0].buffer+=F;const ee=On(F,!1);for(let Ut=0;Ut<ee.length;Ut++)ee[Ut]+=B;if(m){const Ut=this._buffers[0].lineStarts[this._buffers[0].lineStarts.length-2];this._buffers[0].lineStarts.pop(),this._lastChangeBufferPos={line:this._lastChangeBufferPos.line-1,column:B-Ut}}this._buffers[0].lineStarts=this._buffers[0].lineStarts.concat(ee.slice(1));const fe=this._buffers[0].lineStarts.length-1,Ie=this._buffers[0].buffer.length-this._buffers[0].lineStarts[fe],Te={line:fe,column:Ie},Je=k.piece.length+F.length,it=k.piece.lineFeedCnt,Ct=this.getLineFeedCnt(0,k.piece.start,Te),It=Ct-it;k.piece=new Sn(k.piece.bufferIndex,k.piece.start,Te,Ct,Je),this._lastChangeBufferPos=Te,Ce(this,k,F.length,It)}nodeAt(k){let F=this.root;const m=this._searchCache.get(k);if(m)return{node:m.node,nodeStartOffset:m.nodeStartOffset,remainder:k-m.nodeStartOffset};let B=0;for(;F!==ot;)if(F.size_left>k)F=F.left;else if(F.size_left+F.piece.length>=k){B+=F.size_left;const ee={node:F,remainder:k-F.size_left,nodeStartOffset:B};return this._searchCache.set(ee),ee}else k-=F.size_left+F.piece.length,B+=F.size_left+F.piece.length,F=F.right;return null}nodeAt2(k,F){let m=this.root,B=0;for(;m!==ot;)if(m.left!==ot&&m.lf_left>=k-1)m=m.left;else if(m.lf_left+m.piece.lineFeedCnt>k-1){const ee=this.getAccumulatedValue(m,k-m.lf_left-2),fe=this.getAccumulatedValue(m,k-m.lf_left-1);return B+=m.size_left,{node:m,remainder:Math.min(ee+F-1,fe),nodeStartOffset:B}}else if(m.lf_left+m.piece.lineFeedCnt===k-1){const ee=this.getAccumulatedValue(m,k-m.lf_left-2);if(ee+F-1<=m.piece.length)return{node:m,remainder:ee+F-1,nodeStartOffset:B};F-=m.piece.length-ee;break}else k-=m.lf_left+m.piece.lineFeedCnt,B+=m.size_left+m.piece.length,m=m.right;for(m=m.next();m!==ot;){if(m.piece.lineFeedCnt>0){const ee=this.getAccumulatedValue(m,0),fe=this.offsetOfNode(m);return{node:m,remainder:Math.min(F-1,ee),nodeStartOffset:fe}}else if(m.piece.length>=F-1){const ee=this.offsetOfNode(m);return{node:m,remainder:F-1,nodeStartOffset:ee}}else F-=m.piece.length;m=m.next()}return null}nodeCharCodeAt(k,F){if(k.piece.lineFeedCnt<1)return-1;const m=this._buffers[k.piece.bufferIndex],B=this.offsetInBuffer(k.piece.bufferIndex,k.piece.start)+F;return m.buffer.charCodeAt(B)}offsetOfNode(k){if(!k)return 0;let F=k.size_left;for(;k!==this.root;)k.parent.right===k&&(F+=k.parent.size_left+k.parent.piece.length),k=k.parent;return F}shouldCheckCRLF(){return!(this._EOLNormalized&&this._EOL===`
`)}startWithLF(k){if(typeof k=="string")return k.charCodeAt(0)===10;if(k===ot||k.piece.lineFeedCnt===0)return!1;const F=k.piece,m=this._buffers[F.bufferIndex].lineStarts,B=F.start.line,ee=m[B]+F.start.column;return B===m.length-1||m[B+1]>ee+1?!1:this._buffers[F.bufferIndex].buffer.charCodeAt(ee)===10}endWithCR(k){return typeof k=="string"?k.charCodeAt(k.length-1)===13:k===ot||k.piece.lineFeedCnt===0?!1:this.nodeCharCodeAt(k,k.piece.length-1)===13}validateCRLFWithPrevNode(k){if(this.shouldCheckCRLF()&&this.startWithLF(k)){const F=k.prev();this.endWithCR(F)&&this.fixCRLF(F,k)}}validateCRLFWithNextNode(k){if(this.shouldCheckCRLF()&&this.endWithCR(k)){const F=k.next();this.startWithLF(F)&&this.fixCRLF(k,F)}}fixCRLF(k,F){const m=[],B=this._buffers[k.piece.bufferIndex].lineStarts;let ee;k.piece.end.column===0?ee={line:k.piece.end.line-1,column:B[k.piece.end.line]-B[k.piece.end.line-1]-1}:ee={line:k.piece.end.line,column:k.piece.end.column-1};const fe=k.piece.length-1,Ie=k.piece.lineFeedCnt-1;k.piece=new Sn(k.piece.bufferIndex,k.piece.start,ee,Ie,fe),Ce(this,k,-1,-1),k.piece.length===0&&m.push(k);const Te={line:F.piece.start.line+1,column:0},Je=F.piece.length-1,it=this.getLineFeedCnt(F.piece.bufferIndex,Te,F.piece.end);F.piece=new Sn(F.piece.bufferIndex,Te,F.piece.end,it,Je),Ce(this,F,-1,-1),F.piece.length===0&&m.push(F);const Ct=this.createNewPieces(`\r
`);this.rbInsertRight(k,Ct[0]);for(let It=0;It<m.length;It++)dn(this,m[It])}adjustCarriageReturnFromNext(k,F){if(this.shouldCheckCRLF()&&this.endWithCR(k)){const m=F.next();if(this.startWithLF(m)){if(k+=`
`,m.piece.length===1)dn(this,m);else{const B=m.piece,ee={line:B.start.line+1,column:0},fe=B.length-1,Ie=this.getLineFeedCnt(B.bufferIndex,ee,B.end);m.piece=new Sn(B.bufferIndex,ee,B.end,Ie,fe),Ce(this,m,-1,-1)}return!0}}return!1}iterate(k,F){if(k===ot)return F(ot);const m=this.iterate(k.left,F);return m&&F(k)&&this.iterate(k.right,F)}getNodeContent(k){if(k===ot)return"";const F=this._buffers[k.piece.bufferIndex],m=k.piece,B=this.offsetInBuffer(m.bufferIndex,m.start),ee=this.offsetInBuffer(m.bufferIndex,m.end);return F.buffer.substring(B,ee)}getPieceContent(k){const F=this._buffers[k.bufferIndex],m=this.offsetInBuffer(k.bufferIndex,k.start),B=this.offsetInBuffer(k.bufferIndex,k.end);return F.buffer.substring(m,B)}rbInsertRight(k,F){const m=new bn(F,1);if(m.left=ot,m.right=ot,m.parent=ot,m.size_left=0,m.lf_left=0,this.root===ot)this.root=m,m.color=0;else if(k.right===ot)k.right=m,m.parent=k;else{const ee=Rt(k.right);ee.left=m,m.parent=ee}return Ve(this,m),m}rbInsertLeft(k,F){const m=new bn(F,1);if(m.left=ot,m.right=ot,m.parent=ot,m.size_left=0,m.lf_left=0,this.root===ot)this.root=m,m.color=0;else if(k.left===ot)k.left=m,m.parent=k;else{const B=kt(k.left);B.right=m,m.parent=B}return Ve(this,m),m}}var jn=l(19645);class Ii extends L.JT{constructor(k,F,m,B,ee,fe,Ie){super(),this._onDidChangeContent=this._register(new W.Q5),this._BOM=F,this._mightContainNonBasicASCII=!fe,this._mightContainRTL=B,this._mightContainUnusualLineTerminators=ee,this._pieceTree=new ai(k,m,Ie)}mightContainRTL(){return this._mightContainRTL}mightContainUnusualLineTerminators(){return this._mightContainUnusualLineTerminators}resetMightContainUnusualLineTerminators(){this._mightContainUnusualLineTerminators=!1}mightContainNonBasicASCII(){return this._mightContainNonBasicASCII}getBOM(){return this._BOM}getEOL(){return this._pieceTree.getEOL()}createSnapshot(k){return this._pieceTree.createSnapshot(k?this._BOM:"")}getOffsetAt(k,F){return this._pieceTree.getOffsetAt(k,F)}getPositionAt(k){return this._pieceTree.getPositionAt(k)}getRangeAt(k,F){const m=k+F,B=this.getPositionAt(k),ee=this.getPositionAt(m);return new _.e(B.lineNumber,B.column,ee.lineNumber,ee.column)}getValueInRange(k,F=0){if(k.isEmpty())return"";const m=this._getEndOfLine(F);return this._pieceTree.getValueInRange(k,m)}getValueLengthInRange(k,F=0){if(k.isEmpty())return 0;if(k.startLineNumber===k.endLineNumber)return k.endColumn-k.startColumn;const m=this.getOffsetAt(k.startLineNumber,k.startColumn);return this.getOffsetAt(k.endLineNumber,k.endColumn)-m}getCharacterCountInRange(k,F=0){if(this._mightContainNonBasicASCII){let m=0;const B=k.startLineNumber,ee=k.endLineNumber;for(let fe=B;fe<=ee;fe++){const Ie=this.getLineContent(fe),Te=fe===B?k.startColumn-1:0,Je=fe===ee?k.endColumn-1:Ie.length;for(let it=Te;it<Je;it++)z.ZG(Ie.charCodeAt(it))?(m=m+1,it=it+1):m=m+1}return m+=this._getEndOfLine(F).length*(ee-B),m}return this.getValueLengthInRange(k,F)}getLength(){return this._pieceTree.getLength()}getLineCount(){return this._pieceTree.getLineCount()}getLinesContent(){return this._pieceTree.getLinesContent()}getLineContent(k){return this._pieceTree.getLineContent(k)}getLineCharCode(k,F){return this._pieceTree.getLineCharCode(k,F)}getLineLength(k){return this._pieceTree.getLineLength(k)}getLineFirstNonWhitespaceColumn(k){const F=z.LC(this.getLineContent(k));return F===-1?0:F+1}getLineLastNonWhitespaceColumn(k){const F=z.ow(this.getLineContent(k));return F===-1?0:F+2}_getEndOfLine(k){switch(k){case 1:return`
`;case 2:return`\r
`;case 0:return this.getEOL();default:throw new Error("Unknown EOL preference")}}setEOL(k){this._pieceTree.setEOL(k)}applyEdits(k,F,m){let B=this._mightContainRTL,ee=this._mightContainUnusualLineTerminators,fe=this._mightContainNonBasicASCII,Ie=!0,Te=[];for(let tn=0;tn<k.length;tn++){const rn=k[tn];Ie&&rn._isTracked&&(Ie=!1);const En=rn.range;if(rn.text){let no=!0;fe||(no=!z.$i(rn.text),fe=no),!B&&no&&(B=z.Ut(rn.text)),!ee&&no&&(ee=z.ab(rn.text))}let Fn="",Nn=0,ni=0,Ps=0;if(rn.text){let no;[Nn,ni,Ps,no]=(0,A.Q)(rn.text);const js=this.getEOL();no===0||no===(js===`\r
`?2:1)?Fn=rn.text:Fn=rn.text.replace(/\r\n|\r|\n/g,js)}Te[tn]={sortIndex:tn,identifier:rn.identifier||null,range:En,rangeOffset:this.getOffsetAt(En.startLineNumber,En.startColumn),rangeLength:this.getValueLengthInRange(En),text:Fn,eolCount:Nn,firstLineLength:ni,lastLineLength:Ps,forceMoveMarkers:Boolean(rn.forceMoveMarkers),isAutoWhitespaceEdit:rn.isAutoWhitespaceEdit||!1}}Te.sort(Ii._sortOpsAscending);let Je=!1;for(let tn=0,rn=Te.length-1;tn<rn;tn++){const En=Te[tn].range.getEndPosition(),Fn=Te[tn+1].range.getStartPosition();if(Fn.isBeforeOrEqual(En)){if(Fn.isBefore(En))throw new Error("Overlapping ranges are not allowed!");Je=!0}}Ie&&(Te=this._reduceOperations(Te));const it=m||F?Ii._getInverseEditRanges(Te):[],Ct=[];if(F)for(let tn=0;tn<Te.length;tn++){const rn=Te[tn],En=it[tn];if(rn.isAutoWhitespaceEdit&&rn.range.isEmpty())for(let Fn=En.startLineNumber;Fn<=En.endLineNumber;Fn++){let Nn="";Fn===En.startLineNumber&&(Nn=this.getLineContent(rn.range.startLineNumber),z.LC(Nn)!==-1)||Ct.push({lineNumber:Fn,oldContent:Nn})}}let It=null;if(m){let tn=0;It=[];for(let rn=0;rn<Te.length;rn++){const En=Te[rn],Fn=it[rn],Nn=this.getValueInRange(En.range),ni=En.rangeOffset+tn;tn+=En.text.length-Nn.length,It[rn]={sortIndex:En.sortIndex,identifier:En.identifier,range:Fn,text:Nn,textChange:new jn.q(En.rangeOffset,Nn,ni,En.text)}}Je||It.sort((rn,En)=>rn.sortIndex-En.sortIndex)}this._mightContainRTL=B,this._mightContainUnusualLineTerminators=ee,this._mightContainNonBasicASCII=fe;const Ut=this._doApplyEdits(Te);let sn=null;if(F&&Ct.length>0){Ct.sort((tn,rn)=>rn.lineNumber-tn.lineNumber),sn=[];for(let tn=0,rn=Ct.length;tn<rn;tn++){const En=Ct[tn].lineNumber;if(tn>0&&Ct[tn-1].lineNumber===En)continue;const Fn=Ct[tn].oldContent,Nn=this.getLineContent(En);Nn.length===0||Nn===Fn||z.LC(Nn)!==-1||sn.push(En)}}return this._onDidChangeContent.fire(),new D.je(It,Ut,sn)}_reduceOperations(k){return k.length<1e3?k:[this._toSingleEditOperation(k)]}_toSingleEditOperation(k){let F=!1;const m=k[0].range,B=k[k.length-1].range,ee=new _.e(m.startLineNumber,m.startColumn,B.endLineNumber,B.endColumn);let fe=m.startLineNumber,Ie=m.startColumn;const Te=[];for(let Ut=0,sn=k.length;Ut<sn;Ut++){const tn=k[Ut],rn=tn.range;F=F||tn.forceMoveMarkers,Te.push(this.getValueInRange(new _.e(fe,Ie,rn.startLineNumber,rn.startColumn))),tn.text.length>0&&Te.push(tn.text),fe=rn.endLineNumber,Ie=rn.endColumn}const Je=Te.join(""),[it,Ct,It]=(0,A.Q)(Je);return{sortIndex:0,identifier:k[0].identifier,range:ee,rangeOffset:this.getOffsetAt(ee.startLineNumber,ee.startColumn),rangeLength:this.getValueLengthInRange(ee,0),text:Je,eolCount:it,firstLineLength:Ct,lastLineLength:It,forceMoveMarkers:F,isAutoWhitespaceEdit:!1}}_doApplyEdits(k){k.sort(Ii._sortOpsDescending);const F=[];for(let m=0;m<k.length;m++){const B=k[m],ee=B.range.startLineNumber,fe=B.range.startColumn,Ie=B.range.endLineNumber,Te=B.range.endColumn;if(ee===Ie&&fe===Te&&B.text.length===0)continue;B.text?(this._pieceTree.delete(B.rangeOffset,B.rangeLength),this._pieceTree.insert(B.rangeOffset,B.text,!0)):this._pieceTree.delete(B.rangeOffset,B.rangeLength);const Je=new _.e(ee,fe,Ie,Te);F.push({range:Je,rangeLength:B.rangeLength,text:B.text,rangeOffset:B.rangeOffset,forceMoveMarkers:B.forceMoveMarkers})}return F}findMatchesLineByLine(k,F,m,B){return this._pieceTree.findMatchesLineByLine(k,F,m,B)}static _getInverseEditRanges(k){const F=[];let m=0,B=0,ee=null;for(let fe=0,Ie=k.length;fe<Ie;fe++){const Te=k[fe];let Je,it;ee?ee.range.endLineNumber===Te.range.startLineNumber?(Je=m,it=B+(Te.range.startColumn-ee.range.endColumn)):(Je=m+(Te.range.startLineNumber-ee.range.endLineNumber),it=Te.range.startColumn):(Je=Te.range.startLineNumber,it=Te.range.startColumn);let Ct;if(Te.text.length>0){const It=Te.eolCount+1;It===1?Ct=new _.e(Je,it,Je,it+Te.firstLineLength):Ct=new _.e(Je,it,Je+It-1,Te.lastLineLength+1)}else Ct=new _.e(Je,it,Je,it);m=Ct.endLineNumber,B=Ct.endColumn,F.push(Ct),ee=Te}return F}static _sortOpsAscending(k,F){const m=_.e.compareRangesUsingEnds(k.range,F.range);return m===0?k.sortIndex-F.sortIndex:m}static _sortOpsDescending(k,F){const m=_.e.compareRangesUsingEnds(k.range,F.range);return m===0?F.sortIndex-k.sortIndex:-m}}class ci{constructor(k,F,m,B,ee,fe,Ie,Te,Je){this._chunks=k,this._bom=F,this._cr=m,this._lf=B,this._crlf=ee,this._containsRTL=fe,this._containsUnusualLineTerminators=Ie,this._isBasicASCII=Te,this._normalizeEOL=Je}_getEOL(k){const F=this._cr+this._lf+this._crlf,m=this._cr+this._crlf;return F===0?k===1?`
`:`\r
`:m>F/2?`\r
`:`
`}create(k){const F=this._getEOL(k),m=this._chunks;if(this._normalizeEOL&&(F===`\r
`&&(this._cr>0||this._lf>0)||F===`
`&&(this._cr>0||this._crlf>0)))for(let ee=0,fe=m.length;ee<fe;ee++){const Ie=m[ee].buffer.replace(/\r\n|\r|\n/g,F),Te=On(Ie);m[ee]=new Mn(Ie,Te)}const B=new Ii(m,this._bom,F,this._containsRTL,this._containsUnusualLineTerminators,this._isBasicASCII,this._normalizeEOL);return{textBuffer:B,disposable:B}}}class oi{constructor(){this.chunks=[],this.BOM="",this._hasPreviousChar=!1,this._previousChar=0,this._tmpLineStarts=[],this.cr=0,this.lf=0,this.crlf=0,this.containsRTL=!1,this.containsUnusualLineTerminators=!1,this.isBasicASCII=!0}acceptChunk(k){if(k.length===0)return;this.chunks.length===0&&z.uS(k)&&(this.BOM=z.c1,k=k.substr(1));const F=k.charCodeAt(k.length-1);F===13||F>=55296&&F<=56319?(this._acceptChunk1(k.substr(0,k.length-1),!1),this._hasPreviousChar=!0,this._previousChar=F):(this._acceptChunk1(k,!1),this._hasPreviousChar=!1,this._previousChar=F)}_acceptChunk1(k,F){!F&&k.length===0||(this._hasPreviousChar?this._acceptChunk2(String.fromCharCode(this._previousChar)+k):this._acceptChunk2(k))}_acceptChunk2(k){const F=In(this._tmpLineStarts,k);this.chunks.push(new Mn(k,F.lineStarts)),this.cr+=F.cr,this.lf+=F.lf,this.crlf+=F.crlf,this.isBasicASCII&&(this.isBasicASCII=F.isBasicASCII),!this.isBasicASCII&&!this.containsRTL&&(this.containsRTL=z.Ut(k)),!this.isBasicASCII&&!this.containsUnusualLineTerminators&&(this.containsUnusualLineTerminators=z.ab(k))}finish(k=!0){return this._finish(),new ci(this.chunks,this.BOM,this.cr,this.lf,this.crlf,this.containsRTL,this.containsUnusualLineTerminators,this.isBasicASCII,k)}_finish(){if(this.chunks.length===0&&this._acceptChunk1("",!0),this._hasPreviousChar){this._hasPreviousChar=!1;const k=this.chunks[this.chunks.length-1];k.buffer+=String.fromCharCode(this._previousChar);const F=On(k.buffer);k.lineStarts=F,this._previousChar===13&&this.cr++}}}var wi=l(27619),Li=l(74372),kn=l(37186),vi=l(51080),Si=l(62867),Ye=l(49960);class Tt{constructor(k,F){this._startLineNumber=k,this._tokens=F}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._startLineNumber+this._tokens.length-1}getLineTokens(k){return this._tokens[k-this._startLineNumber]}appendLineTokens(k){this._tokens.push(k)}}class nn{constructor(){this._tokens=[]}add(k,F){if(this._tokens.length>0){const m=this._tokens[this._tokens.length-1];if(m.endLineNumber+1===k){m.appendLineTokens(F);return}}this._tokens.push(new Tt(k,[F]))}finalize(){return this._tokens}}var hn=l(84180),Vn=l(94976);class Hn{constructor(k){this._default=k,this._store=[]}get(k){return k<this._store.length?this._store[k]:this._default}set(k,F){for(;k>=this._store.length;)this._store[this._store.length]=this._default;this._store[k]=F}delete(k,F){F===0||k>=this._store.length||this._store.splice(k,F)}insert(k,F){if(F===0||k>=this._store.length)return;const m=[];for(let B=0;B<F;B++)m[B]=this._default;this._store=C.Zv(this._store,k,m)}}class Ci{constructor(k,F){this.tokenizationSupport=k,this.initialState=F,this._lineBeginState=new Hn(null),this._lineNeedsTokenization=new Hn(!0),this._firstLineNeedsTokenization=0,this._lineBeginState.set(0,this.initialState)}get invalidLineStartIndex(){return this._firstLineNeedsTokenization}markMustBeTokenized(k){this._lineNeedsTokenization.set(k,!0),this._firstLineNeedsTokenization=Math.min(this._firstLineNeedsTokenization,k)}getBeginState(k){return this._lineBeginState.get(k)}setEndState(k,F,m){if(this._lineNeedsTokenization.set(F,!1),this._firstLineNeedsTokenization=F+1,F===k-1)return;const B=this._lineBeginState.get(F+1);if(B===null||!m.equals(B)){this._lineBeginState.set(F+1,m),this.markMustBeTokenized(F+1);return}let ee=F+1;for(;ee<k&&!this._lineNeedsTokenization.get(ee);)ee++;this._firstLineNeedsTokenization=ee}applyEdits(k,F){this.markMustBeTokenized(k.startLineNumber-1),this._lineBeginState.delete(k.startLineNumber,k.endLineNumber-k.startLineNumber),this._lineNeedsTokenization.delete(k.startLineNumber,k.endLineNumber-k.startLineNumber),this._lineBeginState.insert(k.startLineNumber,F),this._lineNeedsTokenization.insert(k.startLineNumber,F)}}class qi extends L.JT{constructor(k,F,m){super(),this._textModel=k,this._tokenizationPart=F,this._languageIdCodec=m,this._isScheduled=!1,this._isDisposed=!1,this._tokenizationStateStore=null,this._register(vi.RW.onDidChange(B=>{const ee=this._textModel.getLanguageId();B.changedLanguages.indexOf(ee)!==-1&&(this._resetTokenizationState(),this._tokenizationPart.clearTokens())})),this._resetTokenizationState()}dispose(){this._isDisposed=!0,super.dispose()}handleDidChangeContent(k){if(k.isFlush){this._resetTokenizationState();return}if(this._tokenizationStateStore)for(let F=0,m=k.changes.length;F<m;F++){const B=k.changes[F],[ee]=(0,A.Q)(B.text);this._tokenizationStateStore.applyEdits(B.range,ee)}this._beginBackgroundTokenization()}handleDidChangeAttached(){this._beginBackgroundTokenization()}handleDidChangeLanguage(k){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}_resetTokenizationState(){const[k,F]=ri(this._textModel,this._tokenizationPart);k&&F?this._tokenizationStateStore=new Ci(k,F):this._tokenizationStateStore=null,this._beginBackgroundTokenization()}_beginBackgroundTokenization(){this._isScheduled||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._isScheduled=!0,(0,hn.To)(k=>{this._isScheduled=!1,this._backgroundTokenizeWithDeadline(k)}))}_backgroundTokenizeWithDeadline(k){const F=Date.now()+k.timeRemaining(),m=()=>{this._isDisposed||!this._textModel.isAttachedToEditor()||!this._hasLinesToTokenize()||(this._backgroundTokenizeForAtLeast1ms(),Date.now()<F?(0,Vn.fn)(m):this._beginBackgroundTokenization())};m()}_backgroundTokenizeForAtLeast1ms(){const k=this._textModel.getLineCount(),F=new nn,m=Ye.G.create(!1);do if(m.elapsed()>1||this._tokenizeOneInvalidLine(F)>=k)break;while(this._hasLinesToTokenize());this._tokenizationPart.setTokens(F.finalize(),this._isTokenizationComplete())}tokenizeViewport(k,F){const m=new nn;this._tokenizeViewport(m,k,F),this._tokenizationPart.setTokens(m.finalize(),this._isTokenizationComplete())}reset(){this._resetTokenizationState(),this._tokenizationPart.clearTokens()}forceTokenization(k){const F=new nn;this._updateTokensUntilLine(F,k),this._tokenizationPart.setTokens(F.finalize(),this._isTokenizationComplete())}getTokenTypeIfInsertingCharacter(k,F){if(!this._tokenizationStateStore)return 0;this.forceTokenization(k.lineNumber);const m=this._tokenizationStateStore.getBeginState(k.lineNumber-1);if(!m)return 0;const B=this._textModel.getLanguageId(),ee=this._textModel.getLineContent(k.lineNumber),fe=ee.substring(0,k.column-1)+F+ee.substring(k.column-1),Ie=ms(this._languageIdCodec,B,this._tokenizationStateStore.tokenizationSupport,fe,!0,m),Te=new kn.A(Ie.tokens,fe,this._languageIdCodec);if(Te.getCount()===0)return 0;const Je=Te.findTokenIndexAtOffset(k.column-1);return Te.getStandardTokenType(Je)}tokenizeLineWithEdit(k,F,m){const B=k.lineNumber,ee=k.column;if(!this._tokenizationStateStore)return null;this.forceTokenization(B);const fe=this._tokenizationStateStore.getBeginState(B-1);if(!fe)return null;const Ie=this._textModel.getLineContent(B),Te=Ie.substring(0,ee-1)+m+Ie.substring(ee-1+F),Je=this._textModel.getLanguageIdAtPosition(B,0),it=ms(this._languageIdCodec,Je,this._tokenizationStateStore.tokenizationSupport,Te,!0,fe);return new kn.A(it.tokens,Te,this._languageIdCodec)}isCheapToTokenize(k){if(!this._tokenizationStateStore)return!0;const F=this._tokenizationStateStore.invalidLineStartIndex+1;return k>F?!1:k<F||this._textModel.getLineLength(k)<2048}_hasLinesToTokenize(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex<this._textModel.getLineCount():!1}_isTokenizationComplete(){return this._tokenizationStateStore?this._tokenizationStateStore.invalidLineStartIndex>=this._textModel.getLineCount():!1}_tokenizeOneInvalidLine(k){if(!this._tokenizationStateStore||!this._hasLinesToTokenize())return this._textModel.getLineCount()+1;const F=this._tokenizationStateStore.invalidLineStartIndex+1;return this._updateTokensUntilLine(k,F),F}_updateTokensUntilLine(k,F){if(!this._tokenizationStateStore)return;const m=this._textModel.getLanguageId(),B=this._textModel.getLineCount(),ee=F-1;for(let fe=this._tokenizationStateStore.invalidLineStartIndex;fe<=ee;fe++){const Ie=this._textModel.getLineContent(fe+1),Te=this._tokenizationStateStore.getBeginState(fe),Je=ms(this._languageIdCodec,m,this._tokenizationStateStore.tokenizationSupport,Ie,!0,Te);k.add(fe+1,Je.tokens),this._tokenizationStateStore.setEndState(B,fe,Je.endState),fe=this._tokenizationStateStore.invalidLineStartIndex-1}}_tokenizeViewport(k,F,m){if(!this._tokenizationStateStore||m<=this._tokenizationStateStore.invalidLineStartIndex)return;if(F<=this._tokenizationStateStore.invalidLineStartIndex){this._updateTokensUntilLine(k,m);return}let B=this._textModel.getLineFirstNonWhitespaceColumn(F);const ee=[];let fe=null;for(let Je=F-1;B>1&&Je>=1;Je--){const it=this._textModel.getLineFirstNonWhitespaceColumn(Je);if(it!==0&&it<B&&(ee.push(this._textModel.getLineContent(Je)),B=it,fe=this._tokenizationStateStore.getBeginState(Je-1),fe))break}fe||(fe=this._tokenizationStateStore.initialState);const Ie=this._textModel.getLanguageId();let Te=fe;for(let Je=ee.length-1;Je>=0;Je--)Te=ms(this._languageIdCodec,Ie,this._tokenizationStateStore.tokenizationSupport,ee[Je],!1,Te).endState;for(let Je=F;Je<=m;Je++){const it=this._textModel.getLineContent(Je),Ct=ms(this._languageIdCodec,Ie,this._tokenizationStateStore.tokenizationSupport,it,!0,Te);k.add(Je,Ct.tokens),this._tokenizationStateStore.markMustBeTokenized(Je-1),Te=Ct.endState}}}function ri(we,k){if(we.isTooLargeForTokenization())return[null,null];const F=vi.RW.get(k.getLanguageId());if(!F)return[null,null];let m;try{m=F.getInitialState()}catch(B){return(0,j.dL)(B),[null,null]}return[F,m]}function ms(we,k,F,m,B,ee){let fe=null;if(F)try{fe=F.tokenizeEncoded(m,B,ee.clone())}catch(Ie){(0,j.dL)(Ie)}return fe||(fe=(0,Si.Dy)(we.encodeLanguageId(k),ee)),kn.A.convertToEndOffset(fe.tokens,m.length),fe}const fi=new Uint32Array(0).buffer;class _s{static deleteBeginning(k,F){return k===null||k===fi?k:_s.delete(k,0,F)}static deleteEnding(k,F){if(k===null||k===fi)return k;const m=bi(k),B=m[m.length-2];return _s.delete(k,F,B)}static delete(k,F,m){if(k===null||k===fi||F===m)return k;const B=bi(k),ee=B.length>>>1;if(F===0&&B[B.length-2]===m)return fi;const fe=kn.A.findIndexInTokensArray(B,F),Ie=fe>0?B[fe-1<<1]:0,Te=B[fe<<1];if(m<Te){const Ut=m-F;for(let sn=fe;sn<ee;sn++)B[sn<<1]-=Ut;return k}let Je,it;Ie!==F?(B[fe<<1]=F,Je=fe+1<<1,it=F):(Je=fe<<1,it=Ie);const Ct=m-F;for(let Ut=fe+1;Ut<ee;Ut++){const sn=B[Ut<<1]-Ct;sn>it&&(B[Je++]=sn,B[Je++]=B[(Ut<<1)+1],it=sn)}if(Je===B.length)return k;const It=new Uint32Array(Je);return It.set(B.subarray(0,Je),0),It.buffer}static append(k,F){if(F===fi)return k;if(k===fi)return F;if(k===null)return k;if(F===null)return null;const m=bi(k),B=bi(F),ee=B.length>>>1,fe=new Uint32Array(m.length+B.length);fe.set(m,0);let Ie=m.length;const Te=m[m.length-2];for(let Je=0;Je<ee;Je++)fe[Ie++]=B[Je<<1]+Te,fe[Ie++]=B[(Je<<1)+1];return fe.buffer}static insert(k,F,m){if(k===null||k===fi)return k;const B=bi(k),ee=B.length>>>1;let fe=kn.A.findIndexInTokensArray(B,F);fe>0&&B[fe-1<<1]===F&&fe--;for(let Ie=fe;Ie<ee;Ie++)B[Ie<<1]+=m;return k}}function bi(we){return we instanceof Uint32Array?we:new Uint32Array(we)}var $i=l(15880);class Ei{constructor(k){this._lineTokens=[],this._len=0,this._languageIdCodec=k}flush(){this._lineTokens=[],this._len=0}getTokens(k,F,m){let B=null;if(F<this._len&&(B=this._lineTokens[F]),B!==null&&B!==fi)return new kn.A(bi(B),m,this._languageIdCodec);const ee=new Uint32Array(2);return ee[0]=m.length,ee[1]=Xi(this._languageIdCodec.encodeLanguageId(k)),new kn.A(ee,m,this._languageIdCodec)}static _massageTokens(k,F,m){const B=m?bi(m):null;if(F===0){let ee=!1;if(B&&B.length>1&&(ee=$i.N.getLanguageId(B[1])!==k),!ee)return fi}if(!B||B.length===0){const ee=new Uint32Array(2);return ee[0]=F,ee[1]=Xi(k),ee.buffer}return B[B.length-2]=F,B.byteOffset===0&&B.byteLength===B.buffer.byteLength?B.buffer:B}_ensureLine(k){for(;k>=this._len;)this._lineTokens[this._len]=null,this._len++}_deleteLines(k,F){F!==0&&(k+F>this._len&&(F=this._len-k),this._lineTokens.splice(k,F),this._len-=F)}_insertLines(k,F){if(F===0)return;const m=[];for(let B=0;B<F;B++)m[B]=null;this._lineTokens=C.Zv(this._lineTokens,k,m),this._len+=F}setTokens(k,F,m,B,ee){const fe=Ei._massageTokens(this._languageIdCodec.encodeLanguageId(k),m,B);this._ensureLine(F);const Ie=this._lineTokens[F];return this._lineTokens[F]=fe,ee?!Ei._equals(Ie,fe):!1}static _equals(k,F){if(!k||!F)return!k&&!F;const m=bi(k),B=bi(F);if(m.length!==B.length)return!1;for(let ee=0,fe=m.length;ee<fe;ee++)if(m[ee]!==B[ee])return!1;return!0}acceptEdit(k,F,m){this._acceptDeleteRange(k),this._acceptInsertText(new S.L(k.startLineNumber,k.startColumn),F,m)}_acceptDeleteRange(k){const F=k.startLineNumber-1;if(F>=this._len)return;if(k.startLineNumber===k.endLineNumber){if(k.startColumn===k.endColumn)return;this._lineTokens[F]=_s.delete(this._lineTokens[F],k.startColumn-1,k.endColumn-1);return}this._lineTokens[F]=_s.deleteEnding(this._lineTokens[F],k.startColumn-1);const m=k.endLineNumber-1;let B=null;m<this._len&&(B=_s.deleteBeginning(this._lineTokens[m],k.endColumn-1)),this._lineTokens[F]=_s.append(this._lineTokens[F],B),this._deleteLines(k.startLineNumber,k.endLineNumber-k.startLineNumber)}_acceptInsertText(k,F,m){if(F===0&&m===0)return;const B=k.lineNumber-1;if(!(B>=this._len)){if(F===0){this._lineTokens[B]=_s.insert(this._lineTokens[B],k.column-1,m);return}this._lineTokens[B]=_s.deleteEnding(this._lineTokens[B],k.column-1),this._lineTokens[B]=_s.insert(this._lineTokens[B],k.column-1,m),this._insertLines(k.lineNumber,F)}}}function Xi(we){return(we<<0|0<<8|0<<11|1<<15|2<<24|1024)>>>0}class Es{constructor(k){this._pieces=[],this._isComplete=!1,this._languageIdCodec=k}flush(){this._pieces=[],this._isComplete=!1}isEmpty(){return this._pieces.length===0}set(k,F){this._pieces=k||[],this._isComplete=F}setPartial(k,F){let m=k;if(F.length>0){const ee=F[0].getRange(),fe=F[F.length-1].getRange();if(!ee||!fe)return k;m=k.plusRange(ee).plusRange(fe)}let B=null;for(let ee=0,fe=this._pieces.length;ee<fe;ee++){const Ie=this._pieces[ee];if(Ie.endLineNumber<m.startLineNumber)continue;if(Ie.startLineNumber>m.endLineNumber){B=B||{index:ee};break}if(Ie.removeTokens(m),Ie.isEmpty()){this._pieces.splice(ee,1),ee--,fe--;continue}if(Ie.endLineNumber<m.startLineNumber)continue;if(Ie.startLineNumber>m.endLineNumber){B=B||{index:ee};continue}const[Te,Je]=Ie.split(m);if(Te.isEmpty()){B=B||{index:ee};continue}Je.isEmpty()||(this._pieces.splice(ee,1,Te,Je),ee++,fe++,B=B||{index:ee})}return B=B||{index:this._pieces.length},F.length>0&&(this._pieces=C.Zv(this._pieces,B.index,F)),m}isComplete(){return this._isComplete}addSparseTokens(k,F){if(F.getLineContent().length===0)return F;const m=this._pieces;if(m.length===0)return F;const B=Es._findFirstPieceWithLine(m,k),ee=m[B].getLineTokens(k);if(!ee)return F;const fe=F.getCount(),Ie=ee.getCount();let Te=0;const Je=[];let it=0,Ct=0;const It=(Ut,sn)=>{Ut!==Ct&&(Ct=Ut,Je[it++]=Ut,Je[it++]=sn)};for(let Ut=0;Ut<Ie;Ut++){const sn=ee.getStartCharacter(Ut),tn=ee.getEndCharacter(Ut),rn=ee.getMetadata(Ut),En=((rn&1?2048:0)|(rn&2?4096:0)|(rn&4?8192:0)|(rn&8?16384:0)|(rn&16?16744448:0)|(rn&32?4278190080:0))>>>0,Fn=~En>>>0;for(;Te<fe&&F.getEndOffset(Te)<=sn;)It(F.getEndOffset(Te),F.getMetadata(Te)),Te++;for(Te<fe&&F.getStartOffset(Te)<sn&&It(sn,F.getMetadata(Te));Te<fe&&F.getEndOffset(Te)<tn;)It(F.getEndOffset(Te),F.getMetadata(Te)&Fn|rn&En),Te++;if(Te<fe)It(tn,F.getMetadata(Te)&Fn|rn&En),F.getEndOffset(Te)===tn&&Te++;else{const Nn=Math.min(Math.max(0,Te-1),fe-1);It(tn,F.getMetadata(Nn)&Fn|rn&En)}}for(;Te<fe;)It(F.getEndOffset(Te),F.getMetadata(Te)),Te++;return new kn.A(new Uint32Array(Je),F.getLineContent(),this._languageIdCodec)}static _findFirstPieceWithLine(k,F){let m=0,B=k.length-1;for(;m<B;){let ee=m+Math.floor((B-m)/2);if(k[ee].endLineNumber<F)m=ee+1;else if(k[ee].startLineNumber>F)B=ee-1;else{for(;ee>m&&k[ee-1].startLineNumber<=F&&F<=k[ee-1].endLineNumber;)ee--;return ee}}return m}acceptEdit(k,F,m,B,ee){for(const fe of this._pieces)fe.acceptEdit(k,F,m,B,ee)}}class Ks extends Li.U{constructor(k,F,m,B,ee){super(),this._languageService=k,this._languageConfigurationService=F,this._textModel=m,this.bracketPairsTextModelPart=B,this._languageId=ee,this._onDidChangeLanguage=this._register(new W.Q5),this.onDidChangeLanguage=this._onDidChangeLanguage.event,this._onDidChangeLanguageConfiguration=this._register(new W.Q5),this.onDidChangeLanguageConfiguration=this._onDidChangeLanguageConfiguration.event,this._onDidChangeTokens=this._register(new W.Q5),this.onDidChangeTokens=this._onDidChangeTokens.event,this._backgroundTokenizationState=0,this._onBackgroundTokenizationStateChanged=this._register(new W.Q5),this._tokens=new Ei(this._languageService.languageIdCodec),this._semanticTokens=new Es(this._languageService.languageIdCodec),this._tokenization=new qi(m,this,this._languageService.languageIdCodec),this._languageRegistryListener=this._languageConfigurationService.onDidChange(fe=>{fe.affects(this._languageId)&&this._onDidChangeLanguageConfiguration.fire({})})}acceptEdit(k,F,m,B,ee){this._tokens.acceptEdit(k,m,B),this._semanticTokens.acceptEdit(k,m,B,ee,F.length>0?F.charCodeAt(0):0)}handleDidChangeAttached(){this._tokenization.handleDidChangeAttached()}flush(){this._tokens.flush(),this._semanticTokens.flush()}handleDidChangeContent(k){this._tokenization.handleDidChangeContent(k)}dispose(){this._languageRegistryListener.dispose(),this._tokenization.dispose(),super.dispose()}get backgroundTokenizationState(){return this._backgroundTokenizationState}handleTokenizationProgress(k){if(this._backgroundTokenizationState===2)return;const F=k?2:1;this._backgroundTokenizationState!==F&&(this._backgroundTokenizationState=F,this.bracketPairsTextModelPart.handleDidChangeBackgroundTokenizationState(),this._onBackgroundTokenizationStateChanged.fire())}setTokens(k,F=!1){if(k.length!==0){const m=[];for(let B=0,ee=k.length;B<ee;B++){const fe=k[B];let Ie=0,Te=0,Je=!1;for(let it=fe.startLineNumber;it<=fe.endLineNumber;it++)Je?(this._tokens.setTokens(this._languageId,it-1,this._textModel.getLineLength(it),fe.getLineTokens(it),!1),Te=it):this._tokens.setTokens(this._languageId,it-1,this._textModel.getLineLength(it),fe.getLineTokens(it),!0)&&(Je=!0,Ie=it,Te=it);Je&&m.push({fromLineNumber:Ie,toLineNumber:Te})}m.length>0&&this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!1,ranges:m})}this.handleTokenizationProgress(F)}setSemanticTokens(k,F){this._semanticTokens.set(k,F),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:k!==null,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}hasCompleteSemanticTokens(){return this._semanticTokens.isComplete()}hasSomeSemanticTokens(){return!this._semanticTokens.isEmpty()}setPartialSemanticTokens(k,F){if(this.hasCompleteSemanticTokens())return;const m=this._textModel.validateRange(this._semanticTokens.setPartial(k,F));this._emitModelTokensChangedEvent({tokenizationSupportChanged:!1,semanticTokensApplied:!0,ranges:[{fromLineNumber:m.startLineNumber,toLineNumber:m.endLineNumber}]})}tokenizeViewport(k,F){k=Math.max(1,k),F=Math.min(this._textModel.getLineCount(),F),this._tokenization.tokenizeViewport(k,F)}clearTokens(){this._tokens.flush(),this._emitModelTokensChangedEvent({tokenizationSupportChanged:!0,semanticTokensApplied:!1,ranges:[{fromLineNumber:1,toLineNumber:this._textModel.getLineCount()}]})}_emitModelTokensChangedEvent(k){this._textModel._isDisposing()||(this.bracketPairsTextModelPart.handleDidChangeTokens(k),this._onDidChangeTokens.fire(k))}resetTokenization(){this._tokenization.reset()}forceTokenization(k){if(k<1||k>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");this._tokenization.forceTokenization(k)}isCheapToTokenize(k){return this._tokenization.isCheapToTokenize(k)}tokenizeIfCheap(k){this.isCheapToTokenize(k)&&this.forceTokenization(k)}getLineTokens(k){if(k<1||k>this._textModel.getLineCount())throw new Error("Illegal value for lineNumber");return this._getLineTokens(k)}_getLineTokens(k){const F=this._textModel.getLineContent(k),m=this._tokens.getTokens(this._languageId,k-1,F);return this._semanticTokens.addSparseTokens(k,m)}getTokenTypeIfInsertingCharacter(k,F,m){const B=this._textModel.validatePosition(new S.L(k,F));return this._tokenization.getTokenTypeIfInsertingCharacter(B,m)}tokenizeLineWithEdit(k,F,m){const B=this._textModel.validatePosition(k);return this._tokenization.tokenizeLineWithEdit(B,F,m)}getLanguageConfiguration(k){return this._languageConfigurationService.getLanguageConfiguration(k)}getWordAtPosition(k){this.assertNotDisposed();const F=this._textModel.validatePosition(k),m=this._textModel.getLineContent(F.lineNumber),B=this._getLineTokens(F.lineNumber),ee=B.findTokenIndexAtOffset(F.column-1),[fe,Ie]=Ks._findLanguageBoundaries(B,ee),Te=(0,wi.t2)(F.column,this.getLanguageConfiguration(B.getLanguageId(ee)).getWordDefinition(),m.substring(fe,Ie),fe);if(Te&&Te.startColumn<=k.column&&k.column<=Te.endColumn)return Te;if(ee>0&&fe===F.column-1){const[Je,it]=Ks._findLanguageBoundaries(B,ee-1),Ct=(0,wi.t2)(F.column,this.getLanguageConfiguration(B.getLanguageId(ee-1)).getWordDefinition(),m.substring(Je,it),Je);if(Ct&&Ct.startColumn<=k.column&&k.column<=Ct.endColumn)return Ct}return null}static _findLanguageBoundaries(k,F){const m=k.getLanguageId(F);let B=0;for(let fe=F;fe>=0&&k.getLanguageId(fe)===m;fe--)B=k.getStartOffset(fe);let ee=k.getLineContent().length;for(let fe=F,Ie=k.getCount();fe<Ie&&k.getLanguageId(fe)===m;fe++)ee=k.getEndOffset(fe);return[B,ee]}getWordUntilPosition(k){const F=this.getWordAtPosition(k);return F?{word:F.word.substr(0,k.column-F.startColumn),startColumn:F.startColumn,endColumn:k.column}:{word:"",startColumn:k.column,endColumn:k.column}}getLanguageId(){return this._languageId}getLanguageIdAtPosition(k,F){const m=this._textModel.validatePosition(new S.L(k,F)),B=this.getLineTokens(m.lineNumber);return B.getLanguageId(B.findTokenIndexAtOffset(m.column-1))}setLanguageId(k){if(this._languageId===k)return;const F={oldLanguage:this._languageId,newLanguage:k};this._languageId=k,this.bracketPairsTextModelPart.handleDidChangeLanguage(F),this._tokenization.handleDidChangeLanguage(F),this._onDidChangeLanguage.fire(F),this._onDidChangeLanguageConfiguration.fire({})}}var gi=l(37259),bs=l(49750),Di=function(we,k,F,m){var B=arguments.length,ee=B<3?k:m===null?m=Object.getOwnPropertyDescriptor(k,F):m,fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ee=Reflect.decorate(we,k,F,m);else for(var Ie=we.length-1;Ie>=0;Ie--)(fe=we[Ie])&&(ee=(B<3?fe(ee):B>3?fe(k,F,ee):fe(k,F))||ee);return B>3&&ee&&Object.defineProperty(k,F,ee),ee},ws=function(we,k){return function(F,m){k(F,m,we)}};function uo(we){const k=new oi;return k.acceptChunk(we),k.finish()}function Us(we){const k=new oi;let F;for(;typeof(F=we.read())=="string";)k.acceptChunk(F);return k.finish()}function $s(we,k){let F;return typeof we=="string"?F=uo(we):D.Hf(we)?F=Us(we):F=we,F.create(k)}let cs=0;const on=999,ts=1e4;class Ro{constructor(k){this._source=k,this._eos=!1}read(){if(this._eos)return null;const k=[];let F=0,m=0;do{const B=this._source.read();if(B===null)return this._eos=!0,F===0?null:k.join("");if(B.length>0&&(k[F++]=B,m+=B.length),m>=64*1024)return k.join("")}while(!0)}}const zs=()=>{throw new Error("Invalid change accessor")};let As=class Uf extends L.JT{constructor(k,F,m,B=null,ee,fe,Ie){super(),this._undoRedoService=ee,this._languageService=fe,this._languageConfigurationService=Ie,this._onWillDispose=this._register(new W.Q5),this.onWillDispose=this._onWillDispose.event,this._onDidChangeDecorations=this._register(new Xs(It=>this.handleBeforeFireDecorationsChangedEvent(It))),this.onDidChangeDecorations=this._onDidChangeDecorations.event,this._onDidChangeOptions=this._register(new W.Q5),this.onDidChangeOptions=this._onDidChangeOptions.event,this._onDidChangeAttached=this._register(new W.Q5),this.onDidChangeAttached=this._onDidChangeAttached.event,this._onDidChangeInjectedText=this._register(new W.Q5),this._eventEmitter=this._register(new ki),this._deltaDecorationCallCnt=0,cs++,this.id="$model"+cs,this.isForSimpleWidget=m.isForSimpleWidget,typeof B=="undefined"||B===null?this._associatedResource=P.o.parse("inmemory://model/"+cs):this._associatedResource=B,this._attachedEditorCount=0;const{textBuffer:Te,disposable:Je}=$s(k,m.defaultEOL);this._buffer=Te,this._bufferDisposable=Je,this._options=Uf.resolveOptions(this._buffer,m),this._bracketPairs=this._register(new oe(this,this._languageConfigurationService)),this._guidesTextModelPart=this._register(new Le.l(this,this._languageConfigurationService)),this._decorationProvider=this._register(new Ke(this)),this._tokenizationTextModelPart=new Ks(this._languageService,this._languageConfigurationService,this,this._bracketPairs,F);const it=this._buffer.getLineCount(),Ct=this._buffer.getValueLengthInRange(new _.e(1,1,it,this._buffer.getLineLength(it)+1),0);m.largeFileOptimizations?this._isTooLargeForTokenization=Ct>Uf.LARGE_FILE_SIZE_THRESHOLD||it>Uf.LARGE_FILE_LINE_COUNT_THRESHOLD:this._isTooLargeForTokenization=!1,this._isTooLargeForSyncing=Ct>Uf.MODEL_SYNC_LIMIT,this._versionId=1,this._alternativeVersionId=1,this._initialUndoRedoSnapshot=null,this._isDisposed=!1,this.__isDisposing=!1,this._instanceId=z.PJ(cs),this._lastDecorationId=0,this._decorations=Object.create(null),this._decorationsTree=new Ho,this._commandManager=new ze.NL(this,this._undoRedoService),this._isUndoing=!1,this._isRedoing=!1,this._trimAutoWhitespaceLines=null,this._register(this._decorationProvider.onDidChange(()=>{this._onDidChangeDecorations.beginDeferredEmit(),this._onDidChangeDecorations.fire(),this._onDidChangeDecorations.endDeferredEmit()}))}static resolveOptions(k,F){if(F.detectIndentation){const m=Fe(k,F.tabSize,F.insertSpaces);return new D.dJ({tabSize:m.tabSize,indentSize:m.tabSize,insertSpaces:m.insertSpaces,trimAutoWhitespace:F.trimAutoWhitespace,defaultEOL:F.defaultEOL,bracketPairColorizationOptions:F.bracketPairColorizationOptions})}return new D.dJ({tabSize:F.tabSize,indentSize:F.indentSize,insertSpaces:F.insertSpaces,trimAutoWhitespace:F.trimAutoWhitespace,defaultEOL:F.defaultEOL,bracketPairColorizationOptions:F.bracketPairColorizationOptions})}get onDidChangeLanguage(){return this._tokenizationTextModelPart.onDidChangeLanguage}get onDidChangeLanguageConfiguration(){return this._tokenizationTextModelPart.onDidChangeLanguageConfiguration}get onDidChangeTokens(){return this._tokenizationTextModelPart.onDidChangeTokens}onDidChangeContent(k){return this._eventEmitter.slowEvent(F=>k(F.contentChangedEvent))}onDidChangeContentOrInjectedText(k){return(0,L.F8)(this._eventEmitter.fastEvent(F=>k(F)),this._onDidChangeInjectedText.event(F=>k(F)))}_isDisposing(){return this.__isDisposing}get tokenization(){return this._tokenizationTextModelPart}get bracketPairs(){return this._bracketPairs}get guides(){return this._guidesTextModelPart}dispose(){this.__isDisposing=!0,this._onWillDispose.fire(),this._tokenizationTextModelPart.dispose(),this._isDisposed=!0,super.dispose(),this._bufferDisposable.dispose(),this.__isDisposing=!1;const k=new Ii([],"",`
`,!1,!1,!0,!0);k.dispose(),this._buffer=k,this._bufferDisposable=L.JT.None}_assertNotDisposed(){if(this._isDisposed)throw new Error("Model is disposed!")}_emitContentChangedEvent(k,F){this.__isDisposing||(this._tokenizationTextModelPart.handleDidChangeContent(F),this._bracketPairs.handleDidChangeContent(F),this._eventEmitter.fire(new gi.fV(k,F)))}setValue(k){if(this._assertNotDisposed(),k===null)return;const{textBuffer:F,disposable:m}=$s(k,this._options.defaultEOL);this._setValueFromTextBuffer(F,m)}_createContentChanged2(k,F,m,B,ee,fe,Ie){return{changes:[{range:k,rangeOffset:F,rangeLength:m,text:B}],eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:ee,isRedoing:fe,isFlush:Ie}}_setValueFromTextBuffer(k,F){this._assertNotDisposed();const m=this.getFullModelRange(),B=this.getValueLengthInRange(m),ee=this.getLineCount(),fe=this.getLineMaxColumn(ee);this._buffer=k,this._bufferDisposable.dispose(),this._bufferDisposable=F,this._increaseVersionId(),this._tokenizationTextModelPart.flush(),this._decorations=Object.create(null),this._decorationsTree=new Ho,this._commandManager.clear(),this._trimAutoWhitespaceLines=null,this._emitContentChangedEvent(new gi.dQ([new gi.Jx],this._versionId,!1,!1),this._createContentChanged2(new _.e(1,1,ee,fe),0,B,this.getValue(),!1,!1,!0))}setEOL(k){this._assertNotDisposed();const F=k===1?`\r
`:`
`;if(this._buffer.getEOL()===F)return;const m=this.getFullModelRange(),B=this.getValueLengthInRange(m),ee=this.getLineCount(),fe=this.getLineMaxColumn(ee);this._onBeforeEOLChange(),this._buffer.setEOL(F),this._increaseVersionId(),this._onAfterEOLChange(),this._emitContentChangedEvent(new gi.dQ([new gi.CZ],this._versionId,!1,!1),this._createContentChanged2(new _.e(1,1,ee,fe),0,B,this.getValue(),!1,!1,!1))}_onBeforeEOLChange(){this._decorationsTree.ensureAllNodesHaveRanges(this)}_onAfterEOLChange(){const k=this.getVersionId(),F=this._decorationsTree.collectNodesPostOrder();for(let m=0,B=F.length;m<B;m++){const ee=F[m],fe=ee.range,Ie=ee.cachedAbsoluteStart-ee.start,Te=this._buffer.getOffsetAt(fe.startLineNumber,fe.startColumn),Je=this._buffer.getOffsetAt(fe.endLineNumber,fe.endColumn);ee.cachedAbsoluteStart=Te,ee.cachedAbsoluteEnd=Je,ee.cachedVersionId=k,ee.start=Te-Ie,ee.end=Je-Ie,Wt(ee)}}onBeforeAttached(){this._attachedEditorCount++,this._attachedEditorCount===1&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}onBeforeDetached(){this._attachedEditorCount--,this._attachedEditorCount===0&&(this._tokenizationTextModelPart.handleDidChangeAttached(),this._onDidChangeAttached.fire(void 0))}isAttachedToEditor(){return this._attachedEditorCount>0}getAttachedEditorCount(){return this._attachedEditorCount}isTooLargeForSyncing(){return this._isTooLargeForSyncing}isTooLargeForTokenization(){return this._isTooLargeForTokenization}isDisposed(){return this._isDisposed}isDominatedByLongLines(){if(this._assertNotDisposed(),this.isTooLargeForTokenization())return!1;let k=0,F=0;const m=this._buffer.getLineCount();for(let B=1;B<=m;B++){const ee=this._buffer.getLineLength(B);ee>=ts?F+=ee:k+=ee}return F>k}get uri(){return this._associatedResource}getOptions(){return this._assertNotDisposed(),this._options}getFormattingOptions(){return{tabSize:this._options.indentSize,insertSpaces:this._options.insertSpaces}}updateOptions(k){this._assertNotDisposed();const F=typeof k.tabSize!="undefined"?k.tabSize:this._options.tabSize,m=typeof k.indentSize!="undefined"?k.indentSize:this._options.indentSize,B=typeof k.insertSpaces!="undefined"?k.insertSpaces:this._options.insertSpaces,ee=typeof k.trimAutoWhitespace!="undefined"?k.trimAutoWhitespace:this._options.trimAutoWhitespace,fe=typeof k.bracketColorizationOptions!="undefined"?k.bracketColorizationOptions:this._options.bracketPairColorizationOptions,Ie=new D.dJ({tabSize:F,indentSize:m,insertSpaces:B,defaultEOL:this._options.defaultEOL,trimAutoWhitespace:ee,bracketPairColorizationOptions:fe});if(this._options.equals(Ie))return;const Te=this._options.createChangeEvent(Ie);this._options=Ie,this._bracketPairs.handleDidChangeOptions(Te),this._decorationProvider.handleDidChangeOptions(Te),this._onDidChangeOptions.fire(Te)}detectIndentation(k,F){this._assertNotDisposed();const m=Fe(this._buffer,F,k);this.updateOptions({insertSpaces:m.insertSpaces,tabSize:m.tabSize,indentSize:m.tabSize})}normalizeIndentation(k){return this._assertNotDisposed(),(0,T.x)(k,this._options.indentSize,this._options.insertSpaces)}getVersionId(){return this._assertNotDisposed(),this._versionId}mightContainRTL(){return this._buffer.mightContainRTL()}mightContainUnusualLineTerminators(){return this._buffer.mightContainUnusualLineTerminators()}removeUnusualLineTerminators(k=null){const F=this.findMatches(z.Qe.source,!1,!0,!1,null,!1,1073741824);this._buffer.resetMightContainUnusualLineTerminators(),this.pushEditOperations(k,F.map(m=>({range:m.range,text:null})),()=>null)}mightContainNonBasicASCII(){return this._buffer.mightContainNonBasicASCII()}getAlternativeVersionId(){return this._assertNotDisposed(),this._alternativeVersionId}getInitialUndoRedoSnapshot(){return this._assertNotDisposed(),this._initialUndoRedoSnapshot}getOffsetAt(k){this._assertNotDisposed();const F=this._validatePosition(k.lineNumber,k.column,0);return this._buffer.getOffsetAt(F.lineNumber,F.column)}getPositionAt(k){this._assertNotDisposed();const F=Math.min(this._buffer.getLength(),Math.max(0,k));return this._buffer.getPositionAt(F)}_increaseVersionId(){this._versionId=this._versionId+1,this._alternativeVersionId=this._versionId}_overwriteVersionId(k){this._versionId=k}_overwriteAlternativeVersionId(k){this._alternativeVersionId=k}_overwriteInitialUndoRedoSnapshot(k){this._initialUndoRedoSnapshot=k}getValue(k,F=!1){this._assertNotDisposed();const m=this.getFullModelRange(),B=this.getValueInRange(m,k);return F?this._buffer.getBOM()+B:B}createSnapshot(k=!1){return new Ro(this._buffer.createSnapshot(k))}getValueLength(k,F=!1){this._assertNotDisposed();const m=this.getFullModelRange(),B=this.getValueLengthInRange(m,k);return F?this._buffer.getBOM().length+B:B}getValueInRange(k,F=0){return this._assertNotDisposed(),this._buffer.getValueInRange(this.validateRange(k),F)}getValueLengthInRange(k,F=0){return this._assertNotDisposed(),this._buffer.getValueLengthInRange(this.validateRange(k),F)}getCharacterCountInRange(k,F=0){return this._assertNotDisposed(),this._buffer.getCharacterCountInRange(this.validateRange(k),F)}getLineCount(){return this._assertNotDisposed(),this._buffer.getLineCount()}getLineContent(k){if(this._assertNotDisposed(),k<1||k>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineContent(k)}getLineLength(k){if(this._assertNotDisposed(),k<1||k>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(k)}getLinesContent(){return this._assertNotDisposed(),this._buffer.getLinesContent()}getEOL(){return this._assertNotDisposed(),this._buffer.getEOL()}getEndOfLineSequence(){return this._assertNotDisposed(),this._buffer.getEOL()===`
`?0:1}getLineMinColumn(k){return this._assertNotDisposed(),1}getLineMaxColumn(k){if(this._assertNotDisposed(),k<1||k>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLength(k)+1}getLineFirstNonWhitespaceColumn(k){if(this._assertNotDisposed(),k<1||k>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineFirstNonWhitespaceColumn(k)}getLineLastNonWhitespaceColumn(k){if(this._assertNotDisposed(),k<1||k>this.getLineCount())throw new Error("Illegal value for lineNumber");return this._buffer.getLineLastNonWhitespaceColumn(k)}_validateRangeRelaxedNoAllocations(k){const F=this._buffer.getLineCount(),m=k.startLineNumber,B=k.startColumn;let ee=Math.floor(typeof m=="number"&&!isNaN(m)?m:1),fe=Math.floor(typeof B=="number"&&!isNaN(B)?B:1);if(ee<1)ee=1,fe=1;else if(ee>F)ee=F,fe=this.getLineMaxColumn(ee);else if(fe<=1)fe=1;else{const Ct=this.getLineMaxColumn(ee);fe>=Ct&&(fe=Ct)}const Ie=k.endLineNumber,Te=k.endColumn;let Je=Math.floor(typeof Ie=="number"&&!isNaN(Ie)?Ie:1),it=Math.floor(typeof Te=="number"&&!isNaN(Te)?Te:1);if(Je<1)Je=1,it=1;else if(Je>F)Je=F,it=this.getLineMaxColumn(Je);else if(it<=1)it=1;else{const Ct=this.getLineMaxColumn(Je);it>=Ct&&(it=Ct)}return m===ee&&B===fe&&Ie===Je&&Te===it&&k instanceof _.e&&!(k instanceof y.Y)?k:new _.e(ee,fe,Je,it)}_isValidPosition(k,F,m){if(typeof k!="number"||typeof F!="number"||isNaN(k)||isNaN(F)||k<1||F<1||(k|0)!==k||(F|0)!==F)return!1;const B=this._buffer.getLineCount();if(k>B)return!1;if(F===1)return!0;const ee=this.getLineMaxColumn(k);if(F>ee)return!1;if(m===1){const fe=this._buffer.getLineCharCode(k,F-2);if(z.ZG(fe))return!1}return!0}_validatePosition(k,F,m){const B=Math.floor(typeof k=="number"&&!isNaN(k)?k:1),ee=Math.floor(typeof F=="number"&&!isNaN(F)?F:1),fe=this._buffer.getLineCount();if(B<1)return new S.L(1,1);if(B>fe)return new S.L(fe,this.getLineMaxColumn(fe));if(ee<=1)return new S.L(B,1);const Ie=this.getLineMaxColumn(B);if(ee>=Ie)return new S.L(B,Ie);if(m===1){const Te=this._buffer.getLineCharCode(B,ee-2);if(z.ZG(Te))return new S.L(B,ee-1)}return new S.L(B,ee)}validatePosition(k){return this._assertNotDisposed(),k instanceof S.L&&this._isValidPosition(k.lineNumber,k.column,1)?k:this._validatePosition(k.lineNumber,k.column,1)}_isValidRange(k,F){const m=k.startLineNumber,B=k.startColumn,ee=k.endLineNumber,fe=k.endColumn;if(!this._isValidPosition(m,B,0)||!this._isValidPosition(ee,fe,0))return!1;if(F===1){const Ie=B>1?this._buffer.getLineCharCode(m,B-2):0,Te=fe>1&&fe<=this._buffer.getLineLength(ee)?this._buffer.getLineCharCode(ee,fe-2):0,Je=z.ZG(Ie),it=z.ZG(Te);return!Je&&!it}return!0}validateRange(k){if(this._assertNotDisposed(),k instanceof _.e&&!(k instanceof y.Y)&&this._isValidRange(k,1))return k;const m=this._validatePosition(k.startLineNumber,k.startColumn,0),B=this._validatePosition(k.endLineNumber,k.endColumn,0),ee=m.lineNumber,fe=m.column,Ie=B.lineNumber,Te=B.column;{const Je=fe>1?this._buffer.getLineCharCode(ee,fe-2):0,it=Te>1&&Te<=this._buffer.getLineLength(Ie)?this._buffer.getLineCharCode(Ie,Te-2):0,Ct=z.ZG(Je),It=z.ZG(it);return!Ct&&!It?new _.e(ee,fe,Ie,Te):ee===Ie&&fe===Te?new _.e(ee,fe-1,Ie,Te-1):Ct&&It?new _.e(ee,fe-1,Ie,Te+1):Ct?new _.e(ee,fe-1,Ie,Te):new _.e(ee,fe,Ie,Te+1)}return new _.e(ee,fe,Ie,Te)}modifyPosition(k,F){this._assertNotDisposed();const m=this.getOffsetAt(k)+F;return this.getPositionAt(Math.min(this._buffer.getLength(),Math.max(0,m)))}getFullModelRange(){this._assertNotDisposed();const k=this.getLineCount();return new _.e(1,1,k,this.getLineMaxColumn(k))}findMatchesLineByLine(k,F,m,B){return this._buffer.findMatchesLineByLine(k,F,m,B)}findMatches(k,F,m,B,ee,fe,Ie=on){this._assertNotDisposed();let Te=null;F!==null&&(Array.isArray(F)||(F=[F]),F.every(Ct=>_.e.isIRange(Ct))&&(Te=F.map(Ct=>this.validateRange(Ct)))),Te===null&&(Te=[this.getFullModelRange()]),Te=Te.sort((Ct,It)=>Ct.startLineNumber-It.startLineNumber||Ct.startColumn-It.startColumn);const Je=[];Je.push(Te.reduce((Ct,It)=>_.e.areIntersecting(Ct,It)?Ct.plusRange(It):(Je.push(Ct),It)));let it;if(!m&&k.indexOf(`
`)<0){const It=new Qt.bc(k,m,B,ee).parseSearchRequest();if(!It)return[];it=Ut=>this.findMatchesLineByLine(Ut,It,fe,Ie)}else it=Ct=>Qt.pM.findMatches(this,new Qt.bc(k,m,B,ee),Ct,fe,Ie);return Je.map(it).reduce((Ct,It)=>Ct.concat(It),[])}findNextMatch(k,F,m,B,ee,fe){this._assertNotDisposed();const Ie=this.validatePosition(F);if(!m&&k.indexOf(`
`)<0){const Je=new Qt.bc(k,m,B,ee).parseSearchRequest();if(!Je)return null;const it=this.getLineCount();let Ct=new _.e(Ie.lineNumber,Ie.column,it,this.getLineMaxColumn(it)),It=this.findMatchesLineByLine(Ct,Je,fe,1);return Qt.pM.findNextMatch(this,new Qt.bc(k,m,B,ee),Ie,fe),It.length>0||(Ct=new _.e(1,1,Ie.lineNumber,this.getLineMaxColumn(Ie.lineNumber)),It=this.findMatchesLineByLine(Ct,Je,fe,1),It.length>0)?It[0]:null}return Qt.pM.findNextMatch(this,new Qt.bc(k,m,B,ee),Ie,fe)}findPreviousMatch(k,F,m,B,ee,fe){this._assertNotDisposed();const Ie=this.validatePosition(F);return Qt.pM.findPreviousMatch(this,new Qt.bc(k,m,B,ee),Ie,fe)}pushStackElement(){this._commandManager.pushStackElement()}popStackElement(){this._commandManager.popStackElement()}pushEOL(k){if((this.getEOL()===`
`?0:1)!==k)try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEOL(k)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_validateEditOperation(k){return k instanceof D.Qi?k:new D.Qi(k.identifier||null,this.validateRange(k.range),k.text,k.forceMoveMarkers||!1,k.isAutoWhitespaceEdit||!1,k._isTracked||!1)}_validateEditOperations(k){const F=[];for(let m=0,B=k.length;m<B;m++)F[m]=this._validateEditOperation(k[m]);return F}pushEditOperations(k,F,m){try{return this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._pushEditOperations(k,this._validateEditOperations(F),m)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_pushEditOperations(k,F,m){if(this._options.trimAutoWhitespace&&this._trimAutoWhitespaceLines){const B=F.map(fe=>({range:this.validateRange(fe.range),text:fe.text}));let ee=!0;if(k)for(let fe=0,Ie=k.length;fe<Ie;fe++){const Te=k[fe];let Je=!1;for(let it=0,Ct=B.length;it<Ct;it++){const It=B[it].range,Ut=It.startLineNumber>Te.endLineNumber,sn=Te.startLineNumber>It.endLineNumber;if(!Ut&&!sn){Je=!0;break}}if(!Je){ee=!1;break}}if(ee)for(let fe=0,Ie=this._trimAutoWhitespaceLines.length;fe<Ie;fe++){const Te=this._trimAutoWhitespaceLines[fe],Je=this.getLineMaxColumn(Te);let it=!0;for(let Ct=0,It=B.length;Ct<It;Ct++){const Ut=B[Ct].range,sn=B[Ct].text;if(!(Te<Ut.startLineNumber||Te>Ut.endLineNumber)&&!(Te===Ut.startLineNumber&&Ut.startColumn===Je&&Ut.isEmpty()&&sn&&sn.length>0&&sn.charAt(0)===`
`)&&!(Te===Ut.startLineNumber&&Ut.startColumn===1&&Ut.isEmpty()&&sn&&sn.length>0&&sn.charAt(sn.length-1)===`
`)){it=!1;break}}if(it){const Ct=new _.e(Te,1,Te,Je);F.push(new D.Qi(null,Ct,null,!1,!1,!1))}}this._trimAutoWhitespaceLines=null}return this._initialUndoRedoSnapshot===null&&(this._initialUndoRedoSnapshot=this._undoRedoService.createSnapshot(this.uri)),this._commandManager.pushEditOperation(k,F,m)}_applyUndo(k,F,m,B){const ee=k.map(fe=>{const Ie=this.getPositionAt(fe.newPosition),Te=this.getPositionAt(fe.newEnd);return{range:new _.e(Ie.lineNumber,Ie.column,Te.lineNumber,Te.column),text:fe.oldText}});this._applyUndoRedoEdits(ee,F,!0,!1,m,B)}_applyRedo(k,F,m,B){const ee=k.map(fe=>{const Ie=this.getPositionAt(fe.oldPosition),Te=this.getPositionAt(fe.oldEnd);return{range:new _.e(Ie.lineNumber,Ie.column,Te.lineNumber,Te.column),text:fe.newText}});this._applyUndoRedoEdits(ee,F,!1,!0,m,B)}_applyUndoRedoEdits(k,F,m,B,ee,fe){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit(),this._isUndoing=m,this._isRedoing=B,this.applyEdits(k,!1),this.setEOL(F),this._overwriteAlternativeVersionId(ee)}finally{this._isUndoing=!1,this._isRedoing=!1,this._eventEmitter.endDeferredEmit(fe),this._onDidChangeDecorations.endDeferredEmit()}}applyEdits(k,F=!1){try{this._onDidChangeDecorations.beginDeferredEmit(),this._eventEmitter.beginDeferredEmit();const m=this._validateEditOperations(k);return this._doApplyEdits(m,F)}finally{this._eventEmitter.endDeferredEmit(),this._onDidChangeDecorations.endDeferredEmit()}}_doApplyEdits(k,F){const m=this._buffer.getLineCount(),B=this._buffer.applyEdits(k,this._options.trimAutoWhitespace,F),ee=this._buffer.getLineCount(),fe=B.changes;if(this._trimAutoWhitespaceLines=B.trimAutoWhitespaceLineNumbers,fe.length!==0){for(let Je=0,it=fe.length;Je<it;Je++){const Ct=fe[Je],[It,Ut,sn]=(0,A.Q)(Ct.text);this._tokenizationTextModelPart.acceptEdit(Ct.range,Ct.text,It,Ut,sn),this._decorationsTree.acceptReplace(Ct.rangeOffset,Ct.rangeLength,Ct.text.length,Ct.forceMoveMarkers)}const Ie=[];this._increaseVersionId();let Te=m;for(let Je=0,it=fe.length;Je<it;Je++){const Ct=fe[Je],[It]=(0,A.Q)(Ct.text);this._onDidChangeDecorations.fire();const Ut=Ct.range.startLineNumber,sn=Ct.range.endLineNumber,tn=sn-Ut,rn=It,En=Math.min(tn,rn),Fn=rn-tn,Nn=ee-Te-Fn+Ut,ni=Nn,Ps=Nn+rn,no=this._decorationsTree.getInjectedTextInInterval(this,this.getOffsetAt(new S.L(ni,1)),this.getOffsetAt(new S.L(Ps,this.getLineMaxColumn(Ps))),0),js=gi.gk.fromDecorations(no),Co=new C.H9(js);for(let Wi=En;Wi>=0;Wi--){const Io=Ut+Wi,Rs=Nn+Wi;Co.takeFromEndWhile(Ss=>Ss.lineNumber>Rs);const bo=Co.takeFromEndWhile(Ss=>Ss.lineNumber===Rs);Ie.push(new gi.rU(Io,this.getLineContent(Rs),bo))}if(En<tn){const Wi=Ut+En;Ie.push(new gi.lN(Wi+1,sn))}if(En<rn){const Wi=new C.H9(js),Io=Ut+En,Rs=rn-En,bo=ee-Te-Rs+Io+1,Ss=[],Ao=[];for(let wo=0;wo<Rs;wo++){const So=bo+wo;Ao[wo]=this.getLineContent(So),Wi.takeWhile(Ys=>Ys.lineNumber<So),Ss[wo]=Wi.takeWhile(Ys=>Ys.lineNumber===So)}Ie.push(new gi.Tx(Io+1,Ut+rn,Ao,Ss))}Te+=Fn}this._emitContentChangedEvent(new gi.dQ(Ie,this.getVersionId(),this._isUndoing,this._isRedoing),{changes:fe,eol:this._buffer.getEOL(),versionId:this.getVersionId(),isUndoing:this._isUndoing,isRedoing:this._isRedoing,isFlush:!1})}return B.reverseEdits===null?void 0:B.reverseEdits}undo(){return this._undoRedoService.undo(this.uri)}canUndo(){return this._undoRedoService.canUndo(this.uri)}redo(){return this._undoRedoService.redo(this.uri)}canRedo(){return this._undoRedoService.canRedo(this.uri)}handleBeforeFireDecorationsChangedEvent(k){if(k===null||k.size===0)return;const m=Array.from(k).map(B=>new gi.rU(B,this.getLineContent(B),this._getInjectedTextInLine(B)));this._onDidChangeInjectedText.fire(new gi.D8(m))}changeDecorations(k,F=0){this._assertNotDisposed();try{return this._onDidChangeDecorations.beginDeferredEmit(),this._changeDecorations(F,k)}finally{this._onDidChangeDecorations.endDeferredEmit()}}_changeDecorations(k,F){const m={addDecoration:(ee,fe)=>this._deltaDecorationsImpl(k,[],[{range:ee,options:fe}])[0],changeDecoration:(ee,fe)=>{this._changeDecorationImpl(ee,fe)},changeDecorationOptions:(ee,fe)=>{this._changeDecorationOptionsImpl(ee,ns(fe))},removeDecoration:ee=>{this._deltaDecorationsImpl(k,[ee],[])},deltaDecorations:(ee,fe)=>ee.length===0&&fe.length===0?[]:this._deltaDecorationsImpl(k,ee,fe)};let B=null;try{B=F(m)}catch(ee){(0,j.dL)(ee)}return m.addDecoration=zs,m.changeDecoration=zs,m.changeDecorationOptions=zs,m.removeDecoration=zs,m.deltaDecorations=zs,B}deltaDecorations(k,F,m=0){if(this._assertNotDisposed(),k||(k=[]),k.length===0&&F.length===0)return[];try{return this._deltaDecorationCallCnt++,this._deltaDecorationCallCnt>1&&(console.warn("Invoking deltaDecorations recursively could lead to leaking decorations."),(0,j.dL)(new Error("Invoking deltaDecorations recursively could lead to leaking decorations."))),this._onDidChangeDecorations.beginDeferredEmit(),this._deltaDecorationsImpl(m,k,F)}finally{this._onDidChangeDecorations.endDeferredEmit(),this._deltaDecorationCallCnt--}}_getTrackedRange(k){return this.getDecorationRange(k)}_setTrackedRange(k,F,m){const B=k?this._decorations[k]:null;if(!B)return F?this._deltaDecorationsImpl(0,[],[{range:F,options:si[m]}])[0]:null;if(!F)return this._decorationsTree.delete(B),delete this._decorations[B.id],null;const ee=this._validateRangeRelaxedNoAllocations(F),fe=this._buffer.getOffsetAt(ee.startLineNumber,ee.startColumn),Ie=this._buffer.getOffsetAt(ee.endLineNumber,ee.endColumn);return this._decorationsTree.delete(B),B.reset(this.getVersionId(),fe,Ie,ee),B.setOptions(si[m]),this._decorationsTree.insert(B),B.id}removeAllDecorationsWithOwnerId(k){if(this._isDisposed)return;const F=this._decorationsTree.collectNodesFromOwner(k);for(let m=0,B=F.length;m<B;m++){const ee=F[m];this._decorationsTree.delete(ee),delete this._decorations[ee.id]}}getDecorationOptions(k){const F=this._decorations[k];return F?F.options:null}getDecorationRange(k){const F=this._decorations[k];return F?this._decorationsTree.getNodeRange(this,F):null}getLineDecorations(k,F=0,m=!1){return k<1||k>this.getLineCount()?[]:this.getLinesDecorations(k,k,F,m)}getLinesDecorations(k,F,m=0,B=!1){const ee=this.getLineCount(),fe=Math.min(ee,Math.max(1,k)),Ie=Math.min(ee,Math.max(1,F)),Te=this.getLineMaxColumn(Ie),Je=new _.e(fe,1,Ie,Te),it=this._getDecorationsInRange(Je,m,B);return(0,C.vA)(it,this._decorationProvider.getDecorationsInRange(Je,m,B)),it}getDecorationsInRange(k,F=0,m=!1){const B=this.validateRange(k),ee=this._getDecorationsInRange(B,F,m);return(0,C.vA)(ee,this._decorationProvider.getDecorationsInRange(B,F,m)),ee}getOverviewRulerDecorations(k=0,F=!1){return this._decorationsTree.getAll(this,k,F,!0)}getInjectedTextDecorations(k=0){return this._decorationsTree.getAllInjectedText(this,k)}_getInjectedTextInLine(k){const F=this._buffer.getOffsetAt(k,1),m=F+this._buffer.getLineLength(k),B=this._decorationsTree.getInjectedTextInInterval(this,F,m,0);return gi.gk.fromDecorations(B).filter(ee=>ee.lineNumber===k)}getAllDecorations(k=0,F=!1){let m=this._decorationsTree.getAll(this,k,F,!1);return m=m.concat(this._decorationProvider.getAllDecorations(k,F)),m}_getDecorationsInRange(k,F,m){const B=this._buffer.getOffsetAt(k.startLineNumber,k.startColumn),ee=this._buffer.getOffsetAt(k.endLineNumber,k.endColumn);return this._decorationsTree.getAllInInterval(this,B,ee,F,m)}getRangeAt(k,F){return this._buffer.getRangeAt(k,F-k)}_changeDecorationImpl(k,F){const m=this._decorations[k];if(!m)return;if(m.options.after){const Ie=this.getDecorationRange(k);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ie.endLineNumber)}if(m.options.before){const Ie=this.getDecorationRange(k);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ie.startLineNumber)}const B=this._validateRangeRelaxedNoAllocations(F),ee=this._buffer.getOffsetAt(B.startLineNumber,B.startColumn),fe=this._buffer.getOffsetAt(B.endLineNumber,B.endColumn);this._decorationsTree.delete(m),m.reset(this.getVersionId(),ee,fe,B),this._decorationsTree.insert(m),this._onDidChangeDecorations.checkAffectedAndFire(m.options),m.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(B.endLineNumber),m.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(B.startLineNumber)}_changeDecorationOptionsImpl(k,F){const m=this._decorations[k];if(!m)return;const B=!!(m.options.overviewRuler&&m.options.overviewRuler.color),ee=!!(F.overviewRuler&&F.overviewRuler.color);if(this._onDidChangeDecorations.checkAffectedAndFire(m.options),this._onDidChangeDecorations.checkAffectedAndFire(F),m.options.after||F.after){const fe=this._decorationsTree.getNodeRange(this,m);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fe.endLineNumber)}if(m.options.before||F.before){const fe=this._decorationsTree.getNodeRange(this,m);this._onDidChangeDecorations.recordLineAffectedByInjectedText(fe.startLineNumber)}B!==ee?(this._decorationsTree.delete(m),m.setOptions(F),this._decorationsTree.insert(m)):m.setOptions(F)}_deltaDecorationsImpl(k,F,m){const B=this.getVersionId(),ee=F.length;let fe=0;const Ie=m.length;let Te=0;const Je=new Array(Ie);for(;fe<ee||Te<Ie;){let it=null;if(fe<ee){do it=this._decorations[F[fe++]];while(!it&&fe<ee);if(it){if(it.options.after){const Ct=this._decorationsTree.getNodeRange(this,it);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ct.endLineNumber)}if(it.options.before){const Ct=this._decorationsTree.getNodeRange(this,it);this._onDidChangeDecorations.recordLineAffectedByInjectedText(Ct.startLineNumber)}this._decorationsTree.delete(it),this._onDidChangeDecorations.checkAffectedAndFire(it.options)}}if(Te<Ie){if(!it){const rn=++this._lastDecorationId,En=`${this._instanceId};${rn}`;it=new Be(En,0,0),this._decorations[En]=it}const Ct=m[Te],It=this._validateRangeRelaxedNoAllocations(Ct.range),Ut=ns(Ct.options),sn=this._buffer.getOffsetAt(It.startLineNumber,It.startColumn),tn=this._buffer.getOffsetAt(It.endLineNumber,It.endColumn);it.ownerId=k,it.reset(B,sn,tn,It),it.setOptions(Ut),it.options.after&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(It.endLineNumber),it.options.before&&this._onDidChangeDecorations.recordLineAffectedByInjectedText(It.startLineNumber),this._onDidChangeDecorations.checkAffectedAndFire(Ut),this._decorationsTree.insert(it),Je[Te]=it.id,Te++}else it&&delete this._decorations[it.id]}return Je}getLanguageId(){return this.tokenization.getLanguageId()}setMode(k){this.tokenization.setLanguageId(k)}getLanguageIdAtPosition(k,F){return this.tokenization.getLanguageIdAtPosition(k,F)}getWordAtPosition(k){return this._tokenizationTextModelPart.getWordAtPosition(k)}getWordUntilPosition(k){return this._tokenizationTextModelPart.getWordUntilPosition(k)}normalizePosition(k,F){return k}getLineIndentColumn(k){return eo(this.getLineContent(k))+1}};As.MODEL_SYNC_LIMIT=50*1024*1024,As.LARGE_FILE_SIZE_THRESHOLD=20*1024*1024,As.LARGE_FILE_LINE_COUNT_THRESHOLD=300*1e3,As.DEFAULT_CREATION_OPTIONS={isForSimpleWidget:!1,tabSize:u.D.tabSize,indentSize:u.D.indentSize,insertSpaces:u.D.insertSpaces,detectIndentation:!1,defaultEOL:1,trimAutoWhitespace:u.D.trimAutoWhitespace,largeFileOptimizations:u.D.largeFileOptimizations,bracketPairColorizationOptions:u.D.bracketPairColorizationOptions},As=Di([ws(4,bs.tJ),ws(5,a.O),ws(6,b.c_)],As);function eo(we){let k=0;for(const F of we)if(F===" "||F==="	")k++;else break;return k}function so(we){return!!(we.options.overviewRuler&&we.options.overviewRuler.color)}function oo(we){return!!we.options.after||!!we.options.before}class Ho{constructor(){this._decorationsTree0=new Pt,this._decorationsTree1=new Pt,this._injectedTextDecorationsTree=new Pt}ensureAllNodesHaveRanges(k){this.getAll(k,0,!1,!1)}_ensureNodesHaveRanges(k,F){for(const m of F)m.range===null&&(m.range=k.getRangeAt(m.cachedAbsoluteStart,m.cachedAbsoluteEnd));return F}getAllInInterval(k,F,m,B,ee){const fe=k.getVersionId(),Ie=this._intervalSearch(F,m,B,ee,fe);return this._ensureNodesHaveRanges(k,Ie)}_intervalSearch(k,F,m,B,ee){const fe=this._decorationsTree0.intervalSearch(k,F,m,B,ee),Ie=this._decorationsTree1.intervalSearch(k,F,m,B,ee),Te=this._injectedTextDecorationsTree.intervalSearch(k,F,m,B,ee);return fe.concat(Ie).concat(Te)}getInjectedTextInInterval(k,F,m,B){const ee=k.getVersionId(),fe=this._injectedTextDecorationsTree.intervalSearch(F,m,B,!1,ee);return this._ensureNodesHaveRanges(k,fe).filter(Ie=>Ie.options.showIfCollapsed||!Ie.range.isEmpty())}getAllInjectedText(k,F){const m=k.getVersionId(),B=this._injectedTextDecorationsTree.search(F,!1,m);return this._ensureNodesHaveRanges(k,B).filter(ee=>ee.options.showIfCollapsed||!ee.range.isEmpty())}getAll(k,F,m,B){const ee=k.getVersionId(),fe=this._search(F,m,B,ee);return this._ensureNodesHaveRanges(k,fe)}_search(k,F,m,B){if(m)return this._decorationsTree1.search(k,F,B);{const ee=this._decorationsTree0.search(k,F,B),fe=this._decorationsTree1.search(k,F,B),Ie=this._injectedTextDecorationsTree.search(k,F,B);return ee.concat(fe).concat(Ie)}}collectNodesFromOwner(k){const F=this._decorationsTree0.collectNodesFromOwner(k),m=this._decorationsTree1.collectNodesFromOwner(k),B=this._injectedTextDecorationsTree.collectNodesFromOwner(k);return F.concat(m).concat(B)}collectNodesPostOrder(){const k=this._decorationsTree0.collectNodesPostOrder(),F=this._decorationsTree1.collectNodesPostOrder(),m=this._injectedTextDecorationsTree.collectNodesPostOrder();return k.concat(F).concat(m)}insert(k){oo(k)?this._injectedTextDecorationsTree.insert(k):so(k)?this._decorationsTree1.insert(k):this._decorationsTree0.insert(k)}delete(k){oo(k)?this._injectedTextDecorationsTree.delete(k):so(k)?this._decorationsTree1.delete(k):this._decorationsTree0.delete(k)}getNodeRange(k,F){const m=k.getVersionId();return F.cachedVersionId!==m&&this._resolveNode(F,m),F.range===null&&(F.range=k.getRangeAt(F.cachedAbsoluteStart,F.cachedAbsoluteEnd)),F.range}_resolveNode(k,F){oo(k)?this._injectedTextDecorationsTree.resolveNode(k,F):so(k)?this._decorationsTree1.resolveNode(k,F):this._decorationsTree0.resolveNode(k,F)}acceptReplace(k,F,m,B){this._decorationsTree0.acceptReplace(k,F,m,B),this._decorationsTree1.acceptReplace(k,F,m,B),this._injectedTextDecorationsTree.acceptReplace(k,F,m,B)}}function es(we){return we.replace(/[^a-z0-9\-_]/gi," ")}class as{constructor(k){this.color=k.color||"",this.darkColor=k.darkColor||""}}class xo extends as{constructor(k){super(k),this._resolvedColor=null,this.position=typeof k.position=="number"?k.position:D.sh.Center}getColor(k){return this._resolvedColor||(k.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,k):this._resolvedColor=this._resolveColor(this.color,k)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=null}_resolveColor(k,F){if(typeof k=="string")return k;const m=k?F.getColor(k.id):null;return m?m.toString():""}}class Yi extends as{constructor(k){super(k),this.position=k.position}getColor(k){return this._resolvedColor||(k.type!=="light"&&this.darkColor?this._resolvedColor=this._resolveColor(this.darkColor,k):this._resolvedColor=this._resolveColor(this.color,k)),this._resolvedColor}invalidateCachedColor(){this._resolvedColor=void 0}_resolveColor(k,F){return typeof k=="string"?d.Il.fromHex(k):F.getColor(k.id)}}class Ln{constructor(k){this.content=k.content||"",this.inlineClassName=k.inlineClassName||null,this.inlineClassNameAffectsLetterSpacing=k.inlineClassNameAffectsLetterSpacing||!1,this.attachedData=k.attachedData||null,this.cursorStops=k.cursorStops||null}static from(k){return k instanceof Ln?k:new Ln(k)}}class hi{constructor(k){var F,m;this.description=k.description,this.blockClassName=k.blockClassName?es(k.blockClassName):null,this.stickiness=k.stickiness||0,this.zIndex=k.zIndex||0,this.className=k.className?es(k.className):null,this.hoverMessage=k.hoverMessage||null,this.glyphMarginHoverMessage=k.glyphMarginHoverMessage||null,this.isWholeLine=k.isWholeLine||!1,this.showIfCollapsed=k.showIfCollapsed||!1,this.collapseOnReplaceEdit=k.collapseOnReplaceEdit||!1,this.overviewRuler=k.overviewRuler?new xo(k.overviewRuler):null,this.minimap=k.minimap?new Yi(k.minimap):null,this.glyphMarginClassName=k.glyphMarginClassName?es(k.glyphMarginClassName):null,this.linesDecorationsClassName=k.linesDecorationsClassName?es(k.linesDecorationsClassName):null,this.firstLineDecorationClassName=k.firstLineDecorationClassName?es(k.firstLineDecorationClassName):null,this.marginClassName=k.marginClassName?es(k.marginClassName):null,this.inlineClassName=k.inlineClassName?es(k.inlineClassName):null,this.inlineClassNameAffectsLetterSpacing=k.inlineClassNameAffectsLetterSpacing||!1,this.beforeContentClassName=k.beforeContentClassName?es(k.beforeContentClassName):null,this.afterContentClassName=k.afterContentClassName?es(k.afterContentClassName):null,this.after=k.after?Ln.from(k.after):null,this.before=k.before?Ln.from(k.before):null,this.hideInCommentTokens=(F=k.hideInCommentTokens)!==null&&F!==void 0?F:!1,this.hideInStringTokens=(m=k.hideInStringTokens)!==null&&m!==void 0?m:!1}static register(k){return new hi(k)}static createDynamic(k){return new hi(k)}}hi.EMPTY=hi.register({description:"empty"});const si=[hi.register({description:"tracked-range-always-grows-when-typing-at-edges",stickiness:0}),hi.register({description:"tracked-range-never-grows-when-typing-at-edges",stickiness:1}),hi.register({description:"tracked-range-grows-only-when-typing-before",stickiness:2}),hi.register({description:"tracked-range-grows-only-when-typing-after",stickiness:3})];function ns(we){return we instanceof hi?we:hi.createDynamic(we)}class Xs extends L.JT{constructor(k){super(),this.handleBeforeFire=k,this._actual=this._register(new W.Q5),this.event=this._actual.event,this._affectedInjectedTextLines=null,this._deferredCnt=0,this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(){var k;if(this._deferredCnt--,this._deferredCnt===0){if(this._shouldFire){this.handleBeforeFire(this._affectedInjectedTextLines);const F={affectsMinimap:this._affectsMinimap,affectsOverviewRuler:this._affectsOverviewRuler};this._shouldFire=!1,this._affectsMinimap=!1,this._affectsOverviewRuler=!1,this._actual.fire(F)}(k=this._affectedInjectedTextLines)===null||k===void 0||k.clear(),this._affectedInjectedTextLines=null}}recordLineAffectedByInjectedText(k){this._affectedInjectedTextLines||(this._affectedInjectedTextLines=new Set),this._affectedInjectedTextLines.add(k)}checkAffectedAndFire(k){this._affectsMinimap||(this._affectsMinimap=!!(k.minimap&&k.minimap.position)),this._affectsOverviewRuler||(this._affectsOverviewRuler=!!(k.overviewRuler&&k.overviewRuler.color)),this._shouldFire=!0}fire(){this._affectsMinimap=!0,this._affectsOverviewRuler=!0,this._shouldFire=!0}}class ki extends L.JT{constructor(){super(),this._fastEmitter=this._register(new W.Q5),this.fastEvent=this._fastEmitter.event,this._slowEmitter=this._register(new W.Q5),this.slowEvent=this._slowEmitter.event,this._deferredCnt=0,this._deferredEvent=null}beginDeferredEmit(){this._deferredCnt++}endDeferredEmit(k=null){if(this._deferredCnt--,this._deferredCnt===0&&this._deferredEvent!==null){this._deferredEvent.rawContentChangedEvent.resultingSelection=k;const F=this._deferredEvent;this._deferredEvent=null,this._fastEmitter.fire(F),this._slowEmitter.fire(F)}}fire(k){if(this._deferredCnt>0){this._deferredEvent?this._deferredEvent=this._deferredEvent.merge(k):this._deferredEvent=k;return}this._fastEmitter.fire(k),this._slowEmitter.fire(k)}}},74372:function(nt,xe,l){"use strict";l.d(xe,{U:function(){return d}});var C=l(94214);class d extends C.JT{constructor(){super(...arguments),this._isDisposed=!1}dispose(){super.dispose(),this._isDisposed=!0}assertNotDisposed(){if(this._isDisposed)throw new Error("TextModelPart is disposed!")}}},83829:function(nt,xe,l){"use strict";l.d(xe,{bc:function(){return P},cM:function(){return a},iE:function(){return T},pM:function(){return _},sz:function(){return b}});var C=l(22297),d=l(6669),j=l(67120),W=l(14481),L=l(6276);const z=999;class P{constructor(N,I,E,O){this.searchString=N,this.isRegex=I,this.matchCase=E,this.wordSeparators=O}parseSearchRequest(){if(this.searchString==="")return null;let N;this.isRegex?N=A(this.searchString):N=this.searchString.indexOf(`
`)>=0;let I=null;try{I=C.GF(this.searchString,this.isRegex,{matchCase:this.matchCase,wholeWord:!1,multiline:N,global:!0,unicode:!0})}catch(O){return null}if(!I)return null;let E=!this.isRegex&&!N;return E&&this.searchString.toLowerCase()!==this.searchString.toUpperCase()&&(E=this.matchCase),new L.Tx(I,this.wordSeparators?(0,d.u)(this.wordSeparators):null,E?this.searchString:null)}}function A(D){if(!D||D.length===0)return!1;for(let N=0,I=D.length;N<I;N++){const E=D.charCodeAt(N);if(E===10)return!0;if(E===92){if(N++,N>=I)break;const O=D.charCodeAt(N);if(O===110||O===114||O===87)return!0}}return!1}function T(D,N,I){if(!I)return new L.tk(D,null);const E=[];for(let O=0,R=N.length;O<R;O++)E[O]=N[O];return new L.tk(D,E)}class S{constructor(N){const I=[];let E=0;for(let O=0,R=N.length;O<R;O++)N.charCodeAt(O)===10&&(I[E++]=O);this._lineFeedsOffsets=I}findLineFeedCountBeforeOffset(N){const I=this._lineFeedsOffsets;let E=0,O=I.length-1;if(O===-1||N<=I[0])return 0;for(;E<O;){const R=E+((O-E)/2>>0);I[R]>=N?O=R-1:I[R+1]>=N?(E=R,O=R):E=R+1}return E+1}}class _{static findMatches(N,I,E,O,R){const M=I.parseSearchRequest();return M?M.regex.multiline?this._doFindMatchesMultiline(N,E,new b(M.wordSeparators,M.regex),O,R):this._doFindMatchesLineByLine(N,E,M,O,R):[]}static _getMultilineMatchRange(N,I,E,O,R,M){let K,Z=0;O?(Z=O.findLineFeedCountBeforeOffset(R),K=I+R+Z):K=I+R;let te;if(O){const se=O.findLineFeedCountBeforeOffset(R+M.length)-Z;te=K+M.length+se}else te=K+M.length;const de=N.getPositionAt(K),ge=N.getPositionAt(te);return new W.e(de.lineNumber,de.column,ge.lineNumber,ge.column)}static _doFindMatchesMultiline(N,I,E,O,R){const M=N.getOffsetAt(I.getStartPosition()),K=N.getValueInRange(I,1),Z=N.getEOL()===`\r
`?new S(K):null,te=[];let de=0,ge;for(E.reset(0);ge=E.next(K);)if(te[de++]=T(this._getMultilineMatchRange(N,M,K,Z,ge.index,ge[0]),ge,O),de>=R)return te;return te}static _doFindMatchesLineByLine(N,I,E,O,R){const M=[];let K=0;if(I.startLineNumber===I.endLineNumber){const te=N.getLineContent(I.startLineNumber).substring(I.startColumn-1,I.endColumn-1);return K=this._findMatchesInLine(E,te,I.startLineNumber,I.startColumn-1,K,M,O,R),M}const Z=N.getLineContent(I.startLineNumber).substring(I.startColumn-1);K=this._findMatchesInLine(E,Z,I.startLineNumber,I.startColumn-1,K,M,O,R);for(let te=I.startLineNumber+1;te<I.endLineNumber&&K<R;te++)K=this._findMatchesInLine(E,N.getLineContent(te),te,0,K,M,O,R);if(K<R){const te=N.getLineContent(I.endLineNumber).substring(0,I.endColumn-1);K=this._findMatchesInLine(E,te,I.endLineNumber,0,K,M,O,R)}return M}static _findMatchesInLine(N,I,E,O,R,M,K,Z){const te=N.wordSeparators;if(!K&&N.simpleSearch){const le=N.simpleSearch,se=le.length,X=I.length;let re=-se;for(;(re=I.indexOf(le,re+se))!==-1;)if((!te||a(te,I,X,re,se))&&(M[R++]=new L.tk(new W.e(E,re+1+O,E,re+1+se+O),null),R>=Z))return R;return R}const de=new b(N.wordSeparators,N.regex);let ge;de.reset(0);do if(ge=de.next(I),ge&&(M[R++]=T(new W.e(E,ge.index+1+O,E,ge.index+1+ge[0].length+O),ge,K),R>=Z))return R;while(ge);return R}static findNextMatch(N,I,E,O){const R=I.parseSearchRequest();if(!R)return null;const M=new b(R.wordSeparators,R.regex);return R.regex.multiline?this._doFindNextMatchMultiline(N,E,M,O):this._doFindNextMatchLineByLine(N,E,M,O)}static _doFindNextMatchMultiline(N,I,E,O){const R=new j.L(I.lineNumber,1),M=N.getOffsetAt(R),K=N.getLineCount(),Z=N.getValueInRange(new W.e(R.lineNumber,R.column,K,N.getLineMaxColumn(K)),1),te=N.getEOL()===`\r
`?new S(Z):null;E.reset(I.column-1);const de=E.next(Z);return de?T(this._getMultilineMatchRange(N,M,Z,te,de.index,de[0]),de,O):I.lineNumber!==1||I.column!==1?this._doFindNextMatchMultiline(N,new j.L(1,1),E,O):null}static _doFindNextMatchLineByLine(N,I,E,O){const R=N.getLineCount(),M=I.lineNumber,K=N.getLineContent(M),Z=this._findFirstMatchInLine(E,K,M,I.column,O);if(Z)return Z;for(let te=1;te<=R;te++){const de=(M+te-1)%R,ge=N.getLineContent(de+1),le=this._findFirstMatchInLine(E,ge,de+1,1,O);if(le)return le}return null}static _findFirstMatchInLine(N,I,E,O,R){N.reset(O-1);const M=N.next(I);return M?T(new W.e(E,M.index+1,E,M.index+1+M[0].length),M,R):null}static findPreviousMatch(N,I,E,O){const R=I.parseSearchRequest();if(!R)return null;const M=new b(R.wordSeparators,R.regex);return R.regex.multiline?this._doFindPreviousMatchMultiline(N,E,M,O):this._doFindPreviousMatchLineByLine(N,E,M,O)}static _doFindPreviousMatchMultiline(N,I,E,O){const R=this._doFindMatchesMultiline(N,new W.e(1,1,I.lineNumber,I.column),E,O,10*z);if(R.length>0)return R[R.length-1];const M=N.getLineCount();return I.lineNumber!==M||I.column!==N.getLineMaxColumn(M)?this._doFindPreviousMatchMultiline(N,new j.L(M,N.getLineMaxColumn(M)),E,O):null}static _doFindPreviousMatchLineByLine(N,I,E,O){const R=N.getLineCount(),M=I.lineNumber,K=N.getLineContent(M).substring(0,I.column-1),Z=this._findLastMatchInLine(E,K,M,O);if(Z)return Z;for(let te=1;te<=R;te++){const de=(R+M-te-1)%R,ge=N.getLineContent(de+1),le=this._findLastMatchInLine(E,ge,de+1,O);if(le)return le}return null}static _findLastMatchInLine(N,I,E,O){let R=null,M;for(N.reset(0);M=N.next(I);)R=T(new W.e(E,M.index+1,E,M.index+1+M[0].length),M,O);return R}}function y(D,N,I,E,O){if(E===0)return!0;const R=N.charCodeAt(E-1);if(D.get(R)!==0||R===13||R===10)return!0;if(O>0){const M=N.charCodeAt(E);if(D.get(M)!==0)return!0}return!1}function u(D,N,I,E,O){if(E+O===I)return!0;const R=N.charCodeAt(E+O);if(D.get(R)!==0||R===13||R===10)return!0;if(O>0){const M=N.charCodeAt(E+O-1);if(D.get(M)!==0)return!0}return!1}function a(D,N,I,E,O){return y(D,N,I,E,O)&&u(D,N,I,E,O)}class b{constructor(N,I){this._wordSeparators=N,this._searchRegex=I,this._prevMatchStartIndex=-1,this._prevMatchLength=0}reset(N){this._searchRegex.lastIndex=N,this._prevMatchStartIndex=-1,this._prevMatchLength=0}next(N){const I=N.length;let E;do{if(this._prevMatchStartIndex+this._prevMatchLength===I||(E=this._searchRegex.exec(N),!E))return null;const O=E.index,R=E[0].length;if(O===this._prevMatchStartIndex&&R===this._prevMatchLength){if(R===0){C.ZH(N,I,this._searchRegex.lastIndex)>65535?this._searchRegex.lastIndex+=2:this._searchRegex.lastIndex+=1;continue}return null}if(this._prevMatchStartIndex=O,this._prevMatchLength=R,!this._wordSeparators||a(this._wordSeparators,N,I,O,R))return E}while(E);return null}}},17258:function(nt,xe,l){"use strict";l.d(xe,{q:function(){return C}});function C(d,j){let W=0,L=0;const z=d.length;for(;L<z;){const P=d.charCodeAt(L);if(P===32)W++;else if(P===9)W=W-W%j+j;else break;L++}return L===z?-1:W}},87026:function(nt,xe,l){"use strict";l.d(xe,{p:function(){return j}});var C=l(47397);const d="editorWorkerService",j=(0,C.yh)(d)},16677:function(nt,xe,l){"use strict";l.d(xe,{OG:function(){return de},ML:function(){return R},KO:function(){return Z},Jc:function(){return E},Vl:function(){return D},Vj:function(){return N}});var C=l(28885),d=l(708),j=l(92770),W=l(81171),L=l(52127),z=l(17014),P=l(90357),A=l(94976);function T(ge){for(let le=0,se=ge.length;le<se;le+=4){const X=ge[le+0],re=ge[le+1],ne=ge[le+2],U=ge[le+3];ge[le+0]=U,ge[le+1]=ne,ge[le+2]=re,ge[le+3]=X}}function S(ge){const le=new Uint8Array(ge.buffer,ge.byteOffset,ge.length*4);return A.r()||T(le),P.KN.wrap(le)}function _(ge){const le=new Uint32Array(y(ge));let se=0;if(le[se++]=ge.id,ge.type==="full")le[se++]=1,le[se++]=ge.data.length,le.set(ge.data,se),se+=ge.data.length;else{le[se++]=2,le[se++]=ge.deltas.length;for(const X of ge.deltas)le[se++]=X.start,le[se++]=X.deleteCount,X.data?(le[se++]=X.data.length,le.set(X.data,se),se+=X.data.length):le[se++]=0}return S(le)}function y(ge){let le=0;if(le+=1+1,ge.type==="full")le+=1+ge.data.length;else{le+=1,le+=(1+1+1)*ge.deltas.length;for(const se of ge.deltas)se.data&&(le+=se.data.length)}return le}var u=l(14481),a=l(9172),b=function(ge,le,se,X){function re(ne){return ne instanceof se?ne:new se(function(U){U(ne)})}return new(se||(se=Promise))(function(ne,U){function oe(me){try{ae(X.next(me))}catch(ke){U(ke)}}function q(me){try{ae(X.throw(me))}catch(ke){U(ke)}}function ae(me){me.done?ne(me.value):re(me.value).then(oe,q)}ae((X=X.apply(ge,le||[])).next())})};function D(ge){return ge&&!!ge.data}function N(ge){return ge&&Array.isArray(ge.edits)}class I{constructor(le,se,X){this.provider=le,this.tokens=se,this.error=X}}function E(ge,le){return ge.has(le)}function O(ge,le){const se=ge.orderedGroups(le);return se.length>0?se[0]:[]}function R(ge,le,se,X,re){return b(this,void 0,void 0,function*(){const ne=O(ge,le),U=yield Promise.all(ne.map(oe=>b(this,void 0,void 0,function*(){let q,ae=null;try{q=yield oe.provideDocumentSemanticTokens(le,oe===se?X:null,re)}catch(me){ae=me,q=null}return(!q||!D(q)&&!N(q))&&(q=null),new I(oe,q,ae)})));for(const oe of U){if(oe.error)throw oe.error;if(oe.tokens)return oe}return U.length>0?U[0]:null})}function M(ge,le){const se=ge.orderedGroups(le);return se.length>0?se[0]:null}class K{constructor(le,se){this.provider=le,this.tokens=se}}function Z(ge,le){return ge.has(le)}function te(ge,le){const se=ge.orderedGroups(le);return se.length>0?se[0]:[]}function de(ge,le,se,X){return b(this,void 0,void 0,function*(){const re=te(ge,le),ne=yield Promise.all(re.map(U=>b(this,void 0,void 0,function*(){let oe;try{oe=yield U.provideDocumentRangeSemanticTokens(le,se,X)}catch(q){(0,d.Cp)(q),oe=null}return(!oe||!D(oe))&&(oe=null),new K(U,oe)})));for(const U of ne)if(U.tokens)return U;return ne.length>0?ne[0]:null})}L.P0.registerCommand("_provideDocumentSemanticTokensLegend",(ge,...le)=>b(void 0,void 0,void 0,function*(){const[se]=le;(0,z.p_)(se instanceof j.o);const X=ge.get(W.q).getModel(se);if(!X)return;const{documentSemanticTokensProvider:re}=ge.get(a.p),ne=M(re,X);return ne?ne[0].getLegend():ge.get(L.Hy).executeCommand("_provideDocumentRangeSemanticTokensLegend",se)})),L.P0.registerCommand("_provideDocumentSemanticTokens",(ge,...le)=>b(void 0,void 0,void 0,function*(){const[se]=le;(0,z.p_)(se instanceof j.o);const X=ge.get(W.q).getModel(se);if(!X)return;const{documentSemanticTokensProvider:re}=ge.get(a.p);if(!E(re,X))return ge.get(L.Hy).executeCommand("_provideDocumentRangeSemanticTokens",se,X.getFullModelRange());const ne=yield R(re,X,null,null,C.T.None);if(!ne)return;const{provider:U,tokens:oe}=ne;if(!oe||!D(oe))return;const q=_({id:0,type:"full",data:oe.data});return oe.resultId&&U.releaseDocumentSemanticTokens(oe.resultId),q})),L.P0.registerCommand("_provideDocumentRangeSemanticTokensLegend",(ge,...le)=>b(void 0,void 0,void 0,function*(){const[se,X]=le;(0,z.p_)(se instanceof j.o);const re=ge.get(W.q).getModel(se);if(!re)return;const{documentRangeSemanticTokensProvider:ne}=ge.get(a.p),U=te(ne,re);if(U.length===0)return;if(U.length===1)return U[0].getLegend();if(!X||!u.e.isIRange(X))return console.warn("provideDocumentRangeSemanticTokensLegend might be out-of-sync with provideDocumentRangeSemanticTokens unless a range argument is passed in"),U[0].getLegend();const oe=yield de(ne,re,u.e.lift(X),C.T.None);if(!!oe)return oe.provider.getLegend()})),L.P0.registerCommand("_provideDocumentRangeSemanticTokens",(ge,...le)=>b(void 0,void 0,void 0,function*(){const[se,X]=le;(0,z.p_)(se instanceof j.o),(0,z.p_)(u.e.isIRange(X));const re=ge.get(W.q).getModel(se);if(!re)return;const{documentRangeSemanticTokensProvider:ne}=ge.get(a.p),U=yield de(ne,re,u.e.lift(X),C.T.None);if(!(!U||!U.tokens))return _({id:0,type:"full",data:U.tokens.data})}))},91579:function(nt,xe,l){"use strict";l.d(xe,{A:function(){return S}});var C=l(16746),d=l(36230),j=l(91959),W=l(88588),L=l(47397),z=l(36677),P=l(89161),A=function(a,b,D,N){var I=arguments.length,E=I<3?b:N===null?N=Object.getOwnPropertyDescriptor(b,D):N,O;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")E=Reflect.decorate(a,b,D,N);else for(var R=a.length-1;R>=0;R--)(O=a[R])&&(E=(I<3?O(E):I>3?O(b,D,E):O(b,D))||E);return I>3&&E&&Object.defineProperty(b,D,E),E},T=function(a,b){return function(D,N){b(D,N,a)}};const S=(0,L.yh)("ILanguageFeatureDebounceService");var _;(function(a){const b=new WeakMap;let D=0;function N(I){let E=b.get(I);return E===void 0&&(E=++D,b.set(I,E)),E}a.of=N})(_||(_={}));class y{constructor(b,D,N,I,E,O){this._logService=b,this._name=D,this._registry=N,this._default=I,this._min=E,this._max=O,this._cache=new d.z6(50,.7)}_key(b){return b.id+this._registry.all(b).reduce((D,N)=>(0,C.SP)(_.of(N),D),0)}get(b){const D=this._key(b),N=this._cache.get(D);return N?(0,j.uZ)(N.value,this._min,this._max):this.default()}update(b,D){const N=this._key(b);let I=this._cache.get(N);I||(I=new j.N(6),this._cache.set(N,I));const E=(0,j.uZ)(I.update(D),this._min,this._max);return(0,P.xn)(b.uri,"output")||this._logService.trace(`[DEBOUNCE: ${this._name}] for ${b.uri.toString()} is ${E}ms`),E}_overall(){const b=new j.nM;for(const[,D]of this._cache)b.update(D.value);return b.value}default(){const b=this._overall()|0||this._default;return(0,j.uZ)(b,this._min,this._max)}}let u=class{constructor(b){this._logService=b,this._data=new Map}for(b,D,N){var I,E,O;const R=(I=N==null?void 0:N.min)!==null&&I!==void 0?I:50,M=(E=N==null?void 0:N.max)!==null&&E!==void 0?E:Math.pow(R,2),K=(O=N==null?void 0:N.key)!==null&&O!==void 0?O:void 0,Z=`${_.of(b)},${R}${K?","+K:""}`;let te=this._data.get(Z);return te||(te=new y(this._logService,D,b,this._overallAverage()|0||R*1.5,R,M),this._data.set(Z,te)),te}_overallAverage(){const b=new j.nM;for(const D of this._data.values())b.update(D.default());return b.value}};u=A([T(0,z.VZ)],u),(0,W.z)(S,u,!0)},9172:function(nt,xe,l){"use strict";l.d(xe,{p:function(){return d}});var C=l(47397);const d=(0,C.yh)("ILanguageFeaturesService")},94621:function(nt,xe,l){"use strict";l.d(xe,{i:function(){return d}});var C=l(47397);const d=(0,C.yh)("markerDecorationsService")},81171:function(nt,xe,l){"use strict";l.d(xe,{q:function(){return d}});var C=l(47397);const d=(0,C.yh)("modelService")},86466:function(nt,xe,l){"use strict";l.d(xe,{b$:function(){return oe},e3:function(){return q},tw:function(){return ae}});var C=l(60218),d=l(94214),j=l(94976),W=l(708),L=l(75357),z=l(73209),P=l(68347),A=l(49038),T=l(81171),S=l(39839),_=l(57024),y=l(84180),u=l(28885),a=l(16597),b=l(36677),D=l(49750),N=l(16746),I=l(49652),E=l(49407),O=l(4713),R=l(16677),M=l(43299),K=l(13634),Z=l(91579),te=l(49960),de=l(9172),ge=function(Ke,He,ze,Le){var Ze=arguments.length,Ge=Ze<3?He:Le===null?Le=Object.getOwnPropertyDescriptor(He,ze):Le,Fe;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ge=Reflect.decorate(Ke,He,ze,Le);else for(var ct=Ke.length-1;ct>=0;ct--)(Fe=Ke[ct])&&(Ge=(Ze<3?Fe(Ge):Ze>3?Fe(He,ze,Ge):Fe(He,ze))||Ge);return Ze>3&&Ge&&Object.defineProperty(He,ze,Ge),Ge},le=function(Ke,He){return function(ze,Le){He(ze,Le,Ke)}};function se(Ke){return Ke.toString()}function X(Ke){const He=new N.yP,ze=Ke.createSnapshot();let Le;for(;Le=ze.read();)He.update(Le);return He.digest()}class re{constructor(He,ze,Le){this._modelEventListeners=new d.SL,this.model=He,this._languageSelection=null,this._languageSelectionListener=null,this._modelEventListeners.add(He.onWillDispose(()=>ze(He))),this._modelEventListeners.add(He.onDidChangeLanguage(Ze=>Le(He,Ze)))}_disposeLanguageSelection(){this._languageSelectionListener&&(this._languageSelectionListener.dispose(),this._languageSelectionListener=null)}dispose(){this._modelEventListeners.dispose(),this._disposeLanguageSelection()}setLanguage(He){this._disposeLanguageSelection(),this._languageSelection=He,this._languageSelectionListener=this._languageSelection.onDidChange(()=>this.model.setMode(He.languageId)),this.model.setMode(He.languageId)}}const ne=j.IJ||j.dz?1:2;class U{constructor(He,ze,Le,Ze,Ge,Fe,ct,ft){this.uri=He,this.initialUndoRedoSnapshot=ze,this.time=Le,this.sharesUndoRedoStack=Ze,this.heapSize=Ge,this.sha1=Fe,this.versionId=ct,this.alternativeVersionId=ft}}let oe=class jf extends d.JT{constructor(He,ze,Le,Ze,Ge,Fe,ct,ft,Ot){super(),this._configurationService=He,this._resourcePropertiesService=ze,this._themeService=Le,this._logService=Ze,this._undoRedoService=Ge,this._languageService=Fe,this._languageConfigurationService=ct,this._languageFeatureDebounceService=ft,this._onModelAdded=this._register(new C.Q5),this.onModelAdded=this._onModelAdded.event,this._onModelRemoved=this._register(new C.Q5),this.onModelRemoved=this._onModelRemoved.event,this._onModelModeChanged=this._register(new C.Q5),this.onModelLanguageChanged=this._onModelModeChanged.event,this._modelCreationOptionsByLanguageAndResource=Object.create(null),this._models={},this._disposedModels=new Map,this._disposedModelsHeapSize=0,this._semanticStyling=this._register(new ke(this._themeService,this._languageService,this._logService)),this._register(this._configurationService.onDidChangeConfiguration(()=>this._updateModelOptions())),this._updateModelOptions(),this._register(new me(this._semanticStyling,this,this._themeService,this._configurationService,this._languageFeatureDebounceService,Ot))}static _readModelOptions(He,ze){var Le;let Ze=z.D.tabSize;if(He.editor&&typeof He.editor.tabSize!="undefined"){const St=parseInt(He.editor.tabSize,10);isNaN(St)||(Ze=St),Ze<1&&(Ze=1)}let Ge=Ze;if(He.editor&&typeof He.editor.indentSize!="undefined"&&He.editor.indentSize!=="tabSize"){const St=parseInt(He.editor.indentSize,10);isNaN(St)||(Ge=St),Ge<1&&(Ge=1)}let Fe=z.D.insertSpaces;He.editor&&typeof He.editor.insertSpaces!="undefined"&&(Fe=He.editor.insertSpaces==="false"?!1:Boolean(He.editor.insertSpaces));let ct=ne;const ft=He.eol;ft===`\r
`?ct=2:ft===`
`&&(ct=1);let Ot=z.D.trimAutoWhitespace;He.editor&&typeof He.editor.trimAutoWhitespace!="undefined"&&(Ot=He.editor.trimAutoWhitespace==="false"?!1:Boolean(He.editor.trimAutoWhitespace));let Et=z.D.detectIndentation;He.editor&&typeof He.editor.detectIndentation!="undefined"&&(Et=He.editor.detectIndentation==="false"?!1:Boolean(He.editor.detectIndentation));let Vt=z.D.largeFileOptimizations;He.editor&&typeof He.editor.largeFileOptimizations!="undefined"&&(Vt=He.editor.largeFileOptimizations==="false"?!1:Boolean(He.editor.largeFileOptimizations));let We=z.D.bracketPairColorizationOptions;return((Le=He.editor)===null||Le===void 0?void 0:Le.bracketPairColorization)&&typeof He.editor.bracketPairColorization=="object"&&(We={enabled:!!He.editor.bracketPairColorization.enabled,independentColorPoolPerBracketType:!!He.editor.bracketPairColorization.independentColorPoolPerBracketType}),{isForSimpleWidget:ze,tabSize:Ze,indentSize:Ge,insertSpaces:Fe,detectIndentation:Et,defaultEOL:ct,trimAutoWhitespace:Ot,largeFileOptimizations:Vt,bracketPairColorizationOptions:We}}_getEOL(He,ze){if(He)return this._resourcePropertiesService.getEOL(He,ze);const Le=this._configurationService.getValue("files.eol",{overrideIdentifier:ze});return Le&&typeof Le=="string"&&Le!=="auto"?Le:j.OS===3||j.OS===2?`
`:`\r
`}_shouldRestoreUndoStack(){const He=this._configurationService.getValue("files.restoreUndoStack");return typeof He=="boolean"?He:!0}getCreationOptions(He,ze,Le){let Ze=this._modelCreationOptionsByLanguageAndResource[He+ze];if(!Ze){const Ge=this._configurationService.getValue("editor",{overrideIdentifier:He,resource:ze}),Fe=this._getEOL(ze,He);Ze=jf._readModelOptions({editor:Ge,eol:Fe},Le),this._modelCreationOptionsByLanguageAndResource[He+ze]=Ze}return Ze}_updateModelOptions(){const He=this._modelCreationOptionsByLanguageAndResource;this._modelCreationOptionsByLanguageAndResource=Object.create(null);const ze=Object.keys(this._models);for(let Le=0,Ze=ze.length;Le<Ze;Le++){const Ge=ze[Le],Fe=this._models[Ge],ct=Fe.model.getLanguageId(),ft=Fe.model.uri,Ot=He[ct+ft],Et=this.getCreationOptions(ct,ft,Fe.model.isForSimpleWidget);jf._setModelOptionsForModel(Fe.model,Et,Ot)}}static _setModelOptionsForModel(He,ze,Le){Le&&Le.defaultEOL!==ze.defaultEOL&&He.getLineCount()===1&&He.setEOL(ze.defaultEOL===1?0:1),!(Le&&Le.detectIndentation===ze.detectIndentation&&Le.insertSpaces===ze.insertSpaces&&Le.tabSize===ze.tabSize&&Le.indentSize===ze.indentSize&&Le.trimAutoWhitespace===ze.trimAutoWhitespace&&(0,M.fS)(Le.bracketPairColorizationOptions,ze.bracketPairColorizationOptions))&&(ze.detectIndentation?(He.detectIndentation(ze.insertSpaces,ze.tabSize),He.updateOptions({trimAutoWhitespace:ze.trimAutoWhitespace,bracketColorizationOptions:ze.bracketPairColorizationOptions})):He.updateOptions({insertSpaces:ze.insertSpaces,tabSize:ze.tabSize,indentSize:ze.indentSize,trimAutoWhitespace:ze.trimAutoWhitespace,bracketColorizationOptions:ze.bracketPairColorizationOptions}))}_insertDisposedModel(He){this._disposedModels.set(se(He.uri),He),this._disposedModelsHeapSize+=He.heapSize}_removeDisposedModel(He){const ze=this._disposedModels.get(se(He));return ze&&(this._disposedModelsHeapSize-=ze.heapSize),this._disposedModels.delete(se(He)),ze}_ensureDisposedModelsHeapSize(He){if(this._disposedModelsHeapSize>He){const ze=[];for(this._disposedModels.forEach(Le=>{Le.sharesUndoRedoStack||ze.push(Le)}),ze.sort((Le,Ze)=>Le.time-Ze.time);ze.length>0&&this._disposedModelsHeapSize>He;){const Le=ze.shift();this._removeDisposedModel(Le.uri),Le.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(Le.initialUndoRedoSnapshot)}}}_createModelData(He,ze,Le,Ze){const Ge=this.getCreationOptions(ze,Le,Ze),Fe=new L.yO(He,ze,Ge,Le,this._undoRedoService,this._languageService,this._languageConfigurationService);if(Le&&this._disposedModels.has(se(Le))){const Ot=this._removeDisposedModel(Le),Et=this._undoRedoService.getElements(Le),Vt=X(Fe)===Ot.sha1;if(Vt||Ot.sharesUndoRedoStack){for(const We of Et.past)(0,I.e9)(We)&&We.matchesResource(Le)&&We.setModel(Fe);for(const We of Et.future)(0,I.e9)(We)&&We.matchesResource(Le)&&We.setModel(Fe);this._undoRedoService.setElementsValidFlag(Le,!0,We=>(0,I.e9)(We)&&We.matchesResource(Le)),Vt&&(Fe._overwriteVersionId(Ot.versionId),Fe._overwriteAlternativeVersionId(Ot.alternativeVersionId),Fe._overwriteInitialUndoRedoSnapshot(Ot.initialUndoRedoSnapshot))}else Ot.initialUndoRedoSnapshot!==null&&this._undoRedoService.restoreSnapshot(Ot.initialUndoRedoSnapshot)}const ct=se(Fe.uri);if(this._models[ct])throw new Error("ModelService: Cannot add model because it already exists!");const ft=new re(Fe,Ot=>this._onWillDispose(Ot),(Ot,Et)=>this._onDidChangeLanguage(Ot,Et));return this._models[ct]=ft,ft}createModel(He,ze,Le,Ze=!1){let Ge;return ze?(Ge=this._createModelData(He,ze.languageId,Le,Ze),this.setMode(Ge.model,ze)):Ge=this._createModelData(He,P.bd,Le,Ze),this._onModelAdded.fire(Ge.model),Ge.model}setMode(He,ze){if(!ze)return;const Le=this._models[se(He.uri)];!Le||Le.setLanguage(ze)}getModels(){const He=[],ze=Object.keys(this._models);for(let Le=0,Ze=ze.length;Le<Ze;Le++){const Ge=ze[Le];He.push(this._models[Ge].model)}return He}getModel(He){const ze=se(He),Le=this._models[ze];return Le?Le.model:null}getSemanticTokensProviderStyling(He){return this._semanticStyling.get(He)}_schemaShouldMaintainUndoRedoElements(He){return He.scheme===E.lg.file||He.scheme===E.lg.vscodeRemote||He.scheme===E.lg.vscodeUserData||He.scheme===E.lg.vscodeNotebookCell||He.scheme==="fake-fs"}_onWillDispose(He){const ze=se(He.uri),Le=this._models[ze],Ze=this._undoRedoService.getUriComparisonKey(He.uri)!==He.uri.toString();let Ge=!1,Fe=0;if(Ze||this._shouldRestoreUndoStack()&&this._schemaShouldMaintainUndoRedoElements(He.uri)){const ft=this._undoRedoService.getElements(He.uri);if(ft.past.length>0||ft.future.length>0){for(const Ot of ft.past)(0,I.e9)(Ot)&&Ot.matchesResource(He.uri)&&(Ge=!0,Fe+=Ot.heapSize(He.uri),Ot.setModel(He.uri));for(const Ot of ft.future)(0,I.e9)(Ot)&&Ot.matchesResource(He.uri)&&(Ge=!0,Fe+=Ot.heapSize(He.uri),Ot.setModel(He.uri))}}const ct=jf.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK;if(Ge)if(!Ze&&Fe>ct){const ft=Le.model.getInitialUndoRedoSnapshot();ft!==null&&this._undoRedoService.restoreSnapshot(ft)}else this._ensureDisposedModelsHeapSize(ct-Fe),this._undoRedoService.setElementsValidFlag(He.uri,!1,ft=>(0,I.e9)(ft)&&ft.matchesResource(He.uri)),this._insertDisposedModel(new U(He.uri,Le.model.getInitialUndoRedoSnapshot(),Date.now(),Ze,Fe,X(He),He.getVersionId(),He.getAlternativeVersionId()));else if(!Ze){const ft=Le.model.getInitialUndoRedoSnapshot();ft!==null&&this._undoRedoService.restoreSnapshot(ft)}delete this._models[ze],Le.dispose(),delete this._modelCreationOptionsByLanguageAndResource[He.getLanguageId()+He.uri],this._onModelRemoved.fire(He)}_onDidChangeLanguage(He,ze){const Le=ze.oldLanguage,Ze=He.getLanguageId(),Ge=this.getCreationOptions(Le,He.uri,He.isForSimpleWidget),Fe=this.getCreationOptions(Ze,He.uri,He.isForSimpleWidget);jf._setModelOptionsForModel(He,Fe,Ge),this._onModelModeChanged.fire({model:He,oldLanguageId:Le})}};oe.MAX_MEMORY_FOR_CLOSED_FILES_UNDO_STACK=20*1024*1024,oe=ge([le(0,_.Ui),le(1,S.y),le(2,a.XE),le(3,b.VZ),le(4,D.tJ),le(5,A.O),le(6,K.c_),le(7,Z.A),le(8,de.p)],oe);const q="editor.semanticHighlighting";function ae(Ke,He,ze){var Le;const Ze=(Le=ze.getValue(q,{overrideIdentifier:Ke.getLanguageId(),resource:Ke.uri}))===null||Le===void 0?void 0:Le.enabled;return typeof Ze=="boolean"?Ze:He.getColorTheme().semanticHighlighting}let me=class extends d.JT{constructor(He,ze,Le,Ze,Ge,Fe){super(),this._watchers=Object.create(null),this._semanticStyling=He;const ct=Et=>{this._watchers[Et.uri.toString()]=new ut(Et,this._semanticStyling,Le,Ge,Fe)},ft=(Et,Vt)=>{Vt.dispose(),delete this._watchers[Et.uri.toString()]},Ot=()=>{for(const Et of ze.getModels()){const Vt=this._watchers[Et.uri.toString()];ae(Et,Le,Ze)?Vt||ct(Et):Vt&&ft(Et,Vt)}};this._register(ze.onModelAdded(Et=>{ae(Et,Le,Ze)&&ct(Et)})),this._register(ze.onModelRemoved(Et=>{const Vt=this._watchers[Et.uri.toString()];Vt&&ft(Et,Vt)})),this._register(Ze.onDidChangeConfiguration(Et=>{Et.affectsConfiguration(q)&&Ot()})),this._register(Le.onDidColorThemeChange(Ot))}dispose(){for(const He of Object.values(this._watchers))He.dispose();super.dispose()}};me=ge([le(1,T.q),le(2,a.XE),le(3,_.Ui),le(4,Z.A),le(5,de.p)],me);class ke extends d.JT{constructor(He,ze,Le){super(),this._themeService=He,this._languageService=ze,this._logService=Le,this._caches=new WeakMap,this._register(this._themeService.onDidColorThemeChange(()=>{this._caches=new WeakMap}))}get(He){return this._caches.has(He)||this._caches.set(He,new O.$(He.getLegend(),this._themeService,this._languageService,this._logService)),this._caches.get(He)}}class H{constructor(He,ze,Le){this.provider=He,this.resultId=ze,this.data=Le}dispose(){this.provider.releaseDocumentSemanticTokens(this.resultId)}}let ut=class xu extends d.JT{constructor(He,ze,Le,Ze,Ge){super(),this._isDisposed=!1,this._model=He,this._semanticStyling=ze,this._provider=Ge.documentSemanticTokensProvider,this._debounceInformation=Ze.for(this._provider,"DocumentSemanticTokens",{min:xu.REQUEST_MIN_DELAY,max:xu.REQUEST_MAX_DELAY}),this._fetchDocumentSemanticTokens=this._register(new y.pY(()=>this._fetchDocumentSemanticTokensNow(),xu.REQUEST_MIN_DELAY)),this._currentDocumentResponse=null,this._currentDocumentRequestCancellationTokenSource=null,this._documentProvidersChangeListeners=[],this._register(this._model.onDidChangeContent(()=>{this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(this._model.onDidChangeLanguage(()=>{this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(0)}));const Fe=()=>{(0,d.B9)(this._documentProvidersChangeListeners),this._documentProvidersChangeListeners=[];for(const ct of this._provider.all(He))typeof ct.onDidChange=="function"&&this._documentProvidersChangeListeners.push(ct.onDidChange(()=>this._fetchDocumentSemanticTokens.schedule(0)))};Fe(),this._register(this._provider.onDidChange(()=>{Fe(),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._register(Le.onDidColorThemeChange(ct=>{this._setDocumentSemanticTokens(null,null,null,[]),this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))})),this._fetchDocumentSemanticTokens.schedule(0)}dispose(){this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._currentDocumentRequestCancellationTokenSource&&(this._currentDocumentRequestCancellationTokenSource.cancel(),this._currentDocumentRequestCancellationTokenSource=null),this._setDocumentSemanticTokens(null,null,null,[]),this._isDisposed=!0,super.dispose()}_fetchDocumentSemanticTokensNow(){if(this._currentDocumentRequestCancellationTokenSource)return;if(!(0,R.Jc)(this._provider,this._model)){this._currentDocumentResponse&&this._model.tokenization.setSemanticTokens(null,!1);return}const He=new u.A,ze=this._currentDocumentResponse?this._currentDocumentResponse.provider:null,Le=this._currentDocumentResponse&&this._currentDocumentResponse.resultId||null,Ze=(0,R.ML)(this._provider,this._model,ze,Le,He.token);this._currentDocumentRequestCancellationTokenSource=He;const Ge=[],Fe=this._model.onDidChangeContent(ft=>{Ge.push(ft)}),ct=new te.G(!1);Ze.then(ft=>{if(this._debounceInformation.update(this._model,ct.elapsed()),this._currentDocumentRequestCancellationTokenSource=null,Fe.dispose(),!ft)this._setDocumentSemanticTokens(null,null,null,Ge);else{const{provider:Ot,tokens:Et}=ft,Vt=this._semanticStyling.get(Ot);this._setDocumentSemanticTokens(Ot,Et||null,Vt,Ge)}},ft=>{ft&&(W.n2(ft)||typeof ft.message=="string"&&ft.message.indexOf("busy")!==-1)||W.dL(ft),this._currentDocumentRequestCancellationTokenSource=null,Fe.dispose(),Ge.length>0&&(this._fetchDocumentSemanticTokens.isScheduled()||this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model)))})}static _copy(He,ze,Le,Ze,Ge){Ge=Math.min(Ge,Le.length-Ze,He.length-ze);for(let Fe=0;Fe<Ge;Fe++)Le[Ze+Fe]=He[ze+Fe]}_setDocumentSemanticTokens(He,ze,Le,Ze){const Ge=this._currentDocumentResponse,Fe=()=>{Ze.length>0&&!this._fetchDocumentSemanticTokens.isScheduled()&&this._fetchDocumentSemanticTokens.schedule(this._debounceInformation.get(this._model))};if(this._currentDocumentResponse&&(this._currentDocumentResponse.dispose(),this._currentDocumentResponse=null),this._isDisposed){He&&ze&&He.releaseDocumentSemanticTokens(ze.resultId);return}if(!He||!Le){this._model.tokenization.setSemanticTokens(null,!1);return}if(!ze){this._model.tokenization.setSemanticTokens(null,!0),Fe();return}if((0,R.Vj)(ze)){if(!Ge){this._model.tokenization.setSemanticTokens(null,!0);return}if(ze.edits.length===0)ze={resultId:ze.resultId,data:Ge.data};else{let ct=0;for(const We of ze.edits)ct+=(We.data?We.data.length:0)-We.deleteCount;const ft=Ge.data,Ot=new Uint32Array(ft.length+ct);let Et=ft.length,Vt=Ot.length;for(let We=ze.edits.length-1;We>=0;We--){const St=ze.edits[We];if(St.start>ft.length){Le.warnInvalidEditStart(Ge.resultId,ze.resultId,We,St.start,ft.length),this._model.tokenization.setSemanticTokens(null,!0);return}const Re=Et-(St.start+St.deleteCount);Re>0&&(xu._copy(ft,Et-Re,Ot,Vt-Re,Re),Vt-=Re),St.data&&(xu._copy(St.data,0,Ot,Vt-St.data.length,St.data.length),Vt-=St.data.length),Et=St.start}Et>0&&xu._copy(ft,0,Ot,0,Et),ze={resultId:ze.resultId,data:Ot}}}if((0,R.Vl)(ze)){this._currentDocumentResponse=new H(He,ze.resultId,ze.data);const ct=(0,O.h)(ze,Le,this._model.getLanguageId());if(Ze.length>0)for(const ft of Ze)for(const Ot of ct)for(const Et of ft.changes)Ot.applyEdit(Et.range,Et.text);this._model.tokenization.setSemanticTokens(ct,!0)}else this._model.tokenization.setSemanticTokens(null,!0);Fe()}};ut.REQUEST_MIN_DELAY=300,ut.REQUEST_MAX_DELAY=2e3,ut=ge([le(2,a.XE),le(3,Z.A),le(4,de.p)],ut)},58222:function(nt,xe,l){"use strict";l.d(xe,{S:function(){return d}});var C=l(47397);const d=(0,C.yh)("textModelService")},4713:function(nt,xe,l){"use strict";l.d(xe,{$:function(){return u},h:function(){return a}});var C=l(15880),d=l(16597),j=l(36677),W=l(67120),L=l(14481),z=l(9357);class P{constructor(I,E){this._startLineNumber=I,this._tokens=E,this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}static create(I,E){return new P(I,new A(E))}get startLineNumber(){return this._startLineNumber}get endLineNumber(){return this._endLineNumber}toString(){return this._tokens.toString(this._startLineNumber)}_updateEndLineNumber(){this._endLineNumber=this._startLineNumber+this._tokens.getMaxDeltaLine()}isEmpty(){return this._tokens.isEmpty()}getLineTokens(I){return this._startLineNumber<=I&&I<=this._endLineNumber?this._tokens.getLineTokens(I-this._startLineNumber):null}getRange(){const I=this._tokens.getRange();return I&&new L.e(this._startLineNumber+I.startLineNumber,I.startColumn,this._startLineNumber+I.endLineNumber,I.endColumn)}removeTokens(I){const E=I.startLineNumber-this._startLineNumber,O=I.endLineNumber-this._startLineNumber;this._startLineNumber+=this._tokens.removeTokens(E,I.startColumn-1,O,I.endColumn-1),this._updateEndLineNumber()}split(I){const E=I.startLineNumber-this._startLineNumber,O=I.endLineNumber-this._startLineNumber,[R,M,K]=this._tokens.split(E,I.startColumn-1,O,I.endColumn-1);return[new P(this._startLineNumber,R),new P(this._startLineNumber+K,M)]}applyEdit(I,E){const[O,R,M]=(0,z.Q)(E);this.acceptEdit(I,O,R,M,E.length>0?E.charCodeAt(0):0)}acceptEdit(I,E,O,R,M){this._acceptDeleteRange(I),this._acceptInsertText(new W.L(I.startLineNumber,I.startColumn),E,O,R,M),this._updateEndLineNumber()}_acceptDeleteRange(I){if(I.startLineNumber===I.endLineNumber&&I.startColumn===I.endColumn)return;const E=I.startLineNumber-this._startLineNumber,O=I.endLineNumber-this._startLineNumber;if(O<0){const M=O-E;this._startLineNumber-=M;return}const R=this._tokens.getMaxDeltaLine();if(!(E>=R+1)){if(E<0&&O>=R+1){this._startLineNumber=0,this._tokens.clear();return}if(E<0){const M=-E;this._startLineNumber-=M,this._tokens.acceptDeleteRange(I.startColumn-1,0,0,O,I.endColumn-1)}else this._tokens.acceptDeleteRange(0,E,I.startColumn-1,O,I.endColumn-1)}}_acceptInsertText(I,E,O,R,M){if(E===0&&O===0)return;const K=I.lineNumber-this._startLineNumber;if(K<0){this._startLineNumber+=E;return}const Z=this._tokens.getMaxDeltaLine();K>=Z+1||this._tokens.acceptInsertText(K,I.column-1,E,O,R,M)}}class A{constructor(I){this._tokens=I,this._tokenCount=I.length/4}toString(I){const E=[];for(let O=0;O<this._tokenCount;O++)E.push(`(${this._getDeltaLine(O)+I},${this._getStartCharacter(O)}-${this._getEndCharacter(O)})`);return`[${E.join(",")}]`}getMaxDeltaLine(){const I=this._getTokenCount();return I===0?-1:this._getDeltaLine(I-1)}getRange(){const I=this._getTokenCount();if(I===0)return null;const E=this._getStartCharacter(0),O=this._getDeltaLine(I-1),R=this._getEndCharacter(I-1);return new L.e(0,E+1,O,R+1)}_getTokenCount(){return this._tokenCount}_getDeltaLine(I){return this._tokens[4*I]}_getStartCharacter(I){return this._tokens[4*I+1]}_getEndCharacter(I){return this._tokens[4*I+2]}isEmpty(){return this._getTokenCount()===0}getLineTokens(I){let E=0,O=this._getTokenCount()-1;for(;E<O;){const R=E+Math.floor((O-E)/2),M=this._getDeltaLine(R);if(M<I)E=R+1;else if(M>I)O=R-1;else{let K=R;for(;K>E&&this._getDeltaLine(K-1)===I;)K--;let Z=R;for(;Z<O&&this._getDeltaLine(Z+1)===I;)Z++;return new T(this._tokens.subarray(4*K,4*Z+4))}}return this._getDeltaLine(E)===I?new T(this._tokens.subarray(4*E,4*E+4)):null}clear(){this._tokenCount=0}removeTokens(I,E,O,R){const M=this._tokens,K=this._tokenCount;let Z=0,te=!1,de=0;for(let ge=0;ge<K;ge++){const le=4*ge,se=M[le],X=M[le+1],re=M[le+2],ne=M[le+3];if((se>I||se===I&&re>=E)&&(se<O||se===O&&X<=R))te=!0;else{if(Z===0&&(de=se),te){const U=4*Z;M[U]=se-de,M[U+1]=X,M[U+2]=re,M[U+3]=ne}Z++}}return this._tokenCount=Z,de}split(I,E,O,R){const M=this._tokens,K=this._tokenCount,Z=[],te=[];let de=Z,ge=0,le=0;for(let se=0;se<K;se++){const X=4*se,re=M[X],ne=M[X+1],U=M[X+2],oe=M[X+3];if(re>I||re===I&&U>=E){if(re<O||re===O&&ne<=R)continue;de!==te&&(de=te,ge=0,le=re)}de[ge++]=re-le,de[ge++]=ne,de[ge++]=U,de[ge++]=oe}return[new A(new Uint32Array(Z)),new A(new Uint32Array(te)),le]}acceptDeleteRange(I,E,O,R,M){const K=this._tokens,Z=this._tokenCount,te=R-E;let de=0,ge=!1;for(let le=0;le<Z;le++){const se=4*le;let X=K[se],re=K[se+1],ne=K[se+2];const U=K[se+3];if(X<E||X===E&&ne<=O){de++;continue}else if(X===E&&re<O)X===R&&ne>M?ne-=M-O:ne=O;else if(X===E&&re===O)if(X===R&&ne>M)ne-=M-O;else{ge=!0;continue}else if(X<R||X===R&&re<M)if(X===R&&ne>M)X===E?(re=O,ne=re+(ne-M)):(re=0,ne=re+(ne-M));else{ge=!0;continue}else if(X>R){if(te===0&&!ge){de=Z;break}X-=te}else if(X===R&&re>=M)I&&X===0&&(re+=I,ne+=I),X-=te,re-=M-O,ne-=M-O;else throw new Error("Not possible!");const oe=4*de;K[oe]=X,K[oe+1]=re,K[oe+2]=ne,K[oe+3]=U,de++}this._tokenCount=de}acceptInsertText(I,E,O,R,M,K){const Z=O===0&&R===1&&(K>=48&&K<=57||K>=65&&K<=90||K>=97&&K<=122),te=this._tokens,de=this._tokenCount;for(let ge=0;ge<de;ge++){const le=4*ge;let se=te[le],X=te[le+1],re=te[le+2];if(!(se<I||se===I&&re<E)){if(se===I&&re===E)if(Z)re+=1;else continue;else if(se===I&&X<E&&E<re)O===0?re+=R:re=E;else{if(se===I&&X===E&&Z)continue;if(se===I)if(se+=O,O===0)X+=R,re+=R;else{const ne=re-X;X=M+(X-E),re=X+ne}else se+=O}te[le]=se,te[le+1]=X,te[le+2]=re}}}}class T{constructor(I){this._tokens=I}getCount(){return this._tokens.length/4}getStartCharacter(I){return this._tokens[4*I+1]}getEndCharacter(I){return this._tokens[4*I+2]}getMetadata(I){return this._tokens[4*I+3]}}var S=l(49038),_=function(N,I,E,O){var R=arguments.length,M=R<3?I:O===null?O=Object.getOwnPropertyDescriptor(I,E):O,K;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")M=Reflect.decorate(N,I,E,O);else for(var Z=N.length-1;Z>=0;Z--)(K=N[Z])&&(M=(R<3?K(M):R>3?K(I,E,M):K(I,E))||M);return R>3&&M&&Object.defineProperty(I,E,M),M},y=function(N,I){return function(E,O){I(E,O,N)}};let u=class{constructor(I,E,O,R){this._legend=I,this._themeService=E,this._languageService=O,this._logService=R,this._hasWarnedOverlappingTokens=!1,this._hasWarnedInvalidLengthTokens=!1,this._hasWarnedInvalidEditStart=!1,this._hashTable=new D}getMetadata(I,E,O){const R=this._languageService.languageIdCodec.encodeLanguageId(O),M=this._hashTable.get(I,E,R);let K;if(M)K=M.metadata,this._logService.getLevel()===j.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling [CACHED] ${I} / ${E}: foreground ${C.N.getForeground(K)}, fontStyle ${C.N.getFontStyle(K).toString(2)}`);else{let Z=this._legend.tokenTypes[I];const te=[];if(Z){let de=E;for(let le=0;de>0&&le<this._legend.tokenModifiers.length;le++)de&1&&te.push(this._legend.tokenModifiers[le]),de=de>>1;de>0&&this._logService.getLevel()===j.in.Trace&&(this._logService.trace(`SemanticTokensProviderStyling: unknown token modifier index: ${E.toString(2)} for legend: ${JSON.stringify(this._legend.tokenModifiers)}`),te.push("not-in-legend"));const ge=this._themeService.getColorTheme().getTokenStyleMetadata(Z,te,O);if(typeof ge=="undefined")K=2147483647;else{if(K=0,typeof ge.italic!="undefined"){const le=(ge.italic?1:0)<<11;K|=le|1}if(typeof ge.bold!="undefined"){const le=(ge.bold?2:0)<<11;K|=le|2}if(typeof ge.underline!="undefined"){const le=(ge.underline?4:0)<<11;K|=le|4}if(typeof ge.strikethrough!="undefined"){const le=(ge.strikethrough?8:0)<<11;K|=le|8}if(ge.foreground){const le=ge.foreground<<15;K|=le|16}K===0&&(K=2147483647)}}else this._logService.getLevel()===j.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling: unknown token type index: ${I} for legend: ${JSON.stringify(this._legend.tokenTypes)}`),K=2147483647,Z="not-in-legend";this._hashTable.add(I,E,R,K),this._logService.getLevel()===j.in.Trace&&this._logService.trace(`SemanticTokensProviderStyling ${I} (${Z}) / ${E} (${te.join(" ")}): foreground ${C.N.getForeground(K)}, fontStyle ${C.N.getFontStyle(K).toString(2)}`)}return K}warnOverlappingSemanticTokens(I,E){this._hasWarnedOverlappingTokens||(this._hasWarnedOverlappingTokens=!0,console.warn(`Overlapping semantic tokens detected at lineNumber ${I}, column ${E}`))}warnInvalidLengthSemanticTokens(I,E){this._hasWarnedInvalidLengthTokens||(this._hasWarnedInvalidLengthTokens=!0,console.warn(`Semantic token with invalid length detected at lineNumber ${I}, column ${E}`))}warnInvalidEditStart(I,E,O,R,M){this._hasWarnedInvalidEditStart||(this._hasWarnedInvalidEditStart=!0,console.warn(`Invalid semantic tokens edit detected (previousResultId: ${I}, resultId: ${E}) at edit #${O}: The provided start offset ${R} is outside the previous data (length ${M}).`))}};u=_([y(1,d.XE),y(2,S.O),y(3,j.VZ)],u);function a(N,I,E){const O=N.data,R=N.data.length/5|0,M=Math.max(Math.ceil(R/1024),400),K=[];let Z=0,te=1,de=0;for(;Z<R;){const ge=Z;let le=Math.min(ge+M,R);if(le<R){let q=le;for(;q-1>ge&&O[5*q]===0;)q--;if(q-1===ge){let ae=le;for(;ae+1<R&&O[5*ae]===0;)ae++;le=ae}else le=q}let se=new Uint32Array((le-ge)*4),X=0,re=0,ne=0,U=0;for(;Z<le;){const q=5*Z,ae=O[q],me=O[q+1],ke=te+ae|0,H=ae===0?de+me|0:me,ut=O[q+2],Ke=H+ut|0,He=O[q+3],ze=O[q+4];if(Ke<=H)I.warnInvalidLengthSemanticTokens(ke,H+1);else if(ne===ke&&U>H)I.warnOverlappingSemanticTokens(ke,H+1);else{const Le=I.getMetadata(He,ze,E);Le!==2147483647&&(re===0&&(re=ke),se[X]=ke-re,se[X+1]=H,se[X+2]=Ke,se[X+3]=Le,X+=4,ne=ke,U=Ke)}te=ke,de=H,Z++}X!==se.length&&(se=se.subarray(0,X));const oe=P.create(re,se);K.push(oe)}return K}class b{constructor(I,E,O,R){this.tokenTypeIndex=I,this.tokenModifierSet=E,this.languageId=O,this.metadata=R,this.next=null}}class D{constructor(){this._elementsCount=0,this._currentLengthIndex=0,this._currentLength=D._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<D._SIZES.length?2/3*this._currentLength:0),this._elements=[],D._nullOutEntries(this._elements,this._currentLength)}static _nullOutEntries(I,E){for(let O=0;O<E;O++)I[O]=null}_hash2(I,E){return(I<<5)-I+E|0}_hashFunc(I,E,O){return this._hash2(this._hash2(I,E),O)%this._currentLength}get(I,E,O){const R=this._hashFunc(I,E,O);let M=this._elements[R];for(;M;){if(M.tokenTypeIndex===I&&M.tokenModifierSet===E&&M.languageId===O)return M;M=M.next}return null}add(I,E,O,R){if(this._elementsCount++,this._growCount!==0&&this._elementsCount>=this._growCount){const M=this._elements;this._currentLengthIndex++,this._currentLength=D._SIZES[this._currentLengthIndex],this._growCount=Math.round(this._currentLengthIndex+1<D._SIZES.length?2/3*this._currentLength:0),this._elements=[],D._nullOutEntries(this._elements,this._currentLength);for(const K of M){let Z=K;for(;Z;){const te=Z.next;Z.next=null,this._add(Z),Z=te}}}this._add(new b(I,E,O,R))}_add(I){const E=this._hashFunc(I.tokenTypeIndex,I.tokenModifierSet,I.languageId);I.next=this._elements[E],this._elements[E]=I}}D._SIZES=[3,7,13,31,61,127,251,509,1021,2039,4093,8191,16381,32749,65521,131071,262139,524287,1048573,2097143]},39839:function(nt,xe,l){"use strict";l.d(xe,{V:function(){return d},y:function(){return j}});var C=l(47397);const d=(0,C.yh)("textResourceConfigurationService"),j=(0,C.yh)("textResourcePropertiesService")},8924:function(nt,xe,l){"use strict";l.d(xe,{a:function(){return z}});var C=l(14481),d=l(83829),j=l(22297),W=l(17014),L=l(27619);class z{static computeUnicodeHighlights(_,y,u){const a=u?u.startLineNumber:1,b=u?u.endLineNumber:_.getLineCount(),D=new A(y),N=D.getCandidateCodePoints();let I;N==="allNonBasicAscii"?I=new RegExp("[^\\t\\n\\r\\x20-\\x7E]","g"):I=new RegExp(`${P(Array.from(N))}`,"g");const E=new d.sz(null,I),O=[];let R=!1,M,K=0,Z=0,te=0;e:for(let de=a,ge=b;de<=ge;de++){const le=_.getLineContent(de),se=le.length;E.reset(0);do if(M=E.next(le),M){let X=M.index,re=M.index+M[0].length;if(X>0){const q=le.charCodeAt(X-1);j.ZG(q)&&X--}if(re+1<se){const q=le.charCodeAt(re-1);j.ZG(q)&&re++}const ne=le.substring(X,re),U=(0,L.t2)(X+1,L.Af,le,0),oe=D.shouldHighlightNonBasicASCII(ne,U?U.word:null);if(oe!==0){oe===3?K++:oe===2?Z++:oe===1?te++:(0,W.vE)(oe);const q=1e3;if(O.length>=q){R=!0;break e}O.push(new C.e(de,X+1,de,re+1))}}while(M)}return{ranges:O,hasMore:R,ambiguousCharacterCount:K,invisibleCharacterCount:Z,nonBasicAsciiCharacterCount:te}}static computeUnicodeHighlightReason(_,y){const u=new A(y);switch(u.shouldHighlightNonBasicASCII(_,null)){case 0:return null;case 2:return{kind:1};case 3:{const b=_.codePointAt(0),D=u.ambiguousCharacters.getPrimaryConfusable(b),N=j.ZK.getLocales().filter(I=>!j.ZK.getInstance(new Set([...y.allowedLocales,I])).isAmbiguous(b));return{kind:0,confusableWith:String.fromCodePoint(D),notAmbiguousInLocales:N}}case 1:return{kind:2}}}}function P(S,_){return`[${j.ec(S.map(u=>String.fromCodePoint(u)).join(""))}]`}class A{constructor(_){this.options=_,this.allowedCodePoints=new Set(_.allowedCodePoints),this.ambiguousCharacters=j.ZK.getInstance(new Set(_.allowedLocales))}getCandidateCodePoints(){if(this.options.nonBasicASCII)return"allNonBasicAscii";const _=new Set;if(this.options.invisibleCharacters)for(const y of j.vU.codePoints)T(String.fromCodePoint(y))||_.add(y);if(this.options.ambiguousCharacters)for(const y of this.ambiguousCharacters.getConfusableCodePoints())_.add(y);for(const y of this.allowedCodePoints)_.delete(y);return _}shouldHighlightNonBasicASCII(_,y){const u=_.codePointAt(0);if(this.allowedCodePoints.has(u))return 0;if(this.options.nonBasicASCII)return 1;let a=!1,b=!1;if(y)for(const D of y){const N=D.codePointAt(0),I=j.$i(D);a=a||I,!I&&!this.ambiguousCharacters.isAmbiguous(N)&&!j.vU.isInvisibleCharacter(N)&&(b=!0)}return!a&&b?0:this.options.invisibleCharacters&&!T(_)&&j.vU.isInvisibleCharacter(u)?2:this.options.ambiguousCharacters&&this.ambiguousCharacters.isAmbiguous(u)?3:0}}function T(S){return S===" "||S===`
`||S==="	"}},88168:function(nt,xe,l){"use strict";l.d(xe,{E$:function(){return Z},F5:function(){return M},Ij:function(){return z},In:function(){return q},Lu:function(){return ge},MG:function(){return K},MY:function(){return S},OI:function(){return me},RM:function(){return D},VD:function(){return E},Vi:function(){return A},WW:function(){return ne},ZL:function(){return O},_x:function(){return T},a$:function(){return re},a7:function(){return j},ao:function(){return C},bw:function(){return I},cR:function(){return U},cm:function(){return W},d2:function(){return ae},eB:function(){return R},g4:function(){return se},g_:function(){return X},gl:function(){return N},gm:function(){return u},jl:function(){return a},np:function(){return d},py:function(){return de},r3:function(){return P},r4:function(){return oe},rf:function(){return _},sh:function(){return te},up:function(){return ke},vQ:function(){return le},wT:function(){return y},wU:function(){return b},we:function(){return L}});var C;(function(H){H[H.Unknown=0]="Unknown",H[H.Disabled=1]="Disabled",H[H.Enabled=2]="Enabled"})(C||(C={}));var d;(function(H){H[H.Invoke=1]="Invoke",H[H.Auto=2]="Auto"})(d||(d={}));var j;(function(H){H[H.KeepWhitespace=1]="KeepWhitespace",H[H.InsertAsSnippet=4]="InsertAsSnippet"})(j||(j={}));var W;(function(H){H[H.Method=0]="Method",H[H.Function=1]="Function",H[H.Constructor=2]="Constructor",H[H.Field=3]="Field",H[H.Variable=4]="Variable",H[H.Class=5]="Class",H[H.Struct=6]="Struct",H[H.Interface=7]="Interface",H[H.Module=8]="Module",H[H.Property=9]="Property",H[H.Event=10]="Event",H[H.Operator=11]="Operator",H[H.Unit=12]="Unit",H[H.Value=13]="Value",H[H.Constant=14]="Constant",H[H.Enum=15]="Enum",H[H.EnumMember=16]="EnumMember",H[H.Keyword=17]="Keyword",H[H.Text=18]="Text",H[H.Color=19]="Color",H[H.File=20]="File",H[H.Reference=21]="Reference",H[H.Customcolor=22]="Customcolor",H[H.Folder=23]="Folder",H[H.TypeParameter=24]="TypeParameter",H[H.User=25]="User",H[H.Issue=26]="Issue",H[H.Snippet=27]="Snippet"})(W||(W={}));var L;(function(H){H[H.Deprecated=1]="Deprecated"})(L||(L={}));var z;(function(H){H[H.Invoke=0]="Invoke",H[H.TriggerCharacter=1]="TriggerCharacter",H[H.TriggerForIncompleteCompletions=2]="TriggerForIncompleteCompletions"})(z||(z={}));var P;(function(H){H[H.EXACT=0]="EXACT",H[H.ABOVE=1]="ABOVE",H[H.BELOW=2]="BELOW"})(P||(P={}));var A;(function(H){H[H.NotSet=0]="NotSet",H[H.ContentFlush=1]="ContentFlush",H[H.RecoverFromMarkers=2]="RecoverFromMarkers",H[H.Explicit=3]="Explicit",H[H.Paste=4]="Paste",H[H.Undo=5]="Undo",H[H.Redo=6]="Redo"})(A||(A={}));var T;(function(H){H[H.LF=1]="LF",H[H.CRLF=2]="CRLF"})(T||(T={}));var S;(function(H){H[H.Text=0]="Text",H[H.Read=1]="Read",H[H.Write=2]="Write"})(S||(S={}));var _;(function(H){H[H.None=0]="None",H[H.Keep=1]="Keep",H[H.Brackets=2]="Brackets",H[H.Advanced=3]="Advanced",H[H.Full=4]="Full"})(_||(_={}));var y;(function(H){H[H.acceptSuggestionOnCommitCharacter=0]="acceptSuggestionOnCommitCharacter",H[H.acceptSuggestionOnEnter=1]="acceptSuggestionOnEnter",H[H.accessibilitySupport=2]="accessibilitySupport",H[H.accessibilityPageSize=3]="accessibilityPageSize",H[H.ariaLabel=4]="ariaLabel",H[H.autoClosingBrackets=5]="autoClosingBrackets",H[H.autoClosingDelete=6]="autoClosingDelete",H[H.autoClosingOvertype=7]="autoClosingOvertype",H[H.autoClosingQuotes=8]="autoClosingQuotes",H[H.autoIndent=9]="autoIndent",H[H.automaticLayout=10]="automaticLayout",H[H.autoSurround=11]="autoSurround",H[H.bracketPairColorization=12]="bracketPairColorization",H[H.guides=13]="guides",H[H.codeLens=14]="codeLens",H[H.codeLensFontFamily=15]="codeLensFontFamily",H[H.codeLensFontSize=16]="codeLensFontSize",H[H.colorDecorators=17]="colorDecorators",H[H.columnSelection=18]="columnSelection",H[H.comments=19]="comments",H[H.contextmenu=20]="contextmenu",H[H.copyWithSyntaxHighlighting=21]="copyWithSyntaxHighlighting",H[H.cursorBlinking=22]="cursorBlinking",H[H.cursorSmoothCaretAnimation=23]="cursorSmoothCaretAnimation",H[H.cursorStyle=24]="cursorStyle",H[H.cursorSurroundingLines=25]="cursorSurroundingLines",H[H.cursorSurroundingLinesStyle=26]="cursorSurroundingLinesStyle",H[H.cursorWidth=27]="cursorWidth",H[H.disableLayerHinting=28]="disableLayerHinting",H[H.disableMonospaceOptimizations=29]="disableMonospaceOptimizations",H[H.domReadOnly=30]="domReadOnly",H[H.dragAndDrop=31]="dragAndDrop",H[H.dropIntoEditor=32]="dropIntoEditor",H[H.emptySelectionClipboard=33]="emptySelectionClipboard",H[H.experimental=34]="experimental",H[H.extraEditorClassName=35]="extraEditorClassName",H[H.fastScrollSensitivity=36]="fastScrollSensitivity",H[H.find=37]="find",H[H.fixedOverflowWidgets=38]="fixedOverflowWidgets",H[H.folding=39]="folding",H[H.foldingStrategy=40]="foldingStrategy",H[H.foldingHighlight=41]="foldingHighlight",H[H.foldingImportsByDefault=42]="foldingImportsByDefault",H[H.foldingMaximumRegions=43]="foldingMaximumRegions",H[H.unfoldOnClickAfterEndOfLine=44]="unfoldOnClickAfterEndOfLine",H[H.fontFamily=45]="fontFamily",H[H.fontInfo=46]="fontInfo",H[H.fontLigatures=47]="fontLigatures",H[H.fontSize=48]="fontSize",H[H.fontWeight=49]="fontWeight",H[H.formatOnPaste=50]="formatOnPaste",H[H.formatOnType=51]="formatOnType",H[H.glyphMargin=52]="glyphMargin",H[H.gotoLocation=53]="gotoLocation",H[H.hideCursorInOverviewRuler=54]="hideCursorInOverviewRuler",H[H.hover=55]="hover",H[H.inDiffEditor=56]="inDiffEditor",H[H.inlineSuggest=57]="inlineSuggest",H[H.letterSpacing=58]="letterSpacing",H[H.lightbulb=59]="lightbulb",H[H.lineDecorationsWidth=60]="lineDecorationsWidth",H[H.lineHeight=61]="lineHeight",H[H.lineNumbers=62]="lineNumbers",H[H.lineNumbersMinChars=63]="lineNumbersMinChars",H[H.linkedEditing=64]="linkedEditing",H[H.links=65]="links",H[H.matchBrackets=66]="matchBrackets",H[H.minimap=67]="minimap",H[H.mouseStyle=68]="mouseStyle",H[H.mouseWheelScrollSensitivity=69]="mouseWheelScrollSensitivity",H[H.mouseWheelZoom=70]="mouseWheelZoom",H[H.multiCursorMergeOverlapping=71]="multiCursorMergeOverlapping",H[H.multiCursorModifier=72]="multiCursorModifier",H[H.multiCursorPaste=73]="multiCursorPaste",H[H.occurrencesHighlight=74]="occurrencesHighlight",H[H.overviewRulerBorder=75]="overviewRulerBorder",H[H.overviewRulerLanes=76]="overviewRulerLanes",H[H.padding=77]="padding",H[H.parameterHints=78]="parameterHints",H[H.peekWidgetDefaultFocus=79]="peekWidgetDefaultFocus",H[H.definitionLinkOpensInPeek=80]="definitionLinkOpensInPeek",H[H.quickSuggestions=81]="quickSuggestions",H[H.quickSuggestionsDelay=82]="quickSuggestionsDelay",H[H.readOnly=83]="readOnly",H[H.renameOnType=84]="renameOnType",H[H.renderControlCharacters=85]="renderControlCharacters",H[H.renderFinalNewline=86]="renderFinalNewline",H[H.renderLineHighlight=87]="renderLineHighlight",H[H.renderLineHighlightOnlyWhenFocus=88]="renderLineHighlightOnlyWhenFocus",H[H.renderValidationDecorations=89]="renderValidationDecorations",H[H.renderWhitespace=90]="renderWhitespace",H[H.revealHorizontalRightPadding=91]="revealHorizontalRightPadding",H[H.roundedSelection=92]="roundedSelection",H[H.rulers=93]="rulers",H[H.scrollbar=94]="scrollbar",H[H.scrollBeyondLastColumn=95]="scrollBeyondLastColumn",H[H.scrollBeyondLastLine=96]="scrollBeyondLastLine",H[H.scrollPredominantAxis=97]="scrollPredominantAxis",H[H.selectionClipboard=98]="selectionClipboard",H[H.selectionHighlight=99]="selectionHighlight",H[H.selectOnLineNumbers=100]="selectOnLineNumbers",H[H.showFoldingControls=101]="showFoldingControls",H[H.showUnused=102]="showUnused",H[H.snippetSuggestions=103]="snippetSuggestions",H[H.smartSelect=104]="smartSelect",H[H.smoothScrolling=105]="smoothScrolling",H[H.stickyTabStops=106]="stickyTabStops",H[H.stopRenderingLineAfter=107]="stopRenderingLineAfter",H[H.suggest=108]="suggest",H[H.suggestFontSize=109]="suggestFontSize",H[H.suggestLineHeight=110]="suggestLineHeight",H[H.suggestOnTriggerCharacters=111]="suggestOnTriggerCharacters",H[H.suggestSelection=112]="suggestSelection",H[H.tabCompletion=113]="tabCompletion",H[H.tabIndex=114]="tabIndex",H[H.unicodeHighlighting=115]="unicodeHighlighting",H[H.unusualLineTerminators=116]="unusualLineTerminators",H[H.useShadowDOM=117]="useShadowDOM",H[H.useTabStops=118]="useTabStops",H[H.wordSeparators=119]="wordSeparators",H[H.wordWrap=120]="wordWrap",H[H.wordWrapBreakAfterCharacters=121]="wordWrapBreakAfterCharacters",H[H.wordWrapBreakBeforeCharacters=122]="wordWrapBreakBeforeCharacters",H[H.wordWrapColumn=123]="wordWrapColumn",H[H.wordWrapOverride1=124]="wordWrapOverride1",H[H.wordWrapOverride2=125]="wordWrapOverride2",H[H.wrappingIndent=126]="wrappingIndent",H[H.wrappingStrategy=127]="wrappingStrategy",H[H.showDeprecated=128]="showDeprecated",H[H.inlayHints=129]="inlayHints",H[H.editorClassName=130]="editorClassName",H[H.pixelRatio=131]="pixelRatio",H[H.tabFocusMode=132]="tabFocusMode",H[H.layoutInfo=133]="layoutInfo",H[H.wrappingInfo=134]="wrappingInfo"})(y||(y={}));var u;(function(H){H[H.TextDefined=0]="TextDefined",H[H.LF=1]="LF",H[H.CRLF=2]="CRLF"})(u||(u={}));var a;(function(H){H[H.LF=0]="LF",H[H.CRLF=1]="CRLF"})(a||(a={}));var b;(function(H){H[H.None=0]="None",H[H.Indent=1]="Indent",H[H.IndentOutdent=2]="IndentOutdent",H[H.Outdent=3]="Outdent"})(b||(b={}));var D;(function(H){H[H.Both=0]="Both",H[H.Right=1]="Right",H[H.Left=2]="Left",H[H.None=3]="None"})(D||(D={}));var N;(function(H){H[H.Type=1]="Type",H[H.Parameter=2]="Parameter"})(N||(N={}));var I;(function(H){H[H.Automatic=0]="Automatic",H[H.Explicit=1]="Explicit"})(I||(I={}));var E;(function(H){H[H.DependsOnKbLayout=-1]="DependsOnKbLayout",H[H.Unknown=0]="Unknown",H[H.Backspace=1]="Backspace",H[H.Tab=2]="Tab",H[H.Enter=3]="Enter",H[H.Shift=4]="Shift",H[H.Ctrl=5]="Ctrl",H[H.Alt=6]="Alt",H[H.PauseBreak=7]="PauseBreak",H[H.CapsLock=8]="CapsLock",H[H.Escape=9]="Escape",H[H.Space=10]="Space",H[H.PageUp=11]="PageUp",H[H.PageDown=12]="PageDown",H[H.End=13]="End",H[H.Home=14]="Home",H[H.LeftArrow=15]="LeftArrow",H[H.UpArrow=16]="UpArrow",H[H.RightArrow=17]="RightArrow",H[H.DownArrow=18]="DownArrow",H[H.Insert=19]="Insert",H[H.Delete=20]="Delete",H[H.Digit0=21]="Digit0",H[H.Digit1=22]="Digit1",H[H.Digit2=23]="Digit2",H[H.Digit3=24]="Digit3",H[H.Digit4=25]="Digit4",H[H.Digit5=26]="Digit5",H[H.Digit6=27]="Digit6",H[H.Digit7=28]="Digit7",H[H.Digit8=29]="Digit8",H[H.Digit9=30]="Digit9",H[H.KeyA=31]="KeyA",H[H.KeyB=32]="KeyB",H[H.KeyC=33]="KeyC",H[H.KeyD=34]="KeyD",H[H.KeyE=35]="KeyE",H[H.KeyF=36]="KeyF",H[H.KeyG=37]="KeyG",H[H.KeyH=38]="KeyH",H[H.KeyI=39]="KeyI",H[H.KeyJ=40]="KeyJ",H[H.KeyK=41]="KeyK",H[H.KeyL=42]="KeyL",H[H.KeyM=43]="KeyM",H[H.KeyN=44]="KeyN",H[H.KeyO=45]="KeyO",H[H.KeyP=46]="KeyP",H[H.KeyQ=47]="KeyQ",H[H.KeyR=48]="KeyR",H[H.KeyS=49]="KeyS",H[H.KeyT=50]="KeyT",H[H.KeyU=51]="KeyU",H[H.KeyV=52]="KeyV",H[H.KeyW=53]="KeyW",H[H.KeyX=54]="KeyX",H[H.KeyY=55]="KeyY",H[H.KeyZ=56]="KeyZ",H[H.Meta=57]="Meta",H[H.ContextMenu=58]="ContextMenu",H[H.F1=59]="F1",H[H.F2=60]="F2",H[H.F3=61]="F3",H[H.F4=62]="F4",H[H.F5=63]="F5",H[H.F6=64]="F6",H[H.F7=65]="F7",H[H.F8=66]="F8",H[H.F9=67]="F9",H[H.F10=68]="F10",H[H.F11=69]="F11",H[H.F12=70]="F12",H[H.F13=71]="F13",H[H.F14=72]="F14",H[H.F15=73]="F15",H[H.F16=74]="F16",H[H.F17=75]="F17",H[H.F18=76]="F18",H[H.F19=77]="F19",H[H.NumLock=78]="NumLock",H[H.ScrollLock=79]="ScrollLock",H[H.Semicolon=80]="Semicolon",H[H.Equal=81]="Equal",H[H.Comma=82]="Comma",H[H.Minus=83]="Minus",H[H.Period=84]="Period",H[H.Slash=85]="Slash",H[H.Backquote=86]="Backquote",H[H.BracketLeft=87]="BracketLeft",H[H.Backslash=88]="Backslash",H[H.BracketRight=89]="BracketRight",H[H.Quote=90]="Quote",H[H.OEM_8=91]="OEM_8",H[H.IntlBackslash=92]="IntlBackslash",H[H.Numpad0=93]="Numpad0",H[H.Numpad1=94]="Numpad1",H[H.Numpad2=95]="Numpad2",H[H.Numpad3=96]="Numpad3",H[H.Numpad4=97]="Numpad4",H[H.Numpad5=98]="Numpad5",H[H.Numpad6=99]="Numpad6",H[H.Numpad7=100]="Numpad7",H[H.Numpad8=101]="Numpad8",H[H.Numpad9=102]="Numpad9",H[H.NumpadMultiply=103]="NumpadMultiply",H[H.NumpadAdd=104]="NumpadAdd",H[H.NUMPAD_SEPARATOR=105]="NUMPAD_SEPARATOR",H[H.NumpadSubtract=106]="NumpadSubtract",H[H.NumpadDecimal=107]="NumpadDecimal",H[H.NumpadDivide=108]="NumpadDivide",H[H.KEY_IN_COMPOSITION=109]="KEY_IN_COMPOSITION",H[H.ABNT_C1=110]="ABNT_C1",H[H.ABNT_C2=111]="ABNT_C2",H[H.AudioVolumeMute=112]="AudioVolumeMute",H[H.AudioVolumeUp=113]="AudioVolumeUp",H[H.AudioVolumeDown=114]="AudioVolumeDown",H[H.BrowserSearch=115]="BrowserSearch",H[H.BrowserHome=116]="BrowserHome",H[H.BrowserBack=117]="BrowserBack",H[H.BrowserForward=118]="BrowserForward",H[H.MediaTrackNext=119]="MediaTrackNext",H[H.MediaTrackPrevious=120]="MediaTrackPrevious",H[H.MediaStop=121]="MediaStop",H[H.MediaPlayPause=122]="MediaPlayPause",H[H.LaunchMediaPlayer=123]="LaunchMediaPlayer",H[H.LaunchMail=124]="LaunchMail",H[H.LaunchApp2=125]="LaunchApp2",H[H.Clear=126]="Clear",H[H.MAX_VALUE=127]="MAX_VALUE"})(E||(E={}));var O;(function(H){H[H.Hint=1]="Hint",H[H.Info=2]="Info",H[H.Warning=4]="Warning",H[H.Error=8]="Error"})(O||(O={}));var R;(function(H){H[H.Unnecessary=1]="Unnecessary",H[H.Deprecated=2]="Deprecated"})(R||(R={}));var M;(function(H){H[H.Inline=1]="Inline",H[H.Gutter=2]="Gutter"})(M||(M={}));var K;(function(H){H[H.UNKNOWN=0]="UNKNOWN",H[H.TEXTAREA=1]="TEXTAREA",H[H.GUTTER_GLYPH_MARGIN=2]="GUTTER_GLYPH_MARGIN",H[H.GUTTER_LINE_NUMBERS=3]="GUTTER_LINE_NUMBERS",H[H.GUTTER_LINE_DECORATIONS=4]="GUTTER_LINE_DECORATIONS",H[H.GUTTER_VIEW_ZONE=5]="GUTTER_VIEW_ZONE",H[H.CONTENT_TEXT=6]="CONTENT_TEXT",H[H.CONTENT_EMPTY=7]="CONTENT_EMPTY",H[H.CONTENT_VIEW_ZONE=8]="CONTENT_VIEW_ZONE",H[H.CONTENT_WIDGET=9]="CONTENT_WIDGET",H[H.OVERVIEW_RULER=10]="OVERVIEW_RULER",H[H.SCROLLBAR=11]="SCROLLBAR",H[H.OVERLAY_WIDGET=12]="OVERLAY_WIDGET",H[H.OUTSIDE_EDITOR=13]="OUTSIDE_EDITOR"})(K||(K={}));var Z;(function(H){H[H.TOP_RIGHT_CORNER=0]="TOP_RIGHT_CORNER",H[H.BOTTOM_RIGHT_CORNER=1]="BOTTOM_RIGHT_CORNER",H[H.TOP_CENTER=2]="TOP_CENTER"})(Z||(Z={}));var te;(function(H){H[H.Left=1]="Left",H[H.Center=2]="Center",H[H.Right=4]="Right",H[H.Full=7]="Full"})(te||(te={}));var de;(function(H){H[H.Left=0]="Left",H[H.Right=1]="Right",H[H.None=2]="None",H[H.LeftOfInjectedText=3]="LeftOfInjectedText",H[H.RightOfInjectedText=4]="RightOfInjectedText"})(de||(de={}));var ge;(function(H){H[H.Off=0]="Off",H[H.On=1]="On",H[H.Relative=2]="Relative",H[H.Interval=3]="Interval",H[H.Custom=4]="Custom"})(ge||(ge={}));var le;(function(H){H[H.None=0]="None",H[H.Text=1]="Text",H[H.Blocks=2]="Blocks"})(le||(le={}));var se;(function(H){H[H.Smooth=0]="Smooth",H[H.Immediate=1]="Immediate"})(se||(se={}));var X;(function(H){H[H.Auto=1]="Auto",H[H.Hidden=2]="Hidden",H[H.Visible=3]="Visible"})(X||(X={}));var re;(function(H){H[H.LTR=0]="LTR",H[H.RTL=1]="RTL"})(re||(re={}));var ne;(function(H){H[H.Invoke=1]="Invoke",H[H.TriggerCharacter=2]="TriggerCharacter",H[H.ContentChange=3]="ContentChange"})(ne||(ne={}));var U;(function(H){H[H.File=0]="File",H[H.Module=1]="Module",H[H.Namespace=2]="Namespace",H[H.Package=3]="Package",H[H.Class=4]="Class",H[H.Method=5]="Method",H[H.Property=6]="Property",H[H.Field=7]="Field",H[H.Constructor=8]="Constructor",H[H.Enum=9]="Enum",H[H.Interface=10]="Interface",H[H.Function=11]="Function",H[H.Variable=12]="Variable",H[H.Constant=13]="Constant",H[H.String=14]="String",H[H.Number=15]="Number",H[H.Boolean=16]="Boolean",H[H.Array=17]="Array",H[H.Object=18]="Object",H[H.Key=19]="Key",H[H.Null=20]="Null",H[H.EnumMember=21]="EnumMember",H[H.Struct=22]="Struct",H[H.Event=23]="Event",H[H.Operator=24]="Operator",H[H.TypeParameter=25]="TypeParameter"})(U||(U={}));var oe;(function(H){H[H.Deprecated=1]="Deprecated"})(oe||(oe={}));var q;(function(H){H[H.Hidden=0]="Hidden",H[H.Blink=1]="Blink",H[H.Smooth=2]="Smooth",H[H.Phase=3]="Phase",H[H.Expand=4]="Expand",H[H.Solid=5]="Solid"})(q||(q={}));var ae;(function(H){H[H.Line=1]="Line",H[H.Block=2]="Block",H[H.Underline=3]="Underline",H[H.LineThin=4]="LineThin",H[H.BlockOutline=5]="BlockOutline",H[H.UnderlineThin=6]="UnderlineThin"})(ae||(ae={}));var me;(function(H){H[H.AlwaysGrowsWhenTypingAtEdges=0]="AlwaysGrowsWhenTypingAtEdges",H[H.NeverGrowsWhenTypingAtEdges=1]="NeverGrowsWhenTypingAtEdges",H[H.GrowsOnlyWhenTypingBefore=2]="GrowsOnlyWhenTypingBefore",H[H.GrowsOnlyWhenTypingAfter=3]="GrowsOnlyWhenTypingAfter"})(me||(me={}));var ke;(function(H){H[H.None=0]="None",H[H.Same=1]="Same",H[H.Indent=2]="Indent",H[H.DeepIndent=3]="DeepIndent"})(ke||(ke={}))},72499:function(nt,xe,l){"use strict";l.d(xe,{B8:function(){return A},Oe:function(){return d},UX:function(){return z},aq:function(){return P},iN:function(){return S},ld:function(){return L},qq:function(){return W},ug:function(){return j},xi:function(){return T}});var C=l(83218),d;(function(_){_.noSelection=C.NC("noSelection","No selection"),_.singleSelectionRange=C.NC("singleSelectionRange","Line {0}, Column {1} ({2} selected)"),_.singleSelection=C.NC("singleSelection","Line {0}, Column {1}"),_.multiSelectionRange=C.NC("multiSelectionRange","{0} selections ({1} characters selected)"),_.multiSelection=C.NC("multiSelection","{0} selections"),_.emergencyConfOn=C.NC("emergencyConfOn","Now changing the setting `accessibilitySupport` to 'on'."),_.openingDocs=C.NC("openingDocs","Now opening the Editor Accessibility documentation page."),_.readonlyDiffEditor=C.NC("readonlyDiffEditor"," in a read-only pane of a diff editor."),_.editableDiffEditor=C.NC("editableDiffEditor"," in a pane of a diff editor."),_.readonlyEditor=C.NC("readonlyEditor"," in a read-only code editor"),_.editableEditor=C.NC("editableEditor"," in a code editor"),_.changeConfigToOnMac=C.NC("changeConfigToOnMac","To configure the editor to be optimized for usage with a Screen Reader press Command+E now."),_.changeConfigToOnWinLinux=C.NC("changeConfigToOnWinLinux","To configure the editor to be optimized for usage with a Screen Reader press Control+E now."),_.auto_on=C.NC("auto_on","The editor is configured to be optimized for usage with a Screen Reader."),_.auto_off=C.NC("auto_off","The editor is configured to never be optimized for usage with a Screen Reader, which is not the case at this time."),_.tabFocusModeOnMsg=C.NC("tabFocusModeOnMsg","Pressing Tab in the current editor will move focus to the next focusable element. Toggle this behavior by pressing {0}."),_.tabFocusModeOnMsgNoKb=C.NC("tabFocusModeOnMsgNoKb","Pressing Tab in the current editor will move focus to the next focusable element. The command {0} is currently not triggerable by a keybinding."),_.tabFocusModeOffMsg=C.NC("tabFocusModeOffMsg","Pressing Tab in the current editor will insert the tab character. Toggle this behavior by pressing {0}."),_.tabFocusModeOffMsgNoKb=C.NC("tabFocusModeOffMsgNoKb","Pressing Tab in the current editor will insert the tab character. The command {0} is currently not triggerable by a keybinding."),_.openDocMac=C.NC("openDocMac","Press Command+H now to open a browser window with more information related to editor accessibility."),_.openDocWinLinux=C.NC("openDocWinLinux","Press Control+H now to open a browser window with more information related to editor accessibility."),_.outroMsg=C.NC("outroMsg","You can dismiss this tooltip and return to the editor by pressing Escape or Shift+Escape."),_.showAccessibilityHelpAction=C.NC("showAccessibilityHelpAction","Show Accessibility Help")})(d||(d={}));var j;(function(_){_.inspectTokensAction=C.NC("inspectTokens","Developer: Inspect Tokens")})(j||(j={}));var W;(function(_){_.gotoLineActionLabel=C.NC("gotoLineActionLabel","Go to Line/Column...")})(W||(W={}));var L;(function(_){_.helpQuickAccessActionLabel=C.NC("helpQuickAccess","Show all Quick Access Providers")})(L||(L={}));var z;(function(_){_.quickCommandActionLabel=C.NC("quickCommandActionLabel","Command Palette"),_.quickCommandHelp=C.NC("quickCommandActionHelp","Show And Run Commands")})(z||(z={}));var P;(function(_){_.quickOutlineActionLabel=C.NC("quickOutlineActionLabel","Go to Symbol..."),_.quickOutlineByCategoryActionLabel=C.NC("quickOutlineByCategoryActionLabel","Go to Symbol by Category...")})(P||(P={}));var A;(function(_){_.editorViewAccessibleLabel=C.NC("editorViewAccessibleLabel","Editor content"),_.accessibilityHelpMessage=C.NC("accessibilityHelpMessage","Press Alt+F1 for Accessibility Options.")})(A||(A={}));var T;(function(_){_.toggleHighContrast=C.NC("toggleHighContrast","Toggle High Contrast Theme")})(T||(T={}));var S;(function(_){_.bulkEditServiceSummary=C.NC("bulkEditServiceSummary","Made {0} edits in {1} files")})(S||(S={}))},37259:function(nt,xe,l){"use strict";l.d(xe,{CZ:function(){return z},D8:function(){return A},Jx:function(){return C},Tx:function(){return L},dQ:function(){return P},fV:function(){return T},gk:function(){return d},lN:function(){return W},rU:function(){return j}});class C{constructor(){this.changeType=1}}class d{constructor(_,y,u,a,b){this.ownerId=_,this.lineNumber=y,this.column=u,this.options=a,this.order=b}static applyInjectedText(_,y){if(!y||y.length===0)return _;let u="",a=0;for(const b of y)u+=_.substring(a,b.column-1),a=b.column-1,u+=b.options.content;return u+=_.substring(a),u}static fromDecorations(_){const y=[];for(const u of _)u.options.before&&u.options.before.content.length>0&&y.push(new d(u.ownerId,u.range.startLineNumber,u.range.startColumn,u.options.before,0)),u.options.after&&u.options.after.content.length>0&&y.push(new d(u.ownerId,u.range.endLineNumber,u.range.endColumn,u.options.after,1));return y.sort((u,a)=>u.lineNumber===a.lineNumber?u.column===a.column?u.order-a.order:u.column-a.column:u.lineNumber-a.lineNumber),y}}class j{constructor(_,y,u){this.changeType=2,this.lineNumber=_,this.detail=y,this.injectedText=u}}class W{constructor(_,y){this.changeType=3,this.fromLineNumber=_,this.toLineNumber=y}}class L{constructor(_,y,u,a){this.changeType=4,this.injectedTexts=a,this.fromLineNumber=_,this.toLineNumber=y,this.detail=u}}class z{constructor(){this.changeType=5}}class P{constructor(_,y,u,a){this.changes=_,this.versionId=y,this.isUndoing=u,this.isRedoing=a,this.resultingSelection=null}containsEvent(_){for(let y=0,u=this.changes.length;y<u;y++)if(this.changes[y].changeType===_)return!0;return!1}static merge(_,y){const u=[].concat(_.changes).concat(y.changes),a=y.versionId,b=_.isUndoing||y.isUndoing,D=_.isRedoing||y.isRedoing;return new P(u,a,b,D)}}class A{constructor(_){this.changes=_}}class T{constructor(_,y){this.rawContentChangedEvent=_,this.contentChangedEvent=y}merge(_){const y=P.merge(this.rawContentChangedEvent,_.rawContentChangedEvent),u=T._mergeChangeEvents(this.contentChangedEvent,_.contentChangedEvent);return new T(y,u)}static _mergeChangeEvents(_,y){const u=[].concat(_.changes).concat(y.changes),a=y.eol,b=y.versionId,D=_.isUndoing||y.isUndoing,N=_.isRedoing||y.isRedoing,I=_.isFlush||y.isFlush;return{changes:u,eol:a,versionId:b,isUndoing:D,isRedoing:N,isFlush:I}}}},48327:function(nt,xe,l){"use strict";l.d(xe,{UO:function(){return d},s6:function(){return C},vW:function(){return j}});var C;(function(W){W[W.Disabled=0]="Disabled",W[W.EnabledForActive=1]="EnabledForActive",W[W.Enabled=2]="Enabled"})(C||(C={}));class d{constructor(L,z,P,A,T,S){if(this.visibleColumn=L,this.column=z,this.className=P,this.horizontalLine=A,this.forWrappedLinesAfterColumn=T,this.forWrappedLinesBeforeOrAtColumn=S,L!==-1==(z!==-1))throw new Error}}class j{constructor(L,z){this.top=L,this.endColumn=z}}},37186:function(nt,xe,l){"use strict";l.d(xe,{A:function(){return d}});var C=l(15880);class d{constructor(L,z,P){this._lineTokensBrand=void 0,this._tokens=L,this._tokensCount=this._tokens.length>>>1,this._text=z,this._languageIdCodec=P}static createEmpty(L,z){const P=d.defaultTokenMetadata,A=new Uint32Array(2);return A[0]=L.length,A[1]=P,new d(A,L,z)}equals(L){return L instanceof d?this.slicedEquals(L,0,this._tokensCount):!1}slicedEquals(L,z,P){if(this._text!==L._text||this._tokensCount!==L._tokensCount)return!1;const A=z<<1,T=A+(P<<1);for(let S=A;S<T;S++)if(this._tokens[S]!==L._tokens[S])return!1;return!0}getLineContent(){return this._text}getCount(){return this._tokensCount}getStartOffset(L){return L>0?this._tokens[L-1<<1]:0}getMetadata(L){return this._tokens[(L<<1)+1]}getLanguageId(L){const z=this._tokens[(L<<1)+1],P=C.N.getLanguageId(z);return this._languageIdCodec.decodeLanguageId(P)}getStandardTokenType(L){const z=this._tokens[(L<<1)+1];return C.N.getTokenType(z)}getForeground(L){const z=this._tokens[(L<<1)+1];return C.N.getForeground(z)}getClassName(L){const z=this._tokens[(L<<1)+1];return C.N.getClassNameFromMetadata(z)}getInlineStyle(L,z){const P=this._tokens[(L<<1)+1];return C.N.getInlineStyleFromMetadata(P,z)}getPresentation(L){const z=this._tokens[(L<<1)+1];return C.N.getPresentationFromMetadata(z)}getEndOffset(L){return this._tokens[L<<1]}findTokenIndexAtOffset(L){return d.findIndexInTokensArray(this._tokens,L)}inflate(){return this}sliceAndInflate(L,z,P){return new j(this,L,z,P)}static convertToEndOffset(L,z){const A=(L.length>>>1)-1;for(let T=0;T<A;T++)L[T<<1]=L[T+1<<1];L[A<<1]=z}static findIndexInTokensArray(L,z){if(L.length<=2)return 0;let P=0,A=(L.length>>>1)-1;for(;P<A;){const T=P+Math.floor((A-P)/2),S=L[T<<1];if(S===z)return T+1;S<z?P=T+1:S>z&&(A=T)}return P}withInserted(L){if(L.length===0)return this;let z=0,P=0,A="";const T=new Array;let S=0;for(;;){const _=z<this._tokensCount?this._tokens[z<<1]:-1,y=P<L.length?L[P]:null;if(_!==-1&&(y===null||_<=y.offset)){A+=this._text.substring(S,_);const u=this._tokens[(z<<1)+1];T.push(A.length,u),z++,S=_}else if(y){if(y.offset>S){A+=this._text.substring(S,y.offset);const u=this._tokens[(z<<1)+1];T.push(A.length,u),S=y.offset}A+=y.text,T.push(A.length,y.tokenMetadata),P++}else break}return new d(new Uint32Array(T),A,this._languageIdCodec)}}d.defaultTokenMetadata=(0<<11|1<<15|2<<24)>>>0;class j{constructor(L,z,P,A){this._source=L,this._startOffset=z,this._endOffset=P,this._deltaOffset=A,this._firstTokenIndex=L.findTokenIndexAtOffset(z),this._tokensCount=0;for(let T=this._firstTokenIndex,S=L.getCount();T<S&&!(L.getStartOffset(T)>=P);T++)this._tokensCount++}getMetadata(L){return this._source.getMetadata(this._firstTokenIndex+L)}getLanguageId(L){return this._source.getLanguageId(this._firstTokenIndex+L)}getLineContent(){return this._source.getLineContent().substring(this._startOffset,this._endOffset)}equals(L){return L instanceof j?this._startOffset===L._startOffset&&this._endOffset===L._endOffset&&this._deltaOffset===L._deltaOffset&&this._source.slicedEquals(L._source,this._firstTokenIndex,this._tokensCount):!1}getCount(){return this._tokensCount}getForeground(L){return this._source.getForeground(this._firstTokenIndex+L)}getEndOffset(L){const z=this._source.getEndOffset(this._firstTokenIndex+L);return Math.min(this._endOffset,z)-this._startOffset+this._deltaOffset}getClassName(L){return this._source.getClassName(this._firstTokenIndex+L)}getInlineStyle(L,z){return this._source.getInlineStyle(this._firstTokenIndex+L,z)}getPresentation(L){return this._source.getPresentation(this._firstTokenIndex+L)}findTokenIndexAtOffset(L){return this._source.findTokenIndexAtOffset(L+this._startOffset-this._deltaOffset)-this._firstTokenIndex}}},48569:function(nt,xe,l){"use strict";l.d(xe,{Kp:function(){return d},k:function(){return L}});var C=l(22297);class d{constructor(P,A,T,S){this.startColumn=P,this.endColumn=A,this.className=T,this.type=S,this._lineDecorationBrand=void 0}static _equals(P,A){return P.startColumn===A.startColumn&&P.endColumn===A.endColumn&&P.className===A.className&&P.type===A.type}static equalsArr(P,A){const T=P.length,S=A.length;if(T!==S)return!1;for(let _=0;_<T;_++)if(!d._equals(P[_],A[_]))return!1;return!0}static extractWrapped(P,A,T){if(P.length===0)return P;const S=A+1,_=T+1,y=T-A,u=[];let a=0;for(const b of P)b.endColumn<=S||b.startColumn>=_||(u[a++]=new d(Math.max(1,b.startColumn-S+1),Math.min(y+1,b.endColumn-S+1),b.className,b.type));return u}static filter(P,A,T,S){if(P.length===0)return[];const _=[];let y=0;for(let u=0,a=P.length;u<a;u++){const b=P[u],D=b.range;if(D.endLineNumber<A||D.startLineNumber>A||D.isEmpty()&&(b.type===0||b.type===3))continue;const N=D.startLineNumber===A?D.startColumn:T,I=D.endLineNumber===A?D.endColumn:S;_[y++]=new d(N,I,b.inlineClassName,b.type)}return _}static _typeCompare(P,A){const T=[2,0,1,3];return T[P]-T[A]}static compare(P,A){if(P.startColumn!==A.startColumn)return P.startColumn-A.startColumn;if(P.endColumn!==A.endColumn)return P.endColumn-A.endColumn;const T=d._typeCompare(P.type,A.type);return T!==0?T:P.className!==A.className?P.className<A.className?-1:1:0}}class j{constructor(P,A,T,S){this.startOffset=P,this.endOffset=A,this.className=T,this.metadata=S}}class W{constructor(){this.stopOffsets=[],this.classNames=[],this.metadata=[],this.count=0}static _metadata(P){let A=0;for(let T=0,S=P.length;T<S;T++)A|=P[T];return A}consumeLowerThan(P,A,T){for(;this.count>0&&this.stopOffsets[0]<P;){let S=0;for(;S+1<this.count&&this.stopOffsets[S]===this.stopOffsets[S+1];)S++;T.push(new j(A,this.stopOffsets[S],this.classNames.join(" "),W._metadata(this.metadata))),A=this.stopOffsets[S]+1,this.stopOffsets.splice(0,S+1),this.classNames.splice(0,S+1),this.metadata.splice(0,S+1),this.count-=S+1}return this.count>0&&A<P&&(T.push(new j(A,P-1,this.classNames.join(" "),W._metadata(this.metadata))),A=P),A}insert(P,A,T){if(this.count===0||this.stopOffsets[this.count-1]<=P)this.stopOffsets.push(P),this.classNames.push(A),this.metadata.push(T);else for(let S=0;S<this.count;S++)if(this.stopOffsets[S]>=P){this.stopOffsets.splice(S,0,P),this.classNames.splice(S,0,A),this.metadata.splice(S,0,T);break}this.count++}}class L{static normalize(P,A){if(A.length===0)return[];const T=[],S=new W;let _=0;for(let y=0,u=A.length;y<u;y++){const a=A[y];let b=a.startColumn,D=a.endColumn;const N=a.className,I=a.type===1?2:a.type===2?4:0;if(b>1){const R=P.charCodeAt(b-2);C.ZG(R)&&b--}if(D>1){const R=P.charCodeAt(D-2);C.ZG(R)&&D--}const E=b-1,O=D-2;_=S.consumeLowerThan(E,_,T),S.count===0&&(_=E),S.insert(O,N,I)}return S.consumeLowerThan(1073741824,_,T),T}}},63908:function(nt,xe,l){"use strict";l.d(xe,{Nd:function(){return P},zG:function(){return L},IJ:function(){return z},d1:function(){return S},tF:function(){return y}});var C=l(22297),d=l(10501),j=l(48569);class W{constructor(Z,te,de,ge){this.endIndex=Z,this.type=te,this.metadata=de,this.containsRTL=ge,this._linePartBrand=void 0}isWhitespace(){return!!(this.metadata&1)}isPseudoAfter(){return!!(this.metadata&4)}}class L{constructor(Z,te){this.startOffset=Z,this.endOffset=te}equals(Z){return this.startOffset===Z.startOffset&&this.endOffset===Z.endOffset}}class z{constructor(Z,te,de,ge,le,se,X,re,ne,U,oe,q,ae,me,ke,H,ut,Ke,He){this.useMonospaceOptimizations=Z,this.canUseHalfwidthRightwardsArrow=te,this.lineContent=de,this.continuesWithWrappedLine=ge,this.isBasicASCII=le,this.containsRTL=se,this.fauxIndentLength=X,this.lineTokens=re,this.lineDecorations=ne.sort(j.Kp.compare),this.tabSize=U,this.startVisibleColumn=oe,this.spaceWidth=q,this.stopRenderingLineAfter=ke,this.renderWhitespace=H==="all"?4:H==="boundary"?1:H==="selection"?2:H==="trailing"?3:0,this.renderControlCharacters=ut,this.fontLigatures=Ke,this.selectionsOnLine=He&&He.sort((Ze,Ge)=>Ze.startOffset<Ge.startOffset?-1:1);const ze=Math.abs(me-q),Le=Math.abs(ae-q);ze<Le?(this.renderSpaceWidth=me,this.renderSpaceCharCode=11825):(this.renderSpaceWidth=ae,this.renderSpaceCharCode=183)}sameSelection(Z){if(this.selectionsOnLine===null)return Z===null;if(Z===null||Z.length!==this.selectionsOnLine.length)return!1;for(let te=0;te<this.selectionsOnLine.length;te++)if(!this.selectionsOnLine[te].equals(Z[te]))return!1;return!0}equals(Z){return this.useMonospaceOptimizations===Z.useMonospaceOptimizations&&this.canUseHalfwidthRightwardsArrow===Z.canUseHalfwidthRightwardsArrow&&this.lineContent===Z.lineContent&&this.continuesWithWrappedLine===Z.continuesWithWrappedLine&&this.isBasicASCII===Z.isBasicASCII&&this.containsRTL===Z.containsRTL&&this.fauxIndentLength===Z.fauxIndentLength&&this.tabSize===Z.tabSize&&this.startVisibleColumn===Z.startVisibleColumn&&this.spaceWidth===Z.spaceWidth&&this.renderSpaceWidth===Z.renderSpaceWidth&&this.renderSpaceCharCode===Z.renderSpaceCharCode&&this.stopRenderingLineAfter===Z.stopRenderingLineAfter&&this.renderWhitespace===Z.renderWhitespace&&this.renderControlCharacters===Z.renderControlCharacters&&this.fontLigatures===Z.fontLigatures&&j.Kp.equalsArr(this.lineDecorations,Z.lineDecorations)&&this.lineTokens.equals(Z.lineTokens)&&this.sameSelection(Z.selectionsOnLine)}}class P{constructor(Z,te){this.partIndex=Z,this.charIndex=te}}class A{constructor(Z,te){this.length=Z,this._data=new Uint32Array(this.length),this._horizontalOffset=new Uint32Array(this.length)}static getPartIndex(Z){return(Z&4294901760)>>>16}static getCharIndex(Z){return(Z&65535)>>>0}setColumnInfo(Z,te,de,ge){const le=(te<<16|de<<0)>>>0;this._data[Z-1]=le,this._horizontalOffset[Z-1]=ge}getHorizontalOffset(Z){return this._horizontalOffset.length===0?0:this._horizontalOffset[Z-1]}charOffsetToPartData(Z){return this.length===0?0:Z<0?this._data[0]:Z>=this.length?this._data[this.length-1]:this._data[Z]}getDomPosition(Z){const te=this.charOffsetToPartData(Z-1),de=A.getPartIndex(te),ge=A.getCharIndex(te);return new P(de,ge)}getColumn(Z,te){return this.partDataToCharOffset(Z.partIndex,te,Z.charIndex)+1}partDataToCharOffset(Z,te,de){if(this.length===0)return 0;const ge=(Z<<16|de<<0)>>>0;let le=0,se=this.length-1;for(;le+1<se;){const ke=le+se>>>1,H=this._data[ke];if(H===ge)return ke;H>ge?se=ke:le=ke}if(le===se)return le;const X=this._data[le],re=this._data[se];if(X===ge)return le;if(re===ge)return se;const ne=A.getPartIndex(X),U=A.getCharIndex(X),oe=A.getPartIndex(re);let q;ne!==oe?q=te:q=A.getCharIndex(re);const ae=de-U,me=q-de;return ae<=me?le:se}}class T{constructor(Z,te,de){this._renderLineOutputBrand=void 0,this.characterMapping=Z,this.containsRTL=te,this.containsForeignElements=de}}function S(K,Z){if(K.lineContent.length===0){if(K.lineDecorations.length>0){Z.appendASCIIString("<span>");let te=0,de=0,ge=0;for(const se of K.lineDecorations)(se.type===1||se.type===2)&&(Z.appendASCIIString('<span class="'),Z.appendASCIIString(se.className),Z.appendASCIIString('"></span>'),se.type===1&&(ge|=1,te++),se.type===2&&(ge|=2,de++));Z.appendASCIIString("</span>");const le=new A(1,te+de);return le.setColumnInfo(1,te,0,0),new T(le,!1,ge)}return Z.appendASCIIString("<span><span></span></span>"),new T(new A(0,0),!1,0)}return R(a(K),Z)}class _{constructor(Z,te,de,ge){this.characterMapping=Z,this.html=te,this.containsRTL=de,this.containsForeignElements=ge}}function y(K){const Z=(0,d.l$)(1e4),te=S(K,Z);return new _(te.characterMapping,Z.build(),te.containsRTL,te.containsForeignElements)}class u{constructor(Z,te,de,ge,le,se,X,re,ne,U,oe,q,ae,me,ke){this.fontIsMonospace=Z,this.canUseHalfwidthRightwardsArrow=te,this.lineContent=de,this.len=ge,this.isOverflowing=le,this.parts=se,this.containsForeignElements=X,this.fauxIndentLength=re,this.tabSize=ne,this.startVisibleColumn=U,this.containsRTL=oe,this.spaceWidth=q,this.renderSpaceCharCode=ae,this.renderWhitespace=me,this.renderControlCharacters=ke}}function a(K){const Z=K.lineContent;let te,de;K.stopRenderingLineAfter!==-1&&K.stopRenderingLineAfter<Z.length?(te=!0,de=K.stopRenderingLineAfter):(te=!1,de=Z.length);let ge=b(Z,K.containsRTL,K.lineTokens,K.fauxIndentLength,de);K.renderControlCharacters&&!K.isBasicASCII&&(ge=I(Z,ge)),(K.renderWhitespace===4||K.renderWhitespace===1||K.renderWhitespace===2&&!!K.selectionsOnLine||K.renderWhitespace===3)&&(ge=E(K,Z,de,ge));let le=0;if(K.lineDecorations.length>0){for(let se=0,X=K.lineDecorations.length;se<X;se++){const re=K.lineDecorations[se];re.type===3||re.type===1?le|=1:re.type===2&&(le|=2)}ge=O(Z,de,ge,K.lineDecorations)}return K.containsRTL||(ge=D(Z,ge,!K.isBasicASCII||K.fontLigatures)),new u(K.useMonospaceOptimizations,K.canUseHalfwidthRightwardsArrow,Z,de,te,ge,le,K.fauxIndentLength,K.tabSize,K.startVisibleColumn,K.containsRTL,K.spaceWidth,K.renderSpaceCharCode,K.renderWhitespace,K.renderControlCharacters)}function b(K,Z,te,de,ge){const le=[];let se=0;de>0&&(le[se++]=new W(de,"",0,!1));let X=de;for(let re=0,ne=te.getCount();re<ne;re++){const U=te.getEndOffset(re);if(U<=de)continue;const oe=te.getClassName(re);if(U>=ge){const ae=Z?C.Ut(K.substring(X,ge)):!1;le[se++]=new W(ge,oe,0,ae);break}const q=Z?C.Ut(K.substring(X,U)):!1;le[se++]=new W(U,oe,0,q),X=U}return le}function D(K,Z,te){let de=0;const ge=[];let le=0;if(te)for(let se=0,X=Z.length;se<X;se++){const re=Z[se],ne=re.endIndex;if(de+50<ne){const U=re.type,oe=re.metadata,q=re.containsRTL;let ae=-1,me=de;for(let ke=de;ke<ne;ke++)K.charCodeAt(ke)===32&&(ae=ke),ae!==-1&&ke-me>=50&&(ge[le++]=new W(ae+1,U,oe,q),me=ae+1,ae=-1);me!==ne&&(ge[le++]=new W(ne,U,oe,q))}else ge[le++]=re;de=ne}else for(let se=0,X=Z.length;se<X;se++){const re=Z[se],ne=re.endIndex,U=ne-de;if(U>50){const oe=re.type,q=re.metadata,ae=re.containsRTL,me=Math.ceil(U/50);for(let ke=1;ke<me;ke++){const H=de+ke*50;ge[le++]=new W(H,oe,q,ae)}ge[le++]=new W(ne,oe,q,ae)}else ge[le++]=re;de=ne}return ge}function N(K){return K<32?K!==9:K===127||K>=8234&&K<=8238||K>=8294&&K<=8297||K>=8206&&K<=8207||K===1564}function I(K,Z){const te=[];let de=new W(0,"",0,!1),ge=0;for(const le of Z){const se=le.endIndex;for(;ge<se;ge++){const X=K.charCodeAt(ge);N(X)&&(ge>de.endIndex&&(de=new W(ge,le.type,le.metadata,le.containsRTL),te.push(de)),de=new W(ge+1,"mtkcontrol",le.metadata,!1),te.push(de))}ge>de.endIndex&&(de=new W(se,le.type,le.metadata,le.containsRTL),te.push(de))}return te}function E(K,Z,te,de){const ge=K.continuesWithWrappedLine,le=K.fauxIndentLength,se=K.tabSize,X=K.startVisibleColumn,re=K.useMonospaceOptimizations,ne=K.selectionsOnLine,U=K.renderWhitespace===1,oe=K.renderWhitespace===3,q=K.renderSpaceWidth!==K.spaceWidth,ae=[];let me=0,ke=0,H=de[ke].type,ut=de[ke].containsRTL,Ke=de[ke].endIndex;const He=de.length;let ze=!1,Le=C.LC(Z),Ze;Le===-1?(ze=!0,Le=te,Ze=te):Ze=C.ow(Z);let Ge=!1,Fe=0,ct=ne&&ne[Fe],ft=X%se;for(let Et=le;Et<te;Et++){const Vt=Z.charCodeAt(Et);ct&&Et>=ct.endOffset&&(Fe++,ct=ne&&ne[Fe]);let We;if(Et<Le||Et>Ze)We=!0;else if(Vt===9)We=!0;else if(Vt===32)if(U)if(Ge)We=!0;else{const St=Et+1<te?Z.charCodeAt(Et+1):0;We=St===32||St===9}else We=!0;else We=!1;if(We&&ne&&(We=!!ct&&ct.startOffset<=Et&&ct.endOffset>Et),We&&oe&&(We=ze||Et>Ze),We&&ut&&Et>=Le&&Et<=Ze&&(We=!1),Ge){if(!We||!re&&ft>=se){if(q){const St=me>0?ae[me-1].endIndex:le;for(let Re=St+1;Re<=Et;Re++)ae[me++]=new W(Re,"mtkw",1,!1)}else ae[me++]=new W(Et,"mtkw",1,!1);ft=ft%se}}else(Et===Ke||We&&Et>le)&&(ae[me++]=new W(Et,H,0,ut),ft=ft%se);for(Vt===9?ft=se:C.K7(Vt)?ft+=2:ft++,Ge=We;Et===Ke&&(ke++,ke<He);)H=de[ke].type,ut=de[ke].containsRTL,Ke=de[ke].endIndex}let Ot=!1;if(Ge)if(ge&&U){const Et=te>0?Z.charCodeAt(te-1):0,Vt=te>1?Z.charCodeAt(te-2):0;Et===32&&Vt!==32&&Vt!==9||(Ot=!0)}else Ot=!0;if(Ot)if(q){const Et=me>0?ae[me-1].endIndex:le;for(let Vt=Et+1;Vt<=te;Vt++)ae[me++]=new W(Vt,"mtkw",1,!1)}else ae[me++]=new W(te,"mtkw",1,!1);else ae[me++]=new W(te,H,0,ut);return ae}function O(K,Z,te,de){de.sort(j.Kp.compare);const ge=j.k.normalize(K,de),le=ge.length;let se=0;const X=[];let re=0,ne=0;for(let oe=0,q=te.length;oe<q;oe++){const ae=te[oe],me=ae.endIndex,ke=ae.type,H=ae.metadata,ut=ae.containsRTL;for(;se<le&&ge[se].startOffset<me;){const Ke=ge[se];if(Ke.startOffset>ne&&(ne=Ke.startOffset,X[re++]=new W(ne,ke,H,ut)),Ke.endOffset+1<=me)ne=Ke.endOffset+1,X[re++]=new W(ne,ke+" "+Ke.className,H|Ke.metadata,ut),se++;else{ne=me,X[re++]=new W(ne,ke+" "+Ke.className,H|Ke.metadata,ut);break}}me>ne&&(ne=me,X[re++]=new W(ne,ke,H,ut))}const U=te[te.length-1].endIndex;if(se<le&&ge[se].startOffset===U)for(;se<le&&ge[se].startOffset===U;){const oe=ge[se];X[re++]=new W(ne,oe.className,oe.metadata,!1),se++}return X}function R(K,Z){const te=K.fontIsMonospace,de=K.canUseHalfwidthRightwardsArrow,ge=K.containsForeignElements,le=K.lineContent,se=K.len,X=K.isOverflowing,re=K.parts,ne=K.fauxIndentLength,U=K.tabSize,oe=K.startVisibleColumn,q=K.containsRTL,ae=K.spaceWidth,me=K.renderSpaceCharCode,ke=K.renderWhitespace,H=K.renderControlCharacters,ut=new A(se+1,re.length);let Ke=!1,He=0,ze=oe,Le=0,Ze=0,Ge=0;q?Z.appendASCIIString('<span dir="ltr">'):Z.appendASCIIString("<span>");for(let Fe=0,ct=re.length;Fe<ct;Fe++){const ft=re[Fe],Ot=ft.endIndex,Et=ft.type,Vt=ft.containsRTL,We=ke!==0&&ft.isWhitespace(),St=We&&!te&&(Et==="mtkw"||!ge),Re=He===Ot&&ft.isPseudoAfter();if(Le=0,Z.appendASCIIString("<span "),Vt&&Z.appendASCIIString('style="unicode-bidi:isolate" '),Z.appendASCIIString('class="'),Z.appendASCIIString(St?"mtkz":Et),Z.appendASCII(34),We){let Se=0;{let Ee=He,Be=ze;for(;Ee<Ot;Ee++){const Pt=(le.charCodeAt(Ee)===9?U-Be%U:1)|0;Se+=Pt,Ee>=ne&&(Be+=Pt)}}for(St&&(Z.appendASCIIString(' style="width:'),Z.appendASCIIString(String(ae*Se)),Z.appendASCIIString('px"')),Z.appendASCII(62);He<Ot;He++){ut.setColumnInfo(He+1,Fe-Ge,Le,Ze),Ge=0;const Ee=le.charCodeAt(He);let Be,Xe;if(Ee===9){Be=U-ze%U|0,Xe=Be,!de||Xe>1?Z.write1(8594):Z.write1(65515);for(let Pt=2;Pt<=Xe;Pt++)Z.write1(160)}else Be=2,Xe=1,Z.write1(me),Z.write1(8204);Le+=Be,Ze+=Xe,He>=ne&&(ze+=Xe)}}else for(Z.appendASCII(62);He<Ot;He++){ut.setColumnInfo(He+1,Fe-Ge,Le,Ze),Ge=0;const Se=le.charCodeAt(He);let Ee=1,Be=1;switch(Se){case 9:Ee=U-ze%U,Be=Ee;for(let Xe=1;Xe<=Ee;Xe++)Z.write1(160);break;case 32:Z.write1(160);break;case 60:Z.appendASCIIString("&lt;");break;case 62:Z.appendASCIIString("&gt;");break;case 38:Z.appendASCIIString("&amp;");break;case 0:H?Z.write1(9216):Z.appendASCIIString("&#00;");break;case 65279:case 8232:case 8233:case 133:Z.write1(65533);break;default:C.K7(Se)&&Be++,H&&Se<32?Z.write1(9216+Se):H&&Se===127?Z.write1(9249):H&&N(Se)?(Z.appendASCIIString("[U+"),Z.appendASCIIString(M(Se)),Z.appendASCIIString("]"),Ee=8,Be=Ee):Z.write1(Se)}Le+=Ee,Ze+=Be,He>=ne&&(ze+=Be)}Re?Ge++:Ge=0,He>=se&&!Ke&&ft.isPseudoAfter()&&(Ke=!0,ut.setColumnInfo(He+1,Fe,Le,Ze)),Z.appendASCIIString("</span>")}return Ke||ut.setColumnInfo(se+1,re.length-1,Le,Ze),X&&Z.appendASCIIString("<span>&hellip;</span>"),Z.appendASCIIString("</span>"),new T(ut,q,ge)}function M(K){return K.toString(16).toUpperCase().padStart(4,"0")}},62895:function(nt,xe,l){"use strict";l.d(xe,{$l:function(){return T},$t:function(){return P},IP:function(){return L},SQ:function(){return S},Wx:function(){return A},l_:function(){return j},ud:function(){return W},wA:function(){return z}});var C=l(22297),d=l(14481);class j{constructor(y,u,a,b){this._viewportBrand=void 0,this.top=y|0,this.left=u|0,this.width=a|0,this.height=b|0}}class W{constructor(y,u){this.tabSize=y,this.data=u}}class L{constructor(y,u,a,b,D,N,I){this._viewLineDataBrand=void 0,this.content=y,this.continuesWithWrappedLine=u,this.minColumn=a,this.maxColumn=b,this.startVisibleColumn=D,this.tokens=N,this.inlineDecorations=I}}class z{constructor(y,u,a,b,D,N,I,E,O,R){this.minColumn=y,this.maxColumn=u,this.content=a,this.continuesWithWrappedLine=b,this.isBasicASCII=z.isBasicASCII(a,N),this.containsRTL=z.containsRTL(a,this.isBasicASCII,D),this.tokens=I,this.inlineDecorations=E,this.tabSize=O,this.startVisibleColumn=R}static isBasicASCII(y,u){return u?C.$i(y):!0}static containsRTL(y,u,a){return!u&&a?C.Ut(y):!1}}class P{constructor(y,u,a){this.range=y,this.inlineClassName=u,this.type=a}}class A{constructor(y,u,a,b){this.startOffset=y,this.endOffset=u,this.inlineClassName=a,this.inlineClassNameAffectsLetterSpacing=b}toInlineDecoration(y){return new P(new d.e(y,this.startOffset+1,y,this.endOffset+1),this.inlineClassName,this.inlineClassNameAffectsLetterSpacing?3:0)}}class T{constructor(y,u){this._viewModelDecorationBrand=void 0,this.range=y,this.options=u}}class S{constructor(y,u,a){this.color=y,this.zIndex=u,this.data=a}static cmp(y,u){return y.zIndex===u.zIndex?y.color<u.color?-1:y.color>u.color?1:0:y.zIndex-u.zIndex}}},53557:function(nt,xe,l){"use strict";l.d(xe,{EY:function(){return d},Tj:function(){return j}});class C{constructor(L,z,P){this._colorZoneBrand=void 0,this.from=L|0,this.to=z|0,this.colorId=P|0}static compare(L,z){return L.colorId===z.colorId?L.from===z.from?L.to-z.to:L.from-z.from:L.colorId-z.colorId}}class d{constructor(L,z,P,A){this._overviewRulerZoneBrand=void 0,this.startLineNumber=L,this.endLineNumber=z,this.heightInLines=P,this.color=A,this._colorZone=null}static compare(L,z){return L.color===z.color?L.startLineNumber===z.startLineNumber?L.heightInLines===z.heightInLines?L.endLineNumber-z.endLineNumber:L.heightInLines-z.heightInLines:L.startLineNumber-z.startLineNumber:L.color<z.color?-1:1}setColorZone(L){this._colorZone=L}getColorZones(){return this._colorZone}}class j{constructor(L){this._getVerticalOffsetForLine=L,this._zones=[],this._colorZonesInvalid=!1,this._lineHeight=0,this._domWidth=0,this._domHeight=0,this._outerHeight=0,this._pixelRatio=1,this._lastAssignedId=0,this._color2Id=Object.create(null),this._id2Color=[]}getId2Color(){return this._id2Color}setZones(L){this._zones=L,this._zones.sort(d.compare)}setLineHeight(L){return this._lineHeight===L?!1:(this._lineHeight=L,this._colorZonesInvalid=!0,!0)}setPixelRatio(L){this._pixelRatio=L,this._colorZonesInvalid=!0}getDOMWidth(){return this._domWidth}getCanvasWidth(){return this._domWidth*this._pixelRatio}setDOMWidth(L){return this._domWidth===L?!1:(this._domWidth=L,this._colorZonesInvalid=!0,!0)}getDOMHeight(){return this._domHeight}getCanvasHeight(){return this._domHeight*this._pixelRatio}setDOMHeight(L){return this._domHeight===L?!1:(this._domHeight=L,this._colorZonesInvalid=!0,!0)}getOuterHeight(){return this._outerHeight}setOuterHeight(L){return this._outerHeight===L?!1:(this._outerHeight=L,this._colorZonesInvalid=!0,!0)}resolveColorZones(){const L=this._colorZonesInvalid,z=Math.floor(this._lineHeight),P=Math.floor(this.getCanvasHeight()),A=Math.floor(this._outerHeight),T=P/A,S=Math.floor(4*this._pixelRatio/2),_=[];for(let y=0,u=this._zones.length;y<u;y++){const a=this._zones[y];if(!L){const Z=a.getColorZones();if(Z){_.push(Z);continue}}const b=this._getVerticalOffsetForLine(a.startLineNumber),D=a.heightInLines===0?this._getVerticalOffsetForLine(a.endLineNumber)+z:b+a.heightInLines*z,N=Math.floor(T*b),I=Math.floor(T*D);let E=Math.floor((N+I)/2),O=I-E;O<S&&(O=S),E-O<0&&(E=O),E+O>P&&(E=P-O);const R=a.color;let M=this._color2Id[R];M||(M=++this._lastAssignedId,this._color2Id[R]=M,this._id2Color[M]=R);const K=new C(E-O,E+O,M);a.setColorZone(K),_.push(K)}return this._colorZonesInvalid=!1,_.sort(C.compare),_}}},47480:function(nt,xe,l){"use strict";l.d(xe,{$t:function(){return P},CU:function(){return L},Fd:function(){return z},zg:function(){return A}});var C=l(67120),d=l(14481),j=l(62895),W=l(24030);class L{constructor(_,y,u,a,b){this.editorId=_,this.model=y,this.configuration=u,this._linesCollection=a,this._coordinatesConverter=b,this._decorationsCache=Object.create(null),this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}_clearCachedModelDecorationsResolver(){this._cachedModelDecorationsResolver=null,this._cachedModelDecorationsResolverViewRange=null}dispose(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}reset(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onModelDecorationsChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}onLineMappingChanged(){this._decorationsCache=Object.create(null),this._clearCachedModelDecorationsResolver()}_getOrCreateViewModelDecoration(_){const y=_.id;let u=this._decorationsCache[y];if(!u){const a=_.range,b=_.options;let D;if(b.isWholeLine){const N=this._coordinatesConverter.convertModelPositionToViewPosition(new C.L(a.startLineNumber,1),0),I=this._coordinatesConverter.convertModelPositionToViewPosition(new C.L(a.endLineNumber,this.model.getLineMaxColumn(a.endLineNumber)),1);D=new d.e(N.lineNumber,N.column,I.lineNumber,I.column)}else D=this._coordinatesConverter.convertModelRangeToViewRange(a,1);u=new j.$l(D,b),this._decorationsCache[y]=u}return u}getDecorationsViewportData(_){let y=this._cachedModelDecorationsResolver!==null;return y=y&&_.equalsRange(this._cachedModelDecorationsResolverViewRange),y||(this._cachedModelDecorationsResolver=this._getDecorationsInRange(_),this._cachedModelDecorationsResolverViewRange=_),this._cachedModelDecorationsResolver}getInlineDecorationsOnLine(_){const y=new d.e(_,this._linesCollection.getViewLineMinColumn(_),_,this._linesCollection.getViewLineMaxColumn(_));return this._getDecorationsInRange(y).inlineDecorations[0]}_getDecorationsInRange(_){const y=this._linesCollection.getDecorationsInRange(_,this.editorId,(0,W.$J)(this.configuration.options)),u=_.startLineNumber,a=_.endLineNumber,b=[];let D=0;const N=[];for(let I=u;I<=a;I++)N[I-u]=[];for(let I=0,E=y.length;I<E;I++){const O=y[I],R=O.options;if(!z(this.model,O))continue;const M=this._getOrCreateViewModelDecoration(O),K=M.range;if(b[D++]=M,R.inlineClassName){const Z=new j.$t(K,R.inlineClassName,R.inlineClassNameAffectsLetterSpacing?3:0),te=Math.max(u,K.startLineNumber),de=Math.min(a,K.endLineNumber);for(let ge=te;ge<=de;ge++)N[ge-u].push(Z)}if(R.beforeContentClassName&&u<=K.startLineNumber&&K.startLineNumber<=a){const Z=new j.$t(new d.e(K.startLineNumber,K.startColumn,K.startLineNumber,K.startColumn),R.beforeContentClassName,1);N[K.startLineNumber-u].push(Z)}if(R.afterContentClassName&&u<=K.endLineNumber&&K.endLineNumber<=a){const Z=new j.$t(new d.e(K.endLineNumber,K.endColumn,K.endLineNumber,K.endColumn),R.afterContentClassName,2);N[K.endLineNumber-u].push(Z)}}return{decorations:b,inlineDecorations:N}}}function z(S,_){return!(_.options.hideInCommentTokens&&P(S,_)||_.options.hideInStringTokens&&A(S,_))}function P(S,_){return T(S,_.range,y=>y===1)}function A(S,_){return T(S,_.range,y=>y===2)}function T(S,_,y){for(let u=_.startLineNumber;u<=_.endLineNumber;u++){const a=S.tokenization.getLineTokens(u),b=u===_.startLineNumber,D=u===_.endLineNumber;let N=b?a.findTokenIndexAtOffset(_.startColumn-1):0;for(;N<a.getCount()&&!(D&&a.getStartOffset(N)>_.endColumn-1);){if(!y(a.getStandardTokenType(N)))return!1;N++}}return!0}},61072:function(nt,xe,l){"use strict";l.d(xe,{yy:function(){return a},Dl:function(){return b},YQ:function(){return D}});var C=l(22297),d=l(14481),j=l(28885),W=l(94214),L=l(63619),z=l(37483),P=l(69368),A=l(47397),T=l(88588),S=l(83218);const _=(0,A.yh)("IEditorCancelService"),y=new z.uy("cancellableOperation",!1,(0,S.NC)("cancellableOperation","Whether the editor runs a cancellable operation, e.g. like 'Peek References'"));(0,T.z)(_,class{constructor(){this._tokens=new WeakMap}add(N,I){let E=this._tokens.get(N);E||(E=N.invokeWithinContext(R=>{const M=y.bindTo(R.get(z.i6)),K=new P.S;return{key:M,tokens:K}}),this._tokens.set(N,E));let O;return E.key.set(!0),O=E.tokens.push(I),()=>{O&&(O(),E.key.set(!E.tokens.isEmpty()),O=void 0)}}cancel(N){const I=this._tokens.get(N);if(!I)return;const E=I.tokens.pop();E&&(E.cancel(),I.key.set(!I.tokens.isEmpty()))}},!0);class u extends j.A{constructor(I,E){super(E),this.editor=I,this._unregister=I.invokeWithinContext(O=>O.get(_).add(I,this))}dispose(){this._unregister(),super.dispose()}}(0,L.fK)(new class extends L._l{constructor(){super({id:"editor.cancelOperation",kbOpts:{weight:100,primary:9},precondition:y})}runEditorCommand(N,I){N.get(_).cancel(I)}});class a{constructor(I,E){if(this.flags=E,(this.flags&1)!==0){const O=I.getModel();this.modelVersionId=O?C.WU("{0}#{1}",O.uri.toString(),O.getVersionId()):null}else this.modelVersionId=null;(this.flags&4)!==0?this.position=I.getPosition():this.position=null,(this.flags&2)!==0?this.selection=I.getSelection():this.selection=null,(this.flags&8)!==0?(this.scrollLeft=I.getScrollLeft(),this.scrollTop=I.getScrollTop()):(this.scrollLeft=-1,this.scrollTop=-1)}_equals(I){if(!(I instanceof a))return!1;const E=I;return!(this.modelVersionId!==E.modelVersionId||this.scrollLeft!==E.scrollLeft||this.scrollTop!==E.scrollTop||!this.position&&E.position||this.position&&!E.position||this.position&&E.position&&!this.position.equals(E.position)||!this.selection&&E.selection||this.selection&&!E.selection||this.selection&&E.selection&&!this.selection.equalsRange(E.selection))}validate(I){return this._equals(new a(I,this.flags))}}class b extends u{constructor(I,E,O,R){super(I,R),this._listener=new W.SL,E&4&&this._listener.add(I.onDidChangeCursorPosition(M=>{(!O||!d.e.containsPosition(O,M.position))&&this.cancel()})),E&2&&this._listener.add(I.onDidChangeCursorSelection(M=>{(!O||!d.e.containsRange(O,M.selection))&&this.cancel()})),E&8&&this._listener.add(I.onDidScrollChange(M=>this.cancel())),E&1&&(this._listener.add(I.onDidChangeModel(M=>this.cancel())),this._listener.add(I.onDidChangeModelContent(M=>this.cancel())))}dispose(){this._listener.dispose(),super.dispose()}}class D extends j.A{constructor(I,E){super(E),this._listener=I.onDidChangeContent(()=>this.cancel())}dispose(){this._listener.dispose(),super.dispose()}}},1557:function(nt,xe,l){"use strict";l.d(xe,{xC:function(){return te},Zg:function(){return K},x$:function(){return de},Qq:function(){return le},Qs:function(){return ne}});var C=l(14679),d=l(84553),j=l(28885),W=l(708),L=l(37371),z=l(69368),P=l(17014),A=l(92770),T=l(61072),S=l(56133),_=l(67120),y=l(14481),u=l(17122),a=l(87026),b=l(58222),D=l(71477),N=l(83218),I=l(52127);class E{constructor(oe){this.value=oe,this._lower=oe.toLowerCase()}static toKey(oe){return typeof oe=="string"?oe.toLowerCase():oe._lower}}var O=l(47397),R=l(9172),M=function(U,oe,q,ae){function me(ke){return ke instanceof q?ke:new q(function(H){H(ke)})}return new(q||(q=Promise))(function(ke,H){function ut(ze){try{He(ae.next(ze))}catch(Le){H(Le)}}function Ke(ze){try{He(ae.throw(ze))}catch(Le){H(Le)}}function He(ze){ze.done?ke(ze.value):me(ze.value).then(ut,Ke)}He((ae=ae.apply(U,oe||[])).next())})};function K(U){if(U=U.filter(me=>me.range),!U.length)return;let{range:oe}=U[0];for(let me=1;me<U.length;me++)oe=y.e.plusRange(oe,U[me].range);const{startLineNumber:q,endLineNumber:ae}=oe;q===ae?U.length===1?(0,C.Z9)(N.NC("hint11","Made 1 formatting edit on line {0}",q)):(0,C.Z9)(N.NC("hintn1","Made {0} formatting edits on line {1}",U.length,q)):U.length===1?(0,C.Z9)(N.NC("hint1n","Made 1 formatting edit between lines {0} and {1}",q,ae)):(0,C.Z9)(N.NC("hintnn","Made {0} formatting edits between lines {1} and {2}",U.length,q,ae))}function Z(U,oe,q){const ae=[],me=new Set,ke=U.ordered(q);for(const ut of ke)ae.push(ut),ut.extensionId&&me.add(E.toKey(ut.extensionId));const H=oe.ordered(q);for(const ut of H){if(ut.extensionId){if(me.has(E.toKey(ut.extensionId)))continue;me.add(E.toKey(ut.extensionId))}ae.push({displayName:ut.displayName,extensionId:ut.extensionId,provideDocumentFormattingEdits(Ke,He,ze){return ut.provideDocumentRangeFormattingEdits(Ke,Ke.getFullModelRange(),He,ze)}})}return ae}class te{static setFormatterSelector(oe){return{dispose:te._selectors.unshift(oe)}}static select(oe,q,ae){return M(this,void 0,void 0,function*(){if(oe.length===0)return;const me=L.$.first(te._selectors);if(me)return yield me(oe,q,ae)})}}te._selectors=new z.S;function de(U,oe,q,ae,me,ke){return M(this,void 0,void 0,function*(){const H=U.get(O.TG),{documentRangeFormattingEditProvider:ut}=U.get(R.p),Ke=(0,S.CL)(oe)?oe.getModel():oe,He=ut.ordered(Ke),ze=yield te.select(He,Ke,ae);ze&&(me.report(ze),yield H.invokeFunction(ge,ze,oe,q,ke))})}function ge(U,oe,q,ae,me){return M(this,void 0,void 0,function*(){const ke=U.get(a.p);let H,ut;(0,S.CL)(q)?(H=q.getModel(),ut=new T.Dl(q,5,void 0,me)):(H=q,ut=new T.YQ(q,me));const Ke=[];let He=0;for(const Fe of(0,d._2)(ae).sort(y.e.compareRangesUsingStarts))He>0&&y.e.areIntersectingOrTouching(Ke[He-1],Fe)?Ke[He-1]=y.e.fromPositions(Ke[He-1].getStartPosition(),Fe.getEndPosition()):He=Ke.push(Fe);const ze=Fe=>M(this,void 0,void 0,function*(){return(yield oe.provideDocumentRangeFormattingEdits(H,Fe,H.getFormattingOptions(),ut.token))||[]}),Le=(Fe,ct)=>{if(!Fe.length||!ct.length)return!1;const ft=Fe.reduce((Ot,Et)=>y.e.plusRange(Ot,Et.range),Fe[0].range);if(!ct.some(Ot=>y.e.intersectRanges(ft,Ot.range)))return!1;for(const Ot of Fe)for(const Et of ct)if(y.e.intersectRanges(Ot.range,Et.range))return!0;return!1},Ze=[],Ge=[];try{for(const Fe of Ke){if(ut.token.isCancellationRequested)return!0;Ge.push(yield ze(Fe))}for(let Fe=0;Fe<Ke.length;++Fe)for(let ct=Fe+1;ct<Ke.length;++ct){if(ut.token.isCancellationRequested)return!0;if(Le(Ge[Fe],Ge[ct])){const ft=y.e.plusRange(Ke[Fe],Ke[ct]),Ot=yield ze(ft);Ke.splice(ct,1),Ke.splice(Fe,1),Ke.push(ft),Ge.splice(ct,1),Ge.splice(Fe,1),Ge.push(Ot),Fe=0,ct=0}}for(const Fe of Ge){if(ut.token.isCancellationRequested)return!0;const ct=yield ke.computeMoreMinimalEdits(H.uri,Fe);ct&&Ze.push(...ct)}}finally{ut.dispose()}if(Ze.length===0)return!1;if((0,S.CL)(q))D.V.execute(q,Ze,!0),K(Ze),q.revealPositionInCenterIfOutsideViewport(q.getPosition(),1);else{const[{range:Fe}]=Ze,ct=new u.Y(Fe.startLineNumber,Fe.startColumn,Fe.endLineNumber,Fe.endColumn);H.pushEditOperations([ct],Ze.map(ft=>({text:ft.text,range:y.e.lift(ft.range),forceMoveMarkers:!0})),ft=>{for(const{range:Ot}of ft)if(y.e.areIntersectingOrTouching(Ot,ct))return[new u.Y(Ot.startLineNumber,Ot.startColumn,Ot.endLineNumber,Ot.endColumn)];return null})}return!0})}function le(U,oe,q,ae,me){return M(this,void 0,void 0,function*(){const ke=U.get(O.TG),H=U.get(R.p),ut=(0,S.CL)(oe)?oe.getModel():oe,Ke=Z(H.documentFormattingEditProvider,H.documentRangeFormattingEditProvider,ut),He=yield te.select(Ke,ut,q);He&&(ae.report(He),yield ke.invokeFunction(se,He,oe,q,me))})}function se(U,oe,q,ae,me){return M(this,void 0,void 0,function*(){const ke=U.get(a.p);let H,ut;(0,S.CL)(q)?(H=q.getModel(),ut=new T.Dl(q,5,void 0,me)):(H=q,ut=new T.YQ(q,me));let Ke;try{const He=yield oe.provideDocumentFormattingEdits(H,H.getFormattingOptions(),ut.token);if(Ke=yield ke.computeMoreMinimalEdits(H.uri,He),ut.token.isCancellationRequested)return!0}finally{ut.dispose()}if(!Ke||Ke.length===0)return!1;if((0,S.CL)(q))D.V.execute(q,Ke,ae!==2),ae!==2&&(K(Ke),q.revealPositionInCenterIfOutsideViewport(q.getPosition(),1));else{const[{range:He}]=Ke,ze=new u.Y(He.startLineNumber,He.startColumn,He.endLineNumber,He.endColumn);H.pushEditOperations([ze],Ke.map(Le=>({text:Le.text,range:y.e.lift(Le.range),forceMoveMarkers:!0})),Le=>{for(const{range:Ze}of Le)if(y.e.areIntersectingOrTouching(Ze,ze))return[new u.Y(Ze.startLineNumber,Ze.startColumn,Ze.endLineNumber,Ze.endColumn)];return null})}return!0})}function X(U,oe,q,ae,me,ke){return M(this,void 0,void 0,function*(){const H=oe.documentRangeFormattingEditProvider.ordered(q);for(const ut of H){const Ke=yield Promise.resolve(ut.provideDocumentRangeFormattingEdits(q,ae,me,ke)).catch(W.Cp);if((0,d.Of)(Ke))return yield U.computeMoreMinimalEdits(q.uri,Ke)}})}function re(U,oe,q,ae,me){return M(this,void 0,void 0,function*(){const ke=Z(oe.documentFormattingEditProvider,oe.documentRangeFormattingEditProvider,q);for(const H of ke){const ut=yield Promise.resolve(H.provideDocumentFormattingEdits(q,ae,me)).catch(W.Cp);if((0,d.Of)(ut))return yield U.computeMoreMinimalEdits(q.uri,ut)}})}function ne(U,oe,q,ae,me,ke,H){const ut=oe.onTypeFormattingEditProvider.ordered(q);return ut.length===0||ut[0].autoFormatTriggerCharacters.indexOf(me)<0?Promise.resolve(void 0):Promise.resolve(ut[0].provideOnTypeFormattingEdits(q,ae,me,ke,H)).catch(W.Cp).then(Ke=>U.computeMoreMinimalEdits(q.uri,Ke))}I.P0.registerCommand("_executeFormatRangeProvider",function(U,...oe){return M(this,void 0,void 0,function*(){const[q,ae,me]=oe;(0,P.p_)(A.o.isUri(q)),(0,P.p_)(y.e.isIRange(ae));const ke=U.get(b.S),H=U.get(a.p),ut=U.get(R.p),Ke=yield ke.createModelReference(q);try{return X(H,ut,Ke.object.textEditorModel,y.e.lift(ae),me,j.T.None)}finally{Ke.dispose()}})}),I.P0.registerCommand("_executeFormatDocumentProvider",function(U,...oe){return M(this,void 0,void 0,function*(){const[q,ae]=oe;(0,P.p_)(A.o.isUri(q));const me=U.get(b.S),ke=U.get(a.p),H=U.get(R.p),ut=yield me.createModelReference(q);try{return re(ke,H,ut.object.textEditorModel,ae,j.T.None)}finally{ut.dispose()}})}),I.P0.registerCommand("_executeFormatOnTypeProvider",function(U,...oe){return M(this,void 0,void 0,function*(){const[q,ae,me,ke]=oe;(0,P.p_)(A.o.isUri(q)),(0,P.p_)(_.L.isIPosition(ae)),(0,P.p_)(typeof me=="string");const H=U.get(b.S),ut=U.get(a.p),Ke=U.get(R.p),He=yield H.createModelReference(q);try{return ne(ut,Ke,He.object.textEditorModel,_.L.lift(ae),me,ke,j.T.None)}finally{He.dispose()}})})},71477:function(nt,xe,l){"use strict";l.d(xe,{V:function(){return j}});var C=l(74691),d=l(14481);class j{static _handleEolEdits(L,z){let P;const A=[];for(const T of z)typeof T.eol=="number"&&(P=T.eol),T.range&&typeof T.text=="string"&&A.push(T);return typeof P=="number"&&L.hasModel()&&L.getModel().pushEOL(P),A}static _isFullModelReplaceEdit(L,z){if(!L.hasModel())return!1;const P=L.getModel(),A=P.validateRange(z.range);return P.getFullModelRange().equalsRange(A)}static execute(L,z,P){P&&L.pushUndoStop();const A=j._handleEolEdits(L,z);A.length===1&&j._isFullModelReplaceEdit(L,A[0])?L.executeEdits("formatEditsCommand",A.map(T=>C.h.replace(d.e.lift(T.range),T.text))):L.executeEdits("formatEditsCommand",A.map(T=>C.h.replaceMove(d.e.lift(T.range),T.text))),P&&L.pushUndoStop()}}},27920:function(nt,xe,l){"use strict";l.r(xe),l.d(xe,{CancellationTokenSource:function(){return $h},Emitter:function(){return $m},KeyCode:function(){return ju},KeyMod:function(){return _c},MarkerSeverity:function(){return rg},MarkerTag:function(){return Yh},Position:function(){return Gm},Range:function(){return Zm},Selection:function(){return Gh},SelectionDirection:function(){return Zh},Token:function(){return ag},Uri:function(){return Ym},editor:function(){return $c},languages:function(){return lg}});var C=l(24030),d=l(28885),j=l(60218),W=l(1184),L=l(92770),z=l(67120),P=l(14481),A=l(17122),T=l(51080),S=l(88168);class _{static chord(r,f){return(0,W.gx)(r,f)}}_.CtrlCmd=2048,_.Shift=1024,_.Alt=512,_.WinCtrl=256;function y(){return{editor:void 0,languages:void 0,CancellationTokenSource:d.A,Emitter:j.Q5,KeyCode:S.VD,KeyMod:_,Position:z.L,Range:P.e,Selection:A.Y,SelectionDirection:S.a$,MarkerSeverity:S.ZL,MarkerTag:S.eB,Uri:L.o,Token:T.WU}}var u=l(94214),a=l(22297),b=l(36078),D=l(85735),N=l(53284),I=l(82220),E=l(33182),O=l(6276),R=l(13634),M=l(62867),K=l(49038),Z=l(81171),te=l(84180),de=l(708),ge=l(94976),le=l(17014);const se="$initialize";let X=!1;function re(pe){!ge.$L||(X||(X=!0,console.warn("Could not create web worker(s). Falling back to loading web worker code in main thread, which might cause UI freezes. Please see https://github.com/microsoft/monaco-editor#faq")),console.warn(pe.message))}class ne{constructor(r,f,x,Y){this.vsWorker=r,this.req=f,this.method=x,this.args=Y,this.type=0}}class U{constructor(r,f,x,Y){this.vsWorker=r,this.seq=f,this.res=x,this.err=Y,this.type=1}}class oe{constructor(r,f,x,Y){this.vsWorker=r,this.req=f,this.eventName=x,this.arg=Y,this.type=2}}class q{constructor(r,f,x){this.vsWorker=r,this.req=f,this.event=x,this.type=3}}class ae{constructor(r,f){this.vsWorker=r,this.req=f,this.type=4}}class me{constructor(r){this._workerId=-1,this._handler=r,this._lastSentReq=0,this._pendingReplies=Object.create(null),this._pendingEmitters=new Map,this._pendingEvents=new Map}setWorkerId(r){this._workerId=r}sendMessage(r,f){const x=String(++this._lastSentReq);return new Promise((Y,ie)=>{this._pendingReplies[x]={resolve:Y,reject:ie},this._send(new ne(this._workerId,x,r,f))})}listen(r,f){let x=null;const Y=new j.Q5({onFirstListenerAdd:()=>{x=String(++this._lastSentReq),this._pendingEmitters.set(x,Y),this._send(new oe(this._workerId,x,r,f))},onLastListenerRemove:()=>{this._pendingEmitters.delete(x),this._send(new ae(this._workerId,x)),x=null}});return Y.event}handleMessage(r){!r||!r.vsWorker||this._workerId!==-1&&r.vsWorker!==this._workerId||this._handleMessage(r)}_handleMessage(r){switch(r.type){case 1:return this._handleReplyMessage(r);case 0:return this._handleRequestMessage(r);case 2:return this._handleSubscribeEventMessage(r);case 3:return this._handleEventMessage(r);case 4:return this._handleUnsubscribeEventMessage(r)}}_handleReplyMessage(r){if(!this._pendingReplies[r.seq]){console.warn("Got reply to unknown seq");return}const f=this._pendingReplies[r.seq];if(delete this._pendingReplies[r.seq],r.err){let x=r.err;r.err.$isError&&(x=new Error,x.name=r.err.name,x.message=r.err.message,x.stack=r.err.stack),f.reject(x);return}f.resolve(r.res)}_handleRequestMessage(r){const f=r.req;this._handler.handleMessage(r.method,r.args).then(Y=>{this._send(new U(this._workerId,f,Y,void 0))},Y=>{Y.detail instanceof Error&&(Y.detail=(0,de.ri)(Y.detail)),this._send(new U(this._workerId,f,void 0,(0,de.ri)(Y)))})}_handleSubscribeEventMessage(r){const f=r.req,x=this._handler.handleEvent(r.eventName,r.arg)(Y=>{this._send(new q(this._workerId,f,Y))});this._pendingEvents.set(f,x)}_handleEventMessage(r){if(!this._pendingEmitters.has(r.req)){console.warn("Got event for unknown req");return}this._pendingEmitters.get(r.req).fire(r.event)}_handleUnsubscribeEventMessage(r){if(!this._pendingEvents.has(r.req)){console.warn("Got unsubscribe for unknown req");return}this._pendingEvents.get(r.req).dispose(),this._pendingEvents.delete(r.req)}_send(r){const f=[];if(r.type===0)for(let x=0;x<r.args.length;x++)r.args[x]instanceof ArrayBuffer&&f.push(r.args[x]);else r.type===1&&r.res instanceof ArrayBuffer&&f.push(r.res);this._handler.sendMessage(r,f)}}class ke extends u.JT{constructor(r,f,x){super();let Y=null;this._worker=this._register(r.create("vs/base/common/worker/simpleWorker",rt=>{this._protocol.handleMessage(rt)},rt=>{Y==null||Y(rt)})),this._protocol=new me({sendMessage:(rt,gt)=>{this._worker.postMessage(rt,gt)},handleMessage:(rt,gt)=>{if(typeof x[rt]!="function")return Promise.reject(new Error("Missing method "+rt+" on main thread host."));try{return Promise.resolve(x[rt].apply(x,gt))}catch(Ht){return Promise.reject(Ht)}},handleEvent:(rt,gt)=>{if(ut(rt)){const Ht=x[rt].call(x,gt);if(typeof Ht!="function")throw new Error(`Missing dynamic event ${rt} on main thread host.`);return Ht}if(H(rt)){const Ht=x[rt];if(typeof Ht!="function")throw new Error(`Missing event ${rt} on main thread host.`);return Ht}throw new Error(`Malformed event name ${rt}`)}}),this._protocol.setWorkerId(this._worker.getId());let ie=null;typeof ge.li.require!="undefined"&&typeof ge.li.require.getConfig=="function"?ie=ge.li.require.getConfig():typeof ge.li.requirejs!="undefined"&&(ie=ge.li.requirejs.s.contexts._.config);const he=le.$E(x);this._onModuleLoaded=this._protocol.sendMessage(se,[this._worker.getId(),JSON.parse(JSON.stringify(ie)),f,he]);const ve=(rt,gt)=>this._request(rt,gt),$e=(rt,gt)=>this._protocol.listen(rt,gt);this._lazyProxy=new Promise((rt,gt)=>{Y=gt,this._onModuleLoaded.then(Ht=>{rt(Ke(Ht,ve,$e))},Ht=>{gt(Ht),this._onError("Worker failed to load "+f,Ht)})})}getProxyObject(){return this._lazyProxy}_request(r,f){return new Promise((x,Y)=>{this._onModuleLoaded.then(()=>{this._protocol.sendMessage(r,f).then(x,Y)},Y)})}_onError(r,f){console.error(r),console.info(f)}}function H(pe){return pe[0]==="o"&&pe[1]==="n"&&a.df(pe.charCodeAt(2))}function ut(pe){return/^onDynamic/.test(pe)&&a.df(pe.charCodeAt(9))}function Ke(pe,r,f){const x=he=>function(){const ve=Array.prototype.slice.call(arguments,0);return r(he,ve)},Y=he=>function(ve){return f(he,ve)},ie={};for(const he of pe){if(ut(he)){ie[he]=Y(he);continue}if(H(he)){ie[he]=f(he,void 0);continue}ie[he]=x(he)}return ie}class He{constructor(r,f){this._requestHandlerFactory=f,this._requestHandler=null,this._protocol=new me({sendMessage:(x,Y)=>{r(x,Y)},handleMessage:(x,Y)=>this._handleMessage(x,Y),handleEvent:(x,Y)=>this._handleEvent(x,Y)})}onmessage(r){this._protocol.handleMessage(r)}_handleMessage(r,f){if(r===se)return this.initialize(f[0],f[1],f[2],f[3]);if(!this._requestHandler||typeof this._requestHandler[r]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+r));try{return Promise.resolve(this._requestHandler[r].apply(this._requestHandler,f))}catch(x){return Promise.reject(x)}}_handleEvent(r,f){if(!this._requestHandler)throw new Error("Missing requestHandler");if(ut(r)){const x=this._requestHandler[r].call(this._requestHandler,f);if(typeof x!="function")throw new Error(`Missing dynamic event ${r} on request handler.`);return x}if(H(r)){const x=this._requestHandler[r];if(typeof x!="function")throw new Error(`Missing event ${r} on request handler.`);return x}throw new Error(`Malformed event name ${r}`)}initialize(r,f,x,Y){this._protocol.setWorkerId(r);const ve=Ke(Y,($e,rt)=>this._protocol.sendMessage($e,rt),($e,rt)=>this._protocol.listen($e,rt));return this._requestHandlerFactory?(this._requestHandler=this._requestHandlerFactory(ve),Promise.resolve(types.getAllMethodNames(this._requestHandler))):(f&&(typeof f.baseUrl!="undefined"&&delete f.baseUrl,typeof f.paths!="undefined"&&typeof f.paths.vs!="undefined"&&delete f.paths.vs,typeof f.trustedTypesPolicy!==void 0&&delete f.trustedTypesPolicy,f.catchError=!0,globals.require.config(f)),new Promise(($e,rt)=>{const gt=globals.require;gt([x],Ht=>{if(this._requestHandler=Ht.create(ve),!this._requestHandler){rt(new Error("No RequestHandler!"));return}$e(types.getAllMethodNames(this._requestHandler))},rt)}))}}function ze(pe){return new He(pe,null)}var Le;const Ze=(Le=window.trustedTypes)===null||Le===void 0?void 0:Le.createPolicy("defaultWorkerFactory",{createScriptURL:pe=>pe});function Ge(pe){if(ge.li.MonacoEnvironment){if(typeof ge.li.MonacoEnvironment.getWorker=="function")return ge.li.MonacoEnvironment.getWorker("workerMain.js",pe);if(typeof ge.li.MonacoEnvironment.getWorkerUrl=="function"){const r=ge.li.MonacoEnvironment.getWorkerUrl("workerMain.js",pe);return new Worker(Ze?Ze.createScriptURL(r):r,{name:pe})}}throw new Error("You must define a function MonacoEnvironment.getWorkerUrl or MonacoEnvironment.getWorker")}function Fe(pe){return typeof pe.then=="function"}class ct{constructor(r,f,x,Y,ie){this.id=f;const he=Ge(x);Fe(he)?this.worker=he:this.worker=Promise.resolve(he),this.postMessage(r,[]),this.worker.then(ve=>{ve.onmessage=function($e){Y($e.data)},ve.onmessageerror=ie,typeof ve.addEventListener=="function"&&ve.addEventListener("error",ie)})}getId(){return this.id}postMessage(r,f){var x;(x=this.worker)===null||x===void 0||x.then(Y=>Y.postMessage(r,f))}dispose(){var r;(r=this.worker)===null||r===void 0||r.then(f=>f.terminate()),this.worker=null}}class ft{constructor(r){this._label=r,this._webWorkerFailedBeforeError=!1}create(r,f,x){const Y=++ft.LAST_WORKER_ID;if(this._webWorkerFailedBeforeError)throw this._webWorkerFailedBeforeError;return new ct(r,Y,this._label||"anonymous"+Y,f,ie=>{re(ie),this._webWorkerFailedBeforeError=ie,x(ie)})}}ft.LAST_WORKER_ID=0;var Ot=l(32853);const Et=3;function Vt(pe,r,f,x){return new Ot.Hs(pe,r,f).ComputeDiff(x)}class We{constructor(r){const f=[],x=[];for(let Y=0,ie=r.length;Y<ie;Y++)f[Y]=Xe(r[Y],1),x[Y]=Pt(r[Y],1);this.lines=r,this._startColumns=f,this._endColumns=x}getElements(){const r=[];for(let f=0,x=this.lines.length;f<x;f++)r[f]=this.lines[f].substring(this._startColumns[f]-1,this._endColumns[f]-1);return r}getStrictElement(r){return this.lines[r]}getStartLineNumber(r){return r+1}getEndLineNumber(r){return r+1}createCharSequence(r,f,x){const Y=[],ie=[],he=[];let ve=0;for(let $e=f;$e<=x;$e++){const rt=this.lines[$e],gt=r?this._startColumns[$e]:1,Ht=r?this._endColumns[$e]:rt.length+1;for(let xn=gt;xn<Ht;xn++)Y[ve]=rt.charCodeAt(xn-1),ie[ve]=$e+1,he[ve]=xn,ve++;!r&&$e<x&&(Y[ve]=10,ie[ve]=$e+1,he[ve]=rt.length+1,ve++)}return new St(Y,ie,he)}}class St{constructor(r,f,x){this._charCodes=r,this._lineNumbers=f,this._columns=x}toString(){return"["+this._charCodes.map((r,f)=>(r===10?"\\n":String.fromCharCode(r))+`-(${this._lineNumbers[f]},${this._columns[f]})`).join(", ")+"]"}_assertIndex(r,f){if(r<0||r>=f.length)throw new Error("Illegal index")}getElements(){return this._charCodes}getStartLineNumber(r){return r>0&&r===this._lineNumbers.length?this.getEndLineNumber(r-1):(this._assertIndex(r,this._lineNumbers),this._lineNumbers[r])}getEndLineNumber(r){return r===-1?this.getStartLineNumber(r+1):(this._assertIndex(r,this._lineNumbers),this._charCodes[r]===10?this._lineNumbers[r]+1:this._lineNumbers[r])}getStartColumn(r){return r>0&&r===this._columns.length?this.getEndColumn(r-1):(this._assertIndex(r,this._columns),this._columns[r])}getEndColumn(r){return r===-1?this.getStartColumn(r+1):(this._assertIndex(r,this._columns),this._charCodes[r]===10?1:this._columns[r]+1)}}class Re{constructor(r,f,x,Y,ie,he,ve,$e){this.originalStartLineNumber=r,this.originalStartColumn=f,this.originalEndLineNumber=x,this.originalEndColumn=Y,this.modifiedStartLineNumber=ie,this.modifiedStartColumn=he,this.modifiedEndLineNumber=ve,this.modifiedEndColumn=$e}static createFromDiffChange(r,f,x){const Y=f.getStartLineNumber(r.originalStart),ie=f.getStartColumn(r.originalStart),he=f.getEndLineNumber(r.originalStart+r.originalLength-1),ve=f.getEndColumn(r.originalStart+r.originalLength-1),$e=x.getStartLineNumber(r.modifiedStart),rt=x.getStartColumn(r.modifiedStart),gt=x.getEndLineNumber(r.modifiedStart+r.modifiedLength-1),Ht=x.getEndColumn(r.modifiedStart+r.modifiedLength-1);return new Re(Y,ie,he,ve,$e,rt,gt,Ht)}}function Se(pe){if(pe.length<=1)return pe;const r=[pe[0]];let f=r[0];for(let x=1,Y=pe.length;x<Y;x++){const ie=pe[x],he=ie.originalStart-(f.originalStart+f.originalLength),ve=ie.modifiedStart-(f.modifiedStart+f.modifiedLength);Math.min(he,ve)<Et?(f.originalLength=ie.originalStart+ie.originalLength-f.originalStart,f.modifiedLength=ie.modifiedStart+ie.modifiedLength-f.modifiedStart):(r.push(ie),f=ie)}return r}class Ee{constructor(r,f,x,Y,ie){this.originalStartLineNumber=r,this.originalEndLineNumber=f,this.modifiedStartLineNumber=x,this.modifiedEndLineNumber=Y,this.charChanges=ie}static createFromDiffResult(r,f,x,Y,ie,he,ve){let $e,rt,gt,Ht,xn;if(f.originalLength===0?($e=x.getStartLineNumber(f.originalStart)-1,rt=0):($e=x.getStartLineNumber(f.originalStart),rt=x.getEndLineNumber(f.originalStart+f.originalLength-1)),f.modifiedLength===0?(gt=Y.getStartLineNumber(f.modifiedStart)-1,Ht=0):(gt=Y.getStartLineNumber(f.modifiedStart),Ht=Y.getEndLineNumber(f.modifiedStart+f.modifiedLength-1)),he&&f.originalLength>0&&f.originalLength<20&&f.modifiedLength>0&&f.modifiedLength<20&&ie()){const ii=x.createCharSequence(r,f.originalStart,f.originalStart+f.originalLength-1),Ki=Y.createCharSequence(r,f.modifiedStart,f.modifiedStart+f.modifiedLength-1);if(ii.getElements().length>0&&Ki.getElements().length>0){let gs=Vt(ii,Ki,ie,!0).changes;ve&&(gs=Se(gs)),xn=[];for(let ks=0,Os=gs.length;ks<Os;ks++)xn.push(Re.createFromDiffChange(gs[ks],ii,Ki))}}return new Ee($e,rt,gt,Ht,xn)}}class Be{constructor(r,f,x){this.shouldComputeCharChanges=x.shouldComputeCharChanges,this.shouldPostProcessCharChanges=x.shouldPostProcessCharChanges,this.shouldIgnoreTrimWhitespace=x.shouldIgnoreTrimWhitespace,this.shouldMakePrettyDiff=x.shouldMakePrettyDiff,this.originalLines=r,this.modifiedLines=f,this.original=new We(r),this.modified=new We(f),this.continueLineDiff=jt(x.maxComputationTime),this.continueCharDiff=jt(x.maxComputationTime===0?0:Math.min(x.maxComputationTime,5e3))}computeDiff(){if(this.original.lines.length===1&&this.original.lines[0].length===0)return this.modified.lines.length===1&&this.modified.lines[0].length===0?{quitEarly:!1,changes:[]}:{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:1,modifiedStartLineNumber:1,modifiedEndLineNumber:this.modified.lines.length,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};if(this.modified.lines.length===1&&this.modified.lines[0].length===0)return{quitEarly:!1,changes:[{originalStartLineNumber:1,originalEndLineNumber:this.original.lines.length,modifiedStartLineNumber:1,modifiedEndLineNumber:1,charChanges:[{modifiedEndColumn:0,modifiedEndLineNumber:0,modifiedStartColumn:0,modifiedStartLineNumber:0,originalEndColumn:0,originalEndLineNumber:0,originalStartColumn:0,originalStartLineNumber:0}]}]};const r=Vt(this.original,this.modified,this.continueLineDiff,this.shouldMakePrettyDiff),f=r.changes,x=r.quitEarly;if(this.shouldIgnoreTrimWhitespace){const ve=[];for(let $e=0,rt=f.length;$e<rt;$e++)ve.push(Ee.createFromDiffResult(this.shouldIgnoreTrimWhitespace,f[$e],this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges));return{quitEarly:x,changes:ve}}const Y=[];let ie=0,he=0;for(let ve=-1,$e=f.length;ve<$e;ve++){const rt=ve+1<$e?f[ve+1]:null,gt=rt?rt.originalStart:this.originalLines.length,Ht=rt?rt.modifiedStart:this.modifiedLines.length;for(;ie<gt&&he<Ht;){const xn=this.originalLines[ie],ii=this.modifiedLines[he];if(xn!==ii){{let Ki=Xe(xn,1),gs=Xe(ii,1);for(;Ki>1&&gs>1;){const ks=xn.charCodeAt(Ki-2),Os=ii.charCodeAt(gs-2);if(ks!==Os)break;Ki--,gs--}(Ki>1||gs>1)&&this._pushTrimWhitespaceCharChange(Y,ie+1,1,Ki,he+1,1,gs)}{let Ki=Pt(xn,1),gs=Pt(ii,1);const ks=xn.length+1,Os=ii.length+1;for(;Ki<ks&&gs<Os;){const Zs=xn.charCodeAt(Ki-1),Ds=xn.charCodeAt(gs-1);if(Zs!==Ds)break;Ki++,gs++}(Ki<ks||gs<Os)&&this._pushTrimWhitespaceCharChange(Y,ie+1,Ki,ks,he+1,gs,Os)}}ie++,he++}rt&&(Y.push(Ee.createFromDiffResult(this.shouldIgnoreTrimWhitespace,rt,this.original,this.modified,this.continueCharDiff,this.shouldComputeCharChanges,this.shouldPostProcessCharChanges)),ie+=rt.originalLength,he+=rt.modifiedLength)}return{quitEarly:x,changes:Y}}_pushTrimWhitespaceCharChange(r,f,x,Y,ie,he,ve){if(this._mergeTrimWhitespaceCharChange(r,f,x,Y,ie,he,ve))return;let $e;this.shouldComputeCharChanges&&($e=[new Re(f,x,f,Y,ie,he,ie,ve)]),r.push(new Ee(f,f,ie,ie,$e))}_mergeTrimWhitespaceCharChange(r,f,x,Y,ie,he,ve){const $e=r.length;if($e===0)return!1;const rt=r[$e-1];return rt.originalEndLineNumber===0||rt.modifiedEndLineNumber===0?!1:rt.originalEndLineNumber+1===f&&rt.modifiedEndLineNumber+1===ie?(rt.originalEndLineNumber=f,rt.modifiedEndLineNumber=ie,this.shouldComputeCharChanges&&rt.charChanges&&rt.charChanges.push(new Re(f,x,f,Y,ie,he,ie,ve)),!0):!1}}function Xe(pe,r){const f=a.LC(pe);return f===-1?r:f+1}function Pt(pe,r){const f=a.ow(pe);return f===-1?r:f+2}function jt(pe){if(pe===0)return()=>!0;const r=Date.now();return()=>Date.now()-r<pe}var pn=l(88688);class at{constructor(r,f,x,Y){this._uri=r,this._lines=f,this._eol=x,this._versionId=Y,this._lineStarts=null,this._cachedTextValue=null}dispose(){this._lines.length=0}get version(){return this._versionId}getText(){return this._cachedTextValue===null&&(this._cachedTextValue=this._lines.join(this._eol)),this._cachedTextValue}onEvents(r){r.eol&&r.eol!==this._eol&&(this._eol=r.eol,this._lineStarts=null);const f=r.changes;for(const x of f)this._acceptDeleteRange(x.range),this._acceptInsertText(new z.L(x.range.startLineNumber,x.range.startColumn),x.text);this._versionId=r.versionId,this._cachedTextValue=null}_ensureLineStarts(){if(!this._lineStarts){const r=this._eol.length,f=this._lines.length,x=new Uint32Array(f);for(let Y=0;Y<f;Y++)x[Y]=this._lines[Y].length+r;this._lineStarts=new pn.oQ(x)}}_setLineText(r,f){this._lines[r]=f,this._lineStarts&&this._lineStarts.setValue(r,this._lines[r].length+this._eol.length)}_acceptDeleteRange(r){if(r.startLineNumber===r.endLineNumber){if(r.startColumn===r.endColumn)return;this._setLineText(r.startLineNumber-1,this._lines[r.startLineNumber-1].substring(0,r.startColumn-1)+this._lines[r.startLineNumber-1].substring(r.endColumn-1));return}this._setLineText(r.startLineNumber-1,this._lines[r.startLineNumber-1].substring(0,r.startColumn-1)+this._lines[r.endLineNumber-1].substring(r.endColumn-1)),this._lines.splice(r.startLineNumber,r.endLineNumber-r.startLineNumber),this._lineStarts&&this._lineStarts.removeValues(r.startLineNumber,r.endLineNumber-r.startLineNumber)}_acceptInsertText(r,f){if(f.length===0)return;const x=(0,a.uq)(f);if(x.length===1){this._setLineText(r.lineNumber-1,this._lines[r.lineNumber-1].substring(0,r.column-1)+x[0]+this._lines[r.lineNumber-1].substring(r.column-1));return}x[x.length-1]+=this._lines[r.lineNumber-1].substring(r.column-1),this._setLineText(r.lineNumber-1,this._lines[r.lineNumber-1].substring(0,r.column-1)+x[0]);const Y=new Uint32Array(x.length-1);for(let ie=1;ie<x.length;ie++)this._lines.splice(r.lineNumber+ie-1,0,x[ie]),Y[ie-1]=x[ie].length+this._eol.length;this._lineStarts&&this._lineStarts.insertValues(r.lineNumber,Y)}}var Mt=l(27619),Gt=l(7278);class _n{constructor(r,f,x){const Y=new Uint8Array(r*f);for(let ie=0,he=r*f;ie<he;ie++)Y[ie]=x;this._data=Y,this.rows=r,this.cols=f}get(r,f){return this._data[r*this.cols+f]}set(r,f,x){this._data[r*this.cols+f]=x}}class Rn{constructor(r){let f=0,x=0;for(let ie=0,he=r.length;ie<he;ie++){const[ve,$e,rt]=r[ie];$e>f&&(f=$e),ve>x&&(x=ve),rt>x&&(x=rt)}f++,x++;const Y=new _n(x,f,0);for(let ie=0,he=r.length;ie<he;ie++){const[ve,$e,rt]=r[ie];Y.set(ve,$e,rt)}this._states=Y,this._maxCharCode=f}nextState(r,f){return f<0||f>=this._maxCharCode?0:this._states.get(r,f)}}let Wn=null;function wn(){return Wn===null&&(Wn=new Rn([[1,104,2],[1,72,2],[1,102,6],[1,70,6],[2,116,3],[2,84,3],[3,116,4],[3,84,4],[4,112,5],[4,80,5],[5,115,9],[5,83,9],[5,58,10],[6,105,7],[6,73,7],[7,108,8],[7,76,8],[8,101,9],[8,69,9],[9,58,10],[10,47,11],[11,47,12]])),Wn}let je=null;function qn(){if(je===null){je=new Gt.N(0);const pe=` 	<>'"\u3001\u3002\uFF61\uFF64\uFF0C\uFF0E\uFF1A\uFF1B\u2018\u3008\u300C\u300E\u3014\uFF08\uFF3B\uFF5B\uFF62\uFF63\uFF5D\uFF3D\uFF09\u3015\u300F\u300D\u3009\u2019\uFF40\uFF5E\u2026`;for(let f=0;f<pe.length;f++)je.set(pe.charCodeAt(f),1);const r=".,;:";for(let f=0;f<r.length;f++)je.set(r.charCodeAt(f),2)}return je}class vt{static _createLink(r,f,x,Y,ie){let he=ie-1;do{const ve=f.charCodeAt(he);if(r.get(ve)!==2)break;he--}while(he>Y);if(Y>0){const ve=f.charCodeAt(Y-1),$e=f.charCodeAt(he);(ve===40&&$e===41||ve===91&&$e===93||ve===123&&$e===125)&&he--}return{range:{startLineNumber:x,startColumn:Y+1,endLineNumber:x,endColumn:he+2},url:f.substring(Y,he+1)}}static computeLinks(r,f=wn()){const x=qn(),Y=[];for(let ie=1,he=r.getLineCount();ie<=he;ie++){const ve=r.getLineContent(ie),$e=ve.length;let rt=0,gt=0,Ht=0,xn=1,ii=!1,Ki=!1,gs=!1,ks=!1;for(;rt<$e;){let Os=!1;const Zs=ve.charCodeAt(rt);if(xn===13){let Ds;switch(Zs){case 40:ii=!0,Ds=0;break;case 41:Ds=ii?0:1;break;case 91:gs=!0,Ki=!0,Ds=0;break;case 93:gs=!1,Ds=Ki?0:1;break;case 123:ks=!0,Ds=0;break;case 125:Ds=ks?0:1;break;case 39:Ds=Ht===39?1:0;break;case 34:Ds=Ht===34?1:0;break;case 96:Ds=Ht===96?1:0;break;case 42:Ds=Ht===42?1:0;break;case 124:Ds=Ht===124?1:0;break;case 32:Ds=gs?0:1;break;default:Ds=x.get(Zs)}Ds===1&&(Y.push(vt._createLink(x,ve,ie,gt,rt)),Os=!0)}else if(xn===12){let Ds;Zs===91?(Ki=!0,Ds=0):Ds=x.get(Zs),Ds===1?Os=!0:xn=13}else xn=f.nextState(xn,Zs),xn===0&&(Os=!0);Os&&(xn=1,ii=!1,Ki=!1,ks=!1,gt=rt+1,Ht=Zs),rt++}xn===13&&Y.push(vt._createLink(x,ve,ie,gt,$e))}return Y}}function _e(pe){return!pe||typeof pe.getLineCount!="function"||typeof pe.getLineContent!="function"?[]:vt.computeLinks(pe)}class ht{constructor(){this._defaultValueSet=[["true","false"],["True","False"],["Private","Public","Friend","ReadOnly","Partial","Protected","WriteOnly"],["public","protected","private"]]}navigateValueSet(r,f,x,Y,ie){if(r&&f){const he=this.doNavigateValueSet(f,ie);if(he)return{range:r,value:he}}if(x&&Y){const he=this.doNavigateValueSet(Y,ie);if(he)return{range:x,value:he}}return null}doNavigateValueSet(r,f){const x=this.numberReplace(r,f);return x!==null?x:this.textReplace(r,f)}numberReplace(r,f){const x=Math.pow(10,r.length-(r.lastIndexOf(".")+1));let Y=Number(r);const ie=parseFloat(r);return!isNaN(Y)&&!isNaN(ie)&&Y===ie?Y===0&&!f?null:(Y=Math.floor(Y*x),Y+=f?x:-x,String(Y/x)):null}textReplace(r,f){return this.valueSetsReplace(this._defaultValueSet,r,f)}valueSetsReplace(r,f,x){let Y=null;for(let ie=0,he=r.length;Y===null&&ie<he;ie++)Y=this.valueSetReplace(r[ie],f,x);return Y}valueSetReplace(r,f,x){let Y=r.indexOf(f);return Y>=0?(Y+=x?1:-1,Y<0?Y=r.length-1:Y%=r.length,r[Y]):null}}ht.INSTANCE=new ht;var yt=l(49960),ye=l(8924),qe=function(pe,r,f,x){function Y(ie){return ie instanceof f?ie:new f(function(he){he(ie)})}return new(f||(f=Promise))(function(ie,he){function ve(gt){try{rt(x.next(gt))}catch(Ht){he(Ht)}}function $e(gt){try{rt(x.throw(gt))}catch(Ht){he(Ht)}}function rt(gt){gt.done?ie(gt.value):Y(gt.value).then(ve,$e)}rt((x=x.apply(pe,r||[])).next())})};class Wt extends at{get uri(){return this._uri}get eol(){return this._eol}getValue(){return this.getText()}getLinesContent(){return this._lines.slice(0)}getLineCount(){return this._lines.length}getLineContent(r){return this._lines[r-1]}getWordAtPosition(r,f){const x=(0,Mt.t2)(r.column,(0,Mt.eq)(f),this._lines[r.lineNumber-1],0);return x?new P.e(r.lineNumber,x.startColumn,r.lineNumber,x.endColumn):null}words(r){const f=this._lines,x=this._wordenize.bind(this);let Y=0,ie="",he=0,ve=[];return{*[Symbol.iterator](){for(;;)if(he<ve.length){const $e=ie.substring(ve[he].start,ve[he].end);he+=1,yield $e}else if(Y<f.length)ie=f[Y],ve=x(ie,r),he=0,Y+=1;else break}}}getLineWords(r,f){const x=this._lines[r-1],Y=this._wordenize(x,f),ie=[];for(const he of Y)ie.push({word:x.substring(he.start,he.end),startColumn:he.start+1,endColumn:he.end+1});return ie}_wordenize(r,f){const x=[];let Y;for(f.lastIndex=0;(Y=f.exec(r))&&Y[0].length!==0;)x.push({start:Y.index,end:Y.index+Y[0].length});return x}getValueInRange(r){if(r=this._validateRange(r),r.startLineNumber===r.endLineNumber)return this._lines[r.startLineNumber-1].substring(r.startColumn-1,r.endColumn-1);const f=this._eol,x=r.startLineNumber-1,Y=r.endLineNumber-1,ie=[];ie.push(this._lines[x].substring(r.startColumn-1));for(let he=x+1;he<Y;he++)ie.push(this._lines[he]);return ie.push(this._lines[Y].substring(0,r.endColumn-1)),ie.join(f)}offsetAt(r){return r=this._validatePosition(r),this._ensureLineStarts(),this._lineStarts.getPrefixSum(r.lineNumber-2)+(r.column-1)}positionAt(r){r=Math.floor(r),r=Math.max(0,r),this._ensureLineStarts();const f=this._lineStarts.getIndexOf(r),x=this._lines[f.index].length;return{lineNumber:1+f.index,column:1+Math.min(f.remainder,x)}}_validateRange(r){const f=this._validatePosition({lineNumber:r.startLineNumber,column:r.startColumn}),x=this._validatePosition({lineNumber:r.endLineNumber,column:r.endColumn});return f.lineNumber!==r.startLineNumber||f.column!==r.startColumn||x.lineNumber!==r.endLineNumber||x.column!==r.endColumn?{startLineNumber:f.lineNumber,startColumn:f.column,endLineNumber:x.lineNumber,endColumn:x.column}:r}_validatePosition(r){if(!z.L.isIPosition(r))throw new Error("bad position");let{lineNumber:f,column:x}=r,Y=!1;if(f<1)f=1,x=1,Y=!0;else if(f>this._lines.length)f=this._lines.length,x=this._lines[f-1].length+1,Y=!0;else{const ie=this._lines[f-1].length+1;x<1?(x=1,Y=!0):x>ie&&(x=ie,Y=!0)}return Y?{lineNumber:f,column:x}:r}}class Xt{constructor(r,f){this._host=r,this._models=Object.create(null),this._foreignModuleFactory=f,this._foreignModule=null}dispose(){this._models=Object.create(null)}_getModel(r){return this._models[r]}_getModels(){const r=[];return Object.keys(this._models).forEach(f=>r.push(this._models[f])),r}acceptNewModel(r){this._models[r.url]=new Wt(L.o.parse(r.url),r.lines,r.EOL,r.versionId)}acceptModelChanged(r,f){if(!this._models[r])return;this._models[r].onEvents(f)}acceptRemovedModel(r){!this._models[r]||delete this._models[r]}computeUnicodeHighlights(r,f,x){return qe(this,void 0,void 0,function*(){const Y=this._getModel(r);return Y?ye.a.computeUnicodeHighlights(Y,f,x):{ranges:[],hasMore:!1,ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0}})}computeDiff(r,f,x,Y){return qe(this,void 0,void 0,function*(){const ie=this._getModel(r),he=this._getModel(f);return!ie||!he?null:Xt.computeDiff(ie,he,x,Y)})}static computeDiff(r,f,x,Y){const ie=r.getLinesContent(),he=f.getLinesContent(),$e=new Be(ie,he,{shouldComputeCharChanges:!0,shouldPostProcessCharChanges:!0,shouldIgnoreTrimWhitespace:x,shouldMakePrettyDiff:!0,maxComputationTime:Y}).computeDiff(),rt=$e.changes.length>0?!1:this._modelsAreIdentical(r,f);return{quitEarly:$e.quitEarly,identical:rt,changes:$e.changes}}static _modelsAreIdentical(r,f){const x=r.getLineCount(),Y=f.getLineCount();if(x!==Y)return!1;for(let ie=1;ie<=x;ie++){const he=r.getLineContent(ie),ve=f.getLineContent(ie);if(he!==ve)return!1}return!0}computeMoreMinimalEdits(r,f){return qe(this,void 0,void 0,function*(){const x=this._getModel(r);if(!x)return f;const Y=[];let ie;f=f.slice(0).sort((he,ve)=>{if(he.range&&ve.range)return P.e.compareRangesUsingStarts(he.range,ve.range);const $e=he.range?0:1,rt=ve.range?0:1;return $e-rt});for(let{range:he,text:ve,eol:$e}of f){if(typeof $e=="number"&&(ie=$e),P.e.isEmpty(he)&&!ve)continue;const rt=x.getValueInRange(he);if(ve=ve.replace(/\r\n|\n|\r/g,x.eol),rt===ve)continue;if(Math.max(ve.length,rt.length)>Xt._diffLimit){Y.push({range:he,text:ve});continue}const gt=(0,Ot.a$)(rt,ve,!1),Ht=x.offsetAt(P.e.lift(he).getStartPosition());for(const xn of gt){const ii=x.positionAt(Ht+xn.originalStart),Ki=x.positionAt(Ht+xn.originalStart+xn.originalLength),gs={text:ve.substr(xn.modifiedStart,xn.modifiedLength),range:{startLineNumber:ii.lineNumber,startColumn:ii.column,endLineNumber:Ki.lineNumber,endColumn:Ki.column}};x.getValueInRange(gs.range)!==gs.text&&Y.push(gs)}}return typeof ie=="number"&&Y.push({eol:ie,text:"",range:{startLineNumber:0,startColumn:0,endLineNumber:0,endColumn:0}}),Y})}computeLinks(r){return qe(this,void 0,void 0,function*(){const f=this._getModel(r);return f?_e(f):null})}textualSuggest(r,f,x,Y){return qe(this,void 0,void 0,function*(){const ie=new yt.G(!0),he=new RegExp(x,Y),ve=new Set;e:for(const $e of r){const rt=this._getModel($e);if(!!rt){for(const gt of rt.words(he))if(!(gt===f||!isNaN(Number(gt)))&&(ve.add(gt),ve.size>Xt._suggestionsLimit))break e}}return{words:Array.from(ve),duration:ie.elapsed()}})}computeWordRanges(r,f,x,Y){return qe(this,void 0,void 0,function*(){const ie=this._getModel(r);if(!ie)return Object.create(null);const he=new RegExp(x,Y),ve=Object.create(null);for(let $e=f.startLineNumber;$e<f.endLineNumber;$e++){const rt=ie.getLineWords($e,he);for(const gt of rt){if(!isNaN(Number(gt.word)))continue;let Ht=ve[gt.word];Ht||(Ht=[],ve[gt.word]=Ht),Ht.push({startLineNumber:$e,startColumn:gt.startColumn,endLineNumber:$e,endColumn:gt.endColumn})}}return ve})}navigateValueSet(r,f,x,Y,ie){return qe(this,void 0,void 0,function*(){const he=this._getModel(r);if(!he)return null;const ve=new RegExp(Y,ie);f.startColumn===f.endColumn&&(f={startLineNumber:f.startLineNumber,startColumn:f.startColumn,endLineNumber:f.endLineNumber,endColumn:f.endColumn+1});const $e=he.getValueInRange(f),rt=he.getWordAtPosition({lineNumber:f.startLineNumber,column:f.startColumn},ve);if(!rt)return null;const gt=he.getValueInRange(rt);return ht.INSTANCE.navigateValueSet(f,$e,rt,gt,x)})}loadForeignModule(r,f,x){const Y=(ve,$e)=>this._host.fhr(ve,$e),he={host:le.IU(x,Y),getMirrorModels:()=>this._getModels()};return this._foreignModuleFactory?(this._foreignModule=this._foreignModuleFactory(he,f),Promise.resolve(le.$E(this._foreignModule))):Promise.reject(new Error("Unexpected usage"))}fmr(r,f){if(!this._foreignModule||typeof this._foreignModule[r]!="function")return Promise.reject(new Error("Missing requestHandler or method: "+r));try{return Promise.resolve(this._foreignModule[r].apply(this._foreignModule,f))}catch(x){return Promise.reject(x)}}}Xt._diffLimit=1e5,Xt._suggestionsLimit=1e4;function mn(pe){return new Xt(pe,null)}typeof importScripts=="function"&&(ge.li.monaco=y());var bn=l(39839),ot=l(84553),Rt=l(36677),kt=l(9172),wt=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},ln=function(pe,r){return function(f,x){r(f,x,pe)}},_t=function(pe,r,f,x){function Y(ie){return ie instanceof f?ie:new f(function(he){he(ie)})}return new(f||(f=Promise))(function(ie,he){function ve(gt){try{rt(x.next(gt))}catch(Ht){he(Ht)}}function $e(gt){try{rt(x.throw(gt))}catch(Ht){he(Ht)}}function rt(gt){gt.done?ie(gt.value):Y(gt.value).then(ve,$e)}rt((x=x.apply(pe,r||[])).next())})};const di=60*1e3,Xn=5*60*1e3;function dn(pe,r){const f=pe.getModel(r);return!(!f||f.isTooLargeForSyncing())}let Ve=class extends u.JT{constructor(r,f,x,Y,ie){super(),this._modelService=r,this._workerManager=this._register(new dt(this._modelService,Y)),this._logService=x,this._register(ie.linkProvider.register({language:"*",hasAccessToAllModels:!0},{provideLinks:(he,ve)=>dn(this._modelService,he.uri)?this._workerManager.withWorker().then($e=>$e.computeLinks(he.uri)).then($e=>$e&&{links:$e}):Promise.resolve({links:[]})})),this._register(ie.completionProvider.register("*",new Ce(this._workerManager,f,this._modelService,Y)))}dispose(){super.dispose()}canComputeUnicodeHighlights(r){return dn(this._modelService,r)}computedUnicodeHighlights(r,f,x){return this._workerManager.withWorker().then(Y=>Y.computedUnicodeHighlights(r,f,x))}computeDiff(r,f,x,Y){return this._workerManager.withWorker().then(ie=>ie.computeDiff(r,f,x,Y))}computeMoreMinimalEdits(r,f){if((0,ot.Of)(f)){if(!dn(this._modelService,r))return Promise.resolve(f);const x=yt.G.create(!0),Y=this._workerManager.withWorker().then(ie=>ie.computeMoreMinimalEdits(r,f));return Y.finally(()=>this._logService.trace("FORMAT#computeMoreMinimalEdits",r.toString(!0),x.elapsed())),Promise.race([Y,(0,te.Vs)(1e3).then(()=>f)])}else return Promise.resolve(void 0)}canNavigateValueSet(r){return dn(this._modelService,r)}navigateValueSet(r,f,x){return this._workerManager.withWorker().then(Y=>Y.navigateValueSet(r,f,x))}canComputeWordRanges(r){return dn(this._modelService,r)}computeWordRanges(r,f){return this._workerManager.withWorker().then(x=>x.computeWordRanges(r,f))}};Ve=wt([ln(0,Z.q),ln(1,bn.V),ln(2,Rt.VZ),ln(3,R.c_),ln(4,kt.p)],Ve);class Ce{constructor(r,f,x,Y){this.languageConfigurationService=Y,this._debugDisplayName="wordbasedCompletions",this._workerManager=r,this._configurationService=f,this._modelService=x}provideCompletionItems(r,f){return _t(this,void 0,void 0,function*(){const x=this._configurationService.getValue(r.uri,f,"editor");if(!x.wordBasedSuggestions)return;const Y=[];if(x.wordBasedSuggestionsMode==="currentDocument")dn(this._modelService,r.uri)&&Y.push(r.uri);else for(const Ht of this._modelService.getModels())!dn(this._modelService,Ht.uri)||(Ht===r?Y.unshift(Ht.uri):(x.wordBasedSuggestionsMode==="allDocuments"||Ht.getLanguageId()===r.getLanguageId())&&Y.push(Ht.uri));if(Y.length===0)return;const ie=this.languageConfigurationService.getLanguageConfiguration(r.getLanguageId()).getWordDefinition(),he=r.getWordAtPosition(f),ve=he?new P.e(f.lineNumber,he.startColumn,f.lineNumber,he.endColumn):P.e.fromPositions(f),$e=ve.setEndPosition(f.lineNumber,f.column),gt=yield(yield this._workerManager.withWorker()).textualSuggest(Y,he==null?void 0:he.word,ie);if(!!gt)return{duration:gt.duration,suggestions:gt.words.map(Ht=>({kind:18,label:Ht,insertText:Ht,range:{insert:$e,replace:ve}}))}})}}class dt extends u.JT{constructor(r,f){super(),this.languageConfigurationService=f,this._modelService=r,this._editorWorkerClient=null,this._lastWorkerUsedTime=new Date().getTime(),this._register(new te.zh).cancelAndSet(()=>this._checkStopIdleWorker(),Math.round(Xn/2)),this._register(this._modelService.onModelRemoved(Y=>this._checkStopEmptyWorker()))}dispose(){this._editorWorkerClient&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null),super.dispose()}_checkStopEmptyWorker(){if(!this._editorWorkerClient)return;this._modelService.getModels().length===0&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}_checkStopIdleWorker(){if(!this._editorWorkerClient)return;new Date().getTime()-this._lastWorkerUsedTime>Xn&&(this._editorWorkerClient.dispose(),this._editorWorkerClient=null)}withWorker(){return this._lastWorkerUsedTime=new Date().getTime(),this._editorWorkerClient||(this._editorWorkerClient=new An(this._modelService,!1,"editorWorkerService",this.languageConfigurationService)),Promise.resolve(this._editorWorkerClient)}}class Qt extends u.JT{constructor(r,f,x){if(super(),this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),this._proxy=r,this._modelService=f,!x){const Y=new te.zh;Y.cancelAndSet(()=>this._checkStopModelSync(),Math.round(di/2)),this._register(Y)}}dispose(){for(const r in this._syncedModels)(0,u.B9)(this._syncedModels[r]);this._syncedModels=Object.create(null),this._syncedModelsLastUsedTime=Object.create(null),super.dispose()}ensureSyncedResources(r,f){for(const x of r){const Y=x.toString();this._syncedModels[Y]||this._beginModelSync(x,f),this._syncedModels[Y]&&(this._syncedModelsLastUsedTime[Y]=new Date().getTime())}}_checkStopModelSync(){const r=new Date().getTime(),f=[];for(const x in this._syncedModelsLastUsedTime)r-this._syncedModelsLastUsedTime[x]>di&&f.push(x);for(const x of f)this._stopModelSync(x)}_beginModelSync(r,f){const x=this._modelService.getModel(r);if(!x||!f&&x.isTooLargeForSyncing())return;const Y=r.toString();this._proxy.acceptNewModel({url:x.uri.toString(),lines:x.getLinesContent(),EOL:x.getEOL(),versionId:x.getVersionId()});const ie=new u.SL;ie.add(x.onDidChangeContent(he=>{this._proxy.acceptModelChanged(Y.toString(),he)})),ie.add(x.onWillDispose(()=>{this._stopModelSync(Y)})),ie.add((0,u.OF)(()=>{this._proxy.acceptRemovedModel(Y)})),this._syncedModels[Y]=ie}_stopModelSync(r){const f=this._syncedModels[r];delete this._syncedModels[r],delete this._syncedModelsLastUsedTime[r],(0,u.B9)(f)}}class en{constructor(r){this._instance=r,this._proxyObj=Promise.resolve(this._instance)}dispose(){this._instance.dispose()}getProxyObject(){return this._proxyObj}}class vn{constructor(r){this._workerClient=r}fhr(r,f){return this._workerClient.fhr(r,f)}}class An extends u.JT{constructor(r,f,x,Y){super(),this.languageConfigurationService=Y,this._disposed=!1,this._modelService=r,this._keepIdleModels=f,this._workerFactory=new ft(x),this._worker=null,this._modelManager=null}fhr(r,f){throw new Error("Not implemented!")}_getOrCreateWorker(){if(!this._worker)try{this._worker=this._register(new ke(this._workerFactory,"vs/editor/common/services/editorSimpleWorker",new vn(this)))}catch(r){re(r),this._worker=new en(new Xt(new vn(this),null))}return this._worker}_getProxy(){return this._getOrCreateWorker().getProxyObject().then(void 0,r=>(re(r),this._worker=new en(new Xt(new vn(this),null)),this._getOrCreateWorker().getProxyObject()))}_getOrCreateModelManager(r){return this._modelManager||(this._modelManager=this._register(new Qt(r,this._modelService,this._keepIdleModels))),this._modelManager}_withSyncedResources(r,f=!1){return _t(this,void 0,void 0,function*(){return this._disposed?Promise.reject((0,de.F0)()):this._getProxy().then(x=>(this._getOrCreateModelManager(x).ensureSyncedResources(r,f),x))})}computedUnicodeHighlights(r,f,x){return this._withSyncedResources([r]).then(Y=>Y.computeUnicodeHighlights(r.toString(),f,x))}computeDiff(r,f,x,Y){return this._withSyncedResources([r,f],!0).then(ie=>ie.computeDiff(r.toString(),f.toString(),x,Y))}computeMoreMinimalEdits(r,f){return this._withSyncedResources([r]).then(x=>x.computeMoreMinimalEdits(r.toString(),f))}computeLinks(r){return this._withSyncedResources([r]).then(f=>f.computeLinks(r.toString()))}textualSuggest(r,f,x){return _t(this,void 0,void 0,function*(){const Y=yield this._withSyncedResources(r),ie=x.source,he=(0,a.mr)(x);return Y.textualSuggest(r.map(ve=>ve.toString()),f,ie,he)})}computeWordRanges(r,f){return this._withSyncedResources([r]).then(x=>{const Y=this._modelService.getModel(r);if(!Y)return Promise.resolve(null);const ie=this.languageConfigurationService.getLanguageConfiguration(Y.getLanguageId()).getWordDefinition(),he=ie.source,ve=(0,a.mr)(ie);return x.computeWordRanges(r.toString(),f,he,ve)})}navigateValueSet(r,f,x){return this._withSyncedResources([r]).then(Y=>{const ie=this._modelService.getModel(r);if(!ie)return null;const he=this.languageConfigurationService.getLanguageConfiguration(ie.getLanguageId()).getWordDefinition(),ve=he.source,$e=(0,a.mr)(he);return Y.navigateValueSet(r.toString(),f,x,ve,$e)})}dispose(){super.dispose(),this._disposed=!0}}function On(pe,r,f){return new In(pe,r,f)}class In extends An{constructor(r,f,x){super(r,x.keepIdleModels||!1,x.label,f),this._foreignModuleId=x.moduleId,this._foreignModuleCreateData=x.createData||null,this._foreignModuleHost=x.host||null,this._foreignProxy=null}fhr(r,f){if(!this._foreignModuleHost||typeof this._foreignModuleHost[r]!="function")return Promise.reject(new Error("Missing method "+r+" or missing main thread foreign host."));try{return Promise.resolve(this._foreignModuleHost[r].apply(this._foreignModuleHost,f))}catch(x){return Promise.reject(x)}}_getForeignProxy(){return this._foreignProxy||(this._foreignProxy=this._getProxy().then(r=>{const f=this._foreignModuleHost?le.$E(this._foreignModuleHost):[];return r.loadForeignModule(this._foreignModuleId,this._foreignModuleCreateData,f).then(x=>{this._foreignModuleCreateData=null;const Y=(ve,$e)=>r.fmr(ve,$e),ie=(ve,$e)=>function(){const rt=Array.prototype.slice.call(arguments,0);return $e(ve,rt)},he={};for(const ve of x)he[ve]=ie(ve,Y);return he})})),this._foreignProxy}getProxy(){return this._getForeignProxy()}withSyncedResources(r){return this._withSyncedResources(r).then(f=>this.getProxy())}}var Sn=l(37186),Mn=l(63908),Bn=l(62895);function Jn(pe){return Array.isArray(pe)}function ai(pe){return!Jn(pe)}function jn(pe){return typeof pe=="string"}function Ii(pe){return!jn(pe)}function ci(pe){return!pe}function oi(pe,r){return pe.ignoreCase&&r?r.toLowerCase():r}function wi(pe){return pe.replace(/[&<>'"_]/g,"-")}function Li(pe,r){console.log(`${pe.languageId}: ${r}`)}function kn(pe,r){return new Error(`${pe.languageId}: ${r}`)}function vi(pe,r,f,x,Y){const ie=/\$((\$)|(#)|(\d\d?)|[sS](\d\d?)|@(\w+))/g;let he=null;return r.replace(ie,function(ve,$e,rt,gt,Ht,xn,ii,Ki,gs){return ci(rt)?ci(gt)?!ci(Ht)&&Ht<x.length?oi(pe,x[Ht]):!ci(ii)&&pe&&typeof pe[ii]=="string"?pe[ii]:(he===null&&(he=Y.split("."),he.unshift(Y)),!ci(xn)&&xn<he.length?oi(pe,he[xn]):""):oi(pe,f):"$"})}function Si(pe,r){let f=r;for(;f&&f.length>0;){const x=pe.tokenizer[f];if(x)return x;const Y=f.lastIndexOf(".");Y<0?f=null:f=f.substr(0,Y)}return null}function Ye(pe,r){let f=r;for(;f&&f.length>0;){if(pe.stateNames[f])return!0;const Y=f.lastIndexOf(".");Y<0?f=null:f=f.substr(0,Y)}return!1}var Tt=l(57024),nn=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},hn=function(pe,r){return function(f,x){r(f,x,pe)}};const Vn=5;class Hn{constructor(r){this._maxCacheDepth=r,this._entries=Object.create(null)}static create(r,f){return this._INSTANCE.create(r,f)}create(r,f){if(r!==null&&r.depth>=this._maxCacheDepth)return new Ci(r,f);let x=Ci.getStackElementId(r);x.length>0&&(x+="|"),x+=f;let Y=this._entries[x];return Y||(Y=new Ci(r,f),this._entries[x]=Y,Y)}}Hn._INSTANCE=new Hn(Vn);class Ci{constructor(r,f){this.parent=r,this.state=f,this.depth=(this.parent?this.parent.depth:0)+1}static getStackElementId(r){let f="";for(;r!==null;)f.length>0&&(f+="|"),f+=r.state,r=r.parent;return f}static _equals(r,f){for(;r!==null&&f!==null;){if(r===f)return!0;if(r.state!==f.state)return!1;r=r.parent,f=f.parent}return r===null&&f===null}equals(r){return Ci._equals(this,r)}push(r){return Hn.create(this,r)}pop(){return this.parent}popall(){let r=this;for(;r.parent;)r=r.parent;return r}switchTo(r){return Hn.create(this.parent,r)}}class qi{constructor(r,f){this.languageId=r,this.state=f}equals(r){return this.languageId===r.languageId&&this.state.equals(r.state)}clone(){return this.state.clone()===this.state?this:new qi(this.languageId,this.state)}}class ri{constructor(r){this._maxCacheDepth=r,this._entries=Object.create(null)}static create(r,f){return this._INSTANCE.create(r,f)}create(r,f){if(f!==null)return new ms(r,f);if(r!==null&&r.depth>=this._maxCacheDepth)return new ms(r,f);const x=Ci.getStackElementId(r);let Y=this._entries[x];return Y||(Y=new ms(r,null),this._entries[x]=Y,Y)}}ri._INSTANCE=new ri(Vn);class ms{constructor(r,f){this.stack=r,this.embeddedLanguageData=f}clone(){return(this.embeddedLanguageData?this.embeddedLanguageData.clone():null)===this.embeddedLanguageData?this:ri.create(this.stack,this.embeddedLanguageData)}equals(r){return!(r instanceof ms)||!this.stack.equals(r.stack)?!1:this.embeddedLanguageData===null&&r.embeddedLanguageData===null?!0:this.embeddedLanguageData===null||r.embeddedLanguageData===null?!1:this.embeddedLanguageData.equals(r.embeddedLanguageData)}}class fi{constructor(){this._tokens=[],this._languageId=null,this._lastTokenType=null,this._lastTokenLanguage=null}enterLanguage(r){this._languageId=r}emit(r,f){this._lastTokenType===f&&this._lastTokenLanguage===this._languageId||(this._lastTokenType=f,this._lastTokenLanguage=this._languageId,this._tokens.push(new T.WU(r,f,this._languageId)))}nestedLanguageTokenize(r,f,x,Y){const ie=x.languageId,he=x.state,ve=T.RW.get(ie);if(!ve)return this.enterLanguage(ie),this.emit(Y,""),he;const $e=ve.tokenize(r,f,he);if(Y!==0)for(const rt of $e.tokens)this._tokens.push(new T.WU(rt.offset+Y,rt.type,rt.language));else this._tokens=this._tokens.concat($e.tokens);return this._lastTokenType=null,this._lastTokenLanguage=null,this._languageId=null,$e.endState}finalize(r){return new T.hG(this._tokens,r)}}class _s{constructor(r,f){this._languageService=r,this._theme=f,this._prependTokens=null,this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0}enterLanguage(r){this._currentLanguageId=this._languageService.languageIdCodec.encodeLanguageId(r)}emit(r,f){const x=this._theme.match(this._currentLanguageId,f);this._lastTokenMetadata!==x&&(this._lastTokenMetadata=x,this._tokens.push(r),this._tokens.push(x))}static _merge(r,f,x){const Y=r!==null?r.length:0,ie=f.length,he=x!==null?x.length:0;if(Y===0&&ie===0&&he===0)return new Uint32Array(0);if(Y===0&&ie===0)return x;if(ie===0&&he===0)return r;const ve=new Uint32Array(Y+ie+he);r!==null&&ve.set(r);for(let $e=0;$e<ie;$e++)ve[Y+$e]=f[$e];return x!==null&&ve.set(x,Y+ie),ve}nestedLanguageTokenize(r,f,x,Y){const ie=x.languageId,he=x.state,ve=T.RW.get(ie);if(!ve)return this.enterLanguage(ie),this.emit(Y,""),he;const $e=ve.tokenizeEncoded(r,f,he);if(Y!==0)for(let rt=0,gt=$e.tokens.length;rt<gt;rt+=2)$e.tokens[rt]+=Y;return this._prependTokens=_s._merge(this._prependTokens,this._tokens,$e.tokens),this._tokens=[],this._currentLanguageId=0,this._lastTokenMetadata=0,$e.endState}finalize(r){return new T.DI(_s._merge(this._prependTokens,this._tokens,null),r)}}let bi=class Z1{constructor(r,f,x,Y,ie){this._configurationService=ie,this._languageService=r,this._standaloneThemeService=f,this._languageId=x,this._lexer=Y,this._embeddedLanguages=Object.create(null),this.embeddedLoaded=Promise.resolve(void 0);let he=!1;this._tokenizationRegistryListener=T.RW.onDidChange(ve=>{if(he)return;let $e=!1;for(let rt=0,gt=ve.changedLanguages.length;rt<gt;rt++){const Ht=ve.changedLanguages[rt];if(this._embeddedLanguages[Ht]){$e=!0;break}}$e&&(he=!0,T.RW.fire([this._languageId]),he=!1)}),this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}),this._configurationService.onDidChangeConfiguration(ve=>{ve.affectsConfiguration("editor.maxTokenizationLineLength")&&(this._maxTokenizationLineLength=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:this._languageId}))})}dispose(){this._tokenizationRegistryListener.dispose()}getLoadStatus(){const r=[];for(const f in this._embeddedLanguages){const x=T.RW.get(f);if(x){if(x instanceof Z1){const Y=x.getLoadStatus();Y.loaded===!1&&r.push(Y.promise)}continue}T.RW.isResolved(f)||r.push(T.RW.getOrCreate(f))}return r.length===0?{loaded:!0}:{loaded:!1,promise:Promise.all(r).then(f=>{})}}getInitialState(){const r=Hn.create(null,this._lexer.start);return ri.create(r,null)}tokenize(r,f,x){if(r.length>=this._maxTokenizationLineLength)return(0,M.Ri)(this._languageId,x);const Y=new fi,ie=this._tokenize(r,f,x,Y);return Y.finalize(ie)}tokenizeEncoded(r,f,x){if(r.length>=this._maxTokenizationLineLength)return(0,M.Dy)(this._languageService.languageIdCodec.encodeLanguageId(this._languageId),x);const Y=new _s(this._languageService,this._standaloneThemeService.getColorTheme().tokenTheme),ie=this._tokenize(r,f,x,Y);return Y.finalize(ie)}_tokenize(r,f,x,Y){return x.embeddedLanguageData?this._nestedTokenize(r,f,x,0,Y):this._myTokenize(r,f,x,0,Y)}_findLeavingNestedLanguageOffset(r,f){let x=this._lexer.tokenizer[f.stack.state];if(!x&&(x=Si(this._lexer,f.stack.state),!x))throw kn(this._lexer,"tokenizer state is not defined: "+f.stack.state);let Y=-1,ie=!1;for(const he of x){if(!Ii(he.action)||he.action.nextEmbedded!=="@pop")continue;ie=!0;let ve=he.regex;const $e=he.regex.source;if($e.substr(0,4)==="^(?:"&&$e.substr($e.length-1,1)===")"){const gt=(ve.ignoreCase?"i":"")+(ve.unicode?"u":"");ve=new RegExp($e.substr(4,$e.length-5),gt)}const rt=r.search(ve);rt===-1||rt!==0&&he.matchOnlyAtLineStart||(Y===-1||rt<Y)&&(Y=rt)}if(!ie)throw kn(this._lexer,'no rule containing nextEmbedded: "@pop" in tokenizer embedded state: '+f.stack.state);return Y}_nestedTokenize(r,f,x,Y,ie){const he=this._findLeavingNestedLanguageOffset(r,x);if(he===-1){const rt=ie.nestedLanguageTokenize(r,f,x.embeddedLanguageData,Y);return ri.create(x.stack,new qi(x.embeddedLanguageData.languageId,rt))}const ve=r.substring(0,he);ve.length>0&&ie.nestedLanguageTokenize(ve,!1,x.embeddedLanguageData,Y);const $e=r.substring(he);return this._myTokenize($e,f,x,Y+he,ie)}_safeRuleName(r){return r?r.name:"(unknown)"}_myTokenize(r,f,x,Y,ie){ie.enterLanguage(this._languageId);const he=r.length,ve=f&&this._lexer.includeLF?r+`
`:r,$e=ve.length;let rt=x.embeddedLanguageData,gt=x.stack,Ht=0,xn=null,ii=!0;for(;ii||Ht<$e;){const Ki=Ht,gs=gt.depth,ks=xn?xn.groups.length:0,Os=gt.state;let Zs=null,Ds=null,Vs=null,la=null,vc=null;if(xn){Zs=xn.matches;const Qs=xn.groups.shift();Ds=Qs.matched,Vs=Qs.action,la=xn.rule,xn.groups.length===0&&(xn=null)}else{if(!ii&&Ht>=$e)break;ii=!1;let Qs=this._lexer.tokenizer[Os];if(!Qs&&(Qs=Si(this._lexer,Os),!Qs))throw kn(this._lexer,"tokenizer state is not defined: "+Os);const us=ve.substr(Ht);for(const Qo of Qs)if((Ht===0||!Qo.matchOnlyAtLineStart)&&(Zs=us.match(Qo.regex),Zs)){Ds=Zs[0],Vs=Qo.action;break}}if(Zs||(Zs=[""],Ds=""),Vs||(Ht<$e&&(Zs=[ve.charAt(Ht)],Ds=Zs[0]),Vs=this._lexer.defaultToken),Ds===null)break;for(Ht+=Ds.length;ai(Vs)&&Ii(Vs)&&Vs.test;)Vs=Vs.test(Ds,Zs,Os,Ht===$e);let ko=null;if(typeof Vs=="string"||Array.isArray(Vs))ko=Vs;else if(Vs.group)ko=Vs.group;else if(Vs.token!==null&&Vs.token!==void 0){if(Vs.tokenSubst?ko=vi(this._lexer,Vs.token,Ds,Zs,Os):ko=Vs.token,Vs.nextEmbedded)if(Vs.nextEmbedded==="@pop"){if(!rt)throw kn(this._lexer,"cannot pop embedded language if not inside one");rt=null}else{if(rt)throw kn(this._lexer,"cannot enter embedded language from within an embedded language");vc=vi(this._lexer,Vs.nextEmbedded,Ds,Zs,Os)}if(Vs.goBack&&(Ht=Math.max(0,Ht-Vs.goBack)),Vs.switchTo&&typeof Vs.switchTo=="string"){let Qs=vi(this._lexer,Vs.switchTo,Ds,Zs,Os);if(Qs[0]==="@"&&(Qs=Qs.substr(1)),Si(this._lexer,Qs))gt=gt.switchTo(Qs);else throw kn(this._lexer,"trying to switch to a state '"+Qs+"' that is undefined in rule: "+this._safeRuleName(la))}else{if(Vs.transform&&typeof Vs.transform=="function")throw kn(this._lexer,"action.transform not supported");if(Vs.next)if(Vs.next==="@push"){if(gt.depth>=this._lexer.maxStack)throw kn(this._lexer,"maximum tokenizer stack size reached: ["+gt.state+","+gt.parent.state+",...]");gt=gt.push(Os)}else if(Vs.next==="@pop"){if(gt.depth<=1)throw kn(this._lexer,"trying to pop an empty stack in rule: "+this._safeRuleName(la));gt=gt.pop()}else if(Vs.next==="@popall")gt=gt.popall();else{let Qs=vi(this._lexer,Vs.next,Ds,Zs,Os);if(Qs[0]==="@"&&(Qs=Qs.substr(1)),Si(this._lexer,Qs))gt=gt.push(Qs);else throw kn(this._lexer,"trying to set a next state '"+Qs+"' that is undefined in rule: "+this._safeRuleName(la))}}Vs.log&&typeof Vs.log=="string"&&Li(this._lexer,this._lexer.languageId+": "+vi(this._lexer,Vs.log,Ds,Zs,Os))}if(ko===null)throw kn(this._lexer,"lexer rule has no well-defined action in rule: "+this._safeRuleName(la));const bd=Qs=>{const us=this._languageService.getLanguageIdByLanguageName(Qs)||this._languageService.getLanguageIdByMimeType(Qs)||Qs,Qo=this._getNestedEmbeddedLanguageData(us);if(Ht<$e){const Gc=r.substr(Ht);return this._nestedTokenize(Gc,f,ri.create(gt,Qo),Y+Ht,ie)}else return ri.create(gt,Qo)};if(Array.isArray(ko)){if(xn&&xn.groups.length>0)throw kn(this._lexer,"groups cannot be nested: "+this._safeRuleName(la));if(Zs.length!==ko.length+1)throw kn(this._lexer,"matched number of groups does not match the number of actions in rule: "+this._safeRuleName(la));let Qs=0;for(let us=1;us<Zs.length;us++)Qs+=Zs[us].length;if(Qs!==Ds.length)throw kn(this._lexer,"with groups, all characters should be matched in consecutive groups in rule: "+this._safeRuleName(la));xn={rule:la,matches:Zs,groups:[]};for(let us=0;us<ko.length;us++)xn.groups[us]={action:ko[us],matched:Zs[us+1]};Ht-=Ds.length;continue}else{if(ko==="@rematch"&&(Ht-=Ds.length,Ds="",Zs=null,ko="",vc!==null))return bd(vc);if(Ds.length===0){if($e===0||gs!==gt.depth||Os!==gt.state||(xn?xn.groups.length:0)!==ks)continue;throw kn(this._lexer,"no progress in tokenizer in rule: "+this._safeRuleName(la))}let Qs=null;if(jn(ko)&&ko.indexOf("@brackets")===0){const us=ko.substr(9),Qo=$i(this._lexer,Ds);if(!Qo)throw kn(this._lexer,"@brackets token returned but no bracket defined as: "+Ds);Qs=wi(Qo.token+us)}else{const us=ko===""?"":ko+this._lexer.tokenPostfix;Qs=wi(us)}Ki<he&&ie.emit(Ki+Y,Qs)}if(vc!==null)return bd(vc)}return ri.create(gt,rt)}_getNestedEmbeddedLanguageData(r){if(!this._languageService.isRegisteredLanguageId(r))return new qi(r,M.TJ);r!==this._languageId&&(T.RW.getOrCreate(r),this._embeddedLanguages[r]=!0);const f=T.RW.get(r);return f?new qi(r,f.getInitialState()):new qi(r,M.TJ)}};bi=nn([hn(4,Tt.Ui)],bi);function $i(pe,r){if(!r)return null;r=oi(pe,r);const f=pe.brackets;for(const x of f){if(x.open===r)return{token:x.token,bracketType:1};if(x.close===r)return{token:x.token,bracketType:-1}}return null}var Ei=function(pe,r,f,x){function Y(ie){return ie instanceof f?ie:new f(function(he){he(ie)})}return new(f||(f=Promise))(function(ie,he){function ve(gt){try{rt(x.next(gt))}catch(Ht){he(Ht)}}function $e(gt){try{rt(x.throw(gt))}catch(Ht){he(Ht)}}function rt(gt){gt.done?ie(gt.value):Y(gt.value).then(ve,$e)}rt((x=x.apply(pe,r||[])).next())})},Xi;const Es=(Xi=window.trustedTypes)===null||Xi===void 0?void 0:Xi.createPolicy("standaloneColorizer",{createHTML:pe=>pe});class Ks{static colorizeElement(r,f,x,Y){Y=Y||{};const ie=Y.theme||"vs",he=Y.mimeType||x.getAttribute("lang")||x.getAttribute("data-lang");if(!he)return console.error("Mode not detected"),Promise.resolve();const ve=f.getLanguageIdByMimeType(he)||he;r.setTheme(ie);const $e=x.firstChild?x.firstChild.nodeValue:"";x.className+=" "+ie;const rt=gt=>{var Ht;const xn=(Ht=Es==null?void 0:Es.createHTML(gt))!==null&&Ht!==void 0?Ht:gt;x.innerHTML=xn};return this.colorize(f,$e||"",ve,Y).then(rt,gt=>console.error(gt))}static colorize(r,f,x,Y){return Ei(this,void 0,void 0,function*(){const ie=r.languageIdCodec;let he=4;Y&&typeof Y.tabSize=="number"&&(he=Y.tabSize),a.uS(f)&&(f=f.substr(1));const ve=a.uq(f);if(!r.isRegisteredLanguageId(x))return bs(ve,he,ie);const $e=yield T.RW.getOrCreate(x);return $e?gi(ve,he,$e,ie):bs(ve,he,ie)})}static colorizeLine(r,f,x,Y,ie=4){const he=Bn.wA.isBasicASCII(r,f),ve=Bn.wA.containsRTL(r,he,x);return(0,Mn.tF)(new Mn.IJ(!1,!0,r,!1,he,ve,0,Y,[],ie,0,0,0,0,-1,"none",!1,!1,null)).html}static colorizeModelLine(r,f,x=4){const Y=r.getLineContent(f);r.tokenization.forceTokenization(f);const he=r.tokenization.getLineTokens(f).inflate();return this.colorizeLine(Y,r.mightContainNonBasicASCII(),r.mightContainRTL(),he,x)}}function gi(pe,r,f,x){return new Promise((Y,ie)=>{const he=()=>{const ve=Di(pe,r,f,x);if(f instanceof bi){const $e=f.getLoadStatus();if($e.loaded===!1){$e.promise.then(he,ie);return}}Y(ve)};he()})}function bs(pe,r,f){let x=[];const ie=new Uint32Array(2);ie[0]=0,ie[1]=33587200;for(let he=0,ve=pe.length;he<ve;he++){const $e=pe[he];ie[0]=$e.length;const rt=new Sn.A(ie,$e,f),gt=Bn.wA.isBasicASCII($e,!0),Ht=Bn.wA.containsRTL($e,gt,!0),xn=(0,Mn.tF)(new Mn.IJ(!1,!0,$e,!1,gt,Ht,0,rt,[],r,0,0,0,0,-1,"none",!1,!1,null));x=x.concat(xn.html),x.push("<br/>")}return x.join("")}function Di(pe,r,f,x){let Y=[],ie=f.getInitialState();for(let he=0,ve=pe.length;he<ve;he++){const $e=pe[he],rt=f.tokenizeEncoded($e,!0,ie);Sn.A.convertToEndOffset(rt.tokens,$e.length);const gt=new Sn.A(rt.tokens,$e,x),Ht=Bn.wA.isBasicASCII($e,!0),xn=Bn.wA.containsRTL($e,Ht,!0),ii=(0,Mn.tF)(new Mn.IJ(!1,!0,$e,!1,Ht,xn,0,gt.inflate(),[],r,0,0,0,0,-1,"none",!1,!1,null));Y=Y.concat(ii.html),Y.push("<br/>"),ie=rt.endState}return Y.join("")}var ws=l(14679),uo=l(15083),Us=l(47137),$s=l(79078),cs=l(87026),on=l(1660),ts=l(49407),Ro=l(69368),zs=l(16597),As=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},eo=function(pe,r){return function(f,x){r(f,x,pe)}},so=function(pe,r,f,x){function Y(ie){return ie instanceof f?ie:new f(function(he){he(ie)})}return new(f||(f=Promise))(function(ie,he){function ve(gt){try{rt(x.next(gt))}catch(Ht){he(Ht)}}function $e(gt){try{rt(x.throw(gt))}catch(Ht){he(Ht)}}function rt(gt){gt.done?ie(gt.value):Y(gt.value).then(ve,$e)}rt((x=x.apply(pe,r||[])).next())})};let oo=class extends u.JT{constructor(r){super(),this._themeService=r,this._onCodeEditorAdd=this._register(new j.Q5),this.onCodeEditorAdd=this._onCodeEditorAdd.event,this._onCodeEditorRemove=this._register(new j.Q5),this.onCodeEditorRemove=this._onCodeEditorRemove.event,this._onDiffEditorAdd=this._register(new j.Q5),this.onDiffEditorAdd=this._onDiffEditorAdd.event,this._onDiffEditorRemove=this._register(new j.Q5),this.onDiffEditorRemove=this._onDiffEditorRemove.event,this._decorationOptionProviders=new Map,this._codeEditorOpenHandlers=new Ro.S,this._modelProperties=new Map,this._codeEditors=Object.create(null),this._diffEditors=Object.create(null),this._globalStyleSheet=null}addCodeEditor(r){this._codeEditors[r.getId()]=r,this._onCodeEditorAdd.fire(r)}removeCodeEditor(r){delete this._codeEditors[r.getId()]&&this._onCodeEditorRemove.fire(r)}listCodeEditors(){return Object.keys(this._codeEditors).map(r=>this._codeEditors[r])}addDiffEditor(r){this._diffEditors[r.getId()]=r,this._onDiffEditorAdd.fire(r)}removeDiffEditor(r){delete this._diffEditors[r.getId()]&&this._onDiffEditorRemove.fire(r)}listDiffEditors(){return Object.keys(this._diffEditors).map(r=>this._diffEditors[r])}getFocusedCodeEditor(){let r=null;const f=this.listCodeEditors();for(const x of f){if(x.hasTextFocus())return x;x.hasWidgetFocus()&&(r=x)}return r}removeDecorationType(r){const f=this._decorationOptionProviders.get(r);f&&(f.refCount--,f.refCount<=0&&(this._decorationOptionProviders.delete(r),f.dispose(),this.listCodeEditors().forEach(x=>x.removeDecorationsByType(r))))}setModelProperty(r,f,x){const Y=r.toString();let ie;this._modelProperties.has(Y)?ie=this._modelProperties.get(Y):(ie=new Map,this._modelProperties.set(Y,ie)),ie.set(f,x)}getModelProperty(r,f){const x=r.toString();if(this._modelProperties.has(x))return this._modelProperties.get(x).get(f)}openCodeEditor(r,f,x){return so(this,void 0,void 0,function*(){for(const Y of this._codeEditorOpenHandlers){const ie=yield Y(r,f,x);if(ie!==null)return ie}return null})}registerCodeEditorOpenHandler(r){const f=this._codeEditorOpenHandlers.unshift(r);return(0,u.OF)(f)}};oo=As([eo(0,zs.XE)],oo);class Ho{constructor(r){this._styleSheet=r}}var es=l(37483),as=l(88588),xo=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},Yi=function(pe,r){return function(f,x){r(f,x,pe)}},Ln=function(pe,r,f,x){function Y(ie){return ie instanceof f?ie:new f(function(he){he(ie)})}return new(f||(f=Promise))(function(ie,he){function ve(gt){try{rt(x.next(gt))}catch(Ht){he(Ht)}}function $e(gt){try{rt(x.throw(gt))}catch(Ht){he(Ht)}}function rt(gt){gt.done?ie(gt.value):Y(gt.value).then(ve,$e)}rt((x=x.apply(pe,r||[])).next())})};let hi=class extends oo{constructor(r,f){super(f),this.onCodeEditorAdd(()=>this._checkContextKey()),this.onCodeEditorRemove(()=>this._checkContextKey()),this._editorIsOpen=r.createKey("editorIsOpen",!1),this._activeCodeEditor=null,this.registerCodeEditorOpenHandler((x,Y,ie)=>Ln(this,void 0,void 0,function*(){return Y?this.doOpenEditor(Y,x):null}))}_checkContextKey(){let r=!1;for(const f of this.listCodeEditors())if(!f.isSimpleWidget){r=!0;break}this._editorIsOpen.set(r)}setActiveCodeEditor(r){this._activeCodeEditor=r}getActiveCodeEditor(){return this._activeCodeEditor}doOpenEditor(r,f){if(!this.findModel(r,f.resource)){if(f.resource){const ie=f.resource.scheme;if(ie===ts.lg.http||ie===ts.lg.https)return(0,on.V3)(f.resource.toString()),r}return null}const Y=f.options?f.options.selection:null;if(Y)if(typeof Y.endLineNumber=="number"&&typeof Y.endColumn=="number")r.setSelection(Y),r.revealRangeInCenter(Y,1);else{const ie={lineNumber:Y.startLineNumber,column:Y.startColumn};r.setPosition(ie),r.revealPositionInCenter(ie,1)}return r}findModel(r,f){const x=r.getModel();return x&&x.uri.toString()!==f.toString()?null:x}};hi=xo([Yi(0,es.i6),Yi(1,zs.XE)],hi),(0,as.z)(D.$,hi);var si=l(47397);const ns=(0,si.yh)("layoutService");var Xs=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},ki=function(pe,r){return function(f,x){r(f,x,pe)}};let we=class{constructor(r){this._codeEditorService=r,this.onDidLayout=j.ju.None,this.offset={top:0,quickPickTop:0}}get dimension(){return this._dimension||(this._dimension=on.D6(window.document.body)),this._dimension}get hasContainer(){return!1}get container(){throw new Error("ILayoutService.container is not available in the standalone editor!")}focus(){var r;(r=this._codeEditorService.getFocusedCodeEditor())===null||r===void 0||r.focus()}};we=Xs([ki(0,D.$)],we);let k=class extends we{constructor(r,f){super(f),this._container=r}get hasContainer(){return!1}get container(){return this._container}};k=Xs([ki(1,D.$)],k),(0,as.z)(ns,we);var F=l(85669),m=l(83218),B=l(13058),ee=l(21166),fe=l(49750),Ie=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},Te=function(pe,r){return function(f,x){r(f,x,pe)}},Je=function(pe,r,f,x){function Y(ie){return ie instanceof f?ie:new f(function(he){he(ie)})}return new(f||(f=Promise))(function(ie,he){function ve(gt){try{rt(x.next(gt))}catch(Ht){he(Ht)}}function $e(gt){try{rt(x.throw(gt))}catch(Ht){he(Ht)}}function rt(gt){gt.done?ie(gt.value):Y(gt.value).then(ve,$e)}rt((x=x.apply(pe,r||[])).next())})};const it=!1;function Ct(pe){return pe.scheme===ts.lg.file?pe.fsPath:pe.path}let It=0;class Ut{constructor(r,f,x,Y,ie,he,ve){this.id=++It,this.type=0,this.actual=r,this.label=r.label,this.confirmBeforeUndo=r.confirmBeforeUndo||!1,this.resourceLabel=f,this.strResource=x,this.resourceLabels=[this.resourceLabel],this.strResources=[this.strResource],this.groupId=Y,this.groupOrder=ie,this.sourceId=he,this.sourceOrder=ve,this.isValid=!0}setValid(r){this.isValid=r}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.isValid?"  VALID":"INVALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class sn{constructor(r,f){this.resourceLabel=r,this.reason=f}}class tn{constructor(){this.elements=new Map}createMessage(){const r=[],f=[];for(const[,Y]of this.elements)(Y.reason===0?r:f).push(Y.resourceLabel);const x=[];return r.length>0&&x.push(m.NC({key:"externalRemoval",comment:["{0} is a list of filenames"]},"The following files have been closed and modified on disk: {0}.",r.join(", "))),f.length>0&&x.push(m.NC({key:"noParallelUniverses",comment:["{0} is a list of filenames"]},"The following files have been modified in an incompatible way: {0}.",f.join(", "))),x.join(`
`)}get size(){return this.elements.size}has(r){return this.elements.has(r)}set(r,f){this.elements.set(r,f)}delete(r){return this.elements.delete(r)}}class rn{constructor(r,f,x,Y,ie,he,ve){this.id=++It,this.type=1,this.actual=r,this.label=r.label,this.confirmBeforeUndo=r.confirmBeforeUndo||!1,this.resourceLabels=f,this.strResources=x,this.groupId=Y,this.groupOrder=ie,this.sourceId=he,this.sourceOrder=ve,this.removedResources=null,this.invalidatedResources=null}canSplit(){return typeof this.actual.split=="function"}removeResource(r,f,x){this.removedResources||(this.removedResources=new tn),this.removedResources.has(f)||this.removedResources.set(f,new sn(r,x))}setValid(r,f,x){x?this.invalidatedResources&&(this.invalidatedResources.delete(f),this.invalidatedResources.size===0&&(this.invalidatedResources=null)):(this.invalidatedResources||(this.invalidatedResources=new tn),this.invalidatedResources.has(f)||this.invalidatedResources.set(f,new sn(r,0)))}toString(){return`[id:${this.id}] [group:${this.groupId}] [${this.invalidatedResources?"INVALID":"  VALID"}] ${this.actual.constructor.name} - ${this.actual}`}}class En{constructor(r,f){this.resourceLabel=r,this.strResource=f,this._past=[],this._future=[],this.locked=!1,this.versionId=1}dispose(){for(const r of this._past)r.type===1&&r.removeResource(this.resourceLabel,this.strResource,0);for(const r of this._future)r.type===1&&r.removeResource(this.resourceLabel,this.strResource,0);this.versionId++}toString(){const r=[];r.push(`* ${this.strResource}:`);for(let f=0;f<this._past.length;f++)r.push(`   * [UNDO] ${this._past[f]}`);for(let f=this._future.length-1;f>=0;f--)r.push(`   * [REDO] ${this._future[f]}`);return r.join(`
`)}flushAllElements(){this._past=[],this._future=[],this.versionId++}_setElementValidFlag(r,f){r.type===1?r.setValid(this.resourceLabel,this.strResource,f):r.setValid(f)}setElementsValidFlag(r,f){for(const x of this._past)f(x.actual)&&this._setElementValidFlag(x,r);for(const x of this._future)f(x.actual)&&this._setElementValidFlag(x,r)}pushElement(r){for(const f of this._future)f.type===1&&f.removeResource(this.resourceLabel,this.strResource,1);this._future=[],this._past.push(r),this.versionId++}createSnapshot(r){const f=[];for(let x=0,Y=this._past.length;x<Y;x++)f.push(this._past[x].id);for(let x=this._future.length-1;x>=0;x--)f.push(this._future[x].id);return new fe.YO(r,f)}restoreSnapshot(r){const f=r.elements.length;let x=!0,Y=0,ie=-1;for(let ve=0,$e=this._past.length;ve<$e;ve++,Y++){const rt=this._past[ve];x&&(Y>=f||rt.id!==r.elements[Y])&&(x=!1,ie=0),!x&&rt.type===1&&rt.removeResource(this.resourceLabel,this.strResource,0)}let he=-1;for(let ve=this._future.length-1;ve>=0;ve--,Y++){const $e=this._future[ve];x&&(Y>=f||$e.id!==r.elements[Y])&&(x=!1,he=ve),!x&&$e.type===1&&$e.removeResource(this.resourceLabel,this.strResource,0)}ie!==-1&&(this._past=this._past.slice(0,ie)),he!==-1&&(this._future=this._future.slice(he+1)),this.versionId++}getElements(){const r=[],f=[];for(const x of this._past)r.push(x.actual);for(const x of this._future)f.push(x.actual);return{past:r,future:f}}getClosestPastElement(){return this._past.length===0?null:this._past[this._past.length-1]}getSecondClosestPastElement(){return this._past.length<2?null:this._past[this._past.length-2]}getClosestFutureElement(){return this._future.length===0?null:this._future[this._future.length-1]}hasPastElements(){return this._past.length>0}hasFutureElements(){return this._future.length>0}splitPastWorkspaceElement(r,f){for(let x=this._past.length-1;x>=0;x--)if(this._past[x]===r){f.has(this.strResource)?this._past[x]=f.get(this.strResource):this._past.splice(x,1);break}this.versionId++}splitFutureWorkspaceElement(r,f){for(let x=this._future.length-1;x>=0;x--)if(this._future[x]===r){f.has(this.strResource)?this._future[x]=f.get(this.strResource):this._future.splice(x,1);break}this.versionId++}moveBackward(r){this._past.pop(),this._future.push(r),this.versionId++}moveForward(r){this._future.pop(),this._past.push(r),this.versionId++}}class Fn{constructor(r){this.editStacks=r,this._versionIds=[];for(let f=0,x=this.editStacks.length;f<x;f++)this._versionIds[f]=this.editStacks[f].versionId}isValid(){for(let r=0,f=this.editStacks.length;r<f;r++)if(this._versionIds[r]!==this.editStacks[r].versionId)return!1;return!0}}const Nn=new En("","");Nn.locked=!0;let ni=class{constructor(r,f){this._dialogService=r,this._notificationService=f,this._editStacks=new Map,this._uriComparisonKeyComputers=[]}getUriComparisonKey(r){for(const f of this._uriComparisonKeyComputers)if(f[0]===r.scheme)return f[1].getComparisonKey(r);return r.toString()}_print(r){console.log("------------------------------------"),console.log(`AFTER ${r}: `);const f=[];for(const x of this._editStacks)f.push(x[1].toString());console.log(f.join(`
`))}pushElement(r,f=fe.Xt.None,x=fe.gJ.None){if(r.type===0){const Y=Ct(r.resource),ie=this.getUriComparisonKey(r.resource);this._pushElement(new Ut(r,Y,ie,f.id,f.nextOrder(),x.id,x.nextOrder()))}else{const Y=new Set,ie=[],he=[];for(const ve of r.resources){const $e=Ct(ve),rt=this.getUriComparisonKey(ve);Y.has(rt)||(Y.add(rt),ie.push($e),he.push(rt))}ie.length===1?this._pushElement(new Ut(r,ie[0],he[0],f.id,f.nextOrder(),x.id,x.nextOrder())):this._pushElement(new rn(r,ie,he,f.id,f.nextOrder(),x.id,x.nextOrder()))}it&&this._print("pushElement")}_pushElement(r){for(let f=0,x=r.strResources.length;f<x;f++){const Y=r.resourceLabels[f],ie=r.strResources[f];let he;this._editStacks.has(ie)?he=this._editStacks.get(ie):(he=new En(Y,ie),this._editStacks.set(ie,he)),he.pushElement(r)}}getLastElement(r){const f=this.getUriComparisonKey(r);if(this._editStacks.has(f)){const x=this._editStacks.get(f);if(x.hasFutureElements())return null;const Y=x.getClosestPastElement();return Y?Y.actual:null}return null}_splitPastWorkspaceElement(r,f){const x=r.actual.split(),Y=new Map;for(const ie of x){const he=Ct(ie.resource),ve=this.getUriComparisonKey(ie.resource),$e=new Ut(ie,he,ve,0,0,0,0);Y.set($e.strResource,$e)}for(const ie of r.strResources){if(f&&f.has(ie))continue;this._editStacks.get(ie).splitPastWorkspaceElement(r,Y)}}_splitFutureWorkspaceElement(r,f){const x=r.actual.split(),Y=new Map;for(const ie of x){const he=Ct(ie.resource),ve=this.getUriComparisonKey(ie.resource),$e=new Ut(ie,he,ve,0,0,0,0);Y.set($e.strResource,$e)}for(const ie of r.strResources){if(f&&f.has(ie))continue;this._editStacks.get(ie).splitFutureWorkspaceElement(r,Y)}}removeElements(r){const f=typeof r=="string"?r:this.getUriComparisonKey(r);this._editStacks.has(f)&&(this._editStacks.get(f).dispose(),this._editStacks.delete(f)),it&&this._print("removeElements")}setElementsValidFlag(r,f,x){const Y=this.getUriComparisonKey(r);this._editStacks.has(Y)&&this._editStacks.get(Y).setElementsValidFlag(f,x),it&&this._print("setElementsValidFlag")}createSnapshot(r){const f=this.getUriComparisonKey(r);return this._editStacks.has(f)?this._editStacks.get(f).createSnapshot(r):new fe.YO(r,[])}restoreSnapshot(r){const f=this.getUriComparisonKey(r.resource);if(this._editStacks.has(f)){const x=this._editStacks.get(f);x.restoreSnapshot(r),!x.hasPastElements()&&!x.hasFutureElements()&&(x.dispose(),this._editStacks.delete(f))}it&&this._print("restoreSnapshot")}getElements(r){const f=this.getUriComparisonKey(r);return this._editStacks.has(f)?this._editStacks.get(f).getElements():{past:[],future:[]}}_findClosestUndoElementWithSource(r){if(!r)return[null,null];let f=null,x=null;for(const[Y,ie]of this._editStacks){const he=ie.getClosestPastElement();!he||he.sourceId===r&&(!f||he.sourceOrder>f.sourceOrder)&&(f=he,x=Y)}return[f,x]}canUndo(r){if(r instanceof fe.gJ){const[,x]=this._findClosestUndoElementWithSource(r.id);return!!x}const f=this.getUriComparisonKey(r);return this._editStacks.has(f)?this._editStacks.get(f).hasPastElements():!1}_onError(r,f){(0,de.dL)(r);for(const x of f.strResources)this.removeElements(x);this._notificationService.error(r)}_acquireLocks(r){for(const f of r.editStacks)if(f.locked)throw new Error("Cannot acquire edit stack lock");for(const f of r.editStacks)f.locked=!0;return()=>{for(const f of r.editStacks)f.locked=!1}}_safeInvokeWithLocks(r,f,x,Y,ie){const he=this._acquireLocks(x);let ve;try{ve=f()}catch($e){return he(),Y.dispose(),this._onError($e,r)}return ve?ve.then(()=>(he(),Y.dispose(),ie()),$e=>(he(),Y.dispose(),this._onError($e,r))):(he(),Y.dispose(),ie())}_invokeWorkspacePrepare(r){return Je(this,void 0,void 0,function*(){if(typeof r.actual.prepareUndoRedo=="undefined")return u.JT.None;const f=r.actual.prepareUndoRedo();return typeof f=="undefined"?u.JT.None:f})}_invokeResourcePrepare(r,f){if(r.actual.type!==1||typeof r.actual.prepareUndoRedo=="undefined")return f(u.JT.None);const x=r.actual.prepareUndoRedo();return x?(0,u.Wf)(x)?f(x):x.then(Y=>f(Y)):f(u.JT.None)}_getAffectedEditStacks(r){const f=[];for(const x of r.strResources)f.push(this._editStacks.get(x)||Nn);return new Fn(f)}_tryToSplitAndUndo(r,f,x,Y){if(f.canSplit())return this._splitPastWorkspaceElement(f,x),this._notificationService.warn(Y),new Ps(this._undo(r,0,!0));for(const ie of f.strResources)this.removeElements(ie);return this._notificationService.warn(Y),new Ps}_checkWorkspaceUndo(r,f,x,Y){if(f.removedResources)return this._tryToSplitAndUndo(r,f,f.removedResources,m.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",f.label,f.removedResources.createMessage()));if(Y&&f.invalidatedResources)return this._tryToSplitAndUndo(r,f,f.invalidatedResources,m.NC({key:"cannotWorkspaceUndo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not undo '{0}' across all files. {1}",f.label,f.invalidatedResources.createMessage()));const ie=[];for(const ve of x.editStacks)ve.getClosestPastElement()!==f&&ie.push(ve.resourceLabel);if(ie.length>0)return this._tryToSplitAndUndo(r,f,null,m.NC({key:"cannotWorkspaceUndoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because changes were made to {1}",f.label,ie.join(", ")));const he=[];for(const ve of x.editStacks)ve.locked&&he.push(ve.resourceLabel);return he.length>0?this._tryToSplitAndUndo(r,f,null,m.NC({key:"cannotWorkspaceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because there is already an undo or redo operation running on {1}",f.label,he.join(", "))):x.isValid()?null:this._tryToSplitAndUndo(r,f,null,m.NC({key:"cannotWorkspaceUndoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not undo '{0}' across all files because an undo or redo operation occurred in the meantime",f.label))}_workspaceUndo(r,f,x){const Y=this._getAffectedEditStacks(f),ie=this._checkWorkspaceUndo(r,f,Y,!1);return ie?ie.returnValue:this._confirmAndExecuteWorkspaceUndo(r,f,Y,x)}_isPartOfUndoGroup(r){if(!r.groupId)return!1;for(const[,f]of this._editStacks){const x=f.getClosestPastElement();if(!!x){if(x===r){const Y=f.getSecondClosestPastElement();if(Y&&Y.groupId===r.groupId)return!0}if(x.groupId===r.groupId)return!0}}return!1}_confirmAndExecuteWorkspaceUndo(r,f,x,Y){return Je(this,void 0,void 0,function*(){if(f.canSplit()&&!this._isPartOfUndoGroup(f)){const ve=yield this._dialogService.show(F.Z.Info,m.NC("confirmWorkspace","Would you like to undo '{0}' across all files?",f.label),[m.NC({key:"ok",comment:["{0} denotes a number that is > 1"]},"Undo in {0} Files",x.editStacks.length),m.NC("nok","Undo this File"),m.NC("cancel","Cancel")],{cancelId:2});if(ve.choice===2)return;if(ve.choice===1)return this._splitPastWorkspaceElement(f,null),this._undo(r,0,!0);const $e=this._checkWorkspaceUndo(r,f,x,!1);if($e)return $e.returnValue;Y=!0}let ie;try{ie=yield this._invokeWorkspacePrepare(f)}catch(ve){return this._onError(ve,f)}const he=this._checkWorkspaceUndo(r,f,x,!0);if(he)return ie.dispose(),he.returnValue;for(const ve of x.editStacks)ve.moveBackward(f);return this._safeInvokeWithLocks(f,()=>f.actual.undo(),x,ie,()=>this._continueUndoInGroup(f.groupId,Y))})}_resourceUndo(r,f,x){if(!f.isValid){r.flushAllElements();return}if(r.locked){const Y=m.NC({key:"cannotResourceUndoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not undo '{0}' because there is already an undo or redo operation running.",f.label);this._notificationService.warn(Y);return}return this._invokeResourcePrepare(f,Y=>(r.moveBackward(f),this._safeInvokeWithLocks(f,()=>f.actual.undo(),new Fn([r]),Y,()=>this._continueUndoInGroup(f.groupId,x))))}_findClosestUndoElementInGroup(r){if(!r)return[null,null];let f=null,x=null;for(const[Y,ie]of this._editStacks){const he=ie.getClosestPastElement();!he||he.groupId===r&&(!f||he.groupOrder>f.groupOrder)&&(f=he,x=Y)}return[f,x]}_continueUndoInGroup(r,f){if(!r)return;const[,x]=this._findClosestUndoElementInGroup(r);if(x)return this._undo(x,0,f)}undo(r){if(r instanceof fe.gJ){const[,f]=this._findClosestUndoElementWithSource(r.id);return f?this._undo(f,r.id,!1):void 0}return typeof r=="string"?this._undo(r,0,!1):this._undo(this.getUriComparisonKey(r),0,!1)}_undo(r,f=0,x){if(!this._editStacks.has(r))return;const Y=this._editStacks.get(r),ie=Y.getClosestPastElement();if(!ie)return;if(ie.groupId){const[ve,$e]=this._findClosestUndoElementInGroup(ie.groupId);if(ie!==ve&&$e)return this._undo($e,f,x)}if((ie.sourceId!==f||ie.confirmBeforeUndo)&&!x)return this._confirmAndContinueUndo(r,f,ie);try{return ie.type===1?this._workspaceUndo(r,ie,x):this._resourceUndo(Y,ie,x)}finally{it&&this._print("undo")}}_confirmAndContinueUndo(r,f,x){return Je(this,void 0,void 0,function*(){if((yield this._dialogService.show(F.Z.Info,m.NC("confirmDifferentSource","Would you like to undo '{0}'?",x.label),[m.NC("confirmDifferentSource.yes","Yes"),m.NC("confirmDifferentSource.no","No")],{cancelId:1})).choice!==1)return this._undo(r,f,!0)})}_findClosestRedoElementWithSource(r){if(!r)return[null,null];let f=null,x=null;for(const[Y,ie]of this._editStacks){const he=ie.getClosestFutureElement();!he||he.sourceId===r&&(!f||he.sourceOrder<f.sourceOrder)&&(f=he,x=Y)}return[f,x]}canRedo(r){if(r instanceof fe.gJ){const[,x]=this._findClosestRedoElementWithSource(r.id);return!!x}const f=this.getUriComparisonKey(r);return this._editStacks.has(f)?this._editStacks.get(f).hasFutureElements():!1}_tryToSplitAndRedo(r,f,x,Y){if(f.canSplit())return this._splitFutureWorkspaceElement(f,x),this._notificationService.warn(Y),new Ps(this._redo(r));for(const ie of f.strResources)this.removeElements(ie);return this._notificationService.warn(Y),new Ps}_checkWorkspaceRedo(r,f,x,Y){if(f.removedResources)return this._tryToSplitAndRedo(r,f,f.removedResources,m.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",f.label,f.removedResources.createMessage()));if(Y&&f.invalidatedResources)return this._tryToSplitAndRedo(r,f,f.invalidatedResources,m.NC({key:"cannotWorkspaceRedo",comment:["{0} is a label for an operation. {1} is another message."]},"Could not redo '{0}' across all files. {1}",f.label,f.invalidatedResources.createMessage()));const ie=[];for(const ve of x.editStacks)ve.getClosestFutureElement()!==f&&ie.push(ve.resourceLabel);if(ie.length>0)return this._tryToSplitAndRedo(r,f,null,m.NC({key:"cannotWorkspaceRedoDueToChanges",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because changes were made to {1}",f.label,ie.join(", ")));const he=[];for(const ve of x.editStacks)ve.locked&&he.push(ve.resourceLabel);return he.length>0?this._tryToSplitAndRedo(r,f,null,m.NC({key:"cannotWorkspaceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because there is already an undo or redo operation running on {1}",f.label,he.join(", "))):x.isValid()?null:this._tryToSplitAndRedo(r,f,null,m.NC({key:"cannotWorkspaceRedoDueToInMeantimeUndoRedo",comment:["{0} is a label for an operation. {1} is a list of filenames."]},"Could not redo '{0}' across all files because an undo or redo operation occurred in the meantime",f.label))}_workspaceRedo(r,f){const x=this._getAffectedEditStacks(f),Y=this._checkWorkspaceRedo(r,f,x,!1);return Y?Y.returnValue:this._executeWorkspaceRedo(r,f,x)}_executeWorkspaceRedo(r,f,x){return Je(this,void 0,void 0,function*(){let Y;try{Y=yield this._invokeWorkspacePrepare(f)}catch(he){return this._onError(he,f)}const ie=this._checkWorkspaceRedo(r,f,x,!0);if(ie)return Y.dispose(),ie.returnValue;for(const he of x.editStacks)he.moveForward(f);return this._safeInvokeWithLocks(f,()=>f.actual.redo(),x,Y,()=>this._continueRedoInGroup(f.groupId))})}_resourceRedo(r,f){if(!f.isValid){r.flushAllElements();return}if(r.locked){const x=m.NC({key:"cannotResourceRedoDueToInProgressUndoRedo",comment:["{0} is a label for an operation."]},"Could not redo '{0}' because there is already an undo or redo operation running.",f.label);this._notificationService.warn(x);return}return this._invokeResourcePrepare(f,x=>(r.moveForward(f),this._safeInvokeWithLocks(f,()=>f.actual.redo(),new Fn([r]),x,()=>this._continueRedoInGroup(f.groupId))))}_findClosestRedoElementInGroup(r){if(!r)return[null,null];let f=null,x=null;for(const[Y,ie]of this._editStacks){const he=ie.getClosestFutureElement();!he||he.groupId===r&&(!f||he.groupOrder<f.groupOrder)&&(f=he,x=Y)}return[f,x]}_continueRedoInGroup(r){if(!r)return;const[,f]=this._findClosestRedoElementInGroup(r);if(f)return this._redo(f)}redo(r){if(r instanceof fe.gJ){const[,f]=this._findClosestRedoElementWithSource(r.id);return f?this._redo(f):void 0}return typeof r=="string"?this._redo(r):this._redo(this.getUriComparisonKey(r))}_redo(r){if(!this._editStacks.has(r))return;const f=this._editStacks.get(r),x=f.getClosestFutureElement();if(!!x){if(x.groupId){const[Y,ie]=this._findClosestRedoElementInGroup(x.groupId);if(x!==Y&&ie)return this._redo(ie)}try{return x.type===1?this._workspaceRedo(r,x):this._resourceRedo(f,x)}finally{it&&this._print("redo")}}}};ni=Ie([Te(0,B.S),Te(1,ee.lT)],ni);class Ps{constructor(r){this.returnValue=r}}(0,as.z)(fe.tJ,ni);var no=l(91579),js=l(91194),Co=l(44174),Wi=l(1845),Io=l(35847),Rs=l(74691),bo=l(58222),Ss=l(52127),Ao=l(36230),wo=l(43299);class So{constructor(r={},f=[],x=[]){this._contents=r,this._keys=f,this._overrides=x,this.frozen=!1,this.overrideConfigurations=new Map}get contents(){return this.checkAndFreeze(this._contents)}get overrides(){return this.checkAndFreeze(this._overrides)}get keys(){return this.checkAndFreeze(this._keys)}isEmpty(){return this._keys.length===0&&Object.keys(this._contents).length===0&&this._overrides.length===0}getValue(r){return r?(0,Tt.Mt)(this.contents,r):this.contents}getOverrideValue(r,f){const x=this.getContentsForOverrideIdentifer(f);return x?r?(0,Tt.Mt)(x,r):x:void 0}override(r){let f=this.overrideConfigurations.get(r);return f||(f=this.createOverrideConfigurationModel(r),this.overrideConfigurations.set(r,f)),f}merge(...r){const f=wo.I8(this.contents),x=wo.I8(this.overrides),Y=[...this.keys];for(const ie of r)if(!ie.isEmpty()){this.mergeContents(f,ie.contents);for(const he of ie.overrides){const[ve]=x.filter($e=>ot.fS($e.identifiers,he.identifiers));ve?(this.mergeContents(ve.contents,he.contents),ve.keys.push(...he.keys),ve.keys=ot.EB(ve.keys)):x.push(wo.I8(he))}for(const he of ie.keys)Y.indexOf(he)===-1&&Y.push(he)}return new So(f,Y,x)}freeze(){return this.frozen=!0,this}createOverrideConfigurationModel(r){const f=this.getContentsForOverrideIdentifer(r);if(!f||typeof f!="object"||!Object.keys(f).length)return this;const x={};for(const Y of ot.EB([...Object.keys(this.contents),...Object.keys(f)])){let ie=this.contents[Y];const he=f[Y];he&&(typeof ie=="object"&&typeof he=="object"?(ie=wo.I8(ie),this.mergeContents(ie,he)):ie=he),x[Y]=ie}return new So(x,this.keys,this.overrides)}mergeContents(r,f){for(const x of Object.keys(f)){if(x in r&&le.Kn(r[x])&&le.Kn(f[x])){this.mergeContents(r[x],f[x]);continue}r[x]=wo.I8(f[x])}}checkAndFreeze(r){return this.frozen&&!Object.isFrozen(r)?wo._A(r):r}getContentsForOverrideIdentifer(r){let f=null,x=null;const Y=ie=>{ie&&(x?this.mergeContents(x,ie):x=wo.I8(ie))};for(const ie of this.overrides)ot.fS(ie.identifiers,[r])?f=ie.contents:ie.identifiers.includes(r)&&Y(ie.contents);return Y(f),x}toJSON(){return{contents:this.contents,overrides:this.overrides,keys:this.keys}}setValue(r,f){this.addKey(r),(0,Tt.KV)(this.contents,r,f,x=>{throw new Error(x)})}removeValue(r){this.removeKey(r)&&(0,Tt.xL)(this.contents,r)}addKey(r){let f=this.keys.length;for(let x=0;x<f;x++)r.indexOf(this.keys[x])===0&&(f=x);this.keys.splice(f,1,r)}removeKey(r){const f=this.keys.indexOf(r);return f!==-1?(this.keys.splice(f,1),!0):!1}}class Ys{constructor(r,f,x,Y,ie=new So,he=new So,ve=new Ao.Y9,$e=new So,rt=new Ao.Y9,gt=!0){this._defaultConfiguration=r,this._policyConfiguration=f,this._applicationConfiguration=x,this._localUserConfiguration=Y,this._remoteUserConfiguration=ie,this._workspaceConfiguration=he,this._folderConfigurations=ve,this._memoryConfiguration=$e,this._memoryConfigurationByResource=rt,this._freeze=gt,this._workspaceConsolidatedConfiguration=null,this._foldersConsolidatedConfigurations=new Ao.Y9,this._userConfiguration=null}getValue(r,f,x){return this.getConsolidatedConfigurationModel(r,f,x).getValue(r)}updateValue(r,f,x={}){let Y;x.resource?(Y=this._memoryConfigurationByResource.get(x.resource),Y||(Y=new So,this._memoryConfigurationByResource.set(x.resource,Y))):Y=this._memoryConfiguration,f===void 0?Y.removeValue(r):Y.setValue(r,f),x.resource||(this._workspaceConsolidatedConfiguration=null)}inspect(r,f,x){const Y=this.getConsolidatedConfigurationModel(r,f,x),ie=this.getFolderConfigurationModelForResource(f.resource,x),he=f.resource?this._memoryConfigurationByResource.get(f.resource)||this._memoryConfiguration:this._memoryConfiguration,ve=f.overrideIdentifier?this._defaultConfiguration.freeze().override(f.overrideIdentifier).getValue(r):this._defaultConfiguration.freeze().getValue(r),$e=this._policyConfiguration.isEmpty()?void 0:this._policyConfiguration.freeze().getValue(r),rt=this.applicationConfiguration.isEmpty()?void 0:this.applicationConfiguration.freeze().getValue(r),gt=f.overrideIdentifier?this.userConfiguration.freeze().override(f.overrideIdentifier).getValue(r):this.userConfiguration.freeze().getValue(r),Ht=f.overrideIdentifier?this.localUserConfiguration.freeze().override(f.overrideIdentifier).getValue(r):this.localUserConfiguration.freeze().getValue(r),xn=f.overrideIdentifier?this.remoteUserConfiguration.freeze().override(f.overrideIdentifier).getValue(r):this.remoteUserConfiguration.freeze().getValue(r),ii=x?f.overrideIdentifier?this._workspaceConfiguration.freeze().override(f.overrideIdentifier).getValue(r):this._workspaceConfiguration.freeze().getValue(r):void 0,Ki=ie?f.overrideIdentifier?ie.freeze().override(f.overrideIdentifier).getValue(r):ie.freeze().getValue(r):void 0,gs=f.overrideIdentifier?he.override(f.overrideIdentifier).getValue(r):he.getValue(r),ks=Y.getValue(r),Os=ot.EB(Y.overrides.map(Zs=>Zs.identifiers).flat()).filter(Zs=>Y.getOverrideValue(r,Zs)!==void 0);return{defaultValue:ve,policyValue:$e,applicationValue:rt,userValue:gt,userLocalValue:Ht,userRemoteValue:xn,workspaceValue:ii,workspaceFolderValue:Ki,memoryValue:gs,value:ks,default:ve!==void 0?{value:this._defaultConfiguration.freeze().getValue(r),override:f.overrideIdentifier?this._defaultConfiguration.freeze().getOverrideValue(r,f.overrideIdentifier):void 0}:void 0,policy:$e!==void 0?{value:$e}:void 0,application:rt!==void 0?{value:rt,override:f.overrideIdentifier?this.applicationConfiguration.freeze().getOverrideValue(r,f.overrideIdentifier):void 0}:void 0,user:gt!==void 0?{value:this.userConfiguration.freeze().getValue(r),override:f.overrideIdentifier?this.userConfiguration.freeze().getOverrideValue(r,f.overrideIdentifier):void 0}:void 0,userLocal:Ht!==void 0?{value:this.localUserConfiguration.freeze().getValue(r),override:f.overrideIdentifier?this.localUserConfiguration.freeze().getOverrideValue(r,f.overrideIdentifier):void 0}:void 0,userRemote:xn!==void 0?{value:this.remoteUserConfiguration.freeze().getValue(r),override:f.overrideIdentifier?this.remoteUserConfiguration.freeze().getOverrideValue(r,f.overrideIdentifier):void 0}:void 0,workspace:ii!==void 0?{value:this._workspaceConfiguration.freeze().getValue(r),override:f.overrideIdentifier?this._workspaceConfiguration.freeze().getOverrideValue(r,f.overrideIdentifier):void 0}:void 0,workspaceFolder:Ki!==void 0?{value:ie==null?void 0:ie.freeze().getValue(r),override:f.overrideIdentifier?ie==null?void 0:ie.freeze().getOverrideValue(r,f.overrideIdentifier):void 0}:void 0,memory:gs!==void 0?{value:he.getValue(r),override:f.overrideIdentifier?he.getOverrideValue(r,f.overrideIdentifier):void 0}:void 0,overrideIdentifiers:Os.length?Os:void 0}}get applicationConfiguration(){return this._applicationConfiguration}get userConfiguration(){return this._userConfiguration||(this._userConfiguration=this._remoteUserConfiguration.isEmpty()?this._localUserConfiguration:this._localUserConfiguration.merge(this._remoteUserConfiguration),this._freeze&&this._userConfiguration.freeze()),this._userConfiguration}get localUserConfiguration(){return this._localUserConfiguration}get remoteUserConfiguration(){return this._remoteUserConfiguration}getConsolidatedConfigurationModel(r,f,x){let Y=this.getConsolidatedConfigurationModelForResource(f,x);return f.overrideIdentifier&&(Y=Y.override(f.overrideIdentifier)),!this._policyConfiguration.isEmpty()&&this._policyConfiguration.getValue(r)!==void 0&&(Y=Y.merge(this._policyConfiguration)),Y}getConsolidatedConfigurationModelForResource({resource:r},f){let x=this.getWorkspaceConsolidatedConfiguration();if(f&&r){const Y=f.getFolder(r);Y&&(x=this.getFolderConsolidatedConfiguration(Y.uri)||x);const ie=this._memoryConfigurationByResource.get(r);ie&&(x=x.merge(ie))}return x}getWorkspaceConsolidatedConfiguration(){return this._workspaceConsolidatedConfiguration||(this._workspaceConsolidatedConfiguration=this._defaultConfiguration.merge(this.applicationConfiguration,this.userConfiguration,this._workspaceConfiguration,this._memoryConfiguration),this._freeze&&(this._workspaceConfiguration=this._workspaceConfiguration.freeze())),this._workspaceConsolidatedConfiguration}getFolderConsolidatedConfiguration(r){let f=this._foldersConsolidatedConfigurations.get(r);if(!f){const x=this.getWorkspaceConsolidatedConfiguration(),Y=this._folderConfigurations.get(r);Y?(f=x.merge(Y),this._freeze&&(f=f.freeze()),this._foldersConsolidatedConfigurations.set(r,f)):f=x}return f}getFolderConfigurationModelForResource(r,f){if(f&&r){const x=f.getFolder(r);if(x)return this._folderConfigurations.get(x.uri)}}toData(){return{defaults:{contents:this._defaultConfiguration.contents,overrides:this._defaultConfiguration.overrides,keys:this._defaultConfiguration.keys},policy:{contents:this._policyConfiguration.contents,overrides:this._policyConfiguration.overrides,keys:this._policyConfiguration.keys},application:{contents:this.applicationConfiguration.contents,overrides:this.applicationConfiguration.overrides,keys:this.applicationConfiguration.keys},user:{contents:this.userConfiguration.contents,overrides:this.userConfiguration.overrides,keys:this.userConfiguration.keys},workspace:{contents:this._workspaceConfiguration.contents,overrides:this._workspaceConfiguration.overrides,keys:this._workspaceConfiguration.keys},folders:[...this._folderConfigurations.keys()].reduce((r,f)=>{const{contents:x,overrides:Y,keys:ie}=this._folderConfigurations.get(f);return r.push([f,{contents:x,overrides:Y,keys:ie}]),r},[])}}static parse(r){const f=this.parseConfigurationModel(r.defaults),x=this.parseConfigurationModel(r.policy),Y=this.parseConfigurationModel(r.application),ie=this.parseConfigurationModel(r.user),he=this.parseConfigurationModel(r.workspace),ve=r.folders.reduce(($e,rt)=>($e.set(L.o.revive(rt[0]),this.parseConfigurationModel(rt[1])),$e),new Ao.Y9);return new Ys(f,x,Y,ie,new So,he,ve,new So,new Ao.Y9,!1)}static parseConfigurationModel(r){return new So(r.contents,r.keys,r.overrides).freeze()}}class et{constructor(r,f,x,Y){this.change=r,this.previous=f,this.currentConfiguraiton=x,this.currentWorkspace=Y,this._previousConfiguration=void 0;const ie=new Set;r.keys.forEach(ve=>ie.add(ve)),r.overrides.forEach(([,ve])=>ve.forEach($e=>ie.add($e))),this.affectedKeys=[...ie.values()];const he=new So;this.affectedKeys.forEach(ve=>he.setValue(ve,{})),this.affectedKeysTree=he.contents}get previousConfiguration(){return!this._previousConfiguration&&this.previous&&(this._previousConfiguration=Ys.parse(this.previous.data)),this._previousConfiguration}affectsConfiguration(r,f){var x;if(this.doesAffectedKeysTreeContains(this.affectedKeysTree,r)){if(f){const Y=this.previousConfiguration?this.previousConfiguration.getValue(r,f,(x=this.previous)===null||x===void 0?void 0:x.workspace):void 0,ie=this.currentConfiguraiton.getValue(r,f,this.currentWorkspace);return!wo.fS(Y,ie)}return!0}return!1}doesAffectedKeysTreeContains(r,f){let x=(0,Tt.Od)({[f]:!0},()=>{}),Y;for(;typeof x=="object"&&(Y=Object.keys(x)[0]);){if(r=r[Y],!r)return!1;x=x[Y]}return!0}}const Ae=/^(cursor|delete)/;class Lt extends u.JT{constructor(r,f,x,Y,ie){super(),this._contextKeyService=r,this._commandService=f,this._telemetryService=x,this._notificationService=Y,this._logService=ie,this._onDidUpdateKeybindings=this._register(new j.Q5),this._currentChord=null,this._currentChordChecker=new te.zh,this._currentChordStatusMessage=null,this._ignoreSingleModifiers=zt.EMPTY,this._currentSingleModifier=null,this._currentSingleModifierClearTimeout=new te._F,this._logging=!1}get onDidUpdateKeybindings(){return this._onDidUpdateKeybindings?this._onDidUpdateKeybindings.event:j.ju.None}dispose(){super.dispose()}_log(r){this._logging&&this._logService.info(`[KeybindingService]: ${r}`)}getKeybindings(){return this._getResolver().getKeybindings()}lookupKeybinding(r,f){const x=this._getResolver().lookupPrimaryKeybinding(r,f||this._contextKeyService);if(!!x)return x.resolvedKeybinding}dispatchEvent(r,f){return this._dispatch(r,f)}softDispatch(r,f){this._log("/ Soft dispatching keyboard event");const x=this.resolveKeyboardEvent(r);if(x.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),null;const[Y]=x.getDispatchParts();if(Y===null)return this._log("\\ Keyboard event cannot be dispatched"),null;const ie=this._contextKeyService.getContext(f),he=this._currentChord?this._currentChord.keypress:null;return this._getResolver().resolve(ie,he,Y)}_enterChordMode(r,f){this._currentChord={keypress:r,label:f},this._currentChordStatusMessage=this._notificationService.status(m.NC("first.chord","({0}) was pressed. Waiting for second key of chord...",f));const x=Date.now();this._currentChordChecker.cancelAndSet(()=>{if(!this._documentHasFocus()){this._leaveChordMode();return}Date.now()-x>5e3&&this._leaveChordMode()},500)}_leaveChordMode(){this._currentChordStatusMessage&&(this._currentChordStatusMessage.dispose(),this._currentChordStatusMessage=null),this._currentChordChecker.cancel(),this._currentChord=null}_dispatch(r,f){return this._doDispatch(this.resolveKeyboardEvent(r),f,!1)}_singleModifierDispatch(r,f){const x=this.resolveKeyboardEvent(r),[Y]=x.getSingleModifierDispatchParts();if(Y)return this._ignoreSingleModifiers.has(Y)?(this._log(`+ Ignoring single modifier ${Y} due to it being pressed together with other keys.`),this._ignoreSingleModifiers=zt.EMPTY,this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1):(this._ignoreSingleModifiers=zt.EMPTY,this._currentSingleModifier===null?(this._log(`+ Storing single modifier for possible chord ${Y}.`),this._currentSingleModifier=Y,this._currentSingleModifierClearTimeout.cancelAndSet(()=>{this._log("+ Clearing single modifier due to 300ms elapsed."),this._currentSingleModifier=null},300),!1):Y===this._currentSingleModifier?(this._log(`/ Dispatching single modifier chord ${Y} ${Y}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,this._doDispatch(x,f,!0)):(this._log(`+ Clearing single modifier due to modifier mismatch: ${this._currentSingleModifier} ${Y}`),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1));const[ie]=x.getParts();return this._ignoreSingleModifiers=new zt(ie),this._currentSingleModifier!==null&&this._log("+ Clearing single modifier due to other key up."),this._currentSingleModifierClearTimeout.cancel(),this._currentSingleModifier=null,!1}_doDispatch(r,f,x=!1){let Y=!1;if(r.isChord())return console.warn("Unexpected keyboard event mapped to a chord"),!1;let ie=null,he=null;if(x){const[gt]=r.getSingleModifierDispatchParts();ie=gt,he=gt}else[ie]=r.getDispatchParts(),he=this._currentChord?this._currentChord.keypress:null;if(ie===null)return this._log("\\ Keyboard event cannot be dispatched in keydown phase."),Y;const ve=this._contextKeyService.getContext(f),$e=r.getLabel(),rt=this._getResolver().resolve(ve,he,ie);return this._logService.trace("KeybindingService#dispatch",$e,rt==null?void 0:rt.commandId),rt&&rt.enterChord?(Y=!0,this._enterChordMode(ie,$e),this._log("+ Entering chord mode..."),Y):(this._currentChord&&(!rt||!rt.commandId)&&(this._log(`+ Leaving chord mode: Nothing bound to "${this._currentChord.label} ${$e}".`),this._notificationService.status(m.NC("missing.chord","The key combination ({0}, {1}) is not a command.",this._currentChord.label,$e),{hideAfter:10*1e3}),Y=!0),this._leaveChordMode(),rt&&rt.commandId&&(rt.bubble||(Y=!0),this._log(`+ Invoking command ${rt.commandId}.`),typeof rt.commandArgs=="undefined"?this._commandService.executeCommand(rt.commandId).then(void 0,gt=>this._notificationService.warn(gt)):this._commandService.executeCommand(rt.commandId,rt.commandArgs).then(void 0,gt=>this._notificationService.warn(gt)),Ae.test(rt.commandId)||this._telemetryService.publicLog2("workbenchActionExecuted",{id:rt.commandId,from:"keybinding"})),Y)}mightProducePrintableCharacter(r){return r.ctrlKey||r.metaKey?!1:r.keyCode>=31&&r.keyCode<=56||r.keyCode>=21&&r.keyCode<=30}}class zt{constructor(r){this._ctrlKey=r?r.ctrlKey:!1,this._shiftKey=r?r.shiftKey:!1,this._altKey=r?r.altKey:!1,this._metaKey=r?r.metaKey:!1}has(r){switch(r){case"ctrl":return this._ctrlKey;case"shift":return this._shiftKey;case"alt":return this._altKey;case"meta":return this._metaKey}}}zt.EMPTY=new zt(null);var Zt=l(69940);class qt{constructor(r,f,x){this._log=x,this._defaultKeybindings=r,this._defaultBoundCommands=new Map;for(const Y of r){const ie=Y.command;ie&&ie.charAt(0)!=="-"&&this._defaultBoundCommands.set(ie,!0)}this._map=new Map,this._lookupMap=new Map,this._keybindings=qt.handleRemovals([].concat(r).concat(f));for(let Y=0,ie=this._keybindings.length;Y<ie;Y++){const he=this._keybindings[Y];he.keypressParts.length!==0&&(he.when&&he.when.type===0||this._addKeyPress(he.keypressParts[0],he))}}static _isTargetedForRemoval(r,f,x,Y){return!(f&&r.keypressParts[0]!==f||x&&r.keypressParts[1]!==x||Y&&(!r.when||!(0,es.Fb)(Y,r.when)))}static handleRemovals(r){const f=new Map;for(let Y=0,ie=r.length;Y<ie;Y++){const he=r[Y];if(he.command&&he.command.charAt(0)==="-"){const ve=he.command.substring(1);f.has(ve)?f.get(ve).push(he):f.set(ve,[he])}}if(f.size===0)return r;const x=[];for(let Y=0,ie=r.length;Y<ie;Y++){const he=r[Y];if(!he.command||he.command.length===0){x.push(he);continue}if(he.command.charAt(0)==="-")continue;const ve=f.get(he.command);if(!ve||!he.isDefault){x.push(he);continue}let $e=!1;for(const rt of ve){const gt=rt.keypressParts[0],Ht=rt.keypressParts[1],xn=rt.when;if(this._isTargetedForRemoval(he,gt,Ht,xn)){$e=!0;break}}if(!$e){x.push(he);continue}}return x}_addKeyPress(r,f){const x=this._map.get(r);if(typeof x=="undefined"){this._map.set(r,[f]),this._addToLookupMap(f);return}for(let Y=x.length-1;Y>=0;Y--){const ie=x[Y];if(ie.command===f.command)continue;const he=ie.keypressParts.length>1,ve=f.keypressParts.length>1;he&&ve&&ie.keypressParts[1]!==f.keypressParts[1]||qt.whenIsEntirelyIncluded(ie.when,f.when)&&this._removeFromLookupMap(ie)}x.push(f),this._addToLookupMap(f)}_addToLookupMap(r){if(!r.command)return;let f=this._lookupMap.get(r.command);typeof f=="undefined"?(f=[r],this._lookupMap.set(r.command,f)):f.push(r)}_removeFromLookupMap(r){if(!r.command)return;const f=this._lookupMap.get(r.command);if(typeof f!="undefined"){for(let x=0,Y=f.length;x<Y;x++)if(f[x]===r){f.splice(x,1);return}}}static whenIsEntirelyIncluded(r,f){return!f||f.type===1?!0:!r||r.type===1?!1:(0,es.K8)(r,f)}getKeybindings(){return this._keybindings}lookupPrimaryKeybinding(r,f){const x=this._lookupMap.get(r);if(typeof x=="undefined"||x.length===0)return null;if(x.length===1)return x[0];for(let Y=x.length-1;Y>=0;Y--){const ie=x[Y];if(f.contextMatchesRules(ie.when))return ie}return x[x.length-1]}resolve(r,f,x){this._log(`| Resolving ${x}${f?` chorded from ${f}`:""}`);let Y=null;if(f!==null){const he=this._map.get(f);if(typeof he=="undefined")return this._log("\\ No keybinding entries."),null;Y=[];for(let ve=0,$e=he.length;ve<$e;ve++){const rt=he[ve];rt.keypressParts[1]===x&&Y.push(rt)}}else{const he=this._map.get(x);if(typeof he=="undefined")return this._log("\\ No keybinding entries."),null;Y=he}const ie=this._findCommand(r,Y);return ie?f===null&&ie.keypressParts.length>1&&ie.keypressParts[1]!==null?(this._log(`\\ From ${Y.length} keybinding entries, matched chord, when: ${$n(ie.when)}, source: ${xi(ie)}.`),{enterChord:!0,leaveChord:!1,commandId:null,commandArgs:null,bubble:!1}):(this._log(`\\ From ${Y.length} keybinding entries, matched ${ie.command}, when: ${$n(ie.when)}, source: ${xi(ie)}.`),{enterChord:!1,leaveChord:ie.keypressParts.length>1,commandId:ie.command,commandArgs:ie.commandArgs,bubble:ie.bubble}):(this._log(`\\ From ${Y.length} keybinding entries, no when clauses matched the context.`),null)}_findCommand(r,f){for(let x=f.length-1;x>=0;x--){const Y=f[x];if(!!qt._contextMatchesRules(r,Y.when))return Y}return null}static _contextMatchesRules(r,f){return f?f.evaluate(r):!0}}function $n(pe){return pe?`${pe.serialize()}`:"no when condition"}function xi(pe){return pe.extensionId?pe.isBuiltinExtension?`built-in extension ${pe.extensionId}`:`user extension ${pe.extensionId}`:pe.isDefault?"built-in":"user"}var Bi=l(58258);class vs{constructor(r,f,x,Y,ie,he,ve){this._resolvedKeybindingItemBrand=void 0,this.resolvedKeybinding=r,this.keypressParts=r?ps(r.getDispatchParts()):[],r&&this.keypressParts.length===0&&(this.keypressParts=ps(r.getSingleModifierDispatchParts())),this.bubble=f?f.charCodeAt(0)===94:!1,this.command=this.bubble?f.substr(1):f,this.commandArgs=x,this.when=Y,this.isDefault=ie,this.extensionId=he,this.isBuiltinExtension=ve}}function ps(pe){const r=[];for(let f=0,x=pe.length;f<x;f++){const Y=pe[f];if(!Y)return r;r.push(Y)}return r}var hs=l(82499);class qs extends Co.f1{constructor(r,f){if(super(),f.length===0)throw(0,de.b1)("parts");this._os=r,this._parts=f}getLabel(){return hs.xo.toLabel(this._os,this._parts,r=>this._getLabel(r))}getAriaLabel(){return hs.X4.toLabel(this._os,this._parts,r=>this._getAriaLabel(r))}getElectronAccelerator(){return this._parts.length>1||this._parts[0].isDuplicateModifierCase()?null:hs.jC.toLabel(this._os,this._parts,r=>this._getElectronAccelerator(r))}isChord(){return this._parts.length>1}getParts(){return this._parts.map(r=>this._getPart(r))}_getPart(r){return new Co.BQ(r.ctrlKey,r.shiftKey,r.altKey,r.metaKey,this._getLabel(r),this._getAriaLabel(r))}getDispatchParts(){return this._parts.map(r=>this._getDispatchPart(r))}getSingleModifierDispatchParts(){return this._parts.map(r=>this._getSingleModifierDispatchPart(r))}}class Po extends qs{constructor(r,f){super(f,r.parts)}_keyCodeToUILabel(r){if(this._os===2)switch(r){case 15:return"\u2190";case 16:return"\u2191";case 17:return"\u2192";case 18:return"\u2193"}return W.kL.toString(r)}_getLabel(r){return r.isDuplicateModifierCase()?"":this._keyCodeToUILabel(r.keyCode)}_getAriaLabel(r){return r.isDuplicateModifierCase()?"":W.kL.toString(r.keyCode)}_getElectronAccelerator(r){return W.kL.toElectronAccelerator(r.keyCode)}_getDispatchPart(r){return Po.getDispatchStr(r)}static getDispatchStr(r){if(r.isModifierKey())return null;let f="";return r.ctrlKey&&(f+="ctrl+"),r.shiftKey&&(f+="shift+"),r.altKey&&(f+="alt+"),r.metaKey&&(f+="meta+"),f+=W.kL.toString(r.keyCode),f}_getSingleModifierDispatchPart(r){return r.keyCode===5&&!r.shiftKey&&!r.altKey&&!r.metaKey?"ctrl":r.keyCode===4&&!r.ctrlKey&&!r.altKey&&!r.metaKey?"shift":r.keyCode===6&&!r.ctrlKey&&!r.shiftKey&&!r.metaKey?"alt":r.keyCode===57&&!r.ctrlKey&&!r.shiftKey&&!r.altKey?"meta":null}static _scanCodeToKeyCode(r){const f=W.Vd[r];if(f!==-1)return f;switch(r){case 10:return 31;case 11:return 32;case 12:return 33;case 13:return 34;case 14:return 35;case 15:return 36;case 16:return 37;case 17:return 38;case 18:return 39;case 19:return 40;case 20:return 41;case 21:return 42;case 22:return 43;case 23:return 44;case 24:return 45;case 25:return 46;case 26:return 47;case 27:return 48;case 28:return 49;case 29:return 50;case 30:return 51;case 31:return 52;case 32:return 53;case 33:return 54;case 34:return 55;case 35:return 56;case 36:return 22;case 37:return 23;case 38:return 24;case 39:return 25;case 40:return 26;case 41:return 27;case 42:return 28;case 43:return 29;case 44:return 30;case 45:return 21;case 51:return 83;case 52:return 81;case 53:return 87;case 54:return 89;case 55:return 88;case 56:return 0;case 57:return 80;case 58:return 90;case 59:return 86;case 60:return 82;case 61:return 84;case 62:return 85;case 106:return 92}return 0}static _resolveSimpleUserBinding(r){if(!r)return null;if(r instanceof Co.QC)return r;const f=this._scanCodeToKeyCode(r.scanCode);return f===0?null:new Co.QC(r.ctrlKey,r.shiftKey,r.altKey,r.metaKey,f)}static resolveUserBinding(r,f){const x=ps(r.map(Y=>this._resolveSimpleUserBinding(Y)));return x.length>0?[new Po(new Co.X_(x),f)]:[]}}var Fa=l(26343),Ya=l(4061),zo=l(72854),Sa=l(81729),ya=l(72499),hl=l(46088),mr=l(29313),Jo=l(88098),fl=l(96491),gl=l(31446),Go;(function(pe){pe[pe.AVOID=0]="AVOID",pe[pe.ALIGN=1]="ALIGN"})(Go||(Go={}));function Fr(pe,r,f){const x=f.mode===Go.ALIGN?f.offset:f.offset+f.size,Y=f.mode===Go.ALIGN?f.offset+f.size:f.offset;return f.position===0?r<=pe-x?x:r<=Y?Y-r:Math.max(pe-r,0):r<=Y?Y-r:r<=pe-x?x:0}class La extends u.JT{constructor(r,f){super(),this.container=null,this.delegate=null,this.toDisposeOnClean=u.JT.None,this.toDisposeOnSetContainer=u.JT.None,this.shadowRoot=null,this.shadowRootHostElement=null,this.view=on.$(".context-view"),this.useFixedPosition=!1,this.useShadowDOM=!1,on.Cp(this.view),this.setContainer(r,f),this._register((0,u.OF)(()=>this.setContainer(null,1)))}setContainer(r,f){var x;if(this.container&&(this.toDisposeOnSetContainer.dispose(),this.shadowRoot?(this.shadowRoot.removeChild(this.view),this.shadowRoot=null,(x=this.shadowRootHostElement)===null||x===void 0||x.remove(),this.shadowRootHostElement=null):this.container.removeChild(this.view),this.container=null),r){if(this.container=r,this.useFixedPosition=f!==1,this.useShadowDOM=f===3,this.useShadowDOM){this.shadowRootHostElement=on.$(".shadow-root-host"),this.container.appendChild(this.shadowRootHostElement),this.shadowRoot=this.shadowRootHostElement.attachShadow({mode:"open"});const ie=document.createElement("style");ie.textContent=Lc,this.shadowRoot.appendChild(ie),this.shadowRoot.appendChild(this.view),this.shadowRoot.appendChild(on.$("slot"))}else this.container.appendChild(this.view);const Y=new u.SL;La.BUBBLE_UP_EVENTS.forEach(ie=>{Y.add(on.mu(this.container,ie,he=>{this.onDOMEvent(he,!1)}))}),La.BUBBLE_DOWN_EVENTS.forEach(ie=>{Y.add(on.mu(this.container,ie,he=>{this.onDOMEvent(he,!0)},!0))}),this.toDisposeOnSetContainer=Y}}show(r){var f,x;this.isVisible()&&this.hide(),on.PO(this.view),this.view.className="context-view",this.view.style.top="0px",this.view.style.left="0px",this.view.style.zIndex="2575",this.view.style.position=this.useFixedPosition?"fixed":"absolute",on.$Z(this.view),this.toDisposeOnClean=r.render(this.view)||u.JT.None,this.delegate=r,this.doLayout(),(x=(f=this.delegate).focus)===null||x===void 0||x.call(f)}getViewElement(){return this.view}layout(){if(!!this.isVisible()){if(this.delegate.canRelayout===!1&&!(ge.gn&&fl.D.pointerEvents)){this.hide();return}this.delegate.layout&&this.delegate.layout(),this.doLayout()}}doLayout(){if(!this.isVisible())return;const r=this.delegate.getAnchor();let f;if(on.Re(r)){const Ht=on.i(r),xn=on.I8(r);f={top:Ht.top*xn,left:Ht.left*xn,width:Ht.width*xn,height:Ht.height*xn}}else f={top:r.y,left:r.x,width:r.width||1,height:r.height||2};const x=on.w(this.view),Y=on.wn(this.view),ie=this.delegate.anchorPosition||0,he=this.delegate.anchorAlignment||0,ve=this.delegate.anchorAxisAlignment||0;let $e,rt;if(ve===0){const Ht={offset:f.top-window.pageYOffset,size:f.height,position:ie===0?0:1},xn={offset:f.left,size:f.width,position:he===0?0:1,mode:Go.ALIGN};$e=Fr(window.innerHeight,Y,Ht)+window.pageYOffset,gl.e.intersects({start:$e,end:$e+Y},{start:Ht.offset,end:Ht.offset+Ht.size})&&(xn.mode=Go.AVOID),rt=Fr(window.innerWidth,x,xn)}else{const Ht={offset:f.left,size:f.width,position:he===0?0:1},xn={offset:f.top,size:f.height,position:ie===0?0:1,mode:Go.ALIGN};rt=Fr(window.innerWidth,x,Ht),gl.e.intersects({start:rt,end:rt+x},{start:Ht.offset,end:Ht.offset+Ht.size})&&(xn.mode=Go.AVOID),$e=Fr(window.innerHeight,Y,xn)+window.pageYOffset}this.view.classList.remove("top","bottom","left","right"),this.view.classList.add(ie===0?"bottom":"top"),this.view.classList.add(he===0?"left":"right"),this.view.classList.toggle("fixed",this.useFixedPosition);const gt=on.i(this.container);this.view.style.top=`${$e-(this.useFixedPosition?on.i(this.view).top:gt.top)}px`,this.view.style.left=`${rt-(this.useFixedPosition?on.i(this.view).left:gt.left)}px`,this.view.style.width="initial"}hide(r){const f=this.delegate;this.delegate=null,f!=null&&f.onHide&&f.onHide(r),this.toDisposeOnClean.dispose(),on.Cp(this.view)}isVisible(){return!!this.delegate}onDOMEvent(r,f){this.delegate&&(this.delegate.onDOMEvent?this.delegate.onDOMEvent(r,document.activeElement):f&&!on.jg(r.target,this.container)&&this.hide())}dispose(){this.hide(),super.dispose()}}La.BUBBLE_UP_EVENTS=["click","keydown","focus","blur"],La.BUBBLE_DOWN_EVENTS=["click"];const Lc=`
	:host {
		all: initial; /* 1st rule so subsequent properties are reset. */
	}

	@font-face {
		font-family: "codicon";
		font-display: block;
		src: url("./codicon.ttf?5d4d76ab2ce5108968ad644d591a16a6") format("truetype");
	}

	.codicon[class*='codicon-'] {
		font: normal normal normal 16px/1 codicon;
		display: inline-block;
		text-decoration: none;
		text-rendering: auto;
		text-align: center;
		-webkit-font-smoothing: antialiased;
		-moz-osx-font-smoothing: grayscale;
		user-select: none;
		-webkit-user-select: none;
		-ms-user-select: none;
	}

	:host {
		font-family: -apple-system, BlinkMacSystemFont, "Segoe WPC", "Segoe UI", "HelveticaNeue-Light", system-ui, "Ubuntu", "Droid Sans", sans-serif;
	}

	:host-context(.mac) { font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
	:host-context(.mac:lang(zh-Hans)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang SC", "Hiragino Sans GB", sans-serif; }
	:host-context(.mac:lang(zh-Hant)) { font-family: -apple-system, BlinkMacSystemFont, "PingFang TC", sans-serif; }
	:host-context(.mac:lang(ja)) { font-family: -apple-system, BlinkMacSystemFont, "Hiragino Kaku Gothic Pro", sans-serif; }
	:host-context(.mac:lang(ko)) { font-family: -apple-system, BlinkMacSystemFont, "Nanum Gothic", "Apple SD Gothic Neo", "AppleGothic", sans-serif; }

	:host-context(.windows) { font-family: "Segoe WPC", "Segoe UI", sans-serif; }
	:host-context(.windows:lang(zh-Hans)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft YaHei", sans-serif; }
	:host-context(.windows:lang(zh-Hant)) { font-family: "Segoe WPC", "Segoe UI", "Microsoft Jhenghei", sans-serif; }
	:host-context(.windows:lang(ja)) { font-family: "Segoe WPC", "Segoe UI", "Yu Gothic UI", "Meiryo UI", sans-serif; }
	:host-context(.windows:lang(ko)) { font-family: "Segoe WPC", "Segoe UI", "Malgun Gothic", "Dotom", sans-serif; }

	:host-context(.linux) { font-family: system-ui, "Ubuntu", "Droid Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hans)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans SC", "Source Han Sans CN", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(zh-Hant)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans TC", "Source Han Sans TW", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ja)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans J", "Source Han Sans JP", "Source Han Sans", sans-serif; }
	:host-context(.linux:lang(ko)) { font-family: system-ui, "Ubuntu", "Droid Sans", "Source Han Sans K", "Source Han Sans JR", "Source Han Sans", "UnDotum", "FBaekmuk Gulim", sans-serif; }
`;var Ea=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},Qa=function(pe,r){return function(f,x){r(f,x,pe)}};let Da=class extends u.JT{constructor(r){super(),this.layoutService=r,this.currentViewDisposable=u.JT.None,this.container=r.hasContainer?r.container:null,this.contextView=this._register(new La(this.container,1)),this.layout(),this._register(r.onDidLayout(()=>this.layout()))}setContainer(r,f){this.contextView.setContainer(r,f||1)}showContextView(r,f,x){f?(f!==this.container||this.shadowRoot!==x)&&(this.container=f,this.setContainer(f,x?3:2)):this.layoutService.hasContainer&&this.container!==this.layoutService.container&&(this.container=this.layoutService.container,this.setContainer(this.container,1)),this.shadowRoot=x,this.contextView.show(r);const Y=(0,u.OF)(()=>{this.currentViewDisposable===Y&&this.hideContextView()});return this.currentViewDisposable=Y,Y}getContextViewElement(){return this.contextView.getViewElement()}layout(){this.contextView.layout()}hideContextView(r){this.contextView.hide(r)}};Da=Ea([Qa(0,ns)],Da);var Al=l(34975),lr=l(46267),pr=function(pe,r,f,x){function Y(ie){return ie instanceof f?ie:new f(function(he){he(ie)})}return new(f||(f=Promise))(function(ie,he){function ve(gt){try{rt(x.next(gt))}catch(Ht){he(Ht)}}function $e(gt){try{rt(x.throw(gt))}catch(Ht){he(Ht)}}function rt(gt){gt.done?ie(gt.value):Y(gt.value).then(ve,$e)}rt((x=x.apply(pe,r||[])).next())})};const da="**",po="/",ho="[/\\\\]",Zi="[^/\\\\]",Xa=/\//g;function Ba(pe,r){switch(pe){case 0:return"";case 1:return`${Zi}*?`;default:return`(?:${ho}|${Zi}+${ho}${r?`|${ho}${Zi}+`:""})*?`}}function Zr(pe,r){if(!pe)return[];const f=[];let x=!1,Y=!1,ie="";for(const he of pe){switch(he){case r:if(!x&&!Y){f.push(ie),ie="";continue}break;case"{":x=!0;break;case"}":x=!1;break;case"[":Y=!0;break;case"]":Y=!1;break}ie+=he}return ie&&f.push(ie),f}function cr(pe){if(!pe)return"";let r="";const f=Zr(pe,po);if(f.every(x=>x===da))r=".*";else{let x=!1;f.forEach((Y,ie)=>{if(Y===da){if(x)return;r+=Ba(2,ie===f.length-1)}else{let he=!1,ve="",$e=!1,rt="";for(const gt of Y){if(gt!=="}"&&he){ve+=gt;continue}if($e&&(gt!=="]"||!rt)){let Ht;gt==="-"?Ht=gt:(gt==="^"||gt==="!")&&!rt?Ht="^":gt===po?Ht="":Ht=(0,a.ec)(gt),rt+=Ht;continue}switch(gt){case"{":he=!0;continue;case"[":$e=!0;continue;case"}":{const xn=`(?:${Zr(ve,",").map(ii=>cr(ii)).join("|")})`;r+=xn,he=!1,ve="";break}case"]":{r+="["+rt+"]",$e=!1,rt="";break}case"?":r+=Zi;continue;case"*":r+=Ba(1);continue;default:r+=(0,a.ec)(gt)}}ie<f.length-1&&(f[ie+1]!==da||ie+2<f.length)&&(r+=ho)}x=Y===da})}return r}const Mi=/^\*\*\/\*\.[\w\.-]+$/,Yr=/^\*\*\/([\w\.-]+)\/?$/,Oo=/^{\*\*\/\*?[\w\.-]+\/?(,\*\*\/\*?[\w\.-]+\/?)*}$/,Qr=/^{\*\*\/\*?[\w\.-]+(\/(\*\*)?)?(,\*\*\/\*?[\w\.-]+(\/(\*\*)?)?)*}$/,dr=/^\*\*((\/[\w\.-]+)+)\/?$/,ml=/^([\w\.-]+(\/[\w\.-]+)*)\/?$/,pl=new Ao.z6(1e4),Ja=function(){return!1},Hi=function(){return null};function Ws(pe,r){if(!pe)return Hi;let f;typeof pe!="string"?f=pe.pattern:f=pe,f=f.trim();const x=`${f}_${!!r.trimForExclusions}`;let Y=pl.get(x);if(Y)return _o(Y,pe);let ie;return Mi.test(f)?Y=Zo(f.substr(4),f):(ie=Yr.exec(ds(f,r)))?Y=yo(ie[1],f):(r.trimForExclusions?Qr:Oo).test(f)?Y=Fo(f,r):(ie=dr.exec(ds(f,r)))?Y=Pl(ie[1].substr(1),f,!0):(ie=ml.exec(ds(f,r)))?Y=Pl(ie[1],f,!1):Y=_l(f),pl.set(x,Y),_o(Y,pe)}function _o(pe,r){if(typeof r=="string")return pe;const f=function(x,Y){return(0,Al.KM)(x,r.base,!ge.IJ)?pe(x.substr(r.base.length+1),Y):null};return f.allBasenames=pe.allBasenames,f.allPaths=pe.allPaths,f.basenames=pe.basenames,f.patterns=pe.patterns,f}function ds(pe,r){return r.trimForExclusions&&pe.endsWith("/**")?pe.substr(0,pe.length-2):pe}function Zo(pe,r){return function(f,x){return typeof f=="string"&&f.endsWith(pe)?r:null}}function yo(pe,r){const f=`/${pe}`,x=`\\${pe}`,Y=function(he,ve){return typeof he!="string"?null:ve?ve===pe?r:null:he===pe||he.endsWith(f)||he.endsWith(x)?r:null},ie=[pe];return Y.basenames=ie,Y.patterns=[r],Y.allBasenames=ie,Y}function Fo(pe,r){const f=Ec(pe.slice(1,-1).split(",").map(ve=>Ws(ve,r)).filter(ve=>ve!==Hi),pe),x=f.length;if(!x)return Hi;if(x===1)return f[0];const Y=function(ve,$e){for(let rt=0,gt=f.length;rt<gt;rt++)if(f[rt](ve,$e))return pe;return null},ie=f.find(ve=>!!ve.allBasenames);ie&&(Y.allBasenames=ie.allBasenames);const he=f.reduce((ve,$e)=>$e.allPaths?ve.concat($e.allPaths):ve,[]);return he.length&&(Y.allPaths=he),Y}function Pl(pe,r,f){const x=lr.ir===lr.KR.sep,Y=x?pe:pe.replace(Xa,lr.ir),ie=lr.ir+Y,he=lr.KR.sep+pe;let ve;return f?ve=function($e,rt){return typeof $e=="string"&&($e===Y||$e.endsWith(ie)||!x&&($e===pe||$e.endsWith(he)))?r:null}:ve=function($e,rt){return typeof $e=="string"&&($e===Y||!x&&$e===pe)?r:null},ve.allPaths=[(f?"*/":"./")+pe],ve}function _l(pe){try{const r=new RegExp(`^${cr(pe)}$`);return function(f){return r.lastIndex=0,typeof f=="string"&&r.test(f)?pe:null}}catch(r){return Hi}}function Od(pe,r,f){return!pe||typeof r!="string"?!1:Xr(pe)(r,void 0,f)}function Xr(pe,r={}){if(!pe)return Ja;if(typeof pe=="string"||ys(pe)){const f=Ws(pe,r);if(f===Hi)return Ja;const x=function(Y,ie){return!!f(Y,ie)};return f.allBasenames&&(x.allBasenames=f.allBasenames),f.allPaths&&(x.allPaths=f.allPaths),x}return _r(pe,r)}function ys(pe){const r=pe;return r?typeof r.base=="string"&&typeof r.pattern=="string":!1}function _r(pe,r){const f=Ec(Object.getOwnPropertyNames(pe).map(ve=>Uo(ve,pe[ve],r)).filter(ve=>ve!==Hi)),x=f.length;if(!x)return Hi;if(!f.some(ve=>!!ve.requiresSiblings)){if(x===1)return f[0];const ve=function(gt,Ht){let xn;for(let ii=0,Ki=f.length;ii<Ki;ii++){const gs=f[ii](gt,Ht);if(typeof gs=="string")return gs;(0,te.J8)(gs)&&(xn||(xn=[]),xn.push(gs))}return xn?(()=>pr(this,void 0,void 0,function*(){for(const ii of xn){const Ki=yield ii;if(typeof Ki=="string")return Ki}return null}))():null},$e=f.find(gt=>!!gt.allBasenames);$e&&(ve.allBasenames=$e.allBasenames);const rt=f.reduce((gt,Ht)=>Ht.allPaths?gt.concat(Ht.allPaths):gt,[]);return rt.length&&(ve.allPaths=rt),ve}const Y=function(ve,$e,rt){let gt,Ht;for(let xn=0,ii=f.length;xn<ii;xn++){const Ki=f[xn];Ki.requiresSiblings&&rt&&($e||($e=(0,lr.EZ)(ve)),gt||(gt=$e.substr(0,$e.length-(0,lr.DZ)(ve).length)));const gs=Ki(ve,$e,gt,rt);if(typeof gs=="string")return gs;(0,te.J8)(gs)&&(Ht||(Ht=[]),Ht.push(gs))}return Ht?(()=>pr(this,void 0,void 0,function*(){for(const xn of Ht){const ii=yield xn;if(typeof ii=="string")return ii}return null}))():null},ie=f.find(ve=>!!ve.allBasenames);ie&&(Y.allBasenames=ie.allBasenames);const he=f.reduce((ve,$e)=>$e.allPaths?ve.concat($e.allPaths):ve,[]);return he.length&&(Y.allPaths=he),Y}function Uo(pe,r,f){if(r===!1)return Hi;const x=Ws(pe,f);if(x===Hi)return Hi;if(typeof r=="boolean")return x;if(r){const Y=r.when;if(typeof Y=="string"){const ie=(he,ve,$e,rt)=>{if(!rt||!x(he,ve))return null;const gt=Y.replace("$(basename)",$e),Ht=rt(gt);return(0,te.J8)(Ht)?Ht.then(xn=>xn?pe:null):Ht?pe:null};return ie.requiresSiblings=!0,ie}}return x}function Ec(pe,r){const f=pe.filter(ve=>!!ve.basenames);if(f.length<2)return pe;const x=f.reduce((ve,$e)=>{const rt=$e.basenames;return rt?ve.concat(rt):ve},[]);let Y;if(r){Y=[];for(let ve=0,$e=x.length;ve<$e;ve++)Y.push(r)}else Y=f.reduce((ve,$e)=>{const rt=$e.patterns;return rt?ve.concat(rt):ve},[]);const ie=function(ve,$e){if(typeof ve!="string")return null;if(!$e){let gt;for(gt=ve.length;gt>0;gt--){const Ht=ve.charCodeAt(gt-1);if(Ht===47||Ht===92)break}$e=ve.substr(gt)}const rt=x.indexOf($e);return rt!==-1?Y[rt]:null};ie.basenames=x,ie.patterns=Y,ie.allBasenames=x;const he=pe.filter(ve=>!ve.basenames);return he.push(ie),he}var vl=l(72086),ua=l(68347);let ha=[],Jl=[],Cl=[];function qa(pe,r=!1){vr(pe,!1,r)}function vr(pe,r,f){const x=nd(pe,r);ha.push(x),x.userConfigured?Cl.push(x):Jl.push(x),f&&!x.userConfigured&&ha.forEach(Y=>{Y.mime===x.mime||Y.userConfigured||(x.extension&&Y.extension===x.extension&&console.warn(`Overwriting extension <<${x.extension}>> to now point to mime <<${x.mime}>>`),x.filename&&Y.filename===x.filename&&console.warn(`Overwriting filename <<${x.filename}>> to now point to mime <<${x.mime}>>`),x.filepattern&&Y.filepattern===x.filepattern&&console.warn(`Overwriting filepattern <<${x.filepattern}>> to now point to mime <<${x.mime}>>`),x.firstline&&Y.firstline===x.firstline&&console.warn(`Overwriting firstline <<${x.firstline}>> to now point to mime <<${x.mime}>>`))})}function nd(pe,r){return{id:pe.id,mime:pe.mime,filename:pe.filename,extension:pe.extension,filepattern:pe.filepattern,firstline:pe.firstline,userConfigured:r,filenameLowercase:pe.filename?pe.filename.toLowerCase():void 0,extensionLowercase:pe.extension?pe.extension.toLowerCase():void 0,filepatternLowercase:pe.filepattern?Xr(pe.filepattern.toLowerCase()):void 0,filepatternOnPath:pe.filepattern?pe.filepattern.indexOf(lr.KR.sep)>=0:!1}}function id(){ha=ha.filter(pe=>pe.userConfigured),Jl=[]}function bl(pe,r){return Br(pe,r).map(f=>f.id)}function Br(pe,r){let f;if(pe)switch(pe.scheme){case ts.lg.file:f=pe.fsPath;break;case ts.lg.data:{f=hl.Vb.parseMetaData(pe).get(hl.Vb.META_DATA_LABEL);break}case ts.lg.vscodeNotebookCell:f=void 0;break;default:f=pe.path}if(!f)return[{id:"unknown",mime:vl.v.unknown}];f=f.toLowerCase();const x=(0,lr.EZ)(f),Y=sd(f,x,Cl);if(Y)return[Y,{id:ua.bd,mime:vl.v.text}];const ie=sd(f,x,Jl);if(ie)return[ie,{id:ua.bd,mime:vl.v.text}];if(r){const he=od(r);if(he)return[he,{id:ua.bd,mime:vl.v.text}]}return[{id:"unknown",mime:vl.v.unknown}]}function sd(pe,r,f){var x;let Y,ie,he;for(let ve=f.length-1;ve>=0;ve--){const $e=f[ve];if(r===$e.filenameLowercase){Y=$e;break}if($e.filepattern&&(!ie||$e.filepattern.length>ie.filepattern.length)){const rt=$e.filepatternOnPath?pe:r;!((x=$e.filepatternLowercase)===null||x===void 0)&&x.call($e,rt)&&(ie=$e)}$e.extension&&(!he||$e.extension.length>he.extension.length)&&r.endsWith($e.extensionLowercase)&&(he=$e)}if(Y)return Y;if(ie)return ie;if(he)return he}function od(pe){if((0,a.uS)(pe)&&(pe=pe.substr(1)),pe.length>0)for(let r=ha.length-1;r>=0;r--){const f=ha[r];if(!f.firstline)continue;const x=pe.match(f.firstline);if(x&&x.length>0)return f}}var Wr=l(90410),ql=l(14038);const ec=Object.prototype.hasOwnProperty,rd="vs.editor.nullLanguage";class Fd{constructor(){this._languageIdToLanguage=[],this._languageToLanguageId=new Map,this._register(rd,0),this._register(ua.bd,1),this._nextLanguageId=2}_register(r,f){this._languageIdToLanguage[f]=r,this._languageToLanguageId.set(r,f)}register(r){if(this._languageToLanguageId.has(r))return;const f=this._nextLanguageId++;this._register(r,f)}encodeLanguageId(r){return this._languageToLanguageId.get(r)||0}decodeLanguageId(r){return this._languageIdToLanguage[r]||rd}}class Ol extends u.JT{constructor(r=!0,f=!1){super(),this._onDidChange=this._register(new j.Q5),this.onDidChange=this._onDidChange.event,Ol.instanceCount++,this._warnOnOverwrite=f,this.languageIdCodec=new Fd,this._dynamicLanguages=[],this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},r&&(this._initializeFromRegistry(),this._register(ua.dQ.onDidChangeLanguages(x=>{this._initializeFromRegistry()})))}dispose(){Ol.instanceCount--,super.dispose()}_initializeFromRegistry(){this._languages={},this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},id();const r=[].concat(ua.dQ.getLanguages()).concat(this._dynamicLanguages);this._registerLanguages(r)}_registerLanguages(r){for(const f of r)this._registerLanguage(f);this._mimeTypesMap={},this._nameMap={},this._lowercaseNameMap={},Object.keys(this._languages).forEach(f=>{const x=this._languages[f];x.name&&(this._nameMap[x.name]=x.identifier),x.aliases.forEach(Y=>{this._lowercaseNameMap[Y.toLowerCase()]=x.identifier}),x.mimetypes.forEach(Y=>{this._mimeTypesMap[Y]=x.identifier})}),ql.B.as(Wr.IP.Configuration).registerOverrideIdentifiers(this.getRegisteredLanguageIds()),this._onDidChange.fire()}_registerLanguage(r){const f=r.id;let x;ec.call(this._languages,f)?x=this._languages[f]:(this.languageIdCodec.register(f),x={identifier:f,name:null,mimetypes:[],aliases:[],extensions:[],filenames:[],configurationFiles:[],icons:[]},this._languages[f]=x),this._mergeLanguage(x,r)}_mergeLanguage(r,f){const x=f.id;let Y=null;if(Array.isArray(f.mimetypes)&&f.mimetypes.length>0&&(r.mimetypes.push(...f.mimetypes),Y=f.mimetypes[0]),Y||(Y=`text/x-${x}`,r.mimetypes.push(Y)),Array.isArray(f.extensions)){f.configuration?r.extensions=f.extensions.concat(r.extensions):r.extensions=r.extensions.concat(f.extensions);for(const ve of f.extensions)qa({id:x,mime:Y,extension:ve},this._warnOnOverwrite)}if(Array.isArray(f.filenames))for(const ve of f.filenames)qa({id:x,mime:Y,filename:ve},this._warnOnOverwrite),r.filenames.push(ve);if(Array.isArray(f.filenamePatterns))for(const ve of f.filenamePatterns)qa({id:x,mime:Y,filepattern:ve},this._warnOnOverwrite);if(typeof f.firstLine=="string"&&f.firstLine.length>0){let ve=f.firstLine;ve.charAt(0)!=="^"&&(ve="^"+ve);try{const $e=new RegExp(ve);(0,a.IO)($e)||qa({id:x,mime:Y,firstline:$e},this._warnOnOverwrite)}catch($e){(0,de.dL)($e)}}r.aliases.push(x);let ie=null;if(typeof f.aliases!="undefined"&&Array.isArray(f.aliases)&&(f.aliases.length===0?ie=[null]:ie=f.aliases),ie!==null)for(const ve of ie)!ve||ve.length===0||r.aliases.push(ve);const he=ie!==null&&ie.length>0;if(!(he&&ie[0]===null)){const ve=(he?ie[0]:null)||x;(he||!r.name)&&(r.name=ve)}f.configuration&&r.configurationFiles.push(f.configuration),f.icon&&r.icons.push(f.icon)}isRegisteredLanguageId(r){return r?ec.call(this._languages,r):!1}getRegisteredLanguageIds(){return Object.keys(this._languages)}getLanguageIdByLanguageName(r){const f=r.toLowerCase();return ec.call(this._lowercaseNameMap,f)?this._lowercaseNameMap[f]:null}getLanguageIdByMimeType(r){return r&&ec.call(this._mimeTypesMap,r)?this._mimeTypesMap[r]:null}guessLanguageIdByFilepathOrFirstLine(r,f){return!r&&!f?[]:bl(r,f)}}Ol.instanceCount=0;class el extends u.JT{constructor(r=!1){super(),this._onDidEncounterLanguage=this._register(new j.Q5),this.onDidEncounterLanguage=this._onDidEncounterLanguage.event,this._onDidChange=this._register(new j.Q5({leakWarningThreshold:200})),this.onDidChange=this._onDidChange.event,el.instanceCount++,this._encounteredLanguages=new Set,this._registry=this._register(new Ol(!0,r)),this.languageIdCodec=this._registry.languageIdCodec,this._register(this._registry.onDidChange(()=>this._onDidChange.fire()))}dispose(){el.instanceCount--,super.dispose()}isRegisteredLanguageId(r){return this._registry.isRegisteredLanguageId(r)}getLanguageIdByLanguageName(r){return this._registry.getLanguageIdByLanguageName(r)}getLanguageIdByMimeType(r){return this._registry.getLanguageIdByMimeType(r)}guessLanguageIdByFilepathOrFirstLine(r,f){const x=this._registry.guessLanguageIdByFilepathOrFirstLine(r,f);return(0,ot.Xh)(x,null)}createById(r){return new Dc(this.onDidChange,()=>this._createAndGetLanguageIdentifier(r))}createByFilepathOrFirstLine(r,f){return new Dc(this.onDidChange,()=>{const x=this.guessLanguageIdByFilepathOrFirstLine(r,f);return this._createAndGetLanguageIdentifier(x)})}_createAndGetLanguageIdentifier(r){return(!r||!this.isRegisteredLanguageId(r))&&(r=ua.bd),this._encounteredLanguages.has(r)||(this._encounteredLanguages.add(r),T.RW.getOrCreate(r),this._onDidEncounterLanguage.fire(r)),r}}el.instanceCount=0;class Dc{constructor(r,f){this._onDidChangeLanguages=r,this._selector=f,this._listener=null,this._emitter=null,this.languageId=this._selector()}_dispose(){this._listener&&(this._listener.dispose(),this._listener=null),this._emitter&&(this._emitter.dispose(),this._emitter=null)}get onDidChange(){return this._listener||(this._listener=this._onDidChangeLanguages(()=>this._evaluate())),this._emitter||(this._emitter=new j.Q5({onLastListenerRemove:()=>{this._dispose()}})),this._emitter.event}_evaluate(){var r;const f=this._selector();f!==this.languageId&&(this.languageId=f,(r=this._emitter)===null||r===void 0||r.fire(this.languageId))}}var xc=l(78359),Fl=l(69748),Yo=l(32003),Cr=l(52594),tl=l(21045),Ic=l(91816),nl=l(37886),br=l(3553),Wa=l(64272),Vr=l(15392);const Hr=/\(&([^\s&])\)|(^|[^&])&([^\s&])/,Jr=/(&amp;)?(&amp;)([^\s&])/g;var qr;(function(pe){pe[pe.Right=0]="Right",pe[pe.Left=1]="Left"})(qr||(qr={}));class Lo extends Cr.o{constructor(r,f,x={}){r.classList.add("monaco-menu-container"),r.setAttribute("role","presentation");const Y=document.createElement("div");Y.classList.add("monaco-menu"),Y.setAttribute("role","presentation"),super(Y,{orientation:1,actionViewItemProvider:ve=>this.doGetActionViewItem(ve,x,ie),context:x.context,actionRunner:x.actionRunner,ariaLabel:x.ariaLabel,ariaRole:"menu",focusOnlyEnabledItems:!0,triggerKeys:{keys:[3,...ge.dz||ge.IJ?[10]:[]],keyDown:!0}}),this.menuElement=Y,this.actionsList.tabIndex=0,this.menuDisposables=this._register(new u.SL),this.initializeOrUpdateStyleSheet(r,{}),this._register(Yo.o.addTarget(Y)),(0,on.nm)(Y,on.tw.KEY_DOWN,ve=>{new js.y(ve).equals(2)&&ve.preventDefault()}),x.enableMnemonics&&this.menuDisposables.add((0,on.nm)(Y,on.tw.KEY_DOWN,ve=>{const $e=ve.key.toLocaleLowerCase();if(this.mnemonics.has($e)){on.zB.stop(ve,!0);const rt=this.mnemonics.get($e);if(rt.length===1&&(rt[0]instanceof fa&&rt[0].container&&this.focusItemByElement(rt[0].container),rt[0].onClick(ve)),rt.length>1){const gt=rt.shift();gt&&gt.container&&(this.focusItemByElement(gt.container),rt.push(gt)),this.mnemonics.set($e,rt)}}})),ge.IJ&&this._register((0,on.nm)(Y,on.tw.KEY_DOWN,ve=>{const $e=new js.y(ve);$e.equals(14)||$e.equals(11)?(this.focusedItem=this.viewItems.length-1,this.focusNext(),on.zB.stop(ve,!0)):($e.equals(13)||$e.equals(12))&&(this.focusedItem=0,this.focusPrevious(),on.zB.stop(ve,!0))})),this._register((0,on.nm)(this.domNode,on.tw.MOUSE_OUT,ve=>{const $e=ve.relatedTarget;(0,on.jg)($e,this.domNode)||(this.focusedItem=void 0,this.updateFocus(),ve.stopPropagation())})),this._register((0,on.nm)(this.actionsList,on.tw.MOUSE_OVER,ve=>{let $e=ve.target;if(!(!$e||!(0,on.jg)($e,this.actionsList)||$e===this.actionsList)){for(;$e.parentElement!==this.actionsList&&$e.parentElement!==null;)$e=$e.parentElement;if($e.classList.contains("action-item")){const rt=this.focusedItem;this.setFocusedItem($e),rt!==this.focusedItem&&this.updateFocus()}}})),this._register(Yo.o.addTarget(this.actionsList)),this._register((0,on.nm)(this.actionsList,Yo.t.Tap,ve=>{let $e=ve.initialTarget;if(!(!$e||!(0,on.jg)($e,this.actionsList)||$e===this.actionsList)){for(;$e.parentElement!==this.actionsList&&$e.parentElement!==null;)$e=$e.parentElement;if($e.classList.contains("action-item")){const rt=this.focusedItem;this.setFocusedItem($e),rt!==this.focusedItem&&this.updateFocus()}}}));const ie={parent:this};this.mnemonics=new Map,this.scrollableElement=this._register(new nl.s$(Y,{alwaysConsumeMouseWheel:!0,horizontal:2,vertical:3,verticalScrollbarSize:7,handleMouseWheel:!0,useShadows:!0}));const he=this.scrollableElement.getDomNode();he.style.position="",this._register((0,on.nm)(Y,Yo.t.Change,ve=>{on.zB.stop(ve,!0);const $e=this.scrollableElement.getScrollPosition().scrollTop;this.scrollableElement.setScrollPosition({scrollTop:$e-ve.translationY})})),this._register((0,on.nm)(he,on.tw.MOUSE_UP,ve=>{ve.preventDefault()})),Y.style.maxHeight=`${Math.max(10,window.innerHeight-r.getBoundingClientRect().top-35)}px`,f=f.filter(ve=>{var $e;return!(($e=x.submenuIds)===null||$e===void 0)&&$e.has(ve.id)?(console.warn(`Found submenu cycle: ${ve.id}`),!1):!0}),this.push(f,{icon:!0,label:!0,isMenu:!0}),r.appendChild(this.scrollableElement.getDomNode()),this.scrollableElement.scanDomNode(),this.viewItems.filter(ve=>!(ve instanceof ea)).forEach((ve,$e,rt)=>{ve.updatePositionInSet($e+1,rt.length)})}initializeOrUpdateStyleSheet(r,f){this.styleSheet||((0,on.OO)(r)?this.styleSheet=(0,on.dS)(r):(Lo.globalStyleSheet||(Lo.globalStyleSheet=(0,on.dS)()),this.styleSheet=Lo.globalStyleSheet)),this.styleSheet.textContent=tc(f,(0,on.OO)(r))}style(r){const f=this.getContainer();this.initializeOrUpdateStyleSheet(f,r);const x=r.foregroundColor?`${r.foregroundColor}`:"",Y=r.backgroundColor?`${r.backgroundColor}`:"",ie=r.borderColor?`1px solid ${r.borderColor}`:"",he="5px",ve=r.shadowColor?`0 2px 8px ${r.shadowColor}`:"";f.style.outline=ie,f.style.borderRadius=he,f.style.color=x,f.style.backgroundColor=Y,f.style.boxShadow=ve,this.viewItems&&this.viewItems.forEach($e=>{($e instanceof Bl||$e instanceof ea)&&$e.style(r)})}getContainer(){return this.scrollableElement.getDomNode()}get onScroll(){return this.scrollableElement.onScroll}focusItemByElement(r){const f=this.focusedItem;this.setFocusedItem(r),f!==this.focusedItem&&this.updateFocus()}setFocusedItem(r){for(let f=0;f<this.actionsList.children.length;f++){const x=this.actionsList.children[f];if(r===x){this.focusedItem=f;break}}}updateFocus(r){super.updateFocus(r,!0,!0),typeof this.focusedItem!="undefined"&&this.scrollableElement.setScrollPosition({scrollTop:Math.round(this.menuElement.scrollTop)})}doGetActionViewItem(r,f,x){if(r instanceof br.Z0)return new ea(f.context,r,{icon:!0});if(r instanceof br.wY){const Y=new fa(r,r.actions,x,Object.assign(Object.assign({},f),{submenuIds:new Set([...f.submenuIds||[],r.id])}));if(f.enableMnemonics){const ie=Y.getMnemonic();if(ie&&Y.isEnabled()){let he=[];this.mnemonics.has(ie)&&(he=this.mnemonics.get(ie)),he.push(Y),this.mnemonics.set(ie,he)}}return Y}else{const Y={enableMnemonics:f.enableMnemonics,useEventAsContext:f.useEventAsContext};if(f.getKeyBinding){const he=f.getKeyBinding(r);if(he){const ve=he.getLabel();ve&&(Y.keybinding=ve)}}const ie=new Bl(f.context,r,Y);if(f.enableMnemonics){const he=ie.getMnemonic();if(he&&ie.isEnabled()){let ve=[];this.mnemonics.has(he)&&(ve=this.mnemonics.get(he)),ve.push(ie),this.mnemonics.set(he,ve)}}return ie}}}class Bl extends tl.Y{constructor(r,f,x={}){if(x.isMenu=!0,super(f,f,x),this.options=x,this.options.icon=x.icon!==void 0?x.icon:!1,this.options.label=x.label!==void 0?x.label:!0,this.cssClass="",this.options.label&&x.enableMnemonics){const Y=this.getAction().label;if(Y){const ie=Hr.exec(Y);ie&&(this.mnemonic=(ie[1]?ie[1]:ie[3]).toLocaleLowerCase())}}this.runOnceToEnableMouseUp=new te.pY(()=>{!this.element||(this._register((0,on.nm)(this.element,on.tw.MOUSE_UP,Y=>{if(on.zB.stop(Y,!0),Fl.isFirefox){if(new xc.n(Y).rightButton)return;this.onClick(Y)}else setTimeout(()=>{this.onClick(Y)},0)})),this._register((0,on.nm)(this.element,on.tw.CONTEXT_MENU,Y=>{on.zB.stop(Y,!0)})))},100),this._register(this.runOnceToEnableMouseUp)}render(r){super.render(r),this.element&&(this.container=r,this.item=(0,on.R3)(this.element,(0,on.$)("a.action-menu-item")),this._action.id===br.Z0.ID?this.item.setAttribute("role","presentation"):(this.item.setAttribute("role","menuitem"),this.mnemonic&&this.item.setAttribute("aria-keyshortcuts",`${this.mnemonic}`)),this.check=(0,on.R3)(this.item,(0,on.$)("span.menu-item-check"+Wa.lA.menuSelection.cssSelector)),this.check.setAttribute("role","none"),this.label=(0,on.R3)(this.item,(0,on.$)("span.action-label")),this.options.label&&this.options.keybinding&&((0,on.R3)(this.item,(0,on.$)("span.keybinding")).textContent=this.options.keybinding),this.runOnceToEnableMouseUp.schedule(),this.updateClass(),this.updateLabel(),this.updateTooltip(),this.updateEnabled(),this.updateChecked())}blur(){super.blur(),this.applyStyle()}focus(){super.focus(),this.item&&this.item.focus(),this.applyStyle()}updatePositionInSet(r,f){this.item&&(this.item.setAttribute("aria-posinset",`${r}`),this.item.setAttribute("aria-setsize",`${f}`))}updateLabel(){var r;if(!!this.label&&this.options.label){(0,on.PO)(this.label);let f=(0,Vr.x$)(this.getAction().label);if(f){const x=zr(f);this.options.enableMnemonics||(f=x),this.label.setAttribute("aria-label",x.replace(/&&/g,"&"));const Y=Hr.exec(f);if(Y){f=a.YU(f),Jr.lastIndex=0;let ie=Jr.exec(f);for(;ie&&ie[1];)ie=Jr.exec(f);const he=ve=>ve.replace(/&amp;&amp;/g,"&amp;");ie?this.label.append(a.j3(he(f.substr(0,ie.index))," "),(0,on.$)("u",{"aria-hidden":"true"},ie[3]),a.oL(he(f.substr(ie.index+ie[0].length))," ")):this.label.innerText=he(f).trim(),(r=this.item)===null||r===void 0||r.setAttribute("aria-keyshortcuts",(Y[1]?Y[1]:Y[3]).toLocaleLowerCase())}else this.label.innerText=f.replace(/&&/g,"&").trim()}}}updateTooltip(){}updateClass(){this.cssClass&&this.item&&this.item.classList.remove(...this.cssClass.split(" ")),this.options.icon&&this.label?(this.cssClass=this.getAction().class||"",this.label.classList.add("icon"),this.cssClass&&this.label.classList.add(...this.cssClass.split(" ")),this.updateEnabled()):this.label&&this.label.classList.remove("icon")}updateEnabled(){this.getAction().enabled?(this.element&&(this.element.classList.remove("disabled"),this.element.removeAttribute("aria-disabled")),this.item&&(this.item.classList.remove("disabled"),this.item.removeAttribute("aria-disabled"),this.item.tabIndex=0)):(this.element&&(this.element.classList.add("disabled"),this.element.setAttribute("aria-disabled","true")),this.item&&(this.item.classList.add("disabled"),this.item.setAttribute("aria-disabled","true")))}updateChecked(){if(!this.item)return;const r=this.getAction().checked;this.item.classList.toggle("checked",!!r),r!==void 0?(this.item.setAttribute("role","menuitemcheckbox"),this.item.setAttribute("aria-checked",r?"true":"false")):(this.item.setAttribute("role","menuitem"),this.item.setAttribute("aria-checked",""))}getMnemonic(){return this.mnemonic}applyStyle(){if(!this.menuStyle)return;const r=this.element&&this.element.classList.contains("focused"),f=r&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor,x=r&&this.menuStyle.selectionBackgroundColor?this.menuStyle.selectionBackgroundColor:void 0,Y=r&&this.menuStyle.selectionBorderColor?`1px solid ${this.menuStyle.selectionBorderColor}`:"",ie=r&&this.menuStyle.selectionBorderColor?"-1px":"";this.item&&(this.item.style.color=f?f.toString():"",this.item.style.backgroundColor=x?x.toString():"",this.item.style.outline=Y,this.item.style.outlineOffset=ie),this.check&&(this.check.style.color=f?f.toString():"")}style(r){this.menuStyle=r,this.applyStyle()}}class fa extends Bl{constructor(r,f,x,Y){super(r,r,Y),this.submenuActions=f,this.parentData=x,this.submenuOptions=Y,this.mysubmenu=null,this.submenuDisposables=this._register(new u.SL),this.mouseOver=!1,this.expandDirection=Y&&Y.expandDirection!==void 0?Y.expandDirection:qr.Right,this.showScheduler=new te.pY(()=>{this.mouseOver&&(this.cleanupExistingSubmenu(!1),this.createSubmenu(!1))},250),this.hideScheduler=new te.pY(()=>{this.element&&!(0,on.jg)((0,on.vY)(),this.element)&&this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))},750)}render(r){super.render(r),this.element&&(this.item&&(this.item.classList.add("monaco-submenu-item"),this.item.tabIndex=0,this.item.setAttribute("aria-haspopup","true"),this.updateAriaExpanded("false"),this.submenuIndicator=(0,on.R3)(this.item,(0,on.$)("span.submenu-indicator"+Wa.lA.menuSubmenu.cssSelector)),this.submenuIndicator.setAttribute("aria-hidden","true")),this._register((0,on.nm)(this.element,on.tw.KEY_UP,f=>{const x=new js.y(f);(x.equals(17)||x.equals(3))&&(on.zB.stop(f,!0),this.createSubmenu(!0))})),this._register((0,on.nm)(this.element,on.tw.KEY_DOWN,f=>{const x=new js.y(f);(0,on.vY)()===this.item&&(x.equals(17)||x.equals(3))&&on.zB.stop(f,!0)})),this._register((0,on.nm)(this.element,on.tw.MOUSE_OVER,f=>{this.mouseOver||(this.mouseOver=!0,this.showScheduler.schedule())})),this._register((0,on.nm)(this.element,on.tw.MOUSE_LEAVE,f=>{this.mouseOver=!1})),this._register((0,on.nm)(this.element,on.tw.FOCUS_OUT,f=>{this.element&&!(0,on.jg)((0,on.vY)(),this.element)&&this.hideScheduler.schedule()})),this._register(this.parentData.parent.onScroll(()=>{this.parentData.submenu===this.mysubmenu&&(this.parentData.parent.focus(!1),this.cleanupExistingSubmenu(!0))})))}updateEnabled(){}onClick(r){on.zB.stop(r,!0),this.cleanupExistingSubmenu(!1),this.createSubmenu(!0)}cleanupExistingSubmenu(r){if(this.parentData.submenu&&(r||this.parentData.submenu!==this.mysubmenu)){try{this.parentData.submenu.dispose()}catch(f){}this.parentData.submenu=void 0,this.updateAriaExpanded("false"),this.submenuContainer&&(this.submenuDisposables.clear(),this.submenuContainer=void 0)}}calculateSubmenuMenuLayout(r,f,x,Y){const ie={top:0,left:0};return ie.left=Fr(r.width,f.width,{position:Y===qr.Right?0:1,offset:x.left,size:x.width}),ie.left>=x.left&&ie.left<x.left+x.width&&(x.left+10+f.width<=r.width&&(ie.left=x.left+10),x.top+=10,x.height=0),ie.top=Fr(r.height,f.height,{position:0,offset:x.top,size:0}),ie.top+f.height===x.top&&ie.top+x.height+f.height<=r.height&&(ie.top+=x.height),ie}createSubmenu(r=!0){if(!!this.element)if(this.parentData.submenu)this.parentData.submenu.focus(!1);else{this.updateAriaExpanded("true"),this.submenuContainer=(0,on.R3)(this.element,(0,on.$)("div.monaco-submenu")),this.submenuContainer.classList.add("menubar-menu-items-holder","context-view");const f=getComputedStyle(this.parentData.parent.domNode),x=parseFloat(f.paddingTop||"0")||0;this.submenuContainer.style.zIndex="1",this.submenuContainer.style.position="fixed",this.submenuContainer.style.top="0",this.submenuContainer.style.left="0",this.parentData.submenu=new Lo(this.submenuContainer,this.submenuActions.length?this.submenuActions:[new br.eZ],this.submenuOptions),this.menuStyle&&this.parentData.submenu.style(this.menuStyle);const Y=this.element.getBoundingClientRect(),ie={top:Y.top-x,left:Y.left,height:Y.height+2*x,width:Y.width},he=this.submenuContainer.getBoundingClientRect(),{top:ve,left:$e}=this.calculateSubmenuMenuLayout(new on.Ro(window.innerWidth,window.innerHeight),on.Ro.lift(he),ie,this.expandDirection);this.submenuContainer.style.left=`${$e-he.left}px`,this.submenuContainer.style.top=`${ve-he.top}px`,this.submenuDisposables.add((0,on.nm)(this.submenuContainer,on.tw.KEY_UP,rt=>{new js.y(rt).equals(15)&&(on.zB.stop(rt,!0),this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0))})),this.submenuDisposables.add((0,on.nm)(this.submenuContainer,on.tw.KEY_DOWN,rt=>{new js.y(rt).equals(15)&&on.zB.stop(rt,!0)})),this.submenuDisposables.add(this.parentData.submenu.onDidCancel(()=>{this.parentData.parent.focus(),this.cleanupExistingSubmenu(!0)})),this.parentData.submenu.focus(r),this.mysubmenu=this.parentData.submenu}}updateAriaExpanded(r){var f;this.item&&((f=this.item)===null||f===void 0||f.setAttribute("aria-expanded",r))}applyStyle(){var r;if(super.applyStyle(),!this.menuStyle)return;const x=this.element&&this.element.classList.contains("focused")&&this.menuStyle.selectionForegroundColor?this.menuStyle.selectionForegroundColor:this.menuStyle.foregroundColor;this.submenuIndicator&&(this.submenuIndicator.style.color=x?`${x}`:""),(r=this.parentData.submenu)===null||r===void 0||r.style(this.menuStyle)}dispose(){super.dispose(),this.hideScheduler.dispose(),this.mysubmenu&&(this.mysubmenu.dispose(),this.mysubmenu=null),this.submenuContainer&&(this.submenuContainer=void 0)}}class ea extends tl.g{style(r){this.label&&(this.label.style.borderBottomColor=r.separatorColor?`${r.separatorColor}`:"")}}function zr(pe){const r=Hr,f=r.exec(pe);if(!f)return pe;const x=!f[1];return pe.replace(r,x?"$2$3":"").trim()}function tc(pe,r){let f=`
.monaco-menu {
	font-size: 13px;
	border-radius: 5px;
	min-width: 160px;
}

${(0,Ic.a)(Wa.lA.menuSelection)}
${(0,Ic.a)(Wa.lA.menuSubmenu)}

.monaco-menu .monaco-action-bar {
	text-align: right;
	overflow: hidden;
	white-space: nowrap;
}

.monaco-menu .monaco-action-bar .actions-container {
	display: flex;
	margin: 0 auto;
	padding: 0;
	width: 100%;
	justify-content: flex-end;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: inline-block;
}

.monaco-menu .monaco-action-bar.reverse .actions-container {
	flex-direction: row-reverse;
}

.monaco-menu .monaco-action-bar .action-item {
	cursor: pointer;
	display: inline-block;
	transition: transform 50ms ease;
	position: relative;  /* DO NOT REMOVE - this is the key to preventing the ghosting icon bug in Chrome 42 */
}

.monaco-menu .monaco-action-bar .action-item.disabled {
	cursor: default;
}

.monaco-menu .monaco-action-bar.animated .action-item.active {
	transform: scale(1.272019649, 1.272019649); /* 1.272019649 = \u221A\u03C6 */
}

.monaco-menu .monaco-action-bar .action-item .icon,
.monaco-menu .monaco-action-bar .action-item .codicon {
	display: inline-block;
}

.monaco-menu .monaco-action-bar .action-item .codicon {
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar .action-label {
	font-size: 11px;
	margin-right: 4px;
}

.monaco-menu .monaco-action-bar .action-item.disabled .action-label,
.monaco-menu .monaco-action-bar .action-item.disabled .action-label:hover {
	color: var(--vscode-disabledForeground);
}

/* Vertical actions */

.monaco-menu .monaco-action-bar.vertical {
	text-align: left;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	display: block;
	border-bottom: 1px solid var(--vscode-menu-separatorBackground);
	padding-top: 1px;
	padding: 30px;
}

.monaco-menu .secondary-actions .monaco-action-bar .action-label {
	margin-left: 6px;
}

/* Action Items */
.monaco-menu .monaco-action-bar .action-item.select-container {
	overflow: hidden; /* somehow the dropdown overflows its container, we prevent it here to not push */
	flex: 1;
	max-width: 170px;
	min-width: 60px;
	display: flex;
	align-items: center;
	justify-content: center;
	margin-right: 10px;
}

.monaco-menu .monaco-action-bar.vertical {
	margin-left: 0;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .actions-container {
	display: block;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	padding: 0;
	transform: none;
	display: flex;
}

.monaco-menu .monaco-action-bar.vertical .action-item.active {
	transform: none;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	flex: 1 1 auto;
	display: flex;
	height: 2em;
	align-items: center;
	position: relative;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item:hover .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-menu-item:focus .keybinding {
	opacity: unset;
}

.monaco-menu .monaco-action-bar.vertical .action-label {
	flex: 1 1 auto;
	text-decoration: none;
	padding: 0 1em;
	background: none;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .keybinding,
.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	display: inline-block;
	flex: 2 1 auto;
	padding: 0 1em;
	text-align: right;
	font-size: 12px;
	line-height: 1;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon {
	font-size: 16px !important;
	display: flex;
	align-items: center;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator.codicon::before {
	margin-left: auto;
	margin-right: -20px;
}

.monaco-menu .monaco-action-bar.vertical .action-item.disabled .keybinding,
.monaco-menu .monaco-action-bar.vertical .action-item.disabled .submenu-indicator {
	opacity: 0.4;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator) {
	display: inline-block;
	box-sizing: border-box;
	margin: 0;
}

.monaco-menu .monaco-action-bar.vertical .action-item {
	position: static;
	overflow: visible;
}

.monaco-menu .monaco-action-bar.vertical .action-item .monaco-submenu {
	position: absolute;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	width: 100%;
	height: 0px !important;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator.text {
	padding: 0.7em 1em 0.1em 1em;
	font-weight: bold;
	opacity: 1;
}

.monaco-menu .monaco-action-bar.vertical .action-label:hover {
	color: inherit;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	position: absolute;
	visibility: hidden;
	width: 1em;
	height: 100%;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item.checked .menu-item-check {
	visibility: visible;
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Context Menu */

.context-view.monaco-menu-container {
	outline: 0;
	border: none;
	animation: fadeIn 0.083s linear;
	-webkit-app-region: no-drag;
}

.context-view.monaco-menu-container :focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical:focus,
.context-view.monaco-menu-container .monaco-action-bar.vertical :focus {
	outline: 0;
}

.hc-black .context-view.monaco-menu-container,
.hc-light .context-view.monaco-menu-container,
:host-context(.hc-black) .context-view.monaco-menu-container,
:host-context(.hc-light) .context-view.monaco-menu-container {
	box-shadow: none;
}

.hc-black .monaco-menu .monaco-action-bar.vertical .action-item.focused,
.hc-light .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-black) .monaco-menu .monaco-action-bar.vertical .action-item.focused,
:host-context(.hc-light) .monaco-menu .monaco-action-bar.vertical .action-item.focused {
	background: none;
}

/* Vertical Action Bar Styles */

.monaco-menu .monaco-action-bar.vertical {
	padding: .6em 0;
}

.monaco-menu .monaco-action-bar.vertical .action-menu-item {
	height: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label:not(.separator),
.monaco-menu .monaco-action-bar.vertical .keybinding {
	font-size: inherit;
	padding: 0 2em;
}

.monaco-menu .monaco-action-bar.vertical .menu-item-check {
	font-size: inherit;
	width: 2em;
}

.monaco-menu .monaco-action-bar.vertical .action-label.separator {
	font-size: inherit;
	margin: 5px 0 !important;
	padding: 0;
	border-radius: 0;
}

.linux .monaco-menu .monaco-action-bar.vertical .action-label.separator,
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .action-label.separator {
	margin-left: 0;
	margin-right: 0;
}

.monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	font-size: 60%;
	padding: 0 1.8em;
}

.linux .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
:host-context(.linux) .monaco-menu .monaco-action-bar.vertical .submenu-indicator {
	height: 100%;
	mask-size: 10px 10px;
	-webkit-mask-size: 10px 10px;
}

.monaco-menu .action-item {
	cursor: default;
}`;if(r){f+=`
			/* Arrows */
			.monaco-scrollable-element > .scrollbar > .scra {
				cursor: pointer;
				font-size: 11px !important;
			}

			.monaco-scrollable-element > .visible {
				opacity: 1;

				/* Background rule added for IE9 - to allow clicks on dom node */
				background:rgba(0,0,0,0);

				transition: opacity 100ms linear;
			}
			.monaco-scrollable-element > .invisible {
				opacity: 0;
				pointer-events: none;
			}
			.monaco-scrollable-element > .invisible.fade {
				transition: opacity 800ms linear;
			}

			/* Scrollable Content Inset Shadow */
			.monaco-scrollable-element > .shadow {
				position: absolute;
				display: none;
			}
			.monaco-scrollable-element > .shadow.top {
				display: block;
				top: 0;
				left: 3px;
				height: 3px;
				width: 100%;
			}
			.monaco-scrollable-element > .shadow.left {
				display: block;
				top: 3px;
				left: 0;
				height: 100%;
				width: 3px;
			}
			.monaco-scrollable-element > .shadow.top-left-corner {
				display: block;
				top: 0;
				left: 0;
				height: 3px;
				width: 3px;
			}
		`;const x=pe.scrollbarShadow;x&&(f+=`
				.monaco-scrollable-element > .shadow.top {
					box-shadow: ${x} 0 6px 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.left {
					box-shadow: ${x} 6px 0 6px -6px inset;
				}

				.monaco-scrollable-element > .shadow.top.left {
					box-shadow: ${x} 6px 6px 6px -6px inset;
				}
			`);const Y=pe.scrollbarSliderBackground;Y&&(f+=`
				.monaco-scrollable-element > .scrollbar > .slider {
					background: ${Y};
				}
			`);const ie=pe.scrollbarSliderHoverBackground;ie&&(f+=`
				.monaco-scrollable-element > .scrollbar > .slider:hover {
					background: ${ie};
				}
			`);const he=pe.scrollbarSliderActiveBackground;he&&(f+=`
				.monaco-scrollable-element > .scrollbar > .slider.active {
					background: ${he};
				}
			`)}return f}var ta=l(4251);class Nc{constructor(r,f,x,Y,ie){this.contextViewService=r,this.telemetryService=f,this.notificationService=x,this.keybindingService=Y,this.themeService=ie,this.focusToReturn=null,this.block=null,this.options={blockMouse:!0}}configure(r){this.options=r}showContextMenu(r){const f=r.getActions();if(!f.length)return;this.focusToReturn=document.activeElement;let x;const Y=(0,on.Re)(r.domForShadowRoot)?r.domForShadowRoot:void 0;this.contextViewService.showContextView({getAnchor:()=>r.getAnchor(),canRelayout:!1,anchorAlignment:r.anchorAlignment,anchorAxisAlignment:r.anchorAxisAlignment,render:ie=>{const he=r.getMenuClassName?r.getMenuClassName():"";he&&(ie.className+=" "+he),this.options.blockMouse&&(this.block=ie.appendChild((0,on.$)(".context-view-block")),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",(0,on.nm)(this.block,on.tw.MOUSE_DOWN,rt=>rt.stopPropagation()));const ve=new u.SL,$e=r.actionRunner||new br.Wi;return $e.onBeforeRun(this.onActionRun,this,ve),$e.onDidRun(this.onDidActionRun,this,ve),x=new Lo(ie,f,{actionViewItemProvider:r.getActionViewItem,context:r.getActionsContext?r.getActionsContext():null,actionRunner:$e,getKeyBinding:r.getKeyBinding?r.getKeyBinding:rt=>this.keybindingService.lookupKeybinding(rt.id)}),ve.add((0,ta.tj)(x,this.themeService)),x.onDidCancel(()=>this.contextViewService.hideContextView(!0),null,ve),x.onDidBlur(()=>this.contextViewService.hideContextView(!0),null,ve),ve.add((0,on.nm)(window,on.tw.BLUR,()=>this.contextViewService.hideContextView(!0))),ve.add((0,on.nm)(window,on.tw.MOUSE_DOWN,rt=>{if(rt.defaultPrevented)return;const gt=new xc.n(rt);let Ht=gt.target;if(!gt.rightButton){for(;Ht;){if(Ht===ie)return;Ht=Ht.parentElement}this.contextViewService.hideContextView(!0)}})),(0,u.F8)(ve,x)},focus:()=>{x==null||x.focus(!!r.autoSelectFirstItem)},onHide:ie=>{var he;(he=r.onHide)===null||he===void 0||he.call(r,!!ie),this.block&&(this.block.remove(),this.block=null),this.focusToReturn&&this.focusToReturn.focus()}},Y,!!Y)}onActionRun(r){this.telemetryService.publicLog2("workbenchActionExecuted",{id:r.action.id,from:"contextMenu"}),this.contextViewService.hideContextView(!1),this.focusToReturn&&this.focusToReturn.focus()}onDidActionRun(r){r.error&&!(0,de.n2)(r.error)&&this.notificationService.error(r.error)}}var nc=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},Va=function(pe,r){return function(f,x){r(f,x,pe)}};let ic=class extends u.JT{constructor(r,f,x,Y,ie){super(),this._onDidShowContextMenu=new j.Q5,this._onDidHideContextMenu=new j.Q5,this.contextMenuHandler=new Nc(x,r,f,Y,ie)}configure(r){this.contextMenuHandler.configure(r)}showContextMenu(r){this.contextMenuHandler.showContextMenu(Object.assign(Object.assign({},r),{onHide:f=>{var x;(x=r.onHide)===null||x===void 0||x.call(r,f),this._onDidHideContextMenu.fire()}})),on._q.getInstance().resetKeyStatus(),this._onDidShowContextMenu.fire()}};ic=nc([Va(0,zo.b),Va(1,ee.lT),Va(2,Jo.u),Va(3,Zt.d),Va(4,zs.XE)],ic);var xa=l(72597),Wl;(function(pe){pe[pe.API=0]="API",pe[pe.USER=1]="USER"})(Wl||(Wl={}));var ga=l(89161),Ia=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},wl=function(pe,r){return function(f,x){r(f,x,pe)}},Ha=function(pe,r,f,x){function Y(ie){return ie instanceof f?ie:new f(function(he){he(ie)})}return new(f||(f=Promise))(function(ie,he){function ve(gt){try{rt(x.next(gt))}catch(Ht){he(Ht)}}function $e(gt){try{rt(x.throw(gt))}catch(Ht){he(Ht)}}function rt(gt){gt.done?ie(gt.value):Y(gt.value).then(ve,$e)}rt((x=x.apply(pe,r||[])).next())})};let Vl=class{constructor(r){this._commandService=r}open(r,f){return Ha(this,void 0,void 0,function*(){if(!(0,ga.xn)(r,ts.lg.command))return!1;if(!(f!=null&&f.allowCommands))return!0;typeof r=="string"&&(r=L.o.parse(r));let x=[];try{x=(0,xa.Q)(decodeURIComponent(r.query))}catch(Y){try{x=(0,xa.Q)(r.query)}catch(ie){}}return Array.isArray(x)||(x=[x]),yield this._commandService.executeCommand(r.path,...x),!0})}};Vl=Ia([wl(0,Ss.Hy)],Vl);let Tc=class{constructor(r){this._editorService=r}open(r,f){return Ha(this,void 0,void 0,function*(){typeof r=="string"&&(r=L.o.parse(r));const{selection:x,uri:Y}=(0,ga.xI)(r);return r=Y,r.scheme===ts.lg.file&&(r=(0,hl.AH)(r)),yield this._editorService.openCodeEditor({resource:r,options:Object.assign({selection:x,source:f!=null&&f.fromUserGesture?Wl.USER:Wl.API},f==null?void 0:f.editorOptions)},this._editorService.getFocusedCodeEditor(),f==null?void 0:f.openToSide),!0})}};Tc=Ia([wl(0,D.$)],Tc);let qo=class{constructor(r,f){this._openers=new Ro.S,this._validators=new Ro.S,this._resolvers=new Ro.S,this._resolvedUriTargets=new Ao.Y9(x=>x.with({path:null,fragment:null,query:null}).toString()),this._externalOpeners=new Ro.S,this._defaultExternalOpener={openExternal:x=>Ha(this,void 0,void 0,function*(){return(0,ga.Gs)(x,ts.lg.http,ts.lg.https)?on.V3(x):window.location.href=x,!0})},this._openers.push({open:(x,Y)=>Ha(this,void 0,void 0,function*(){return(Y==null?void 0:Y.openExternal)||(0,ga.Gs)(x,ts.lg.mailto,ts.lg.http,ts.lg.https,ts.lg.vsls)?(yield this._doOpenExternal(x,Y),!0):!1})}),this._openers.push(new Vl(f)),this._openers.push(new Tc(r))}registerOpener(r){return{dispose:this._openers.unshift(r)}}registerValidator(r){return{dispose:this._validators.push(r)}}registerExternalUriResolver(r){return{dispose:this._resolvers.push(r)}}setDefaultExternalOpener(r){this._defaultExternalOpener=r}registerExternalOpener(r){return{dispose:this._externalOpeners.push(r)}}open(r,f){var x;return Ha(this,void 0,void 0,function*(){const Y=typeof r=="string"?L.o.parse(r):r,ie=(x=this._resolvedUriTargets.get(Y))!==null&&x!==void 0?x:r;for(const he of this._validators)if(!(yield he.shouldOpen(ie,f)))return!1;for(const he of this._openers)if(yield he.open(r,f))return!0;return!1})}resolveExternalUri(r,f){return Ha(this,void 0,void 0,function*(){for(const x of this._resolvers)try{const Y=yield x.resolveExternalUri(r,f);if(Y)return this._resolvedUriTargets.has(Y.resolved)||this._resolvedUriTargets.set(Y.resolved,r),Y}catch(Y){}throw new Error("Could not resolve external URI: "+r.toString())})}_doOpenExternal(r,f){return Ha(this,void 0,void 0,function*(){const x=typeof r=="string"?L.o.parse(r):r;let Y;try{Y=(yield this.resolveExternalUri(x,f)).resolved}catch(he){Y=x}let ie;if(typeof r=="string"&&x.toString()===Y.toString()?ie=r:ie=encodeURI(Y.toString(!0)),f!=null&&f.allowContributedOpeners){const he=typeof(f==null?void 0:f.allowContributedOpeners)=="string"?f==null?void 0:f.allowContributedOpeners:void 0;for(const ve of this._externalOpeners)if(yield ve.openExternal(ie,{sourceUri:x,preferredOpenerId:he},d.T.None))return!0}return this._defaultExternalOpener.openExternal(ie,{sourceUri:x},d.T.None)})}dispose(){this._validators.clear()}};qo=Ia([wl(0,D.$),wl(1,Ss.Hy)],qo);var fo=l(44806),er=l(66658),Bs=l(55952),ad=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},Hl=function(pe,r){return function(f,x){r(f,x,pe)}};class kc extends u.JT{constructor(r){super(),this.model=r,this._markersData=new Map,this._register((0,u.OF)(()=>{this.model.deltaDecorations([...this._markersData.keys()],[]),this._markersData.clear()}))}update(r,f){const x=[...this._markersData.keys()];this._markersData.clear();const Y=this.model.deltaDecorations(x,f);for(let ie=0;ie<Y.length;ie++)this._markersData.set(Y[ie],r[ie]);return x.length!==0||Y.length!==0}getMarker(r){return this._markersData.get(r.id)}}let za=class extends u.JT{constructor(r,f){super(),this._markerService=f,this._onDidChangeMarker=this._register(new j.Q5),this._markerDecorations=new Ao.Y9,r.getModels().forEach(x=>this._onModelAdded(x)),this._register(r.onModelAdded(this._onModelAdded,this)),this._register(r.onModelRemoved(this._onModelRemoved,this)),this._register(this._markerService.onMarkerChanged(this._handleMarkerChange,this))}dispose(){super.dispose(),this._markerDecorations.forEach(r=>r.dispose()),this._markerDecorations.clear()}getMarker(r,f){const x=this._markerDecorations.get(r);return x&&x.getMarker(f)||null}_handleMarkerChange(r){r.forEach(f=>{const x=this._markerDecorations.get(f);x&&this._updateDecorations(x)})}_onModelAdded(r){const f=new kc(r);this._markerDecorations.set(r.uri,f),this._updateDecorations(f)}_onModelRemoved(r){var f;const x=this._markerDecorations.get(r.uri);x&&(x.dispose(),this._markerDecorations.delete(r.uri)),(r.uri.scheme===ts.lg.inMemory||r.uri.scheme===ts.lg.internal||r.uri.scheme===ts.lg.vscode)&&((f=this._markerService)===null||f===void 0||f.read({resource:r.uri}).map(Y=>Y.owner).forEach(Y=>this._markerService.remove(Y,[r.uri])))}_updateDecorations(r){const f=this._markerService.read({resource:r.model.uri,take:500}),x=f.map(Y=>({range:this._createDecorationRange(r.model,Y),options:this._createDecorationOption(Y)}));r.update(f,x)&&this._onDidChangeMarker.fire(r.model)}_createDecorationRange(r,f){let x=P.e.lift(f);if(f.severity===fo.ZL.Hint&&!this._hasMarkerTag(f,1)&&!this._hasMarkerTag(f,2)&&(x=x.setEndPosition(x.startLineNumber,x.startColumn+2)),x=r.validateRange(x),x.isEmpty()){const Y=r.getLineLastNonWhitespaceColumn(x.startLineNumber)||r.getLineMaxColumn(x.startLineNumber);if(Y===1||x.endColumn>=Y)return x;const ie=r.getWordAtPosition(x.getStartPosition());ie&&(x=new P.e(x.startLineNumber,ie.startColumn,x.endLineNumber,ie.endColumn))}else if(f.endColumn===Number.MAX_VALUE&&f.startColumn===1&&x.startLineNumber===x.endLineNumber){const Y=r.getLineFirstNonWhitespaceColumn(f.startLineNumber);Y<x.endColumn&&(x=new P.e(x.startLineNumber,Y,x.endLineNumber,x.endColumn),f.startColumn=Y)}return x}_createDecorationOption(r){let f,x,Y,ie,he;switch(r.severity){case fo.ZL.Hint:this._hasMarkerTag(r,2)?f=void 0:this._hasMarkerTag(r,1)?f="squiggly-unnecessary":f="squiggly-hint",Y=0;break;case fo.ZL.Warning:f="squiggly-warning",x=(0,zs.EN)(er.Re),Y=20,he={color:(0,zs.EN)(Bs.Ivo),position:O.F5.Inline};break;case fo.ZL.Info:f="squiggly-info",x=(0,zs.EN)(er.eS),Y=10;break;case fo.ZL.Error:default:f="squiggly-error",x=(0,zs.EN)(er.lK),Y=30,he={color:(0,zs.EN)(Bs.Gj_),position:O.F5.Inline};break}return r.tags&&(r.tags.indexOf(1)!==-1&&(ie="squiggly-inline-unnecessary"),r.tags.indexOf(2)!==-1&&(ie="squiggly-inline-deprecated")),{description:"marker-decoration",stickiness:1,className:f,showIfCollapsed:!0,overviewRuler:{color:x,position:O.sh.Right},minimap:he,zIndex:Y,inlineClassName:ie}}_hasMarkerTag(r,f){return r.tags?r.tags.indexOf(f)>=0:!1}};za=ad([Hl(0,Z.q),Hl(1,fo.lT)],za);var Mc=l(94621),sc=l(86466),Rc=l(63619),il=l(64038),Ac=l(10658),Na=l(15304);const tr={buttonBackground:Na.Il.fromHex("#0E639C"),buttonHoverBackground:Na.Il.fromHex("#006BB3"),buttonSeparator:Na.Il.white,buttonForeground:Na.Il.white};class Sl extends u.JT{constructor(r,f){super(),this._onDidClick=this._register(new j.Q5),this.options=f||Object.create(null),(0,wo.jB)(this.options,tr,!1),this.buttonForeground=this.options.buttonForeground,this.buttonBackground=this.options.buttonBackground,this.buttonHoverBackground=this.options.buttonHoverBackground,this.buttonSecondaryForeground=this.options.buttonSecondaryForeground,this.buttonSecondaryBackground=this.options.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=this.options.buttonSecondaryHoverBackground,this.buttonBorder=this.options.buttonBorder,this._element=document.createElement("a"),this._element.classList.add("monaco-button"),this._element.tabIndex=0,this._element.setAttribute("role","button"),r.appendChild(this._element),this._register(Yo.o.addTarget(this._element)),[on.tw.CLICK,Yo.t.Tap].forEach(x=>{this._register((0,on.nm)(this._element,x,Y=>{if(!this.enabled){on.zB.stop(Y);return}this._onDidClick.fire(Y)}))}),this._register((0,on.nm)(this._element,on.tw.KEY_DOWN,x=>{const Y=new js.y(x);let ie=!1;this.enabled&&(Y.equals(3)||Y.equals(10))?(this._onDidClick.fire(x),ie=!0):Y.equals(9)&&(this._element.blur(),ie=!0),ie&&on.zB.stop(Y,!0)})),this._register((0,on.nm)(this._element,on.tw.MOUSE_OVER,x=>{this._element.classList.contains("disabled")||this.setHoverBackground()})),this._register((0,on.nm)(this._element,on.tw.MOUSE_OUT,x=>{this.applyStyles()})),this.focusTracker=this._register((0,on.go)(this._element)),this._register(this.focusTracker.onDidFocus(()=>{this.enabled&&this.setHoverBackground()})),this._register(this.focusTracker.onDidBlur(()=>{this.enabled&&this.applyStyles()})),this.applyStyles()}get onDidClick(){return this._onDidClick.event}setHoverBackground(){let r;this.options.secondary?r=this.buttonSecondaryHoverBackground?this.buttonSecondaryHoverBackground.toString():null:r=this.buttonHoverBackground?this.buttonHoverBackground.toString():null,r&&(this._element.style.backgroundColor=r)}style(r){this.buttonForeground=r.buttonForeground,this.buttonBackground=r.buttonBackground,this.buttonHoverBackground=r.buttonHoverBackground,this.buttonSecondaryForeground=r.buttonSecondaryForeground,this.buttonSecondaryBackground=r.buttonSecondaryBackground,this.buttonSecondaryHoverBackground=r.buttonSecondaryHoverBackground,this.buttonBorder=r.buttonBorder,this.applyStyles()}applyStyles(){if(this._element){let r,f;this.options.secondary?(f=this.buttonSecondaryForeground?this.buttonSecondaryForeground.toString():"",r=this.buttonSecondaryBackground?this.buttonSecondaryBackground.toString():""):(f=this.buttonForeground?this.buttonForeground.toString():"",r=this.buttonBackground?this.buttonBackground.toString():"");const x=this.buttonBorder?this.buttonBorder.toString():"";this._element.style.color=f,this._element.style.backgroundColor=r,this._element.style.borderWidth=x?"1px":"",this._element.style.borderStyle=x?"solid":"",this._element.style.borderColor=x}}get element(){return this._element}set label(r){this._element.classList.add("monaco-text-button"),this.options.supportIcons?(0,on.mc)(this._element,...(0,Ac.T)(r)):this._element.textContent=r,typeof this.options.title=="string"?this._element.title=this.options.title:this.options.title&&(this._element.title=r)}set enabled(r){r?(this._element.classList.remove("disabled"),this._element.setAttribute("aria-disabled",String(!1)),this._element.tabIndex=0):(this._element.classList.add("disabled"),this._element.setAttribute("aria-disabled",String(!0)))}get enabled(){return!this._element.classList.contains("disabled")}}var ld=l(2877);const pt="done",i="active",c="infinite",v="infinite-long-running",V="discrete",$={progressBarBackground:Na.Il.fromHex("#0E70C0")};class ce extends u.JT{constructor(r,f){super(),this.options=f||Object.create(null),(0,wo.jB)(this.options,$,!1),this.workedVal=0,this.progressBarBackground=this.options.progressBarBackground,this.showDelayedScheduler=this._register(new te.pY(()=>(0,on.$Z)(this.element),0)),this.longRunningScheduler=this._register(new te.pY(()=>this.infiniteLongRunning(),ce.LONG_RUNNING_INFINITE_THRESHOLD)),this.create(r)}create(r){this.element=document.createElement("div"),this.element.classList.add("monaco-progress-container"),this.element.setAttribute("role","progressbar"),this.element.setAttribute("aria-valuemin","0"),r.appendChild(this.element),this.bit=document.createElement("div"),this.bit.classList.add("progress-bit"),this.element.appendChild(this.bit),this.applyStyles()}off(){this.bit.style.width="inherit",this.bit.style.opacity="1",this.element.classList.remove(i,c,v,V),this.workedVal=0,this.totalWork=void 0,this.longRunningScheduler.cancel()}stop(){return this.doDone(!1)}doDone(r){return this.element.classList.add(pt),this.element.classList.contains(c)?(this.bit.style.opacity="0",r?setTimeout(()=>this.off(),200):this.off()):(this.bit.style.width="inherit",r?setTimeout(()=>this.off(),200):this.off()),this}infinite(){return this.bit.style.width="2%",this.bit.style.opacity="1",this.element.classList.remove(V,pt,v),this.element.classList.add(i,c),this.longRunningScheduler.schedule(),this}infiniteLongRunning(){this.element.classList.add(v)}getContainer(){return this.element}style(r){this.progressBarBackground=r.progressBarBackground,this.applyStyles()}applyStyles(){if(this.bit){const r=this.progressBarBackground?this.progressBarBackground.toString():"";this.bit.style.backgroundColor=r}}}ce.LONG_RUNNING_INFINITE_THRESHOLD=1e4;var be=l(52268);const Me={},Oe=new be.R("quick-input-button-icon-");function Qe(pe){if(!pe)return;let r;const f=pe.dark.toString();return Me[f]?r=Me[f]:(r=Oe.nextId(),on.fk(`.${r}, .hc-light .${r}`,`background-image: ${on.wY(pe.light||pe.dark)}`),on.fk(`.vs-dark .${r}, .hc-black .${r}`,`background-image: ${on.wY(pe.dark)}`),Me[f]=r),r}var lt=l(50901),Nt=l(50738);const Dt=on.$;class Yt extends u.JT{constructor(r){super(),this.parent=r,this.onKeyDown=f=>on.nm(this.inputBox.inputElement,on.tw.KEY_DOWN,x=>{f(new js.y(x))}),this.onMouseDown=f=>on.nm(this.inputBox.inputElement,on.tw.MOUSE_DOWN,x=>{f(new xc.n(x))}),this.onDidChange=f=>this.inputBox.onDidChange(f),this.container=on.R3(this.parent,Dt(".quick-input-box")),this.inputBox=this._register(new Nt.W(this.container,void 0))}get value(){return this.inputBox.value}set value(r){this.inputBox.value=r}select(r=null){this.inputBox.select(r)}isSelectionAtEnd(){return this.inputBox.isSelectionAtEnd()}get placeholder(){return this.inputBox.inputElement.getAttribute("placeholder")||""}set placeholder(r){this.inputBox.setPlaceHolder(r)}get ariaLabel(){return this.inputBox.getAriaLabel()}set ariaLabel(r){this.inputBox.setAriaLabel(r)}get password(){return this.inputBox.inputElement.type==="password"}set password(r){this.inputBox.inputElement.type=r?"password":"text"}setAttribute(r,f){this.inputBox.inputElement.setAttribute(r,f)}removeAttribute(r){this.inputBox.inputElement.removeAttribute(r)}showDecoration(r){r===F.Z.Ignore?this.inputBox.hideMessage():this.inputBox.showMessage({type:r===F.Z.Info?1:r===F.Z.Warning?2:3,content:""})}stylesForType(r){return this.inputBox.stylesForType(r===F.Z.Info?1:r===F.Z.Warning?2:3)}setFocus(){this.inputBox.focus()}layout(){this.inputBox.layout()}style(r){this.inputBox.style(r)}}var an=l(21801);const gn=on.$;class un{constructor(r,f,x){this.os=f,this.keyElements=new Set,this.options=x||Object.create(null),this.labelBackground=this.options.keybindingLabelBackground,this.labelForeground=this.options.keybindingLabelForeground,this.labelBorder=this.options.keybindingLabelBorder,this.labelBottomBorder=this.options.keybindingLabelBottomBorder,this.labelShadow=this.options.keybindingLabelShadow,this.domNode=on.R3(r,gn(".monaco-keybinding")),this.didEverRender=!1,r.appendChild(this.domNode)}get element(){return this.domNode}set(r,f){this.didEverRender&&this.keybinding===r&&un.areSame(this.matches,f)||(this.keybinding=r,this.matches=f,this.render())}render(){if(this.clear(),this.keybinding){const[r,f]=this.keybinding.getParts();r&&this.renderPart(this.domNode,r,this.matches?this.matches.firstPart:null),f&&(on.R3(this.domNode,gn("span.monaco-keybinding-key-chord-separator",void 0," ")),this.renderPart(this.domNode,f,this.matches?this.matches.chordPart:null)),this.domNode.title=this.keybinding.getAriaLabel()||""}else this.options&&this.options.renderUnboundKeybindings&&this.renderUnbound(this.domNode);this.applyStyles(),this.didEverRender=!0}clear(){on.PO(this.domNode),this.keyElements.clear()}renderPart(r,f,x){const Y=hs.xo.modifierLabels[this.os];f.ctrlKey&&this.renderKey(r,Y.ctrlKey,Boolean(x==null?void 0:x.ctrlKey),Y.separator),f.shiftKey&&this.renderKey(r,Y.shiftKey,Boolean(x==null?void 0:x.shiftKey),Y.separator),f.altKey&&this.renderKey(r,Y.altKey,Boolean(x==null?void 0:x.altKey),Y.separator),f.metaKey&&this.renderKey(r,Y.metaKey,Boolean(x==null?void 0:x.metaKey),Y.separator);const ie=f.keyLabel;ie&&this.renderKey(r,ie,Boolean(x==null?void 0:x.keyCode),"")}renderKey(r,f,x,Y){on.R3(r,this.createKeyElement(f,x?".highlight":"")),Y&&on.R3(r,gn("span.monaco-keybinding-key-separator",void 0,Y))}renderUnbound(r){on.R3(r,this.createKeyElement((0,m.NC)("unbound","Unbound")))}createKeyElement(r,f=""){const x=gn("span.monaco-keybinding-key"+f,void 0,r);return this.keyElements.add(x),x}style(r){this.labelBackground=r.keybindingLabelBackground,this.labelForeground=r.keybindingLabelForeground,this.labelBorder=r.keybindingLabelBorder,this.labelBottomBorder=r.keybindingLabelBottomBorder,this.labelShadow=r.keybindingLabelShadow,this.applyStyles()}applyStyles(){var r;if(this.element){for(const f of this.keyElements)this.labelBackground&&(f.style.backgroundColor=(r=this.labelBackground)===null||r===void 0?void 0:r.toString()),this.labelBorder&&(f.style.borderColor=this.labelBorder.toString()),this.labelBottomBorder&&(f.style.borderBottomColor=this.labelBottomBorder.toString()),this.labelShadow&&(f.style.boxShadow=`inset 0 -1px 0 ${this.labelShadow}`);this.labelForeground&&(this.element.style.color=this.labelForeground.toString())}}static areSame(r,f){return r===f||!r&&!f?!0:!!r&&!!f&&(0,wo.fS)(r.firstPart,f.firstPart)&&(0,wo.fS)(r.chordPart,f.chordPart)}}const zn=new te.Ue(()=>{const pe=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});return{collator:pe,collatorIsNumeric:pe.resolvedOptions().numeric}}),Un=new te.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0})})),Ri=new te.Ue(()=>({collator:new Intl.Collator(void 0,{numeric:!0,sensitivity:"accent"})}));function _i(pe,r,f=!1){const x=pe||"",Y=r||"",ie=zn.value.collator.compare(x,Y);return zn.value.collatorIsNumeric&&ie===0&&x!==Y?x<Y?-1:1:ie}function Vi(pe,r,f){const x=pe.toLowerCase(),Y=r.toLowerCase(),ie=Fi(pe,r,f);if(ie)return ie;const he=x.endsWith(f),ve=Y.endsWith(f);if(he!==ve)return he?-1:1;const $e=_i(x,Y);return $e!==0?$e:x.localeCompare(Y)}function Fi(pe,r,f){const x=pe.toLowerCase(),Y=r.toLowerCase(),ie=x.startsWith(f),he=Y.startsWith(f);if(ie!==he)return ie?-1:1;if(ie&&he){if(x.length<Y.length)return-1;if(x.length>Y.length)return 1}return 0}var pi=l(86602),ji=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},is=function(pe,r,f,x){function Y(ie){return ie instanceof f?ie:new f(function(he){he(ie)})}return new(f||(f=Promise))(function(ie,he){function ve(gt){try{rt(x.next(gt))}catch(Ht){he(Ht)}}function $e(gt){try{rt(x.throw(gt))}catch(Ht){he(Ht)}}function rt(gt){gt.done?ie(gt.value):Y(gt.value).then(ve,$e)}rt((x=x.apply(pe,r||[])).next())})};const zi=on.$;class ro{constructor(r){this.hidden=!1,this._onChecked=new j.Q5,this.onChecked=this._onChecked.event,Object.assign(this,r)}get checked(){return!!this._checked}set checked(r){r!==this._checked&&(this._checked=r,this._onChecked.fire(r))}dispose(){this._onChecked.dispose()}}class Js{get templateId(){return Js.ID}renderTemplate(r){const f=Object.create(null);f.toDisposeElement=[],f.toDisposeTemplate=[],f.entry=on.R3(r,zi(".quick-input-list-entry"));const x=on.R3(f.entry,zi("label.quick-input-list-label"));f.toDisposeTemplate.push(on.mu(x,on.tw.CLICK,rt=>{f.checkbox.offsetParent||rt.preventDefault()})),f.checkbox=on.R3(x,zi("input.quick-input-list-checkbox")),f.checkbox.type="checkbox",f.toDisposeTemplate.push(on.mu(f.checkbox,on.tw.CHANGE,rt=>{f.element.checked=f.checkbox.checked}));const Y=on.R3(x,zi(".quick-input-list-rows")),ie=on.R3(Y,zi(".quick-input-list-row")),he=on.R3(Y,zi(".quick-input-list-row"));f.label=new an.g(ie,{supportHighlights:!0,supportDescriptionHighlights:!0,supportIcons:!0});const ve=on.R3(ie,zi(".quick-input-list-entry-keybinding"));f.keybinding=new un(ve,ge.OS);const $e=on.R3(he,zi(".quick-input-list-label-meta"));return f.detail=new an.g($e,{supportHighlights:!0,supportIcons:!0}),f.separator=on.R3(f.entry,zi(".quick-input-list-separator")),f.actionBar=new Cr.o(f.entry),f.actionBar.domNode.classList.add("quick-input-list-entry-action-bar"),f.toDisposeTemplate.push(f.actionBar),f}renderElement(r,f,x){x.toDisposeElement=(0,u.B9)(x.toDisposeElement),x.element=r,x.checkbox.checked=r.checked,x.toDisposeElement.push(r.onChecked(rt=>x.checkbox.checked=rt));const{labelHighlights:Y,descriptionHighlights:ie,detailHighlights:he}=r,ve=Object.create(null);ve.matches=Y||[],ve.descriptionTitle=r.saneDescription,ve.descriptionMatches=ie||[],ve.extraClasses=r.item.iconClasses,ve.italic=r.item.italic,ve.strikethrough=r.item.strikethrough,x.label.setLabel(r.saneLabel,r.saneDescription,ve),x.keybinding.set(r.item.keybinding),r.saneDetail&&x.detail.setLabel(r.saneDetail,void 0,{matches:he,title:r.saneDetail}),r.separator&&r.separator.label?(x.separator.textContent=r.separator.label,x.separator.style.display=""):x.separator.style.display="none",x.entry.classList.toggle("quick-input-list-separator-border",!!r.separator),x.actionBar.clear();const $e=r.item.buttons;$e&&$e.length?(x.actionBar.push($e.map((rt,gt)=>{let Ht=rt.iconClass||(rt.iconPath?Qe(rt.iconPath):void 0);rt.alwaysVisible&&(Ht=Ht?`${Ht} always-visible`:"always-visible");const xn=new br.aU(`id-${gt}`,"",Ht,!0,()=>is(this,void 0,void 0,function*(){r.fireButtonTriggered({button:rt,item:r.item})}));return xn.tooltip=rt.tooltip||"",xn}),{icon:!0,label:!1}),x.entry.classList.add("has-actions")):x.entry.classList.remove("has-actions")}disposeElement(r,f,x){x.toDisposeElement=(0,u.B9)(x.toDisposeElement)}disposeTemplate(r){r.toDisposeElement=(0,u.B9)(r.toDisposeElement),r.toDisposeTemplate=(0,u.B9)(r.toDisposeTemplate)}}Js.ID="listelement";class To{getHeight(r){return r.saneDetail?44:22}getTemplateId(r){return Js.ID}}var Pi;(function(pe){pe[pe.First=1]="First",pe[pe.Second=2]="Second",pe[pe.Last=3]="Last",pe[pe.Next=4]="Next",pe[pe.Previous=5]="Previous",pe[pe.NextPage=6]="NextPage",pe[pe.PreviousPage=7]="PreviousPage"})(Pi||(Pi={}));class vo{constructor(r,f,x){this.parent=r,this.inputElements=[],this.elements=[],this.elementsToIndexes=new Map,this.matchOnDescription=!1,this.matchOnDetail=!1,this.matchOnLabel=!0,this.matchOnLabelMode="fuzzy",this.matchOnMeta=!0,this.sortByLabel=!0,this._onChangedAllVisibleChecked=new j.Q5,this.onChangedAllVisibleChecked=this._onChangedAllVisibleChecked.event,this._onChangedCheckedCount=new j.Q5,this.onChangedCheckedCount=this._onChangedCheckedCount.event,this._onChangedVisibleCount=new j.Q5,this.onChangedVisibleCount=this._onChangedVisibleCount.event,this._onChangedCheckedElements=new j.Q5,this.onChangedCheckedElements=this._onChangedCheckedElements.event,this._onButtonTriggered=new j.Q5,this.onButtonTriggered=this._onButtonTriggered.event,this._onKeyDown=new j.Q5,this.onKeyDown=this._onKeyDown.event,this._onLeave=new j.Q5,this.onLeave=this._onLeave.event,this._fireCheckedEvents=!0,this.elementDisposables=[],this.disposables=[],this.id=f,this.container=on.R3(this.parent,zi(".quick-input-list"));const Y=new To,ie=new Bd;this.list=x.createList("QuickInput",this.container,Y,[new Js],{identityProvider:{getId:he=>he.saneLabel},setRowLineHeight:!1,multipleSelectionSupport:!1,horizontalScrolling:!1,accessibilityProvider:ie}),this.list.getHTMLElement().id=f,this.disposables.push(this.list),this.disposables.push(this.list.onKeyDown(he=>{const ve=new js.y(he);switch(ve.keyCode){case 10:this.toggleCheckbox();break;case 31:(ge.dz?he.metaKey:he.ctrlKey)&&this.list.setFocus((0,ot.w6)(this.list.length));break;case 16:{const $e=this.list.getFocus();$e.length===1&&$e[0]===0&&this._onLeave.fire();break}case 18:{const $e=this.list.getFocus();$e.length===1&&$e[0]===this.list.length-1&&this._onLeave.fire();break}}this._onKeyDown.fire(ve)})),this.disposables.push(this.list.onMouseDown(he=>{he.browserEvent.button!==2&&he.browserEvent.preventDefault()})),this.disposables.push(on.nm(this.container,on.tw.CLICK,he=>{(he.x||he.y)&&this._onLeave.fire()})),this.disposables.push(this.list.onMouseMiddleClick(he=>{this._onLeave.fire()})),this.disposables.push(this.list.onContextMenu(he=>{typeof he.index=="number"&&(he.browserEvent.preventDefault(),this.list.setSelection([he.index]))})),this.disposables.push(this._onChangedAllVisibleChecked,this._onChangedCheckedCount,this._onChangedVisibleCount,this._onChangedCheckedElements,this._onButtonTriggered,this._onLeave,this._onKeyDown)}get onDidChangeFocus(){return j.ju.map(this.list.onDidChangeFocus,r=>r.elements.map(f=>f.item))}get onDidChangeSelection(){return j.ju.map(this.list.onDidChangeSelection,r=>({items:r.elements.map(f=>f.item),event:r.browserEvent}))}get scrollTop(){return this.list.scrollTop}set scrollTop(r){this.list.scrollTop=r}getAllVisibleChecked(){return this.allVisibleChecked(this.elements,!1)}allVisibleChecked(r,f=!0){for(let x=0,Y=r.length;x<Y;x++){const ie=r[x];if(!ie.hidden)if(ie.checked)f=!0;else return!1}return f}getCheckedCount(){let r=0;const f=this.elements;for(let x=0,Y=f.length;x<Y;x++)f[x].checked&&r++;return r}getVisibleCount(){let r=0;const f=this.elements;for(let x=0,Y=f.length;x<Y;x++)f[x].hidden||r++;return r}setAllVisibleChecked(r){try{this._fireCheckedEvents=!1,this.elements.forEach(f=>{f.hidden||(f.checked=r)})}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}setElements(r){this.elementDisposables=(0,u.B9)(this.elementDisposables);const f=x=>this.fireButtonTriggered(x);this.inputElements=r,this.elements=r.reduce((x,Y,ie)=>{var he,ve,$e;if(Y.type!=="separator"){const rt=ie&&r[ie-1],gt=Y.label&&Y.label.replace(/\r?\n/g," "),Ht=(0,Vr.Ho)(gt).text.trim(),xn=Y.meta&&Y.meta.replace(/\r?\n/g," "),ii=Y.description&&Y.description.replace(/\r?\n/g," "),Ki=Y.detail&&Y.detail.replace(/\r?\n/g," "),gs=Y.ariaLabel||[gt,ii,Ki].map(Os=>(0,Wa.JL)(Os)).filter(Os=>!!Os).join(", "),ks=this.parent.classList.contains("show-checkboxes");x.push(new ro({hasCheckbox:ks,index:ie,item:Y,saneLabel:gt,saneSortLabel:Ht,saneMeta:xn,saneAriaLabel:gs,saneDescription:ii,saneDetail:Ki,labelHighlights:(he=Y.highlights)===null||he===void 0?void 0:he.label,descriptionHighlights:(ve=Y.highlights)===null||ve===void 0?void 0:ve.description,detailHighlights:($e=Y.highlights)===null||$e===void 0?void 0:$e.detail,checked:!1,separator:rt&&rt.type==="separator"?rt:void 0,fireButtonTriggered:f}))}return x},[]),this.elementDisposables.push(...this.elements),this.elementDisposables.push(...this.elements.map(x=>x.onChecked(()=>this.fireCheckedEvents()))),this.elementsToIndexes=this.elements.reduce((x,Y,ie)=>(x.set(Y.item,ie),x),new Map),this.list.splice(0,this.list.length),this.list.splice(0,this.list.length,this.elements),this._onChangedVisibleCount.fire(this.elements.length)}getFocusedElements(){return this.list.getFocusedElements().map(r=>r.item)}setFocusedElements(r){if(this.list.setFocus(r.filter(f=>this.elementsToIndexes.has(f)).map(f=>this.elementsToIndexes.get(f))),r.length>0){const f=this.list.getFocus()[0];typeof f=="number"&&this.list.reveal(f)}}getActiveDescendant(){return this.list.getHTMLElement().getAttribute("aria-activedescendant")}setSelectedElements(r){this.list.setSelection(r.filter(f=>this.elementsToIndexes.has(f)).map(f=>this.elementsToIndexes.get(f)))}getCheckedElements(){return this.elements.filter(r=>r.checked).map(r=>r.item)}setCheckedElements(r){try{this._fireCheckedEvents=!1;const f=new Set;for(const x of r)f.add(x);for(const x of this.elements)x.checked=f.has(x.item)}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}set enabled(r){this.list.getHTMLElement().style.pointerEvents=r?"":"none"}focus(r){if(!this.list.length)return;switch(r===Pi.Next&&this.list.getFocus()[0]===this.list.length-1&&(r=Pi.First),r===Pi.Previous&&this.list.getFocus()[0]===0&&(r=Pi.Last),r===Pi.Second&&this.list.length<2&&(r=Pi.First),r){case Pi.First:this.list.focusFirst();break;case Pi.Second:this.list.focusNth(1);break;case Pi.Last:this.list.focusLast();break;case Pi.Next:this.list.focusNext();break;case Pi.Previous:this.list.focusPrevious();break;case Pi.NextPage:this.list.focusNextPage();break;case Pi.PreviousPage:this.list.focusPreviousPage();break}const f=this.list.getFocus()[0];typeof f=="number"&&this.list.reveal(f)}clearFocus(){this.list.setFocus([])}domFocus(){this.list.domFocus()}layout(r){this.list.getHTMLElement().style.maxHeight=r?`calc(${Math.floor(r/44)*44}px)`:"",this.list.layout()}filter(r){if(!(this.sortByLabel||this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))return this.list.layout(),!1;const f=r;if(r=r.trim(),!r||!(this.matchOnLabel||this.matchOnDescription||this.matchOnDetail))this.elements.forEach(Y=>{Y.labelHighlights=void 0,Y.descriptionHighlights=void 0,Y.detailHighlights=void 0,Y.hidden=!1;const ie=Y.index&&this.inputElements[Y.index-1];Y.separator=ie&&ie.type==="separator"?ie:void 0});else{let Y;this.elements.forEach(ie=>{let he;this.matchOnLabelMode==="fuzzy"?he=this.matchOnLabel?(0,le.f6)((0,Vr.Gt)(r,(0,Vr.Ho)(ie.saneLabel))):void 0:he=this.matchOnLabel?(0,le.f6)(No(f,(0,Vr.Ho)(ie.saneLabel))):void 0;const ve=this.matchOnDescription?(0,le.f6)((0,Vr.Gt)(r,(0,Vr.Ho)(ie.saneDescription||""))):void 0,$e=this.matchOnDetail?(0,le.f6)((0,Vr.Gt)(r,(0,Vr.Ho)(ie.saneDetail||""))):void 0,rt=this.matchOnMeta?(0,le.f6)((0,Vr.Gt)(r,(0,Vr.Ho)(ie.saneMeta||""))):void 0;if(he||ve||$e||rt?(ie.labelHighlights=he,ie.descriptionHighlights=ve,ie.detailHighlights=$e,ie.hidden=!1):(ie.labelHighlights=void 0,ie.descriptionHighlights=void 0,ie.detailHighlights=void 0,ie.hidden=!ie.item.alwaysShow),ie.separator=void 0,!this.sortByLabel){const gt=ie.index&&this.inputElements[ie.index-1];Y=gt&&gt.type==="separator"?gt:Y,Y&&!ie.hidden&&(ie.separator=Y,Y=void 0)}})}const x=this.elements.filter(Y=>!Y.hidden);if(this.sortByLabel&&r){const Y=r.toLowerCase();x.sort((ie,he)=>nr(ie,he,Y))}return this.elementsToIndexes=x.reduce((Y,ie,he)=>(Y.set(ie.item,he),Y),new Map),this.list.splice(0,this.list.length,x),this.list.setFocus([]),this.list.layout(),this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedVisibleCount.fire(x.length),!0}toggleCheckbox(){try{this._fireCheckedEvents=!1;const r=this.list.getFocusedElements(),f=this.allVisibleChecked(r);for(const x of r)x.checked=!f}finally{this._fireCheckedEvents=!0,this.fireCheckedEvents()}}display(r){this.container.style.display=r?"":"none"}isDisplayed(){return this.container.style.display!=="none"}dispose(){this.elementDisposables=(0,u.B9)(this.elementDisposables),this.disposables=(0,u.B9)(this.disposables)}fireCheckedEvents(){this._fireCheckedEvents&&(this._onChangedAllVisibleChecked.fire(this.getAllVisibleChecked()),this._onChangedCheckedCount.fire(this.getCheckedCount()),this._onChangedCheckedElements.fire(this.getCheckedElements()))}fireButtonTriggered(r){this._onButtonTriggered.fire(r)}style(r){this.list.style(r)}}ji([pi.H],vo.prototype,"onDidChangeFocus",null),ji([pi.H],vo.prototype,"onDidChangeSelection",null);function No(pe,r){const{text:f,iconOffsets:x}=r;if(!x||x.length===0)return go(pe,f);const Y=(0,a.j3)(f," "),ie=f.length-Y.length,he=go(pe,Y);if(he)for(const ve of he){const $e=x[ve.start+ie]+ie;ve.start+=$e,ve.end+=$e}return he}function go(pe,r){const f=r.toLowerCase().indexOf(pe.toLowerCase());return f!==-1?[{start:f,end:f+pe.length}]:null}function nr(pe,r,f){const x=pe.labelHighlights||[],Y=r.labelHighlights||[];return x.length&&!Y.length?-1:!x.length&&Y.length?1:x.length===0&&Y.length===0?0:Vi(pe.saneSortLabel,r.saneSortLabel,f)}class Bd{getWidgetAriaLabel(){return(0,m.NC)("quickInput","Quick Input")}getAriaLabel(r){var f;return!((f=r.separator)===null||f===void 0)&&f.label?`${r.saneAriaLabel}, ${r.separator.label}`:r.saneAriaLabel}getWidgetRole(){return"listbox"}getRole(r){return r.hasCheckbox?"checkbox":"option"}isChecked(r){if(!!r.hasCheckbox)return{value:r.checked,onDidChange:r.onChecked}}}var Iu=function(pe,r,f,x){function Y(ie){return ie instanceof f?ie:new f(function(he){he(ie)})}return new(f||(f=Promise))(function(ie,he){function ve(gt){try{rt(x.next(gt))}catch(Ht){he(Ht)}}function $e(gt){try{rt(x.throw(gt))}catch(Ht){he(Ht)}}function rt(gt){gt.done?ie(gt.value):Y(gt.value).then(ve,$e)}rt((x=x.apply(pe,r||[])).next())})};const wr=on.$,Wd={iconClass:Wa.lA.quickInputBack.classNames,tooltip:(0,m.NC)("quickInput.back","Back"),handle:-1};class oc extends u.JT{constructor(r){super(),this.ui=r,this.visible=!1,this._enabled=!0,this._busy=!1,this._ignoreFocusOut=!1,this._buttons=[],this.noValidationMessage=oc.noPromptMessage,this._severity=F.Z.Ignore,this.buttonsUpdated=!1,this.onDidTriggerButtonEmitter=this._register(new j.Q5),this.onDidHideEmitter=this._register(new j.Q5),this.onDisposeEmitter=this._register(new j.Q5),this.visibleDisposables=this._register(new u.SL),this.onDidHide=this.onDidHideEmitter.event}get title(){return this._title}set title(r){this._title=r,this.update()}get description(){return this._description}set description(r){this._description=r,this.update()}get step(){return this._steps}set step(r){this._steps=r,this.update()}get totalSteps(){return this._totalSteps}set totalSteps(r){this._totalSteps=r,this.update()}get enabled(){return this._enabled}set enabled(r){this._enabled=r,this.update()}get contextKey(){return this._contextKey}set contextKey(r){this._contextKey=r,this.update()}get busy(){return this._busy}set busy(r){this._busy=r,this.update()}get ignoreFocusOut(){return this._ignoreFocusOut}set ignoreFocusOut(r){const f=this._ignoreFocusOut!==r&&!ge.gn;this._ignoreFocusOut=r&&!ge.gn,f&&this.update()}get buttons(){return this._buttons}set buttons(r){this._buttons=r,this.buttonsUpdated=!0,this.update()}get validationMessage(){return this._validationMessage}set validationMessage(r){this._validationMessage=r,this.update()}get severity(){return this._severity}set severity(r){this._severity=r,this.update()}show(){this.visible||(this.visibleDisposables.add(this.ui.onDidTriggerButton(r=>{this.buttons.indexOf(r)!==-1&&this.onDidTriggerButtonEmitter.fire(r)})),this.ui.show(this),this.visible=!0,this._lastValidationMessage=void 0,this._lastSeverity=void 0,this.buttons.length&&(this.buttonsUpdated=!0),this.update())}hide(){!this.visible||this.ui.hide()}didHide(r=lt.Jq.Other){this.visible=!1,this.visibleDisposables.clear(),this.onDidHideEmitter.fire({reason:r})}update(){if(!this.visible)return;const r=this.getTitle();r&&this.ui.title.textContent!==r?this.ui.title.textContent=r:!r&&this.ui.title.innerHTML!=="&nbsp;"&&(this.ui.title.innerText="\xA0");const f=this.getDescription();if(this.ui.description1.textContent!==f&&(this.ui.description1.textContent=f),this.ui.description2.textContent!==f&&(this.ui.description2.textContent=f),this.busy&&!this.busyDelay&&(this.busyDelay=new te._F,this.busyDelay.setIfNotSet(()=>{this.visible&&this.ui.progressBar.infinite()},800)),!this.busy&&this.busyDelay&&(this.ui.progressBar.stop(),this.busyDelay.cancel(),this.busyDelay=void 0),this.buttonsUpdated){this.buttonsUpdated=!1,this.ui.leftActionBar.clear();const Y=this.buttons.filter(he=>he===Wd);this.ui.leftActionBar.push(Y.map((he,ve)=>{const $e=new br.aU(`id-${ve}`,"",he.iconClass||Qe(he.iconPath),!0,()=>Iu(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(he)}));return $e.tooltip=he.tooltip||"",$e}),{icon:!0,label:!1}),this.ui.rightActionBar.clear();const ie=this.buttons.filter(he=>he!==Wd);this.ui.rightActionBar.push(ie.map((he,ve)=>{const $e=new br.aU(`id-${ve}`,"",he.iconClass||Qe(he.iconPath),!0,()=>Iu(this,void 0,void 0,function*(){this.onDidTriggerButtonEmitter.fire(he)}));return $e.tooltip=he.tooltip||"",$e}),{icon:!0,label:!1})}this.ui.ignoreFocusOut=this.ignoreFocusOut,this.ui.setEnabled(this.enabled),this.ui.setContextKey(this.contextKey);const x=this.validationMessage||this.noValidationMessage;this._lastValidationMessage!==x&&(this._lastValidationMessage=x,on.mc(this.ui.message,...(0,Ac.T)(x))),this._lastSeverity!==this.severity&&(this._lastSeverity=this.severity,this.showMessageDecoration(this.severity))}getTitle(){return this.title&&this.step?`${this.title} (${this.getSteps()})`:this.title?this.title:this.step?this.getSteps():""}getDescription(){return this.description||""}getSteps(){return this.step&&this.totalSteps?(0,m.NC)("quickInput.steps","{0}/{1}",this.step,this.totalSteps):this.step?String(this.step):""}showMessageDecoration(r){if(this.ui.inputBox.showDecoration(r),r!==F.Z.Ignore){const f=this.ui.inputBox.stylesForType(r);this.ui.message.style.color=f.foreground?`${f.foreground}`:"",this.ui.message.style.backgroundColor=f.background?`${f.background}`:"",this.ui.message.style.border=f.border?`1px solid ${f.border}`:"",this.ui.message.style.marginBottom="-2px"}else this.ui.message.style.color="",this.ui.message.style.backgroundColor="",this.ui.message.style.border="",this.ui.message.style.marginBottom=""}dispose(){this.hide(),this.onDisposeEmitter.fire(),super.dispose()}}oc.noPromptMessage=(0,m.NC)("inputModeEntry","Press 'Enter' to confirm your input or 'Escape' to cancel");class sl extends oc{constructor(){super(...arguments),this._value="",this.onDidChangeValueEmitter=this._register(new j.Q5),this.onWillAcceptEmitter=this._register(new j.Q5),this.onDidAcceptEmitter=this._register(new j.Q5),this.onDidCustomEmitter=this._register(new j.Q5),this._items=[],this.itemsUpdated=!1,this._canSelectMany=!1,this._canAcceptInBackground=!1,this._matchOnDescription=!1,this._matchOnDetail=!1,this._matchOnLabel=!0,this._matchOnLabelMode="fuzzy",this._sortByLabel=!0,this._autoFocusOnList=!0,this._keepScrollPosition=!1,this._itemActivation=this.ui.isScreenReaderOptimized()?lt.jG.NONE:lt.jG.FIRST,this._activeItems=[],this.activeItemsUpdated=!1,this.activeItemsToConfirm=[],this.onDidChangeActiveEmitter=this._register(new j.Q5),this._selectedItems=[],this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=[],this.onDidChangeSelectionEmitter=this._register(new j.Q5),this.onDidTriggerItemButtonEmitter=this._register(new j.Q5),this.valueSelectionUpdated=!0,this._ok="default",this._customButton=!1,this.filterValue=r=>r,this.onDidChangeValue=this.onDidChangeValueEmitter.event,this.onWillAccept=this.onWillAcceptEmitter.event,this.onDidAccept=this.onDidAcceptEmitter.event,this.onDidChangeActive=this.onDidChangeActiveEmitter.event,this.onDidChangeSelection=this.onDidChangeSelectionEmitter.event,this.onDidTriggerItemButton=this.onDidTriggerItemButtonEmitter.event}get quickNavigate(){return this._quickNavigate}set quickNavigate(r){this._quickNavigate=r,this.update()}get value(){return this._value}set value(r){this.doSetValue(r)}doSetValue(r,f){this._value!==r&&(this._value=r,f||this.update(),this.visible&&this.ui.list.filter(this.filterValue(this._value))&&this.trySelectFirst(),this.onDidChangeValueEmitter.fire(this._value))}set ariaLabel(r){this._ariaLabel=r,this.update()}get ariaLabel(){return this._ariaLabel}get placeholder(){return this._placeholder}set placeholder(r){this._placeholder=r,this.update()}get items(){return this._items}get scrollTop(){return this.ui.list.scrollTop}set scrollTop(r){this.ui.list.scrollTop=r}set items(r){this._items=r,this.itemsUpdated=!0,this.update()}get canSelectMany(){return this._canSelectMany}set canSelectMany(r){this._canSelectMany=r,this.update()}get canAcceptInBackground(){return this._canAcceptInBackground}set canAcceptInBackground(r){this._canAcceptInBackground=r}get matchOnDescription(){return this._matchOnDescription}set matchOnDescription(r){this._matchOnDescription=r,this.update()}get matchOnDetail(){return this._matchOnDetail}set matchOnDetail(r){this._matchOnDetail=r,this.update()}get matchOnLabel(){return this._matchOnLabel}set matchOnLabel(r){this._matchOnLabel=r,this.update()}get matchOnLabelMode(){return this._matchOnLabelMode}set matchOnLabelMode(r){this._matchOnLabelMode=r,this.update()}get sortByLabel(){return this._sortByLabel}set sortByLabel(r){this._sortByLabel=r,this.update()}get autoFocusOnList(){return this._autoFocusOnList}set autoFocusOnList(r){this._autoFocusOnList=r,this.update()}get keepScrollPosition(){return this._keepScrollPosition}set keepScrollPosition(r){this._keepScrollPosition=r}get itemActivation(){return this._itemActivation}set itemActivation(r){this._itemActivation=r}get activeItems(){return this._activeItems}set activeItems(r){this._activeItems=r,this.activeItemsUpdated=!0,this.update()}get selectedItems(){return this._selectedItems}set selectedItems(r){this._selectedItems=r,this.selectedItemsUpdated=!0,this.update()}get keyMods(){return this._quickNavigate?lt.X5:this.ui.keyMods}set valueSelection(r){this._valueSelection=r,this.valueSelectionUpdated=!0,this.update()}get customButton(){return this._customButton}set customButton(r){this._customButton=r,this.update()}get customLabel(){return this._customButtonLabel}set customLabel(r){this._customButtonLabel=r,this.update()}get customHover(){return this._customButtonHover}set customHover(r){this._customButtonHover=r,this.update()}get ok(){return this._ok}set ok(r){this._ok=r,this.update()}get hideInput(){return!!this._hideInput}set hideInput(r){this._hideInput=r,this.update()}trySelectFirst(){this.autoFocusOnList&&(this.canSelectMany||this.ui.list.focus(Pi.First))}show(){this.visible||(this.visibleDisposables.add(this.ui.inputBox.onDidChange(r=>{this.doSetValue(r,!0)})),this.visibleDisposables.add(this.ui.inputBox.onMouseDown(r=>{this.autoFocusOnList||this.ui.list.clearFocus()})),this.visibleDisposables.add((this._hideInput?this.ui.list:this.ui.inputBox).onKeyDown(r=>{switch(r.keyCode){case 18:this.ui.list.focus(Pi.Next),this.canSelectMany&&this.ui.list.domFocus(),on.zB.stop(r,!0);break;case 16:this.ui.list.getFocusedElements().length?this.ui.list.focus(Pi.Previous):this.ui.list.focus(Pi.Last),this.canSelectMany&&this.ui.list.domFocus(),on.zB.stop(r,!0);break;case 12:this.ui.list.focus(Pi.NextPage),this.canSelectMany&&this.ui.list.domFocus(),on.zB.stop(r,!0);break;case 11:this.ui.list.focus(Pi.PreviousPage),this.canSelectMany&&this.ui.list.domFocus(),on.zB.stop(r,!0);break;case 17:if(!this._canAcceptInBackground||!this.ui.inputBox.isSelectionAtEnd())return;this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!0));break;case 14:(r.ctrlKey||r.metaKey)&&!r.shiftKey&&!r.altKey&&(this.ui.list.focus(Pi.First),on.zB.stop(r,!0));break;case 13:(r.ctrlKey||r.metaKey)&&!r.shiftKey&&!r.altKey&&(this.ui.list.focus(Pi.Last),on.zB.stop(r,!0));break}})),this.visibleDisposables.add(this.ui.onDidAccept(()=>{this.canSelectMany?this.ui.list.getCheckedElements().length||(this._selectedItems=[],this.onDidChangeSelectionEmitter.fire(this.selectedItems)):this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems)),this.handleAccept(!1)})),this.visibleDisposables.add(this.ui.onDidCustom(()=>{this.onDidCustomEmitter.fire()})),this.visibleDisposables.add(this.ui.list.onDidChangeFocus(r=>{this.activeItemsUpdated||this.activeItemsToConfirm!==this._activeItems&&(0,ot.fS)(r,this._activeItems,(f,x)=>f===x)||(this._activeItems=r,this.onDidChangeActiveEmitter.fire(r))})),this.visibleDisposables.add(this.ui.list.onDidChangeSelection(({items:r,event:f})=>{if(this.canSelectMany){r.length&&this.ui.list.setSelectedElements([]);return}this.selectedItemsToConfirm!==this._selectedItems&&(0,ot.fS)(r,this._selectedItems,(x,Y)=>x===Y)||(this._selectedItems=r,this.onDidChangeSelectionEmitter.fire(r),r.length&&this.handleAccept(f instanceof MouseEvent&&f.button===1))})),this.visibleDisposables.add(this.ui.list.onChangedCheckedElements(r=>{!this.canSelectMany||this.selectedItemsToConfirm!==this._selectedItems&&(0,ot.fS)(r,this._selectedItems,(f,x)=>f===x)||(this._selectedItems=r,this.onDidChangeSelectionEmitter.fire(r))})),this.visibleDisposables.add(this.ui.list.onButtonTriggered(r=>this.onDidTriggerItemButtonEmitter.fire(r))),this.visibleDisposables.add(this.registerQuickNavigation()),this.valueSelectionUpdated=!0),super.show()}handleAccept(r){let f=!1;this.onWillAcceptEmitter.fire({veto:()=>f=!0}),f||this.onDidAcceptEmitter.fire({inBackground:r})}registerQuickNavigation(){return on.nm(this.ui.container,on.tw.KEY_UP,r=>{if(this.canSelectMany||!this._quickNavigate)return;const f=new js.y(r),x=f.keyCode;this._quickNavigate.keybindings.some(he=>{const[ve,$e]=he.getParts();return $e?!1:ve.shiftKey&&x===4?!(f.ctrlKey||f.altKey||f.metaKey):!!(ve.altKey&&x===6||ve.ctrlKey&&x===5||ve.metaKey&&x===57)})&&(this.activeItems[0]&&(this._selectedItems=[this.activeItems[0]],this.onDidChangeSelectionEmitter.fire(this.selectedItems),this.handleAccept(!1)),this._quickNavigate=void 0)})}update(){if(!this.visible)return;const r=this.keepScrollPosition?this.scrollTop:0,f=!!this._hideInput&&this._items.length>0;this.ui.container.classList.toggle("hidden-input",f&&!this.description);const x={title:!!this.title||!!this.step||!!this.buttons.length,description:!!this.description,checkAll:this.canSelectMany&&!this._hideCheckAll,checkBox:this.canSelectMany,inputBox:!f,progressBar:!f,visibleCount:!0,count:this.canSelectMany,ok:this.ok==="default"?this.canSelectMany:this.ok,list:!0,message:!!this.validationMessage,customButton:this.customButton};this.ui.setVisibilities(x),super.update(),this.ui.inputBox.value!==this.value&&(this.ui.inputBox.value=this.value),this.valueSelectionUpdated&&(this.valueSelectionUpdated=!1,this.ui.inputBox.select(this._valueSelection&&{start:this._valueSelection[0],end:this._valueSelection[1]})),this.ui.inputBox.placeholder!==(this.placeholder||"")&&(this.ui.inputBox.placeholder=this.placeholder||"");let Y=this.ariaLabel;if(Y||(Y=this.placeholder||sl.DEFAULT_ARIA_LABEL,this.title&&(Y+=` - ${this.title}`)),this.ui.inputBox.ariaLabel!==Y&&(this.ui.inputBox.ariaLabel=Y),this.ui.list.matchOnDescription=this.matchOnDescription,this.ui.list.matchOnDetail=this.matchOnDetail,this.ui.list.matchOnLabel=this.matchOnLabel,this.ui.list.matchOnLabelMode=this.matchOnLabelMode,this.ui.list.sortByLabel=this.sortByLabel,this.itemsUpdated)switch(this.itemsUpdated=!1,this.ui.list.setElements(this.items),this.ui.list.filter(this.filterValue(this.ui.inputBox.value)),this.ui.checkAll.checked=this.ui.list.getAllVisibleChecked(),this.ui.visibleCount.setCount(this.ui.list.getVisibleCount()),this.ui.count.setCount(this.ui.list.getCheckedCount()),this._itemActivation){case lt.jG.NONE:this._itemActivation=lt.jG.FIRST;break;case lt.jG.SECOND:this.ui.list.focus(Pi.Second),this._itemActivation=lt.jG.FIRST;break;case lt.jG.LAST:this.ui.list.focus(Pi.Last),this._itemActivation=lt.jG.FIRST;break;default:this.trySelectFirst();break}this.ui.container.classList.contains("show-checkboxes")!==!!this.canSelectMany&&(this.canSelectMany?this.ui.list.clearFocus():this.trySelectFirst()),this.activeItemsUpdated&&(this.activeItemsUpdated=!1,this.activeItemsToConfirm=this._activeItems,this.ui.list.setFocusedElements(this.activeItems),this.activeItemsToConfirm===this._activeItems&&(this.activeItemsToConfirm=null)),this.selectedItemsUpdated&&(this.selectedItemsUpdated=!1,this.selectedItemsToConfirm=this._selectedItems,this.canSelectMany?this.ui.list.setCheckedElements(this.selectedItems):this.ui.list.setSelectedElements(this.selectedItems),this.selectedItemsToConfirm===this._selectedItems&&(this.selectedItemsToConfirm=null)),this.ui.customButton.label=this.customLabel||"",this.ui.customButton.element.title=this.customHover||"",this.ui.setComboboxAccessibility(!0),x.inputBox||(this.ui.list.domFocus(),this.canSelectMany&&this.ui.list.focus(Pi.First)),this.keepScrollPosition&&(this.scrollTop=r)}}sl.DEFAULT_ARIA_LABEL=(0,m.NC)("quickInputBox.ariaLabel","Type to narrow down results.");class cd extends u.JT{constructor(r){super(),this.options=r,this.comboboxAccessibility=!1,this.enabled=!0,this.onDidAcceptEmitter=this._register(new j.Q5),this.onDidCustomEmitter=this._register(new j.Q5),this.onDidTriggerButtonEmitter=this._register(new j.Q5),this.keyMods={ctrlCmd:!1,alt:!1},this.controller=null,this.onShowEmitter=this._register(new j.Q5),this.onShow=this.onShowEmitter.event,this.onHideEmitter=this._register(new j.Q5),this.onHide=this.onHideEmitter.event,this.idPrefix=r.idPrefix,this.parentElement=r.container,this.styles=r.styles,this.registerKeyModsListeners()}registerKeyModsListeners(){const r=f=>{this.keyMods.ctrlCmd=f.ctrlKey||f.metaKey,this.keyMods.alt=f.altKey};this._register(on.nm(window,on.tw.KEY_DOWN,r,!0)),this._register(on.nm(window,on.tw.KEY_UP,r,!0)),this._register(on.nm(window,on.tw.MOUSE_DOWN,r,!0))}getUI(){if(this.ui)return this.ui;const r=on.R3(this.parentElement,wr(".quick-input-widget.show-file-icons"));r.tabIndex=-1,r.style.display="none";const f=on.dS(r),x=on.R3(r,wr(".quick-input-titlebar")),Y=this._register(new Cr.o(x));Y.domNode.classList.add("quick-input-left-action-bar");const ie=on.R3(x,wr(".quick-input-title")),he=this._register(new Cr.o(x));he.domNode.classList.add("quick-input-right-action-bar");const ve=on.R3(r,wr(".quick-input-description")),$e=on.R3(r,wr(".quick-input-header")),rt=on.R3($e,wr("input.quick-input-check-all"));rt.type="checkbox",rt.setAttribute("aria-label",(0,m.NC)("quickInput.checkAll","Toggle all checkboxes")),this._register(on.mu(rt,on.tw.CHANGE,us=>{const Qo=rt.checked;ko.setAllVisibleChecked(Qo)})),this._register(on.nm(rt,on.tw.CLICK,us=>{(us.x||us.y)&&ii.setFocus()}));const gt=on.R3($e,wr(".quick-input-description")),Ht=on.R3($e,wr(".quick-input-and-message")),xn=on.R3(Ht,wr(".quick-input-filter")),ii=this._register(new Yt(xn));ii.setAttribute("aria-describedby",`${this.idPrefix}message`);const Ki=on.R3(xn,wr(".quick-input-visible-count"));Ki.setAttribute("aria-live","polite"),Ki.setAttribute("aria-atomic","true");const gs=new ld.Z(Ki,{countFormat:(0,m.NC)({key:"quickInput.visibleCount",comment:["This tells the user how many items are shown in a list of items to select from. The items can be anything. Currently not visible, but read by screen readers."]},"{0} Results")}),ks=on.R3(xn,wr(".quick-input-count"));ks.setAttribute("aria-live","polite");const Os=new ld.Z(ks,{countFormat:(0,m.NC)({key:"quickInput.countSelected",comment:["This tells the user how many items are selected in a list of items to select from. The items can be anything."]},"{0} Selected")}),Zs=on.R3($e,wr(".quick-input-action")),Ds=new Sl(Zs);Ds.label=(0,m.NC)("ok","OK"),this._register(Ds.onDidClick(us=>{this.onDidAcceptEmitter.fire()}));const Vs=on.R3($e,wr(".quick-input-action")),la=new Sl(Vs);la.label=(0,m.NC)("custom","Custom"),this._register(la.onDidClick(us=>{this.onDidCustomEmitter.fire()}));const vc=on.R3(Ht,wr(`#${this.idPrefix}message.quick-input-message`)),ko=this._register(new vo(r,this.idPrefix+"list",this.options));this._register(ko.onChangedAllVisibleChecked(us=>{rt.checked=us})),this._register(ko.onChangedVisibleCount(us=>{gs.setCount(us)})),this._register(ko.onChangedCheckedCount(us=>{Os.setCount(us)})),this._register(ko.onLeave(()=>{setTimeout(()=>{ii.setFocus(),this.controller instanceof sl&&this.controller.canSelectMany&&ko.clearFocus()},0)})),this._register(ko.onDidChangeFocus(()=>{this.comboboxAccessibility&&this.getUI().inputBox.setAttribute("aria-activedescendant",this.getUI().list.getActiveDescendant()||"")}));const bd=new ce(r);bd.getContainer().classList.add("quick-input-progress");const Qs=on.go(r);return this._register(Qs),this._register(on.nm(r,on.tw.FOCUS,us=>{this.previousFocusElement=us.relatedTarget instanceof HTMLElement?us.relatedTarget:void 0},!0)),this._register(Qs.onDidBlur(()=>{!this.getUI().ignoreFocusOut&&!this.options.ignoreFocusOut()&&this.hide(lt.Jq.Blur),this.previousFocusElement=void 0})),this._register(on.nm(r,on.tw.FOCUS,us=>{ii.setFocus()})),this._register(on.nm(r,on.tw.KEY_DOWN,us=>{const Qo=new js.y(us);switch(Qo.keyCode){case 3:on.zB.stop(us,!0),this.onDidAcceptEmitter.fire();break;case 9:on.zB.stop(us,!0),this.hide(lt.Jq.Gesture);break;case 2:if(!Qo.altKey&&!Qo.ctrlKey&&!Qo.metaKey){const Gc=[".action-label.codicon"];r.classList.contains("show-checkboxes")?Gc.push("input"):Gc.push("input[type=text]"),this.getUI().list.isDisplayed()&&Gc.push(".monaco-list");const wd=r.querySelectorAll(Gc.join(", "));Qo.shiftKey&&Qo.target===wd[0]?(on.zB.stop(us,!0),wd[wd.length-1].focus()):!Qo.shiftKey&&Qo.target===wd[wd.length-1]&&(on.zB.stop(us,!0),wd[0].focus())}break}})),this.ui={container:r,styleSheet:f,leftActionBar:Y,titleBar:x,title:ie,description1:ve,description2:gt,rightActionBar:he,checkAll:rt,filterContainer:xn,inputBox:ii,visibleCountContainer:Ki,visibleCount:gs,countContainer:ks,count:Os,okContainer:Zs,ok:Ds,message:vc,customButtonContainer:Vs,customButton:la,list:ko,progressBar:bd,onDidAccept:this.onDidAcceptEmitter.event,onDidCustom:this.onDidCustomEmitter.event,onDidTriggerButton:this.onDidTriggerButtonEmitter.event,ignoreFocusOut:!1,keyMods:this.keyMods,isScreenReaderOptimized:()=>this.options.isScreenReaderOptimized(),show:us=>this.show(us),hide:()=>this.hide(),setVisibilities:us=>this.setVisibilities(us),setComboboxAccessibility:us=>this.setComboboxAccessibility(us),setEnabled:us=>this.setEnabled(us),setContextKey:us=>this.options.setContextKey(us)},this.updateStyles(),this.ui}pick(r,f={},x=d.T.None){return new Promise((Y,ie)=>{let he=gt=>{var Ht;he=Y,(Ht=f.onKeyMods)===null||Ht===void 0||Ht.call(f,ve.keyMods),Y(gt)};if(x.isCancellationRequested){he(void 0);return}const ve=this.createQuickPick();let $e;const rt=[ve,ve.onDidAccept(()=>{if(ve.canSelectMany)he(ve.selectedItems.slice()),ve.hide();else{const gt=ve.activeItems[0];gt&&(he(gt),ve.hide())}}),ve.onDidChangeActive(gt=>{const Ht=gt[0];Ht&&f.onDidFocus&&f.onDidFocus(Ht)}),ve.onDidChangeSelection(gt=>{if(!ve.canSelectMany){const Ht=gt[0];Ht&&(he(Ht),ve.hide())}}),ve.onDidTriggerItemButton(gt=>f.onDidTriggerItemButton&&f.onDidTriggerItemButton(Object.assign(Object.assign({},gt),{removeItem:()=>{const Ht=ve.items.indexOf(gt.item);if(Ht!==-1){const xn=ve.items.slice(),ii=xn.splice(Ht,1),Ki=ve.activeItems.filter(ks=>ks!==ii[0]),gs=ve.keepScrollPosition;ve.keepScrollPosition=!0,ve.items=xn,Ki&&(ve.activeItems=Ki),ve.keepScrollPosition=gs}}}))),ve.onDidChangeValue(gt=>{$e&&!gt&&(ve.activeItems.length!==1||ve.activeItems[0]!==$e)&&(ve.activeItems=[$e])}),x.onCancellationRequested(()=>{ve.hide()}),ve.onDidHide(()=>{(0,u.B9)(rt),he(void 0)})];ve.title=f.title,ve.canSelectMany=!!f.canPickMany,ve.placeholder=f.placeHolder,ve.ignoreFocusOut=!!f.ignoreFocusLost,ve.matchOnDescription=!!f.matchOnDescription,ve.matchOnDetail=!!f.matchOnDetail,ve.matchOnLabel=f.matchOnLabel===void 0||f.matchOnLabel,ve.autoFocusOnList=f.autoFocusOnList===void 0||f.autoFocusOnList,ve.quickNavigate=f.quickNavigate,ve.hideInput=!!f.hideInput,ve.contextKey=f.contextKey,ve.busy=!0,Promise.all([r,f.activeItem]).then(([gt,Ht])=>{$e=Ht,ve.busy=!1,ve.items=gt,ve.canSelectMany&&(ve.selectedItems=gt.filter(xn=>xn.type!=="separator"&&xn.picked)),$e&&(ve.activeItems=[$e])}),ve.show(),Promise.resolve(r).then(void 0,gt=>{ie(gt),ve.hide()})})}createQuickPick(){const r=this.getUI();return new sl(r)}show(r){const f=this.getUI();this.onShowEmitter.fire();const x=this.controller;this.controller=r,x&&x.didHide(),this.setEnabled(!0),f.leftActionBar.clear(),f.title.textContent="",f.description1.textContent="",f.description2.textContent="",f.rightActionBar.clear(),f.checkAll.checked=!1,f.inputBox.placeholder="",f.inputBox.password=!1,f.inputBox.showDecoration(F.Z.Ignore),f.visibleCount.setCount(0),f.count.setCount(0),on.mc(f.message),f.progressBar.stop(),f.list.setElements([]),f.list.matchOnDescription=!1,f.list.matchOnDetail=!1,f.list.matchOnLabel=!0,f.list.sortByLabel=!0,f.ignoreFocusOut=!1,this.setComboboxAccessibility(!1),f.inputBox.ariaLabel="";const Y=this.options.backKeybindingLabel();Wd.tooltip=Y?(0,m.NC)("quickInput.backWithKeybinding","Back ({0})",Y):(0,m.NC)("quickInput.back","Back"),f.container.style.display="",this.updateLayout(),f.inputBox.setFocus()}setVisibilities(r){const f=this.getUI();f.title.style.display=r.title?"":"none",f.description1.style.display=r.description&&(r.inputBox||r.checkAll)?"":"none",f.description2.style.display=r.description&&!(r.inputBox||r.checkAll)?"":"none",f.checkAll.style.display=r.checkAll?"":"none",f.filterContainer.style.display=r.inputBox?"":"none",f.visibleCountContainer.style.display=r.visibleCount?"":"none",f.countContainer.style.display=r.count?"":"none",f.okContainer.style.display=r.ok?"":"none",f.customButtonContainer.style.display=r.customButton?"":"none",f.message.style.display=r.message?"":"none",f.progressBar.getContainer().style.display=r.progressBar?"":"none",f.list.display(!!r.list),f.container.classList[r.checkBox?"add":"remove"]("show-checkboxes"),this.updateLayout()}setComboboxAccessibility(r){if(r!==this.comboboxAccessibility){const f=this.getUI();this.comboboxAccessibility=r,this.comboboxAccessibility?(f.inputBox.setAttribute("role","combobox"),f.inputBox.setAttribute("aria-haspopup","true"),f.inputBox.setAttribute("aria-autocomplete","list"),f.inputBox.setAttribute("aria-activedescendant",f.list.getActiveDescendant()||"")):(f.inputBox.removeAttribute("role"),f.inputBox.removeAttribute("aria-haspopup"),f.inputBox.removeAttribute("aria-autocomplete"),f.inputBox.removeAttribute("aria-activedescendant"))}}setEnabled(r){if(r!==this.enabled){this.enabled=r;for(const f of this.getUI().leftActionBar.viewItems)f.getAction().enabled=r;for(const f of this.getUI().rightActionBar.viewItems)f.getAction().enabled=r;this.getUI().checkAll.disabled=!r,this.getUI().ok.enabled=r,this.getUI().list.enabled=r}}hide(r){var f;const x=this.controller;if(x){const Y=!(!((f=this.ui)===null||f===void 0)&&f.container.contains(document.activeElement));if(this.controller=null,this.onHideEmitter.fire(),this.getUI().container.style.display="none",!Y){let ie=this.previousFocusElement;for(;ie&&!ie.offsetParent;)ie=(0,le.f6)(ie.parentElement);ie!=null&&ie.offsetParent?(ie.focus(),this.previousFocusElement=void 0):this.options.returnFocus()}x.didHide(r)}}layout(r,f){this.dimension=r,this.titleBarOffset=f,this.updateLayout()}updateLayout(){if(this.ui){this.ui.container.style.top=`${this.titleBarOffset}px`;const r=this.ui.container.style,f=Math.min(this.dimension.width*.62,cd.MAX_WIDTH);r.width=f+"px",r.marginLeft="-"+f/2+"px",this.ui.inputBox.layout(),this.ui.list.layout(this.dimension&&this.dimension.height*.4)}}applyStyles(r){this.styles=r,this.updateStyles()}updateStyles(){if(this.ui){const{quickInputTitleBackground:r,quickInputBackground:f,quickInputForeground:x,contrastBorder:Y,widgetShadow:ie}=this.styles.widget;this.ui.titleBar.style.backgroundColor=r?r.toString():"",this.ui.container.style.backgroundColor=f?f.toString():"",this.ui.container.style.color=x?x.toString():"",this.ui.container.style.border=Y?`1px solid ${Y}`:"",this.ui.container.style.boxShadow=ie?`0 0 8px 2px ${ie}`:"",this.ui.inputBox.style(this.styles.inputBox),this.ui.count.style(this.styles.countBadge),this.ui.ok.style(this.styles.button),this.ui.customButton.style(this.styles.button),this.ui.progressBar.style(this.styles.progressBar),this.ui.list.style(this.styles.list);const he=[];this.styles.list.pickerGroupBorder&&he.push(`.quick-input-list .quick-input-list-entry { border-top-color:  ${this.styles.list.pickerGroupBorder}; }`),this.styles.list.pickerGroupForeground&&he.push(`.quick-input-list .quick-input-list-separator { color:  ${this.styles.list.pickerGroupForeground}; }`),(this.styles.keybindingLabel.keybindingLabelBackground||this.styles.keybindingLabel.keybindingLabelBorder||this.styles.keybindingLabel.keybindingLabelBottomBorder||this.styles.keybindingLabel.keybindingLabelShadow||this.styles.keybindingLabel.keybindingLabelForeground)&&(he.push(".quick-input-list .monaco-keybinding > .monaco-keybinding-key {"),this.styles.keybindingLabel.keybindingLabelBackground&&he.push(`background-color: ${this.styles.keybindingLabel.keybindingLabelBackground};`),this.styles.keybindingLabel.keybindingLabelBorder&&he.push(`border-color: ${this.styles.keybindingLabel.keybindingLabelBorder};`),this.styles.keybindingLabel.keybindingLabelBottomBorder&&he.push(`border-bottom-color: ${this.styles.keybindingLabel.keybindingLabelBottomBorder};`),this.styles.keybindingLabel.keybindingLabelShadow&&he.push(`box-shadow: inset 0 -1px 0 ${this.styles.keybindingLabel.keybindingLabelShadow};`),this.styles.keybindingLabel.keybindingLabelForeground&&he.push(`color: ${this.styles.keybindingLabel.keybindingLabelForeground};`),he.push("}"));const ve=he.join(`
`);ve!==this.ui.styleSheet.textContent&&(this.ui.styleSheet.textContent=ve)}}}cd.MAX_WIDTH=600;var zl=l(81531),Vd=l(48466),Nu=l(88845),Hd=l(47279),ol=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},zd=function(pe,r){return function(f,x){r(f,x,pe)}};let rc=class extends u.JT{constructor(r,f){super(),this.quickInputService=r,this.instantiationService=f,this.registry=ql.B.as(Nu.IP.Quickaccess),this.mapProviderToDescriptor=new Map,this.lastAcceptedPickerValues=new Map,this.visibleQuickAccess=void 0}show(r="",f){this.doShowOrPick(r,!1,f)}doShowOrPick(r,f,x){var Y;const[ie,he]=this.getOrInstantiateProvider(r),ve=this.visibleQuickAccess,$e=ve==null?void 0:ve.descriptor;if(ve&&he&&$e===he){r!==he.prefix&&!(x!=null&&x.preserveValue)&&(ve.picker.value=r),this.adjustValueSelection(ve.picker,he,x);return}if(he&&!(x!=null&&x.preserveValue)){let ii;if(ve&&$e&&$e!==he){const Ki=ve.value.substr($e.prefix.length);Ki&&(ii=`${he.prefix}${Ki}`)}if(!ii){const Ki=ie==null?void 0:ie.defaultFilterValue;Ki===Nu.Ry.LAST?ii=this.lastAcceptedPickerValues.get(he):typeof Ki=="string"&&(ii=`${he.prefix}${Ki}`)}typeof ii=="string"&&(r=ii)}const rt=new u.SL,gt=rt.add(this.quickInputService.createQuickPick());gt.value=r,this.adjustValueSelection(gt,he,x),gt.placeholder=he==null?void 0:he.placeholder,gt.quickNavigate=x==null?void 0:x.quickNavigateConfiguration,gt.hideInput=!!gt.quickNavigate&&!ve,(typeof(x==null?void 0:x.itemActivation)=="number"||(x==null?void 0:x.quickNavigateConfiguration))&&(gt.itemActivation=(Y=x==null?void 0:x.itemActivation)!==null&&Y!==void 0?Y:Hd.jG.SECOND),gt.contextKey=he==null?void 0:he.contextKey,gt.filterValue=ii=>ii.substring(he?he.prefix.length:0),he!=null&&he.placeholder&&(gt.ariaLabel=he==null?void 0:he.placeholder);let Ht;f&&(Ht=new te.CR,rt.add((0,Vd.I)(gt.onWillAccept)(ii=>{ii.veto(),gt.hide()}))),rt.add(this.registerPickerListeners(gt,ie,he,r));const xn=rt.add(new d.A);if(ie&&rt.add(ie.provide(gt,xn.token)),(0,Vd.I)(gt.onDidHide)(()=>{gt.selectedItems.length===0&&xn.cancel(),rt.dispose(),Ht==null||Ht.complete(gt.selectedItems.slice(0))}),gt.show(),f)return Ht==null?void 0:Ht.p}adjustValueSelection(r,f,x){var Y;let ie;x!=null&&x.preserveValue?ie=[r.value.length,r.value.length]:ie=[(Y=f==null?void 0:f.prefix.length)!==null&&Y!==void 0?Y:0,r.value.length],r.valueSelection=ie}registerPickerListeners(r,f,x,Y){const ie=new u.SL,he=this.visibleQuickAccess={picker:r,descriptor:x,value:Y};return ie.add((0,u.OF)(()=>{he===this.visibleQuickAccess&&(this.visibleQuickAccess=void 0)})),ie.add(r.onDidChangeValue(ve=>{const[$e]=this.getOrInstantiateProvider(ve);$e!==f?this.show(ve,{preserveValue:!0}):he.value=ve})),x&&ie.add(r.onDidAccept(()=>{this.lastAcceptedPickerValues.set(x,r.value)})),ie}getOrInstantiateProvider(r){const f=this.registry.getQuickAccessProvider(r);if(!f)return[void 0,void 0];let x=this.mapProviderToDescriptor.get(f);return x||(x=this.instantiationService.createInstance(f.ctor),this.mapProviderToDescriptor.set(f,x)),[x,f]}};rc=ol([zd(0,Hd.eJ),zd(1,si.TG)],rc);var Th=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},Pc=function(pe,r){return function(f,x){r(f,x,pe)}};let Oc=class extends zs.bB{constructor(r,f,x,Y,ie){super(x),this.instantiationService=r,this.contextKeyService=f,this.accessibilityService=Y,this.layoutService=ie,this.contexts=new Map}get controller(){return this._controller||(this._controller=this._register(this.createController())),this._controller}get quickAccess(){return this._quickAccess||(this._quickAccess=this._register(this.instantiationService.createInstance(rc))),this._quickAccess}createController(r=this.layoutService,f){const x={idPrefix:"quickInput_",container:r.container,ignoreFocusOut:()=>!1,isScreenReaderOptimized:()=>this.accessibilityService.isScreenReaderOptimized(),backKeybindingLabel:()=>{},setContextKey:ie=>this.setContextKey(ie),returnFocus:()=>r.focus(),createList:(ie,he,ve,$e,rt)=>this.instantiationService.createInstance(zl.ev,ie,he,ve,$e,rt),styles:this.computeStyles()},Y=this._register(new cd(Object.assign(Object.assign({},x),f)));return Y.layout(r.dimension,r.offset.quickPickTop),this._register(r.onDidLayout(ie=>Y.layout(ie,r.offset.quickPickTop))),this._register(Y.onShow(()=>this.resetContextKeys())),this._register(Y.onHide(()=>this.resetContextKeys())),Y}setContextKey(r){let f;r&&(f=this.contexts.get(r),f||(f=new es.uy(r,!1).bindTo(this.contextKeyService),this.contexts.set(r,f))),!(f&&f.get())&&(this.resetContextKeys(),f==null||f.set(!0))}resetContextKeys(){this.contexts.forEach(r=>{r.get()&&r.reset()})}pick(r,f={},x=d.T.None){return this.controller.pick(r,f,x)}createQuickPick(){return this.controller.createQuickPick()}updateStyles(){this.controller.applyStyles(this.computeStyles())}computeStyles(){return{widget:Object.assign({},(0,ta.o)(this.theme,{quickInputBackground:Bs.zKr,quickInputForeground:Bs.tZ6,quickInputTitleBackground:Bs.loF,contrastBorder:Bs.lRK,widgetShadow:Bs.rh})),inputBox:(0,ta.o)(this.theme,{inputForeground:Bs.zJb,inputBackground:Bs.sEe,inputBorder:Bs.dt_,inputValidationInfoBackground:Bs._lC,inputValidationInfoForeground:Bs.YI3,inputValidationInfoBorder:Bs.EPQ,inputValidationWarningBackground:Bs.RV_,inputValidationWarningForeground:Bs.SUG,inputValidationWarningBorder:Bs.C3g,inputValidationErrorBackground:Bs.paE,inputValidationErrorForeground:Bs._t9,inputValidationErrorBorder:Bs.OZR}),countBadge:(0,ta.o)(this.theme,{badgeBackground:Bs.g8u,badgeForeground:Bs.qeD,badgeBorder:Bs.lRK}),button:(0,ta.o)(this.theme,{buttonForeground:Bs.j5u,buttonBackground:Bs.b7$,buttonHoverBackground:Bs.GO4,buttonBorder:Bs.lRK}),progressBar:(0,ta.o)(this.theme,{progressBarBackground:Bs.zRJ}),keybindingLabel:(0,ta.o)(this.theme,{keybindingLabelBackground:Bs.oQ$,keybindingLabelForeground:Bs.lWp,keybindingLabelBorder:Bs.AWI,keybindingLabelBottomBorder:Bs.K19,keybindingLabelShadow:Bs.rh}),list:(0,ta.o)(this.theme,{listBackground:Bs.zKr,listInactiveFocusForeground:Bs.NPS,listInactiveSelectionIconForeground:Bs.cbQ,listInactiveFocusBackground:Bs.Vqd,listFocusOutline:Bs.xL1,listInactiveFocusOutline:Bs.xL1,pickerGroupBorder:Bs.opG,pickerGroupForeground:Bs.kJk})}}};Oc=Th([Pc(0,si.TG),Pc(1,es.i6),Pc(2,zs.XE),Pc(3,il.F),Pc(4,ns)],Oc);var Tu=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},ma=function(pe,r){return function(f,x){r(f,x,pe)}};let dd=class extends Oc{constructor(r,f,x,Y,ie,he){super(f,x,Y,ie,new k(r.getContainerDomNode(),he)),this.host=void 0;const ve=na.get(r);if(ve){const $e=ve.widget;this.host={_serviceBrand:void 0,get hasContainer(){return!0},get container(){return $e.getDomNode()},get dimension(){return r.getLayoutInfo()},get onDidLayout(){return r.onDidLayoutChange},focus:()=>r.focus(),offset:{top:0,quickPickTop:0}}}else this.host=void 0}createController(){return super.createController(this.host)}};dd=Tu([ma(1,si.TG),ma(2,es.i6),ma(3,zs.XE),ma(4,il.F),ma(5,D.$)],dd);let rl=class{constructor(r,f){this.instantiationService=r,this.codeEditorService=f,this.mapEditorToService=new Map}get activeService(){const r=this.codeEditorService.getFocusedCodeEditor();if(!r)throw new Error("Quick input service needs a focused editor to work.");let f=this.mapEditorToService.get(r);if(!f){const x=f=this.instantiationService.createInstance(dd,r);this.mapEditorToService.set(r,f),(0,Vd.I)(r.onDidDispose)(()=>{x.dispose(),this.mapEditorToService.delete(r)})}return f}get quickAccess(){return this.activeService.quickAccess}pick(r,f={},x=d.T.None){return this.activeService.pick(r,f,x)}createQuickPick(){return this.activeService.createQuickPick()}};rl=Tu([ma(0,si.TG),ma(1,D.$)],rl);class na{constructor(r){this.editor=r,this.widget=new Ta(this.editor)}static get(r){return r.getContribution(na.ID)}dispose(){this.widget.dispose()}}na.ID="editor.controller.quickInput";class Ta{constructor(r){this.codeEditor=r,this.domNode=document.createElement("div"),this.codeEditor.addOverlayWidget(this)}getId(){return Ta.ID}getDomNode(){return this.domNode}getPosition(){return{preference:2}}dispose(){this.codeEditor.removeOverlayWidget(this)}}Ta.ID="editor.contrib.quickInputWidget",(0,Rc._K)(na.ID,na);var ku=l(14651),Sr=l(83598),Ud=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},ac=function(pe,r){return function(f,x){r(f,x,pe)}};let Fc=class extends u.JT{constructor(r,f,x){super(),this._contextKeyService=r,this._layoutService=f,this._configurationService=x,this._accessibilitySupport=0,this._onDidChangeScreenReaderOptimized=new j.Q5,this._onDidChangeReducedMotion=new j.Q5,this._accessibilityModeEnabledContext=il.U.bindTo(this._contextKeyService);const Y=()=>this._accessibilityModeEnabledContext.set(this.isScreenReaderOptimized());this._register(this._configurationService.onDidChangeConfiguration(he=>{he.affectsConfiguration("editor.accessibilitySupport")&&(Y(),this._onDidChangeScreenReaderOptimized.fire()),he.affectsConfiguration("workbench.reduceMotion")&&(this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this._onDidChangeReducedMotion.fire())})),Y(),this._register(this.onDidChangeScreenReaderOptimized(()=>Y()));const ie=window.matchMedia("(prefers-reduced-motion: reduce)");this._systemMotionReduced=ie.matches,this._configMotionReduced=this._configurationService.getValue("workbench.reduceMotion"),this.initReducedMotionListeners(ie)}initReducedMotionListeners(r){if(!this._layoutService.hasContainer)return;this._register((0,on.nm)(r,"change",()=>{this._systemMotionReduced=r.matches,this._configMotionReduced==="auto"&&this._onDidChangeReducedMotion.fire()}));const f=()=>{const x=this.isMotionReduced();this._layoutService.container.classList.toggle("reduce-motion",x),this._layoutService.container.classList.toggle("enable-motion",!x)};f(),this._register(this.onDidChangeReducedMotion(()=>f()))}get onDidChangeScreenReaderOptimized(){return this._onDidChangeScreenReaderOptimized.event}isScreenReaderOptimized(){const r=this._configurationService.getValue("editor.accessibilitySupport");return r==="on"||r==="auto"&&this._accessibilitySupport===2}get onDidChangeReducedMotion(){return this._onDidChangeReducedMotion.event}isMotionReduced(){const r=this._configMotionReduced;return r==="on"||r==="auto"&&this._systemMotionReduced}getAccessibilitySupport(){return this._accessibilitySupport}};Fc=Ud([ac(0,es.i6),ac(1,ns),ac(2,Tt.Ui)],Fc);var ur=l(55863),Bc=l(12751),Ul=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},yl=function(pe,r){return function(f,x){r(f,x,pe)}};let Ll=class{constructor(r,f){this._commandService=r,this._hiddenStates=new Wc(f)}createMenu(r,f,x){return new ud(r,this._hiddenStates,Object.assign({emitEventsForSubmenuChanges:!1,eventDebounceDelay:50},x),this._commandService,f,this)}};Ll=Ul([yl(0,Ss.Hy),yl(1,Bc.Uy)],Ll);let Wc=class Kf{constructor(r){this._storageService=r,this._disposables=new u.SL,this._onDidChange=new j.Q5,this.onDidChange=this._onDidChange.event,this._ignoreChangeEvent=!1;try{const f=r.get(Kf._key,0,"{}");this._data=JSON.parse(f)}catch(f){this._data=Object.create(null)}this._disposables.add(r.onDidChangeValue(f=>{if(f.key===Kf._key){if(!this._ignoreChangeEvent)try{const x=r.get(Kf._key,0,"{}");this._data=JSON.parse(x)}catch(x){console.log("FAILED to read storage after UPDATE",x)}this._onDidChange.fire()}}))}dispose(){this._onDidChange.dispose(),this._disposables.dispose()}isHidden(r,f){var x,Y;return(Y=(x=this._data[r.id])===null||x===void 0?void 0:x.includes(f))!==null&&Y!==void 0?Y:!1}updateHidden(r,f,x){const Y=this._data[r.id];if(x)Y?Y.indexOf(f)<0&&Y.push(f):this._data[r.id]=[f];else if(Y){const ie=Y.indexOf(f);ie>=0&&(0,ot.LS)(Y,ie),Y.length===0&&delete this._data[r.id]}this._persist()}_persist(){try{this._ignoreChangeEvent=!0;const r=JSON.stringify(this._data);this._storageService.store(Kf._key,r,0,0)}finally{this._ignoreChangeEvent=!1}}};Wc._key="menu.hiddenCommands",Wc=Ul([yl(0,Bc.Uy)],Wc);let ud=class Ih{constructor(r,f,x,Y,ie,he){this._id=r,this._hiddenStates=f,this._options=x,this._commandService=Y,this._contextKeyService=ie,this._menuService=he,this._disposables=new u.SL,this._menuGroups=[],this._contextKeys=new Set,this._build();const ve=new te.pY(()=>{this._build(),this._onDidChange.fire(this)},x.eventDebounceDelay);this._disposables.add(ve),this._disposables.add(ur.BH.onDidChangeMenu(gt=>{gt.has(r)&&ve.schedule()}));const $e=this._disposables.add(new u.SL),rt=()=>{const gt=new te.pY(()=>this._onDidChange.fire(this),x.eventDebounceDelay);$e.add(gt),$e.add(ie.onDidChangeContext(Ht=>{Ht.affectsSome(this._contextKeys)&&gt.schedule()})),$e.add(f.onDidChange(()=>{gt.schedule()}))};this._onDidChange=new j.Q5({onFirstListenerAdd:rt,onLastListenerRemove:$e.clear.bind($e)}),this.onDidChange=this._onDidChange.event}dispose(){this._disposables.dispose(),this._onDidChange.dispose()}_build(){this._menuGroups.length=0,this._contextKeys.clear();const r=ur.BH.getMenuItems(this._id);let f;r.sort(Ih._compareMenuItems);for(const x of r){const Y=x.group||"";(!f||f[0]!==Y)&&(f=[Y,[]],this._menuGroups.push(f)),f[1].push(x),this._collectContextKeys(x)}}_collectContextKeys(r){if(Ih._fillInKbExprKeys(r.when,this._contextKeys),(0,ur.vr)(r)){if(r.command.precondition&&Ih._fillInKbExprKeys(r.command.precondition,this._contextKeys),r.command.toggled){const f=r.command.toggled.condition||r.command.toggled;Ih._fillInKbExprKeys(f,this._contextKeys)}}else this._options.emitEventsForSubmenuChanges&&ur.BH.getMenuItems(r.submenu).forEach(this._collectContextKeys,this)}getActions(r){const f=[],x=[];for(const Y of this._menuGroups){const[ie,he]=Y,ve=[],$e=[];for(const rt of he)if(this._contextKeyService.contextMatchesRules(rt.when)){let gt;if((0,ur.vr)(rt)){const xn=hd(this._id,rt.command,this._hiddenStates);gt=new ur.U8(rt.command,rt.alt,r,xn,this._contextKeyService,this._commandService)}else gt=new ur.NZ(rt,this._menuService,this._contextKeyService,r),gt.actions.length===0&&(gt.dispose(),gt=void 0);gt&&$e.push(gt)}$e.length>0&&f.push([ie,$e]),ve.length>0&&x.push(ve)}return f}static _fillInKbExprKeys(r,f){if(r)for(const x of r.keys())f.add(x)}static _compareMenuItems(r,f){const x=r.group,Y=f.group;if(x!==Y){if(x){if(!Y)return-1}else return 1;if(x==="navigation")return-1;if(Y==="navigation")return 1;const ve=x.localeCompare(Y);if(ve!==0)return ve}const ie=r.order||0,he=f.order||0;return ie<he?-1:ie>he?1:Ih._compareTitles((0,ur.vr)(r)?r.command.title:r.title,(0,ur.vr)(f)?f.command.title:f.title)}static _compareTitles(r,f){const x=typeof r=="string"?r:r.original,Y=typeof f=="string"?f:f.original;return x.localeCompare(Y)}};ud=Ul([yl(3,Ss.Hy),yl(4,es.i6),yl(5,ur.co)],ud);function hd(pe,r,f){const x=`${pe.id}/${r.id}`,Y=typeof r.title=="string"?r.title:r.title.value,ie=(0,br.xw)({id:x,label:(0,m.NC)("hide.label","Hide '{0}'",Y),run(){f.updateHidden(pe,r.id,!0)}}),he=(0,br.xw)({id:x,label:Y,get checked(){return!f.isHidden(pe,r.id)},run(){const ve=!f.isHidden(pe,r.id);f.updateHidden(pe,r.id,ve)}});return{hide:ie,toggle:he,get isHidden(){return!he.checked}}}var El=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},ia=function(pe,r){return function(f,x){r(f,x,pe)}},Dl=function(pe,r,f,x){function Y(ie){return ie instanceof f?ie:new f(function(he){he(ie)})}return new(f||(f=Promise))(function(ie,he){function ve(gt){try{rt(x.next(gt))}catch(Ht){he(Ht)}}function $e(gt){try{rt(x.throw(gt))}catch(Ht){he(Ht)}}function rt(gt){gt.done?ie(gt.value):Y(gt.value).then(ve,$e)}rt((x=x.apply(pe,r||[])).next())})};let Vc=class extends u.JT{constructor(r,f){super(),this.layoutService=r,this.logService=f,this.mapTextToType=new Map,this.findText="",this.resources=[],(Fl.isSafari||Fl.isWebkitWebView)&&this.installWebKitWriteTextWorkaround()}installWebKitWriteTextWorkaround(){const r=()=>{const f=new te.CR;this.webKitPendingClipboardWritePromise&&!this.webKitPendingClipboardWritePromise.isSettled&&this.webKitPendingClipboardWritePromise.cancel(),this.webKitPendingClipboardWritePromise=f,navigator.clipboard.write([new ClipboardItem({"text/plain":f.p})]).catch(x=>Dl(this,void 0,void 0,function*(){(!(x instanceof Error)||x.name!=="NotAllowedError"||!f.isRejected)&&this.logService.error(x)}))};this.layoutService.hasContainer&&(this._register((0,on.nm)(this.layoutService.container,"click",r)),this._register((0,on.nm)(this.layoutService.container,"keydown",r)))}writeText(r,f){return Dl(this,void 0,void 0,function*(){if(f){this.mapTextToType.set(f,r);return}if(this.webKitPendingClipboardWritePromise)return this.webKitPendingClipboardWritePromise.complete(r);try{return yield navigator.clipboard.writeText(r)}catch(ie){console.error(ie)}const x=document.activeElement,Y=document.body.appendChild((0,on.$)("textarea",{"aria-hidden":!0}));Y.style.height="1px",Y.style.width="1px",Y.style.position="absolute",Y.value=r,Y.focus(),Y.select(),document.execCommand("copy"),x instanceof HTMLElement&&x.focus(),document.body.removeChild(Y)})}readText(r){return Dl(this,void 0,void 0,function*(){if(r)return this.mapTextToType.get(r)||"";try{return yield navigator.clipboard.readText()}catch(f){return console.error(f),""}})}readFindText(){return Dl(this,void 0,void 0,function*(){return this.findText})}writeFindText(r){return Dl(this,void 0,void 0,function*(){this.findText=r})}readResources(){return Dl(this,void 0,void 0,function*(){return this.resources})}};Vc=El([ia(0,ns),ia(1,Rt.VZ)],Vc);var fd=l(61022),al=l(37371),jd=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},Kd=function(pe,r){return function(f,x){r(f,x,pe)}};const xl="data-keybinding-context";class Hc{constructor(r,f){this._id=r,this._parent=f,this._value=Object.create(null),this._value._contextId=r}get value(){return Object.assign({},this._value)}setValue(r,f){return this._value[r]!==f?(this._value[r]=f,!0):!1}removeValue(r){return r in this._value?(delete this._value[r],!0):!1}getValue(r){const f=this._value[r];return typeof f=="undefined"&&this._parent?this._parent.getValue(r):f}}class jl extends Hc{constructor(){super(-1,null)}setValue(r,f){return!1}removeValue(r){return!1}getValue(r){}}jl.INSTANCE=new jl;class Tr extends Hc{constructor(r,f,x){super(r,null),this._configurationService=f,this._values=Ao.Id.forConfigKeys(),this._listener=this._configurationService.onDidChangeConfiguration(Y=>{if(Y.source===7){const ie=Array.from(al.$.map(this._values,([he])=>he));this._values.clear(),x.fire(new Kl(ie))}else{const ie=[];for(const he of Y.affectedKeys){const ve=`config.${he}`,$e=this._values.findSuperstr(ve);$e!==void 0&&(ie.push(...al.$.map($e,([rt])=>rt)),this._values.deleteSuperstr(ve)),this._values.has(ve)&&(ie.push(ve),this._values.delete(ve))}x.fire(new Kl(ie))}})}dispose(){this._listener.dispose()}getValue(r){if(r.indexOf(Tr._keyPrefix)!==0)return super.getValue(r);if(this._values.has(r))return this._values.get(r);const f=r.substr(Tr._keyPrefix.length),x=this._configurationService.getValue(f);let Y;switch(typeof x){case"number":case"boolean":case"string":Y=x;break;default:Array.isArray(x)?Y=JSON.stringify(x):Y=x}return this._values.set(r,Y),Y}setValue(r,f){return super.setValue(r,f)}removeValue(r){return super.removeValue(r)}}Tr._keyPrefix="config.";class zc{constructor(r,f,x){this._service=r,this._key=f,this._defaultValue=x,this.reset()}set(r){this._service.setContext(this._key,r)}reset(){typeof this._defaultValue=="undefined"?this._service.removeContext(this._key):this._service.setContext(this._key,this._defaultValue)}get(){return this._service.getContextKeyValue(this._key)}}class sa{constructor(r){this.key=r}affectsSome(r){return r.has(this.key)}allKeysContainedIn(r){return this.affectsSome(r)}}class Kl{constructor(r){this.keys=r}affectsSome(r){for(const f of this.keys)if(r.has(f))return!0;return!1}allKeysContainedIn(r){return this.keys.every(f=>r.has(f))}}class Mu{constructor(r){this.events=r}affectsSome(r){for(const f of this.events)if(f.affectsSome(r))return!0;return!1}allKeysContainedIn(r){return this.events.every(f=>f.allKeysContainedIn(r))}}function Ru(pe,r){return pe.allKeysContainedIn(new Set(Object.keys(r)))}class Au{constructor(r){this._onDidChangeContext=new j.K3({merge:f=>new Mu(f)}),this.onDidChangeContext=this._onDidChangeContext.event,this._isDisposed=!1,this._myContextId=r}createKey(r,f){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new zc(this,r,f)}bufferChangeEvents(r){this._onDidChangeContext.pause();try{r()}finally{this._onDidChangeContext.resume()}}createScoped(r){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");return new Ue(this,r)}contextMatchesRules(r){if(this._isDisposed)throw new Error("AbstractContextKeyService has been disposed");const f=this.getContextValuesContainer(this._myContextId);return r?r.evaluate(f):!0}getContextKeyValue(r){if(!this._isDisposed)return this.getContextValuesContainer(this._myContextId).getValue(r)}setContext(r,f){if(this._isDisposed)return;const x=this.getContextValuesContainer(this._myContextId);!x||x.setValue(r,f)&&this._onDidChangeContext.fire(new sa(r))}removeContext(r){this._isDisposed||this.getContextValuesContainer(this._myContextId).removeValue(r)&&this._onDidChangeContext.fire(new sa(r))}getContext(r){return this._isDisposed?jl.INSTANCE:this.getContextValuesContainer(De(r))}}let gd=class extends Au{constructor(r){super(0),this._contexts=new Map,this._toDispose=new u.SL,this._lastContextId=0;const f=new Tr(this._myContextId,r,this._onDidChangeContext);this._contexts.set(this._myContextId,f),this._toDispose.add(f)}dispose(){this._onDidChangeContext.dispose(),this._isDisposed=!0,this._toDispose.dispose()}getContextValuesContainer(r){return this._isDisposed?jl.INSTANCE:this._contexts.get(r)||jl.INSTANCE}createChildContext(r=this._myContextId){if(this._isDisposed)throw new Error("ContextKeyService has been disposed");const f=++this._lastContextId;return this._contexts.set(f,new Hc(f,this.getContextValuesContainer(r))),f}disposeContext(r){this._isDisposed||this._contexts.delete(r)}};gd=jd([Kd(0,Tt.Ui)],gd);class Ue extends Au{constructor(r,f){if(super(r.createChildContext()),this._parentChangeListener=new u.XK,this._parent=r,this._updateParentChangeListener(),this._domNode=f,this._domNode.hasAttribute(xl)){let x="";this._domNode.classList&&(x=Array.from(this._domNode.classList.values()).join(", ")),console.error(`Element already has context attribute${x?": "+x:""}`)}this._domNode.setAttribute(xl,String(this._myContextId))}_updateParentChangeListener(){this._parentChangeListener.value=this._parent.onDidChangeContext(r=>{const x=this._parent.getContextValuesContainer(this._myContextId).value;Ru(r,x)||this._onDidChangeContext.fire(r)})}dispose(){this._isDisposed||(this._onDidChangeContext.dispose(),this._parent.disposeContext(this._myContextId),this._parentChangeListener.dispose(),this._domNode.removeAttribute(xl),this._isDisposed=!0)}getContextValuesContainer(r){return this._isDisposed?jl.INSTANCE:this._parent.getContextValuesContainer(r)}createChildContext(r=this._myContextId){if(this._isDisposed)throw new Error("ScopedContextKeyService has been disposed");return this._parent.createChildContext(r)}disposeContext(r){this._isDisposed||this._parent.disposeContext(r)}}function De(pe){for(;pe;){if(pe.hasAttribute(xl)){const r=pe.getAttribute(xl);return r?parseInt(r,10):NaN}pe=pe.parentElement}return 0}function Pe(pe,r,f){pe.get(es.i6).createKey(String(r),tt(f))}function tt(pe){return(0,wo.rs)(pe,r=>{if(typeof r=="object"&&r.$mid===1)return L.o.revive(r).toString();if(r instanceof L.o)return r.toString()})}Ss.P0.registerCommand(es.Eq,Pe),Ss.P0.registerCommand({id:"getContextKeyInfo",handler(){return[...es.uy.all()].sort((pe,r)=>pe.key.localeCompare(r.key))},description:{description:(0,m.NC)("getContextKeyInfo","A command that returns information about context keys"),args:[]}}),Ss.P0.registerCommand("_generateContextKeyInfo",function(){const pe=[],r=new Set;for(const f of es.uy.all())r.has(f.key)||(r.add(f.key),pe.push(f));pe.sort((f,x)=>f.key.localeCompare(x.key)),console.log(JSON.stringify(pe,void 0,2))});var At=l(94627);class Bt{constructor(r){this.incoming=new Map,this.outgoing=new Map,this.data=r}}class Kt{constructor(r){this._hashFn=r,this._nodes=new Map}roots(){const r=[];for(const f of this._nodes.values())f.outgoing.size===0&&r.push(f);return r}insertEdge(r,f){const x=this.lookupOrInsertNode(r),Y=this.lookupOrInsertNode(f);x.outgoing.set(this._hashFn(f),Y),Y.incoming.set(this._hashFn(r),x)}removeNode(r){const f=this._hashFn(r);this._nodes.delete(f);for(const x of this._nodes.values())x.outgoing.delete(f),x.incoming.delete(f)}lookupOrInsertNode(r){const f=this._hashFn(r);let x=this._nodes.get(f);return x||(x=new Bt(r),this._nodes.set(f,x)),x}isEmpty(){return this._nodes.size===0}toString(){const r=[];for(const[f,x]of this._nodes)r.push(`${f}, (incoming)[${[...x.incoming.keys()].join(", ")}], (outgoing)[${[...x.outgoing.keys()].join(",")}]`);return r.join(`
`)}findCycleSlow(){for(const[r,f]of this._nodes){const x=new Set([r]),Y=this._findCycle(f,x);if(Y)return Y}}_findCycle(r,f){for(const[x,Y]of r.outgoing){if(f.has(x))return[...f,x].join(" -> ");f.add(x);const ie=this._findCycle(Y,f);if(ie)return ie;f.delete(x)}}}var fn=l(37660);const Dn=!1;class yn extends Error{constructor(r){var f;super("cyclic dependency between services"),this.message=(f=r.findCycleSlow())!==null&&f!==void 0?f:`UNABLE to detect cycle, dumping graph: 
${r.toString()}`}}class Gn{constructor(r=new fn.y,f=!1,x){this._activeInstantiations=new Set,this._services=r,this._strict=f,this._parent=x,this._services.set(si.TG,this)}createChild(r){return new Gn(r,this._strict,this)}invokeFunction(r,...f){const x=Zn.traceInvocation(r);let Y=!1;try{return r({get:he=>{if(Y)throw(0,de.L6)("service accessor is only valid during the invocation of its target method");const ve=this._getOrCreateServiceInstance(he,x);if(!ve)throw new Error(`[invokeFunction] unknown service '${he}'`);return ve}},...f)}finally{Y=!0,x.stop()}}createInstance(r,...f){let x,Y;return r instanceof At.M?(x=Zn.traceCreation(r.ctor),Y=this._createInstance(r.ctor,r.staticArguments.concat(f),x)):(x=Zn.traceCreation(r),Y=this._createInstance(r,f,x)),x.stop(),Y}_createInstance(r,f=[],x){const Y=si.I8.getServiceDependencies(r).sort((ve,$e)=>ve.index-$e.index),ie=[];for(const ve of Y){const $e=this._getOrCreateServiceInstance(ve.id,x);$e||this._throwIfStrict(`[createInstance] ${r.name} depends on UNKNOWN service ${ve.id}.`,!1),ie.push($e)}const he=Y.length>0?Y[0].index:f.length;if(f.length!==he){console.trace(`[createInstance] First service dependency of ${r.name} at position ${he+1} conflicts with ${f.length} static arguments`);const ve=he-f.length;ve>0?f=f.concat(new Array(ve)):f=f.slice(0,he)}return new r(...f,...ie)}_setServiceInstance(r,f){if(this._services.get(r)instanceof At.M)this._services.set(r,f);else if(this._parent)this._parent._setServiceInstance(r,f);else throw new Error("illegalState - setting UNKNOWN service instance")}_getServiceInstanceOrDescriptor(r){const f=this._services.get(r);return!f&&this._parent?this._parent._getServiceInstanceOrDescriptor(r):f}_getOrCreateServiceInstance(r,f){const x=this._getServiceInstanceOrDescriptor(r);return x instanceof At.M?this._safeCreateAndCacheServiceInstance(r,x,f.branch(r,!0)):(f.branch(r,!1),x)}_safeCreateAndCacheServiceInstance(r,f,x){if(this._activeInstantiations.has(r))throw new Error(`illegal state - RECURSIVELY instantiating service '${r}'`);this._activeInstantiations.add(r);try{return this._createAndCacheServiceInstance(r,f,x)}finally{this._activeInstantiations.delete(r)}}_createAndCacheServiceInstance(r,f,x){const Y=new Kt(ve=>ve.id.toString());let ie=0;const he=[{id:r,desc:f,_trace:x}];for(;he.length;){const ve=he.pop();if(Y.lookupOrInsertNode(ve),ie++>1e3)throw new yn(Y);for(const $e of si.I8.getServiceDependencies(ve.desc.ctor)){const rt=this._getServiceInstanceOrDescriptor($e.id);if(rt||this._throwIfStrict(`[createInstance] ${r} depends on ${$e.id} which is NOT registered.`,!0),rt instanceof At.M){const gt={id:$e.id,desc:rt,_trace:ve._trace.branch($e.id,!0)};Y.insertEdge(ve,gt),he.push(gt)}}}for(;;){const ve=Y.roots();if(ve.length===0){if(!Y.isEmpty())throw new yn(Y);break}for(const{data:$e}of ve){if(this._getServiceInstanceOrDescriptor($e.id)instanceof At.M){const gt=this._createServiceInstanceWithOwner($e.id,$e.desc.ctor,$e.desc.staticArguments,$e.desc.supportsDelayedInstantiation,$e._trace);this._setServiceInstance($e.id,gt)}Y.removeNode($e)}}return this._getServiceInstanceOrDescriptor(r)}_createServiceInstanceWithOwner(r,f,x=[],Y,ie){if(this._services.get(r)instanceof At.M)return this._createServiceInstance(f,x,Y,ie);if(this._parent)return this._parent._createServiceInstanceWithOwner(r,f,x,Y,ie);throw new Error(`illegalState - creating UNKNOWN service instance ${f.name}`)}_createServiceInstance(r,f=[],x,Y){if(x){const ie=new te.Ue(()=>this._createInstance(r,f,Y));return new Proxy(Object.create(null),{get(he,ve){if(ve in he)return he[ve];const $e=ie.value;let rt=$e[ve];return typeof rt!="function"||(rt=rt.bind($e),he[ve]=rt),rt},set(he,ve,$e){return ie.value[ve]=$e,!0}})}else return this._createInstance(r,f,Y)}_throwIfStrict(r,f){if(f&&console.warn(r),this._strict)throw new Error(r)}}class Zn{constructor(r,f){this.type=r,this.name=f,this._start=Date.now(),this._dep=[]}static traceInvocation(r){return Dn?new Zn(1,r.name||r.toString().substring(0,42).replace(/\n/g,"")):Zn._None}static traceCreation(r){return Dn?new Zn(0,r.name):Zn._None}branch(r,f){const x=new Zn(2,r.toString());return this._dep.push([r,f,x]),x}stop(){const r=Date.now()-this._start;Zn._totals+=r;let f=!1;function x(ie,he){const ve=[],$e=new Array(ie+1).join("	");for(const[rt,gt,Ht]of he._dep)if(gt&&Ht){f=!0,ve.push(`${$e}CREATES -> ${rt}`);const xn=x(ie+1,Ht);xn&&ve.push(xn)}else ve.push(`${$e}uses -> ${rt}`);return ve.join(`
`)}const Y=[`${this.type===0?"CREATE":"CALL"} ${this.name}`,`${x(1,this)}`,`DONE, took ${r.toFixed(2)}ms (grand total ${Zn._totals.toFixed(2)}ms)`];(r>2||f)&&console.log(Y.join(`
`))}}Zn._None=new class extends Zn{constructor(){super(-1,null)}stop(){}branch(){return this}},Zn._totals=0;class ti{constructor(){this._byResource=new Ao.Y9,this._byOwner=new Map}set(r,f,x){let Y=this._byResource.get(r);Y||(Y=new Map,this._byResource.set(r,Y)),Y.set(f,x);let ie=this._byOwner.get(f);ie||(ie=new Ao.Y9,this._byOwner.set(f,ie)),ie.set(r,x)}get(r,f){const x=this._byResource.get(r);return x==null?void 0:x.get(f)}delete(r,f){let x=!1,Y=!1;const ie=this._byResource.get(r);ie&&(x=ie.delete(f));const he=this._byOwner.get(f);if(he&&(Y=he.delete(r)),x!==Y)throw new Error("illegal state");return x&&Y}values(r){var f,x,Y,ie;return typeof r=="string"?(x=(f=this._byOwner.get(r))===null||f===void 0?void 0:f.values())!==null&&x!==void 0?x:al.$.empty():L.o.isUri(r)?(ie=(Y=this._byResource.get(r))===null||Y===void 0?void 0:Y.values())!==null&&ie!==void 0?ie:al.$.empty():al.$.map(al.$.concat(...this._byOwner.values()),he=>he[1])}}class Ni{constructor(r){this.errors=0,this.infos=0,this.warnings=0,this.unknowns=0,this._data=new Ao.Y9,this._service=r,this._subscription=r.onMarkerChanged(this._update,this)}dispose(){this._subscription.dispose()}_update(r){for(const f of r){const x=this._data.get(f);x&&this._substract(x);const Y=this._resourceStats(f);this._add(Y),this._data.set(f,Y)}}_resourceStats(r){const f={errors:0,warnings:0,infos:0,unknowns:0};if(r.scheme===ts.lg.inMemory||r.scheme===ts.lg.walkThrough||r.scheme===ts.lg.walkThroughSnippet||r.scheme===ts.lg.vscodeSourceControl)return f;for(const{severity:x}of this._service.read({resource:r}))x===fo.ZL.Error?f.errors+=1:x===fo.ZL.Warning?f.warnings+=1:x===fo.ZL.Info?f.infos+=1:f.unknowns+=1;return f}_substract(r){this.errors-=r.errors,this.warnings-=r.warnings,this.infos-=r.infos,this.unknowns-=r.unknowns}_add(r){this.errors+=r.errors,this.warnings+=r.warnings,this.infos+=r.infos,this.unknowns+=r.unknowns}}class Gi{constructor(){this._onMarkerChanged=new j.D0({delay:0,merge:Gi._merge}),this.onMarkerChanged=this._onMarkerChanged.event,this._data=new ti,this._stats=new Ni(this)}dispose(){this._stats.dispose(),this._onMarkerChanged.dispose()}remove(r,f){for(const x of f||[])this.changeOne(r,x,[])}changeOne(r,f,x){if((0,ot.XY)(x))this._data.delete(f,r)&&this._onMarkerChanged.fire([f]);else{const Y=[];for(const ie of x){const he=Gi._toMarker(r,f,ie);he&&Y.push(he)}this._data.set(f,r,Y),this._onMarkerChanged.fire([f])}}static _toMarker(r,f,x){let{code:Y,severity:ie,message:he,source:ve,startLineNumber:$e,startColumn:rt,endLineNumber:gt,endColumn:Ht,relatedInformation:xn,tags:ii}=x;if(!!he)return $e=$e>0?$e:1,rt=rt>0?rt:1,gt=gt>=$e?gt:$e,Ht=Ht>0?Ht:rt,{resource:f,owner:r,code:Y,severity:ie,message:he,source:ve,startLineNumber:$e,startColumn:rt,endLineNumber:gt,endColumn:Ht,relatedInformation:xn,tags:ii}}changeAll(r,f){const x=[],Y=this._data.values(r);if(Y)for(const ie of Y){const he=al.$.first(ie);he&&(x.push(he.resource),this._data.delete(he.resource,r))}if((0,ot.Of)(f)){const ie=new Ao.Y9;for(const{resource:he,marker:ve}of f){const $e=Gi._toMarker(r,he,ve);if(!$e)continue;const rt=ie.get(he);rt?rt.push($e):(ie.set(he,[$e]),x.push(he))}for(const[he,ve]of ie)this._data.set(he,r,ve)}x.length>0&&this._onMarkerChanged.fire(x)}read(r=Object.create(null)){let{owner:f,resource:x,severities:Y,take:ie}=r;if((!ie||ie<0)&&(ie=-1),f&&x){const he=this._data.get(x,f);if(he){const ve=[];for(const $e of he)if(Gi._accept($e,Y)){const rt=ve.push($e);if(ie>0&&rt===ie)break}return ve}else return[]}else if(!f&&!x){const he=[];for(const ve of this._data.values())for(const $e of ve)if(Gi._accept($e,Y)){const rt=he.push($e);if(ie>0&&rt===ie)return he}return he}else{const he=this._data.values(x!=null?x:f),ve=[];for(const $e of he)for(const rt of $e)if(Gi._accept(rt,Y)){const gt=ve.push(rt);if(ie>0&&gt===ie)return ve}return ve}}static _accept(r,f){return f===void 0||(f&r.severity)===r.severity}static _merge(r){const f=new Ao.Y9;for(const x of r)for(const Y of x)f.set(Y,!0);return Array.from(f.keys())}}function Ui(pe,r,f,x,Y,ie){if(Array.isArray(pe)){let he=0;for(const ve of pe){const $e=Ui(ve,r,f,x,Y,ie);if($e===10)return $e;$e>he&&(he=$e)}return he}else{if(typeof pe=="string")return x?pe==="*"?5:pe===f?10:0:0;if(pe){const{language:he,pattern:ve,scheme:$e,hasAccessToAllModels:rt,notebookType:gt}=pe;if(!x&&!rt)return 0;gt&&Y&&(r=Y);let Ht=0;if($e)if($e===r.scheme)Ht=10;else if($e==="*")Ht=5;else return 0;if(he)if(he===f)Ht=10;else if(he==="*")Ht=Math.max(Ht,5);else return 0;if(gt)if(gt===ie)Ht=10;else if(gt==="*"&&ie!==void 0)Ht=Math.max(Ht,5);else return 0;if(ve){let xn;if(typeof ve=="string"?xn=ve:xn=Object.assign(Object.assign({},ve),{base:(0,lr.Fv)(ve.base)}),xn===r.fsPath||Od(xn,r.fsPath))Ht=10;else return 0}return Ht}else return 0}}function mi(pe){return typeof pe=="string"?!1:Array.isArray(pe)?pe.every(mi):!!pe.exclusive}class Ai{constructor(r,f,x,Y){this.uri=r,this.languageId=f,this.notebookUri=x,this.notebookType=Y}equals(r){var f,x;return this.notebookType===r.notebookType&&this.languageId===r.languageId&&this.uri.toString()===r.uri.toString()&&((f=this.notebookUri)===null||f===void 0?void 0:f.toString())===((x=r.notebookUri)===null||x===void 0?void 0:x.toString())}}class yi{constructor(r){this._notebookInfoResolver=r,this._clock=0,this._entries=[],this._onDidChange=new j.Q5,this.onDidChange=this._onDidChange.event}register(r,f){let x={selector:r,provider:f,_score:-1,_time:this._clock++};return this._entries.push(x),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),(0,u.OF)(()=>{if(x){const Y=this._entries.indexOf(x);Y>=0&&(this._entries.splice(Y,1),this._lastCandidate=void 0,this._onDidChange.fire(this._entries.length),x=void 0)}})}has(r){return this.all(r).length>0}all(r){if(!r)return[];this._updateScores(r);const f=[];for(const x of this._entries)x._score>0&&f.push(x.provider);return f}ordered(r){const f=[];return this._orderedForEach(r,x=>f.push(x.provider)),f}orderedGroups(r){const f=[];let x,Y;return this._orderedForEach(r,ie=>{x&&Y===ie._score?x.push(ie.provider):(Y=ie._score,x=[ie.provider],f.push(x))}),f}_orderedForEach(r,f){this._updateScores(r);for(const x of this._entries)x._score>0&&f(x)}_updateScores(r){var f,x;const Y=(f=this._notebookInfoResolver)===null||f===void 0?void 0:f.call(this,r.uri),ie=Y?new Ai(r.uri,r.getLanguageId(),Y.uri,Y.type):new Ai(r.uri,r.getLanguageId(),void 0,void 0);if(!(!((x=this._lastCandidate)===null||x===void 0)&&x.equals(ie))){this._lastCandidate=ie;for(const he of this._entries)if(he._score=Ui(he.selector,ie.uri,ie.languageId,(0,O.pt)(r),ie.notebookUri,ie.notebookType),mi(he.selector)&&he._score>0){for(const ve of this._entries)ve._score=0;he._score=1e3;break}this._entries.sort(yi._compareByScoreAndTime)}}static _compareByScoreAndTime(r,f){return r._score<f._score?1:r._score>f._score?-1:r._time<f._time?1:r._time>f._time?-1:0}}class ao{constructor(){this.referenceProvider=new yi(this._score.bind(this)),this.renameProvider=new yi(this._score.bind(this)),this.codeActionProvider=new yi(this._score.bind(this)),this.definitionProvider=new yi(this._score.bind(this)),this.typeDefinitionProvider=new yi(this._score.bind(this)),this.declarationProvider=new yi(this._score.bind(this)),this.implementationProvider=new yi(this._score.bind(this)),this.documentSymbolProvider=new yi(this._score.bind(this)),this.inlayHintsProvider=new yi(this._score.bind(this)),this.colorProvider=new yi(this._score.bind(this)),this.codeLensProvider=new yi(this._score.bind(this)),this.documentFormattingEditProvider=new yi(this._score.bind(this)),this.documentRangeFormattingEditProvider=new yi(this._score.bind(this)),this.onTypeFormattingEditProvider=new yi(this._score.bind(this)),this.signatureHelpProvider=new yi(this._score.bind(this)),this.hoverProvider=new yi(this._score.bind(this)),this.documentHighlightProvider=new yi(this._score.bind(this)),this.selectionRangeProvider=new yi(this._score.bind(this)),this.foldingRangeProvider=new yi(this._score.bind(this)),this.linkProvider=new yi(this._score.bind(this)),this.inlineCompletionsProvider=new yi(this._score.bind(this)),this.completionProvider=new yi(this._score.bind(this)),this.linkedEditingRangeProvider=new yi(this._score.bind(this)),this.documentRangeSemanticTokensProvider=new yi(this._score.bind(this)),this.documentSemanticTokensProvider=new yi(this._score.bind(this)),this.documentOnDropEditProvider=new yi(this._score.bind(this)),this.documentPasteEditProvider=new yi(this._score.bind(this))}_score(r){var f;return(f=this._notebookTypeResolver)===null||f===void 0?void 0:f.call(this,r)}}(0,as.z)(kt.p,ao,!0);class Ns extends So{constructor(r={}){const f=ql.B.as(Wr.IP.Configuration).getConfigurationProperties(),x=Object.keys(f),Y=Object.create(null),ie=[];for(const he in f){const ve=r[he],$e=ve!==void 0?ve:f[he].default;(0,Tt.KV)(Y,he,$e,rt=>console.error(`Conflict in default settings: ${rt}`))}for(const he of Object.keys(Y))Wr.eU.test(he)&&ie.push({identifiers:(0,Wr.ny)(he),keys:Object.keys(Y[he]),contents:(0,Tt.Od)(Y[he],ve=>console.error(`Conflict in default settings file: ${ve}`))});super(Y,x,ie)}}var Ts=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},fs=function(pe,r){return function(f,x){r(f,x,pe)}},Gs=function(pe,r,f,x){function Y(ie){return ie instanceof f?ie:new f(function(he){he(ie)})}return new(f||(f=Promise))(function(ie,he){function ve(gt){try{rt(x.next(gt))}catch(Ht){he(Ht)}}function $e(gt){try{rt(x.throw(gt))}catch(Ht){he(Ht)}}function rt(gt){gt.done?ie(gt.value):Y(gt.value).then(ve,$e)}rt((x=x.apply(pe,r||[])).next())})};class Eo{constructor(r){this.disposed=!1,this.model=r,this._onWillDispose=new j.Q5}get textEditorModel(){return this.model}dispose(){this.disposed=!0,this._onWillDispose.fire()}}let Is=class{constructor(r){this.modelService=r}createModelReference(r){const f=this.modelService.getModel(r);return f?Promise.resolve(new u.Jz(new Eo(f))):Promise.reject(new Error("Model not found"))}};Is=Ts([fs(0,Z.q)],Is);class Bo{show(){return Bo.NULL_PROGRESS_RUNNER}showWhile(r,f){return Gs(this,void 0,void 0,function*(){yield r})}}Bo.NULL_PROGRESS_RUNNER={done:()=>{},total:()=>{},worked:()=>{}};class Wo{withProgress(r,f,x){return f({report:()=>{}})}}class pa{confirm(r){return this.doConfirm(r).then(f=>({confirmed:f,checkboxChecked:!1}))}doConfirm(r){let f=r.message;return r.detail&&(f=f+`

`+r.detail),Promise.resolve(window.confirm(f))}show(r,f,x,Y){return Promise.resolve({choice:0})}}class kr{info(r){return this.notify({severity:F.Z.Info,message:r})}warn(r){return this.notify({severity:F.Z.Warning,message:r})}error(r){return this.notify({severity:F.Z.Error,message:r})}notify(r){switch(r.severity){case F.Z.Error:console.error(r.message);break;case F.Z.Warning:console.warn(r.message);break;default:console.log(r.message);break}return kr.NO_OP}status(r,f){return u.JT.None}}kr.NO_OP=new ee.EO;let ir=class{constructor(r){this._onWillExecuteCommand=new j.Q5,this._onDidExecuteCommand=new j.Q5,this.onWillExecuteCommand=this._onWillExecuteCommand.event,this.onDidExecuteCommand=this._onDidExecuteCommand.event,this._instantiationService=r}executeCommand(r,...f){const x=Ss.P0.getCommand(r);if(!x)return Promise.reject(new Error(`command '${r}' not found`));try{this._onWillExecuteCommand.fire({commandId:r,args:f});const Y=this._instantiationService.invokeFunction.apply(this._instantiationService,[x.handler,...f]);return this._onDidExecuteCommand.fire({commandId:r,args:f}),Promise.resolve(Y)}catch(Y){return Promise.reject(Y)}}};ir=Ts([fs(0,si.TG)],ir);let oa=class extends Lt{constructor(r,f,x,Y,ie,he){super(r,f,x,Y,ie),this._cachedResolver=null,this._dynamicKeybindings=[],this._domNodeListeners=[];const ve=ii=>{const Ki=new u.SL;Ki.add(on.nm(ii,on.tw.KEY_DOWN,gs=>{const ks=new js.y(gs);this._dispatch(ks,ks.target)&&(ks.preventDefault(),ks.stopPropagation())})),Ki.add(on.nm(ii,on.tw.KEY_UP,gs=>{const ks=new js.y(gs);this._singleModifierDispatch(ks,ks.target)&&ks.preventDefault()})),this._domNodeListeners.push(new _a(ii,Ki))},$e=ii=>{for(let Ki=0;Ki<this._domNodeListeners.length;Ki++){const gs=this._domNodeListeners[Ki];gs.domNode===ii&&(this._domNodeListeners.splice(Ki,1),gs.dispose())}},rt=ii=>{ii.getOption(56)||ve(ii.getContainerDomNode())},gt=ii=>{ii.getOption(56)||$e(ii.getContainerDomNode())};this._register(he.onCodeEditorAdd(rt)),this._register(he.onCodeEditorRemove(gt)),he.listCodeEditors().forEach(rt);const Ht=ii=>{ve(ii.getContainerDomNode())},xn=ii=>{$e(ii.getContainerDomNode())};this._register(he.onDiffEditorAdd(Ht)),this._register(he.onDiffEditorRemove(xn)),he.listDiffEditors().forEach(Ht)}addDynamicKeybinding(r,f,x,Y){return(0,u.F8)(Ss.P0.registerCommand(r,x),this.addDynamicKeybindings([{keybinding:f,command:r,when:Y}]))}addDynamicKeybindings(r){const f=r.map(x=>{var Y,ie;const he=(0,Co.gm)(x.keybinding,ge.OS);return{keybinding:(Y=he==null?void 0:he.parts)!==null&&Y!==void 0?Y:null,command:(ie=x.command)!==null&&ie!==void 0?ie:null,commandArgs:x.commandArgs,when:x.when,weight1:1e3,weight2:0,extensionId:null,isBuiltinExtension:!1}});return this._dynamicKeybindings=this._dynamicKeybindings.concat(f),this.updateResolver(),(0,u.OF)(()=>{for(let x=0;x<this._dynamicKeybindings.length;x++)if(this._dynamicKeybindings[x]===f[0]){this._dynamicKeybindings.splice(x,f.length),this.updateResolver();return}})}updateResolver(){this._cachedResolver=null,this._onDidUpdateKeybindings.fire()}_getResolver(){if(!this._cachedResolver){const r=this._toNormalizedKeybindingItems(Bi.W.getDefaultKeybindings(),!0),f=this._toNormalizedKeybindingItems(this._dynamicKeybindings,!1);this._cachedResolver=new qt(r,f,x=>this._log(x))}return this._cachedResolver}_documentHasFocus(){return document.hasFocus()}_toNormalizedKeybindingItems(r,f){const x=[];let Y=0;for(const ie of r){const he=ie.when||void 0,ve=ie.keybinding;if(!ve)x[Y++]=new vs(void 0,ie.command,ie.commandArgs,he,f,null,!1);else{const $e=Po.resolveUserBinding(ve,ge.OS);for(const rt of $e)x[Y++]=new vs(rt,ie.command,ie.commandArgs,he,f,null,!1)}}return x}resolveKeyboardEvent(r){const f=new Co.QC(r.ctrlKey,r.shiftKey,r.altKey,r.metaKey,r.keyCode).toChord();return new Po(f,ge.OS)}};oa=Ts([fs(0,es.i6),fs(1,Ss.Hy),fs(2,zo.b),fs(3,ee.lT),fs(4,Rt.VZ),fs(5,D.$)],oa);class _a extends u.JT{constructor(r,f){super(),this.domNode=r,this._register(f)}}function ra(pe){return pe&&typeof pe=="object"&&(!pe.overrideIdentifier||typeof pe.overrideIdentifier=="string")&&(!pe.resource||pe.resource instanceof L.o)}class va{constructor(){this._onDidChangeConfiguration=new j.Q5,this.onDidChangeConfiguration=this._onDidChangeConfiguration.event,this._configuration=new Ys(new Ns,new So,new So,new So)}getValue(r,f){const x=typeof r=="string"?r:void 0,Y=ra(r)?r:ra(f)?f:{};return this._configuration.getValue(x,Y,void 0)}updateValues(r){const f={data:this._configuration.toData()},x=[];for(const Y of r){const[ie,he]=Y;this.getValue(ie)!==he&&(this._configuration.updateValue(ie,he),x.push(ie))}if(x.length>0){const Y=new et({keys:x,overrides:[]},f,this._configuration);Y.source=8,Y.sourceConfig=null,this._onDidChangeConfiguration.fire(Y)}return Promise.resolve()}updateValue(r,f,x,Y){return this.updateValues([[r,f]])}inspect(r,f={}){return this._configuration.inspect(r,f,void 0)}}let yr=class{constructor(r){this.configurationService=r,this._onDidChangeConfiguration=new j.Q5,this.configurationService.onDidChangeConfiguration(f=>{this._onDidChangeConfiguration.fire({affectedKeys:f.affectedKeys,affectsConfiguration:(x,Y)=>f.affectsConfiguration(Y)})})}getValue(r,f,x){const ie=(z.L.isIPosition(f)?f:null)?typeof x=="string"?x:void 0:typeof f=="string"?f:void 0;return typeof ie=="undefined"?this.configurationService.getValue():this.configurationService.getValue(ie)}};yr=Ts([fs(0,Tt.Ui)],yr);let Ur=class{constructor(r){this.configurationService=r}getEOL(r,f){const x=this.configurationService.getValue("files.eol",{overrideIdentifier:f,resource:r});return x&&typeof x=="string"&&x!=="auto"?x:ge.IJ||ge.dz?`
`:`\r
`}};Ur=Ts([fs(0,Tt.Ui)],Ur);class lc{publicLog(r,f){return Promise.resolve(void 0)}publicLog2(r,f){return this.publicLog(r,f)}}class Mr{constructor(){const r=L.o.from({scheme:Mr.SCHEME,authority:"model",path:"/"});this.workspace={id:"4064f6ec-cb38-4ad0-af64-ee6467e63c82",folders:[new Sa.md({uri:r,name:"",index:0})]}}getWorkspace(){return this.workspace}getWorkspaceFolder(r){return r&&r.scheme===Mr.SCHEME?this.workspace.folders[0]:null}}Mr.SCHEME="inmemory";function Ua(pe,r,f){if(!r||!(pe instanceof va))return;const x=[];Object.keys(r).forEach(Y=>{(0,Io.ei)(Y)&&x.push([`editor.${Y}`,r[Y]]),f&&(0,Io.Pe)(Y)&&x.push([`diffEditor.${Y}`,r[Y]])}),x.length>0&&pe.updateValues(x)}let ka=class{constructor(r){this._modelService=r}hasPreviewHandler(){return!1}apply(r,f){return Gs(this,void 0,void 0,function*(){const x=new Map;for(const he of r){if(!(he instanceof Wi.Gl))throw new Error("bad edit - only text edits are supported");const ve=this._modelService.getModel(he.resource);if(!ve)throw new Error("bad edit - model not found");if(typeof he.versionId=="number"&&ve.getVersionId()!==he.versionId)throw new Error("bad state - model changed in the meantime");let $e=x.get(ve);$e||($e=[],x.set(ve,$e)),$e.push(Rs.h.replaceMove(P.e.lift(he.textEdit.range),he.textEdit.text))}let Y=0,ie=0;for(const[he,ve]of x)he.pushStackElement(),he.pushEditOperations([],ve,()=>[]),he.pushStackElement(),ie+=1,Y+=ve.length;return{ariaSummary:a.WU(ya.iN.bulkEditServiceSummary,Y,ie)}})}};ka=Ts([fs(0,Z.q)],ka);class Ma{getUriLabel(r,f){return r.scheme==="file"?r.fsPath:r.path}getUriBasenameLabel(r){return(0,hl.EZ)(r)}}let Ra=class extends Da{constructor(r,f){super(r),this._codeEditorService=f}showContextView(r,f,x){if(!f){const Y=this._codeEditorService.getFocusedCodeEditor()||this._codeEditorService.getActiveCodeEditor();Y&&(f=Y.getContainerDomNode())}return super.showContextView(r,f,x)}};Ra=Ts([fs(0,ns),fs(1,D.$)],Ra);class hr{constructor(){this._neverEmitter=new j.Q5,this.onDidChangeTrust=this._neverEmitter.event}isWorkspaceTrusted(){return!0}}class Lr extends el{constructor(){super()}}class jo extends Rt.$V{constructor(){super(new Rt.kw)}}let Vo=class extends ic{constructor(r,f,x,Y,ie){super(r,f,x,Y,ie),this.configure({blockMouse:!1})}};Vo=Ts([fs(0,zo.b),fs(1,ee.lT),fs(2,Jo.u),fs(3,Zt.d),fs(4,zs.XE)],Vo),(0,as.z)(Tt.Ui,va),(0,as.z)(bn.V,yr),(0,as.z)(bn.y,Ur),(0,as.z)(Sa.ec,Mr),(0,as.z)(Fa.e,Ma),(0,as.z)(zo.b,lc),(0,as.z)(B.S,pa),(0,as.z)(ee.lT,kr),(0,as.z)(fo.lT,Gi),(0,as.z)(K.O,Lr),(0,as.z)(Sr.Z,ku.nI),(0,as.z)(Rt.VZ,jo),(0,as.z)(Z.q,sc.b$),(0,as.z)(Mc.i,za),(0,as.z)(es.i6,gd),(0,as.z)(Ya.R9,Wo),(0,as.z)(Ya.ek,Bo),(0,as.z)(Bc.Uy,Bc.vm),(0,as.z)(cs.p,Ve),(0,as.z)(Wi.vu,ka),(0,as.z)(mr.Y,hr),(0,as.z)(bo.S,Is),(0,as.z)(il.F,Fc),(0,as.z)(zl.Lw,zl.XN),(0,as.z)(Ss.Hy,ir),(0,as.z)(Zt.d,oa),(0,as.z)(Hd.eJ,rl),(0,as.z)(Jo.u,Ra),(0,as.z)(ga.v4,qo),(0,as.z)(fd.p,Vc),(0,as.z)(Jo.i,Vo),(0,as.z)(ur.co,Ll);var Oi;(function(pe){const r=new fn.y;for(const[he,ve]of(0,as.d)())r.set(he,ve);const f=new Gn(r,!0);r.set(si.TG,f);function x(he){const ve=r.get(he);if(!ve)throw new Error("Missing service "+he);return ve instanceof At.M?f.invokeFunction($e=>$e.get(he)):ve}pe.get=x;let Y=!1;function ie(he){if(Y)return f;Y=!0;for(const[ve,$e]of(0,as.d)())r.get(ve)||r.set(ve,$e);for(const ve in he)if(he.hasOwnProperty(ve)){const $e=(0,si.yh)(ve);r.get($e)instanceof At.M&&r.set($e,he[ve])}return f}pe.initialize=ie})(Oi||(Oi={}));var ls=function(pe,r,f,x){var Y=arguments.length,ie=Y<3?r:x===null?x=Object.getOwnPropertyDescriptor(r,f):x,he;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")ie=Reflect.decorate(pe,r,f,x);else for(var ve=pe.length-1;ve>=0;ve--)(he=pe[ve])&&(ie=(Y<3?he(ie):Y>3?he(r,f,ie):he(r,f))||ie);return Y>3&&ie&&Object.defineProperty(r,f,ie),ie},Cs=function(pe,r){return function(f,x){r(f,x,pe)}};let Ko=0,Rr=!1;function fr(pe){if(!pe){if(Rr)return;Rr=!0}ws.wW(pe||document.body)}let Il=class extends uo.Gm{constructor(r,f,x,Y,ie,he,ve,$e,rt,gt,Ht,xn){const ii=Object.assign({},f);ii.ariaLabel=ii.ariaLabel||ya.B8.editorViewAccessibleLabel,ii.ariaLabel=ii.ariaLabel+";"+ya.B8.accessibilityHelpMessage,super(r,ii,{},x,Y,ie,he,$e,rt,gt,Ht,xn),ve instanceof oa?this._standaloneKeybindingService=ve:this._standaloneKeybindingService=null,fr(ii.ariaContainerElement)}addCommand(r,f,x){if(!this._standaloneKeybindingService)return console.warn("Cannot add command because the editor is configured with an unrecognized KeybindingService"),null;const Y="DYNAMIC_"+ ++Ko,ie=es.Ao.deserialize(x);return this._standaloneKeybindingService.addDynamicKeybinding(Y,r,f,ie),Y}createContextKey(r,f){return this._contextKeyService.createKey(r,f)}addAction(r){if(typeof r.id!="string"||typeof r.label!="string"||typeof r.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");if(!this._standaloneKeybindingService)return console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),u.JT.None;const f=r.id,x=r.label,Y=es.Ao.and(es.Ao.equals("editorId",this.getId()),es.Ao.deserialize(r.precondition)),ie=r.keybindings,he=es.Ao.and(Y,es.Ao.deserialize(r.keybindingContext)),ve=r.contextMenuGroupId||null,$e=r.contextMenuOrder||0,rt=(ii,...Ki)=>Promise.resolve(r.run(this,...Ki)),gt=new u.SL,Ht=this.getId()+":"+f;if(gt.add(Ss.P0.registerCommand(Ht,rt)),ve){const ii={command:{id:Ht,title:x},when:Y,group:ve,order:$e};gt.add(ur.BH.appendMenuItem(ur.eH.EditorContext,ii))}if(Array.isArray(ie))for(const ii of ie)gt.add(this._standaloneKeybindingService.addDynamicKeybinding(Ht,ii,rt,he));const xn=new $s.p(Ht,x,x,Y,rt,this._contextKeyService);return this._actions[f]=xn,gt.add((0,u.OF)(()=>{delete this._actions[f]})),gt}_triggerCommand(r,f){if(this._codeEditorService instanceof hi)try{this._codeEditorService.setActiveCodeEditor(this),super._triggerCommand(r,f)}finally{this._codeEditorService.setActiveCodeEditor(null)}else super._triggerCommand(r,f)}};Il=ls([Cs(2,si.TG),Cs(3,D.$),Cs(4,Ss.Hy),Cs(5,es.i6),Cs(6,Zt.d),Cs(7,zs.XE),Cs(8,ee.lT),Cs(9,il.F),Cs(10,R.c_),Cs(11,kt.p)],Il);let ll=class extends Il{constructor(r,f,x,Y,ie,he,ve,$e,rt,gt,Ht,xn,ii,Ki,gs){const ks=Object.assign({},f);Ua(gt,ks,!1);const Os=$e.registerEditorContainer(r);typeof ks.theme=="string"&&$e.setTheme(ks.theme),typeof ks.autoDetectHighContrast!="undefined"&&$e.setAutoDetectHighContrast(Boolean(ks.autoDetectHighContrast));const Zs=ks.model;delete ks.model,super(r,ks,x,Y,ie,he,ve,$e,rt,Ht,Ki,gs),this._configurationService=gt,this._standaloneThemeService=$e,this._register(Os);let Ds;if(typeof Zs=="undefined"){const Vs=ii.getLanguageIdByMimeType(ks.language)||ks.language||ua.bd;Ds=Ca(xn,ii,ks.value||"",Vs,void 0),this._ownsModel=!0}else Ds=Zs,this._ownsModel=!1;if(this._attachModel(Ds),Ds){const Vs={oldModelUrl:null,newModelUrl:Ds.uri};this._onDidChangeModel.fire(Vs)}}dispose(){super.dispose()}updateOptions(r){Ua(this._configurationService,r,!1),typeof r.theme=="string"&&this._standaloneThemeService.setTheme(r.theme),typeof r.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(r.autoDetectHighContrast)),super.updateOptions(r)}_postDetachModelCleanup(r){super._postDetachModelCleanup(r),r&&this._ownsModel&&(r.dispose(),this._ownsModel=!1)}};ll=ls([Cs(2,si.TG),Cs(3,D.$),Cs(4,Ss.Hy),Cs(5,es.i6),Cs(6,Zt.d),Cs(7,Sr.Z),Cs(8,ee.lT),Cs(9,Tt.Ui),Cs(10,il.F),Cs(11,Z.q),Cs(12,K.O),Cs(13,R.c_),Cs(14,kt.p)],ll);let Er=class extends Us.p{constructor(r,f,x,Y,ie,he,ve,$e,rt,gt,Ht,xn){const ii=Object.assign({},f);Ua(rt,ii,!0);const Ki=ve.registerEditorContainer(r);typeof ii.theme=="string"&&ve.setTheme(ii.theme),typeof ii.autoDetectHighContrast!="undefined"&&ve.setAutoDetectHighContrast(Boolean(ii.autoDetectHighContrast)),super(r,ii,{},xn,ie,Y,x,he,ve,$e,gt,Ht),this._configurationService=rt,this._standaloneThemeService=ve,this._register(Ki)}dispose(){super.dispose()}updateOptions(r){Ua(this._configurationService,r,!0),typeof r.theme=="string"&&this._standaloneThemeService.setTheme(r.theme),typeof r.autoDetectHighContrast!="undefined"&&this._standaloneThemeService.setAutoDetectHighContrast(Boolean(r.autoDetectHighContrast)),super.updateOptions(r)}_createInnerEditor(r,f,x){return r.createInstance(Il,f,x)}getOriginalEditor(){return super.getOriginalEditor()}getModifiedEditor(){return super.getModifiedEditor()}addCommand(r,f,x){return this.getModifiedEditor().addCommand(r,f,x)}createContextKey(r,f){return this.getModifiedEditor().createContextKey(r,f)}addAction(r){return this.getModifiedEditor().addAction(r)}};Er=ls([Cs(2,si.TG),Cs(3,es.i6),Cs(4,cs.p),Cs(5,D.$),Cs(6,Sr.Z),Cs(7,ee.lT),Cs(8,Tt.Ui),Cs(9,Jo.i),Cs(10,Ya.ek),Cs(11,fd.p)],Er);function Ca(pe,r,f,x,Y){if(f=f||"",!x){const ie=f.indexOf(`
`);let he=f;return ie!==-1&&(he=f.substring(0,ie)),aa(pe,f,r.createByFilepathOrFirstLine(Y||null,he),Y)}return aa(pe,f,r.createById(x),Y)}function aa(pe,r,f,x){return pe.createModel(r,f,x)}function md(pe,r,f){return Oi.initialize(f||{}).createInstance(ll,pe,r)}function pd(pe){return Oi.get(D.$).onCodeEditorAdd(f=>{pe(f)})}function $d(pe){return Oi.get(D.$).onDiffEditorAdd(f=>{pe(f)})}function Uc(){return Oi.get(D.$).listCodeEditors()}function $l(){return Oi.get(D.$).listDiffEditors()}function Nl(pe,r,f){return Oi.initialize(f||{}).createInstance(Er,pe,r)}function cc(pe,r){return new N.F(pe,r)}function Pu(pe){if(typeof pe.id!="string"||typeof pe.run!="function")throw new Error("Invalid command descriptor, `id` and `run` are required properties!");return Ss.P0.registerCommand(pe.id,pe.run)}function dc(pe){if(typeof pe.id!="string"||typeof pe.label!="string"||typeof pe.run!="function")throw new Error("Invalid action descriptor, `id`, `label` and `run` are required properties!");const r=es.Ao.deserialize(pe.precondition),f=(Y,...ie)=>Rc._l.runEditorCommand(Y,ie,r,(he,ve,$e)=>Promise.resolve(pe.run(ve,...$e))),x=new u.SL;if(x.add(Ss.P0.registerCommand(pe.id,f)),pe.contextMenuGroupId){const Y={command:{id:pe.id,title:pe.label},when:r,group:pe.contextMenuGroupId,order:pe.contextMenuOrder||0};x.add(ur.BH.appendMenuItem(ur.eH.EditorContext,Y))}if(Array.isArray(pe.keybindings)){const Y=Oi.get(Zt.d);if(!(Y instanceof oa))console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService");else{const ie=es.Ao.and(r,es.Ao.deserialize(pe.keybindingContext));x.add(Y.addDynamicKeybindings(pe.keybindings.map(he=>({keybinding:he,command:pe.id,when:ie}))))}}return x}function Gd(pe){return cl([pe])}function cl(pe){const r=Oi.get(Zt.d);return r instanceof oa?r.addDynamicKeybindings(pe.map(f=>({keybinding:f.keybinding,command:f.command,commandArgs:f.commandArgs,when:es.Ao.deserialize(f.when)}))):(console.warn("Cannot add keybinding because the editor is configured with an unrecognized KeybindingService"),u.JT.None)}function Zd(pe,r,f){const x=Oi.get(K.O),Y=x.getLanguageIdByMimeType(r)||r;return Ca(Oi.get(Z.q),x,pe,Y,f)}function _d(pe,r){const f=Oi.get(K.O);Oi.get(Z.q).setMode(pe,f.createById(r))}function jc(pe,r,f){pe&&Oi.get(fo.lT).changeOne(r,pe.uri,f)}function ba(pe){Oi.get(fo.lT).changeAll(pe,[])}function Ou(pe){return Oi.get(fo.lT).read(pe)}function kh(pe){return Oi.get(fo.lT).onMarkerChanged(pe)}function Yd(pe){return Oi.get(Z.q).getModel(pe)}function Fu(){return Oi.get(Z.q).getModels()}function Bu(pe){return Oi.get(Z.q).onModelAdded(pe)}function Qd(pe){return Oi.get(Z.q).onModelRemoved(pe)}function Mh(pe){return Oi.get(Z.q).onModelLanguageChanged(f=>{pe({model:f.model,oldLanguage:f.oldLanguageId})})}function Xd(pe){return On(Oi.get(Z.q),Oi.get(R.c_),pe)}function jr(pe,r){const f=Oi.get(K.O),x=Oi.get(Sr.Z);return x.registerEditorContainer(pe),Ks.colorizeElement(x,f,pe,r)}function uc(pe,r,f){const x=Oi.get(K.O);return Oi.get(Sr.Z).registerEditorContainer(document.body),Ks.colorize(x,pe,r,f)}function gr(pe,r,f=4){return Oi.get(Sr.Z).registerEditorContainer(document.body),Ks.colorizeModelLine(pe,r,f)}function Jd(pe){const r=T.RW.get(pe);return r||{getInitialState:()=>M.TJ,tokenize:(f,x,Y)=>(0,M.Ri)(pe,Y)}}function Tl(pe,r){T.RW.getOrCreate(r);const f=Jd(r),x=(0,a.uq)(pe),Y=[];let ie=f.getInitialState();for(let he=0,ve=x.length;he<ve;he++){const $e=x[he],rt=f.tokenize($e,!0,ie);Y[he]=rt.tokens,ie=rt.endState}return Y}function Wu(pe,r){Oi.get(Sr.Z).defineTheme(pe,r)}function Rh(pe){Oi.get(Sr.Z).setTheme(pe)}function hc(){b.g.clearAllFontInfos()}function Ah(pe,r){return Ss.P0.registerCommand({id:pe,handler:r})}function Gl(){return{create:md,getEditors:Uc,getDiffEditors:$l,onDidCreateEditor:pd,onDidCreateDiffEditor:$d,createDiffEditor:Nl,createDiffNavigator:cc,addCommand:Pu,addEditorAction:dc,addKeybindingRule:Gd,addKeybindingRules:cl,createModel:Zd,setModelLanguage:_d,setModelMarkers:jc,getModelMarkers:Ou,removeAllMarkers:ba,onDidChangeMarkers:kh,getModels:Fu,getModel:Yd,onDidCreateModel:Bu,onWillDisposeModel:Qd,onDidChangeModelLanguage:Mh,createWebWorker:Xd,colorizeElement:jr,colorize:uc,colorizeModelLine:gr,tokenize:Tl,defineTheme:Wu,setTheme:Rh,remeasureFonts:hc,registerCommand:Ah,AccessibilitySupport:S.ao,ContentWidgetPositionPreference:S.r3,CursorChangeReason:S.Vi,DefaultEndOfLine:S._x,EditorAutoIndentStrategy:S.rf,EditorOption:S.wT,EndOfLinePreference:S.gm,EndOfLineSequence:S.jl,MinimapPosition:S.F5,MouseTargetType:S.MG,OverlayWidgetPositionPreference:S.E$,OverviewRulerLane:S.sh,RenderLineNumbersType:S.Lu,RenderMinimap:S.vQ,ScrollbarVisibility:S.g_,ScrollType:S.g4,TextEditorCursorBlinkingStyle:S.In,TextEditorCursorStyle:S.d2,TrackedRangeStickiness:S.OI,WrappingIndent:S.up,InjectedTextCursorStops:S.RM,PositionAffinity:S.py,ConfigurationChangedEvent:C.Bb,BareFontInfo:I.E4,FontInfo:I.pR,TextModelResolvedOptions:O.dJ,FindMatch:O.tk,ApplyUpdateResult:C.rk,EditorType:E.g,EditorOptions:C.BH}}function Gf(pe,r){if(!r||!Array.isArray(r))return!1;for(const f of r)if(!pe(f))return!1;return!0}function Zl(pe,r){return typeof pe=="boolean"?pe:r}function Zf(pe,r){return typeof pe=="string"?pe:r}function km(pe){const r={};for(const f of pe)r[f]=!0;return r}function Yf(pe,r=!1){r&&(pe=pe.map(function(x){return x.toLowerCase()}));const f=km(pe);return r?function(x){return f[x.toLowerCase()]!==void 0&&f.hasOwnProperty(x.toLowerCase())}:function(x){return f[x]!==void 0&&f.hasOwnProperty(x)}}function Ph(pe,r){r=r.replace(/@@/g,"");let f=0,x;do x=!1,r=r.replace(/@(\w+)/g,function(ie,he){x=!0;let ve="";if(typeof pe[he]=="string")ve=pe[he];else if(pe[he]&&pe[he]instanceof RegExp)ve=pe[he].source;else throw pe[he]===void 0?kn(pe,"language definition does not contain attribute '"+he+"', used at: "+r):kn(pe,"attribute reference '"+he+"' must be a string, used at: "+r);return ci(ve)?"":"(?:"+ve+")"}),f++;while(x&&f<5);r=r.replace(/\x01/g,"@");const Y=(pe.ignoreCase?"i":"")+(pe.unicode?"u":"");return new RegExp(r,Y)}function Oh(pe,r,f,x){if(x<0)return pe;if(x<r.length)return r[x];if(x>=100){x=x-100;const Y=f.split(".");if(Y.unshift(f),x<Y.length)return Y[x]}return null}function Mm(pe,r,f,x){let Y=-1,ie=f,he=f.match(/^\$(([sS]?)(\d\d?)|#)(.*)$/);he&&(he[3]&&(Y=parseInt(he[3]),he[2]&&(Y=Y+100)),ie=he[4]);let ve="~",$e=ie;!ie||ie.length===0?(ve="!=",$e=""):/^\w*$/.test($e)?ve="==":(he=ie.match(/^(@|!@|~|!~|==|!=)(.*)$/),he&&(ve=he[1],$e=he[2]));let rt;if((ve==="~"||ve==="!~")&&/^(\w|\|)*$/.test($e)){const gt=Yf($e.split("|"),pe.ignoreCase);rt=function(Ht){return ve==="~"?gt(Ht):!gt(Ht)}}else if(ve==="@"||ve==="!@"){const gt=pe[$e];if(!gt)throw kn(pe,"the @ match target '"+$e+"' is not defined, in rule: "+r);if(!Gf(function(xn){return typeof xn=="string"},gt))throw kn(pe,"the @ match target '"+$e+"' must be an array of strings, in rule: "+r);const Ht=Yf(gt,pe.ignoreCase);rt=function(xn){return ve==="@"?Ht(xn):!Ht(xn)}}else if(ve==="~"||ve==="!~")if($e.indexOf("$")<0){const gt=Ph(pe,"^"+$e+"$");rt=function(Ht){return ve==="~"?gt.test(Ht):!gt.test(Ht)}}else rt=function(gt,Ht,xn,ii){return Ph(pe,"^"+vi(pe,$e,Ht,xn,ii)+"$").test(gt)};else if($e.indexOf("$")<0){const gt=oi(pe,$e);rt=function(Ht){return ve==="=="?Ht===gt:Ht!==gt}}else{const gt=oi(pe,$e);rt=function(Ht,xn,ii,Ki,gs){const ks=vi(pe,gt,xn,ii,Ki);return ve==="=="?Ht===ks:Ht!==ks}}return Y===-1?{name:f,value:x,test:function(gt,Ht,xn,ii){return rt(gt,gt,Ht,xn,ii)}}:{name:f,value:x,test:function(gt,Ht,xn,ii){const Ki=Oh(gt,Ht,xn,Y);return rt(Ki||"",gt,Ht,xn,ii)}}}function Fh(pe,r,f){if(f){if(typeof f=="string")return f;if(f.token||f.token===""){if(typeof f.token!="string")throw kn(pe,"a 'token' attribute must be of type string, in rule: "+r);{const x={token:f.token};if(f.token.indexOf("$")>=0&&(x.tokenSubst=!0),typeof f.bracket=="string")if(f.bracket==="@open")x.bracket=1;else if(f.bracket==="@close")x.bracket=-1;else throw kn(pe,"a 'bracket' attribute must be either '@open' or '@close', in rule: "+r);if(f.next){if(typeof f.next!="string")throw kn(pe,"the next state must be a string value in rule: "+r);{let Y=f.next;if(!/^(@pop|@push|@popall)$/.test(Y)&&(Y[0]==="@"&&(Y=Y.substr(1)),Y.indexOf("$")<0&&!Ye(pe,vi(pe,Y,"",[],""))))throw kn(pe,"the next state '"+f.next+"' is not defined in rule: "+r);x.next=Y}}return typeof f.goBack=="number"&&(x.goBack=f.goBack),typeof f.switchTo=="string"&&(x.switchTo=f.switchTo),typeof f.log=="string"&&(x.log=f.log),typeof f.nextEmbedded=="string"&&(x.nextEmbedded=f.nextEmbedded,pe.usesEmbedded=!0),x}}else if(Array.isArray(f)){const x=[];for(let Y=0,ie=f.length;Y<ie;Y++)x[Y]=Fh(pe,r,f[Y]);return{group:x}}else if(f.cases){const x=[];for(const ie in f.cases)if(f.cases.hasOwnProperty(ie)){const he=Fh(pe,r,f.cases[ie]);ie==="@default"||ie==="@"||ie===""?x.push({test:void 0,value:he,name:ie}):ie==="@eos"?x.push({test:function(ve,$e,rt,gt){return gt},value:he,name:ie}):x.push(Mm(pe,r,ie,he))}const Y=pe.defaultToken;return{test:function(ie,he,ve,$e){for(const rt of x)if(!rt.test||rt.test(ie,he,ve,$e))return rt.value;return Y}}}else throw kn(pe,"an action must be a string, an object with a 'token' or 'cases' attribute, or an array of actions; in rule: "+r)}else return{token:""}}class Rm{constructor(r){this.regex=new RegExp(""),this.action={token:""},this.matchOnlyAtLineStart=!1,this.name="",this.name=r}setRegex(r,f){let x;if(typeof f=="string")x=f;else if(f instanceof RegExp)x=f.source;else throw kn(r,"rules must start with a match string or regular expression: "+this.name);this.matchOnlyAtLineStart=x.length>0&&x[0]==="^",this.name=this.name+": "+x,this.regex=Ph(r,"^(?:"+(this.matchOnlyAtLineStart?x.substr(1):x)+")")}setAction(r,f){this.action=Fh(r,this.name,f)}}function qd(pe,r){if(!r||typeof r!="object")throw new Error("Monarch: expecting a language definition object");const f={};f.languageId=pe,f.includeLF=Zl(r.includeLF,!1),f.noThrow=!1,f.maxStack=100,f.start=typeof r.start=="string"?r.start:null,f.ignoreCase=Zl(r.ignoreCase,!1),f.unicode=Zl(r.unicode,!1),f.tokenPostfix=Zf(r.tokenPostfix,"."+f.languageId),f.defaultToken=Zf(r.defaultToken,"source"),f.usesEmbedded=!1;const x=r;x.languageId=pe,x.includeLF=f.includeLF,x.ignoreCase=f.ignoreCase,x.unicode=f.unicode,x.noThrow=f.noThrow,x.usesEmbedded=f.usesEmbedded,x.stateNames=r.tokenizer,x.defaultToken=f.defaultToken;function Y(he,ve,$e){for(const rt of $e){let gt=rt.include;if(gt){if(typeof gt!="string")throw kn(f,"an 'include' attribute must be a string at: "+he);if(gt[0]==="@"&&(gt=gt.substr(1)),!r.tokenizer[gt])throw kn(f,"include target '"+gt+"' is not defined at: "+he);Y(he+"."+gt,ve,r.tokenizer[gt])}else{const Ht=new Rm(he);if(Array.isArray(rt)&&rt.length>=1&&rt.length<=3)if(Ht.setRegex(x,rt[0]),rt.length>=3)if(typeof rt[1]=="string")Ht.setAction(x,{token:rt[1],next:rt[2]});else if(typeof rt[1]=="object"){const xn=rt[1];xn.next=rt[2],Ht.setAction(x,xn)}else throw kn(f,"a next state as the last element of a rule can only be given if the action is either an object or a string, at: "+he);else Ht.setAction(x,rt[1]);else{if(!rt.regex)throw kn(f,"a rule must either be an array, or an object with a 'regex' or 'include' field at: "+he);rt.name&&typeof rt.name=="string"&&(Ht.name=rt.name),rt.matchOnlyAtStart&&(Ht.matchOnlyAtLineStart=Zl(rt.matchOnlyAtLineStart,!1)),Ht.setRegex(x,rt.regex),Ht.setAction(x,rt.action)}ve.push(Ht)}}}if(!r.tokenizer||typeof r.tokenizer!="object")throw kn(f,"a language definition must define the 'tokenizer' attribute as an object");f.tokenizer=[];for(const he in r.tokenizer)if(r.tokenizer.hasOwnProperty(he)){f.start||(f.start=he);const ve=r.tokenizer[he];f.tokenizer[he]=new Array,Y("tokenizer."+he,f.tokenizer[he],ve)}if(f.usesEmbedded=x.usesEmbedded,r.brackets){if(!Array.isArray(r.brackets))throw kn(f,"the 'brackets' attribute must be defined as an array")}else r.brackets=[{open:"{",close:"}",token:"delimiter.curly"},{open:"[",close:"]",token:"delimiter.square"},{open:"(",close:")",token:"delimiter.parenthesis"},{open:"<",close:">",token:"delimiter.angle"}];const ie=[];for(const he of r.brackets){let ve=he;if(ve&&Array.isArray(ve)&&ve.length===3&&(ve={token:ve[2],open:ve[0],close:ve[1]}),ve.open===ve.close)throw kn(f,"open and close brackets in a 'brackets' attribute must be different: "+ve.open+`
 hint: use the 'bracket' attribute if matching on equal brackets is required.`);if(typeof ve.open=="string"&&typeof ve.token=="string"&&typeof ve.close=="string")ie.push({token:ve.token+f.tokenPostfix,open:oi(f,ve.open),close:oi(f,ve.close)});else throw kn(f,"every element in the 'brackets' array must be a '{open,close,token}' object or array")}return f.brackets=ie,f.noThrow=!0,f}var Qf=function(pe,r,f,x){function Y(ie){return ie instanceof f?ie:new f(function(he){he(ie)})}return new(f||(f=Promise))(function(ie,he){function ve(gt){try{rt(x.next(gt))}catch(Ht){he(Ht)}}function $e(gt){try{rt(x.throw(gt))}catch(Ht){he(Ht)}}function rt(gt){gt.done?ie(gt.value):Y(gt.value).then(ve,$e)}rt((x=x.apply(pe,r||[])).next())})};function kl(pe){ua.dQ.registerLanguage(pe)}function Vu(){let pe=[];return pe=pe.concat(ua.dQ.getLanguages()),pe}function Xf(pe){return Oi.get(K.O).languageIdCodec.encodeLanguageId(pe)}function Am(pe,r){const x=Oi.get(K.O).onDidEncounterLanguage(Y=>{Y===pe&&(x.dispose(),r())});return x}function Jf(pe,r){if(!Oi.get(K.O).isRegisteredLanguageId(pe))throw new Error(`Cannot set configuration for unknown language ${pe}`);return Oi.get(R.c_).register(pe,r,100)}class qf{constructor(r,f){this._languageId=r,this._actual=f}getInitialState(){return this._actual.getInitialState()}tokenize(r,f,x){if(typeof this._actual.tokenize=="function")return fc.adaptTokenize(this._languageId,this._actual,r,x);throw new Error("Not supported!")}tokenizeEncoded(r,f,x){const Y=this._actual.tokenizeEncoded(r,x);return new T.DI(Y.tokens,Y.endState)}}class fc{constructor(r,f,x,Y){this._languageId=r,this._actual=f,this._languageService=x,this._standaloneThemeService=Y}getInitialState(){return this._actual.getInitialState()}static _toClassicTokens(r,f){const x=[];let Y=0;for(let ie=0,he=r.length;ie<he;ie++){const ve=r[ie];let $e=ve.startIndex;ie===0?$e=0:$e<Y&&($e=Y),x[ie]=new T.WU($e,ve.scopes,f),Y=$e}return x}static adaptTokenize(r,f,x,Y){const ie=f.tokenize(x,Y),he=fc._toClassicTokens(ie.tokens,r);let ve;return ie.endState.equals(Y)?ve=Y:ve=ie.endState,new T.hG(he,ve)}tokenize(r,f,x){return fc.adaptTokenize(this._languageId,this._actual,r,x)}_toBinaryTokens(r,f){const x=r.encodeLanguageId(this._languageId),Y=this._standaloneThemeService.getColorTheme().tokenTheme,ie=[];let he=0,ve=0;for(let rt=0,gt=f.length;rt<gt;rt++){const Ht=f[rt],xn=Y.match(x,Ht.scopes);if(he>0&&ie[he-1]===xn)continue;let ii=Ht.startIndex;rt===0?ii=0:ii<ve&&(ii=ve),ie[he++]=ii,ie[he++]=xn,ve=ii}const $e=new Uint32Array(he);for(let rt=0;rt<he;rt++)$e[rt]=ie[rt];return $e}tokenizeEncoded(r,f,x){const Y=this._actual.tokenize(r,x),ie=this._toBinaryTokens(this._languageService.languageIdCodec,Y.tokens);let he;return Y.endState.equals(x)?he=x:he=Y.endState,new T.DI(ie,he)}}function eg(pe){return typeof pe.getInitialState=="function"}function Bh(pe){return"tokenizeEncoded"in pe}function Wh(pe){return pe&&typeof pe.then=="function"}function Vh(pe){const r=Oi.get(Sr.Z);if(pe){const f=[null];for(let x=1,Y=pe.length;x<Y;x++)f[x]=Na.Il.fromHex(pe[x]);r.setColorMapOverride(f)}else r.setColorMapOverride(null)}function sr(pe,r){return Bh(r)?new qf(pe,r):new fc(pe,r,Oi.get(K.O),Oi.get(Sr.Z))}function gc(pe,r){const f={createTokenizationSupport:()=>Qf(this,void 0,void 0,function*(){const x=yield Promise.resolve(r.create());return x?eg(x)?sr(pe,x):new bi(Oi.get(K.O),Oi.get(Sr.Z),pe,qd(pe,x),Oi.get(Tt.Ui)):null})};return T.RW.registerFactory(pe,f)}function Hh(pe,r){if(!Oi.get(K.O).isRegisteredLanguageId(pe))throw new Error(`Cannot set tokens provider for unknown language ${pe}`);return Wh(r)?gc(pe,{create:()=>r}):T.RW.register(pe,sr(pe,r))}function Pm(pe,r){const f=x=>new bi(Oi.get(K.O),Oi.get(Sr.Z),pe,qd(pe,x),Oi.get(Tt.Ui));return Wh(r)?gc(pe,{create:()=>r}):T.RW.register(pe,f(r))}function vd(pe,r){return Oi.get(kt.p).referenceProvider.register(pe,r)}function Om(pe,r){return Oi.get(kt.p).renameProvider.register(pe,r)}function Cd(pe,r){return Oi.get(kt.p).signatureHelpProvider.register(pe,r)}function tg(pe,r){return Oi.get(kt.p).hoverProvider.register(pe,{provideHover:(x,Y,ie)=>{const he=x.getWordAtPosition(Y);return Promise.resolve(r.provideHover(x,Y,ie)).then(ve=>{if(!!ve)return!ve.range&&he&&(ve.range=new P.e(Y.lineNumber,he.startColumn,Y.lineNumber,he.endColumn)),ve.range||(ve.range=new P.e(Y.lineNumber,Y.column,Y.lineNumber,Y.column)),ve})}})}function ng(pe,r){return Oi.get(kt.p).documentSymbolProvider.register(pe,r)}function ig(pe,r){return Oi.get(kt.p).documentHighlightProvider.register(pe,r)}function zh(pe,r){return Oi.get(kt.p).linkedEditingRangeProvider.register(pe,r)}function Fm(pe,r){return Oi.get(kt.p).definitionProvider.register(pe,r)}function Hu(pe,r){return Oi.get(kt.p).implementationProvider.register(pe,r)}function Bm(pe,r){return Oi.get(kt.p).typeDefinitionProvider.register(pe,r)}function Uh(pe,r){return Oi.get(kt.p).codeLensProvider.register(pe,r)}function Wm(pe,r,f){return Oi.get(kt.p).codeActionProvider.register(pe,{providedCodeActionKinds:f==null?void 0:f.providedCodeActionKinds,documentation:f==null?void 0:f.documentation,provideCodeActions:(Y,ie,he,ve)=>{const rt=Oi.get(fo.lT).read({resource:Y.uri}).filter(gt=>P.e.areIntersectingOrTouching(gt,ie));return r.provideCodeActions(Y,ie,{markers:rt,only:he.only,trigger:he.trigger},ve)},resolveCodeAction:r.resolveCodeAction})}function Vm(pe,r){return Oi.get(kt.p).documentFormattingEditProvider.register(pe,r)}function Hm(pe,r){return Oi.get(kt.p).documentRangeFormattingEditProvider.register(pe,r)}function zu(pe,r){return Oi.get(kt.p).onTypeFormattingEditProvider.register(pe,r)}function sg(pe,r){return Oi.get(kt.p).linkProvider.register(pe,r)}function mc(pe,r){return Oi.get(kt.p).completionProvider.register(pe,r)}function Uu(pe,r){return Oi.get(kt.p).colorProvider.register(pe,r)}function pc(pe,r){return Oi.get(kt.p).foldingRangeProvider.register(pe,r)}function Kc(pe,r){return Oi.get(kt.p).declarationProvider.register(pe,r)}function zm(pe,r){return Oi.get(kt.p).selectionRangeProvider.register(pe,r)}function Um(pe,r){return Oi.get(kt.p).documentSemanticTokensProvider.register(pe,r)}function og(pe,r){return Oi.get(kt.p).documentRangeSemanticTokensProvider.register(pe,r)}function jm(pe,r){return Oi.get(kt.p).inlineCompletionsProvider.register(pe,r)}function Km(pe,r){return Oi.get(kt.p).inlayHintsProvider.register(pe,r)}function jh(){return{register:kl,getLanguages:Vu,onLanguage:Am,getEncodedLanguageId:Xf,setLanguageConfiguration:Jf,setColorMap:Vh,registerTokensProviderFactory:gc,setTokensProvider:Hh,setMonarchTokensProvider:Pm,registerReferenceProvider:vd,registerRenameProvider:Om,registerCompletionItemProvider:mc,registerSignatureHelpProvider:Cd,registerHoverProvider:tg,registerDocumentSymbolProvider:ng,registerDocumentHighlightProvider:ig,registerLinkedEditingRangeProvider:zh,registerDefinitionProvider:Fm,registerImplementationProvider:Hu,registerTypeDefinitionProvider:Bm,registerCodeLensProvider:Uh,registerCodeActionProvider:Wm,registerDocumentFormattingEditProvider:Vm,registerDocumentRangeFormattingEditProvider:Hm,registerOnTypeFormattingEditProvider:zu,registerLinkProvider:sg,registerColorProvider:Uu,registerFoldingRangeProvider:pc,registerDeclarationProvider:Kc,registerSelectionRangeProvider:zm,registerDocumentSemanticTokensProvider:Um,registerDocumentRangeSemanticTokensProvider:og,registerInlineCompletionsProvider:jm,registerInlayHintsProvider:Km,DocumentHighlightKind:S.MY,CompletionItemKind:S.cm,CompletionItemTag:S.we,CompletionItemInsertTextRule:S.a7,SymbolKind:S.cR,SymbolTag:S.r4,IndentAction:S.wU,CompletionTriggerKind:S.Ij,SignatureHelpTriggerKind:S.WW,InlayHintKind:S.gl,InlineCompletionTriggerKind:S.bw,CodeActionTriggerType:S.np,FoldingRangeKind:T.AD}}var ja=l(1557),Kh;C.BH.wrappingIndent.defaultValue=0,C.BH.glyphMargin.defaultValue=!1,C.BH.autoIndent.defaultValue=3,C.BH.overviewRulerLanes.defaultValue=2,ja.xC.setFormatterSelector((pe,r,f)=>Promise.resolve(pe[0]));const Dr=y();Dr.editor=Gl(),Dr.languages=jh();const $h=Dr.CancellationTokenSource,$m=Dr.Emitter,ju=Dr.KeyCode,_c=Dr.KeyMod,Gm=Dr.Position,Zm=Dr.Range,Gh=Dr.Selection,Zh=Dr.SelectionDirection,rg=Dr.MarkerSeverity,Yh=Dr.MarkerTag,Ym=Dr.Uri,ag=Dr.Token,$c=Dr.editor,lg=Dr.languages;(((Kh=ge.li.MonacoEnvironment)===null||Kh===void 0?void 0:Kh.globalAPI)||typeof define=="function"&&l.amdO)&&(self.monaco=Dr),typeof self.require!="undefined"&&typeof self.require.config=="function"&&self.require.config({ignoreDuplicateModules:["vscode-languageserver-types","vscode-languageserver-types/main","vscode-languageserver-textdocument","vscode-languageserver-textdocument/main","vscode-nls","vscode-nls/vscode-nls","jsonc-parser","jsonc-parser/main","vscode-uri","vscode-uri/index","vs/basic-languages/typescript/typescript"]})},57223:function(nt,xe,l){"use strict";l.r(xe),l.d(xe,{CancellationTokenSource:function(){return C.CancellationTokenSource},Emitter:function(){return C.Emitter},KeyCode:function(){return C.KeyCode},KeyMod:function(){return C.KeyMod},MarkerSeverity:function(){return C.MarkerSeverity},MarkerTag:function(){return C.MarkerTag},Position:function(){return C.Position},Range:function(){return C.Range},Selection:function(){return C.Selection},SelectionDirection:function(){return C.SelectionDirection},Token:function(){return C.Token},Uri:function(){return C.Uri},editor:function(){return C.editor},languages:function(){return C.languages}});var C=l(27920);var d=Object.defineProperty,j=Object.getOwnPropertyDescriptor,W=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,z=(p,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of W(e))!L.call(p,s)&&s!==t&&d(p,s,{get:()=>e[s],enumerable:!(n=j(e,s))||n.enumerable});return p},P=(p,e,t)=>(z(p,e,"default"),t&&z(t,e,"default")),A={};P(A,C);var T={},S={},_=class{constructor(p){Mo(this,"_languageId");Mo(this,"_loadingTriggered");Mo(this,"_lazyLoadPromise");Mo(this,"_lazyLoadPromiseResolve");Mo(this,"_lazyLoadPromiseReject");this._languageId=p,this._loadingTriggered=!1,this._lazyLoadPromise=new Promise((e,t)=>{this._lazyLoadPromiseResolve=e,this._lazyLoadPromiseReject=t})}static getOrCreate(p){return S[p]||(S[p]=new _(p)),S[p]}load(){return this._loadingTriggered||(this._loadingTriggered=!0,T[this._languageId].loader().then(p=>this._lazyLoadPromiseResolve(p),p=>this._lazyLoadPromiseReject(p))),this._lazyLoadPromise}};function y(p){return zf(this,null,function*(){yield _.getOrCreate(p).load(),A.editor.createModel("",p).dispose()})}function u(p){const e=p.id;T[e]=p,A.languages.register(p);const t=_.getOrCreate(e);A.languages.registerTokensProviderFactory(e,{create:()=>zf(this,null,function*(){return(yield t.load()).language})}),A.languages.onLanguage(e,()=>zf(this,null,function*(){const n=yield t.load();A.languages.setLanguageConfiguration(e,n.conf)}))}u({id:"abap",extensions:[".abap"],aliases:["abap","ABAP"],loader:()=>l.e(6773).then(l.bind(l,36773))});u({id:"apex",extensions:[".cls"],aliases:["Apex","apex"],mimetypes:["text/x-apex-source","text/x-apex"],loader:()=>l.e(9e3).then(l.bind(l,99e3))});u({id:"azcli",extensions:[".azcli"],aliases:["Azure CLI","azcli"],loader:()=>l.e(9420).then(l.bind(l,29420))});u({id:"bat",extensions:[".bat",".cmd"],aliases:["Batch","bat"],loader:()=>l.e(4405).then(l.bind(l,24405))});u({id:"bicep",extensions:[".bicep"],aliases:["Bicep"],loader:()=>l.e(5366).then(l.bind(l,95366))});u({id:"cameligo",extensions:[".mligo"],aliases:["Cameligo"],loader:()=>l.e(1885).then(l.bind(l,1885))});u({id:"clojure",extensions:[".clj",".cljs",".cljc",".edn"],aliases:["clojure","Clojure"],loader:()=>l.e(4677).then(l.bind(l,84677))});u({id:"coffeescript",extensions:[".coffee"],aliases:["CoffeeScript","coffeescript","coffee"],mimetypes:["text/x-coffeescript","text/coffeescript"],loader:()=>l.e(6861).then(l.bind(l,16861))});u({id:"c",extensions:[".c",".h"],aliases:["C","c"],loader:()=>l.e(7622).then(l.bind(l,77622))}),u({id:"cpp",extensions:[".cpp",".cc",".cxx",".hpp",".hh",".hxx"],aliases:["C++","Cpp","cpp"],loader:()=>l.e(7622).then(l.bind(l,77622))});u({id:"csharp",extensions:[".cs",".csx",".cake"],aliases:["C#","csharp"],loader:()=>l.e(3328).then(l.bind(l,53328))});u({id:"csp",extensions:[],aliases:["CSP","csp"],loader:()=>l.e(8994).then(l.bind(l,8994))});u({id:"css",extensions:[".css"],aliases:["CSS","css"],mimetypes:["text/css"],loader:()=>l.e(4259).then(l.bind(l,84259))});u({id:"cypher",extensions:[".cypher",".cyp"],aliases:["Cypher","OpenCypher"],loader:()=>l.e(5160).then(l.bind(l,85160))});u({id:"dart",extensions:[".dart"],aliases:["Dart","dart"],mimetypes:["text/x-dart-source","text/x-dart"],loader:()=>l.e(5444).then(l.bind(l,65444))});u({id:"dockerfile",extensions:[".dockerfile"],filenames:["Dockerfile"],aliases:["Dockerfile"],loader:()=>l.e(7535).then(l.bind(l,17535))});u({id:"ecl",extensions:[".ecl"],aliases:["ECL","Ecl","ecl"],loader:()=>l.e(2615).then(l.bind(l,12615))});u({id:"elixir",extensions:[".ex",".exs"],aliases:["Elixir","elixir","ex"],loader:()=>l.e(5781).then(l.bind(l,85781))});u({id:"flow9",extensions:[".flow"],aliases:["Flow9","Flow","flow9","flow"],loader:()=>l.e(3196).then(l.bind(l,93196))});u({id:"fsharp",extensions:[".fs",".fsi",".ml",".mli",".fsx",".fsscript"],aliases:["F#","FSharp","fsharp"],loader:()=>l.e(6990).then(l.bind(l,56990))});u({id:"freemarker2",extensions:[".ftl",".ftlh",".ftlx"],aliases:["FreeMarker2","Apache FreeMarker2"],loader:()=>l.e(9826).then(l.bind(l,99826)).then(p=>p.TagAutoInterpolationDollar)}),u({id:"freemarker2.tag-angle.interpolation-dollar",aliases:["FreeMarker2 (Angle/Dollar)","Apache FreeMarker2 (Angle/Dollar)"],loader:()=>l.e(9826).then(l.bind(l,99826)).then(p=>p.TagAngleInterpolationDollar)}),u({id:"freemarker2.tag-bracket.interpolation-dollar",aliases:["FreeMarker2 (Bracket/Dollar)","Apache FreeMarker2 (Bracket/Dollar)"],loader:()=>l.e(9826).then(l.bind(l,99826)).then(p=>p.TagBracketInterpolationDollar)}),u({id:"freemarker2.tag-angle.interpolation-bracket",aliases:["FreeMarker2 (Angle/Bracket)","Apache FreeMarker2 (Angle/Bracket)"],loader:()=>l.e(9826).then(l.bind(l,99826)).then(p=>p.TagAngleInterpolationBracket)}),u({id:"freemarker2.tag-bracket.interpolation-bracket",aliases:["FreeMarker2 (Bracket/Bracket)","Apache FreeMarker2 (Bracket/Bracket)"],loader:()=>l.e(9826).then(l.bind(l,99826)).then(p=>p.TagBracketInterpolationBracket)}),u({id:"freemarker2.tag-auto.interpolation-dollar",aliases:["FreeMarker2 (Auto/Dollar)","Apache FreeMarker2 (Auto/Dollar)"],loader:()=>l.e(9826).then(l.bind(l,99826)).then(p=>p.TagAutoInterpolationDollar)}),u({id:"freemarker2.tag-auto.interpolation-bracket",aliases:["FreeMarker2 (Auto/Bracket)","Apache FreeMarker2 (Auto/Bracket)"],loader:()=>l.e(9826).then(l.bind(l,99826)).then(p=>p.TagAutoInterpolationBracket)});u({id:"go",extensions:[".go"],aliases:["Go"],loader:()=>l.e(6172).then(l.bind(l,83623))});u({id:"graphql",extensions:[".graphql",".gql"],aliases:["GraphQL","graphql","gql"],mimetypes:["application/graphql"],loader:()=>l.e(5209).then(l.bind(l,75209))});u({id:"handlebars",extensions:[".handlebars",".hbs"],aliases:["Handlebars","handlebars","hbs"],mimetypes:["text/x-handlebars-template"],loader:()=>l.e(9215).then(l.bind(l,89215))});u({id:"hcl",extensions:[".tf",".tfvars",".hcl"],aliases:["Terraform","tf","HCL","hcl"],loader:()=>l.e(2339).then(l.bind(l,92339))});u({id:"html",extensions:[".html",".htm",".shtml",".xhtml",".mdoc",".jsp",".asp",".aspx",".jshtm"],aliases:["HTML","htm","html","xhtml"],mimetypes:["text/html","text/x-jshtm","text/template","text/ng-template"],loader:()=>l.e(4719).then(l.bind(l,94719))});u({id:"ini",extensions:[".ini",".properties",".gitconfig"],filenames:["config",".gitattributes",".gitconfig",".editorconfig"],aliases:["Ini","ini"],loader:()=>l.e(1674).then(l.bind(l,1674))});u({id:"java",extensions:[".java",".jav"],aliases:["Java","java"],mimetypes:["text/x-java-source","text/x-java"],loader:()=>l.e(1230).then(l.bind(l,31230))});u({id:"javascript",extensions:[".js",".es6",".jsx",".mjs",".cjs"],firstLine:"^#!.*\\bnode",filenames:["jakefile"],aliases:["JavaScript","javascript","js"],mimetypes:["text/javascript"],loader:()=>l.e(6348).then(l.bind(l,86348))});u({id:"julia",extensions:[".jl"],aliases:["julia","Julia"],loader:()=>l.e(9798).then(l.bind(l,49798))});u({id:"kotlin",extensions:[".kt"],aliases:["Kotlin","kotlin"],mimetypes:["text/x-kotlin-source","text/x-kotlin"],loader:()=>l.e(9892).then(l.bind(l,39892))});u({id:"less",extensions:[".less"],aliases:["Less","less"],mimetypes:["text/x-less","text/less"],loader:()=>l.e(6306).then(l.bind(l,36306))});u({id:"lexon",extensions:[".lex"],aliases:["Lexon"],loader:()=>l.e(1394).then(l.bind(l,21394))});u({id:"lua",extensions:[".lua"],aliases:["Lua","lua"],loader:()=>l.e(8895).then(l.bind(l,48895))});u({id:"liquid",extensions:[".liquid",".html.liquid"],aliases:["Liquid","liquid"],mimetypes:["application/liquid"],loader:()=>l.e(7417).then(l.bind(l,47417))});u({id:"m3",extensions:[".m3",".i3",".mg",".ig"],aliases:["Modula-3","Modula3","modula3","m3"],loader:()=>l.e(598).then(l.bind(l,70598))});u({id:"markdown",extensions:[".md",".markdown",".mdown",".mkdn",".mkd",".mdwn",".mdtxt",".mdtext"],aliases:["Markdown","markdown"],loader:()=>l.e(9067).then(l.bind(l,99067))});u({id:"mips",extensions:[".s"],aliases:["MIPS","MIPS-V"],mimetypes:["text/x-mips","text/mips","text/plaintext"],loader:()=>l.e(8425).then(l.bind(l,68425))});u({id:"msdax",extensions:[".dax",".msdax"],aliases:["DAX","MSDAX"],loader:()=>l.e(116).then(l.bind(l,70116))});u({id:"mysql",extensions:[],aliases:["MySQL","mysql"],loader:()=>l.e(8964).then(l.bind(l,78964))});u({id:"objective-c",extensions:[".m"],aliases:["Objective-C"],loader:()=>l.e(5656).then(l.bind(l,15656))});u({id:"pascal",extensions:[".pas",".p",".pp"],aliases:["Pascal","pas"],mimetypes:["text/x-pascal-source","text/x-pascal"],loader:()=>l.e(7351).then(l.bind(l,97351))});u({id:"pascaligo",extensions:[".ligo"],aliases:["Pascaligo","ligo"],loader:()=>l.e(1143).then(l.bind(l,31143))});u({id:"perl",extensions:[".pl"],aliases:["Perl","pl"],loader:()=>l.e(1389).then(l.bind(l,41389))});u({id:"pgsql",extensions:[],aliases:["PostgreSQL","postgres","pg","postgre"],loader:()=>l.e(9284).then(l.bind(l,39284))});u({id:"php",extensions:[".php",".php4",".php5",".phtml",".ctp"],aliases:["PHP","php"],mimetypes:["application/x-php"],loader:()=>l.e(3449).then(l.bind(l,43449))});u({id:"pla",extensions:[".pla"],loader:()=>l.e(761).then(l.bind(l,31717))});u({id:"postiats",extensions:[".dats",".sats",".hats"],aliases:["ATS","ATS/Postiats"],loader:()=>l.e(3433).then(l.bind(l,3433))});u({id:"powerquery",extensions:[".pq",".pqm"],aliases:["PQ","M","Power Query","Power Query M"],loader:()=>l.e(6464).then(l.bind(l,16464))});u({id:"powershell",extensions:[".ps1",".psm1",".psd1"],aliases:["PowerShell","powershell","ps","ps1"],loader:()=>l.e(8336).then(l.bind(l,28336))});u({id:"proto",extensions:[".proto"],aliases:["protobuf","Protocol Buffers"],loader:()=>l.e(3294).then(l.bind(l,3294))});u({id:"pug",extensions:[".jade",".pug"],aliases:["Pug","Jade","jade"],loader:()=>l.e(4995).then(l.bind(l,34995))});u({id:"python",extensions:[".py",".rpy",".pyw",".cpy",".gyp",".gypi"],aliases:["Python","py"],firstLine:"^#!/.*\\bpython[0-9.-]*\\b",loader:()=>l.e(8124).then(l.bind(l,88124))});u({id:"qsharp",extensions:[".qs"],aliases:["Q#","qsharp"],loader:()=>l.e(5008).then(l.bind(l,65008))});u({id:"r",extensions:[".r",".rhistory",".rmd",".rprofile",".rt"],aliases:["R","r"],loader:()=>l.e(8794).then(l.bind(l,8794))});u({id:"razor",extensions:[".cshtml"],aliases:["Razor","razor"],mimetypes:["text/x-cshtml"],loader:()=>l.e(337).then(l.bind(l,10337))});u({id:"redis",extensions:[".redis"],aliases:["redis"],loader:()=>l.e(1401).then(l.bind(l,21401))});u({id:"redshift",extensions:[],aliases:["Redshift","redshift"],loader:()=>l.e(2502).then(l.bind(l,62502))});u({id:"restructuredtext",extensions:[".rst"],aliases:["reStructuredText","restructuredtext"],loader:()=>l.e(8548).then(l.bind(l,68548))});u({id:"ruby",extensions:[".rb",".rbx",".rjs",".gemspec",".pp"],filenames:["rakefile","Gemfile"],aliases:["Ruby","rb"],loader:()=>l.e(3882).then(l.bind(l,43882))});u({id:"rust",extensions:[".rs",".rlib"],aliases:["Rust","rust"],loader:()=>l.e(249).then(l.bind(l,20249))});u({id:"sb",extensions:[".sb"],aliases:["Small Basic","sb"],loader:()=>l.e(7212).then(l.bind(l,7212))});u({id:"scala",extensions:[".scala",".sc",".sbt"],aliases:["Scala","scala","SBT","Sbt","sbt","Dotty","dotty"],mimetypes:["text/x-scala-source","text/x-scala","text/x-sbt","text/x-dotty"],loader:()=>l.e(2006).then(l.bind(l,92006))});u({id:"scheme",extensions:[".scm",".ss",".sch",".rkt"],aliases:["scheme","Scheme"],loader:()=>l.e(9041).then(l.bind(l,69041))});u({id:"scss",extensions:[".scss"],aliases:["Sass","sass","scss"],mimetypes:["text/x-scss","text/scss"],loader:()=>l.e(7231).then(l.bind(l,77231))});u({id:"shell",extensions:[".sh",".bash"],aliases:["Shell","sh"],loader:()=>l.e(6132).then(l.bind(l,16132))});u({id:"sol",extensions:[".sol"],aliases:["sol","solidity","Solidity"],loader:()=>l.e(6538).then(l.bind(l,6538))});u({id:"aes",extensions:[".aes"],aliases:["aes","sophia","Sophia"],loader:()=>l.e(9356).then(l.bind(l,29356))});u({id:"sparql",extensions:[".rq"],aliases:["sparql","SPARQL"],loader:()=>l.e(8582).then(l.bind(l,8582))});u({id:"sql",extensions:[".sql"],aliases:["SQL"],loader:()=>l.e(3498).then(l.bind(l,73498))});u({id:"st",extensions:[".st",".iecst",".iecplc",".lc3lib"],aliases:["StructuredText","scl","stl"],loader:()=>l.e(7717).then(l.bind(l,77717))});u({id:"swift",aliases:["Swift","swift"],extensions:[".swift"],mimetypes:["text/swift"],loader:()=>l.e(6340).then(l.bind(l,76340))});u({id:"systemverilog",extensions:[".sv",".svh"],aliases:["SV","sv","SystemVerilog","systemverilog"],loader:()=>l.e(2002).then(l.bind(l,32002))}),u({id:"verilog",extensions:[".v",".vh"],aliases:["V","v","Verilog","verilog"],loader:()=>l.e(2002).then(l.bind(l,32002))});u({id:"tcl",extensions:[".tcl"],aliases:["tcl","Tcl","tcltk","TclTk","tcl/tk","Tcl/Tk"],loader:()=>l.e(93).then(l.bind(l,48794))});u({id:"twig",extensions:[".twig"],aliases:["Twig","twig"],mimetypes:["text/x-twig"],loader:()=>l.e(8569).then(l.bind(l,88569))});u({id:"typescript",extensions:[".ts",".tsx"],aliases:["TypeScript","ts","typescript"],mimetypes:["text/typescript"],loader:()=>l.e(6061).then(l.bind(l,36061))});u({id:"vb",extensions:[".vb"],aliases:["Visual Basic","vb"],loader:()=>l.e(8926).then(l.bind(l,8926))});u({id:"xml",extensions:[".xml",".dtd",".ascx",".csproj",".config",".wxi",".wxl",".wxs",".xaml",".svg",".svgz",".opf",".xsl"],firstLine:"(\\<\\?xml.*)|(\\<svg)|(\\<\\!doctype\\s+svg)",aliases:["XML","xml"],mimetypes:["text/xml","application/xml","application/xaml+xml","application/xml-dtd"],loader:()=>l.e(2743).then(l.bind(l,32743))});u({id:"yaml",extensions:[".yaml",".yml"],aliases:["YAML","yaml","YML","yml"],mimetypes:["application/x-yaml","text/x-yaml"],loader:()=>l.e(6148).then(l.bind(l,46148))});var a=Object.defineProperty,b=Object.getOwnPropertyDescriptor,D=Object.getOwnPropertyNames,N=Object.prototype.hasOwnProperty,I=(p,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of D(e))!N.call(p,s)&&s!==t&&a(p,s,{get:()=>e[s],enumerable:!(n=b(e,s))||n.enumerable});return p},E=(p,e,t)=>(I(p,e,"default"),t&&I(t,e,"default")),O={};E(O,C);var R=class{constructor(p,e,t){Mo(this,"_onDidChange",new O.Emitter);Mo(this,"_options");Mo(this,"_modeConfiguration");Mo(this,"_languageId");this._languageId=p,this.setOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this.options}get options(){return this._options}setOptions(p){this._options=p||Object.create(null),this._onDidChange.fire(this)}setDiagnosticsOptions(p){this.setOptions(p)}setModeConfiguration(p){this._modeConfiguration=p||Object.create(null),this._onDidChange.fire(this)}},M={validate:!0,lint:{compatibleVendorPrefixes:"ignore",vendorPrefix:"warning",duplicateProperties:"warning",emptyRules:"warning",importStatement:"ignore",boxModel:"ignore",universalSelector:"ignore",zeroUnits:"ignore",fontFaceProperties:"warning",hexColorLength:"error",argumentsInColorFunction:"error",unknownProperties:"warning",ieHack:"ignore",unknownVendorSpecificProperties:"ignore",propertyIgnoredDueToDisplay:"warning",important:"ignore",float:"ignore",idSelector:"ignore"},data:{useDefaultDataProvider:!0},format:{newlineBetweenSelectors:!0,newlineBetweenRules:!0,spaceAroundSelectorSeparator:!1,braceStyle:"collapse",maxPreserveNewLines:void 0,preserveNewLines:!0}},K={completionItems:!0,hovers:!0,documentSymbols:!0,definitions:!0,references:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0,documentFormattingEdits:!0,documentRangeFormattingEdits:!0},Z=new R("css",M,K),te=new R("scss",M,K),de=new R("less",M,K);O.languages.css={cssDefaults:Z,lessDefaults:de,scssDefaults:te};function ge(){return l.e(4437).then(l.bind(l,84437))}O.languages.onLanguage("less",()=>{ge().then(p=>p.setupMode(de))}),O.languages.onLanguage("scss",()=>{ge().then(p=>p.setupMode(te))}),O.languages.onLanguage("css",()=>{ge().then(p=>p.setupMode(Z))});var le=Object.defineProperty,se=Object.getOwnPropertyDescriptor,X=Object.getOwnPropertyNames,re=Object.prototype.hasOwnProperty,ne=(p,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of X(e))!re.call(p,s)&&s!==t&&le(p,s,{get:()=>e[s],enumerable:!(n=se(e,s))||n.enumerable});return p},U=(p,e,t)=>(ne(p,e,"default"),t&&ne(t,e,"default")),oe={};U(oe,C);var q=class{constructor(p,e,t){Mo(this,"_onDidChange",new oe.Emitter);Mo(this,"_options");Mo(this,"_modeConfiguration");Mo(this,"_languageId");this._languageId=p,this.setOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get options(){return this._options}get modeConfiguration(){return this._modeConfiguration}setOptions(p){this._options=p||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(p){this._modeConfiguration=p||Object.create(null),this._onDidChange.fire(this)}},ae={tabSize:4,insertSpaces:!1,wrapLineLength:120,unformatted:'default": "a, abbr, acronym, b, bdo, big, br, button, cite, code, dfn, em, i, img, input, kbd, label, map, object, q, samp, select, small, span, strong, sub, sup, textarea, tt, var',contentUnformatted:"pre",indentInnerHtml:!1,preserveNewLines:!0,maxPreserveNewLines:void 0,indentHandlebars:!1,endWithNewline:!1,extraLiners:"head, body, /html",wrapAttributes:"auto"},me={format:ae,suggest:{},data:{useDefaultDataProvider:!0}};function ke(p){return{completionItems:!0,hovers:!0,documentSymbols:!0,links:!0,documentHighlights:!0,rename:!0,colors:!0,foldingRanges:!0,selectionRanges:!0,diagnostics:p===H,documentFormattingEdits:p===H,documentRangeFormattingEdits:p===H}}var H="html",ut="handlebars",Ke="razor",He=ft(H,me,ke(H)),ze=He.defaults,Le=ft(ut,me,ke(ut)),Ze=Le.defaults,Ge=ft(Ke,me,ke(Ke)),Fe=Ge.defaults;oe.languages.html={htmlDefaults:ze,razorDefaults:Fe,handlebarDefaults:Ze,htmlLanguageService:He,handlebarLanguageService:Le,razorLanguageService:Ge,registerHTMLLanguageService:ft};function ct(){return l.e(5007).then(l.bind(l,65007))}function ft(p,e=me,t=ke(p)){const n=new q(p,e,t);let s;const o=oe.languages.onLanguage(p,()=>zf(this,null,function*(){s=(yield ct()).setupMode(n)}));return{defaults:n,dispose(){o.dispose(),s==null||s.dispose(),s=void 0}}}var Ot=Object.defineProperty,Et=Object.getOwnPropertyDescriptor,Vt=Object.getOwnPropertyNames,We=Object.prototype.hasOwnProperty,St=(p,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of Vt(e))!We.call(p,s)&&s!==t&&Ot(p,s,{get:()=>e[s],enumerable:!(n=Et(e,s))||n.enumerable});return p},Re=(p,e,t)=>(St(p,e,"default"),t&&St(t,e,"default")),Se={};Re(Se,C);var Ee=class{constructor(p,e,t){Mo(this,"_onDidChange",new Se.Emitter);Mo(this,"_diagnosticsOptions");Mo(this,"_modeConfiguration");Mo(this,"_languageId");this._languageId=p,this.setDiagnosticsOptions(e),this.setModeConfiguration(t)}get onDidChange(){return this._onDidChange.event}get languageId(){return this._languageId}get modeConfiguration(){return this._modeConfiguration}get diagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(p){this._diagnosticsOptions=p||Object.create(null),this._onDidChange.fire(this)}setModeConfiguration(p){this._modeConfiguration=p||Object.create(null),this._onDidChange.fire(this)}},Be={validate:!0,allowComments:!0,schemas:[],enableSchemaRequest:!1,schemaRequest:"warning",schemaValidation:"warning",comments:"error",trailingCommas:"error"},Xe={documentFormattingEdits:!0,documentRangeFormattingEdits:!0,completionItems:!0,hovers:!0,documentSymbols:!0,tokens:!0,colors:!0,foldingRanges:!0,diagnostics:!0,selectionRanges:!0},Pt=new Ee("json",Be,Xe);Se.languages.json={jsonDefaults:Pt};function jt(){return l.e(9394).then(l.bind(l,29394))}Se.languages.register({id:"json",extensions:[".json",".bowerrc",".jshintrc",".jscsrc",".eslintrc",".babelrc",".har"],aliases:["JSON","json"],mimetypes:["application/json"]}),Se.languages.onLanguage("json",()=>{jt().then(p=>p.setupMode(Pt))});var pn=l(76739),at=l(76652),Mt=l(15083),Gt=l(47137),_n=l(53284),Rn=l(14679),Wn=l(72920),wn=l(1184),je=l(63619),qn=l(17122),vt=l(57881),_e=l(83218),ht=l(37483),yt=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ye=function(p,e){return function(t,n){e(t,n,p)}},qe=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};const Wt=new ht.uy("selectionAnchorSet",!1);let Xt=class Y1{constructor(e,t){this.editor=e,this.selectionAnchorSetContextKey=Wt.bindTo(t),this.modelChangeListener=e.onDidChangeModel(()=>this.selectionAnchorSetContextKey.reset())}static get(e){return e.getContribution(Y1.ID)}setSelectionAnchor(){if(this.editor.hasModel()){const e=this.editor.getPosition();this.editor.changeDecorations(t=>{this.decorationId&&t.removeDecoration(this.decorationId),this.decorationId=t.addDecoration(qn.Y.fromPositions(e,e),{description:"selection-anchor",stickiness:1,hoverMessage:new Wn.W5().appendText((0,_e.NC)("selectionAnchor","Selection Anchor")),className:"selection-anchor"})}),this.selectionAnchorSetContextKey.set(!!this.decorationId),(0,Rn.Z9)((0,_e.NC)("anchorSet","Anchor set at {0}:{1}",e.lineNumber,e.column))}}goToSelectionAnchor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);e&&this.editor.setPosition(e.getStartPosition())}}selectFromAnchorToCursor(){if(this.editor.hasModel()&&this.decorationId){const e=this.editor.getModel().getDecorationRange(this.decorationId);if(e){const t=this.editor.getPosition();this.editor.setSelection(qn.Y.fromPositions(e.getStartPosition(),t)),this.cancelSelectionAnchor()}}}cancelSelectionAnchor(){if(this.decorationId){const e=this.decorationId;this.editor.changeDecorations(t=>{t.removeDecoration(e),this.decorationId=void 0}),this.selectionAnchorSetContextKey.set(!1)}}dispose(){this.cancelSelectionAnchor(),this.modelChangeListener.dispose()}};Xt.ID="editor.contrib.selectionAnchorController",Xt=yt([ye(1,ht.i6)],Xt);class mn extends je.R6{constructor(){super({id:"editor.action.setSelectionAnchor",label:(0,_e.NC)("setSelectionAnchor","Set Selection Anchor"),alias:"Set Selection Anchor",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2080),weight:100}})}run(e,t){var n;return qe(this,void 0,void 0,function*(){(n=Xt.get(t))===null||n===void 0||n.setSelectionAnchor()})}}class bn extends je.R6{constructor(){super({id:"editor.action.goToSelectionAnchor",label:(0,_e.NC)("goToSelectionAnchor","Go to Selection Anchor"),alias:"Go to Selection Anchor",precondition:Wt})}run(e,t){var n;return qe(this,void 0,void 0,function*(){(n=Xt.get(t))===null||n===void 0||n.goToSelectionAnchor()})}}class ot extends je.R6{constructor(){super({id:"editor.action.selectFromAnchorToCursor",label:(0,_e.NC)("selectFromAnchorToCursor","Select from Anchor to Cursor"),alias:"Select from Anchor to Cursor",precondition:Wt,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2089),weight:100}})}run(e,t){var n;return qe(this,void 0,void 0,function*(){(n=Xt.get(t))===null||n===void 0||n.selectFromAnchorToCursor()})}}class Rt extends je.R6{constructor(){super({id:"editor.action.cancelSelectionAnchor",label:(0,_e.NC)("cancelSelectionAnchor","Cancel Selection Anchor"),alias:"Cancel Selection Anchor",precondition:Wt,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:9,weight:100}})}run(e,t){var n;return qe(this,void 0,void 0,function*(){(n=Xt.get(t))===null||n===void 0||n.cancelSelectionAnchor()})}}(0,je._K)(Xt.ID,Xt),(0,je.Qr)(mn),(0,je.Qr)(bn),(0,je.Qr)(ot),(0,je.Qr)(Rt);var kt=l(84180),wt=l(94214),ln=l(67120),_t=l(14481),di=l(6276),Xn=l(75357),dn=l(66658),Ve=l(55863),Ce=l(55952),dt=l(16597);const Qt=(0,Ce.P6G)("editorOverviewRuler.bracketMatchForeground",{dark:"#A0A0A0",light:"#A0A0A0",hcDark:"#A0A0A0",hcLight:"#A0A0A0"},_e.NC("overviewRulerBracketMatchForeground","Overview ruler marker color for matching brackets."));class en extends je.R6{constructor(){super({id:"editor.action.jumpToBracket",label:_e.NC("smartSelect.jumpBracket","Go to Bracket"),alias:"Go to Bracket",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3160,weight:100}})}run(e,t){var n;(n=On.get(t))===null||n===void 0||n.jumpToBracket()}}class vn extends je.R6{constructor(){super({id:"editor.action.selectToBracket",label:_e.NC("smartSelect.selectToBracket","Select to Bracket"),alias:"Select to Bracket",precondition:void 0,description:{description:"Select to Bracket",args:[{name:"args",schema:{type:"object",properties:{selectBrackets:{type:"boolean",default:!0}}}}]}})}run(e,t,n){var s;let o=!0;n&&n.selectBrackets===!1&&(o=!1),(s=On.get(t))===null||s===void 0||s.selectToBracket(o)}}class An{constructor(e,t,n){this.position=e,this.brackets=t,this.options=n}}class On extends wt.JT{constructor(e){super(),this._editor=e,this._lastBracketsData=[],this._lastVersionId=0,this._decorations=this._editor.createDecorationsCollection(),this._updateBracketsSoon=this._register(new kt.pY(()=>this._updateBrackets(),50)),this._matchBrackets=this._editor.getOption(66),this._updateBracketsSoon.schedule(),this._register(e.onDidChangeCursorPosition(t=>{this._matchBrackets!=="never"&&this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelContent(t=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModel(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeModelLanguageConfiguration(t=>{this._lastBracketsData=[],this._updateBracketsSoon.schedule()})),this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(66)&&(this._matchBrackets=this._editor.getOption(66),this._decorations.clear(),this._lastBracketsData=[],this._lastVersionId=0,this._updateBracketsSoon.schedule())})),this._register(e.onDidBlurEditorWidget(()=>{this._updateBracketsSoon.schedule()})),this._register(e.onDidFocusEditorWidget(()=>{this._updateBracketsSoon.schedule()}))}static get(e){return e.getContribution(On.ID)}jumpToBracket(){if(!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getSelections().map(n=>{const s=n.getStartPosition(),o=e.bracketPairs.matchBracket(s);let g=null;if(o)o[0].containsPosition(s)&&!o[1].containsPosition(s)?g=o[1].getStartPosition():o[1].containsPosition(s)&&(g=o[0].getStartPosition());else{const w=e.bracketPairs.findEnclosingBrackets(s);if(w)g=w[1].getStartPosition();else{const G=e.bracketPairs.findNextBracket(s);G&&G.range&&(g=G.range.getStartPosition())}}return g?new qn.Y(g.lineNumber,g.column,g.lineNumber,g.column):new qn.Y(s.lineNumber,s.column,s.lineNumber,s.column)});this._editor.setSelections(t),this._editor.revealRange(t[0])}selectToBracket(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=[];this._editor.getSelections().forEach(s=>{const o=s.getStartPosition();let g=t.bracketPairs.matchBracket(o);if(!g&&(g=t.bracketPairs.findEnclosingBrackets(o),!g)){const J=t.bracketPairs.findNextBracket(o);J&&J.range&&(g=t.bracketPairs.matchBracket(J.range.getStartPosition()))}let w=null,G=null;if(g){g.sort(_t.e.compareRangesUsingStarts);const[J,Q]=g;if(w=e?J.getStartPosition():J.getEndPosition(),G=e?Q.getEndPosition():Q.getStartPosition(),Q.containsPosition(o)){const ue=w;w=G,G=ue}}w&&G&&n.push(new qn.Y(w.lineNumber,w.column,G.lineNumber,G.column))}),n.length>0&&(this._editor.setSelections(n),this._editor.revealRange(n[0]))}_updateBrackets(){if(this._matchBrackets==="never")return;this._recomputeBrackets();const e=[];let t=0;for(const n of this._lastBracketsData){const s=n.brackets;s&&(e[t++]={range:s[0],options:n.options},e[t++]={range:s[1],options:n.options})}this._decorations.set(e)}_recomputeBrackets(){if(!this._editor.hasModel()||!this._editor.hasWidgetFocus()){this._lastBracketsData=[],this._lastVersionId=0;return}const e=this._editor.getSelections();if(e.length>100){this._lastBracketsData=[],this._lastVersionId=0;return}const t=this._editor.getModel(),n=t.getVersionId();let s=[];this._lastVersionId===n&&(s=this._lastBracketsData);const o=[];let g=0;for(let ue=0,Ne=e.length;ue<Ne;ue++){const st=e[ue];st.isEmpty()&&(o[g++]=st.getStartPosition())}o.length>1&&o.sort(ln.L.compare);const w=[];let G=0,J=0;const Q=s.length;for(let ue=0,Ne=o.length;ue<Ne;ue++){const st=o[ue];for(;J<Q&&s[J].position.isBefore(st);)J++;if(J<Q&&s[J].position.equals(st))w[G++]=s[J];else{let mt=t.bracketPairs.matchBracket(st,20),bt=On._DECORATION_OPTIONS_WITH_OVERVIEW_RULER;!mt&&this._matchBrackets==="always"&&(mt=t.bracketPairs.findEnclosingBrackets(st,20),bt=On._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER),w[G++]=new An(st,mt,bt)}}this._lastBracketsData=w,this._lastVersionId=n}}On.ID="editor.contrib.bracketMatchingController",On._DECORATION_OPTIONS_WITH_OVERVIEW_RULER=Xn.qx.register({description:"bracket-match-overview",stickiness:1,className:"bracket-match",overviewRuler:{color:(0,dt.EN)(Qt),position:di.sh.Center}}),On._DECORATION_OPTIONS_WITHOUT_OVERVIEW_RULER=Xn.qx.register({description:"bracket-match-no-overview",stickiness:1,className:"bracket-match"}),(0,je._K)(On.ID,On),(0,je.Qr)(vn),(0,je.Qr)(en),(0,dt.Ic)((p,e)=>{const t=p.getColor(dn.TC);t&&e.addRule(`.monaco-editor .bracket-match { background-color: ${t}; }`);const n=p.getColor(dn.Dl);n&&e.addRule(`.monaco-editor .bracket-match { border: 1px solid ${n}; }`)}),Ve.BH.appendMenuItem(Ve.eH.MenubarGoMenu,{group:"5_infile_nav",command:{id:"editor.action.jumpToBracket",title:_e.NC({key:"miGoToBracket",comment:["&& denotes a mnemonic"]},"Go to &&Bracket")},order:2});class In{constructor(e,t){this._selection=e,this._isMovingLeft=t}getEditOperations(e,t){if(this._selection.startLineNumber!==this._selection.endLineNumber||this._selection.isEmpty())return;const n=this._selection.startLineNumber,s=this._selection.startColumn,o=this._selection.endColumn;if(!(this._isMovingLeft&&s===1)&&!(!this._isMovingLeft&&o===e.getLineMaxColumn(n)))if(this._isMovingLeft){const g=new _t.e(n,s-1,n,s),w=e.getValueInRange(g);t.addEditOperation(g,null),t.addEditOperation(new _t.e(n,o,n,o),w)}else{const g=new _t.e(n,o,n,o+1),w=e.getValueInRange(g);t.addEditOperation(g,null),t.addEditOperation(new _t.e(n,s,n,s),w)}}computeCursorState(e,t){return this._isMovingLeft?new qn.Y(this._selection.startLineNumber,this._selection.startColumn-1,this._selection.endLineNumber,this._selection.endColumn-1):new qn.Y(this._selection.startLineNumber,this._selection.startColumn+1,this._selection.endLineNumber,this._selection.endColumn+1)}}class Sn extends je.R6{constructor(e,t){super(t),this.left=e}run(e,t){if(!t.hasModel())return;const n=[],s=t.getSelections();for(const o of s)n.push(new In(o,this.left));t.pushUndoStop(),t.executeCommands(this.id,n),t.pushUndoStop()}}class Mn extends Sn{constructor(){super(!0,{id:"editor.action.moveCarretLeftAction",label:_e.NC("caret.moveLeft","Move Selected Text Left"),alias:"Move Selected Text Left",precondition:vt.u.writable})}}class Bn extends Sn{constructor(){super(!1,{id:"editor.action.moveCarretRightAction",label:_e.NC("caret.moveRight","Move Selected Text Right"),alias:"Move Selected Text Right",precondition:vt.u.writable})}}(0,je.Qr)(Mn),(0,je.Qr)(Bn);var Jn=l(93297),ai=l(98454);class jn extends je.R6{constructor(){super({id:"editor.action.transposeLetters",label:_e.NC("transposeLetters.label","Transpose Letters"),alias:"Transpose Letters",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:306},weight:100}})}run(e,t){if(!t.hasModel())return;const n=t.getModel(),s=[],o=t.getSelections();for(const g of o){if(!g.isEmpty())continue;const w=g.startLineNumber,G=g.startColumn,J=n.getLineMaxColumn(w);if(w===1&&(G===1||G===2&&J===2))continue;const Q=G===J?g.getPosition():ai.o.rightPosition(n,g.getPosition().lineNumber,g.getPosition().column),ue=ai.o.leftPosition(n,Q),Ne=ai.o.leftPosition(n,ue),st=n.getValueInRange(_t.e.fromPositions(Ne,ue)),mt=n.getValueInRange(_t.e.fromPositions(ue,Q)),bt=_t.e.fromPositions(Ne,Q);s.push(new Jn.T4(bt,mt+st))}s.length>0&&(t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop())}}(0,je.Qr)(jn);var Ii=l(69748),ci=l(94976),oi=l(85841),wi=l(85735),Li=l(61022),kn=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};const vi="9_cutcopypaste",Si=ci.tY||document.queryCommandSupported("cut"),Ye=ci.tY||document.queryCommandSupported("copy"),Tt=typeof navigator.clipboard=="undefined"||Ii.isFirefox?document.queryCommandSupported("paste"):!0;function nn(p){return p.register(),p}const hn=Si?nn(new je.AJ({id:"editor.action.clipboardCutAction",precondition:void 0,kbOpts:ci.tY?{primary:2102,win:{primary:2102,secondary:[1044]},weight:100}:void 0,menuOpts:[{menuId:Ve.eH.MenubarEditMenu,group:"2_ccp",title:_e.NC({key:"miCut",comment:["&& denotes a mnemonic"]},"Cu&&t"),order:1},{menuId:Ve.eH.EditorContext,group:vi,title:_e.NC("actions.clipboard.cutLabel","Cut"),when:vt.u.writable,order:1},{menuId:Ve.eH.CommandPalette,group:"",title:_e.NC("actions.clipboard.cutLabel","Cut"),order:1},{menuId:Ve.eH.SimpleEditorContext,group:vi,title:_e.NC("actions.clipboard.cutLabel","Cut"),when:vt.u.writable,order:1}]})):void 0,Vn=Ye?nn(new je.AJ({id:"editor.action.clipboardCopyAction",precondition:void 0,kbOpts:ci.tY?{primary:2081,win:{primary:2081,secondary:[2067]},weight:100}:void 0,menuOpts:[{menuId:Ve.eH.MenubarEditMenu,group:"2_ccp",title:_e.NC({key:"miCopy",comment:["&& denotes a mnemonic"]},"&&Copy"),order:2},{menuId:Ve.eH.EditorContext,group:vi,title:_e.NC("actions.clipboard.copyLabel","Copy"),order:2},{menuId:Ve.eH.CommandPalette,group:"",title:_e.NC("actions.clipboard.copyLabel","Copy"),order:1},{menuId:Ve.eH.SimpleEditorContext,group:vi,title:_e.NC("actions.clipboard.copyLabel","Copy"),order:2}]})):void 0;Ve.BH.appendMenuItem(Ve.eH.MenubarEditMenu,{submenu:Ve.eH.MenubarCopy,title:{value:_e.NC("copy as","Copy As"),original:"Copy As"},group:"2_ccp",order:3}),Ve.BH.appendMenuItem(Ve.eH.EditorContext,{submenu:Ve.eH.EditorContextCopy,title:{value:_e.NC("copy as","Copy As"),original:"Copy As"},group:vi,order:3}),Ve.BH.appendMenuItem(Ve.eH.EditorContext,{submenu:Ve.eH.EditorContextShare,title:{value:_e.NC("share","Share"),original:"Share"},group:"11_share",order:-1});const Hn=Tt?nn(new je.AJ({id:"editor.action.clipboardPasteAction",precondition:void 0,kbOpts:ci.tY?{primary:2100,win:{primary:2100,secondary:[1043]},linux:{primary:2100,secondary:[1043]},weight:100}:void 0,menuOpts:[{menuId:Ve.eH.MenubarEditMenu,group:"2_ccp",title:_e.NC({key:"miPaste",comment:["&& denotes a mnemonic"]},"&&Paste"),order:4},{menuId:Ve.eH.EditorContext,group:vi,title:_e.NC("actions.clipboard.pasteLabel","Paste"),when:vt.u.writable,order:4},{menuId:Ve.eH.CommandPalette,group:"",title:_e.NC("actions.clipboard.pasteLabel","Paste"),order:1},{menuId:Ve.eH.SimpleEditorContext,group:vi,title:_e.NC("actions.clipboard.pasteLabel","Paste"),when:vt.u.writable,order:4}]})):void 0;class Ci extends je.R6{constructor(){super({id:"editor.action.clipboardCopyWithSyntaxHighlightingAction",label:_e.NC("actions.clipboard.copyWithSyntaxHighlightingLabel","Copy With Syntax Highlighting"),alias:"Copy With Syntax Highlighting",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,weight:100}})}run(e,t){!t.hasModel()||!t.getOption(33)&&t.getSelection().isEmpty()||(oi.RA.forceCopyWithSyntaxHighlighting=!0,t.focus(),document.execCommand("copy"),oi.RA.forceCopyWithSyntaxHighlighting=!1)}}function qi(p,e){!p||(p.addImplementation(1e4,"code-editor",(t,n)=>{const s=t.get(wi.$).getFocusedCodeEditor();if(s&&s.hasTextFocus()){const o=s.getOption(33),g=s.getSelection();return g&&g.isEmpty()&&!o||document.execCommand(e),!0}return!1}),p.addImplementation(0,"generic-dom",(t,n)=>(document.execCommand(e),!0)))}qi(hn,"cut"),qi(Vn,"copy"),Hn&&(Hn.addImplementation(1e4,"code-editor",(p,e)=>{const t=p.get(wi.$),n=p.get(Li.p),s=t.getFocusedCodeEditor();return s&&s.hasTextFocus()?!document.execCommand("paste")&&ci.$L?(()=>kn(void 0,void 0,void 0,function*(){const g=yield n.readText();if(g!==""){const w=oi.Nl.INSTANCE.get(g);let G=!1,J=null,Q=null;w&&(G=s.getOption(33)&&!!w.isFromEmptySelection,J=typeof w.multicursorText!="undefined"?w.multicursorText:null,Q=w.mode),s.trigger("keyboard","paste",{text:g,pasteOnNewLine:G,multicursorText:J,mode:Q})}}))():!0:!1}),Hn.addImplementation(0,"generic-dom",(p,e)=>(document.execCommand("paste"),!0))),Ye&&(0,je.Qr)(Ci);var ri=l(28885),ms=l(79320),fi=l(22297),_s=l(1845),bi=l(9172),$i=l(84553),Ei=l(708),Xi=l(92770),Es=l(61072),Ks=l(81171),gi=l(52127),bs=l(4061);class Di{constructor(e){this.value=e}equals(e){return this.value===e.value}contains(e){return this.equals(e)||this.value===""||e.value.startsWith(this.value+Di.sep)}intersects(e){return this.contains(e)||e.contains(this)}append(e){return new Di(this.value+Di.sep+e)}}Di.sep=".",Di.None=new Di("@@none@@"),Di.Empty=new Di(""),Di.QuickFix=new Di("quickfix"),Di.Refactor=new Di("refactor"),Di.Source=new Di("source"),Di.SourceOrganizeImports=Di.Source.append("organizeImports"),Di.SourceFixAll=Di.Source.append("fixAll");var ws;(function(p){p.Refactor="refactor",p.RefactorPreview="refactor preview",p.Lightbulb="lightbulb",p.Default="other (default)",p.SourceAction="source action",p.QuickFix="quick fix action",p.FixAll="fix all",p.OrganizeImports="organize imports",p.AutoFix="auto fix",p.QuickFixHover="quick fix hover window",p.OnSave="save participants",p.ProblemsView="problems view"})(ws||(ws={}));function uo(p,e){return!(p.include&&!p.include.intersects(e)||p.excludes&&p.excludes.some(t=>$s(e,t,p.include))||!p.includeSourceActions&&Di.Source.contains(e))}function Us(p,e){const t=e.kind?new Di(e.kind):void 0;return!(p.include&&(!t||!p.include.contains(t))||p.excludes&&t&&p.excludes.some(n=>$s(t,n,p.include))||!p.includeSourceActions&&t&&Di.Source.contains(t)||p.onlyIncludePreferredActions&&!e.isPreferred)}function $s(p,e,t){return!(!e.contains(p)||t&&e.contains(t))}class cs{constructor(e,t,n){this.kind=e,this.apply=t,this.preferred=n}static fromUser(e,t){return!e||typeof e!="object"?new cs(t.kind,t.apply,!1):new cs(cs.getKindFromUser(e,t.kind),cs.getApplyFromUser(e,t.apply),cs.getPreferredUser(e))}static getApplyFromUser(e,t){switch(typeof e.apply=="string"?e.apply.toLowerCase():""){case"first":return"first";case"never":return"never";case"ifsingle":return"ifSingle";default:return t}}static getKindFromUser(e,t){return typeof e.kind=="string"?new Di(e.kind):t}static getPreferredUser(e){return typeof e.preferred=="boolean"?e.preferred:!1}}var on=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};const ts="editor.action.codeAction",Ro="editor.action.refactor",zs="editor.action.refactor.preview",As="editor.action.sourceAction",eo="editor.action.organizeImports",so="editor.action.fixAll";class oo{constructor(e,t){this.action=e,this.provider=t}resolve(e){var t;return on(this,void 0,void 0,function*(){if(((t=this.provider)===null||t===void 0?void 0:t.resolveCodeAction)&&!this.action.edit){let n;try{n=yield this.provider.resolveCodeAction(this.action,e)}catch(s){(0,Ei.Cp)(s)}n&&(this.action.edit=n.edit)}return this})}}class Ho extends wt.JT{constructor(e,t,n){super(),this.documentation=t,this._register(n),this.allActions=[...e].sort(Ho.codeActionsComparator),this.validActions=this.allActions.filter(({action:s})=>!s.disabled)}static codeActionsComparator({action:e},{action:t}){return e.isPreferred&&!t.isPreferred?-1:!e.isPreferred&&t.isPreferred?1:(0,$i.Of)(e.diagnostics)?(0,$i.Of)(t.diagnostics)?e.diagnostics[0].message.localeCompare(t.diagnostics[0].message):-1:(0,$i.Of)(t.diagnostics)?1:0}get hasAutoFix(){return this.validActions.some(({action:e})=>!!e.kind&&Di.QuickFix.contains(new Di(e.kind))&&!!e.isPreferred)}}const es={actions:[],documentation:void 0};function as(p,e,t,n,s,o){var g;const w=n.filter||{},G={only:(g=w.include)===null||g===void 0?void 0:g.value,trigger:n.type},J=new Es.YQ(e,o),Q=xo(p,e,w),ue=new wt.SL,Ne=Q.map(mt=>on(this,void 0,void 0,function*(){try{s.report(mt);const bt=yield mt.provideCodeActions(e,t,G,J.token);if(bt&&ue.add(bt),J.token.isCancellationRequested)return es;const $t=((bt==null?void 0:bt.actions)||[]).filter(Yn=>Yn&&Us(w,Yn)),Cn=Yi(mt,$t,w.include);return{actions:$t.map(Yn=>new oo(Yn,mt)),documentation:Cn}}catch(bt){if((0,Ei.n2)(bt))throw bt;return(0,Ei.Cp)(bt),es}})),st=p.onDidChange(()=>{const mt=p.all(e);(0,$i.fS)(mt,Q)||J.cancel()});return Promise.all(Ne).then(mt=>{const bt=mt.map(Cn=>Cn.actions).flat(),$t=(0,$i.kX)(mt.map(Cn=>Cn.documentation));return new Ho(bt,$t,ue)}).finally(()=>{st.dispose(),J.dispose()})}function xo(p,e,t){return p.all(e).filter(n=>n.providedCodeActionKinds?n.providedCodeActionKinds.some(s=>uo(t,new Di(s))):!0)}function Yi(p,e,t){if(!p.documentation)return;const n=p.documentation.map(s=>({kind:new Di(s.kind),command:s.command}));if(t){let s;for(const o of n)o.kind.contains(t)&&(s?s.kind.contains(o.kind)&&(s=o):s=o);if(s)return s==null?void 0:s.command}for(const s of e)if(!!s.kind){for(const o of n)if(o.kind.contains(new Di(s.kind)))return o.command}}gi.P0.registerCommand("_executeCodeActionProvider",function(p,e,t,n,s){return on(this,void 0,void 0,function*(){if(!(e instanceof Xi.o))throw(0,Ei.b1)();const{codeActionProvider:o}=p.get(bi.p),g=p.get(Ks.q).getModel(e);if(!g)throw(0,Ei.b1)();const w=qn.Y.isISelection(t)?qn.Y.liftSelection(t):_t.e.isIRange(t)?g.validateRange(t):void 0;if(!w)throw(0,Ei.b1)();const G=typeof n=="string"?new Di(n):void 0,J=yield as(o,g,w,{type:1,triggerAction:ws.Default,filter:{includeSourceActions:!0,include:G}},bs.Ex.None,ri.T.None),Q=[],ue=Math.min(J.validActions.length,typeof s=="number"?s:0);for(let Ne=0;Ne<ue;Ne++)Q.push(J.validActions[Ne].resolve(ri.T.None));try{return yield Promise.all(Q),J.validActions.map(Ne=>Ne.action)}finally{setTimeout(()=>J.dispose(),100)}})});var Ln=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},hi=function(p,e){return function(t,n){e(t,n,p)}};let si=class E0{constructor(e,t){this._messageWidget=new wt.XK,this._messageListeners=new wt.SL,this._editor=e,this._visible=E0.MESSAGE_VISIBLE.bindTo(t)}static get(e){return e.getContribution(E0.ID)}dispose(){this._messageListeners.dispose(),this._messageWidget.dispose(),this._visible.reset()}showMessage(e,t){(0,Rn.Z9)(e),this._visible.set(!0),this._messageWidget.clear(),this._messageListeners.clear(),this._messageWidget.value=new Xs(this._editor,t,e),this._messageListeners.add(this._editor.onDidBlurEditorText(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeCursorPosition(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidDispose(()=>this.closeMessage())),this._messageListeners.add(this._editor.onDidChangeModel(()=>this.closeMessage())),this._messageListeners.add(new kt._F(()=>this.closeMessage(),3e3));let n;this._messageListeners.add(this._editor.onMouseMove(s=>{!s.target.position||(n?n.containsPosition(s.target.position)||this.closeMessage():n=new _t.e(t.lineNumber-3,1,s.target.position.lineNumber+3,1))}))}closeMessage(){this._visible.reset(),this._messageListeners.clear(),this._messageWidget.value&&this._messageListeners.add(Xs.fadeOut(this._messageWidget.value))}};si.ID="editor.contrib.messageController",si.MESSAGE_VISIBLE=new ht.uy("messageVisible",!1,_e.NC("messageVisible","Whether the editor is currently showing an inline message")),si=Ln([hi(1,ht.i6)],si);const ns=je._l.bindToContribution(si.get);(0,je.fK)(new ns({id:"leaveEditorMessage",precondition:si.MESSAGE_VISIBLE,handler:p=>p.closeMessage(),kbOpts:{weight:100+30,primary:9}}));class Xs{constructor(e,{lineNumber:t,column:n},s){this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._editor=e,this._editor.revealLinesInCenterIfOutsideViewport(t,t,0),this._position={lineNumber:t,column:n},this._domNode=document.createElement("div"),this._domNode.classList.add("monaco-editor-overlaymessage"),this._domNode.style.marginLeft="-6px";const o=document.createElement("div");o.classList.add("anchor","top"),this._domNode.appendChild(o);const g=document.createElement("div");g.classList.add("message"),g.textContent=s,this._domNode.appendChild(g);const w=document.createElement("div");w.classList.add("anchor","below"),this._domNode.appendChild(w),this._editor.addContentWidget(this),this._domNode.classList.add("fadeIn")}static fadeOut(e){const t=()=>{e.dispose(),clearTimeout(n),e.getDomNode().removeEventListener("animationend",t)},n=setTimeout(t,110);return e.getDomNode().addEventListener("animationend",t),e.getDomNode().classList.add("fadeOut"),{dispose:t}}dispose(){this._editor.removeContentWidget(this)}getId(){return"messageoverlay"}getDomNode(){return this._domNode}getPosition(){return{position:this._position,preference:[1,2],positionAffinity:1}}afterRender(e){this._domNode.classList.toggle("below",e===2)}}(0,je._K)(si.ID,si);var ki=l(47397),we=l(1660),k=l(3522),F=l(3553),m=l(57024),B=l(88098),ee=l(69940),fe=l(72854),Ie=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Te=function(p,e){return function(t,n){e(t,n,p)}},Je=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};const it={Visible:new ht.uy("CodeActionMenuVisible",!1,(0,_e.NC)("CodeActionMenuVisible","Whether the code action list widget is visible"))};class Ct extends F.aU{constructor(e,t){super(e.command?e.command.id:e.title,It(e.title),void 0,!e.disabled,t),this.action=e}}function It(p){return p.replace(/\r\n|\r|\n/g," ")}const Ut="codeActionWidget",sn=26;let tn=class{constructor(e,t){this.acceptKeybindings=e,this.keybindingService=t}get templateId(){return Ut}renderTemplate(e){const t=Object.create(null);return t.disposables=[],t.root=e,t.text=document.createElement("span"),e.append(t.text),t}renderElement(e,t,n){const s=n,o=e.title,g=e.isEnabled,w=e.isSeparator,G=e.isDocumentation;s.text.textContent=o,g?s.root.classList.remove("option-disabled"):(s.root.classList.add("option-disabled"),s.root.style.backgroundColor="transparent !important"),w&&(s.root.classList.add("separator"),s.root.style.height="10px"),G||(()=>{var Q,ue;const[Ne,st]=this.acceptKeybindings;s.root.title=(0,_e.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Refactor, Shift+F2 to Preview"']},"{0} to Refactor, {1} to Preview",(Q=this.keybindingService.lookupKeybinding(Ne))===null||Q===void 0?void 0:Q.getLabel(),(ue=this.keybindingService.lookupKeybinding(st))===null||ue===void 0?void 0:ue.getLabel())})()}disposeTemplate(e){e.disposables=(0,wt.B9)(e.disposables)}};tn=Ie([Te(1,ee.d)],tn);let rn=class D0 extends wt.JT{constructor(e,t,n,s,o,g,w,G,J,Q){super(),this._editor=e,this._delegate=t,this._contextMenuService=n,this._languageFeaturesService=o,this._telemetryService=g,this._configurationService=G,this._contextViewService=J,this._contextKeyService=Q,this._showingActions=this._register(new wt.XK),this.codeActionList=this._register(new wt.XK),this.options=[],this._visible=!1,this.viewItems=[],this.hasSeperator=!1,this._keybindingResolver=new En({getKeybindings:()=>s.getKeybindings()}),this._ctxMenuWidgetVisible=it.Visible.bindTo(this._contextKeyService),this.listRenderer=new tn(["onEnterSelectCodeAction","onEnterSelectCodeActionWithPreview"],s)}get isVisible(){return this._visible}isCodeActionWidgetEnabled(e){return this._configurationService.getValue("editor.experimental.useCustomCodeActionMenu",{resource:e.uri})}_onListSelection(e){e.elements.length&&e.elements.forEach(t=>{t.isEnabled&&(t.action.run(),this.hideCodeActionWidget())})}_onListHover(e){var t,n,s,o;e.element?!((n=e.element)===null||n===void 0)&&n.isEnabled?((s=this.codeActionList.value)===null||s===void 0||s.setFocus([e.element.index]),this.focusedEnabledItem=this.viewItems.indexOf(e.element),this.currSelectedItem=e.element.index):(this.currSelectedItem=void 0,(o=this.codeActionList.value)===null||o===void 0||o.setFocus([e.element.index])):(this.currSelectedItem=void 0,(t=this.codeActionList.value)===null||t===void 0||t.setFocus([]))}renderCodeActionMenuList(e,t){var n;const s=new wt.SL,o=document.createElement("div"),g=document.createElement("div");this.block=e.appendChild(g),this.block.classList.add("context-view-block"),this.block.style.position="fixed",this.block.style.cursor="initial",this.block.style.left="0",this.block.style.top="0",this.block.style.width="100%",this.block.style.height="100%",this.block.style.zIndex="-1",s.add(we.nm(this.block,we.tw.MOUSE_DOWN,Ne=>Ne.stopPropagation())),o.id="codeActionMenuWidget",o.classList.add("codeActionMenuWidget"),e.appendChild(o),this.codeActionList.value=new k.aV("codeActionWidget",o,{getHeight(Ne){return Ne.isSeparator?10:sn},getTemplateId(Ne){return"codeActionWidget"}},[this.listRenderer],{keyboardSupport:!1}),s.add(this.codeActionList.value.onMouseOver(Ne=>this._onListHover(Ne))),s.add(this.codeActionList.value.onDidChangeFocus(Ne=>{var st;return(st=this.codeActionList.value)===null||st===void 0?void 0:st.domFocus()})),s.add(this.codeActionList.value.onDidChangeSelection(Ne=>this._onListSelection(Ne))),s.add(this._editor.onDidLayoutChange(Ne=>this.hideCodeActionWidget())),t.forEach((Ne,st)=>{const mt=Ne.class==="separator";let bt=!1;Ne instanceof Ct&&(bt=Ne.action.kind===D0.documentationID),mt&&(this.hasSeperator=!0);const $t={title:Ne.label,detail:Ne.tooltip,action:t[st],isEnabled:Ne.enabled,isSeparator:mt,index:st,isDocumentation:bt};Ne.enabled&&this.viewItems.push($t),this.options.push($t)}),this.codeActionList.value.splice(0,this.codeActionList.value.length,this.options);const w=this.hasSeperator?(t.length-1)*sn+10:t.length*sn;o.style.height=String(w)+"px",this.codeActionList.value.layout(w);const G=[];this.options.forEach((Ne,st)=>{var mt,bt;if(!this.codeActionList.value)return;const $t=(bt=document.getElementById((mt=this.codeActionList.value)===null||mt===void 0?void 0:mt.getElementID(st)))===null||bt===void 0?void 0:bt.getElementsByTagName("span")[0].offsetWidth;G.push(Number($t))});const J=Math.max(...G);o.style.width=J+52+"px",(n=this.codeActionList.value)===null||n===void 0||n.layout(w,J),this.viewItems.length<1||this.viewItems.every(Ne=>Ne.isDocumentation)?this.currSelectedItem=void 0:(this.focusedEnabledItem=0,this.currSelectedItem=this.viewItems[0].index,this.codeActionList.value.setFocus([this.currSelectedItem])),this.codeActionList.value.domFocus();const Q=we.go(e),ue=Q.onDidBlur(()=>{this.hideCodeActionWidget()});return s.add(ue),s.add(Q),this._ctxMenuWidgetVisible.set(!0),s}focusPrevious(){var e;if(typeof this.focusedEnabledItem=="undefined")this.focusedEnabledItem=this.viewItems[0].index;else if(this.viewItems.length<1)return!1;const t=this.focusedEnabledItem;let n;do this.focusedEnabledItem=this.focusedEnabledItem-1,this.focusedEnabledItem<0&&(this.focusedEnabledItem=this.viewItems.length-1),n=this.viewItems[this.focusedEnabledItem],(e=this.codeActionList.value)===null||e===void 0||e.setFocus([n.index]),this.currSelectedItem=n.index;while(this.focusedEnabledItem!==t&&(!n.isEnabled||n.action.id===F.Z0.ID));return!0}focusNext(){var e;if(typeof this.focusedEnabledItem=="undefined")this.focusedEnabledItem=this.viewItems.length-1;else if(this.viewItems.length<1)return!1;const t=this.focusedEnabledItem;let n;do this.focusedEnabledItem=(this.focusedEnabledItem+1)%this.viewItems.length,n=this.viewItems[this.focusedEnabledItem],(e=this.codeActionList.value)===null||e===void 0||e.setFocus([n.index]),this.currSelectedItem=n.index;while(this.focusedEnabledItem!==t&&(!n.isEnabled||n.action.id===F.Z0.ID));return!0}navigateListWithKeysUp(){this.focusPrevious()}navigateListWithKeysDown(){this.focusNext()}onEnterSet(){var e;typeof this.currSelectedItem=="number"&&((e=this.codeActionList.value)===null||e===void 0||e.setSelection([this.currSelectedItem]))}dispose(){super.dispose()}hideCodeActionWidget(){this._ctxMenuWidgetVisible.reset(),this.options=[],this.viewItems=[],this.focusedEnabledItem=0,this.currSelectedItem=void 0,this.hasSeperator=!1,this._contextViewService.hideContextView({source:this})}codeActionTelemetry(e,t,n){this._telemetryService.publicLog2("codeAction.applyCodeAction",{codeActionFrom:e,validCodeActions:n.validActions.length,cancelled:t})}show(e,t,n,s){return Je(this,void 0,void 0,function*(){const o=this._editor.getModel();if(!o)return;const g=s.includeDisabledActions?t.allActions:t.validActions;if(!g.length){this._visible=!1;return}if(!this._editor.getDomNode())throw this._visible=!1,(0,Ei.F0)();this._visible=!0,this._showingActions.value=t;const w=this.getMenuActions(e,g,t.documentation),G=ln.L.isIPosition(n)?this._toCoords(n):n||{x:0,y:0},J=this._keybindingResolver.getResolver(),Q=this._editor.getOption(117);this.isCodeActionWidgetEnabled(o)?this._contextViewService.showContextView({getAnchor:()=>G,render:ue=>this.renderCodeActionMenuList(ue,w),onHide:ue=>{const Ne=s.fromLightbulb?ws.Lightbulb:e.triggerAction;this.codeActionTelemetry(Ne,ue,t),this._visible=!1,this._editor.focus()}},this._editor.getDomNode(),!1):this._contextMenuService.showContextMenu({domForShadowRoot:Q?this._editor.getDomNode():void 0,getAnchor:()=>G,getActions:()=>w,onHide:ue=>{const Ne=s.fromLightbulb?ws.Lightbulb:e.triggerAction;this.codeActionTelemetry(Ne,ue,t),this._visible=!1,this._editor.focus()},autoSelectFirstItem:!0,getKeyBinding:ue=>ue instanceof Ct?J(ue.action):void 0})})}getMenuActions(e,t,n){var s,o;const g=Q=>new Ct(Q.action,()=>this._delegate.onSelectCodeAction(Q,e)),w=t.map(g),G=[...n],J=this._editor.getModel();if(J&&w.length)for(const Q of this._languageFeaturesService.codeActionProvider.all(J))Q._getAdditionalMenuItems&&G.push(...Q._getAdditionalMenuItems({trigger:e.type,only:(o=(s=e.filter)===null||s===void 0?void 0:s.include)===null||o===void 0?void 0:o.value},t.map(ue=>ue.action)));return G.length&&w.push(new F.Z0,...G.map(Q=>g(new oo({title:Q.title,command:Q,kind:D0.documentationID},void 0)))),w}_toCoords(e){if(!this._editor.hasModel())return{x:0,y:0};this._editor.revealPosition(e,1),this._editor.render();const t=this._editor.getScrolledVisiblePosition(e),n=we.i(this._editor.getDomNode()),s=n.left+t.left,o=n.top+t.top+t.height;return{x:s,y:o}}};rn.documentationID="_documentation",rn=Ie([Te(2,B.i),Te(3,ee.d),Te(4,bi.p),Te(5,fe.b),Te(6,dt.XE),Te(7,m.Ui),Te(8,B.u),Te(9,ht.i6)],rn);class En{constructor(e){this._keybindingProvider=e}getResolver(){const e=new ms.o(()=>this._keybindingProvider.getKeybindings().filter(t=>En.codeActionCommands.indexOf(t.command)>=0).filter(t=>t.resolvedKeybinding).map(t=>{let n=t.commandArgs;return t.command===eo?n={kind:Di.SourceOrganizeImports.value}:t.command===so&&(n={kind:Di.SourceFixAll.value}),Object.assign({resolvedKeybinding:t.resolvedKeybinding},cs.fromUser(n,{kind:Di.None,apply:"never"}))}));return t=>{if(t.kind){const n=this.bestKeybindingForCodeAction(t,e.getValue());return n==null?void 0:n.resolvedKeybinding}}}bestKeybindingForCodeAction(e,t){if(!e.kind)return;const n=new Di(e.kind);return t.filter(s=>s.kind.contains(n)).filter(s=>s.preferred?e.isPreferred:!0).reduceRight((s,o)=>s?s.kind.contains(o.kind)?o:s:o,void 0)}}En.codeActionCommands=[Ro,ts,As,eo,so];var Fn=l(32003),Nn=l(64272),ni=l(60218),Ps=l(17258),no=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},js=function(p,e){return function(t,n){e(t,n,p)}},Co;(function(p){p.Hidden={type:0};class e{constructor(n,s,o,g){this.actions=n,this.trigger=s,this.editorPosition=o,this.widgetPosition=g,this.type=1}}p.Showing=e})(Co||(Co={}));let Wi=class Q1 extends wt.JT{constructor(e,t,n,s){super(),this._editor=e,this._quickFixActionId=t,this._preferredFixActionId=n,this._keybindingService=s,this._onClick=this._register(new ni.Q5),this.onClick=this._onClick.event,this._state=Co.Hidden,this._domNode=document.createElement("div"),this._domNode.className=Nn.lA.lightBulb.classNames,this._editor.addContentWidget(this),this._register(this._editor.onDidChangeModelContent(o=>{const g=this._editor.getModel();(this.state.type!==1||!g||this.state.editorPosition.lineNumber>=g.getLineCount())&&this.hide()})),Fn.o.ignoreTarget(this._domNode),this._register(we.GQ(this._domNode,o=>{if(this.state.type!==1)return;this._editor.focus(),o.preventDefault();const{top:g,height:w}=we.i(this._domNode),G=this._editor.getOption(61);let J=Math.floor(G/3);this.state.widgetPosition.position!==null&&this.state.widgetPosition.position.lineNumber<this.state.editorPosition.lineNumber&&(J+=G),this._onClick.fire({x:o.posx,y:g+w+J,actions:this.state.actions,trigger:this.state.trigger})})),this._register(we.nm(this._domNode,"mouseenter",o=>{(o.buttons&1)===1&&this.hide()})),this._register(this._editor.onDidChangeConfiguration(o=>{o.hasChanged(59)&&!this._editor.getOption(59).enabled&&this.hide()})),this._updateLightBulbTitleAndIcon(),this._register(this._keybindingService.onDidUpdateKeybindings(this._updateLightBulbTitleAndIcon,this))}dispose(){super.dispose(),this._editor.removeContentWidget(this)}getId(){return"LightBulbWidget"}getDomNode(){return this._domNode}getPosition(){return this._state.type===1?this._state.widgetPosition:null}update(e,t,n){if(e.validActions.length<=0)return this.hide();const s=this._editor.getOptions();if(!s.get(59).enabled)return this.hide();const o=this._editor.getModel();if(!o)return this.hide();const{lineNumber:g,column:w}=o.validatePosition(n),G=o.getOptions().tabSize,J=s.get(46),Q=o.getLineContent(g),ue=(0,Ps.q)(Q,G),Ne=J.spaceWidth*ue>22,st=bt=>bt>2&&this._editor.getTopForLineNumber(bt)===this._editor.getTopForLineNumber(bt-1);let mt=g;if(!Ne){if(g>1&&!st(g-1))mt-=1;else if(!st(g+1))mt+=1;else if(w*J.spaceWidth<22)return this.hide()}this.state=new Co.Showing(e,t,n,{position:{lineNumber:mt,column:1},preference:Q1._posPref}),this._editor.layoutContentWidget(this)}hide(){this.state=Co.Hidden,this._editor.layoutContentWidget(this)}get state(){return this._state}set state(e){this._state=e,this._updateLightBulbTitleAndIcon()}_updateLightBulbTitleAndIcon(){if(this.state.type===1&&this.state.actions.hasAutoFix){this._domNode.classList.remove(...Nn.lA.lightBulb.classNamesArray),this._domNode.classList.add(...Nn.lA.lightbulbAutofix.classNamesArray);const t=this._keybindingService.lookupKeybinding(this._preferredFixActionId);if(t){this.title=_e.NC("preferredcodeActionWithKb","Show Code Actions. Preferred Quick Fix Available ({0})",t.getLabel());return}}this._domNode.classList.remove(...Nn.lA.lightbulbAutofix.classNamesArray),this._domNode.classList.add(...Nn.lA.lightBulb.classNamesArray);const e=this._keybindingService.lookupKeybinding(this._quickFixActionId);e?this.title=_e.NC("codeActionWithKb","Show Code Actions ({0})",e.getLabel()):this.title=_e.NC("codeAction","Show Code Actions")}set title(e){this._domNode.title=e}};Wi._posPref=[0],Wi=no([js(3,ee.d)],Wi),(0,dt.Ic)((p,e)=>{var t;const n=(t=p.getColor(Ce.cvW))===null||t===void 0?void 0:t.transparent(.7),s=p.getColor(Ce.Fu1);s&&e.addRule(`
		.monaco-editor .contentWidgets ${Nn.lA.lightBulb.cssSelector} {
			color: ${s};
			background-color: ${n};
		}`);const o=p.getColor(Ce.sKV);o&&e.addRule(`
		.monaco-editor .contentWidgets ${Nn.lA.lightbulbAutofix.cssSelector} {
			color: ${o};
			background-color: ${n};
		}`)});var Io=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Rs=function(p,e){return function(t,n){e(t,n,p)}},bo=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})},Ss=function(p,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?p!==e||!s:!e.has(p))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(p,t):s?s.value=t:e.set(p,t),t},Ao=function(p,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?p!==e||!n:!e.has(p))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(p):n?n.value:e.get(p)},wo;let So=class extends wt.JT{constructor(e,t,n,s,o){super(),this._editor=e,this.delegate=s,this._activeCodeActions=this._register(new wt.XK),this.previewOn=!1,wo.set(this,!1),this._codeActionWidget=new ms.o(()=>this._register(o.createInstance(rn,this._editor,{onSelectCodeAction:(g,w)=>bo(this,void 0,void 0,function*(){this.previewOn?this.delegate.applyCodeAction(g,!0,Boolean(this.previewOn)):this.delegate.applyCodeAction(g,!0,Boolean(w.preview)),this.previewOn=!1})}))),this._lightBulbWidget=new ms.o(()=>{const g=this._register(o.createInstance(Wi,this._editor,t,n));return this._register(g.onClick(w=>this.showCodeActionList(w.trigger,w.actions,w,{includeDisabledActions:!1,fromLightbulb:!0}))),g})}dispose(){Ss(this,wo,!0,"f"),super.dispose()}hideCodeActionWidget(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().hideCodeActionWidget()}onEnter(){this._codeActionWidget.hasValue()&&this._codeActionWidget.getValue().onEnterSet()}onPreviewEnter(){this.previewOn=!0,this.onEnter()}navigateList(e){this._codeActionWidget.hasValue()&&(e?this._codeActionWidget.getValue().navigateListWithKeysUp():this._codeActionWidget.getValue().navigateListWithKeysDown())}update(e){var t,n,s,o,g;return bo(this,void 0,void 0,function*(){if(e.type!==1){(t=this._lightBulbWidget.rawValue)===null||t===void 0||t.hide();return}let w;try{w=yield e.actions}catch(G){(0,Ei.dL)(G);return}if(!Ao(this,wo,"f"))if(this._lightBulbWidget.getValue().update(w,e.trigger,e.position),e.trigger.type===1){if(!((n=e.trigger.filter)===null||n===void 0)&&n.include){const J=this.tryGetValidActionToApply(e.trigger,w);if(J){try{this._lightBulbWidget.getValue().hide(),yield this.delegate.applyCodeAction(J,!1,!1)}finally{w.dispose()}return}if(e.trigger.context){const Q=this.getInvalidActionThatWouldHaveBeenApplied(e.trigger,w);if(Q&&Q.action.disabled){(s=si.get(this._editor))===null||s===void 0||s.showMessage(Q.action.disabled,e.trigger.context.position),w.dispose();return}}}const G=!!(!((o=e.trigger.filter)===null||o===void 0)&&o.include);if(e.trigger.context&&(!w.allActions.length||!G&&!w.validActions.length)){(g=si.get(this._editor))===null||g===void 0||g.showMessage(e.trigger.context.notAvailableMessage,e.trigger.context.position),this._activeCodeActions.value=w,w.dispose();return}this._activeCodeActions.value=w,this._codeActionWidget.getValue().show(e.trigger,w,e.position,{includeDisabledActions:G,fromLightbulb:!1})}else this._codeActionWidget.getValue().isVisible?w.dispose():this._activeCodeActions.value=w})}getInvalidActionThatWouldHaveBeenApplied(e,t){if(!!t.allActions.length&&(e.autoApply==="first"&&t.validActions.length===0||e.autoApply==="ifSingle"&&t.allActions.length===1))return t.allActions.find(({action:n})=>n.disabled)}tryGetValidActionToApply(e,t){if(!!t.validActions.length&&(e.autoApply==="first"&&t.validActions.length>0||e.autoApply==="ifSingle"&&t.validActions.length===1))return t.validActions[0]}showCodeActionList(e,t,n,s){return bo(this,void 0,void 0,function*(){this._codeActionWidget.getValue().show(e,t,n,s)})}};wo=new WeakMap,So=Io([Rs(4,ki.TG)],So);var Ys=l(44806),et=l(21166),Ae=l(46088),Lt=function(p,e,t,n){if(t==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?p!==e||!n:!e.has(p))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t==="m"?n:t==="a"?n.call(p):n?n.value:e.get(p)},zt=function(p,e,t,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?p!==e||!s:!e.has(p))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(p,t):s?s.value=t:e.set(p,t),t},Zt;const qt=new ht.uy("supportedCodeAction","");class $n extends wt.JT{constructor(e,t,n,s=250){super(),this._editor=e,this._markerService=t,this._signalChange=n,this._delay=s,this._autoTriggerTimer=this._register(new kt._F),this._register(this._markerService.onMarkerChanged(o=>this._onMarkerChanges(o))),this._register(this._editor.onDidChangeCursorPosition(()=>this._onCursorChange()))}trigger(e){const t=this._getRangeOfSelectionUnlessWhitespaceEnclosed(e);return this._createEventAndSignalChange(e,t)}_onMarkerChanges(e){const t=this._editor.getModel();!t||e.some(n=>(0,Ae.Xy)(n,t.uri))&&this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:ws.Default})},this._delay)}_onCursorChange(){this._autoTriggerTimer.cancelAndSet(()=>{this.trigger({type:2,triggerAction:ws.Default})},this._delay)}_getRangeOfMarker(e){const t=this._editor.getModel();if(!!t)for(const n of this._markerService.read({resource:t.uri})){const s=t.validateRange(n);if(_t.e.intersectRanges(s,e))return _t.e.lift(s)}}_getRangeOfSelectionUnlessWhitespaceEnclosed(e){if(!this._editor.hasModel())return;const t=this._editor.getModel(),n=this._editor.getSelection();if(n.isEmpty()&&e.type===2){const{lineNumber:s,column:o}=n.getPosition(),g=t.getLineContent(s);if(g.length===0)return;if(o===1){if(/\s/.test(g[0]))return}else if(o===t.getLineMaxColumn(s)){if(/\s/.test(g[g.length-1]))return}else if(/\s/.test(g[o-2])&&/\s/.test(g[o-1]))return}return n}_createEventAndSignalChange(e,t){const n=this._editor.getModel();if(!t||!n){this._signalChange(void 0);return}const s=this._getRangeOfMarker(t),o=s?s.getStartPosition():t.getStartPosition(),g={trigger:e,selection:t,position:o};return this._signalChange(g),g}}var xi;(function(p){p.Empty={type:0};class e{constructor(n,s,o,g){this.trigger=n,this.rangeOrSelection=s,this.position=o,this._cancellablePromise=g,this.type=1,this.actions=g.catch(w=>{if((0,Ei.n2)(w))return Bi;throw w})}cancel(){this._cancellablePromise.cancel()}}p.Triggered=e})(xi||(xi={}));const Bi={allActions:[],validActions:[],dispose:()=>{},documentation:[],hasAutoFix:!1};class vs extends wt.JT{constructor(e,t,n,s,o){super(),this._editor=e,this._registry=t,this._markerService=n,this._progressService=o,this._codeActionOracle=this._register(new wt.XK),this._state=xi.Empty,this._onDidChangeState=this._register(new ni.Q5),this.onDidChangeState=this._onDidChangeState.event,Zt.set(this,!1),this._supportedCodeActions=qt.bindTo(s),this._register(this._editor.onDidChangeModel(()=>this._update())),this._register(this._editor.onDidChangeModelLanguage(()=>this._update())),this._register(this._registry.onDidChange(()=>this._update())),this._update()}dispose(){Lt(this,Zt,"f")||(zt(this,Zt,!0,"f"),super.dispose(),this.setState(xi.Empty,!0))}_update(){if(Lt(this,Zt,"f"))return;this._codeActionOracle.value=void 0,this.setState(xi.Empty);const e=this._editor.getModel();if(e&&this._registry.has(e)&&!this._editor.getOption(83)){const t=[];for(const n of this._registry.all(e))Array.isArray(n.providedCodeActionKinds)&&t.push(...n.providedCodeActionKinds);this._supportedCodeActions.set(t.join(" ")),this._codeActionOracle.value=new $n(this._editor,this._markerService,n=>{var s;if(!n){this.setState(xi.Empty);return}const o=(0,kt.PG)(g=>as(this._registry,e,n.selection,n.trigger,bs.Ex.None,g));n.trigger.type===1&&((s=this._progressService)===null||s===void 0||s.showWhile(o,250)),this.setState(new xi.Triggered(n.trigger,n.selection,n.position,o))},void 0),this._codeActionOracle.value.trigger({type:2,triggerAction:ws.Default})}else this._supportedCodeActions.reset()}trigger(e){var t;(t=this._codeActionOracle.value)===null||t===void 0||t.trigger(e)}setState(e,t){e!==this._state&&(this._state.type===1&&this._state.cancel(),this._state=e,!t&&!Lt(this,Zt,"f")&&this._onDidChangeState.fire(e))}}Zt=new WeakMap;var ps=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},hs=function(p,e){return function(t,n){e(t,n,p)}},qs=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};function Po(p){return ht.Ao.regex(qt.keys()[0],new RegExp("(\\s|^)"+(0,fi.ec)(p.value)+"\\b"))}function Fa(p,e,t,n){const s=cs.fromUser(e,{kind:Di.Refactor,apply:"never"});return mr(p,typeof(e==null?void 0:e.kind)=="string"?s.preferred?_e.NC("editor.action.refactor.noneMessage.preferred.kind","No preferred refactorings for '{0}' available",e.kind):_e.NC("editor.action.refactor.noneMessage.kind","No refactorings for '{0}' available",e.kind):s.preferred?_e.NC("editor.action.refactor.noneMessage.preferred","No preferred refactorings available"):_e.NC("editor.action.refactor.noneMessage","No refactorings available"),{include:Di.Refactor.contains(s.kind)?s.kind:Di.None,onlyIncludePreferredActions:s.preferred},s.apply,t,n)}const Ya={type:"object",defaultSnippets:[{body:{kind:""}}],properties:{kind:{type:"string",description:_e.NC("args.schema.kind","Kind of the code action to run.")},apply:{type:"string",description:_e.NC("args.schema.apply","Controls when the returned actions are applied."),default:"ifSingle",enum:["first","ifSingle","never"],enumDescriptions:[_e.NC("args.schema.apply.first","Always apply the first returned code action."),_e.NC("args.schema.apply.ifSingle","Apply the first returned code action if it is the only one."),_e.NC("args.schema.apply.never","Do not apply the returned code actions.")]},preferred:{type:"boolean",default:!1,description:_e.NC("args.schema.preferred","Controls if only preferred code actions should be returned.")}}};let zo=class X1 extends wt.JT{constructor(e,t,n,s,o,g){super(),this._instantiationService=o,this._editor=e,this._model=this._register(new vs(this._editor,g.codeActionProvider,t,n,s)),this._register(this._model.onDidChangeState(w=>this.update(w))),this._ui=new ms.o(()=>this._register(new So(e,Jo.Id,Ea.Id,{applyCodeAction:(w,G,J)=>qs(this,void 0,void 0,function*(){try{yield this._applyCodeAction(w,J)}finally{G&&this._trigger({type:2,triggerAction:ws.QuickFix,filter:{}})}})},this._instantiationService)))}static get(e){return e.getContribution(X1.ID)}update(e){this._ui.getValue().update(e)}hideCodeActionMenu(){this._ui.hasValue()&&this._ui.getValue().hideCodeActionWidget()}navigateCodeActionList(e){this._ui.hasValue()&&this._ui.getValue().navigateList(e)}selectedOption(){this._ui.hasValue()&&this._ui.getValue().onEnter()}selectedOptionWithPreview(){this._ui.hasValue()&&this._ui.getValue().onPreviewEnter()}showCodeActions(e,t,n){return this._ui.getValue().showCodeActionList(e,t,n,{includeDisabledActions:!1,fromLightbulb:!1})}manualTriggerAtCurrentPosition(e,t,n,s,o){var g;if(!this._editor.hasModel())return;(g=si.get(this._editor))===null||g===void 0||g.closeMessage();const w=this._editor.getPosition();this._trigger({type:1,triggerAction:t,filter:n,autoApply:s,context:{notAvailableMessage:e,position:w},preview:o})}_trigger(e){return this._model.trigger(e)}_applyCodeAction(e,t){return this._instantiationService.invokeFunction(ya,e,Sa.FromCodeActions,{preview:t,editor:this._editor})}};zo.ID="editor.contrib.quickFixController",zo=ps([hs(1,Ys.lT),hs(2,ht.i6),hs(3,bs.ek),hs(4,ki.TG),hs(5,bi.p)],zo);var Sa;(function(p){p.OnSave="onSave",p.FromProblemsView="fromProblemsView",p.FromCodeActions="fromCodeActions"})(Sa||(Sa={}));function ya(p,e,t,n){return qs(this,void 0,void 0,function*(){const s=p.get(_s.vu),o=p.get(gi.Hy),g=p.get(fe.b),w=p.get(et.lT);if(g.publicLog2("codeAction.applyCodeAction",{codeActionTitle:e.action.title,codeActionKind:e.action.kind,codeActionIsPreferred:!!e.action.isPreferred,reason:t}),yield e.resolve(ri.T.None),e.action.edit&&(yield s.apply(_s.fo.convert(e.action.edit),{editor:n==null?void 0:n.editor,label:e.action.title,quotableLabel:e.action.title,code:"undoredo.codeAction",respectAutoSaveConfig:!0,showPreview:n==null?void 0:n.preview})),e.action.command)try{yield o.executeCommand(e.action.command.id,...e.action.command.arguments||[])}catch(G){const J=hl(G);w.error(typeof J=="string"?J:_e.NC("applyCodeActionFailed","An unknown error occurred while applying the code action"))}})}function hl(p){return typeof p=="string"?p:p instanceof Error&&typeof p.message=="string"?p.message:void 0}function mr(p,e,t,n,s=!1,o=ws.Default){if(p.hasModel()){const g=zo.get(p);g==null||g.manualTriggerAtCurrentPosition(e,o,t,n,s)}}class Jo extends je.R6{constructor(){super({id:Jo.Id,label:_e.NC("quickfix.trigger.label","Quick Fix..."),alias:"Quick Fix...",precondition:ht.Ao.and(vt.u.writable,vt.u.hasCodeActionsProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2132,weight:100}})}run(e,t){return mr(t,_e.NC("editor.action.quickFix.noneMessage","No code actions available"),void 0,void 0,!1,ws.QuickFix)}}Jo.Id="editor.action.quickFix";class fl extends je._l{constructor(){super({id:ts,precondition:ht.Ao.and(vt.u.writable,vt.u.hasCodeActionsProvider),description:{description:"Trigger a code action",args:[{name:"args",schema:Ya}]}})}runEditorCommand(e,t,n){const s=cs.fromUser(n,{kind:Di.Empty,apply:"ifSingle"});return mr(t,typeof(n==null?void 0:n.kind)=="string"?s.preferred?_e.NC("editor.action.codeAction.noneMessage.preferred.kind","No preferred code actions for '{0}' available",n.kind):_e.NC("editor.action.codeAction.noneMessage.kind","No code actions for '{0}' available",n.kind):s.preferred?_e.NC("editor.action.codeAction.noneMessage.preferred","No preferred code actions available"):_e.NC("editor.action.codeAction.noneMessage","No code actions available"),{include:s.kind,includeSourceActions:!0,onlyIncludePreferredActions:s.preferred},s.apply)}}class gl extends je.R6{constructor(){super({id:Ro,label:_e.NC("refactor.label","Refactor..."),alias:"Refactor...",precondition:ht.Ao.and(vt.u.writable,vt.u.hasCodeActionsProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3120,mac:{primary:1328},weight:100},contextMenuOpts:{group:"1_modification",order:2,when:ht.Ao.and(vt.u.writable,Po(Di.Refactor))},description:{description:"Refactor...",args:[{name:"args",schema:Ya}]}})}run(e,t,n){return Fa(t,n,!1,ws.Refactor)}}class Go extends je.R6{constructor(){super({id:zs,label:_e.NC("refactor.preview.label","Refactor with Preview..."),alias:"Refactor Preview...",precondition:ht.Ao.and(vt.u.writable,vt.u.hasCodeActionsProvider),description:{description:"Refactor Preview...",args:[{name:"args",schema:Ya}]}})}run(e,t,n){return Fa(t,n,!0,ws.RefactorPreview)}}class Fr extends je.R6{constructor(){super({id:As,label:_e.NC("source.label","Source Action..."),alias:"Source Action...",precondition:ht.Ao.and(vt.u.writable,vt.u.hasCodeActionsProvider),contextMenuOpts:{group:"1_modification",order:2.1,when:ht.Ao.and(vt.u.writable,Po(Di.Source))},description:{description:"Source Action...",args:[{name:"args",schema:Ya}]}})}run(e,t,n){const s=cs.fromUser(n,{kind:Di.Source,apply:"never"});return mr(t,typeof(n==null?void 0:n.kind)=="string"?s.preferred?_e.NC("editor.action.source.noneMessage.preferred.kind","No preferred source actions for '{0}' available",n.kind):_e.NC("editor.action.source.noneMessage.kind","No source actions for '{0}' available",n.kind):s.preferred?_e.NC("editor.action.source.noneMessage.preferred","No preferred source actions available"):_e.NC("editor.action.source.noneMessage","No source actions available"),{include:Di.Source.contains(s.kind)?s.kind:Di.None,includeSourceActions:!0,onlyIncludePreferredActions:s.preferred},s.apply,void 0,ws.SourceAction)}}class La extends je.R6{constructor(){super({id:eo,label:_e.NC("organizeImports.label","Organize Imports"),alias:"Organize Imports",precondition:ht.Ao.and(vt.u.writable,Po(Di.SourceOrganizeImports)),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1581,weight:100}})}run(e,t){return mr(t,_e.NC("editor.action.organize.noneMessage","No organize imports action available"),{include:Di.SourceOrganizeImports,includeSourceActions:!0},"ifSingle",void 0,ws.OrganizeImports)}}class Lc extends je.R6{constructor(){super({id:so,label:_e.NC("fixAll.label","Fix All"),alias:"Fix All",precondition:ht.Ao.and(vt.u.writable,Po(Di.SourceFixAll))})}run(e,t){return mr(t,_e.NC("fixAll.noneMessage","No fix all action available"),{include:Di.SourceFixAll,includeSourceActions:!0},"ifSingle",void 0,ws.FixAll)}}class Ea extends je.R6{constructor(){super({id:Ea.Id,label:_e.NC("autoFix.label","Auto Fix..."),alias:"Auto Fix...",precondition:ht.Ao.and(vt.u.writable,Po(Di.QuickFix)),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1620,mac:{primary:2644},weight:100}})}run(e,t){return mr(t,_e.NC("editor.action.autoFix.noneMessage","No auto fixes available"),{include:Di.QuickFix,onlyIncludePreferredActions:!0},"ifSingle",void 0,ws.AutoFix)}}Ea.Id="editor.action.autoFix";const Qa=je._l.bindToContribution(zo.get),Da=100+90;(0,je.fK)(new Qa({id:"hideCodeActionMenuWidget",precondition:it.Visible,handler(p){p.hideCodeActionMenu()},kbOpts:{weight:Da,primary:9,secondary:[1033]}})),(0,je.fK)(new Qa({id:"focusPreviousCodeAction",precondition:it.Visible,handler(p){p.navigateCodeActionList(!0)},kbOpts:{weight:Da+1e5,primary:16,secondary:[2064]}})),(0,je.fK)(new Qa({id:"focusNextCodeAction",precondition:it.Visible,handler(p){p.navigateCodeActionList(!1)},kbOpts:{weight:Da+1e5,primary:18,secondary:[2066]}})),(0,je.fK)(new Qa({id:"onEnterSelectCodeAction",precondition:it.Visible,handler(p){p.selectedOption()},kbOpts:{weight:Da+1e5,primary:3,secondary:[1026]}})),(0,je.fK)(new Qa({id:"onEnterSelectCodeActionWithPreview",precondition:it.Visible,handler(p){p.selectedOptionWithPreview()},kbOpts:{weight:Da+1e5,primary:2051}}));var Al=l(35847),lr=l(90410),pr=l(14038);pr.B.as(lr.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},Al.wk),{properties:{"editor.experimental.useCustomCodeActionMenu":{type:"boolean",tags:["experimental"],scope:5,description:_e.NC("codeActionWidget","Enabling this adjusts how the code action menu is rendered."),default:!1}}})),(0,je._K)(zo.ID,zo),(0,je.Qr)(Jo),(0,je.Qr)(gl),(0,je.Qr)(Go),(0,je.Qr)(Fr),(0,je.Qr)(La),(0,je.Qr)(Ea),(0,je.Qr)(Lc),(0,je.fK)(new fl);var da=l(16746),po=l(70018),ho=l(24030),Zi=l(17014),Xa=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};class Ba{constructor(){this.lenses=[],this._disposables=new wt.SL}dispose(){this._disposables.dispose()}get isDisposed(){return this._disposables.isDisposed}add(e,t){this._disposables.add(e);for(const n of e.lenses)this.lenses.push({symbol:n,provider:t})}}function Zr(p,e,t){return Xa(this,void 0,void 0,function*(){const n=p.ordered(e),s=new Map,o=new Ba,g=n.map((w,G)=>Xa(this,void 0,void 0,function*(){s.set(w,G);try{const J=yield Promise.resolve(w.provideCodeLenses(e,t));J&&o.add(J,w)}catch(J){(0,Ei.Cp)(J)}}));return yield Promise.all(g),o.lenses=o.lenses.sort((w,G)=>w.symbol.range.startLineNumber<G.symbol.range.startLineNumber?-1:w.symbol.range.startLineNumber>G.symbol.range.startLineNumber?1:s.get(w.provider)<s.get(G.provider)?-1:s.get(w.provider)>s.get(G.provider)?1:w.symbol.range.startColumn<G.symbol.range.startColumn?-1:w.symbol.range.startColumn>G.symbol.range.startColumn?1:0),o})}gi.P0.registerCommand("_executeCodeLensProvider",function(p,...e){let[t,n]=e;(0,Zi.p_)(Xi.o.isUri(t)),(0,Zi.p_)(typeof n=="number"||!n);const{codeLensProvider:s}=p.get(bi.p),o=p.get(Ks.q).getModel(t);if(!o)throw(0,Ei.b1)();const g=[],w=new wt.SL;return Zr(s,o,ri.T.None).then(G=>{w.add(G);const J=[];for(const Q of G.lenses)n==null||Boolean(Q.symbol.command)?g.push(Q.symbol):n-- >0&&Q.provider.resolveCodeLens&&J.push(Promise.resolve(Q.provider.resolveCodeLens(o,Q.symbol,ri.T.None)).then(ue=>g.push(ue||Q.symbol)));return Promise.all(J)}).then(()=>g).finally(()=>{setTimeout(()=>w.dispose(),100)})});var cr=l(48466),Mi=l(36230),Yr=l(88588),Oo=l(12751),Qr=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},dr=function(p,e){return function(t,n){e(t,n,p)}};const ml=(0,ki.yh)("ICodeLensCache");class pl{constructor(e,t){this.lineCount=e,this.data=t}}let Ja=class{constructor(e){this._fakeProvider=new class{provideCodeLenses(){throw new Error("not supported")}},this._cache=new Mi.z6(20,.75);const t="codelens/cache";(0,kt.To)(()=>e.remove(t,1));const n="codelens/cache2",s=e.get(n,1,"{}");this._deserialize(s),(0,cr.I)(e.onWillSaveState)(o=>{o.reason===Oo.fk.SHUTDOWN&&e.store(n,this._serialize(),1,1)})}put(e,t){const n=t.lenses.map(g=>{var w;return{range:g.symbol.range,command:g.symbol.command&&{id:"",title:(w=g.symbol.command)===null||w===void 0?void 0:w.title}}}),s=new Ba;s.add({lenses:n,dispose:()=>{}},this._fakeProvider);const o=new pl(e.getLineCount(),s);this._cache.set(e.uri.toString(),o)}get(e){const t=this._cache.get(e.uri.toString());return t&&t.lineCount===e.getLineCount()?t.data:void 0}delete(e){this._cache.delete(e.uri.toString())}_serialize(){const e=Object.create(null);for(const[t,n]of this._cache){const s=new Set;for(const o of n.data.lenses)s.add(o.symbol.range.startLineNumber);e[t]={lineCount:n.lineCount,lines:[...s.values()]}}return JSON.stringify(e)}_deserialize(e){try{const t=JSON.parse(e);for(const n in t){const s=t[n],o=[];for(const w of s.lines)o.push({range:new _t.e(w,1,w,11)});const g=new Ba;g.add({lenses:o,dispose(){}},this._fakeProvider),this._cache.set(n,new pl(s.lineCount,g))}}catch(t){}}};Ja=Qr([dr(0,Oo.Uy)],Ja),(0,Yr.z)(ml,Ja);var Hi=l(10658);class Ws{constructor(e,t,n){this.afterColumn=1073741824,this.afterLineNumber=e,this.heightInPx=t,this._onHeight=n,this.suppressMouseDown=!0,this.domNode=document.createElement("div")}onComputedHeight(e){this._lastHeight===void 0?this._lastHeight=e:this._lastHeight!==e&&(this._lastHeight=e,this._onHeight())}isVisible(){return this._lastHeight!==0&&this.domNode.hasAttribute("monaco-visible-view-zone")}}class _o{constructor(e,t,n){this.allowEditorOverflow=!1,this.suppressMouseDown=!0,this._commands=new Map,this._isEmpty=!0,this._editor=e,this._id=`codelens.widget-${_o._idPool++}`,this.updatePosition(n),this._domNode=document.createElement("span"),this._domNode.className=`codelens-decoration ${t}`}withCommands(e,t){this._commands.clear();const n=[];let s=!1;for(let o=0;o<e.length;o++){const g=e[o];if(!!g&&(s=!0,g.command)){const w=(0,Hi.T)(g.command.title.trim());g.command.id?(n.push(we.$("a",{id:String(o),title:g.command.tooltip,role:"button"},...w)),this._commands.set(String(o),g.command)):n.push(we.$("span",{title:g.command.tooltip},...w)),o+1<e.length&&n.push(we.$("span",void 0,"\xA0|\xA0"))}}s?(we.mc(this._domNode,...n),this._isEmpty&&t&&this._domNode.classList.add("fadein"),this._isEmpty=!1):we.mc(this._domNode,we.$("span",void 0,"no commands"))}getCommand(e){return e.parentElement===this._domNode?this._commands.get(e.id):void 0}getId(){return this._id}getDomNode(){return this._domNode}updatePosition(e){const t=this._editor.getModel().getLineFirstNonWhitespaceColumn(e);this._widgetPosition={position:{lineNumber:e,column:t},preference:[1]}}getPosition(){return this._widgetPosition||null}}_o._idPool=0;class ds{constructor(){this._removeDecorations=[],this._addDecorations=[],this._addDecorationsCallbacks=[]}addDecoration(e,t){this._addDecorations.push(e),this._addDecorationsCallbacks.push(t)}removeDecoration(e){this._removeDecorations.push(e)}commit(e){const t=e.deltaDecorations(this._removeDecorations,this._addDecorations);for(let n=0,s=t.length;n<s;n++)this._addDecorationsCallbacks[n](t[n])}}class Zo{constructor(e,t,n,s,o,g,w){this._isDisposed=!1,this._editor=t,this._className=n,this._data=e,this._decorationIds=[];let G;const J=[];this._data.forEach((Q,ue)=>{Q.symbol.command&&J.push(Q.symbol),s.addDecoration({range:Q.symbol.range,options:Xn.qx.EMPTY},Ne=>this._decorationIds[ue]=Ne),G?G=_t.e.plusRange(G,Q.symbol.range):G=_t.e.lift(Q.symbol.range)}),this._viewZone=new Ws(G.startLineNumber-1,g,w),this._viewZoneId=o.addZone(this._viewZone),J.length>0&&(this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(J,!1))}_createContentWidgetIfNecessary(){this._contentWidget?this._editor.layoutContentWidget(this._contentWidget):(this._contentWidget=new _o(this._editor,this._className,this._viewZone.afterLineNumber+1),this._editor.addContentWidget(this._contentWidget))}dispose(e,t){this._decorationIds.forEach(e.removeDecoration,e),this._decorationIds=[],t==null||t.removeZone(this._viewZoneId),this._contentWidget&&(this._editor.removeContentWidget(this._contentWidget),this._contentWidget=void 0),this._isDisposed=!0}isDisposed(){return this._isDisposed}isValid(){return this._decorationIds.some((e,t)=>{const n=this._editor.getModel().getDecorationRange(e),s=this._data[t].symbol;return!!(n&&_t.e.isEmpty(s.range)===n.isEmpty())})}updateCodeLensSymbols(e,t){this._decorationIds.forEach(t.removeDecoration,t),this._decorationIds=[],this._data=e,this._data.forEach((n,s)=>{t.addDecoration({range:n.symbol.range,options:Xn.qx.EMPTY},o=>this._decorationIds[s]=o)})}updateHeight(e,t){this._viewZone.heightInPx=e,t.layoutZone(this._viewZoneId),this._contentWidget&&this._editor.layoutContentWidget(this._contentWidget)}computeIfNecessary(e){if(!this._viewZone.isVisible())return null;for(let t=0;t<this._decorationIds.length;t++){const n=e.getDecorationRange(this._decorationIds[t]);n&&(this._data[t].symbol.range=n)}return this._data}updateCommands(e){this._createContentWidgetIfNecessary(),this._contentWidget.withCommands(e,!0);for(let t=0;t<this._data.length;t++){const n=e[t];if(n){const{symbol:s}=this._data[t];s.command=n.command||s.command}}}getCommand(e){var t;return(t=this._contentWidget)===null||t===void 0?void 0:t.getCommand(e)}getLineNumber(){const e=this._editor.getModel().getDecorationRange(this._decorationIds[0]);return e?e.startLineNumber:-1}update(e){if(this.isValid()){const t=this._editor.getModel().getDecorationRange(this._decorationIds[0]);t&&(this._viewZone.afterLineNumber=t.startLineNumber-1,e.layoutZone(this._viewZoneId),this._contentWidget&&(this._contentWidget.updatePosition(t.startLineNumber),this._editor.layoutContentWidget(this._contentWidget)))}}}var yo=l(47279),Fo=l(91579),Pl=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},_l=function(p,e){return function(t,n){e(t,n,p)}},Od=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};let Xr=class{constructor(e,t,n,s,o,g){this._editor=e,this._languageFeaturesService=t,this._commandService=s,this._notificationService=o,this._codeLensCache=g,this._disposables=new wt.SL,this._localToDispose=new wt.SL,this._lenses=[],this._oldCodeLensModels=new wt.SL,this._provideCodeLensDebounce=n.for(t.codeLensProvider,"CodeLensProvide",{min:250}),this._resolveCodeLensesDebounce=n.for(t.codeLensProvider,"CodeLensResolve",{min:250,salt:"resolve"}),this._resolveCodeLensesScheduler=new kt.pY(()=>this._resolveCodeLensesInViewport(),this._resolveCodeLensesDebounce.default()),this._disposables.add(this._editor.onDidChangeModel(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>this._onModelChange())),this._disposables.add(this._editor.onDidChangeConfiguration(w=>{(w.hasChanged(46)||w.hasChanged(16)||w.hasChanged(15))&&this._updateLensStyle(),w.hasChanged(14)&&this._onModelChange()})),this._disposables.add(t.codeLensProvider.onDidChange(this._onModelChange,this)),this._onModelChange(),this._styleClassName="_"+(0,da.vp)(this._editor.getId()).toString(16),this._styleElement=we.dS(we.OO(this._editor.getContainerDomNode())?this._editor.getContainerDomNode():void 0),this._updateLensStyle()}dispose(){var e;this._localDispose(),this._disposables.dispose(),this._oldCodeLensModels.dispose(),(e=this._currentCodeLensModel)===null||e===void 0||e.dispose(),this._styleElement.remove()}_getLayoutInfo(){const e=Math.max(1.3,this._editor.getOption(61)/this._editor.getOption(48));let t=this._editor.getOption(16);return(!t||t<5)&&(t=this._editor.getOption(48)*.9|0),{fontSize:t,codeLensHeight:t*e|0}}_updateLensStyle(){const{codeLensHeight:e,fontSize:t}=this._getLayoutInfo(),n=this._editor.getOption(15),s=this._editor.getOption(46),o=`--codelens-font-family${this._styleClassName}`,g=`--codelens-font-features${this._styleClassName}`;let w=`
		.monaco-editor .codelens-decoration.${this._styleClassName} { line-height: ${e}px; font-size: ${t}px; padding-right: ${Math.round(t*.5)}px; font-feature-settings: var(${g}) }
		.monaco-editor .codelens-decoration.${this._styleClassName} span.codicon { line-height: ${e}px; font-size: ${t}px; }
		`;n&&(w+=`.monaco-editor .codelens-decoration.${this._styleClassName} { font-family: var(${o}), ${ho.hL.fontFamily}}`),this._styleElement.textContent=w,this._editor.getContainerDomNode().style.setProperty(o,n!=null?n:"inherit"),this._editor.getContainerDomNode().style.setProperty(g,s.fontFeatureSettings),this._editor.changeViewZones(G=>{for(const J of this._lenses)J.updateHeight(e,G)})}_localDispose(){var e,t,n;(e=this._getCodeLensModelPromise)===null||e===void 0||e.cancel(),this._getCodeLensModelPromise=void 0,(t=this._resolveCodeLensesPromise)===null||t===void 0||t.cancel(),this._resolveCodeLensesPromise=void 0,this._localToDispose.clear(),this._oldCodeLensModels.clear(),(n=this._currentCodeLensModel)===null||n===void 0||n.dispose()}_onModelChange(){this._localDispose();const e=this._editor.getModel();if(!e||!this._editor.getOption(14))return;const t=this._codeLensCache.get(e);if(t&&this._renderCodeLensSymbols(t),!this._languageFeaturesService.codeLensProvider.has(e)){t&&this._localToDispose.add((0,kt.Vg)(()=>{const s=this._codeLensCache.get(e);t===s&&(this._codeLensCache.delete(e),this._onModelChange())},30*1e3));return}for(const s of this._languageFeaturesService.codeLensProvider.all(e))if(typeof s.onDidChange=="function"){const o=s.onDidChange(()=>n.schedule());this._localToDispose.add(o)}const n=new kt.pY(()=>{var s;const o=Date.now();(s=this._getCodeLensModelPromise)===null||s===void 0||s.cancel(),this._getCodeLensModelPromise=(0,kt.PG)(g=>Zr(this._languageFeaturesService.codeLensProvider,e,g)),this._getCodeLensModelPromise.then(g=>{this._currentCodeLensModel&&this._oldCodeLensModels.add(this._currentCodeLensModel),this._currentCodeLensModel=g,this._codeLensCache.put(e,g);const w=this._provideCodeLensDebounce.update(e,Date.now()-o);n.delay=w,this._renderCodeLensSymbols(g),this._resolveCodeLensesInViewportSoon()},Ei.dL)},this._provideCodeLensDebounce.get(e));this._localToDispose.add(n),this._localToDispose.add((0,wt.OF)(()=>this._resolveCodeLensesScheduler.cancel())),this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._editor.changeDecorations(s=>{this._editor.changeViewZones(o=>{const g=[];let w=-1;this._lenses.forEach(J=>{!J.isValid()||w===J.getLineNumber()?g.push(J):(J.update(o),w=J.getLineNumber())});const G=new ds;g.forEach(J=>{J.dispose(G,o),this._lenses.splice(this._lenses.indexOf(J),1)}),G.commit(s)})}),n.schedule()})),this._localToDispose.add(this._editor.onDidFocusEditorWidget(()=>{n.schedule()})),this._localToDispose.add(this._editor.onDidScrollChange(s=>{s.scrollTopChanged&&this._lenses.length>0&&this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add(this._editor.onDidLayoutChange(()=>{this._resolveCodeLensesInViewportSoon()})),this._localToDispose.add((0,wt.OF)(()=>{if(this._editor.getModel()){const s=po.Z.capture(this._editor);this._editor.changeDecorations(o=>{this._editor.changeViewZones(g=>{this._disposeAllLenses(o,g)})}),s.restore(this._editor)}else this._disposeAllLenses(void 0,void 0)})),this._localToDispose.add(this._editor.onMouseDown(s=>{if(s.target.type!==9)return;let o=s.target.element;if((o==null?void 0:o.tagName)==="SPAN"&&(o=o.parentElement),(o==null?void 0:o.tagName)==="A")for(const g of this._lenses){const w=g.getCommand(o);if(w){this._commandService.executeCommand(w.id,...w.arguments||[]).catch(G=>this._notificationService.error(G));break}}})),n.schedule()}_disposeAllLenses(e,t){const n=new ds;for(const s of this._lenses)s.dispose(n,t);e&&n.commit(e),this._lenses.length=0}_renderCodeLensSymbols(e){if(!this._editor.hasModel())return;const t=this._editor.getModel().getLineCount(),n=[];let s;for(const w of e.lenses){const G=w.symbol.range.startLineNumber;G<1||G>t||(s&&s[s.length-1].symbol.range.startLineNumber===G?s.push(w):(s=[w],n.push(s)))}const o=po.Z.capture(this._editor),g=this._getLayoutInfo();this._editor.changeDecorations(w=>{this._editor.changeViewZones(G=>{const J=new ds;let Q=0,ue=0;for(;ue<n.length&&Q<this._lenses.length;){const Ne=n[ue][0].symbol.range.startLineNumber,st=this._lenses[Q].getLineNumber();st<Ne?(this._lenses[Q].dispose(J,G),this._lenses.splice(Q,1)):st===Ne?(this._lenses[Q].updateCodeLensSymbols(n[ue],J),ue++,Q++):(this._lenses.splice(Q,0,new Zo(n[ue],this._editor,this._styleClassName,J,G,g.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),Q++,ue++)}for(;Q<this._lenses.length;)this._lenses[Q].dispose(J,G),this._lenses.splice(Q,1);for(;ue<n.length;)this._lenses.push(new Zo(n[ue],this._editor,this._styleClassName,J,G,g.codeLensHeight,()=>this._resolveCodeLensesInViewportSoon())),ue++;J.commit(w)})}),o.restore(this._editor)}_resolveCodeLensesInViewportSoon(){this._editor.getModel()&&this._resolveCodeLensesScheduler.schedule()}_resolveCodeLensesInViewport(){var e;(e=this._resolveCodeLensesPromise)===null||e===void 0||e.cancel(),this._resolveCodeLensesPromise=void 0;const t=this._editor.getModel();if(!t)return;const n=[],s=[];if(this._lenses.forEach(w=>{const G=w.computeIfNecessary(t);G&&(n.push(G),s.push(w))}),n.length===0)return;const o=Date.now(),g=(0,kt.PG)(w=>{const G=n.map((J,Q)=>{const ue=new Array(J.length),Ne=J.map((st,mt)=>!st.symbol.command&&typeof st.provider.resolveCodeLens=="function"?Promise.resolve(st.provider.resolveCodeLens(t,st.symbol,w)).then(bt=>{ue[mt]=bt},Ei.Cp):(ue[mt]=st.symbol,Promise.resolve(void 0)));return Promise.all(Ne).then(()=>{!w.isCancellationRequested&&!s[Q].isDisposed()&&s[Q].updateCommands(ue)})});return Promise.all(G)});this._resolveCodeLensesPromise=g,this._resolveCodeLensesPromise.then(()=>{const w=this._resolveCodeLensesDebounce.update(t,Date.now()-o);this._resolveCodeLensesScheduler.delay=w,this._currentCodeLensModel&&this._codeLensCache.put(t,this._currentCodeLensModel),this._oldCodeLensModels.clear(),g===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)},w=>{(0,Ei.dL)(w),g===this._resolveCodeLensesPromise&&(this._resolveCodeLensesPromise=void 0)})}getModel(){return this._currentCodeLensModel}};Xr.ID="css.editor.codeLens",Xr=Pl([_l(1,bi.p),_l(2,Fo.A),_l(3,gi.Hy),_l(4,et.lT),_l(5,ml)],Xr),(0,je._K)(Xr.ID,Xr),(0,je.Qr)(class extends je.R6{constructor(){super({id:"codelens.showLensesInCurrentLine",precondition:vt.u.hasCodeLensProvider,label:(0,_e.NC)("showLensOnLine","Show CodeLens Commands For Current Line"),alias:"Show CodeLens Commands For Current Line"})}run(e,t){return Od(this,void 0,void 0,function*(){if(!t.hasModel())return;const n=e.get(yo.eJ),s=e.get(gi.Hy),o=e.get(et.lT),g=t.getSelection().positionLineNumber,w=t.getContribution(Xr.ID);if(!w)return;const G=w.getModel();if(!G)return;const J=[];for(const ue of G.lenses)ue.symbol.command&&ue.symbol.range.startLineNumber===g&&J.push({label:ue.symbol.command.title,command:ue.symbol.command});if(J.length===0)return;const Q=yield n.pick(J,{canPickMany:!1});if(!!Q){if(G.isDisposed)return yield s.executeCommand(this.id);try{yield s.executeCommand(Q.command.id,...Q.command.arguments||[])}catch(ue){o.error(ue)}}})}});var ys=l(15304),_r=l(49960),Uo=l(42452);function Ec(p,e,t){const n=[],o=p.ordered(e).reverse().map(g=>Promise.resolve(g.provideDocumentColors(e,t)).then(w=>{if(Array.isArray(w))for(const G of w)n.push({colorInfo:G,provider:g})}));return Promise.all(o).then(()=>n)}function vl(p,e,t,n){return Promise.resolve(t.provideColorPresentations(p,e,n))}gi.P0.registerCommand("_executeDocumentColorProvider",function(p,...e){const[t]=e;if(!(t instanceof Xi.o))throw(0,Ei.b1)();const{colorProvider:n}=p.get(bi.p),s=p.get(Ks.q).getModel(t);if(!s)throw(0,Ei.b1)();const o=[],w=n.ordered(s).reverse().map(G=>Promise.resolve(G.provideDocumentColors(s,ri.T.None)).then(J=>{if(Array.isArray(J))for(const Q of J)o.push({range:Q.range,color:[Q.color.red,Q.color.green,Q.color.blue,Q.color.alpha]})}));return Promise.all(w).then(()=>o)}),gi.P0.registerCommand("_executeColorPresentationProvider",function(p,...e){const[t,n]=e,{uri:s,range:o}=n;if(!(s instanceof Xi.o)||!Array.isArray(t)||t.length!==4||!_t.e.isIRange(o))throw(0,Ei.b1)();const[g,w,G,J]=t,{colorProvider:Q}=p.get(bi.p),ue=p.get(Ks.q).getModel(s);if(!ue)throw(0,Ei.b1)();const Ne={range:o,color:{red:g,green:w,blue:G,alpha:J}},st=[],bt=Q.ordered(ue).reverse().map($t=>Promise.resolve($t.provideColorPresentations(ue,Ne,ri.T.None)).then(Cn=>{Array.isArray(Cn)&&st.push(...Cn)}));return Promise.all(bt).then(()=>st)});var ua=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ha=function(p,e){return function(t,n){e(t,n,p)}},Jl=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};const Cl=Object.create({}),qa=500;let vr=class J1 extends wt.JT{constructor(e,t,n,s){super(),this._editor=e,this._configurationService=t,this._languageFeaturesService=n,this._localToDispose=this._register(new wt.SL),this._decorationsIds=[],this._colorDatas=new Map,this._colorDecoratorIds=this._editor.createDecorationsCollection(),this._ruleFactory=new Uo.t7(this._editor),this._colorDecorationClassRefs=this._register(new wt.SL),this._debounceInformation=s.for(n.colorProvider,"Document Colors",{min:J1.RECOMPUTE_TIME}),this._register(e.onDidChangeModel(()=>{this._isEnabled=this.isEnabled(),this.onModelChanged()})),this._register(e.onDidChangeModelLanguage(()=>this.onModelChanged())),this._register(n.colorProvider.onDidChange(()=>this.onModelChanged())),this._register(e.onDidChangeConfiguration(()=>{const o=this._isEnabled;this._isEnabled=this.isEnabled(),o!==this._isEnabled&&(this._isEnabled?this.onModelChanged():this.removeAllDecorations())})),this._timeoutTimer=null,this._computePromise=null,this._isEnabled=this.isEnabled(),this.onModelChanged()}isEnabled(){const e=this._editor.getModel();if(!e)return!1;const t=e.getLanguageId(),n=this._configurationService.getValue(t);if(n&&typeof n=="object"){const s=n.colorDecorators;if(s&&s.enable!==void 0&&!s.enable)return s.enable}return this._editor.getOption(17)}static get(e){return e.getContribution(this.ID)}dispose(){this.stop(),this.removeAllDecorations(),super.dispose()}onModelChanged(){if(this.stop(),!this._isEnabled)return;const e=this._editor.getModel();!e||!this._languageFeaturesService.colorProvider.has(e)||(this._localToDispose.add(this._editor.onDidChangeModelContent(()=>{this._timeoutTimer||(this._timeoutTimer=new kt._F,this._timeoutTimer.cancelAndSet(()=>{this._timeoutTimer=null,this.beginCompute()},this._debounceInformation.get(e)))})),this.beginCompute())}beginCompute(){this._computePromise=(0,kt.PG)(e=>Jl(this,void 0,void 0,function*(){const t=this._editor.getModel();if(!t)return Promise.resolve([]);const n=new _r.G(!1),s=yield Ec(this._languageFeaturesService.colorProvider,t,e);return this._debounceInformation.update(t,n.elapsed()),s})),this._computePromise.then(e=>{this.updateDecorations(e),this.updateColorDecorators(e),this._computePromise=null},Ei.dL)}stop(){this._timeoutTimer&&(this._timeoutTimer.cancel(),this._timeoutTimer=null),this._computePromise&&(this._computePromise.cancel(),this._computePromise=null),this._localToDispose.clear()}updateDecorations(e){const t=e.map(n=>({range:{startLineNumber:n.colorInfo.range.startLineNumber,startColumn:n.colorInfo.range.startColumn,endLineNumber:n.colorInfo.range.endLineNumber,endColumn:n.colorInfo.range.endColumn},options:Xn.qx.EMPTY}));this._editor.changeDecorations(n=>{this._decorationsIds=n.deltaDecorations(this._decorationsIds,t),this._colorDatas=new Map,this._decorationsIds.forEach((s,o)=>this._colorDatas.set(s,e[o]))})}updateColorDecorators(e){this._colorDecorationClassRefs.clear();const t=[];for(let n=0;n<e.length&&t.length<qa;n++){const{red:s,green:o,blue:g,alpha:w}=e[n].colorInfo.color,G=new ys.VS(Math.round(s*255),Math.round(o*255),Math.round(g*255),w),J=`rgba(${G.r}, ${G.g}, ${G.b}, ${G.a})`,Q=this._colorDecorationClassRefs.add(this._ruleFactory.createClassNameRef({backgroundColor:J}));t.push({range:{startLineNumber:e[n].colorInfo.range.startLineNumber,startColumn:e[n].colorInfo.range.startColumn,endLineNumber:e[n].colorInfo.range.endLineNumber,endColumn:e[n].colorInfo.range.endColumn},options:{description:"colorDetector",before:{content:fi.B4,inlineClassName:`${Q.className} colorpicker-color-decoration`,inlineClassNameAffectsLetterSpacing:!0,attachedData:Cl}}})}this._colorDecoratorIds.set(t)}removeAllDecorations(){this._editor.removeDecorations(this._decorationsIds),this._decorationsIds=[],this._colorDecoratorIds.clear(),this._colorDecorationClassRefs.clear()}getColorData(e){const t=this._editor.getModel();if(!t)return null;const n=t.getDecorationsInRange(_t.e.fromPositions(e,e)).filter(s=>this._colorDatas.has(s.id));return n.length===0?null:this._colorDatas.get(n[0].id)}isColorDecoration(e){return this._colorDecoratorIds.has(e)}};vr.ID="editor.contrib.colorDetector",vr.RECOMPUTE_TIME=1e3,vr=ua([ha(1,m.Ui),ha(2,bi.p),ha(3,Fo.A)],vr),(0,je._K)(vr.ID,vr);class nd{constructor(e,t,n){this.presentationIndex=n,this._onColorFlushed=new ni.Q5,this.onColorFlushed=this._onColorFlushed.event,this._onDidChangeColor=new ni.Q5,this.onDidChangeColor=this._onDidChangeColor.event,this._onDidChangePresentation=new ni.Q5,this.onDidChangePresentation=this._onDidChangePresentation.event,this.originalColor=e,this._color=e,this._colorPresentations=t}get color(){return this._color}set color(e){this._color.equals(e)||(this._color=e,this._onDidChangeColor.fire(e))}get presentation(){return this.colorPresentations[this.presentationIndex]}get colorPresentations(){return this._colorPresentations}set colorPresentations(e){this._colorPresentations=e,this.presentationIndex>e.length-1&&(this.presentationIndex=0),this._onDidChangePresentation.fire(this.presentation)}selectNextColorPresentation(){this.presentationIndex=(this.presentationIndex+1)%this.colorPresentations.length,this.flushColor(),this._onDidChangePresentation.fire(this.presentation)}guessColorPresentation(e,t){for(let n=0;n<this.colorPresentations.length;n++)if(t.toLowerCase()===this.colorPresentations[n].label){this.presentationIndex=n,this._onDidChangePresentation.fire(this.presentation);break}}flushColor(){this._onColorFlushed.fire(this._color)}}var id=l(9138),bl=l(15088);const Br=we.$;class sd extends wt.JT{constructor(e,t,n){super(),this.model=t,this.domNode=Br(".colorpicker-header"),we.R3(e,this.domNode),this.pickedColorNode=we.R3(this.domNode,Br(".picked-color"));const s=(0,_e.NC)("clickToToggleColorOptions","Click to toggle color options (rgb/hsl/hex)");this.pickedColorNode.setAttribute("title",s);const o=we.R3(this.domNode,Br(".original-color"));o.style.backgroundColor=ys.Il.Format.CSS.format(this.model.originalColor)||"",this.backgroundColor=n.getColorTheme().getColor(Ce.yJx)||ys.Il.white,this._register((0,dt.Ic)((g,w)=>{this.backgroundColor=g.getColor(Ce.yJx)||ys.Il.white})),this._register(we.nm(this.pickedColorNode,we.tw.CLICK,()=>this.model.selectNextColorPresentation())),this._register(we.nm(o,we.tw.CLICK,()=>{this.model.color=this.model.originalColor,this.model.flushColor()})),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this._register(t.onDidChangePresentation(this.onDidChangePresentation,this)),this.pickedColorNode.style.backgroundColor=ys.Il.Format.CSS.format(t.color)||"",this.pickedColorNode.classList.toggle("light",t.color.rgba.a<.5?this.backgroundColor.isLighter():t.color.isLighter()),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){this.pickedColorNode.style.backgroundColor=ys.Il.Format.CSS.format(e)||"",this.pickedColorNode.classList.toggle("light",e.rgba.a<.5?this.backgroundColor.isLighter():e.isLighter()),this.onDidChangePresentation()}onDidChangePresentation(){this.pickedColorNode.textContent=this.model.presentation?this.model.presentation.label:"",this.pickedColorNode.prepend(Br(".codicon.codicon-color-mode"))}}class od extends wt.JT{constructor(e,t,n){super(),this.model=t,this.pixelRatio=n,this.domNode=Br(".colorpicker-body"),we.R3(e,this.domNode),this.saturationBox=new Wr(this.domNode,this.model,this.pixelRatio),this._register(this.saturationBox),this._register(this.saturationBox.onDidChange(this.onDidSaturationValueChange,this)),this._register(this.saturationBox.onColorFlushed(this.flushColor,this)),this.opacityStrip=new ec(this.domNode,this.model),this._register(this.opacityStrip),this._register(this.opacityStrip.onDidChange(this.onDidOpacityChange,this)),this._register(this.opacityStrip.onColorFlushed(this.flushColor,this)),this.hueStrip=new rd(this.domNode,this.model),this._register(this.hueStrip),this._register(this.hueStrip.onDidChange(this.onDidHueChange,this)),this._register(this.hueStrip.onColorFlushed(this.flushColor,this))}flushColor(){this.model.flushColor()}onDidSaturationValueChange({s:e,v:t}){const n=this.model.color.hsva;this.model.color=new ys.Il(new ys.tx(n.h,e,t,n.a))}onDidOpacityChange(e){const t=this.model.color.hsva;this.model.color=new ys.Il(new ys.tx(t.h,t.s,t.v,e))}onDidHueChange(e){const t=this.model.color.hsva,n=(1-e)*360;this.model.color=new ys.Il(new ys.tx(n===360?0:n,t.s,t.v,t.a))}layout(){this.saturationBox.layout(),this.opacityStrip.layout(),this.hueStrip.layout()}}class Wr extends wt.JT{constructor(e,t,n){super(),this.model=t,this.pixelRatio=n,this._onDidChange=new ni.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new ni.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=Br(".saturation-wrap"),we.R3(e,this.domNode),this.canvas=document.createElement("canvas"),this.canvas.className="saturation-box",we.R3(this.domNode,this.canvas),this.selection=Br(".saturation-selection"),we.R3(this.domNode,this.selection),this.layout(),this._register(we.nm(this.domNode,we.tw.POINTER_DOWN,s=>this.onPointerDown(s))),this._register(this.model.onDidChangeColor(this.onDidChangeColor,this)),this.monitor=null}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;this.monitor=this._register(new id.C);const t=we.i(this.domNode);e.target!==this.selection&&this.onDidChangePosition(e.offsetX,e.offsetY),this.monitor.startMonitoring(e.target,e.pointerId,e.buttons,s=>this.onDidChangePosition(s.pageX-t.left,s.pageY-t.top),()=>null);const n=we.nm(document,we.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),n.dispose(),this.monitor&&(this.monitor.stopMonitoring(!0),this.monitor=null)},!0)}onDidChangePosition(e,t){const n=Math.max(0,Math.min(1,e/this.width)),s=Math.max(0,Math.min(1,1-t/this.height));this.paintSelection(n,s),this._onDidChange.fire({s:n,v:s})}layout(){this.width=this.domNode.offsetWidth,this.height=this.domNode.offsetHeight,this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio,this.paint();const e=this.model.color.hsva;this.paintSelection(e.s,e.v)}paint(){const e=this.model.color.hsva,t=new ys.Il(new ys.tx(e.h,1,1,1)),n=this.canvas.getContext("2d"),s=n.createLinearGradient(0,0,this.canvas.width,0);s.addColorStop(0,"rgba(255, 255, 255, 1)"),s.addColorStop(.5,"rgba(255, 255, 255, 0.5)"),s.addColorStop(1,"rgba(255, 255, 255, 0)");const o=n.createLinearGradient(0,0,0,this.canvas.height);o.addColorStop(0,"rgba(0, 0, 0, 0)"),o.addColorStop(1,"rgba(0, 0, 0, 1)"),n.rect(0,0,this.canvas.width,this.canvas.height),n.fillStyle=ys.Il.Format.CSS.format(t),n.fill(),n.fillStyle=s,n.fill(),n.fillStyle=o,n.fill()}paintSelection(e,t){this.selection.style.left=`${e*this.width}px`,this.selection.style.top=`${this.height-t*this.height}px`}onDidChangeColor(){this.monitor&&this.monitor.isMonitoring()||this.paint()}}class ql extends wt.JT{constructor(e,t){super(),this.model=t,this._onDidChange=new ni.Q5,this.onDidChange=this._onDidChange.event,this._onColorFlushed=new ni.Q5,this.onColorFlushed=this._onColorFlushed.event,this.domNode=we.R3(e,Br(".strip")),this.overlay=we.R3(this.domNode,Br(".overlay")),this.slider=we.R3(this.domNode,Br(".slider")),this.slider.style.top="0px",this._register(we.nm(this.domNode,we.tw.POINTER_DOWN,n=>this.onPointerDown(n))),this.layout()}layout(){this.height=this.domNode.offsetHeight-this.slider.offsetHeight;const e=this.getValue(this.model.color);this.updateSliderPosition(e)}onPointerDown(e){if(!e.target||!(e.target instanceof Element))return;const t=this._register(new id.C),n=we.i(this.domNode);this.domNode.classList.add("grabbing"),e.target!==this.slider&&this.onDidChangeTop(e.offsetY),t.startMonitoring(e.target,e.pointerId,e.buttons,o=>this.onDidChangeTop(o.pageY-n.top),()=>null);const s=we.nm(document,we.tw.POINTER_UP,()=>{this._onColorFlushed.fire(),s.dispose(),t.stopMonitoring(!0),this.domNode.classList.remove("grabbing")},!0)}onDidChangeTop(e){const t=Math.max(0,Math.min(1,1-e/this.height));this.updateSliderPosition(t),this._onDidChange.fire(t)}updateSliderPosition(e){this.slider.style.top=`${(1-e)*this.height}px`}}class ec extends ql{constructor(e,t){super(e,t),this.domNode.classList.add("opacity-strip"),this._register(t.onDidChangeColor(this.onDidChangeColor,this)),this.onDidChangeColor(this.model.color)}onDidChangeColor(e){const{r:t,g:n,b:s}=e.rgba,o=new ys.Il(new ys.VS(t,n,s,1)),g=new ys.Il(new ys.VS(t,n,s,0));this.overlay.style.background=`linear-gradient(to bottom, ${o} 0%, ${g} 100%)`}getValue(e){return e.hsva.a}}class rd extends ql{constructor(e,t){super(e,t),this.domNode.classList.add("hue-strip")}getValue(e){return 1-e.hsva.h/360}}class Fd extends bl.${constructor(e,t,n,s){super(),this.model=t,this.pixelRatio=n,this._register(Ii.PixelRatio.onDidChange(()=>this.layout()));const o=Br(".colorpicker-widget");e.appendChild(o);const g=new sd(o,this.model,s);this.body=new od(o,this.model,this.pixelRatio),this._register(g),this._register(this.body)}layout(){this.body.layout()}}var Ol=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},el=function(p,e){return function(t,n){e(t,n,p)}},Dc=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};class xc{constructor(e,t,n,s){this.owner=e,this.range=t,this.model=n,this.provider=s,this.forceShowAtRange=!0}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let Fl=class{constructor(e,t){this._editor=e,this._themeService=t,this.hoverOrdinal=1}computeSync(e,t){return[]}computeAsync(e,t,n){return kt.Aq.fromPromise(this._computeAsync(e,t,n))}_computeAsync(e,t,n){return Dc(this,void 0,void 0,function*(){if(!this._editor.hasModel())return[];const s=vr.get(this._editor);if(!s)return[];for(const o of t){if(!s.isColorDecoration(o))continue;const g=s.getColorData(o.range.getStartPosition());if(g)return[yield this._createColorHover(this._editor.getModel(),g.colorInfo,g.provider)]}return[]})}_createColorHover(e,t,n){return Dc(this,void 0,void 0,function*(){const s=e.getValueInRange(t.range),{red:o,green:g,blue:w,alpha:G}=t.color,J=new ys.VS(Math.round(o*255),Math.round(g*255),Math.round(w*255),G),Q=new ys.Il(J),ue=yield vl(e,t,n,ri.T.None),Ne=new nd(Q,[],0);return Ne.colorPresentations=ue||[],Ne.guessColorPresentation(Q,s),new xc(this,_t.e.lift(t.range),Ne,n)})}renderHoverParts(e,t){if(t.length===0||!this._editor.hasModel())return wt.JT.None;const n=new wt.SL,s=t[0],o=this._editor.getModel(),g=s.model,w=n.add(new Fd(e.fragment,g,this._editor.getOption(131),this._themeService));e.setColorPicker(w);let G=new _t.e(s.range.startLineNumber,s.range.startColumn,s.range.endLineNumber,s.range.endColumn);const J=()=>{let ue,Ne;if(g.presentation.textEdit){ue=[g.presentation.textEdit],Ne=new _t.e(g.presentation.textEdit.range.startLineNumber,g.presentation.textEdit.range.startColumn,g.presentation.textEdit.range.endLineNumber,g.presentation.textEdit.range.endColumn);const st=this._editor.getModel()._setTrackedRange(null,Ne,3);this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",ue),Ne=this._editor.getModel()._getTrackedRange(st)||Ne}else ue=[{range:G,text:g.presentation.label,forceMoveMarkers:!1}],Ne=G.setEndPosition(G.endLineNumber,G.startColumn+g.presentation.label.length),this._editor.pushUndoStop(),this._editor.executeEdits("colorpicker",ue);g.presentation.additionalTextEdits&&(ue=[...g.presentation.additionalTextEdits],this._editor.executeEdits("colorpicker",ue),e.hide()),this._editor.pushUndoStop(),G=Ne},Q=ue=>vl(o,{range:G,color:{red:ue.rgba.r/255,green:ue.rgba.g/255,blue:ue.rgba.b/255,alpha:ue.rgba.a}},s.provider,ri.T.None).then(Ne=>{g.colorPresentations=Ne||[]});return n.add(g.onColorFlushed(ue=>{Q(ue).then(J)})),n.add(g.onDidChangeColor(Q)),n}};Fl=Ol([el(1,dt.XE)],Fl);var Yo=l(49038),Cr=l(58222);function tl(p,e){return!!p[e]}class Ic{constructor(e,t){this.target=e.target,this.hasTriggerModifier=tl(e.event,t.triggerModifier),this.hasSideBySideModifier=tl(e.event,t.triggerSideBySideModifier),this.isNoneOrSingleMouseDown=e.event.detail<=1}}class nl{constructor(e,t){this.keyCodeIsTriggerKey=e.keyCode===t.triggerKey,this.keyCodeIsSideBySideKey=e.keyCode===t.triggerSideBySideKey,this.hasTriggerModifier=tl(e,t.triggerModifier)}}class br{constructor(e,t,n,s){this.triggerKey=e,this.triggerModifier=t,this.triggerSideBySideKey=n,this.triggerSideBySideModifier=s}equals(e){return this.triggerKey===e.triggerKey&&this.triggerModifier===e.triggerModifier&&this.triggerSideBySideKey===e.triggerSideBySideKey&&this.triggerSideBySideModifier===e.triggerSideBySideModifier}}function Wa(p){return p==="altKey"?ci.dz?new br(57,"metaKey",6,"altKey"):new br(5,"ctrlKey",6,"altKey"):ci.dz?new br(6,"altKey",57,"metaKey"):new br(6,"altKey",5,"ctrlKey")}class Vr extends wt.JT{constructor(e){super(),this._onMouseMoveOrRelevantKeyDown=this._register(new ni.Q5),this.onMouseMoveOrRelevantKeyDown=this._onMouseMoveOrRelevantKeyDown.event,this._onExecute=this._register(new ni.Q5),this.onExecute=this._onExecute.event,this._onCancel=this._register(new ni.Q5),this.onCancel=this._onCancel.event,this._editor=e,this._opts=Wa(this._editor.getOption(72)),this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._register(this._editor.onDidChangeConfiguration(t=>{if(t.hasChanged(72)){const n=Wa(this._editor.getOption(72));if(this._opts.equals(n))return;this._opts=n,this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._lineNumberOnMouseDown=0,this._onCancel.fire()}})),this._register(this._editor.onMouseMove(t=>this._onEditorMouseMove(new Ic(t,this._opts)))),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(new Ic(t,this._opts)))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(new Ic(t,this._opts)))),this._register(this._editor.onKeyDown(t=>this._onEditorKeyDown(new nl(t,this._opts)))),this._register(this._editor.onKeyUp(t=>this._onEditorKeyUp(new nl(t,this._opts)))),this._register(this._editor.onMouseDrag(()=>this._resetHandler())),this._register(this._editor.onDidChangeCursorSelection(t=>this._onDidChangeCursorSelection(t))),this._register(this._editor.onDidChangeModel(t=>this._resetHandler())),this._register(this._editor.onDidChangeModelContent(()=>this._resetHandler())),this._register(this._editor.onDidScrollChange(t=>{(t.scrollTopChanged||t.scrollLeftChanged)&&this._resetHandler()}))}_onDidChangeCursorSelection(e){e.selection&&e.selection.startColumn!==e.selection.endColumn&&this._resetHandler()}_onEditorMouseMove(e){this._lastMouseMoveEvent=e,this._onMouseMoveOrRelevantKeyDown.fire([e,null])}_onEditorMouseDown(e){this._hasTriggerKeyOnMouseDown=e.hasTriggerModifier,this._lineNumberOnMouseDown=e.target.position?e.target.position.lineNumber:0}_onEditorMouseUp(e){const t=e.target.position?e.target.position.lineNumber:0;this._hasTriggerKeyOnMouseDown&&this._lineNumberOnMouseDown&&this._lineNumberOnMouseDown===t&&this._onExecute.fire(e)}_onEditorKeyDown(e){this._lastMouseMoveEvent&&(e.keyCodeIsTriggerKey||e.keyCodeIsSideBySideKey&&e.hasTriggerModifier)?this._onMouseMoveOrRelevantKeyDown.fire([this._lastMouseMoveEvent,e]):e.hasTriggerModifier&&this._onCancel.fire()}_onEditorKeyUp(e){e.keyCodeIsTriggerKey&&this._onCancel.fire()}_resetHandler(){this._lastMouseMoveEvent=null,this._hasTriggerKeyOnMouseDown=!1,this._onCancel.fire()}}var Hr=l(52594),Jr=l(43299),qr=l(64038),Lo=l(13634),Bl=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},fa=function(p,e){return function(t,n){e(t,n,p)}};let ea=class extends Mt.Gm{constructor(e,t,n,s,o,g,w,G,J,Q,ue,Ne){super(e,Object.assign(Object.assign({},n.getRawOptions()),{overflowWidgetsDomNode:n.getOverflowWidgetsDomNode()}),{},s,o,g,w,G,J,Q,ue,Ne),this._parentEditor=n,this._overwriteOptions=t,super.updateOptions(this._overwriteOptions),this._register(n.onDidChangeConfiguration(st=>this._onParentConfigurationChanged(st)))}getParentEditor(){return this._parentEditor}_onParentConfigurationChanged(e){super.updateOptions(this._parentEditor.getRawOptions()),super.updateOptions(this._overwriteOptions)}updateOptions(e){Jr.jB(this._overwriteOptions,e,!0),super.updateOptions(this._overwriteOptions)}};ea=Bl([fa(3,ki.TG),fa(4,wi.$),fa(5,gi.Hy),fa(6,ht.i6),fa(7,dt.XE),fa(8,et.lT),fa(9,qr.F),fa(10,Lo.c_),fa(11,bi.p)],ea);var zr=l(64872),tc=l(52268);const ta=new ys.Il(new ys.VS(0,122,204)),Nc={showArrow:!0,showFrame:!0,className:"",frameColor:ta,arrowColor:ta,keepEditorSelection:!1},nc="vs.editor.contrib.zoneWidget";class Va{constructor(e,t,n,s,o,g){this.id="",this.domNode=e,this.afterLineNumber=t,this.afterColumn=n,this.heightInLines=s,this._onDomNodeTop=o,this._onComputedHeight=g}onDomNodeTop(e){this._onDomNodeTop(e)}onComputedHeight(e){this._onComputedHeight(e)}}class ic{constructor(e,t){this._id=e,this._domNode=t}getId(){return this._id}getDomNode(){return this._domNode}getPosition(){return null}}class xa{constructor(e){this._editor=e,this._ruleName=xa._IdGenerator.nextId(),this._decorations=this._editor.createDecorationsCollection(),this._color=null,this._height=-1}dispose(){this.hide(),we.uN(this._ruleName)}set color(e){this._color!==e&&(this._color=e,this._updateStyle())}set height(e){this._height!==e&&(this._height=e,this._updateStyle())}_updateStyle(){we.uN(this._ruleName),we.fk(`.monaco-editor ${this._ruleName}`,`border-style: solid; border-color: transparent; border-bottom-color: ${this._color}; border-width: ${this._height}px; bottom: -${this._height}px; margin-left: -${this._height}px; `)}show(e){e.column===1&&(e={lineNumber:e.lineNumber,column:2}),this._decorations.set([{range:_t.e.fromPositions(e),options:{description:"zone-widget-arrow",className:this._ruleName,stickiness:1}}])}hide(){this._decorations.clear()}}xa._IdGenerator=new tc.R(".arrow-decoration-");class Wl{constructor(e,t={}){this._arrow=null,this._overlayWidget=null,this._resizeSash=null,this._viewZone=null,this._disposables=new wt.SL,this.container=null,this._isShowing=!1,this.editor=e,this._positionMarkerId=this.editor.createDecorationsCollection(),this.options=Jr.I8(t),Jr.jB(this.options,Nc,!1),this.domNode=document.createElement("div"),this.options.isAccessible||(this.domNode.setAttribute("aria-hidden","true"),this.domNode.setAttribute("role","presentation")),this._disposables.add(this.editor.onDidLayoutChange(n=>{const s=this._getWidth(n);this.domNode.style.width=s+"px",this.domNode.style.left=this._getLeft(n)+"px",this._onWidth(s)}))}dispose(){this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._viewZone&&this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id),this._viewZone=null}),this._positionMarkerId.clear(),this._disposables.dispose()}create(){this.domNode.classList.add("zone-widget"),this.options.className&&this.domNode.classList.add(this.options.className),this.container=document.createElement("div"),this.container.classList.add("zone-widget-container"),this.domNode.appendChild(this.container),this.options.showArrow&&(this._arrow=new xa(this.editor),this._disposables.add(this._arrow)),this._fillContainer(this.container),this._initSash(),this._applyStyles()}style(e){e.frameColor&&(this.options.frameColor=e.frameColor),e.arrowColor&&(this.options.arrowColor=e.arrowColor),this._applyStyles()}_applyStyles(){if(this.container&&this.options.frameColor){const e=this.options.frameColor.toString();this.container.style.borderTopColor=e,this.container.style.borderBottomColor=e}if(this._arrow&&this.options.arrowColor){const e=this.options.arrowColor.toString();this._arrow.color=e}}_getWidth(e){return e.width-e.minimap.minimapWidth-e.verticalScrollbarWidth}_getLeft(e){return e.minimap.minimapWidth>0&&e.minimap.minimapLeft===0?e.minimap.minimapWidth:0}_onViewZoneTop(e){this.domNode.style.top=e+"px"}_onViewZoneHeight(e){if(this.domNode.style.height=`${e}px`,this.container){const t=e-this._decoratingElementsHeight();this.container.style.height=`${t}px`;const n=this.editor.getLayoutInfo();this._doLayout(t,this._getWidth(n))}this._resizeSash&&this._resizeSash.layout()}get position(){const e=this._positionMarkerId.getRange(0);if(!!e)return e.getStartPosition()}show(e,t){const n=_t.e.isIRange(e)?_t.e.lift(e):_t.e.fromPositions(e);this._isShowing=!0,this._showImpl(n,t),this._isShowing=!1,this._positionMarkerId.set([{range:n,options:Xn.qx.EMPTY}])}hide(){this._viewZone&&(this.editor.changeViewZones(e=>{this._viewZone&&e.removeZone(this._viewZone.id)}),this._viewZone=null),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this._arrow&&this._arrow.hide()}_decoratingElementsHeight(){const e=this.editor.getOption(61);let t=0;if(this.options.showArrow){const n=Math.round(e/3);t+=2*n}if(this.options.showFrame){const n=Math.round(e/9);t+=2*n}return t}_showImpl(e,t){const n=e.getStartPosition(),s=this.editor.getLayoutInfo(),o=this._getWidth(s);this.domNode.style.width=`${o}px`,this.domNode.style.left=this._getLeft(s)+"px";const g=document.createElement("div");g.style.overflow="hidden";const w=this.editor.getOption(61),G=Math.max(12,this.editor.getLayoutInfo().height/w*.8);t=Math.min(t,G);let J=0,Q=0;if(this._arrow&&this.options.showArrow&&(J=Math.round(w/3),this._arrow.height=J,this._arrow.show(n)),this.options.showFrame&&(Q=Math.round(w/9)),this.editor.changeViewZones(st=>{this._viewZone&&st.removeZone(this._viewZone.id),this._overlayWidget&&(this.editor.removeOverlayWidget(this._overlayWidget),this._overlayWidget=null),this.domNode.style.top="-1000px",this._viewZone=new Va(g,n.lineNumber,n.column,t,mt=>this._onViewZoneTop(mt),mt=>this._onViewZoneHeight(mt)),this._viewZone.id=st.addZone(this._viewZone),this._overlayWidget=new ic(nc+this._viewZone.id,this.domNode),this.editor.addOverlayWidget(this._overlayWidget)}),this.container&&this.options.showFrame){const st=this.options.frameWidth?this.options.frameWidth:Q;this.container.style.borderTopWidth=st+"px",this.container.style.borderBottomWidth=st+"px"}const ue=t*w-this._decoratingElementsHeight();this.container&&(this.container.style.top=J+"px",this.container.style.height=ue+"px",this.container.style.overflow="hidden"),this._doLayout(ue,o),this.options.keepEditorSelection||this.editor.setSelection(e);const Ne=this.editor.getModel();if(Ne){const st=e.endLineNumber+1;st<=Ne.getLineCount()?this.revealLine(st,!1):this.revealLine(Ne.getLineCount(),!0)}}revealLine(e,t){t?this.editor.revealLineInCenter(e,0):this.editor.revealLine(e,0)}setCssClass(e,t){!this.container||(t&&this.container.classList.remove(t),this.container.classList.add(e))}_onWidth(e){}_doLayout(e,t){}_relayout(e){this._viewZone&&this._viewZone.heightInLines!==e&&this.editor.changeViewZones(t=>{this._viewZone&&(this._viewZone.heightInLines=e,t.layoutZone(this._viewZone.id))})}_initSash(){if(this._resizeSash)return;this._resizeSash=this._disposables.add(new zr.g(this.domNode,this,{orientation:1})),this.options.isResizeable||(this._resizeSash.state=0);let e;this._disposables.add(this._resizeSash.onDidStart(t=>{this._viewZone&&(e={startY:t.startY,heightInLines:this._viewZone.heightInLines})})),this._disposables.add(this._resizeSash.onDidEnd(()=>{e=void 0})),this._disposables.add(this._resizeSash.onDidChange(t=>{if(e){const n=(t.currentY-e.startY)/this.editor.getOption(61),s=n<0?Math.ceil(n):Math.floor(n),o=e.heightInLines+s;o>5&&o<35&&this._relayout(o)}}))}getHorizontalSashLeft(){return 0}getHorizontalSashTop(){return(this.domNode.style.height===null?0:parseInt(this.domNode.style.height))-this._decoratingElementsHeight()/2}getHorizontalSashWidth(){const e=this.editor.getLayoutInfo();return e.width-e.minimap.minimapWidth}}var ga=l(91194),Ia=l(21045);class wl extends F.Wi{constructor(e,t){super(),this._onDidChangeVisibility=this._register(new ni.Q5),this.onDidChangeVisibility=this._onDidChangeVisibility.event,this._element=(0,we.R3)(e,(0,we.$)(".monaco-dropdown")),this._label=(0,we.R3)(this._element,(0,we.$)(".dropdown-label"));let n=t.labelRenderer;n||(n=o=>(o.textContent=t.label||"",null));for(const o of[we.tw.CLICK,we.tw.MOUSE_DOWN,Fn.t.Tap])this._register((0,we.nm)(this.element,o,g=>we.zB.stop(g,!0)));for(const o of[we.tw.MOUSE_DOWN,Fn.t.Tap])this._register((0,we.nm)(this._label,o,g=>{g instanceof MouseEvent&&(g.detail>1||g.button!==0)||(this.visible?this.hide():this.show())}));this._register((0,we.nm)(this._label,we.tw.KEY_UP,o=>{const g=new ga.y(o);(g.equals(3)||g.equals(10))&&(we.zB.stop(o,!0),this.visible?this.hide():this.show())}));const s=n(this._label);s&&this._register(s),this._register(Fn.o.addTarget(this._label))}get element(){return this._element}show(){this.visible||(this.visible=!0,this._onDidChangeVisibility.fire(!0))}hide(){this.visible&&(this.visible=!1,this._onDidChangeVisibility.fire(!1))}dispose(){super.dispose(),this.hide(),this.boxContainer&&(this.boxContainer.remove(),this.boxContainer=void 0),this.contents&&(this.contents.remove(),this.contents=void 0),this._label&&(this._label.remove(),this._label=void 0)}}class Ha extends wl{constructor(e,t){super(e,t),this._actions=[],this._contextMenuProvider=t.contextMenuProvider,this.actions=t.actions||[],this.actionProvider=t.actionProvider,this.menuClassName=t.menuClassName||"",this.menuAsChild=!!t.menuAsChild}set menuOptions(e){this._menuOptions=e}get menuOptions(){return this._menuOptions}get actions(){return this.actionProvider?this.actionProvider.getActions():this._actions}set actions(e){this._actions=e}show(){super.show(),this.element.classList.add("active"),this._contextMenuProvider.showContextMenu({getAnchor:()=>this.element,getActions:()=>this.actions,getActionsContext:()=>this.menuOptions?this.menuOptions.context:null,getActionViewItem:e=>this.menuOptions&&this.menuOptions.actionViewItemProvider?this.menuOptions.actionViewItemProvider(e):void 0,getKeyBinding:e=>this.menuOptions&&this.menuOptions.getKeyBinding?this.menuOptions.getKeyBinding(e):void 0,getMenuClassName:()=>this.menuClassName,onHide:()=>this.onHide(),actionRunner:this.menuOptions?this.menuOptions.actionRunner:void 0,anchorAlignment:this.menuOptions?this.menuOptions.anchorAlignment:0,domForShadowRoot:this.menuAsChild?this.element:void 0})}hide(){super.hide()}onHide(){this.hide(),this.element.classList.remove("active")}}class Vl extends Ia.Y{constructor(e,t,n,s=Object.create(null)){super(null,e,s),this.actionItem=null,this._onDidChangeVisibility=this._register(new ni.Q5),this.menuActionsOrProvider=t,this.contextMenuProvider=n,this.options=s,this.options.actionRunner&&(this.actionRunner=this.options.actionRunner)}render(e){this.actionItem=e;const t=o=>{this.element=(0,we.R3)(o,(0,we.$)("a.action-label"));let g=[];return typeof this.options.classNames=="string"?g=this.options.classNames.split(/\s+/g).filter(w=>!!w):this.options.classNames&&(g=this.options.classNames),g.find(w=>w==="icon")||g.push("codicon"),this.element.classList.add(...g),this.element.setAttribute("role","button"),this.element.setAttribute("aria-haspopup","true"),this.element.setAttribute("aria-expanded","false"),this.element.title=this._action.label||"",this.element.ariaLabel=this._action.label||"",null},n=Array.isArray(this.menuActionsOrProvider),s={contextMenuProvider:this.contextMenuProvider,labelRenderer:t,menuAsChild:this.options.menuAsChild,actions:n?this.menuActionsOrProvider:void 0,actionProvider:n?void 0:this.menuActionsOrProvider};if(this.dropdownMenu=this._register(new Ha(e,s)),this._register(this.dropdownMenu.onDidChangeVisibility(o=>{var g;(g=this.element)===null||g===void 0||g.setAttribute("aria-expanded",`${o}`),this._onDidChangeVisibility.fire(o)})),this.dropdownMenu.menuOptions={actionViewItemProvider:this.options.actionViewItemProvider,actionRunner:this.actionRunner,getKeyBinding:this.options.keybindingProvider,context:this._context},this.options.anchorAlignmentProvider){const o=this;this.dropdownMenu.menuOptions=Object.assign(Object.assign({},this.dropdownMenu.menuOptions),{get anchorAlignment(){return o.options.anchorAlignmentProvider()}})}this.updateTooltip(),this.updateEnabled()}getTooltip(){let e=null;return this.getAction().tooltip?e=this.getAction().tooltip:this.getAction().label&&(e=this.getAction().label),e!=null?e:void 0}setActionContext(e){super.setActionContext(e),this.dropdownMenu&&(this.dropdownMenu.menuOptions?this.dropdownMenu.menuOptions.context=e:this.dropdownMenu.menuOptions={context:e})}updateEnabled(){var e,t;const n=!this.getAction().enabled;(e=this.actionItem)===null||e===void 0||e.classList.toggle("disabled",n),(t=this.element)===null||t===void 0||t.classList.toggle("disabled",n)}}var Tc=l(82499),qo=l(26687),fo=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},er=function(p,e){return function(t,n){e(t,n,p)}},Bs=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};function ad(p,e,t,n,s,o,g){const w=p.getActions(e);return kc(w,t,!1,typeof n=="string"?J=>J===n:n,s,o,g),Hl(w)}function Hl(p){const e=new wt.SL;for(const[,t]of p)for(const n of t)e.add(n);return e}function kc(p,e,t,n=w=>w==="navigation",s=Number.MAX_SAFE_INTEGER,o=()=>!1,g=!1){let w,G;Array.isArray(e)?(w=e,G=e):(w=e.primary,G=e.secondary);const J=new Set;for(const[Q,ue]of p){let Ne;n(Q)?(Ne=w,Ne.length>0&&g&&Ne.push(new F.Z0)):(Ne=G,Ne.length>0&&Ne.push(new F.Z0));for(let st of ue){t&&(st=st instanceof Ve.U8&&st.alt?st.alt:st);const mt=Ne.push(st);st instanceof F.wY&&J.add({group:Q,action:st,index:mt-1})}}for(const{group:Q,action:ue,index:Ne}of J){const st=n(Q)?w:G,mt=ue.actions;(mt.length<=1||st.length+mt.length-2<=s)&&o(ue,Q,st.length)&&st.splice(Ne,1,...mt)}if(w!==G&&w.length>s){const Q=w.splice(s,w.length-s);G.unshift(...Q,new F.Z0)}}let za=class extends Ia.g{constructor(e,t,n,s,o,g,w){super(void 0,e,{icon:!!(e.class||e.item.icon),label:!e.class&&!e.item.icon,draggable:t==null?void 0:t.draggable,keybinding:t==null?void 0:t.keybinding,hoverDelegate:t==null?void 0:t.hoverDelegate}),this._keybindingService=n,this._notificationService=s,this._contextKeyService=o,this._themeService=g,this._contextMenuService=w,this._wantsAltCommand=!1,this._itemClassDispose=this._register(new wt.XK),this._altKey=we._q.getInstance()}get _menuItemAction(){return this._action}get _commandAction(){return this._wantsAltCommand&&this._menuItemAction.alt||this._menuItemAction}onClick(e){return Bs(this,void 0,void 0,function*(){e.preventDefault(),e.stopPropagation();try{yield this.actionRunner.run(this._commandAction,this._context)}catch(t){this._notificationService.error(t)}})}render(e){super.render(e),e.classList.add("menu-entry"),this._updateItemClass(this._menuItemAction.item);let t=!1,n=this._altKey.keyStatus.altKey||(ci.ED||ci.IJ)&&this._altKey.keyStatus.shiftKey;const s=()=>{var o;const g=t&&n&&!!(!((o=this._commandAction.alt)===null||o===void 0)&&o.enabled);g!==this._wantsAltCommand&&(this._wantsAltCommand=g,this.updateLabel(),this.updateTooltip(),this.updateClass())};this._menuItemAction.alt&&this._register(this._altKey.event(o=>{n=o.altKey||(ci.ED||ci.IJ)&&o.shiftKey,s()})),this._register((0,we.nm)(e,"mouseleave",o=>{t=!1,s()})),this._register((0,we.nm)(e,"mouseenter",o=>{t=!0,s()}))}updateLabel(){this.options.label&&this.label&&(this.label.textContent=this._commandAction.label)}getTooltip(){var e;const t=this._keybindingService.lookupKeybinding(this._commandAction.id,this._contextKeyService),n=t&&t.getLabel(),s=this._commandAction.tooltip||this._commandAction.label;let o=n?(0,_e.NC)("titleAndKb","{0} ({1})",s,n):s;if(!this._wantsAltCommand&&((e=this._menuItemAction.alt)===null||e===void 0?void 0:e.enabled)){const g=this._menuItemAction.alt.tooltip||this._menuItemAction.alt.label,w=this._keybindingService.lookupKeybinding(this._menuItemAction.alt.id,this._contextKeyService),G=w&&w.getLabel(),J=G?(0,_e.NC)("titleAndKb","{0} ({1})",g,G):g;o=(0,_e.NC)("titleAndKbAndAlt",`{0}
[{1}] {2}`,o,Tc.xo.modifierLabels[ci.OS].altKey,J)}return o}updateClass(){this.options.icon&&(this._commandAction!==this._menuItemAction?this._menuItemAction.alt&&this._updateItemClass(this._menuItemAction.alt.item):this._updateItemClass(this._menuItemAction.item))}_updateItemClass(e){var t;this._itemClassDispose.value=void 0;const{element:n,label:s}=this;if(!n||!s)return;const o=this._commandAction.checked&&((t=e.toggled)===null||t===void 0?void 0:t.icon)?e.toggled.icon:e.icon;if(!!o)if(dt.kS.isThemeIcon(o)){const g=dt.kS.asClassNameArray(o);s.classList.add(...g),this._itemClassDispose.value=(0,wt.OF)(()=>{s.classList.remove(...g)})}else s.style.backgroundImage=(0,qo._T)(this._themeService.getColorTheme().type)?(0,we.wY)(o.dark):(0,we.wY)(o.light),s.classList.add("icon"),this._itemClassDispose.value=(0,wt.F8)((0,wt.OF)(()=>{s.style.backgroundImage="",s.classList.remove("icon")}),this._themeService.onDidColorThemeChange(()=>{this.updateClass()}))}};za=fo([er(2,ee.d),er(3,et.lT),er(4,ht.i6),er(5,dt.XE),er(6,B.i)],za);let Mc=class extends Vl{constructor(e,t,n,s){var o,g;const w=Object.assign({},t!=null?t:Object.create(null),{menuAsChild:(o=t==null?void 0:t.menuAsChild)!==null&&o!==void 0?o:!1,classNames:(g=t==null?void 0:t.classNames)!==null&&g!==void 0?g:dt.kS.isThemeIcon(e.item.icon)?dt.kS.asClassName(e.item.icon):void 0});super(e,{getActions:()=>e.actions},n,w),this._contextMenuService=n,this._themeService=s}render(e){super.render(e),(0,Zi.p_)(this.element),e.classList.add("menu-entry");const t=this._action,{icon:n}=t.item;if(n&&!dt.kS.isThemeIcon(n)){this.element.classList.add("icon");const s=()=>{this.element&&(this.element.style.backgroundImage=(0,qo._T)(this._themeService.getColorTheme().type)?(0,we.wY)(n.dark):(0,we.wY)(n.light))};s(),this._register(this._themeService.onDidColorThemeChange(()=>{s()}))}}};Mc=fo([er(2,B.i),er(3,dt.XE)],Mc);let sc=class extends Ia.Y{constructor(e,t,n,s,o,g,w,G){var J,Q,ue;super(null,e),this._keybindingService=n,this._notificationService=s,this._contextMenuService=o,this._menuService=g,this._instaService=w,this._storageService=G,this._container=null,this._options=t,this._storageKey=`${e.item.submenu.id}_lastActionId`;let Ne;const st=G.get(this._storageKey,1);st&&(Ne=e.actions.find(bt=>st===bt.id)),Ne||(Ne=e.actions[0]),this._defaultAction=this._instaService.createInstance(za,Ne,{keybinding:this._getDefaultActionKeybindingLabel(Ne)});const mt=Object.assign({},t!=null?t:Object.create(null),{menuAsChild:(J=t==null?void 0:t.menuAsChild)!==null&&J!==void 0?J:!0,classNames:(Q=t==null?void 0:t.classNames)!==null&&Q!==void 0?Q:["codicon","codicon-chevron-down"],actionRunner:(ue=t==null?void 0:t.actionRunner)!==null&&ue!==void 0?ue:new F.Wi});this._dropdown=new Vl(e,e.actions,this._contextMenuService,mt),this._dropdown.actionRunner.onDidRun(bt=>{bt.action instanceof Ve.U8&&this.update(bt.action)})}update(e){this._storageService.store(this._storageKey,e.id,1,0),this._defaultAction.dispose(),this._defaultAction=this._instaService.createInstance(za,e,{keybinding:this._getDefaultActionKeybindingLabel(e)}),this._defaultAction.actionRunner=new class extends F.Wi{runAction(t,n){return Bs(this,void 0,void 0,function*(){yield t.run(void 0)})}},this._container&&this._defaultAction.render((0,we.Ce)(this._container,(0,we.$)(".action-container")))}_getDefaultActionKeybindingLabel(e){var t;let n;if(!((t=this._options)===null||t===void 0)&&t.renderKeybindingWithDefaultActionLabel){const s=this._keybindingService.lookupKeybinding(e.id);s&&(n=`(${s.getLabel()})`)}return n}setActionContext(e){super.setActionContext(e),this._defaultAction.setActionContext(e),this._dropdown.setActionContext(e)}render(e){this._container=e,super.render(this._container),this._container.classList.add("monaco-dropdown-with-default");const t=(0,we.$)(".action-container");this._defaultAction.render((0,we.R3)(this._container,t)),this._register((0,we.nm)(t,we.tw.KEY_DOWN,s=>{const o=new ga.y(s);o.equals(17)&&(this._defaultAction.element.tabIndex=-1,this._dropdown.focus(),o.stopPropagation())}));const n=(0,we.$)(".dropdown-action-container");this._dropdown.render((0,we.R3)(this._container,n)),this._register((0,we.nm)(n,we.tw.KEY_DOWN,s=>{var o;const g=new ga.y(s);g.equals(15)&&(this._defaultAction.element.tabIndex=0,this._dropdown.setFocusable(!1),(o=this._defaultAction.element)===null||o===void 0||o.focus(),g.stopPropagation())}))}focus(e){e?this._dropdown.focus():(this._defaultAction.element.tabIndex=0,this._defaultAction.element.focus())}blur(){this._defaultAction.element.tabIndex=-1,this._dropdown.blur(),this._container.blur()}setFocusable(e){e?this._defaultAction.element.tabIndex=0:(this._defaultAction.element.tabIndex=-1,this._dropdown.setFocusable(!1))}dispose(){this._defaultAction.dispose(),this._dropdown.dispose(),super.dispose()}};sc=fo([er(2,ee.d),er(3,et.lT),er(4,B.i),er(5,Ve.co),er(6,ki.TG),er(7,Oo.Uy)],sc);function Rc(p,e,t){return e instanceof Ve.U8?p.createInstance(za,e,t):e instanceof Ve.NZ?e.item.rememberDefaultAction?p.createInstance(sc,e,t):p.createInstance(Mc,e,t):void 0}var il=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Ac=function(p,e){return function(t,n){e(t,n,p)}};const Na=(0,ki.yh)("IPeekViewService");(0,Yr.z)(Na,class{constructor(){this._widgets=new Map}addExclusiveWidget(p,e){const t=this._widgets.get(p);t&&(t.listener.dispose(),t.widget.dispose());const n=()=>{const s=this._widgets.get(p);s&&s.widget===e&&(s.listener.dispose(),this._widgets.delete(p))};this._widgets.set(p,{widget:e,listener:e.onDidClose(n)})}});var tr;(function(p){p.inPeekEditor=new ht.uy("inReferenceSearchEditor",!0,_e.NC("inReferenceSearchEditor","Whether the current code editor is embedded inside peek")),p.notInPeekEditor=p.inPeekEditor.toNegated()})(tr||(tr={}));let Sl=class{constructor(e,t){e instanceof ea&&tr.inPeekEditor.bindTo(t)}dispose(){}};Sl.ID="editor.contrib.referenceController",Sl=il([Ac(1,ht.i6)],Sl),(0,je._K)(Sl.ID,Sl);function ld(p){const e=p.get(wi.$).getFocusedCodeEditor();return e instanceof ea?e.getParentEditor():e}const pt={headerBackgroundColor:ys.Il.white,primaryHeadingColor:ys.Il.fromHex("#333333"),secondaryHeadingColor:ys.Il.fromHex("#6c6c6cb3")};let i=class extends Wl{constructor(e,t,n){super(e,t),this.instantiationService=n,this._onDidClose=new ni.Q5,this.onDidClose=this._onDidClose.event,Jr.jB(this.options,pt,!1)}dispose(){this.disposed||(this.disposed=!0,super.dispose(),this._onDidClose.fire(this))}style(e){const t=this.options;e.headerBackgroundColor&&(t.headerBackgroundColor=e.headerBackgroundColor),e.primaryHeadingColor&&(t.primaryHeadingColor=e.primaryHeadingColor),e.secondaryHeadingColor&&(t.secondaryHeadingColor=e.secondaryHeadingColor),super.style(e)}_applyStyles(){super._applyStyles();const e=this.options;this._headElement&&e.headerBackgroundColor&&(this._headElement.style.backgroundColor=e.headerBackgroundColor.toString()),this._primaryHeading&&e.primaryHeadingColor&&(this._primaryHeading.style.color=e.primaryHeadingColor.toString()),this._secondaryHeading&&e.secondaryHeadingColor&&(this._secondaryHeading.style.color=e.secondaryHeadingColor.toString()),this._bodyElement&&e.frameColor&&(this._bodyElement.style.borderColor=e.frameColor.toString())}_fillContainer(e){this.setCssClass("peekview-widget"),this._headElement=we.$(".head"),this._bodyElement=we.$(".body"),this._fillHead(this._headElement),this._fillBody(this._bodyElement),e.appendChild(this._headElement),e.appendChild(this._bodyElement)}_fillHead(e,t){const n=we.$(".peekview-title");this.options.supportOnTitleClick&&(n.classList.add("clickable"),we.mu(n,"click",g=>this._onTitleClick(g))),we.R3(this._headElement,n),this._fillTitleIcon(n),this._primaryHeading=we.$("span.filename"),this._secondaryHeading=we.$("span.dirname"),this._metaHeading=we.$("span.meta"),we.R3(n,this._primaryHeading,this._secondaryHeading,this._metaHeading);const s=we.$(".peekview-actions");we.R3(this._headElement,s);const o=this._getActionBarOptions();this._actionbarWidget=new Hr.o(s,o),this._disposables.add(this._actionbarWidget),t||this._actionbarWidget.push(new F.aU("peekview.close",_e.NC("label.close","Close"),Nn.lA.close.classNames,!0,()=>(this.dispose(),Promise.resolve())),{label:!1,icon:!0})}_fillTitleIcon(e){}_getActionBarOptions(){return{actionViewItemProvider:Rc.bind(void 0,this.instantiationService),orientation:0}}_onTitleClick(e){}setTitle(e,t){this._primaryHeading&&this._secondaryHeading&&(this._primaryHeading.innerText=e,this._primaryHeading.setAttribute("title",e),t?this._secondaryHeading.innerText=t:we.PO(this._secondaryHeading))}setMetaTitle(e){this._metaHeading&&(e?(this._metaHeading.innerText=e,we.$Z(this._metaHeading)):we.Cp(this._metaHeading))}_doLayout(e,t){if(!this._isShowing&&e<0){this.dispose();return}const n=Math.ceil(this.editor.getOption(61)*1.2),s=Math.round(e-(n+2));this._doLayoutHead(n,t),this._doLayoutBody(s,t)}_doLayoutHead(e,t){this._headElement&&(this._headElement.style.height=`${e}px`,this._headElement.style.lineHeight=this._headElement.style.height)}_doLayoutBody(e,t){this._bodyElement&&(this._bodyElement.style.height=`${e}px`)}};i=il([Ac(2,ki.TG)],i);const c=(0,Ce.P6G)("peekViewTitle.background",{dark:(0,Ce.ZnX)(Ce.c63,.1),light:(0,Ce.ZnX)(Ce.c63,.1),hcDark:null,hcLight:null},_e.NC("peekViewTitleBackground","Background color of the peek view title area.")),v=(0,Ce.P6G)("peekViewTitleLabel.foreground",{dark:ys.Il.white,light:ys.Il.black,hcDark:ys.Il.white,hcLight:Ce.NOs},_e.NC("peekViewTitleForeground","Color of the peek view title.")),V=(0,Ce.P6G)("peekViewTitleDescription.foreground",{dark:"#ccccccb3",light:"#616161",hcDark:"#FFFFFF99",hcLight:"#292929"},_e.NC("peekViewTitleInfoForeground","Color of the peek view title info.")),$=(0,Ce.P6G)("peekView.border",{dark:Ce.c63,light:Ce.c63,hcDark:Ce.lRK,hcLight:Ce.lRK},_e.NC("peekViewBorder","Color of the peek view borders and arrow.")),ce=(0,Ce.P6G)("peekViewResult.background",{dark:"#252526",light:"#F3F3F3",hcDark:ys.Il.black,hcLight:ys.Il.white},_e.NC("peekViewResultsBackground","Background color of the peek view result list.")),be=(0,Ce.P6G)("peekViewResult.lineForeground",{dark:"#bbbbbb",light:"#646465",hcDark:ys.Il.white,hcLight:Ce.NOs},_e.NC("peekViewResultsMatchForeground","Foreground color for line nodes in the peek view result list.")),Me=(0,Ce.P6G)("peekViewResult.fileForeground",{dark:ys.Il.white,light:"#1E1E1E",hcDark:ys.Il.white,hcLight:Ce.NOs},_e.NC("peekViewResultsFileForeground","Foreground color for file nodes in the peek view result list.")),Oe=(0,Ce.P6G)("peekViewResult.selectionBackground",{dark:"#3399ff33",light:"#3399ff33",hcDark:null,hcLight:null},_e.NC("peekViewResultsSelectionBackground","Background color of the selected entry in the peek view result list.")),Qe=(0,Ce.P6G)("peekViewResult.selectionForeground",{dark:ys.Il.white,light:"#6C6C6C",hcDark:ys.Il.white,hcLight:Ce.NOs},_e.NC("peekViewResultsSelectionForeground","Foreground color of the selected entry in the peek view result list.")),lt=(0,Ce.P6G)("peekViewEditor.background",{dark:"#001F33",light:"#F2F8FC",hcDark:ys.Il.black,hcLight:ys.Il.white},_e.NC("peekViewEditorBackground","Background color of the peek view editor.")),Nt=(0,Ce.P6G)("peekViewEditorGutter.background",{dark:lt,light:lt,hcDark:lt,hcLight:lt},_e.NC("peekViewEditorGutterBackground","Background color of the gutter in the peek view editor.")),Dt=(0,Ce.P6G)("peekViewResult.matchHighlightBackground",{dark:"#ea5c004d",light:"#ea5c004d",hcDark:null,hcLight:null},_e.NC("peekViewResultsMatchHighlight","Match highlight color in the peek view result list.")),Yt=(0,Ce.P6G)("peekViewEditor.matchHighlightBackground",{dark:"#ff8f0099",light:"#f5d802de",hcDark:null,hcLight:null},_e.NC("peekViewEditorMatchHighlight","Match highlight color in the peek view editor.")),an=(0,Ce.P6G)("peekViewEditor.matchHighlightBorder",{dark:null,light:null,hcDark:Ce.xL1,hcLight:Ce.xL1},_e.NC("peekViewEditorMatchHighlightBorder","Match highlight border in the peek view editor."));var gn=l(56133),un=l(51080),zn=l(58258),Un=l(81531),Ri=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};class _i{constructor(e,t,n,s){this.isProviderFirst=e,this.parent=t,this.link=n,this._rangeCallback=s,this.id=tc.a.nextId()}get uri(){return this.link.uri}get range(){var e,t;return(t=(e=this._range)!==null&&e!==void 0?e:this.link.targetSelectionRange)!==null&&t!==void 0?t:this.link.range}set range(e){this._range=e,this._rangeCallback(this)}get ariaMessage(){var e;const t=(e=this.parent.getPreview(this))===null||e===void 0?void 0:e.preview(this.range);return t?(0,_e.NC)({key:"aria.oneReference.preview",comment:["Placeholders are: 0: filename, 1:line number, 2: column number, 3: preview snippet of source code"]},"symbol in {0} on line {1} at column {2}, {3}",(0,Ae.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn,t.value):(0,_e.NC)("aria.oneReference","symbol in {0} on line {1} at column {2}",(0,Ae.EZ)(this.uri),this.range.startLineNumber,this.range.startColumn)}}class Vi{constructor(e){this._modelReference=e}dispose(){this._modelReference.dispose()}preview(e,t=8){const n=this._modelReference.object.textEditorModel;if(!n)return;const{startLineNumber:s,startColumn:o,endLineNumber:g,endColumn:w}=e,G=n.getWordUntilPosition({lineNumber:s,column:o-t}),J=new _t.e(s,G.startColumn,s,o),Q=new _t.e(g,w,g,1073741824),ue=n.getValueInRange(J).replace(/^\s+/,""),Ne=n.getValueInRange(e),st=n.getValueInRange(Q).replace(/\s+$/,"");return{value:ue+Ne+st,highlight:{start:ue.length,end:ue.length+Ne.length}}}}class Fi{constructor(e,t){this.parent=e,this.uri=t,this.children=[],this._previews=new Mi.Y9}dispose(){(0,wt.B9)(this._previews.values()),this._previews.clear()}getPreview(e){return this._previews.get(e.uri)}get ariaMessage(){const e=this.children.length;return e===1?(0,_e.NC)("aria.fileReferences.1","1 symbol in {0}, full path {1}",(0,Ae.EZ)(this.uri),this.uri.fsPath):(0,_e.NC)("aria.fileReferences.N","{0} symbols in {1}, full path {2}",e,(0,Ae.EZ)(this.uri),this.uri.fsPath)}resolve(e){return Ri(this,void 0,void 0,function*(){if(this._previews.size!==0)return this;for(const t of this.children)if(!this._previews.has(t.uri))try{const n=yield e.createModelReference(t.uri);this._previews.set(t.uri,new Vi(n))}catch(n){(0,Ei.dL)(n)}return this})}}class pi{constructor(e,t){this.groups=[],this.references=[],this._onDidChangeReferenceRange=new ni.Q5,this.onDidChangeReferenceRange=this._onDidChangeReferenceRange.event,this._links=e,this._title=t;const[n]=e;e.sort(pi._compareReferences);let s;for(const o of e)if((!s||!Ae.SF.isEqual(s.uri,o.uri,!0))&&(s=new Fi(this,o.uri),this.groups.push(s)),s.children.length===0||pi._compareReferences(o,s.children[s.children.length-1])!==0){const g=new _i(n===o,s,o,w=>this._onDidChangeReferenceRange.fire(w));this.references.push(g),s.children.push(g)}}dispose(){(0,wt.B9)(this.groups),this._onDidChangeReferenceRange.dispose(),this.groups.length=0}clone(){return new pi(this._links,this._title)}get title(){return this._title}get isEmpty(){return this.groups.length===0}get ariaMessage(){return this.isEmpty?(0,_e.NC)("aria.result.0","No results found"):this.references.length===1?(0,_e.NC)("aria.result.1","Found 1 symbol in {0}",this.references[0].uri.fsPath):this.groups.length===1?(0,_e.NC)("aria.result.n1","Found {0} symbols in {1}",this.references.length,this.groups[0].uri.fsPath):(0,_e.NC)("aria.result.nm","Found {0} symbols in {1} files",this.references.length,this.groups.length)}nextOrPreviousReference(e,t){const{parent:n}=e;let s=n.children.indexOf(e);const o=n.children.length,g=n.parent.groups.length;return g===1||t&&s+1<o||!t&&s>0?(t?s=(s+1)%o:s=(s+o-1)%o,n.children[s]):(s=n.parent.groups.indexOf(n),t?(s=(s+1)%g,n.parent.groups[s].children[0]):(s=(s+g-1)%g,n.parent.groups[s].children[n.parent.groups[s].children.length-1]))}nearestReference(e,t){const n=this.references.map((s,o)=>({idx:o,prefixLen:fi.Mh(s.uri.toString(),e.toString()),offsetDist:Math.abs(s.range.startLineNumber-t.lineNumber)*100+Math.abs(s.range.startColumn-t.column)})).sort((s,o)=>s.prefixLen>o.prefixLen?-1:s.prefixLen<o.prefixLen?1:s.offsetDist<o.offsetDist?-1:s.offsetDist>o.offsetDist?1:0)[0];if(n)return this.references[n.idx]}referenceAt(e,t){for(const n of this.references)if(n.uri.toString()===e.toString()&&_t.e.containsPosition(n.range,t))return n}firstReference(){for(const e of this.references)if(e.isProviderFirst)return e;return this.references[0]}static _compareReferences(e,t){return Ae.SF.compare(e.uri,t.uri)||_t.e.compareRangesUsingStarts(e.range,t.range)}}var ji=l(4830),is=l(49407),zi=l(68347),ro=l(2877),Js=l(97760),To=l(21801),Pi=l(12562),vo=l(26343),No=l(4251),go=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},nr=function(p,e){return function(t,n){e(t,n,p)}};let Bd=class{constructor(e){this._resolverService=e}hasChildren(e){return e instanceof pi||e instanceof Fi}getChildren(e){if(e instanceof pi)return e.groups;if(e instanceof Fi)return e.resolve(this._resolverService).then(t=>t.children);throw new Error("bad tree")}};Bd=go([nr(0,Cr.S)],Bd);class Iu{getHeight(){return 23}getTemplateId(e){return e instanceof Fi?sl.id:zl.id}}let wr=class{constructor(e){this._keybindingService=e}getKeyboardNavigationLabel(e){var t;if(e instanceof _i){const n=(t=e.parent.getPreview(e))===null||t===void 0?void 0:t.preview(e.range);if(n)return n.value}return(0,Ae.EZ)(e.uri)}};wr=go([nr(0,ee.d)],wr);class Wd{getId(e){return e instanceof _i?e.id:e.uri}}let oc=class extends wt.JT{constructor(e,t,n){super(),this._labelService=t;const s=document.createElement("div");s.classList.add("reference-file"),this.file=this._register(new To.g(s,{supportHighlights:!0})),this.badge=new ro.Z(we.R3(s,we.$(".count"))),this._register((0,No.WZ)(this.badge,n)),e.appendChild(s)}set(e,t){const n=(0,Ae.XX)(e.uri);this.file.setLabel(this._labelService.getUriBasenameLabel(e.uri),this._labelService.getUriLabel(n,{relative:!0}),{title:this._labelService.getUriLabel(e.uri),matches:t});const s=e.children.length;this.badge.setCount(s),s>1?this.badge.setTitleFormat((0,_e.NC)("referencesCount","{0} references",s)):this.badge.setTitleFormat((0,_e.NC)("referenceCount","{0} reference",s))}};oc=go([nr(1,vo.e),nr(2,dt.XE)],oc);let sl=class q1{constructor(e){this._instantiationService=e,this.templateId=q1.id}renderTemplate(e){return this._instantiationService.createInstance(oc,e)}renderElement(e,t,n){n.set(e.element,(0,Pi.mB)(e.filterData))}disposeTemplate(e){e.dispose()}};sl.id="FileReferencesRenderer",sl=go([nr(0,ki.TG)],sl);class cd{constructor(e){this.label=new Js.q(e)}set(e,t){var n;const s=(n=e.parent.getPreview(e))===null||n===void 0?void 0:n.preview(e.range);if(!s||!s.value)this.label.set(`${(0,Ae.EZ)(e.uri)}:${e.range.startLineNumber+1}:${e.range.startColumn+1}`);else{const{value:o,highlight:g}=s;t&&!Pi.CL.isDefault(t)?(this.label.element.classList.toggle("referenceMatch",!1),this.label.set(o,(0,Pi.mB)(t))):(this.label.element.classList.toggle("referenceMatch",!0),this.label.set(o,[g]))}}}class zl{constructor(){this.templateId=zl.id}renderTemplate(e){return new cd(e)}renderElement(e,t,n){n.set(e.element,e.filterData)}disposeTemplate(){}}zl.id="OneReferenceRenderer";class Vd{getWidgetAriaLabel(){return(0,_e.NC)("treeAriaLabel","References")}getAriaLabel(e){return e.ariaMessage}}var Nu=l(49750),Hd=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ol=function(p,e){return function(t,n){e(t,n,p)}},zd=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};class rc{constructor(e,t){this._editor=e,this._model=t,this._decorations=new Map,this._decorationIgnoreSet=new Set,this._callOnDispose=new wt.SL,this._callOnModelChange=new wt.SL,this._callOnDispose.add(this._editor.onDidChangeModel(()=>this._onModelChanged())),this._onModelChanged()}dispose(){this._callOnModelChange.dispose(),this._callOnDispose.dispose(),this.removeDecorations()}_onModelChanged(){this._callOnModelChange.clear();const e=this._editor.getModel();if(!!e){for(const t of this._model.references)if(t.uri.toString()===e.uri.toString()){this._addDecorations(t.parent);return}}}_addDecorations(e){if(!this._editor.hasModel())return;this._callOnModelChange.add(this._editor.getModel().onDidChangeDecorations(()=>this._onDecorationChanged()));const t=[],n=[];for(let s=0,o=e.children.length;s<o;s++){const g=e.children[s];this._decorationIgnoreSet.has(g.id)||g.uri.toString()===this._editor.getModel().uri.toString()&&(t.push({range:g.range,options:rc.DecorationOptions}),n.push(s))}this._editor.changeDecorations(s=>{const o=s.deltaDecorations([],t);for(let g=0;g<o.length;g++)this._decorations.set(o[g],e.children[n[g]])})}_onDecorationChanged(){const e=[],t=this._editor.getModel();if(!!t){for(const[n,s]of this._decorations){const o=t.getDecorationRange(n);if(!o)continue;let g=!1;if(!_t.e.equalsRange(o,s.range)){if(_t.e.spansMultipleLines(o))g=!0;else{const w=s.range.endColumn-s.range.startColumn,G=o.endColumn-o.startColumn;w!==G&&(g=!0)}g?(this._decorationIgnoreSet.add(s.id),e.push(n)):s.range=o}}for(let n=0,s=e.length;n<s;n++)this._decorations.delete(e[n]);this._editor.removeDecorations(e)}}removeDecorations(){this._editor.removeDecorations([...this._decorations.keys()]),this._decorations.clear()}}rc.DecorationOptions=Xn.qx.register({description:"reference-decoration",stickiness:1,className:"reference-decoration"});class Th{constructor(){this.ratio=.7,this.heightInLines=18}static fromJSON(e){let t,n;try{const s=JSON.parse(e);t=s.ratio,n=s.heightInLines}catch(s){}return{ratio:t||.7,heightInLines:n||18}}}class Pc extends Un.ls{}let Oc=class extends i{constructor(e,t,n,s,o,g,w,G,J,Q,ue,Ne){super(e,{showFrame:!1,showArrow:!0,isResizeable:!0,isAccessible:!0,supportOnTitleClick:!0},g),this._defaultTreeKeyboardSupport=t,this.layoutData=n,this._textModelResolverService=o,this._instantiationService=g,this._peekViewService=w,this._uriLabel=G,this._undoRedoService=J,this._keybindingService=Q,this._languageService=ue,this._languageConfigurationService=Ne,this._disposeOnNewModel=new wt.SL,this._callOnDispose=new wt.SL,this._onDidSelectReference=new ni.Q5,this.onDidSelectReference=this._onDidSelectReference.event,this._dim=new we.Ro(0,0),this._applyTheme(s.getColorTheme()),this._callOnDispose.add(s.onDidColorThemeChange(this._applyTheme.bind(this))),this._peekViewService.addExclusiveWidget(e,this),this.create()}dispose(){this.setModel(void 0),this._callOnDispose.dispose(),this._disposeOnNewModel.dispose(),(0,wt.B9)(this._preview),(0,wt.B9)(this._previewNotAvailableMessage),(0,wt.B9)(this._tree),(0,wt.B9)(this._previewModelReference),this._splitView.dispose(),super.dispose()}_applyTheme(e){const t=e.getColor($)||ys.Il.transparent;this.style({arrowColor:t,frameColor:t,headerBackgroundColor:e.getColor(c)||ys.Il.transparent,primaryHeadingColor:e.getColor(v),secondaryHeadingColor:e.getColor(V)})}show(e){super.show(e,this.layoutData.heightInLines||18)}focusOnReferenceTree(){this._tree.domFocus()}focusOnPreviewEditor(){this._preview.focus()}isPreviewEditorFocused(){return this._preview.hasTextFocus()}_onTitleClick(e){this._preview&&this._preview.getModel()&&this._onDidSelectReference.fire({element:this._getFocusedReference(),kind:e.ctrlKey||e.metaKey||e.altKey?"side":"open",source:"title"})}_fillBody(e){this.setCssClass("reference-zone-widget"),this._messageContainer=we.R3(e,we.$("div.messages")),we.Cp(this._messageContainer),this._splitView=new ji.z(e,{orientation:1}),this._previewContainer=we.R3(e,we.$("div.preview.inline"));const t={scrollBeyondLastLine:!1,scrollbar:{verticalScrollbarSize:14,horizontal:"auto",useShadows:!0,verticalHasArrows:!1,horizontalHasArrows:!1,alwaysConsumeMouseWheel:!1},overviewRulerLanes:2,fixedOverflowWidgets:!0,minimap:{enabled:!1}};this._preview=this._instantiationService.createInstance(ea,this._previewContainer,t,this.editor),we.Cp(this._previewContainer),this._previewNotAvailableMessage=new Xn.yO(_e.NC("missingPreviewMessage","no preview available"),zi.bd,Xn.yO.DEFAULT_CREATION_OPTIONS,null,this._undoRedoService,this._languageService,this._languageConfigurationService),this._treeContainer=we.R3(e,we.$("div.ref-tree.inline"));const n={keyboardSupport:this._defaultTreeKeyboardSupport,accessibilityProvider:new Vd,keyboardNavigationLabelProvider:this._instantiationService.createInstance(wr),identityProvider:new Wd,openOnSingleClick:!0,selectionNavigation:!0,overrideStyles:{listBackground:ce}};this._defaultTreeKeyboardSupport&&this._callOnDispose.add(we.mu(this._treeContainer,"keydown",o=>{o.equals(9)&&(this._keybindingService.dispatchEvent(o,o.target),o.stopPropagation())},!0)),this._tree=this._instantiationService.createInstance(Pc,"ReferencesWidget",this._treeContainer,new Iu,[this._instantiationService.createInstance(sl),this._instantiationService.createInstance(zl)],this._instantiationService.createInstance(Bd),n),this._splitView.addView({onDidChange:ni.ju.None,element:this._previewContainer,minimumSize:200,maximumSize:Number.MAX_VALUE,layout:o=>{this._preview.layout({height:this._dim.height,width:o})}},ji.M.Distribute),this._splitView.addView({onDidChange:ni.ju.None,element:this._treeContainer,minimumSize:100,maximumSize:Number.MAX_VALUE,layout:o=>{this._treeContainer.style.height=`${this._dim.height}px`,this._treeContainer.style.width=`${o}px`,this._tree.layout(this._dim.height,o)}},ji.M.Distribute),this._disposables.add(this._splitView.onDidSashChange(()=>{this._dim.width&&(this.layoutData.ratio=this._splitView.getViewSize(0)/this._dim.width)},void 0));const s=(o,g)=>{o instanceof _i&&(g==="show"&&this._revealReference(o,!1),this._onDidSelectReference.fire({element:o,kind:g,source:"tree"}))};this._tree.onDidOpen(o=>{o.sideBySide?s(o.element,"side"):o.editorOptions.pinned?s(o.element,"goto"):s(o.element,"show")}),we.Cp(this._treeContainer)}_onWidth(e){this._dim&&this._doLayoutBody(this._dim.height,e)}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._dim=new we.Ro(t,e),this.layoutData.heightInLines=this._viewZone?this._viewZone.heightInLines:this.layoutData.heightInLines,this._splitView.layout(t),this._splitView.resizeView(0,t*this.layoutData.ratio)}setSelection(e){return this._revealReference(e,!0).then(()=>{!this._model||(this._tree.setSelection([e]),this._tree.setFocus([e]))})}setModel(e){return this._disposeOnNewModel.clear(),this._model=e,this._model?this._onNewModel():Promise.resolve()}_onNewModel(){return this._model?this._model.isEmpty?(this.setTitle(""),this._messageContainer.innerText=_e.NC("noResults","No results"),we.$Z(this._messageContainer),Promise.resolve(void 0)):(we.Cp(this._messageContainer),this._decorationsManager=new rc(this._preview,this._model),this._disposeOnNewModel.add(this._decorationsManager),this._disposeOnNewModel.add(this._model.onDidChangeReferenceRange(e=>this._tree.rerender(e))),this._disposeOnNewModel.add(this._preview.onMouseDown(e=>{const{event:t,target:n}=e;if(t.detail!==2)return;const s=this._getFocusedReference();!s||this._onDidSelectReference.fire({element:{uri:s.uri,range:n.range},kind:t.ctrlKey||t.metaKey||t.altKey?"side":"open",source:"editor"})})),this.container.classList.add("results-loaded"),we.$Z(this._treeContainer),we.$Z(this._previewContainer),this._splitView.layout(this._dim.width),this.focusOnReferenceTree(),this._tree.setInput(this._model.groups.length===1?this._model.groups[0]:this._model)):Promise.resolve(void 0)}_getFocusedReference(){const[e]=this._tree.getFocus();if(e instanceof _i)return e;if(e instanceof Fi&&e.children.length>0)return e.children[0]}revealReference(e){return zd(this,void 0,void 0,function*(){yield this._revealReference(e,!1),this._onDidSelectReference.fire({element:e,kind:"goto",source:"tree"})})}_revealReference(e,t){return zd(this,void 0,void 0,function*(){if(this._revealedReference===e)return;this._revealedReference=e,e.uri.scheme!==is.lg.inMemory?this.setTitle((0,Ae.Hx)(e.uri),this._uriLabel.getUriLabel((0,Ae.XX)(e.uri))):this.setTitle(_e.NC("peekView.alternateTitle","References"));const n=this._textModelResolverService.createModelReference(e.uri);this._tree.getInput()===e.parent?this._tree.reveal(e):(t&&this._tree.reveal(e.parent),yield this._tree.expand(e.parent),this._tree.reveal(e));const s=yield n;if(!this._model){s.dispose();return}(0,wt.B9)(this._previewModelReference);const o=s.object;if(o){const g=this._preview.getModel()===o.textEditorModel?0:1,w=_t.e.lift(e.range).collapseToStart();this._previewModelReference=s,this._preview.setModel(o.textEditorModel),this._preview.setSelection(w),this._preview.revealRangeInCenter(w,g)}else this._preview.setModel(this._previewNotAvailableMessage),s.dispose()})}};Oc=Hd([ol(3,dt.XE),ol(4,Cr.S),ol(5,ki.TG),ol(6,Na),ol(7,vo.e),ol(8,Nu.tJ),ol(9,ee.d),ol(10,Yo.O),ol(11,Lo.c_)],Oc);var Tu=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ma=function(p,e){return function(t,n){e(t,n,p)}},dd=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};const rl=new ht.uy("referenceSearchVisible",!1,_e.NC("referenceSearchVisible","Whether reference peek is visible, like 'Peek References' or 'Peek Definition'"));let na=class x0{constructor(e,t,n,s,o,g,w,G){this._defaultTreeKeyboardSupport=e,this._editor=t,this._editorService=s,this._notificationService=o,this._instantiationService=g,this._storageService=w,this._configurationService=G,this._disposables=new wt.SL,this._requestIdPool=0,this._ignoreModelChangeEvent=!1,this._referenceSearchVisible=rl.bindTo(n)}static get(e){return e.getContribution(x0.ID)}dispose(){var e,t;this._referenceSearchVisible.reset(),this._disposables.dispose(),(e=this._widget)===null||e===void 0||e.dispose(),(t=this._model)===null||t===void 0||t.dispose(),this._widget=void 0,this._model=void 0}toggleWidget(e,t,n){let s;if(this._widget&&(s=this._widget.position),this.closeWidget(),!!s&&e.containsPosition(s))return;this._peekMode=n,this._referenceSearchVisible.set(!0),this._disposables.add(this._editor.onDidChangeModelLanguage(()=>{this.closeWidget()})),this._disposables.add(this._editor.onDidChangeModel(()=>{this._ignoreModelChangeEvent||this.closeWidget()}));const o="peekViewLayout",g=Th.fromJSON(this._storageService.get(o,0,"{}"));this._widget=this._instantiationService.createInstance(Oc,this._editor,this._defaultTreeKeyboardSupport,g),this._widget.setTitle(_e.NC("labelLoading","Loading...")),this._widget.show(e),this._disposables.add(this._widget.onDidClose(()=>{t.cancel(),this._widget&&(this._storageService.store(o,JSON.stringify(this._widget.layoutData),0,1),this._widget=void 0),this.closeWidget()})),this._disposables.add(this._widget.onDidSelectReference(G=>{const{element:J,kind:Q}=G;if(!!J)switch(Q){case"open":(G.source!=="editor"||!this._configurationService.getValue("editor.stablePeek"))&&this.openReference(J,!1,!1);break;case"side":this.openReference(J,!0,!1);break;case"goto":n?this._gotoReference(J):this.openReference(J,!1,!0);break}}));const w=++this._requestIdPool;t.then(G=>{var J;if(w!==this._requestIdPool||!this._widget){G.dispose();return}return(J=this._model)===null||J===void 0||J.dispose(),this._model=G,this._widget.setModel(this._model).then(()=>{if(this._widget&&this._model&&this._editor.hasModel()){this._model.isEmpty?this._widget.setMetaTitle(""):this._widget.setMetaTitle(_e.NC("metaTitle.N","{0} ({1})",this._model.title,this._model.references.length));const Q=this._editor.getModel().uri,ue=new ln.L(e.startLineNumber,e.startColumn),Ne=this._model.nearestReference(Q,ue);if(Ne)return this._widget.setSelection(Ne).then(()=>{this._widget&&this._editor.getOption(79)==="editor"&&this._widget.focusOnPreviewEditor()})}})},G=>{this._notificationService.error(G)})}changeFocusBetweenPreviewAndReferences(){!this._widget||(this._widget.isPreviewEditorFocused()?this._widget.focusOnReferenceTree():this._widget.focusOnPreviewEditor())}goToNextOrPreviousReference(e){return dd(this,void 0,void 0,function*(){if(!this._editor.hasModel()||!this._model||!this._widget)return;const t=this._widget.position;if(!t)return;const n=this._model.nearestReference(this._editor.getModel().uri,t);if(!n)return;const s=this._model.nextOrPreviousReference(n,e),o=this._editor.hasTextFocus(),g=this._widget.isPreviewEditorFocused();yield this._widget.setSelection(s),yield this._gotoReference(s),o?this._editor.focus():this._widget&&g&&this._widget.focusOnPreviewEditor()})}revealReference(e){return dd(this,void 0,void 0,function*(){!this._editor.hasModel()||!this._model||!this._widget||(yield this._widget.revealReference(e))})}closeWidget(e=!0){var t,n;(t=this._widget)===null||t===void 0||t.dispose(),(n=this._model)===null||n===void 0||n.dispose(),this._referenceSearchVisible.reset(),this._disposables.clear(),this._widget=void 0,this._model=void 0,e&&this._editor.focus(),this._requestIdPool+=1}_gotoReference(e){this._widget&&this._widget.hide(),this._ignoreModelChangeEvent=!0;const t=_t.e.lift(e.range).collapseToStart();return this._editorService.openCodeEditor({resource:e.uri,options:{selection:t,selectionSource:"code.jump"}},this._editor).then(n=>{var s;if(this._ignoreModelChangeEvent=!1,!n||!this._widget){this.closeWidget();return}if(this._editor===n)this._widget.show(t),this._widget.focusOnReferenceTree();else{const o=x0.get(n),g=this._model.clone();this.closeWidget(),n.focus(),o==null||o.toggleWidget(t,(0,kt.PG)(w=>Promise.resolve(g)),(s=this._peekMode)!==null&&s!==void 0?s:!1)}},n=>{this._ignoreModelChangeEvent=!1,(0,Ei.dL)(n)})}openReference(e,t,n){t||this.closeWidget();const{uri:s,range:o}=e;this._editorService.openCodeEditor({resource:s,options:{selection:o,selectionSource:"code.jump",pinned:n}},this._editor,t)}};na.ID="editor.contrib.referencesController",na=Tu([ma(2,ht.i6),ma(3,wi.$),ma(4,et.lT),ma(5,ki.TG),ma(6,Oo.Uy),ma(7,m.Ui)],na);function Ta(p,e){const t=ld(p);if(!t)return;const n=na.get(t);n&&e(n)}zn.W.registerCommandAndKeybindingRule({id:"togglePeekWidgetFocus",weight:100,primary:(0,wn.gx)(2089,60),when:ht.Ao.or(rl,tr.inPeekEditor),handler(p){Ta(p,e=>{e.changeFocusBetweenPreviewAndReferences()})}}),zn.W.registerCommandAndKeybindingRule({id:"goToNextReference",weight:100-10,primary:62,secondary:[70],when:ht.Ao.or(rl,tr.inPeekEditor),handler(p){Ta(p,e=>{e.goToNextOrPreviousReference(!0)})}}),zn.W.registerCommandAndKeybindingRule({id:"goToPreviousReference",weight:100-10,primary:1086,secondary:[1094],when:ht.Ao.or(rl,tr.inPeekEditor),handler(p){Ta(p,e=>{e.goToNextOrPreviousReference(!1)})}}),gi.P0.registerCommandAlias("goToNextReferenceFromEmbeddedEditor","goToNextReference"),gi.P0.registerCommandAlias("goToPreviousReferenceFromEmbeddedEditor","goToPreviousReference"),gi.P0.registerCommandAlias("closeReferenceSearchEditor","closeReferenceSearch"),gi.P0.registerCommand("closeReferenceSearch",p=>Ta(p,e=>e.closeWidget())),zn.W.registerKeybindingRule({id:"closeReferenceSearch",weight:100-101,primary:9,secondary:[1033],when:ht.Ao.and(tr.inPeekEditor,ht.Ao.not("config.editor.stablePeek"))}),zn.W.registerKeybindingRule({id:"closeReferenceSearch",weight:200+50,primary:9,secondary:[1033],when:ht.Ao.and(rl,ht.Ao.not("config.editor.stablePeek"))}),zn.W.registerCommandAndKeybindingRule({id:"revealReference",weight:200,primary:3,mac:{primary:3,secondary:[2066]},when:ht.Ao.and(rl,Un.CQ,Un.PS.negate(),Un.uJ.negate()),handler(p){var e;const n=(e=p.get(Un.Lw).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(n)&&n[0]instanceof _i&&Ta(p,s=>s.revealReference(n[0]))}}),zn.W.registerCommandAndKeybindingRule({id:"openReferenceToSide",weight:100,primary:2051,mac:{primary:259},when:ht.Ao.and(rl,Un.CQ,Un.PS.negate(),Un.uJ.negate()),handler(p){var e;const n=(e=p.get(Un.Lw).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(n)&&n[0]instanceof _i&&Ta(p,s=>s.openReference(n[0],!0,!0))}}),gi.P0.registerCommand("openReference",p=>{var e;const n=(e=p.get(Un.Lw).lastFocusedList)===null||e===void 0?void 0:e.getFocus();Array.isArray(n)&&n[0]instanceof _i&&Ta(p,s=>s.openReference(n[0],!1,!0))});var ku=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Sr=function(p,e){return function(t,n){e(t,n,p)}};const Ud=new ht.uy("hasSymbols",!1,(0,_e.NC)("hasSymbols","Whether there are symbol locations that can be navigated via keyboard-only.")),ac=(0,ki.yh)("ISymbolNavigationService");let Fc=class{constructor(e,t,n,s){this._editorService=t,this._notificationService=n,this._keybindingService=s,this._currentModel=void 0,this._currentIdx=-1,this._ignoreEditorChange=!1,this._ctxHasSymbols=Ud.bindTo(e)}reset(){var e,t;this._ctxHasSymbols.reset(),(e=this._currentState)===null||e===void 0||e.dispose(),(t=this._currentMessage)===null||t===void 0||t.dispose(),this._currentModel=void 0,this._currentIdx=-1}put(e){const t=e.parent.parent;if(t.references.length<=1){this.reset();return}this._currentModel=t,this._currentIdx=t.references.indexOf(e),this._ctxHasSymbols.set(!0),this._showMessage();const n=new ur(this._editorService),s=n.onDidChange(o=>{if(this._ignoreEditorChange)return;const g=this._editorService.getActiveCodeEditor();if(!g)return;const w=g.getModel(),G=g.getPosition();if(!w||!G)return;let J=!1,Q=!1;for(const ue of t.references)if((0,Ae.Xy)(ue.uri,w.uri))J=!0,Q=Q||_t.e.containsPosition(ue.range,G);else if(J)break;(!J||!Q)&&this.reset()});this._currentState=(0,wt.F8)(n,s)}revealNext(e){if(!this._currentModel)return Promise.resolve();this._currentIdx+=1,this._currentIdx%=this._currentModel.references.length;const t=this._currentModel.references[this._currentIdx];return this._showMessage(),this._ignoreEditorChange=!0,this._editorService.openCodeEditor({resource:t.uri,options:{selection:_t.e.collapseToStart(t.range),selectionRevealType:3}},e).finally(()=>{this._ignoreEditorChange=!1})}_showMessage(){var e;(e=this._currentMessage)===null||e===void 0||e.dispose();const t=this._keybindingService.lookupKeybinding("editor.gotoNextSymbolFromResult"),n=t?(0,_e.NC)("location.kb","Symbol {0} of {1}, {2} for next",this._currentIdx+1,this._currentModel.references.length,t.getLabel()):(0,_e.NC)("location","Symbol {0} of {1}",this._currentIdx+1,this._currentModel.references.length);this._currentMessage=this._notificationService.status(n)}};Fc=ku([Sr(0,ht.i6),Sr(1,wi.$),Sr(2,et.lT),Sr(3,ee.d)],Fc),(0,Yr.z)(ac,Fc,!0),(0,je.fK)(new class extends je._l{constructor(){super({id:"editor.gotoNextSymbolFromResult",precondition:Ud,kbOpts:{weight:100,primary:70}})}runEditorCommand(p,e){return p.get(ac).revealNext(e)}}),zn.W.registerCommandAndKeybindingRule({id:"editor.gotoNextSymbolFromResult.cancel",weight:100,when:Ud,primary:9,handler(p){p.get(ac).reset()}});let ur=class{constructor(e){this._listener=new Map,this._disposables=new wt.SL,this._onDidChange=new ni.Q5,this.onDidChange=this._onDidChange.event,this._disposables.add(e.onCodeEditorRemove(this._onDidRemoveEditor,this)),this._disposables.add(e.onCodeEditorAdd(this._onDidAddEditor,this)),e.listCodeEditors().forEach(this._onDidAddEditor,this)}dispose(){this._disposables.dispose(),this._onDidChange.dispose(),(0,wt.B9)(this._listener.values())}_onDidAddEditor(e){this._listener.set(e,(0,wt.F8)(e.onDidChangeCursorPosition(t=>this._onDidChange.fire({editor:e})),e.onDidChangeModelContent(t=>this._onDidChange.fire({editor:e}))))}_onDidRemoveEditor(e){var t;(t=this._listener.get(e))===null||t===void 0||t.dispose(),this._listener.delete(e)}};ur=ku([Sr(0,wi.$)],ur);var Bc=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};function Ul(p,e,t,n){const o=t.ordered(p).map(g=>Promise.resolve(n(g,p,e)).then(void 0,w=>{(0,Ei.Cp)(w)}));return Promise.all(o).then(g=>{const w=[];for(const G of g)Array.isArray(G)?w.push(...G):G&&w.push(G);return w})}function yl(p,e,t,n){return Ul(e,t,p,(s,o,g)=>s.provideDefinition(o,g,n))}function Ll(p,e,t,n){return Ul(e,t,p,(s,o,g)=>s.provideDeclaration(o,g,n))}function Wc(p,e,t,n){return Ul(e,t,p,(s,o,g)=>s.provideImplementation(o,g,n))}function ud(p,e,t,n){return Ul(e,t,p,(s,o,g)=>s.provideTypeDefinition(o,g,n))}function hd(p,e,t,n,s){return Ul(e,t,p,(o,g,w)=>Bc(this,void 0,void 0,function*(){const G=yield o.provideReferences(g,w,{includeDeclaration:!0},s);if(!n||!G||G.length!==2)return G;const J=yield o.provideReferences(g,w,{includeDeclaration:!1},s);return J&&J.length===1?J:G}))}function El(p){return Bc(this,void 0,void 0,function*(){const e=yield p(),t=new pi(e,""),n=t.references.map(s=>s.link);return t.dispose(),n})}(0,je.sb)("_executeDefinitionProvider",(p,e,t)=>{const n=p.get(bi.p),s=yl(n.definitionProvider,e,t,ri.T.None);return El(()=>s)}),(0,je.sb)("_executeTypeDefinitionProvider",(p,e,t)=>{const n=p.get(bi.p),s=ud(n.typeDefinitionProvider,e,t,ri.T.None);return El(()=>s)}),(0,je.sb)("_executeDeclarationProvider",(p,e,t)=>{const n=p.get(bi.p),s=Ll(n.declarationProvider,e,t,ri.T.None);return El(()=>s)}),(0,je.sb)("_executeReferenceProvider",(p,e,t)=>{const n=p.get(bi.p),s=hd(n.referenceProvider,e,t,!1,ri.T.None);return El(()=>s)}),(0,je.sb)("_executeImplementationProvider",(p,e,t)=>{const n=p.get(bi.p),s=Wc(n.implementationProvider,e,t,ri.T.None);return El(()=>s)});var ia=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})},Dl,Vc,fd,al,jd,Kd,xl,Hc;Ve.BH.appendMenuItem(Ve.eH.EditorContext,{submenu:Ve.eH.EditorContextPeek,title:_e.NC("peek.submenu","Peek"),group:"navigation",order:100});const jl=new Set;function Tr(p){const e=new p;return(0,je.QG)(e),jl.add(e.id),e}class zc{constructor(e,t){this.model=e,this.position=t}static is(e){return!e||typeof e!="object"?!1:!!(e instanceof zc||ln.L.isIPosition(e.position)&&e.model)}}class sa extends je.R6{constructor(e,t){super(t),this.configuration=e}run(e,t,n){if(!t.hasModel())return Promise.resolve(void 0);const s=e.get(et.lT),o=e.get(wi.$),g=e.get(bs.ek),w=e.get(ac),G=e.get(bi.p),J=t.getModel(),Q=t.getPosition(),ue=zc.is(n)?n:new zc(J,Q),Ne=new Es.Dl(t,5),st=(0,kt.eP)(this._getLocationModel(G,ue.model,ue.position,Ne.token),Ne.token).then(mt=>ia(this,void 0,void 0,function*(){var bt;if(!mt||Ne.token.isCancellationRequested)return;(0,Rn.Z9)(mt.ariaMessage);let $t;if(mt.referenceAt(J.uri,Q)){const Yn=this._getAlternativeCommand(t);!sa._activeAlternativeCommands.has(Yn)&&jl.has(Yn)&&($t=t.getAction(Yn))}const Cn=mt.references.length;if(Cn===0){if(!this.configuration.muteMessage){const Yn=J.getWordAtPosition(Q);(bt=si.get(t))===null||bt===void 0||bt.showMessage(this._getNoResultFoundMessage(Yn),Q)}}else if(Cn===1&&$t)sa._activeAlternativeCommands.add(this.id),$t.run().finally(()=>{sa._activeAlternativeCommands.delete(this.id)});else return this._onResult(o,w,t,mt)}),mt=>{s.error(mt)}).finally(()=>{Ne.dispose()});return g.showWhile(st,250),st}_onResult(e,t,n,s){return ia(this,void 0,void 0,function*(){const o=this._getGoToPreference(n);if(!(n instanceof ea)&&(this.configuration.openInPeek||o==="peek"&&s.references.length>1))this._openInPeek(n,s);else{const g=s.firstReference(),w=s.references.length>1&&o==="gotoAndPeek",G=yield this._openReference(n,e,g,this.configuration.openToSide,!w);w&&G?this._openInPeek(G,s):s.dispose(),o==="goto"&&t.put(g)}})}_openReference(e,t,n,s,o){return ia(this,void 0,void 0,function*(){let g;if((0,un.vx)(n)&&(g=n.targetSelectionRange),g||(g=n.range),!g)return;const w=yield t.openCodeEditor({resource:n.uri,options:{selection:_t.e.collapseToStart(g),selectionRevealType:3,selectionSource:"code.jump"}},e,s);if(!!w){if(o){const G=w.getModel(),J=w.createDecorationsCollection([{range:g,options:{description:"symbol-navigate-action-highlight",className:"symbolHighlight"}}]);setTimeout(()=>{w.getModel()===G&&J.clear()},350)}return w}})}_openInPeek(e,t){const n=na.get(e);n&&e.hasModel()?n.toggleWidget(e.getSelection(),(0,kt.PG)(s=>Promise.resolve(t)),this.configuration.openInPeek):t.dispose()}}sa._activeAlternativeCommands=new Set;class Kl extends sa{_getLocationModel(e,t,n,s){return ia(this,void 0,void 0,function*(){return new pi(yield yl(e.definitionProvider,t,n,s),_e.NC("def.title","Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?_e.NC("noResultWord","No definition found for '{0}'",e.word):_e.NC("generic.noResults","No definition found")}_getAlternativeCommand(e){return e.getOption(53).alternativeDefinitionCommand}_getGoToPreference(e){return e.getOption(53).multipleDefinitions}}const Mu=ci.$L&&!(0,Ii.isStandalone)()?2118:70;Tr((Dl=class I0 extends Kl{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:I0.id,label:_e.NC("actions.goToDecl.label","Go to Definition"),alias:"Go to Definition",precondition:ht.Ao.and(vt.u.hasDefinitionProvider,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:Mu,weight:100},contextMenuOpts:{group:"navigation",order:1.1}}),gi.P0.registerCommandAlias("editor.action.goToDeclaration",I0.id)}},Dl.id="editor.action.revealDefinition",Dl)),Tr((Vc=class N0 extends Kl{constructor(){super({openToSide:!0,openInPeek:!1,muteMessage:!1},{id:N0.id,label:_e.NC("actions.goToDeclToSide.label","Open Definition to the Side"),alias:"Open Definition to the Side",precondition:ht.Ao.and(vt.u.hasDefinitionProvider,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,Mu),weight:100}}),gi.P0.registerCommandAlias("editor.action.openDeclarationToTheSide",N0.id)}},Vc.id="editor.action.revealDefinitionAside",Vc)),Tr((fd=class T0 extends Kl{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:T0.id,label:_e.NC("actions.previewDecl.label","Peek Definition"),alias:"Peek Definition",precondition:ht.Ao.and(vt.u.hasDefinitionProvider,tr.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:582,linux:{primary:3140},weight:100},contextMenuOpts:{menuId:Ve.eH.EditorContextPeek,group:"peek",order:2}}),gi.P0.registerCommandAlias("editor.action.previewDeclaration",T0.id)}},fd.id="editor.action.peekDefinition",fd));class Ru extends sa{_getLocationModel(e,t,n,s){return ia(this,void 0,void 0,function*(){return new pi(yield Ll(e.declarationProvider,t,n,s),_e.NC("decl.title","Declarations"))})}_getNoResultFoundMessage(e){return e&&e.word?_e.NC("decl.noResultWord","No declaration found for '{0}'",e.word):_e.NC("decl.generic.noResults","No declaration found")}_getAlternativeCommand(e){return e.getOption(53).alternativeDeclarationCommand}_getGoToPreference(e){return e.getOption(53).multipleDeclarations}}Tr((al=class ev extends Ru{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:ev.id,label:_e.NC("actions.goToDeclaration.label","Go to Declaration"),alias:"Go to Declaration",precondition:ht.Ao.and(vt.u.hasDeclarationProvider,vt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{group:"navigation",order:1.3}})}_getNoResultFoundMessage(e){return e&&e.word?_e.NC("decl.noResultWord","No declaration found for '{0}'",e.word):_e.NC("decl.generic.noResults","No declaration found")}},al.id="editor.action.revealDeclaration",al)),Tr(class extends Ru{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.peekDeclaration",label:_e.NC("actions.peekDecl.label","Peek Declaration"),alias:"Peek Declaration",precondition:ht.Ao.and(vt.u.hasDeclarationProvider,tr.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Ve.eH.EditorContextPeek,group:"peek",order:3}})}});class Au extends sa{_getLocationModel(e,t,n,s){return ia(this,void 0,void 0,function*(){return new pi(yield ud(e.typeDefinitionProvider,t,n,s),_e.NC("typedef.title","Type Definitions"))})}_getNoResultFoundMessage(e){return e&&e.word?_e.NC("goToTypeDefinition.noResultWord","No type definition found for '{0}'",e.word):_e.NC("goToTypeDefinition.generic.noResults","No type definition found")}_getAlternativeCommand(e){return e.getOption(53).alternativeTypeDefinitionCommand}_getGoToPreference(e){return e.getOption(53).multipleTypeDefinitions}}Tr((jd=class tv extends Au{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:tv.ID,label:_e.NC("actions.goToTypeDefinition.label","Go to Type Definition"),alias:"Go to Type Definition",precondition:ht.Ao.and(vt.u.hasTypeDefinitionProvider,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:0,weight:100},contextMenuOpts:{group:"navigation",order:1.4}})}},jd.ID="editor.action.goToTypeDefinition",jd)),Tr((Kd=class nv extends Au{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:nv.ID,label:_e.NC("actions.peekTypeDefinition.label","Peek Type Definition"),alias:"Peek Type Definition",precondition:ht.Ao.and(vt.u.hasTypeDefinitionProvider,tr.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Ve.eH.EditorContextPeek,group:"peek",order:4}})}},Kd.ID="editor.action.peekTypeDefinition",Kd));class gd extends sa{_getLocationModel(e,t,n,s){return ia(this,void 0,void 0,function*(){return new pi(yield Wc(e.implementationProvider,t,n,s),_e.NC("impl.title","Implementations"))})}_getNoResultFoundMessage(e){return e&&e.word?_e.NC("goToImplementation.noResultWord","No implementation found for '{0}'",e.word):_e.NC("goToImplementation.generic.noResults","No implementation found")}_getAlternativeCommand(e){return e.getOption(53).alternativeImplementationCommand}_getGoToPreference(e){return e.getOption(53).multipleImplementations}}Tr((xl=class iv extends gd{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:iv.ID,label:_e.NC("actions.goToImplementation.label","Go to Implementations"),alias:"Go to Implementations",precondition:ht.Ao.and(vt.u.hasImplementationProvider,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2118,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}},xl.ID="editor.action.goToImplementation",xl)),Tr((Hc=class sv extends gd{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:sv.ID,label:_e.NC("actions.peekImplementation.label","Peek Implementations"),alias:"Peek Implementations",precondition:ht.Ao.and(vt.u.hasImplementationProvider,tr.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3142,weight:100},contextMenuOpts:{menuId:Ve.eH.EditorContextPeek,group:"peek",order:5}})}},Hc.ID="editor.action.peekImplementation",Hc));class Ue extends sa{_getNoResultFoundMessage(e){return e?_e.NC("references.no","No references found for '{0}'",e.word):_e.NC("references.noGeneric","No references found")}_getAlternativeCommand(e){return e.getOption(53).alternativeReferenceCommand}_getGoToPreference(e){return e.getOption(53).multipleReferences}}Tr(class extends Ue{constructor(){super({openToSide:!1,openInPeek:!1,muteMessage:!1},{id:"editor.action.goToReferences",label:_e.NC("goToReferences.label","Go to References"),alias:"Go to References",precondition:ht.Ao.and(vt.u.hasReferenceProvider,tr.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1094,weight:100},contextMenuOpts:{group:"navigation",order:1.45}})}_getLocationModel(e,t,n,s){return ia(this,void 0,void 0,function*(){return new pi(yield hd(e.referenceProvider,t,n,!0,s),_e.NC("ref.title","References"))})}}),Tr(class extends Ue{constructor(){super({openToSide:!1,openInPeek:!0,muteMessage:!1},{id:"editor.action.referenceSearch.trigger",label:_e.NC("references.action.label","Peek References"),alias:"Peek References",precondition:ht.Ao.and(vt.u.hasReferenceProvider,tr.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated()),contextMenuOpts:{menuId:Ve.eH.EditorContextPeek,group:"peek",order:6}})}_getLocationModel(e,t,n,s){return ia(this,void 0,void 0,function*(){return new pi(yield hd(e.referenceProvider,t,n,!1,s),_e.NC("ref.title","References"))})}});class De extends sa{constructor(e,t,n){super(e,{id:"editor.action.goToLocation",label:_e.NC("label.generic","Go to Any Symbol"),alias:"Go to Any Symbol",precondition:ht.Ao.and(tr.notInPeekEditor,vt.u.isInWalkThroughSnippet.toNegated())}),this._references=t,this._gotoMultipleBehaviour=n}_getLocationModel(e,t,n,s){return ia(this,void 0,void 0,function*(){return new pi(this._references,_e.NC("generic.title","Locations"))})}_getNoResultFoundMessage(e){return e&&_e.NC("generic.noResult","No results for '{0}'",e.word)||""}_getGoToPreference(e){var t;return(t=this._gotoMultipleBehaviour)!==null&&t!==void 0?t:e.getOption(53).multipleReferences}_getAlternativeCommand(){return""}}gi.P0.registerCommand({id:"editor.action.goToLocations",description:{description:"Go to locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Xi.o},{name:"position",description:"The position at which to start",constraint:ln.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"},{name:"noResultsMessage",description:"Human readable message that shows when locations is empty."}]},handler:(p,e,t,n,s,o,g)=>ia(void 0,void 0,void 0,function*(){(0,Zi.p_)(Xi.o.isUri(e)),(0,Zi.p_)(ln.L.isIPosition(t)),(0,Zi.p_)(Array.isArray(n)),(0,Zi.p_)(typeof s=="undefined"||typeof s=="string"),(0,Zi.p_)(typeof g=="undefined"||typeof g=="boolean");const w=p.get(wi.$),G=yield w.openCodeEditor({resource:e},w.getFocusedCodeEditor());if((0,gn.CL)(G))return G.setPosition(t),G.revealPositionInCenterIfOutsideViewport(t,0),G.invokeWithinContext(J=>{const Q=new class extends De{_getNoResultFoundMessage(ue){return o||super._getNoResultFoundMessage(ue)}}({muteMessage:!Boolean(o),openInPeek:Boolean(g),openToSide:!1},n,s);J.get(ki.TG).invokeFunction(Q.run.bind(Q),G)})})}),gi.P0.registerCommand({id:"editor.action.peekLocations",description:{description:"Peek locations from a position in a file",args:[{name:"uri",description:"The text document in which to start",constraint:Xi.o},{name:"position",description:"The position at which to start",constraint:ln.L.isIPosition},{name:"locations",description:"An array of locations.",constraint:Array},{name:"multiple",description:"Define what to do when having multiple results, either `peek`, `gotoAndPeek`, or `goto"}]},handler:(p,e,t,n,s)=>ia(void 0,void 0,void 0,function*(){p.get(gi.Hy).executeCommand("editor.action.goToLocations",e,t,n,s,void 0,!0)})}),gi.P0.registerCommand({id:"editor.action.findReferences",handler:(p,e,t)=>{(0,Zi.p_)(Xi.o.isUri(e)),(0,Zi.p_)(ln.L.isIPosition(t));const n=p.get(bi.p),s=p.get(wi.$);return s.openCodeEditor({resource:e},s.getFocusedCodeEditor()).then(o=>{if(!(0,gn.CL)(o)||!o.hasModel())return;const g=na.get(o);if(!g)return;const w=(0,kt.PG)(J=>hd(n.referenceProvider,o.getModel(),ln.L.lift(t),!1,J).then(Q=>new pi(Q,_e.NC("ref.title","References")))),G=new _t.e(t.lineNumber,t.column,t.lineNumber,t.column);return Promise.resolve(g.toggleWidget(G,w,!1))})}}),gi.P0.registerCommandAlias("editor.action.showReferences","editor.action.peekLocations"),Ve.BH.appendMenuItems([{id:Ve.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDefinition",title:_e.NC({key:"miGotoDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Definition")},group:"4_symbol_nav",order:2}},{id:Ve.eH.MenubarGoMenu,item:{command:{id:"editor.action.revealDeclaration",title:_e.NC({key:"miGotoDeclaration",comment:["&& denotes a mnemonic"]},"Go to &&Declaration")},group:"4_symbol_nav",order:3}},{id:Ve.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToTypeDefinition",title:_e.NC({key:"miGotoTypeDefinition",comment:["&& denotes a mnemonic"]},"Go to &&Type Definition")},group:"4_symbol_nav",order:3}},{id:Ve.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToImplementation",title:_e.NC({key:"miGotoImplementation",comment:["&& denotes a mnemonic"]},"Go to &&Implementations")},group:"4_symbol_nav",order:4}},{id:Ve.eH.MenubarGoMenu,item:{command:{id:"editor.action.goToReferences",title:_e.NC({key:"miGotoReference",comment:["&& denotes a mnemonic"]},"Go to &&References")},group:"4_symbol_nav",order:5}}]);var Pe=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},tt=function(p,e){return function(t,n){e(t,n,p)}};let At=class Sm{constructor(e,t,n,s){this.textModelResolverService=t,this.languageService=n,this.languageFeaturesService=s,this.toUnhook=new wt.SL,this.toUnhookForKeyboard=new wt.SL,this.currentWordAtPosition=null,this.previousPromise=null,this.editor=e,this.linkDecorations=this.editor.createDecorationsCollection();const o=new Vr(e);this.toUnhook.add(o),this.toUnhook.add(o.onMouseMoveOrRelevantKeyDown(([g,w])=>{this.startFindDefinitionFromMouse(g,(0,Zi.f6)(w))})),this.toUnhook.add(o.onExecute(g=>{this.isEnabled(g)&&this.gotoDefinition(g.target.position,g.hasSideBySideModifier).then(()=>{this.removeLinkDecorations()},w=>{this.removeLinkDecorations(),(0,Ei.dL)(w)})})),this.toUnhook.add(o.onCancel(()=>{this.removeLinkDecorations(),this.currentWordAtPosition=null}))}static get(e){return e.getContribution(Sm.ID)}startFindDefinitionFromCursor(e){return this.startFindDefinition(e).then(()=>{this.toUnhookForKeyboard.add(this.editor.onDidChangeCursorPosition(()=>{this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear()})),this.toUnhookForKeyboard.add(this.editor.onKeyDown(t=>{t&&(this.currentWordAtPosition=null,this.removeLinkDecorations(),this.toUnhookForKeyboard.clear())}))})}startFindDefinitionFromMouse(e,t){if(e.target.type===9&&this.linkDecorations.length>0)return;if(!this.editor.hasModel()||!this.isEnabled(e,t)){this.currentWordAtPosition=null,this.removeLinkDecorations();return}const n=e.target.position;this.startFindDefinition(n)}startFindDefinition(e){var t;this.toUnhookForKeyboard.clear();const n=e?(t=this.editor.getModel())===null||t===void 0?void 0:t.getWordAtPosition(e):null;if(!n)return this.currentWordAtPosition=null,this.removeLinkDecorations(),Promise.resolve(0);if(this.currentWordAtPosition&&this.currentWordAtPosition.startColumn===n.startColumn&&this.currentWordAtPosition.endColumn===n.endColumn&&this.currentWordAtPosition.word===n.word)return Promise.resolve(0);this.currentWordAtPosition=n;const s=new Es.yy(this.editor,15);return this.previousPromise&&(this.previousPromise.cancel(),this.previousPromise=null),this.previousPromise=(0,kt.PG)(o=>this.findDefinition(e,o)),this.previousPromise.then(o=>{if(!o||!o.length||!s.validate(this.editor)){this.removeLinkDecorations();return}if(o.length>1)this.addDecoration(new _t.e(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn),new Wn.W5().appendText(_e.NC("multipleResults","Click to show {0} definitions.",o.length)));else{const g=o[0];if(!g.uri)return;this.textModelResolverService.createModelReference(g.uri).then(w=>{if(!w.object||!w.object.textEditorModel){w.dispose();return}const{object:{textEditorModel:G}}=w,{startLineNumber:J}=g.range;if(J<1||J>G.getLineCount()){w.dispose();return}const Q=this.getPreviewValue(G,J,g);let ue;g.originSelectionRange?ue=_t.e.lift(g.originSelectionRange):ue=new _t.e(e.lineNumber,n.startColumn,e.lineNumber,n.endColumn);const Ne=this.languageService.guessLanguageIdByFilepathOrFirstLine(G.uri);this.addDecoration(ue,new Wn.W5().appendCodeblock(Ne||"",Q)),w.dispose()})}}).then(void 0,Ei.dL)}getPreviewValue(e,t,n){let s=n.range;return s.endLineNumber-s.startLineNumber>=Sm.MAX_SOURCE_PREVIEW_LINES&&(s=this.getPreviewRangeBasedOnIndentation(e,t)),this.stripIndentationFromPreviewRange(e,t,s)}stripIndentationFromPreviewRange(e,t,n){let o=e.getLineFirstNonWhitespaceColumn(t);for(let w=t+1;w<n.endLineNumber;w++){const G=e.getLineFirstNonWhitespaceColumn(w);o=Math.min(o,G)}return e.getValueInRange(n).replace(new RegExp(`^\\s{${o-1}}`,"gm"),"").trim()}getPreviewRangeBasedOnIndentation(e,t){const n=e.getLineFirstNonWhitespaceColumn(t),s=Math.min(e.getLineCount(),t+Sm.MAX_SOURCE_PREVIEW_LINES);let o=t+1;for(;o<s;o++){const g=e.getLineFirstNonWhitespaceColumn(o);if(n===g)break}return new _t.e(t,1,o+1,1)}addDecoration(e,t){const n={range:e,options:{description:"goto-definition-link",inlineClassName:"goto-definition-link",hoverMessage:t}};this.linkDecorations.set([n])}removeLinkDecorations(){this.linkDecorations.clear()}isEnabled(e,t){return this.editor.hasModel()&&e.isNoneOrSingleMouseDown&&e.target.type===6&&(e.hasTriggerModifier||(t?t.keyCodeIsTriggerKey:!1))&&this.languageFeaturesService.definitionProvider.has(this.editor.getModel())}findDefinition(e,t){const n=this.editor.getModel();return n?yl(this.languageFeaturesService.definitionProvider,n,e,t):Promise.resolve(null)}gotoDefinition(e,t){return this.editor.setPosition(e),this.editor.invokeWithinContext(n=>{const s=!t&&this.editor.getOption(80)&&!this.isInPeekEditor(n);return new Kl({openToSide:t,openInPeek:s,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(n,this.editor)})}isInPeekEditor(e){const t=e.get(ht.i6);return tr.inPeekEditor.getValue(t)}dispose(){this.toUnhook.dispose()}};At.ID="editor.contrib.gotodefinitionatposition",At.MAX_SOURCE_PREVIEW_LINES=8,At=Pe([tt(1,Cr.S),tt(2,Yo.O),tt(3,bi.p)],At),(0,je._K)(At.ID,At),(0,dt.Ic)((p,e)=>{const t=p.getColor(Ce._Yy);t&&e.addRule(`.monaco-editor .goto-definition-link { color: ${t} !important; }`)});var Bt=l(37886);const Kt=we.$;class fn extends wt.JT{constructor(){super(),this.containerDomNode=document.createElement("div"),this.containerDomNode.className="monaco-hover",this.containerDomNode.tabIndex=0,this.containerDomNode.setAttribute("role","tooltip"),this.contentsDomNode=document.createElement("div"),this.contentsDomNode.className="monaco-hover-content",this.scrollbar=this._register(new Bt.s$(this.contentsDomNode,{consumeMouseWheelIfScrollbarIsNeeded:!0})),this.containerDomNode.appendChild(this.scrollbar.getDomNode())}onContentsChanged(){this.scrollbar.scanDomNode()}}class Dn extends wt.JT{constructor(e,t,n){super(),this.actionContainer=we.R3(e,Kt("div.action-container")),this.actionContainer.setAttribute("tabindex","0"),this.action=we.R3(this.actionContainer,Kt("a.action")),this.action.setAttribute("role","button"),t.iconClass&&we.R3(this.action,Kt(`span.icon.${t.iconClass}`));const s=we.R3(this.action,Kt("span"));s.textContent=n?`${t.label} (${n})`:t.label,this._register(we.nm(this.actionContainer,we.tw.CLICK,o=>{o.stopPropagation(),o.preventDefault(),t.run(this.actionContainer)})),this._register(we.nm(this.actionContainer,we.tw.KEY_UP,o=>{new ga.y(o).equals(3)&&(o.stopPropagation(),o.preventDefault(),t.run(this.actionContainer))})),this.setEnabled(!0)}static render(e,t,n){return new Dn(e,t,n)}setEnabled(e){e?(this.actionContainer.classList.remove("disabled"),this.actionContainer.removeAttribute("aria-disabled")):(this.actionContainer.classList.add("disabled"),this.actionContainer.setAttribute("aria-disabled","true"))}}var yn=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})},Gn=function(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=p[Symbol.asyncIterator],t;return e?e.call(p):(p=typeof __values=="function"?__values(p):p[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=p[o]&&function(g){return new Promise(function(w,G){g=p[o](g),s(w,G,g.done,g.value)})}}function s(o,g,w,G){Promise.resolve(G).then(function(J){o({value:J,done:w})},g)}};class Zn{constructor(e,t,n){this.value=e,this.isComplete=t,this.hasLoadingMessage=n}}class ti extends wt.JT{constructor(e,t){super(),this._editor=e,this._computer=t,this._onResult=this._register(new ni.Q5),this.onResult=this._onResult.event,this._firstWaitScheduler=this._register(new kt.pY(()=>this._triggerAsyncComputation(),0)),this._secondWaitScheduler=this._register(new kt.pY(()=>this._triggerSyncComputation(),0)),this._loadingMessageScheduler=this._register(new kt.pY(()=>this._triggerLoadingMessage(),0)),this._state=0,this._asyncIterable=null,this._asyncIterableDone=!1,this._result=[]}dispose(){this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),super.dispose()}get _hoverTime(){return this._editor.getOption(55).delay}get _firstWaitTime(){return this._hoverTime/2}get _secondWaitTime(){return this._hoverTime-this._firstWaitTime}get _loadingMessageTime(){return 3*this._hoverTime}_setState(e,t=!0){this._state=e,t&&this._fireResult()}_triggerAsyncComputation(){this._setState(2),this._secondWaitScheduler.schedule(this._secondWaitTime),this._computer.computeAsync?(this._asyncIterableDone=!1,this._asyncIterable=(0,kt.zS)(e=>this._computer.computeAsync(e)),yn(this,void 0,void 0,function*(){var e,t;try{try{for(var n=Gn(this._asyncIterable),s;s=yield n.next(),!s.done;){const o=s.value;o&&(this._result.push(o),this._fireResult())}}catch(o){e={error:o}}finally{try{s&&!s.done&&(t=n.return)&&(yield t.call(n))}finally{if(e)throw e.error}}this._asyncIterableDone=!0,(this._state===3||this._state===4)&&this._setState(0)}catch(o){(0,Ei.dL)(o)}})):this._asyncIterableDone=!0}_triggerSyncComputation(){this._computer.computeSync&&(this._result=this._result.concat(this._computer.computeSync())),this._setState(this._asyncIterableDone?0:3)}_triggerLoadingMessage(){this._state===3&&this._setState(4)}_fireResult(){if(this._state===1||this._state===2)return;const e=this._state===0,t=this._state===4;this._onResult.fire(new Zn(this._result.slice(0),e,t))}start(e){if(e===0)this._state===0&&(this._setState(1),this._firstWaitScheduler.schedule(this._firstWaitTime),this._loadingMessageScheduler.schedule(this._loadingMessageTime));else switch(this._state){case 0:this._triggerAsyncComputation(),this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break;case 2:this._secondWaitScheduler.cancel(),this._triggerSyncComputation();break}}cancel(){this._firstWaitScheduler.cancel(),this._secondWaitScheduler.cancel(),this._loadingMessageScheduler.cancel(),this._asyncIterable&&(this._asyncIterable.cancel(),this._asyncIterable=null),this._result=[],this._setState(0,!1)}}class Ni{constructor(e,t){this.priority=e,this.range=t,this.type=1}equals(e){return e.type===1&&this.range.equalsRange(e.range)}canAdoptVisibleHover(e,t){return e.type===1&&t.lineNumber===this.range.startLineNumber}}class Gi{constructor(e,t,n){this.priority=e,this.owner=t,this.range=n,this.type=2}equals(e){return e.type===2&&this.owner===e.owner}canAdoptVisibleHover(e,t){return e.type===2&&this.owner===e.owner}}const Ui=new class{constructor(){this._participants=[]}register(e){this._participants.push(e)}getAll(){return this._participants}};class mi{constructor(){this.value="",this.pos=0}static isDigitCharacter(e){return e>=48&&e<=57}static isVariableCharacter(e){return e===95||e>=97&&e<=122||e>=65&&e<=90}text(e){this.value=e,this.pos=0}tokenText(e){return this.value.substr(e.pos,e.len)}next(){if(this.pos>=this.value.length)return{type:14,pos:this.pos,len:0};const e=this.pos;let t=0,n=this.value.charCodeAt(e),s;if(s=mi._table[n],typeof s=="number")return this.pos+=1,{type:s,pos:e,len:1};if(mi.isDigitCharacter(n)){s=8;do t+=1,n=this.value.charCodeAt(e+t);while(mi.isDigitCharacter(n));return this.pos+=t,{type:s,pos:e,len:t}}if(mi.isVariableCharacter(n)){s=9;do n=this.value.charCodeAt(e+ ++t);while(mi.isVariableCharacter(n)||mi.isDigitCharacter(n));return this.pos+=t,{type:s,pos:e,len:t}}s=10;do t+=1,n=this.value.charCodeAt(e+t);while(!isNaN(n)&&typeof mi._table[n]=="undefined"&&!mi.isDigitCharacter(n)&&!mi.isVariableCharacter(n));return this.pos+=t,{type:s,pos:e,len:t}}}mi._table={[36]:0,[58]:1,[44]:2,[123]:3,[125]:4,[92]:5,[47]:6,[124]:7,[43]:11,[45]:12,[63]:13};class Ai{constructor(){this._children=[]}appendChild(e){return e instanceof yi&&this._children[this._children.length-1]instanceof yi?this._children[this._children.length-1].value+=e.value:(e.parent=this,this._children.push(e)),this}replace(e,t){const{parent:n}=e,s=n.children.indexOf(e),o=n.children.slice(0);o.splice(s,1,...t),n._children=o,function g(w,G){for(const J of w)J.parent=G,g(J.children,J)}(t,n)}get children(){return this._children}get snippet(){let e=this;for(;;){if(!e)return;if(e instanceof Bo)return e;e=e.parent}}toString(){return this.children.reduce((e,t)=>e+t.toString(),"")}len(){return 0}}class yi extends Ai{constructor(e){super(),this.value=e}toString(){return this.value}len(){return this.value.length}clone(){return new yi(this.value)}}class ao extends Ai{}class Ns extends ao{constructor(e){super(),this.index=e}static compareByIndex(e,t){return e.index===t.index?0:e.isFinalTabstop?1:t.isFinalTabstop||e.index<t.index?-1:e.index>t.index?1:0}get isFinalTabstop(){return this.index===0}get choice(){return this._children.length===1&&this._children[0]instanceof Ts?this._children[0]:void 0}clone(){const e=new Ns(this.index);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}class Ts extends Ai{constructor(){super(...arguments),this.options=[]}appendChild(e){return e instanceof yi&&(e.parent=this,this.options.push(e)),this}toString(){return this.options[0].value}len(){return this.options[0].len()}clone(){const e=new Ts;return this.options.forEach(e.appendChild,e),e}}class fs extends Ai{constructor(){super(...arguments),this.regexp=new RegExp("")}resolve(e){const t=this;let n=!1,s=e.replace(this.regexp,function(){return n=!0,t._replace(Array.prototype.slice.call(arguments,0,-2))});return!n&&this._children.some(o=>o instanceof Gs&&Boolean(o.elseValue))&&(s=this._replace([])),s}_replace(e){let t="";for(const n of this._children)if(n instanceof Gs){let s=e[n.index]||"";s=n.resolve(s),t+=s}else t+=n.toString();return t}toString(){return""}clone(){const e=new fs;return e.regexp=new RegExp(this.regexp.source,(this.regexp.ignoreCase?"i":"")+(this.regexp.global?"g":"")),e._children=this.children.map(t=>t.clone()),e}}class Gs extends Ai{constructor(e,t,n,s){super(),this.index=e,this.shorthandName=t,this.ifValue=n,this.elseValue=s}resolve(e){return this.shorthandName==="upcase"?e?e.toLocaleUpperCase():"":this.shorthandName==="downcase"?e?e.toLocaleLowerCase():"":this.shorthandName==="capitalize"?e?e[0].toLocaleUpperCase()+e.substr(1):"":this.shorthandName==="pascalcase"?e?this._toPascalCase(e):"":this.shorthandName==="camelcase"?e?this._toCamelCase(e):"":Boolean(e)&&typeof this.ifValue=="string"?this.ifValue:!Boolean(e)&&typeof this.elseValue=="string"?this.elseValue:e||""}_toPascalCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map(n=>n.charAt(0).toUpperCase()+n.substr(1)).join(""):e}_toCamelCase(e){const t=e.match(/[a-z0-9]+/gi);return t?t.map((n,s)=>s===0?n.charAt(0).toLowerCase()+n.substr(1):n.charAt(0).toUpperCase()+n.substr(1)).join(""):e}clone(){return new Gs(this.index,this.shorthandName,this.ifValue,this.elseValue)}}class Eo extends ao{constructor(e){super(),this.name=e}resolve(e){let t=e.resolve(this);return this.transform&&(t=this.transform.resolve(t||"")),t!==void 0?(this._children=[new yi(t)],!0):!1}clone(){const e=new Eo(this.name);return this.transform&&(e.transform=this.transform.clone()),e._children=this.children.map(t=>t.clone()),e}}function Is(p,e){const t=[...p];for(;t.length>0;){const n=t.shift();if(!e(n))break;t.unshift(...n.children)}}class Bo extends Ai{get placeholderInfo(){if(!this._placeholders){const e=[];let t;this.walk(function(n){return n instanceof Ns&&(e.push(n),t=!t||t.index<n.index?n:t),!0}),this._placeholders={all:e,last:t}}return this._placeholders}get placeholders(){const{all:e}=this.placeholderInfo;return e}offset(e){let t=0,n=!1;return this.walk(s=>s===e?(n=!0,!1):(t+=s.len(),!0)),n?t:-1}fullLen(e){let t=0;return Is([e],n=>(t+=n.len(),!0)),t}enclosingPlaceholders(e){const t=[];let{parent:n}=e;for(;n;)n instanceof Ns&&t.push(n),n=n.parent;return t}resolveVariables(e){return this.walk(t=>(t instanceof Eo&&t.resolve(e)&&(this._placeholders=void 0),!0)),this}appendChild(e){return this._placeholders=void 0,super.appendChild(e)}replace(e,t){return this._placeholders=void 0,super.replace(e,t)}clone(){const e=new Bo;return this._children=this.children.map(t=>t.clone()),e}walk(e){Is(this.children,e)}}class Wo{constructor(){this._scanner=new mi,this._token={type:14,pos:0,len:0}}static escape(e){return e.replace(/\$|}|\\/g,"\\$&")}static guessNeedsClipboard(e){return/\${?CLIPBOARD/.test(e)}parse(e,t,n){const s=new Bo;return this.parseFragment(e,s),this.ensureFinalTabstop(s,n!=null?n:!1,t!=null?t:!1),s}parseFragment(e,t){const n=t.children.length;for(this._scanner.text(e),this._token=this._scanner.next();this._parse(t););const s=new Map,o=[];t.walk(g=>(g instanceof Ns&&(g.isFinalTabstop?s.set(0,void 0):!s.has(g.index)&&g.children.length>0?s.set(g.index,g.children):o.push(g)),!0));for(const g of o){const w=s.get(g.index);if(w){const G=new Ns(g.index);G.transform=g.transform;for(const J of w)G.appendChild(J.clone());t.replace(g,[G])}}return t.children.slice(n)}ensureFinalTabstop(e,t,n){(t||n&&e.placeholders.length>0)&&(e.placeholders.find(o=>o.index===0)||e.appendChild(new Ns(0)))}_accept(e,t){if(e===void 0||this._token.type===e){const n=t?this._scanner.tokenText(this._token):!0;return this._token=this._scanner.next(),n}return!1}_backTo(e){return this._scanner.pos=e.pos+e.len,this._token=e,!1}_until(e){const t=this._token;for(;this._token.type!==e;){if(this._token.type===14)return!1;if(this._token.type===5){const s=this._scanner.next();if(s.type!==0&&s.type!==4&&s.type!==5)return!1}this._token=this._scanner.next()}const n=this._scanner.value.substring(t.pos,this._token.pos).replace(/\\(\$|}|\\)/g,"$1");return this._token=this._scanner.next(),n}_parse(e){return this._parseEscaped(e)||this._parseTabstopOrVariableName(e)||this._parseComplexPlaceholder(e)||this._parseComplexVariable(e)||this._parseAnything(e)}_parseEscaped(e){let t;return(t=this._accept(5,!0))?(t=this._accept(0,!0)||this._accept(4,!0)||this._accept(5,!0)||t,e.appendChild(new yi(t)),!0):!1}_parseTabstopOrVariableName(e){let t;const n=this._token;return this._accept(0)&&(t=this._accept(9,!0)||this._accept(8,!0))?(e.appendChild(/^\d+$/.test(t)?new Ns(Number(t)):new Eo(t)),!0):this._backTo(n)}_parseComplexPlaceholder(e){let t;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(8,!0))))return this._backTo(n);const o=new Ns(Number(t));if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new yi("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else if(o.index>0&&this._accept(7)){const g=new Ts;for(;;){if(this._parseChoiceElement(g)){if(this._accept(2))continue;if(this._accept(7)&&(o.appendChild(g),this._accept(4)))return e.appendChild(o),!0}return this._backTo(n),!1}}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(n)}_parseChoiceElement(e){const t=this._token,n=[];for(;!(this._token.type===2||this._token.type===7);){let s;if((s=this._accept(5,!0))?s=this._accept(2,!0)||this._accept(7,!0)||this._accept(5,!0)||s:s=this._accept(void 0,!0),!s)return this._backTo(t),!1;n.push(s)}return n.length===0?(this._backTo(t),!1):(e.appendChild(new yi(n.join(""))),!0)}_parseComplexVariable(e){let t;const n=this._token;if(!(this._accept(0)&&this._accept(3)&&(t=this._accept(9,!0))))return this._backTo(n);const o=new Eo(t);if(this._accept(1))for(;;){if(this._accept(4))return e.appendChild(o),!0;if(!this._parse(o))return e.appendChild(new yi("${"+t+":")),o.children.forEach(e.appendChild,e),!0}else return this._accept(6)?this._parseTransform(o)?(e.appendChild(o),!0):(this._backTo(n),!1):this._accept(4)?(e.appendChild(o),!0):this._backTo(n)}_parseTransform(e){const t=new fs;let n="",s="";for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(6,!0)||o,n+=o;continue}if(this._token.type!==14){n+=this._accept(void 0,!0);continue}return!1}for(;!this._accept(6);){let o;if(o=this._accept(5,!0)){o=this._accept(5,!0)||this._accept(6,!0)||o,t.appendChild(new yi(o));continue}if(!(this._parseFormatString(t)||this._parseAnything(t)))return!1}for(;!this._accept(4);){if(this._token.type!==14){s+=this._accept(void 0,!0);continue}return!1}try{t.regexp=new RegExp(n,s)}catch(o){return!1}return e.transform=t,!0}_parseFormatString(e){const t=this._token;if(!this._accept(0))return!1;let n=!1;this._accept(3)&&(n=!0);const s=this._accept(8,!0);if(s)if(n){if(this._accept(4))return e.appendChild(new Gs(Number(s))),!0;if(!this._accept(1))return this._backTo(t),!1}else return e.appendChild(new Gs(Number(s))),!0;else return this._backTo(t),!1;if(this._accept(6)){const o=this._accept(9,!0);return!o||!this._accept(4)?(this._backTo(t),!1):(e.appendChild(new Gs(Number(s),o)),!0)}else if(this._accept(11)){const o=this._until(4);if(o)return e.appendChild(new Gs(Number(s),void 0,o,void 0)),!0}else if(this._accept(12)){const o=this._until(4);if(o)return e.appendChild(new Gs(Number(s),void 0,void 0,o)),!0}else if(this._accept(13)){const o=this._until(1);if(o){const g=this._until(4);if(g)return e.appendChild(new Gs(Number(s),void 0,o,g)),!0}}else{const o=this._until(4);if(o)return e.appendChild(new Gs(Number(s),void 0,void 0,o)),!0}return this._backTo(t),!1}_parseAnything(e){return this._token.type!==14?(e.appendChild(new yi(this._scanner.tokenText(this._token))),this._accept(void 0),!0):!1}}var pa=l(81234),kr=l(34232),ir=l(50738),oa=l(53161);const _a=_e.NC("defaultLabel","input"),ra=_e.NC("label.preserveCaseToggle","Preserve Case");class va extends kr.Z{constructor(e){super({icon:Nn.lA.preserveCase,title:ra+e.appendTitle,isChecked:e.isChecked,inputActiveOptionBorder:e.inputActiveOptionBorder,inputActiveOptionForeground:e.inputActiveOptionForeground,inputActiveOptionBackground:e.inputActiveOptionBackground})}}class yr extends bl.${constructor(e,t,n,s){super(),this._showOptionButtons=n,this.fixFocusOnOptionClickEnabled=!0,this.cachedOptionsWidth=0,this._onDidOptionChange=this._register(new ni.Q5),this.onDidOptionChange=this._onDidOptionChange.event,this._onKeyDown=this._register(new ni.Q5),this.onKeyDown=this._onKeyDown.event,this._onMouseDown=this._register(new ni.Q5),this._onInput=this._register(new ni.Q5),this._onKeyUp=this._register(new ni.Q5),this._onPreserveCaseKeyDown=this._register(new ni.Q5),this.onPreserveCaseKeyDown=this._onPreserveCaseKeyDown.event,this.contextViewProvider=t,this.placeholder=s.placeholder||"",this.validation=s.validation,this.label=s.label||_a,this.inputActiveOptionBorder=s.inputActiveOptionBorder,this.inputActiveOptionForeground=s.inputActiveOptionForeground,this.inputActiveOptionBackground=s.inputActiveOptionBackground,this.inputBackground=s.inputBackground,this.inputForeground=s.inputForeground,this.inputBorder=s.inputBorder,this.inputValidationInfoBorder=s.inputValidationInfoBorder,this.inputValidationInfoBackground=s.inputValidationInfoBackground,this.inputValidationInfoForeground=s.inputValidationInfoForeground,this.inputValidationWarningBorder=s.inputValidationWarningBorder,this.inputValidationWarningBackground=s.inputValidationWarningBackground,this.inputValidationWarningForeground=s.inputValidationWarningForeground,this.inputValidationErrorBorder=s.inputValidationErrorBorder,this.inputValidationErrorBackground=s.inputValidationErrorBackground,this.inputValidationErrorForeground=s.inputValidationErrorForeground;const o=s.appendPreserveCaseLabel||"",g=s.history||[],w=!!s.flexibleHeight,G=!!s.flexibleWidth,J=s.flexibleMaxHeight;this.domNode=document.createElement("div"),this.domNode.classList.add("monaco-findInput"),this.inputBox=this._register(new ir.p(this.domNode,this.contextViewProvider,{ariaLabel:this.label||"",placeholder:this.placeholder||"",validationOptions:{validation:this.validation},inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder,history:g,showHistoryHint:s.showHistoryHint,flexibleHeight:w,flexibleWidth:G,flexibleMaxHeight:J})),this.preserveCase=this._register(new va({appendTitle:o,isChecked:!1,inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground})),this._register(this.preserveCase.onChange(Ne=>{this._onDidOptionChange.fire(Ne),!Ne&&this.fixFocusOnOptionClickEnabled&&this.inputBox.focus(),this.validate()})),this._register(this.preserveCase.onKeyDown(Ne=>{this._onPreserveCaseKeyDown.fire(Ne)})),this._showOptionButtons?this.cachedOptionsWidth=this.preserveCase.width():this.cachedOptionsWidth=0;const Q=[this.preserveCase.domNode];this.onkeydown(this.domNode,Ne=>{if(Ne.equals(15)||Ne.equals(17)||Ne.equals(9)){const st=Q.indexOf(document.activeElement);if(st>=0){let mt=-1;Ne.equals(17)?mt=(st+1)%Q.length:Ne.equals(15)&&(st===0?mt=Q.length-1:mt=st-1),Ne.equals(9)?(Q[st].blur(),this.inputBox.focus()):mt>=0&&Q[mt].focus(),we.zB.stop(Ne,!0)}}});const ue=document.createElement("div");ue.className="controls",ue.style.display=this._showOptionButtons?"block":"none",ue.appendChild(this.preserveCase.domNode),this.domNode.appendChild(ue),e==null||e.appendChild(this.domNode),this.onkeydown(this.inputBox.inputElement,Ne=>this._onKeyDown.fire(Ne)),this.onkeyup(this.inputBox.inputElement,Ne=>this._onKeyUp.fire(Ne)),this.oninput(this.inputBox.inputElement,Ne=>this._onInput.fire()),this.onmousedown(this.inputBox.inputElement,Ne=>this._onMouseDown.fire(Ne))}enable(){this.domNode.classList.remove("disabled"),this.inputBox.enable(),this.preserveCase.enable()}disable(){this.domNode.classList.add("disabled"),this.inputBox.disable(),this.preserveCase.disable()}setEnabled(e){e?this.enable():this.disable()}style(e){this.inputActiveOptionBorder=e.inputActiveOptionBorder,this.inputActiveOptionForeground=e.inputActiveOptionForeground,this.inputActiveOptionBackground=e.inputActiveOptionBackground,this.inputBackground=e.inputBackground,this.inputForeground=e.inputForeground,this.inputBorder=e.inputBorder,this.inputValidationInfoBackground=e.inputValidationInfoBackground,this.inputValidationInfoForeground=e.inputValidationInfoForeground,this.inputValidationInfoBorder=e.inputValidationInfoBorder,this.inputValidationWarningBackground=e.inputValidationWarningBackground,this.inputValidationWarningForeground=e.inputValidationWarningForeground,this.inputValidationWarningBorder=e.inputValidationWarningBorder,this.inputValidationErrorBackground=e.inputValidationErrorBackground,this.inputValidationErrorForeground=e.inputValidationErrorForeground,this.inputValidationErrorBorder=e.inputValidationErrorBorder,this.applyStyles()}applyStyles(){if(this.domNode){const e={inputActiveOptionBorder:this.inputActiveOptionBorder,inputActiveOptionForeground:this.inputActiveOptionForeground,inputActiveOptionBackground:this.inputActiveOptionBackground};this.preserveCase.style(e);const t={inputBackground:this.inputBackground,inputForeground:this.inputForeground,inputBorder:this.inputBorder,inputValidationInfoBackground:this.inputValidationInfoBackground,inputValidationInfoForeground:this.inputValidationInfoForeground,inputValidationInfoBorder:this.inputValidationInfoBorder,inputValidationWarningBackground:this.inputValidationWarningBackground,inputValidationWarningForeground:this.inputValidationWarningForeground,inputValidationWarningBorder:this.inputValidationWarningBorder,inputValidationErrorBackground:this.inputValidationErrorBackground,inputValidationErrorForeground:this.inputValidationErrorForeground,inputValidationErrorBorder:this.inputValidationErrorBorder};this.inputBox.style(t)}}select(){this.inputBox.select()}focus(){this.inputBox.focus()}getPreserveCase(){return this.preserveCase.checked}setPreserveCase(e){this.preserveCase.checked=e}focusOnPreserve(){this.preserveCase.focus()}validate(){this.inputBox&&this.inputBox.validate()}set width(e){this.inputBox.paddingRight=this.cachedOptionsWidth,this.inputBox.width=e,this.domNode.style.width=e+"px"}dispose(){super.dispose()}}var Ur=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},lc=function(p,e){return function(t,n){e(t,n,p)}};const Mr=new ht.uy("suggestWidgetVisible",!1,(0,_e.NC)("suggestWidgetVisible","Whether suggestion are visible")),Ua="historyNavigationWidgetFocus",ka="historyNavigationForwardsEnabled",Ma="historyNavigationBackwardsEnabled";let Ra;const hr=[];function Lr(p,e){if(hr.includes(e))throw new Error("Cannot register the same widget multiple times");hr.push(e);const t=new wt.SL,n=t.add(p.createScoped(e.element)),s=new ht.uy(Ua,!1).bindTo(n),o=new ht.uy(ka,!0).bindTo(n),g=new ht.uy(Ma,!0).bindTo(n),w=()=>{s.set(!0),Ra=e},G=()=>{s.set(!1),Ra===e&&(Ra=void 0)};return e.element===document.activeElement&&w(),t.add(e.onDidFocus(()=>w())),t.add(e.onDidBlur(()=>G())),t.add((0,wt.OF)(()=>{hr.splice(hr.indexOf(e),1),G()})),{scopedContextKeyService:n,historyNavigationForwardsEnablement:o,historyNavigationBackwardsEnablement:g,dispose(){t.dispose()}}}let jo=class extends pa.V{constructor(e,t,n,s,o=!1){super(e,t,o,n),this._register(Lr(s,this.inputBox))}};jo=Ur([lc(3,ht.i6)],jo);let Vo=class extends yr{constructor(e,t,n,s,o=!1){super(e,t,o,n),this._register(Lr(s,this.inputBox))}};Vo=Ur([lc(3,ht.i6)],Vo),zn.W.registerCommandAndKeybindingRule({id:"history.showPrevious",weight:200,when:ht.Ao.and(ht.Ao.has(Ua),ht.Ao.equals(Ma,!0),Mr.isEqualTo(!1)),primary:16,secondary:[528],handler:p=>{Ra&&Ra.showPreviousValue()}}),zn.W.registerCommandAndKeybindingRule({id:"history.showNext",weight:200,when:ht.Ao.and(ht.Ao.has(Ua),ht.Ao.equals(ka,!0),Mr.isEqualTo(!1)),primary:18,secondary:[530],handler:p=>{Ra&&Ra.showNextValue()}});var Oi=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};const ls={Visible:Mr,HasFocusedSuggestion:new ht.uy("suggestWidgetHasFocusedSuggestion",!1,(0,_e.NC)("suggestWidgetHasSelection","Whether any suggestion is focused")),DetailsVisible:new ht.uy("suggestWidgetDetailsVisible",!1,(0,_e.NC)("suggestWidgetDetailsVisible","Whether suggestion details are visible")),MultipleSuggestions:new ht.uy("suggestWidgetMultipleSuggestions",!1,(0,_e.NC)("suggestWidgetMultipleSuggestions","Whether there are multiple suggestions to pick from")),MakesTextEdit:new ht.uy("suggestionMakesTextEdit",!0,(0,_e.NC)("suggestionMakesTextEdit","Whether inserting the current suggestion yields in a change or has everything already been typed")),AcceptSuggestionsOnEnter:new ht.uy("acceptSuggestionOnEnter",!0,(0,_e.NC)("acceptSuggestionOnEnter","Whether suggestions are inserted when pressing Enter")),HasInsertAndReplaceRange:new ht.uy("suggestionHasInsertAndReplaceRange",!1,(0,_e.NC)("suggestionHasInsertAndReplaceRange","Whether the current suggestion has insert and replace behaviour")),InsertMode:new ht.uy("suggestionInsertMode",void 0,{type:"string",description:(0,_e.NC)("suggestionInsertMode","Whether the default behaviour is to insert or replace")}),CanResolve:new ht.uy("suggestionCanResolve",!1,(0,_e.NC)("suggestionCanResolve","Whether the current suggestion supports to resolve further details"))},Cs=new Ve.eH("suggestWidgetStatusBar");class Ko{constructor(e,t,n,s){this.position=e,this.completion=t,this.container=n,this.provider=s,this.isInvalid=!1,this.score=Pi.CL.Default,this.distance=0,this.textLabel=typeof t.label=="string"?t.label:t.label.label,this.labelLow=this.textLabel.toLowerCase(),this.isInvalid=!this.textLabel,this.sortTextLow=t.sortText&&t.sortText.toLowerCase(),this.filterTextLow=t.filterText&&t.filterText.toLowerCase(),this.extensionId=t.extensionId,_t.e.isIRange(t.range)?(this.editStart=new ln.L(t.range.startLineNumber,t.range.startColumn),this.editInsertEnd=new ln.L(t.range.endLineNumber,t.range.endColumn),this.editReplaceEnd=new ln.L(t.range.endLineNumber,t.range.endColumn),this.isInvalid=this.isInvalid||_t.e.spansMultipleLines(t.range)||t.range.startLineNumber!==e.lineNumber):(this.editStart=new ln.L(t.range.insert.startLineNumber,t.range.insert.startColumn),this.editInsertEnd=new ln.L(t.range.insert.endLineNumber,t.range.insert.endColumn),this.editReplaceEnd=new ln.L(t.range.replace.endLineNumber,t.range.replace.endColumn),this.isInvalid=this.isInvalid||_t.e.spansMultipleLines(t.range.insert)||_t.e.spansMultipleLines(t.range.replace)||t.range.insert.startLineNumber!==e.lineNumber||t.range.replace.startLineNumber!==e.lineNumber||t.range.insert.startColumn!==t.range.replace.startColumn),typeof s.resolveCompletionItem!="function"&&(this._resolveCache=Promise.resolve(),this._isResolved=!0)}get isResolved(){return!!this._isResolved}resolve(e){return Oi(this,void 0,void 0,function*(){if(!this._resolveCache){const t=e.onCancellationRequested(()=>{this._resolveCache=void 0,this._isResolved=!1});this._resolveCache=Promise.resolve(this.provider.resolveCompletionItem(this.completion,e)).then(n=>{Object.assign(this.completion,n),this._isResolved=!0,t.dispose()},n=>{(0,Ei.n2)(n)&&(this._resolveCache=void 0,this._isResolved=!1)})}return this._resolveCache})}}class Rr{constructor(e=2,t=new Set,n=new Set,s=!0){this.snippetSortOrder=e,this.kindFilter=t,this.providerFilter=n,this.showDeprecated=s}}Rr.default=new Rr;let fr;function Il(){return fr}class ll{constructor(e,t,n,s){this.items=e,this.needsClipboard=t,this.durations=n,this.disposable=s}}function Er(p,e,t,n=Rr.default,s={triggerKind:0},o=ri.T.None){return Oi(this,void 0,void 0,function*(){const g=new _r.G(!0);t=t.clone();const w=e.getWordAtPosition(t),G=w?new _t.e(t.lineNumber,w.startColumn,t.lineNumber,w.endColumn):_t.e.fromPositions(t),J={replace:G,insert:G.setEndPosition(t.lineNumber,t.column)},Q=[],ue=new wt.SL,Ne=[];let st=!1;const mt=($t,Cn,Yn)=>{var ei,Ti,Ji;let to=!1;if(!Cn)return to;for(const Ls of Cn.suggestions)if(!n.kindFilter.has(Ls.kind)){if(!n.showDeprecated&&((ei=Ls==null?void 0:Ls.tags)===null||ei===void 0?void 0:ei.includes(1)))continue;Ls.range||(Ls.range=J),Ls.sortText||(Ls.sortText=typeof Ls.label=="string"?Ls.label:Ls.label.label),!st&&Ls.insertTextRules&&Ls.insertTextRules&4&&(st=Wo.guessNeedsClipboard(Ls.insertText)),Q.push(new Ko(t,Ls,Cn,$t)),to=!0}return(0,wt.Wf)(Cn)&&ue.add(Cn),Ne.push({providerName:(Ti=$t._debugDisplayName)!==null&&Ti!==void 0?Ti:"unknown_provider",elapsedProvider:(Ji=Cn.duration)!==null&&Ji!==void 0?Ji:-1,elapsedOverall:Yn.elapsed()}),to},bt=(()=>Oi(this,void 0,void 0,function*(){if(!fr||n.kindFilter.has(27)||n.providerFilter.size>0&&!n.providerFilter.has(fr))return;const $t=new _r.G(!0),Cn=yield fr.provideCompletionItems(e,t,s,o);mt(fr,Cn,$t)}))();for(const $t of p.orderedGroups(e)){let Cn=!1;if(yield Promise.all($t.map(Yn=>Oi(this,void 0,void 0,function*(){if(!(n.providerFilter.size>0&&!n.providerFilter.has(Yn)))try{const ei=new _r.G(!0),Ti=yield Yn.provideCompletionItems(e,t,s,o);Cn=mt(Yn,Ti,ei)||Cn}catch(ei){(0,Ei.Cp)(ei)}}))),Cn||o.isCancellationRequested)break}return yield bt,o.isCancellationRequested?(ue.dispose(),Promise.reject(new Ei.FU)):new ll(Q.sort($d(n.snippetSortOrder)),st,{entries:Ne,elapsed:g.elapsed()},ue)})}function Ca(p,e){if(p.sortTextLow&&e.sortTextLow){if(p.sortTextLow<e.sortTextLow)return-1;if(p.sortTextLow>e.sortTextLow)return 1}return p.textLabel<e.textLabel?-1:p.textLabel>e.textLabel?1:p.completion.kind-e.completion.kind}function aa(p,e){if(p.completion.kind!==e.completion.kind){if(p.completion.kind===27)return-1;if(e.completion.kind===27)return 1}return Ca(p,e)}function md(p,e){if(p.completion.kind!==e.completion.kind){if(p.completion.kind===27)return 1;if(e.completion.kind===27)return-1}return Ca(p,e)}const pd=new Map;pd.set(0,aa),pd.set(2,md),pd.set(1,Ca);function $d(p){return pd.get(p)}gi.P0.registerCommand("_executeCompletionItemProvider",(p,...e)=>Oi(void 0,void 0,void 0,function*(){const[t,n,s,o]=e;(0,Zi.p_)(Xi.o.isUri(t)),(0,Zi.p_)(ln.L.isIPosition(n)),(0,Zi.p_)(typeof s=="string"||!s),(0,Zi.p_)(typeof o=="number"||!o);const{completionProvider:g}=p.get(bi.p),w=yield p.get(Cr.S).createModelReference(t);try{const G={incomplete:!1,suggestions:[]},J=[],Q=yield Er(g,w.object.textEditorModel,ln.L.lift(n),void 0,{triggerCharacter:s,triggerKind:s?1:0});for(const ue of Q.items)J.length<(o!=null?o:0)&&J.push(ue.resolve(ri.T.None)),G.incomplete=G.incomplete||ue.container.incomplete,G.suggestions.push(ue.completion);try{return yield Promise.all(J),G}finally{setTimeout(()=>Q.disposable.dispose(),100)}}finally{w.dispose()}}));function Uc(p,e){var t;(t=p.getContribution("editor.contrib.suggestController"))===null||t===void 0||t.triggerSuggest(new Set().add(e),void 0,!0)}class $l{static isAllOff(e){return e.other==="off"&&e.comments==="off"&&e.strings==="off"}static isAllOn(e){return e.other==="on"&&e.comments==="on"&&e.strings==="on"}static valueFor(e,t){switch(t){case 1:return e.comments;case 2:return e.strings;default:return e.other}}}var Nl=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},cc=function(p,e){return function(t,n){e(t,n,p)}};const Pu=we.$;let dc=class k0 extends wt.JT{constructor(e,t,n){super(),this._editor=e,this._instantiationService=t,this._keybindingService=n,this._widget=this._register(this._instantiationService.createInstance(cl,this._editor)),this._isChangingDecorations=!1,this._messages=[],this._messagesAreComplete=!1,this._participants=[];for(const s of Ui.getAll())this._participants.push(this._instantiationService.createInstance(s,this._editor));this._participants.sort((s,o)=>s.hoverOrdinal-o.hoverOrdinal),this._computer=new _d(this._editor,this._participants),this._hoverOperation=this._register(new ti(this._editor,this._computer)),this._register(this._hoverOperation.onResult(s=>{this._withResult(s.value,s.isComplete,s.hasLoadingMessage)})),this._register(this._editor.onDidChangeModelDecorations(()=>{this._isChangingDecorations||this._onModelDecorationsChanged()})),this._register(we.mu(this._widget.getDomNode(),"keydown",s=>{s.equals(9)&&this.hide()})),this._register(un.RW.onDidChange(()=>{this._widget.position&&this._computer.anchor&&this._messages.length>0&&(this._widget.clear(),this._renderMessages(this._computer.anchor,this._messages))}))}_onModelDecorationsChanged(){this._widget.position&&(this._hoverOperation.cancel(),this._widget.isColorPickerVisible||this._hoverOperation.start(0))}maybeShowAt(e){const t=[];for(const s of this._participants)if(s.suggestHoverAnchor){const o=s.suggestHoverAnchor(e);o&&t.push(o)}const n=e.target;if(n.type===6&&t.push(new Ni(0,n.range)),n.type===7){const s=this._editor.getOption(46).typicalHalfwidthCharacterWidth/2;!n.detail.isAfterLines&&typeof n.detail.horizontalDistanceToText=="number"&&n.detail.horizontalDistanceToText<s&&t.push(new Ni(0,n.range))}return t.length===0?!1:(t.sort((s,o)=>o.priority-s.priority),this._startShowingAt(t[0],0,!1),!0)}startShowingAtRange(e,t,n){this._startShowingAt(new Ni(0,e),t,n)}_startShowingAt(e,t,n){if(!(this._computer.anchor&&this._computer.anchor.equals(e))){if(this._hoverOperation.cancel(),this._widget.position)if(!this._computer.anchor||!e.canAdoptVisibleHover(this._computer.anchor,this._widget.position))this.hide();else{const s=this._messages.filter(o=>o.isValidForHoverAnchor(e));if(s.length===0)this.hide();else{if(s.length===this._messages.length&&this._messagesAreComplete)return;this._renderMessages(e,s)}}this._computer.anchor=e,this._computer.shouldFocus=n,this._hoverOperation.start(t)}}hide(){this._computer.anchor=null,this._hoverOperation.cancel(),this._widget.hide()}isColorPickerVisible(){return this._widget.isColorPickerVisible}containsNode(e){return this._widget.getDomNode().contains(e)}_addLoadingMessage(e){if(this._computer.anchor){for(const t of this._participants)if(t.createLoadingMessage){const n=t.createLoadingMessage(this._computer.anchor);if(n)return e.slice(0).concat([n])}}return e}_withResult(e,t,n){this._messages=n?this._addLoadingMessage(e):e,this._messagesAreComplete=t,this._computer.anchor&&this._messages.length>0?this._renderMessages(this._computer.anchor,this._messages):t&&this.hide()}_renderMessages(e,t){const{showAtPosition:n,showAtRange:s,highlightRange:o}=k0.computeHoverRanges(e.range,t),g=new wt.SL,w=g.add(new Zd(this._keybindingService)),G=document.createDocumentFragment();let J=null;const Q={fragment:G,statusBar:w,setColorPicker:ue=>J=ue,onContentsChanged:()=>this._widget.onContentsChanged(),hide:()=>this.hide()};for(const ue of this._participants){const Ne=t.filter(st=>st.owner===ue);Ne.length>0&&g.add(ue.renderHoverParts(Q,Ne))}if(w.hasContent&&G.appendChild(w.hoverElement),G.hasChildNodes()){if(o){const ue=this._editor.createDecorationsCollection();try{this._isChangingDecorations=!0,ue.set([{range:o,options:k0._DECORATION_OPTIONS}])}finally{this._isChangingDecorations=!1}g.add((0,wt.OF)(()=>{try{this._isChangingDecorations=!0,ue.clear()}finally{this._isChangingDecorations=!1}}))}this._widget.showAt(G,new Gd(J,n,s,this._editor.getOption(55).above,this._computer.shouldFocus,g))}else g.dispose()}static computeHoverRanges(e,t){const n=e.startLineNumber;let s=e.startColumn,o=e.endColumn,g=t[0].range,w=null;for(const G of t)g=_t.e.plusRange(g,G.range),G.range.startLineNumber===n&&G.range.endLineNumber===n&&(s=Math.min(s,G.range.startColumn),o=Math.max(o,G.range.endColumn)),G.forceShowAtRange&&(w=G.range);return{showAtPosition:w?w.getStartPosition():new ln.L(e.startLineNumber,s),showAtRange:w||new _t.e(n,s,n,o),highlightRange:g}}};dc._DECORATION_OPTIONS=Xn.qx.register({description:"content-hover-highlight",className:"hoverHighlight"}),dc=Nl([cc(1,ki.TG),cc(2,ee.d)],dc);class Gd{constructor(e,t,n,s,o,g){this.colorPicker=e,this.showAtPosition=t,this.showAtRange=n,this.preferAbove=s,this.stoleFocus=o,this.disposables=g}}let cl=class ov extends wt.JT{constructor(e,t){super(),this._editor=e,this._contextKeyService=t,this.allowEditorOverflow=!0,this._hoverVisibleKey=vt.u.hoverVisible.bindTo(this._contextKeyService),this._hover=this._register(new fn),this._visibleData=null,this._register(this._editor.onDidLayoutChange(()=>this._layout())),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(46)&&this._updateFont()})),this._setVisibleData(null),this._layout(),this._editor.addContentWidget(this)}get position(){var e,t;return(t=(e=this._visibleData)===null||e===void 0?void 0:e.showAtPosition)!==null&&t!==void 0?t:null}get isColorPickerVisible(){var e;return Boolean((e=this._visibleData)===null||e===void 0?void 0:e.colorPicker)}dispose(){this._editor.removeContentWidget(this),this._visibleData&&this._visibleData.disposables.dispose(),super.dispose()}getId(){return ov.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){if(!this._visibleData)return null;let e=this._visibleData.preferAbove;return!e&&this._contextKeyService.getContextKeyValue(ls.Visible.key)&&(e=!0),{position:this._visibleData.showAtPosition,range:this._visibleData.showAtRange,preference:e?[1,2]:[2,1]}}_setVisibleData(e){this._visibleData&&this._visibleData.disposables.dispose(),this._visibleData=e,this._hoverVisibleKey.set(!!this._visibleData),this._hover.containerDomNode.classList.toggle("hidden",!this._visibleData)}_layout(){const e=Math.max(this._editor.getLayoutInfo().height/4,250),{fontSize:t,lineHeight:n}=this._editor.getOption(46);this._hover.contentsDomNode.style.fontSize=`${t}px`,this._hover.contentsDomNode.style.lineHeight=`${n/t}`,this._hover.contentsDomNode.style.maxHeight=`${e}px`,this._hover.contentsDomNode.style.maxWidth=`${Math.max(this._editor.getLayoutInfo().width*.66,500)}px`}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}showAt(e,t){this._setVisibleData(t),this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._hover.contentsDomNode.style.paddingBottom="",this._updateFont(),this.onContentsChanged(),this._editor.render(),this.onContentsChanged(),t.stoleFocus&&this._hover.containerDomNode.focus(),t.colorPicker&&t.colorPicker.layout()}hide(){if(this._visibleData){const e=this._visibleData.stoleFocus;this._setVisibleData(null),this._editor.layoutContentWidget(this),e&&this._editor.focus()}}onContentsChanged(){this._editor.layoutContentWidget(this),this._hover.onContentsChanged();const e=this._hover.scrollbar.getScrollDimensions();if(e.scrollWidth>e.width){const n=`${this._hover.scrollbar.options.horizontalScrollbarSize}px`;this._hover.contentsDomNode.style.paddingBottom!==n&&(this._hover.contentsDomNode.style.paddingBottom=n,this._editor.layoutContentWidget(this),this._hover.onContentsChanged())}}clear(){this._hover.contentsDomNode.textContent=""}};cl.ID="editor.contrib.contentHoverWidget",cl=Nl([cc(1,ht.i6)],cl);let Zd=class extends wt.JT{constructor(e){super(),this._keybindingService=e,this._hasContent=!1,this.hoverElement=Pu("div.hover-row.status-bar"),this.actionsElement=we.R3(this.hoverElement,Pu("div.actions"))}get hasContent(){return this._hasContent}addAction(e){const t=this._keybindingService.lookupKeybinding(e.commandId),n=t?t.getLabel():null;return this._hasContent=!0,this._register(Dn.render(this.actionsElement,e,n))}append(e){const t=we.R3(this.actionsElement,e);return this._hasContent=!0,t}};Zd=Nl([cc(0,ee.d)],Zd);class _d{constructor(e,t){this._editor=e,this._participants=t,this._anchor=null,this._shouldFocus=!1}get anchor(){return this._anchor}set anchor(e){this._anchor=e}get shouldFocus(){return this._shouldFocus}set shouldFocus(e){this._shouldFocus=e}static _getLineDecorations(e,t){if(t.type!==1)return[];const n=e.getModel(),s=t.range.startLineNumber;if(s>n.getLineCount())return[];const o=n.getLineMaxColumn(s);return e.getLineDecorations(s).filter(g=>{if(g.options.isWholeLine)return!0;const w=g.range.startLineNumber===s?g.range.startColumn:1,G=g.range.endLineNumber===s?g.range.endColumn:o;if(g.options.showIfCollapsed){if(w>t.range.startColumn+1||t.range.endColumn-1>G)return!1}else if(w>t.range.startColumn||t.range.endColumn>G)return!1;return!0})}computeAsync(e){const t=this._anchor;if(!this._editor.hasModel()||!t)return kt.Aq.EMPTY;const n=_d._getLineDecorations(this._editor,t);return kt.Aq.merge(this._participants.map(s=>s.computeAsync?s.computeAsync(t,n,e):kt.Aq.EMPTY))}computeSync(){if(!this._editor.hasModel()||!this._anchor)return[];const e=_d._getLineDecorations(this._editor,this._anchor);let t=[];for(const n of this._participants)t=t.concat(n.computeSync(this._anchor,e));return(0,$i.kX)(t)}}var jc=l(91929),ba=l(31545),Ou=l(2361),kh=l(78359),Yd=l(15392);let Fu={};(function(){function p(e,t){t(Fu)}p.amd=!0,function(e,t){typeof exports=="object"?t(exports):typeof p=="function"&&p.amd?p(["exports"],t):(e=typeof globalThis!="undefined"?globalThis:e||self,t(e.marked={}))}(this,function(e){"use strict";function t(Kn,Tn){for(var Pn=0;Pn<Tn.length;Pn++){var xt=Tn[Pn];xt.enumerable=xt.enumerable||!1,xt.configurable=!0,"value"in xt&&(xt.writable=!0),Object.defineProperty(Kn,xt.key,xt)}}function n(Kn,Tn,Pn){return Tn&&t(Kn.prototype,Tn),Pn&&t(Kn,Pn),Object.defineProperty(Kn,"prototype",{writable:!1}),Kn}function s(Kn,Tn){if(!!Kn){if(typeof Kn=="string")return o(Kn,Tn);var Pn=Object.prototype.toString.call(Kn).slice(8,-1);if(Pn==="Object"&&Kn.constructor&&(Pn=Kn.constructor.name),Pn==="Map"||Pn==="Set")return Array.from(Kn);if(Pn==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pn))return o(Kn,Tn)}}function o(Kn,Tn){(Tn==null||Tn>Kn.length)&&(Tn=Kn.length);for(var Pn=0,xt=new Array(Tn);Pn<Tn;Pn++)xt[Pn]=Kn[Pn];return xt}function g(Kn,Tn){var Pn=typeof Symbol!="undefined"&&Kn[Symbol.iterator]||Kn["@@iterator"];if(Pn)return(Pn=Pn.call(Kn)).next.bind(Pn);if(Array.isArray(Kn)||(Pn=s(Kn))||Tn&&Kn&&typeof Kn.length=="number"){Pn&&(Kn=Pn);var xt=0;return function(){return xt>=Kn.length?{done:!0}:{done:!1,value:Kn[xt++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(){return{baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartLists:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}e.defaults=w();function G(Kn){e.defaults=Kn}var J=/[&<>"']/,Q=/[&<>"']/g,ue=/[<>"']|&(?!#?\w+;)/,Ne=/[<>"']|&(?!#?\w+;)/g,st={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},mt=function(Tn){return st[Tn]};function bt(Kn,Tn){if(Tn){if(J.test(Kn))return Kn.replace(Q,mt)}else if(ue.test(Kn))return Kn.replace(Ne,mt);return Kn}var $t=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Cn(Kn){return Kn.replace($t,function(Tn,Pn){return Pn=Pn.toLowerCase(),Pn==="colon"?":":Pn.charAt(0)==="#"?Pn.charAt(1)==="x"?String.fromCharCode(parseInt(Pn.substring(2),16)):String.fromCharCode(+Pn.substring(1)):""})}var Yn=/(^|[^\[])\^/g;function ei(Kn,Tn){Kn=typeof Kn=="string"?Kn:Kn.source,Tn=Tn||"";var Pn={replace:function(Ft,cn){return cn=cn.source||cn,cn=cn.replace(Yn,"$1"),Kn=Kn.replace(Ft,cn),Pn},getRegex:function(){return new RegExp(Kn,Tn)}};return Pn}var Ti=/[^\w:]/g,Ji=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function to(Kn,Tn,Pn){if(Kn){var xt;try{xt=decodeURIComponent(Cn(Pn)).replace(Ti,"").toLowerCase()}catch(Ft){return null}if(xt.indexOf("javascript:")===0||xt.indexOf("vbscript:")===0||xt.indexOf("data:")===0)return null}Tn&&!Ji.test(Pn)&&(Pn=Sc(Tn,Pn));try{Pn=encodeURI(Pn).replace(/%25/g,"%")}catch(Ft){return null}return Pn}var Ls={},Ir=/^[^:]+:\/*[^/]*$/,Gr=/^([^:]+:)[\s\S]*$/,wa=/^([^:]+:\/*[^/]*)[\s\S]*$/;function Sc(Kn,Tn){Ls[" "+Kn]||(Ir.test(Kn)?Ls[" "+Kn]=Kn+"/":Ls[" "+Kn]=Su(Kn,"/",!0)),Kn=Ls[" "+Kn];var Pn=Kn.indexOf(":")===-1;return Tn.substring(0,2)==="//"?Pn?Tn:Kn.replace(Gr,"$1")+Tn:Tn.charAt(0)==="/"?Pn?Tn:Kn.replace(wa,"$1")+Tn:Kn+Tn}var wu={exec:function(){}};function Za(Kn){for(var Tn=1,Pn,xt;Tn<arguments.length;Tn++){Pn=arguments[Tn];for(xt in Pn)Object.prototype.hasOwnProperty.call(Pn,xt)&&(Kn[xt]=Pn[xt])}return Kn}function Bf(Kn,Tn){var Pn=Kn.replace(/\|/g,function(cn,Jt,Qn){for(var ui=!1,os=Jt;--os>=0&&Qn[os]==="\\";)ui=!ui;return ui?"|":" |"}),xt=Pn.split(/ \|/),Ft=0;if(xt[0].trim()||xt.shift(),xt.length>0&&!xt[xt.length-1].trim()&&xt.pop(),xt.length>Tn)xt.splice(Tn);else for(;xt.length<Tn;)xt.push("");for(;Ft<xt.length;Ft++)xt[Ft]=xt[Ft].trim().replace(/\\\|/g,"|");return xt}function Su(Kn,Tn,Pn){var xt=Kn.length;if(xt===0)return"";for(var Ft=0;Ft<xt;){var cn=Kn.charAt(xt-Ft-1);if(cn===Tn&&!Pn)Ft++;else if(cn!==Tn&&Pn)Ft++;else break}return Kn.slice(0,xt-Ft)}function pm(Kn,Tn){if(Kn.indexOf(Tn[1])===-1)return-1;for(var Pn=Kn.length,xt=0,Ft=0;Ft<Pn;Ft++)if(Kn[Ft]==="\\")Ft++;else if(Kn[Ft]===Tn[0])xt++;else if(Kn[Ft]===Tn[1]&&(xt--,xt<0))return Ft;return-1}function Wf(Kn){Kn&&Kn.sanitize&&!Kn.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Vf(Kn,Tn){if(Tn<1)return"";for(var Pn="";Tn>1;)Tn&1&&(Pn+=Kn),Tn>>=1,Kn+=Kn;return Pn+Kn}function H1(Kn,Tn,Pn,xt){var Ft=Tn.href,cn=Tn.title?bt(Tn.title):null,Jt=Kn[1].replace(/\\([\[\]])/g,"$1");if(Kn[0].charAt(0)!=="!"){xt.state.inLink=!0;var Qn={type:"link",raw:Pn,href:Ft,title:cn,text:Jt,tokens:xt.inlineTokens(Jt,[])};return xt.state.inLink=!1,Qn}return{type:"image",raw:Pn,href:Ft,title:cn,text:bt(Jt)}}function P2(Kn,Tn){var Pn=Kn.match(/^(\s+)(?:```)/);if(Pn===null)return Tn;var xt=Pn[1];return Tn.split(`
`).map(function(Ft){var cn=Ft.match(/^\s+/);if(cn===null)return Ft;var Jt=cn[0];return Jt.length>=xt.length?Ft.slice(xt.length):Ft}).join(`
`)}var _m=function(){function Kn(Pn){this.options=Pn||e.defaults}var Tn=Kn.prototype;return Tn.space=function(xt){var Ft=this.rules.block.newline.exec(xt);if(Ft&&Ft[0].length>0)return{type:"space",raw:Ft[0]}},Tn.code=function(xt){var Ft=this.rules.block.code.exec(xt);if(Ft){var cn=Ft[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:Ft[0],codeBlockStyle:"indented",text:this.options.pedantic?cn:Su(cn,`
`)}}},Tn.fences=function(xt){var Ft=this.rules.block.fences.exec(xt);if(Ft){var cn=Ft[0],Jt=P2(cn,Ft[3]||"");return{type:"code",raw:cn,lang:Ft[2]?Ft[2].trim():Ft[2],text:Jt}}},Tn.heading=function(xt){var Ft=this.rules.block.heading.exec(xt);if(Ft){var cn=Ft[2].trim();if(/#$/.test(cn)){var Jt=Su(cn,"#");(this.options.pedantic||!Jt||/ $/.test(Jt))&&(cn=Jt.trim())}var Qn={type:"heading",raw:Ft[0],depth:Ft[1].length,text:cn,tokens:[]};return this.lexer.inline(Qn.text,Qn.tokens),Qn}},Tn.hr=function(xt){var Ft=this.rules.block.hr.exec(xt);if(Ft)return{type:"hr",raw:Ft[0]}},Tn.blockquote=function(xt){var Ft=this.rules.block.blockquote.exec(xt);if(Ft){var cn=Ft[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:Ft[0],tokens:this.lexer.blockTokens(cn,[]),text:cn}}},Tn.list=function(xt){var Ft=this.rules.block.list.exec(xt);if(Ft){var cn,Jt,Qn,ui,os,Qi,Hs,Ms,Do,co,rs,Nr,$o=Ft[1].trim(),yc=$o.length>1,Xo={type:"list",raw:"",ordered:yc,start:yc?+$o.slice(0,-1):"",loose:!1,items:[]};$o=yc?"\\d{1,9}\\"+$o.slice(-1):"\\"+$o,this.options.pedantic&&($o=yc?$o:"[*+-]");for(var ca=new RegExp("^( {0,3}"+$o+")((?:[	 ][^\\n]*)?(?:\\n|$))");xt&&(Nr=!1,!(!(Ft=ca.exec(xt))||this.rules.block.hr.test(xt)));){if(cn=Ft[0],xt=xt.substring(cn.length),Ms=Ft[2].split(`
`,1)[0],Do=xt.split(`
`,1)[0],this.options.pedantic?(ui=2,rs=Ms.trimLeft()):(ui=Ft[2].search(/[^ ]/),ui=ui>4?1:ui,rs=Ms.slice(ui),ui+=Ft[1].length),Qi=!1,!Ms&&/^ *$/.test(Do)&&(cn+=Do+`
`,xt=xt.substring(Do.length+1),Nr=!0),!Nr)for(var Hf=new RegExp("^ {0,"+Math.min(3,ui-1)+"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))"),Cm=new RegExp("^ {0,"+Math.min(3,ui-1)+"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)");xt&&(co=xt.split(`
`,1)[0],Ms=co,this.options.pedantic&&(Ms=Ms.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(Hf.test(Ms)||Cm.test(xt)));){if(Ms.search(/[^ ]/)>=ui||!Ms.trim())rs+=`
`+Ms.slice(ui);else if(!Qi)rs+=`
`+Ms;else break;!Qi&&!Ms.trim()&&(Qi=!0),cn+=co+`
`,xt=xt.substring(co.length+1)}Xo.loose||(Hs?Xo.loose=!0:/\n *\n *$/.test(cn)&&(Hs=!0)),this.options.gfm&&(Jt=/^\[[ xX]\] /.exec(rs),Jt&&(Qn=Jt[0]!=="[ ] ",rs=rs.replace(/^\[[ xX]\] +/,""))),Xo.items.push({type:"list_item",raw:cn,task:!!Jt,checked:Qn,loose:!1,text:rs}),Xo.raw+=cn}Xo.items[Xo.items.length-1].raw=cn.trimRight(),Xo.items[Xo.items.length-1].text=rs.trimRight(),Xo.raw=Xo.raw.trimRight();var Eu=Xo.items.length;for(os=0;os<Eu;os++){this.lexer.state.top=!1,Xo.items[os].tokens=this.lexer.blockTokens(Xo.items[os].text,[]);var Eh=Xo.items[os].tokens.filter(function(Dh){return Dh.type==="space"}),bm=Eh.every(function(Dh){for(var K2=Dh.raw.split(""),U1=0,$2=g(K2),j1;!(j1=$2()).done;){var G2=j1.value;if(G2===`
`&&(U1+=1),U1>1)return!0}return!1});!Xo.loose&&Eh.length&&bm&&(Xo.loose=!0,Xo.items[os].loose=!0)}return Xo}},Tn.html=function(xt){var Ft=this.rules.block.html.exec(xt);if(Ft){var cn={type:"html",raw:Ft[0],pre:!this.options.sanitizer&&(Ft[1]==="pre"||Ft[1]==="script"||Ft[1]==="style"),text:Ft[0]};return this.options.sanitize&&(cn.type="paragraph",cn.text=this.options.sanitizer?this.options.sanitizer(Ft[0]):bt(Ft[0]),cn.tokens=[],this.lexer.inline(cn.text,cn.tokens)),cn}},Tn.def=function(xt){var Ft=this.rules.block.def.exec(xt);if(Ft){Ft[3]&&(Ft[3]=Ft[3].substring(1,Ft[3].length-1));var cn=Ft[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:cn,raw:Ft[0],href:Ft[2],title:Ft[3]}}},Tn.table=function(xt){var Ft=this.rules.block.table.exec(xt);if(Ft){var cn={type:"table",header:Bf(Ft[1]).map(function(Hs){return{text:Hs}}),align:Ft[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:Ft[3]&&Ft[3].trim()?Ft[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(cn.header.length===cn.align.length){cn.raw=Ft[0];var Jt=cn.align.length,Qn,ui,os,Qi;for(Qn=0;Qn<Jt;Qn++)/^ *-+: *$/.test(cn.align[Qn])?cn.align[Qn]="right":/^ *:-+: *$/.test(cn.align[Qn])?cn.align[Qn]="center":/^ *:-+ *$/.test(cn.align[Qn])?cn.align[Qn]="left":cn.align[Qn]=null;for(Jt=cn.rows.length,Qn=0;Qn<Jt;Qn++)cn.rows[Qn]=Bf(cn.rows[Qn],cn.header.length).map(function(Hs){return{text:Hs}});for(Jt=cn.header.length,ui=0;ui<Jt;ui++)cn.header[ui].tokens=[],this.lexer.inline(cn.header[ui].text,cn.header[ui].tokens);for(Jt=cn.rows.length,ui=0;ui<Jt;ui++)for(Qi=cn.rows[ui],os=0;os<Qi.length;os++)Qi[os].tokens=[],this.lexer.inline(Qi[os].text,Qi[os].tokens);return cn}}},Tn.lheading=function(xt){var Ft=this.rules.block.lheading.exec(xt);if(Ft){var cn={type:"heading",raw:Ft[0],depth:Ft[2].charAt(0)==="="?1:2,text:Ft[1],tokens:[]};return this.lexer.inline(cn.text,cn.tokens),cn}},Tn.paragraph=function(xt){var Ft=this.rules.block.paragraph.exec(xt);if(Ft){var cn={type:"paragraph",raw:Ft[0],text:Ft[1].charAt(Ft[1].length-1)===`
`?Ft[1].slice(0,-1):Ft[1],tokens:[]};return this.lexer.inline(cn.text,cn.tokens),cn}},Tn.text=function(xt){var Ft=this.rules.block.text.exec(xt);if(Ft){var cn={type:"text",raw:Ft[0],text:Ft[0],tokens:[]};return this.lexer.inline(cn.text,cn.tokens),cn}},Tn.escape=function(xt){var Ft=this.rules.inline.escape.exec(xt);if(Ft)return{type:"escape",raw:Ft[0],text:bt(Ft[1])}},Tn.tag=function(xt){var Ft=this.rules.inline.tag.exec(xt);if(Ft)return!this.lexer.state.inLink&&/^<a /i.test(Ft[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(Ft[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(Ft[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(Ft[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:Ft[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(Ft[0]):bt(Ft[0]):Ft[0]}},Tn.link=function(xt){var Ft=this.rules.inline.link.exec(xt);if(Ft){var cn=Ft[2].trim();if(!this.options.pedantic&&/^</.test(cn)){if(!/>$/.test(cn))return;var Jt=Su(cn.slice(0,-1),"\\");if((cn.length-Jt.length)%2===0)return}else{var Qn=pm(Ft[2],"()");if(Qn>-1){var ui=Ft[0].indexOf("!")===0?5:4,os=ui+Ft[1].length+Qn;Ft[2]=Ft[2].substring(0,Qn),Ft[0]=Ft[0].substring(0,os).trim(),Ft[3]=""}}var Qi=Ft[2],Hs="";if(this.options.pedantic){var Ms=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(Qi);Ms&&(Qi=Ms[1],Hs=Ms[3])}else Hs=Ft[3]?Ft[3].slice(1,-1):"";return Qi=Qi.trim(),/^</.test(Qi)&&(this.options.pedantic&&!/>$/.test(cn)?Qi=Qi.slice(1):Qi=Qi.slice(1,-1)),H1(Ft,{href:Qi&&Qi.replace(this.rules.inline._escapes,"$1"),title:Hs&&Hs.replace(this.rules.inline._escapes,"$1")},Ft[0],this.lexer)}},Tn.reflink=function(xt,Ft){var cn;if((cn=this.rules.inline.reflink.exec(xt))||(cn=this.rules.inline.nolink.exec(xt))){var Jt=(cn[2]||cn[1]).replace(/\s+/g," ");if(Jt=Ft[Jt.toLowerCase()],!Jt||!Jt.href){var Qn=cn[0].charAt(0);return{type:"text",raw:Qn,text:Qn}}return H1(cn,Jt,cn[0],this.lexer)}},Tn.emStrong=function(xt,Ft,cn){cn===void 0&&(cn="");var Jt=this.rules.inline.emStrong.lDelim.exec(xt);if(!!Jt&&!(Jt[3]&&cn.match(/(?:[0-9A-Za-z\xAA\xB2\xB3\xB5\xB9\xBA\xBC-\xBE\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u0660-\u0669\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07C0-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0966-\u096F\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09E6-\u09F1\u09F4-\u09F9\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A66-\u0A6F\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AE6-\u0AEF\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B66-\u0B6F\u0B71-\u0B77\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0BE6-\u0BF2\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C66-\u0C6F\u0C78-\u0C7E\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CE6-\u0CEF\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D58-\u0D61\u0D66-\u0D78\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0DE6-\u0DEF\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E50-\u0E59\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0ED0-\u0ED9\u0EDC-\u0EDF\u0F00\u0F20-\u0F33\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F-\u1049\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u1090-\u1099\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1369-\u137C\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u17E0-\u17E9\u17F0-\u17F9\u1810-\u1819\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1946-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u19D0-\u19DA\u1A00-\u1A16\u1A20-\u1A54\u1A80-\u1A89\u1A90-\u1A99\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B50-\u1B59\u1B83-\u1BA0\u1BAE-\u1BE5\u1C00-\u1C23\u1C40-\u1C49\u1C4D-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2070\u2071\u2074-\u2079\u207F-\u2089\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2150-\u2189\u2460-\u249B\u24EA-\u24FF\u2776-\u2793\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2CFD\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u3192-\u3195\u31A0-\u31BF\u31F0-\u31FF\u3220-\u3229\u3248-\u324F\u3251-\u325F\u3280-\u3289\u32B1-\u32BF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA830-\uA835\uA840-\uA873\uA882-\uA8B3\uA8D0-\uA8D9\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA900-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF-\uA9D9\uA9E0-\uA9E4\uA9E6-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA50-\uAA59\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uABF0-\uABF9\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF10-\uFF19\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDD07-\uDD33\uDD40-\uDD78\uDD8A\uDD8B\uDE80-\uDE9C\uDEA0-\uDED0\uDEE1-\uDEFB\uDF00-\uDF23\uDF2D-\uDF4A\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF\uDFD1-\uDFD5]|\uD801[\uDC00-\uDC9D\uDCA0-\uDCA9\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC58-\uDC76\uDC79-\uDC9E\uDCA7-\uDCAF\uDCE0-\uDCF2\uDCF4\uDCF5\uDCFB-\uDD1B\uDD20-\uDD39\uDD80-\uDDB7\uDDBC-\uDDCF\uDDD2-\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE40-\uDE48\uDE60-\uDE7E\uDE80-\uDE9F\uDEC0-\uDEC7\uDEC9-\uDEE4\uDEEB-\uDEEF\uDF00-\uDF35\uDF40-\uDF55\uDF58-\uDF72\uDF78-\uDF91\uDFA9-\uDFAF]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDCFA-\uDD23\uDD30-\uDD39\uDE60-\uDE7E\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF27\uDF30-\uDF45\uDF51-\uDF54\uDF70-\uDF81\uDFB0-\uDFCB\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC52-\uDC6F\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDCF0-\uDCF9\uDD03-\uDD26\uDD36-\uDD3F\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDD0-\uDDDA\uDDDC\uDDE1-\uDDF4\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDEF0-\uDEF9\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC50-\uDC59\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDCD0-\uDCD9\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE50-\uDE59\uDE80-\uDEAA\uDEB8\uDEC0-\uDEC9\uDF00-\uDF1A\uDF30-\uDF3B\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCF2\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDD50-\uDD59\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC50-\uDC6C\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD50-\uDD59\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDDA0-\uDDA9\uDEE0-\uDEF2\uDFB0\uDFC0-\uDFD4]|\uD808[\uDC00-\uDF99]|\uD809[\uDC00-\uDC6E\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE60-\uDE69\uDE70-\uDEBE\uDEC0-\uDEC9\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF50-\uDF59\uDF5B-\uDF61\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE96\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD834[\uDEE0-\uDEF3\uDF60-\uDF78]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB\uDFCE-\uDFFF]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD40-\uDD49\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB\uDEF0-\uDEF9]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDCC7-\uDCCF\uDD00-\uDD43\uDD4B\uDD50-\uDD59]|\uD83B[\uDC71-\uDCAB\uDCAD-\uDCAF\uDCB1-\uDCB4\uDD01-\uDD2D\uDD2F-\uDD3D\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD83C[\uDD00-\uDD0C]|\uD83E[\uDFF0-\uDFF9]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/))){var Qn=Jt[1]||Jt[2]||"";if(!Qn||Qn&&(cn===""||this.rules.inline.punctuation.exec(cn))){var ui=Jt[0].length-1,os,Qi,Hs=ui,Ms=0,Do=Jt[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(Do.lastIndex=0,Ft=Ft.slice(-1*xt.length+ui);(Jt=Do.exec(Ft))!=null;)if(os=Jt[1]||Jt[2]||Jt[3]||Jt[4]||Jt[5]||Jt[6],!!os){if(Qi=os.length,Jt[3]||Jt[4]){Hs+=Qi;continue}else if((Jt[5]||Jt[6])&&ui%3&&!((ui+Qi)%3)){Ms+=Qi;continue}if(Hs-=Qi,!(Hs>0)){if(Qi=Math.min(Qi,Qi+Hs+Ms),Math.min(ui,Qi)%2){var co=xt.slice(1,ui+Jt.index+Qi);return{type:"em",raw:xt.slice(0,ui+Jt.index+Qi+1),text:co,tokens:this.lexer.inlineTokens(co,[])}}var rs=xt.slice(2,ui+Jt.index+Qi-1);return{type:"strong",raw:xt.slice(0,ui+Jt.index+Qi+1),text:rs,tokens:this.lexer.inlineTokens(rs,[])}}}}}},Tn.codespan=function(xt){var Ft=this.rules.inline.code.exec(xt);if(Ft){var cn=Ft[2].replace(/\n/g," "),Jt=/[^ ]/.test(cn),Qn=/^ /.test(cn)&&/ $/.test(cn);return Jt&&Qn&&(cn=cn.substring(1,cn.length-1)),cn=bt(cn,!0),{type:"codespan",raw:Ft[0],text:cn}}},Tn.br=function(xt){var Ft=this.rules.inline.br.exec(xt);if(Ft)return{type:"br",raw:Ft[0]}},Tn.del=function(xt){var Ft=this.rules.inline.del.exec(xt);if(Ft)return{type:"del",raw:Ft[0],text:Ft[2],tokens:this.lexer.inlineTokens(Ft[2],[])}},Tn.autolink=function(xt,Ft){var cn=this.rules.inline.autolink.exec(xt);if(cn){var Jt,Qn;return cn[2]==="@"?(Jt=bt(this.options.mangle?Ft(cn[1]):cn[1]),Qn="mailto:"+Jt):(Jt=bt(cn[1]),Qn=Jt),{type:"link",raw:cn[0],text:Jt,href:Qn,tokens:[{type:"text",raw:Jt,text:Jt}]}}},Tn.url=function(xt,Ft){var cn;if(cn=this.rules.inline.url.exec(xt)){var Jt,Qn;if(cn[2]==="@")Jt=bt(this.options.mangle?Ft(cn[0]):cn[0]),Qn="mailto:"+Jt;else{var ui;do ui=cn[0],cn[0]=this.rules.inline._backpedal.exec(cn[0])[0];while(ui!==cn[0]);Jt=bt(cn[0]),cn[1]==="www."?Qn="http://"+Jt:Qn=Jt}return{type:"link",raw:cn[0],text:Jt,href:Qn,tokens:[{type:"text",raw:Jt,text:Jt}]}}},Tn.inlineText=function(xt,Ft){var cn=this.rules.inline.text.exec(xt);if(cn){var Jt;return this.lexer.state.inRawBlock?Jt=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(cn[0]):bt(cn[0]):cn[0]:Jt=bt(this.options.smartypants?Ft(cn[0]):cn[0]),{type:"text",raw:cn[0],text:Jt}}},Kn}(),xs={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:wu,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};xs._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,xs._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,xs.def=ei(xs.def).replace("label",xs._label).replace("title",xs._title).getRegex(),xs.bullet=/(?:[*+-]|\d{1,9}[.)])/,xs.listItemStart=ei(/^( *)(bull) */).replace("bull",xs.bullet).getRegex(),xs.list=ei(xs.list).replace(/bull/g,xs.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+xs.def.source+")").getRegex(),xs._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",xs._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,xs.html=ei(xs.html,"i").replace("comment",xs._comment).replace("tag",xs._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),xs.paragraph=ei(xs._paragraph).replace("hr",xs.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xs._tag).getRegex(),xs.blockquote=ei(xs.blockquote).replace("paragraph",xs.paragraph).getRegex(),xs.normal=Za({},xs),xs.gfm=Za({},xs.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),xs.gfm.table=ei(xs.gfm.table).replace("hr",xs.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xs._tag).getRegex(),xs.gfm.paragraph=ei(xs._paragraph).replace("hr",xs.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",xs.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",xs._tag).getRegex(),xs.pedantic=Za({},xs.normal,{html:ei(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",xs._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:wu,paragraph:ei(xs.normal._paragraph).replace("hr",xs.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",xs.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});var ss={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:wu,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:wu,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ss._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ss.punctuation=ei(ss.punctuation).replace(/punctuation/g,ss._punctuation).getRegex(),ss.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ss.escapedEmSt=/\\\*|\\_/g,ss._comment=ei(xs._comment).replace("(?:-->|$)","-->").getRegex(),ss.emStrong.lDelim=ei(ss.emStrong.lDelim).replace(/punct/g,ss._punctuation).getRegex(),ss.emStrong.rDelimAst=ei(ss.emStrong.rDelimAst,"g").replace(/punct/g,ss._punctuation).getRegex(),ss.emStrong.rDelimUnd=ei(ss.emStrong.rDelimUnd,"g").replace(/punct/g,ss._punctuation).getRegex(),ss._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ss._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ss._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ss.autolink=ei(ss.autolink).replace("scheme",ss._scheme).replace("email",ss._email).getRegex(),ss._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ss.tag=ei(ss.tag).replace("comment",ss._comment).replace("attribute",ss._attribute).getRegex(),ss._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ss._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ss._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ss.link=ei(ss.link).replace("label",ss._label).replace("href",ss._href).replace("title",ss._title).getRegex(),ss.reflink=ei(ss.reflink).replace("label",ss._label).replace("ref",xs._label).getRegex(),ss.nolink=ei(ss.nolink).replace("ref",xs._label).getRegex(),ss.reflinkSearch=ei(ss.reflinkSearch,"g").replace("reflink",ss.reflink).replace("nolink",ss.nolink).getRegex(),ss.normal=Za({},ss),ss.pedantic=Za({},ss.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ei(/^!?\[(label)\]\((.*?)\)/).replace("label",ss._label).getRegex(),reflink:ei(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ss._label).getRegex()}),ss.gfm=Za({},ss.normal,{escape:ei(ss.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ss.gfm.url=ei(ss.gfm.url,"i").replace("email",ss.gfm._extended_email).getRegex(),ss.breaks=Za({},ss.gfm,{br:ei(ss.br).replace("{2,}","*").getRegex(),text:ei(ss.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function O2(Kn){return Kn.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function z1(Kn){var Tn="",Pn,xt,Ft=Kn.length;for(Pn=0;Pn<Ft;Pn++)xt=Kn.charCodeAt(Pn),Math.random()>.5&&(xt="x"+xt.toString(16)),Tn+="&#"+xt+";";return Tn}var yu=function(){function Kn(Pn){this.tokens=[],this.tokens.links=Object.create(null),this.options=Pn||e.defaults,this.options.tokenizer=this.options.tokenizer||new _m,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};var xt={block:xs.normal,inline:ss.normal};this.options.pedantic?(xt.block=xs.pedantic,xt.inline=ss.pedantic):this.options.gfm&&(xt.block=xs.gfm,this.options.breaks?xt.inline=ss.breaks:xt.inline=ss.gfm),this.tokenizer.rules=xt}Kn.lex=function(xt,Ft){var cn=new Kn(Ft);return cn.lex(xt)},Kn.lexInline=function(xt,Ft){var cn=new Kn(Ft);return cn.inlineTokens(xt)};var Tn=Kn.prototype;return Tn.lex=function(xt){xt=xt.replace(/\r\n|\r/g,`
`),this.blockTokens(xt,this.tokens);for(var Ft;Ft=this.inlineQueue.shift();)this.inlineTokens(Ft.src,Ft.tokens);return this.tokens},Tn.blockTokens=function(xt,Ft){var cn=this;Ft===void 0&&(Ft=[]),this.options.pedantic?xt=xt.replace(/\t/g,"    ").replace(/^ +$/gm,""):xt=xt.replace(/^( *)(\t+)/gm,function(Hs,Ms,Do){return Ms+"    ".repeat(Do.length)});for(var Jt,Qn,ui,os;xt;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(function(Hs){return(Jt=Hs.call({lexer:cn},xt,Ft))?(xt=xt.substring(Jt.raw.length),Ft.push(Jt),!0):!1}))){if(Jt=this.tokenizer.space(xt)){xt=xt.substring(Jt.raw.length),Jt.raw.length===1&&Ft.length>0?Ft[Ft.length-1].raw+=`
`:Ft.push(Jt);continue}if(Jt=this.tokenizer.code(xt)){xt=xt.substring(Jt.raw.length),Qn=Ft[Ft.length-1],Qn&&(Qn.type==="paragraph"||Qn.type==="text")?(Qn.raw+=`
`+Jt.raw,Qn.text+=`
`+Jt.text,this.inlineQueue[this.inlineQueue.length-1].src=Qn.text):Ft.push(Jt);continue}if(Jt=this.tokenizer.fences(xt)){xt=xt.substring(Jt.raw.length),Ft.push(Jt);continue}if(Jt=this.tokenizer.heading(xt)){xt=xt.substring(Jt.raw.length),Ft.push(Jt);continue}if(Jt=this.tokenizer.hr(xt)){xt=xt.substring(Jt.raw.length),Ft.push(Jt);continue}if(Jt=this.tokenizer.blockquote(xt)){xt=xt.substring(Jt.raw.length),Ft.push(Jt);continue}if(Jt=this.tokenizer.list(xt)){xt=xt.substring(Jt.raw.length),Ft.push(Jt);continue}if(Jt=this.tokenizer.html(xt)){xt=xt.substring(Jt.raw.length),Ft.push(Jt);continue}if(Jt=this.tokenizer.def(xt)){xt=xt.substring(Jt.raw.length),Qn=Ft[Ft.length-1],Qn&&(Qn.type==="paragraph"||Qn.type==="text")?(Qn.raw+=`
`+Jt.raw,Qn.text+=`
`+Jt.raw,this.inlineQueue[this.inlineQueue.length-1].src=Qn.text):this.tokens.links[Jt.tag]||(this.tokens.links[Jt.tag]={href:Jt.href,title:Jt.title});continue}if(Jt=this.tokenizer.table(xt)){xt=xt.substring(Jt.raw.length),Ft.push(Jt);continue}if(Jt=this.tokenizer.lheading(xt)){xt=xt.substring(Jt.raw.length),Ft.push(Jt);continue}if(ui=xt,this.options.extensions&&this.options.extensions.startBlock&&function(){var Hs=1/0,Ms=xt.slice(1),Do=void 0;cn.options.extensions.startBlock.forEach(function(co){Do=co.call({lexer:this},Ms),typeof Do=="number"&&Do>=0&&(Hs=Math.min(Hs,Do))}),Hs<1/0&&Hs>=0&&(ui=xt.substring(0,Hs+1))}(),this.state.top&&(Jt=this.tokenizer.paragraph(ui))){Qn=Ft[Ft.length-1],os&&Qn.type==="paragraph"?(Qn.raw+=`
`+Jt.raw,Qn.text+=`
`+Jt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Qn.text):Ft.push(Jt),os=ui.length!==xt.length,xt=xt.substring(Jt.raw.length);continue}if(Jt=this.tokenizer.text(xt)){xt=xt.substring(Jt.raw.length),Qn=Ft[Ft.length-1],Qn&&Qn.type==="text"?(Qn.raw+=`
`+Jt.raw,Qn.text+=`
`+Jt.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=Qn.text):Ft.push(Jt);continue}if(xt){var Qi="Infinite loop on byte: "+xt.charCodeAt(0);if(this.options.silent){console.error(Qi);break}else throw new Error(Qi)}}return this.state.top=!0,Ft},Tn.inline=function(xt,Ft){this.inlineQueue.push({src:xt,tokens:Ft})},Tn.inlineTokens=function(xt,Ft){var cn=this;Ft===void 0&&(Ft=[]);var Jt,Qn,ui,os=xt,Qi,Hs,Ms;if(this.tokens.links){var Do=Object.keys(this.tokens.links);if(Do.length>0)for(;(Qi=this.tokenizer.rules.inline.reflinkSearch.exec(os))!=null;)Do.includes(Qi[0].slice(Qi[0].lastIndexOf("[")+1,-1))&&(os=os.slice(0,Qi.index)+"["+Vf("a",Qi[0].length-2)+"]"+os.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Qi=this.tokenizer.rules.inline.blockSkip.exec(os))!=null;)os=os.slice(0,Qi.index)+"["+Vf("a",Qi[0].length-2)+"]"+os.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Qi=this.tokenizer.rules.inline.escapedEmSt.exec(os))!=null;)os=os.slice(0,Qi.index)+"++"+os.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;xt;)if(Hs||(Ms=""),Hs=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(function(rs){return(Jt=rs.call({lexer:cn},xt,Ft))?(xt=xt.substring(Jt.raw.length),Ft.push(Jt),!0):!1}))){if(Jt=this.tokenizer.escape(xt)){xt=xt.substring(Jt.raw.length),Ft.push(Jt);continue}if(Jt=this.tokenizer.tag(xt)){xt=xt.substring(Jt.raw.length),Qn=Ft[Ft.length-1],Qn&&Jt.type==="text"&&Qn.type==="text"?(Qn.raw+=Jt.raw,Qn.text+=Jt.text):Ft.push(Jt);continue}if(Jt=this.tokenizer.link(xt)){xt=xt.substring(Jt.raw.length),Ft.push(Jt);continue}if(Jt=this.tokenizer.reflink(xt,this.tokens.links)){xt=xt.substring(Jt.raw.length),Qn=Ft[Ft.length-1],Qn&&Jt.type==="text"&&Qn.type==="text"?(Qn.raw+=Jt.raw,Qn.text+=Jt.text):Ft.push(Jt);continue}if(Jt=this.tokenizer.emStrong(xt,os,Ms)){xt=xt.substring(Jt.raw.length),Ft.push(Jt);continue}if(Jt=this.tokenizer.codespan(xt)){xt=xt.substring(Jt.raw.length),Ft.push(Jt);continue}if(Jt=this.tokenizer.br(xt)){xt=xt.substring(Jt.raw.length),Ft.push(Jt);continue}if(Jt=this.tokenizer.del(xt)){xt=xt.substring(Jt.raw.length),Ft.push(Jt);continue}if(Jt=this.tokenizer.autolink(xt,z1)){xt=xt.substring(Jt.raw.length),Ft.push(Jt);continue}if(!this.state.inLink&&(Jt=this.tokenizer.url(xt,z1))){xt=xt.substring(Jt.raw.length),Ft.push(Jt);continue}if(ui=xt,this.options.extensions&&this.options.extensions.startInline&&function(){var rs=1/0,Nr=xt.slice(1),$o=void 0;cn.options.extensions.startInline.forEach(function(yc){$o=yc.call({lexer:this},Nr),typeof $o=="number"&&$o>=0&&(rs=Math.min(rs,$o))}),rs<1/0&&rs>=0&&(ui=xt.substring(0,rs+1))}(),Jt=this.tokenizer.inlineText(ui,O2)){xt=xt.substring(Jt.raw.length),Jt.raw.slice(-1)!=="_"&&(Ms=Jt.raw.slice(-1)),Hs=!0,Qn=Ft[Ft.length-1],Qn&&Qn.type==="text"?(Qn.raw+=Jt.raw,Qn.text+=Jt.text):Ft.push(Jt);continue}if(xt){var co="Infinite loop on byte: "+xt.charCodeAt(0);if(this.options.silent){console.error(co);break}else throw new Error(co)}}return Ft},n(Kn,null,[{key:"rules",get:function(){return{block:xs,inline:ss}}}]),Kn}(),vm=function(){function Kn(Pn){this.options=Pn||e.defaults}var Tn=Kn.prototype;return Tn.code=function(xt,Ft,cn){var Jt=(Ft||"").match(/\S*/)[0];if(this.options.highlight){var Qn=this.options.highlight(xt,Jt);Qn!=null&&Qn!==xt&&(cn=!0,xt=Qn)}return xt=xt.replace(/\n$/,"")+`
`,Jt?'<pre><code class="'+this.options.langPrefix+bt(Jt,!0)+'">'+(cn?xt:bt(xt,!0))+`</code></pre>
`:"<pre><code>"+(cn?xt:bt(xt,!0))+`</code></pre>
`},Tn.blockquote=function(xt){return`<blockquote>
`+xt+`</blockquote>
`},Tn.html=function(xt){return xt},Tn.heading=function(xt,Ft,cn,Jt){if(this.options.headerIds){var Qn=this.options.headerPrefix+Jt.slug(cn);return"<h"+Ft+' id="'+Qn+'">'+xt+"</h"+Ft+`>
`}return"<h"+Ft+">"+xt+"</h"+Ft+`>
`},Tn.hr=function(){return this.options.xhtml?`<hr/>
`:`<hr>
`},Tn.list=function(xt,Ft,cn){var Jt=Ft?"ol":"ul",Qn=Ft&&cn!==1?' start="'+cn+'"':"";return"<"+Jt+Qn+`>
`+xt+"</"+Jt+`>
`},Tn.listitem=function(xt){return"<li>"+xt+`</li>
`},Tn.checkbox=function(xt){return"<input "+(xt?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "},Tn.paragraph=function(xt){return"<p>"+xt+`</p>
`},Tn.table=function(xt,Ft){return Ft&&(Ft="<tbody>"+Ft+"</tbody>"),`<table>
<thead>
`+xt+`</thead>
`+Ft+`</table>
`},Tn.tablerow=function(xt){return`<tr>
`+xt+`</tr>
`},Tn.tablecell=function(xt,Ft){var cn=Ft.header?"th":"td",Jt=Ft.align?"<"+cn+' align="'+Ft.align+'">':"<"+cn+">";return Jt+xt+("</"+cn+`>
`)},Tn.strong=function(xt){return"<strong>"+xt+"</strong>"},Tn.em=function(xt){return"<em>"+xt+"</em>"},Tn.codespan=function(xt){return"<code>"+xt+"</code>"},Tn.br=function(){return this.options.xhtml?"<br/>":"<br>"},Tn.del=function(xt){return"<del>"+xt+"</del>"},Tn.link=function(xt,Ft,cn){if(xt=to(this.options.sanitize,this.options.baseUrl,xt),xt===null)return cn;var Jt='<a href="'+bt(xt)+'"';return Ft&&(Jt+=' title="'+Ft+'"'),Jt+=">"+cn+"</a>",Jt},Tn.image=function(xt,Ft,cn){if(xt=to(this.options.sanitize,this.options.baseUrl,xt),xt===null)return cn;var Jt='<img src="'+xt+'" alt="'+cn+'"';return Ft&&(Jt+=' title="'+Ft+'"'),Jt+=this.options.xhtml?"/>":">",Jt},Tn.text=function(xt){return xt},Kn}(),w0=function(){function Kn(){}var Tn=Kn.prototype;return Tn.strong=function(xt){return xt},Tn.em=function(xt){return xt},Tn.codespan=function(xt){return xt},Tn.del=function(xt){return xt},Tn.html=function(xt){return xt},Tn.text=function(xt){return xt},Tn.link=function(xt,Ft,cn){return""+cn},Tn.image=function(xt,Ft,cn){return""+cn},Tn.br=function(){return""},Kn}(),S0=function(){function Kn(){this.seen={}}var Tn=Kn.prototype;return Tn.serialize=function(xt){return xt.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")},Tn.getNextSafeSlug=function(xt,Ft){var cn=xt,Jt=0;if(this.seen.hasOwnProperty(cn)){Jt=this.seen[xt];do Jt++,cn=xt+"-"+Jt;while(this.seen.hasOwnProperty(cn))}return Ft||(this.seen[xt]=Jt,this.seen[cn]=0),cn},Tn.slug=function(xt,Ft){Ft===void 0&&(Ft={});var cn=this.serialize(xt);return this.getNextSafeSlug(cn,Ft.dryrun)},Kn}(),Lu=function(){function Kn(Pn){this.options=Pn||e.defaults,this.options.renderer=this.options.renderer||new vm,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new w0,this.slugger=new S0}Kn.parse=function(xt,Ft){var cn=new Kn(Ft);return cn.parse(xt)},Kn.parseInline=function(xt,Ft){var cn=new Kn(Ft);return cn.parseInline(xt)};var Tn=Kn.prototype;return Tn.parse=function(xt,Ft){Ft===void 0&&(Ft=!0);var cn="",Jt,Qn,ui,os,Qi,Hs,Ms,Do,co,rs,Nr,$o,yc,Xo,ca,Hf,Cm,Eu,Eh,bm=xt.length;for(Jt=0;Jt<bm;Jt++){if(rs=xt[Jt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[rs.type]&&(Eh=this.options.extensions.renderers[rs.type].call({parser:this},rs),Eh!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(rs.type))){cn+=Eh||"";continue}switch(rs.type){case"space":continue;case"hr":{cn+=this.renderer.hr();continue}case"heading":{cn+=this.renderer.heading(this.parseInline(rs.tokens),rs.depth,Cn(this.parseInline(rs.tokens,this.textRenderer)),this.slugger);continue}case"code":{cn+=this.renderer.code(rs.text,rs.lang,rs.escaped);continue}case"table":{for(Do="",Ms="",os=rs.header.length,Qn=0;Qn<os;Qn++)Ms+=this.renderer.tablecell(this.parseInline(rs.header[Qn].tokens),{header:!0,align:rs.align[Qn]});for(Do+=this.renderer.tablerow(Ms),co="",os=rs.rows.length,Qn=0;Qn<os;Qn++){for(Hs=rs.rows[Qn],Ms="",Qi=Hs.length,ui=0;ui<Qi;ui++)Ms+=this.renderer.tablecell(this.parseInline(Hs[ui].tokens),{header:!1,align:rs.align[ui]});co+=this.renderer.tablerow(Ms)}cn+=this.renderer.table(Do,co);continue}case"blockquote":{co=this.parse(rs.tokens),cn+=this.renderer.blockquote(co);continue}case"list":{for(Nr=rs.ordered,$o=rs.start,yc=rs.loose,os=rs.items.length,co="",Qn=0;Qn<os;Qn++)ca=rs.items[Qn],Hf=ca.checked,Cm=ca.task,Xo="",ca.task&&(Eu=this.renderer.checkbox(Hf),yc?ca.tokens.length>0&&ca.tokens[0].type==="paragraph"?(ca.tokens[0].text=Eu+" "+ca.tokens[0].text,ca.tokens[0].tokens&&ca.tokens[0].tokens.length>0&&ca.tokens[0].tokens[0].type==="text"&&(ca.tokens[0].tokens[0].text=Eu+" "+ca.tokens[0].tokens[0].text)):ca.tokens.unshift({type:"text",text:Eu}):Xo+=Eu),Xo+=this.parse(ca.tokens,yc),co+=this.renderer.listitem(Xo,Cm,Hf);cn+=this.renderer.list(co,Nr,$o);continue}case"html":{cn+=this.renderer.html(rs.text);continue}case"paragraph":{cn+=this.renderer.paragraph(this.parseInline(rs.tokens));continue}case"text":{for(co=rs.tokens?this.parseInline(rs.tokens):rs.text;Jt+1<bm&&xt[Jt+1].type==="text";)rs=xt[++Jt],co+=`
`+(rs.tokens?this.parseInline(rs.tokens):rs.text);cn+=Ft?this.renderer.paragraph(co):co;continue}default:{var Dh='Token with "'+rs.type+'" type was not found.';if(this.options.silent){console.error(Dh);return}else throw new Error(Dh)}}}return cn},Tn.parseInline=function(xt,Ft){Ft=Ft||this.renderer;var cn="",Jt,Qn,ui,os=xt.length;for(Jt=0;Jt<os;Jt++){if(Qn=xt[Jt],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[Qn.type]&&(ui=this.options.extensions.renderers[Qn.type].call({parser:this},Qn),ui!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(Qn.type))){cn+=ui||"";continue}switch(Qn.type){case"escape":{cn+=Ft.text(Qn.text);break}case"html":{cn+=Ft.html(Qn.text);break}case"link":{cn+=Ft.link(Qn.href,Qn.title,this.parseInline(Qn.tokens,Ft));break}case"image":{cn+=Ft.image(Qn.href,Qn.title,Qn.text);break}case"strong":{cn+=Ft.strong(this.parseInline(Qn.tokens,Ft));break}case"em":{cn+=Ft.em(this.parseInline(Qn.tokens,Ft));break}case"codespan":{cn+=Ft.codespan(Qn.text);break}case"br":{cn+=Ft.br();break}case"del":{cn+=Ft.del(this.parseInline(Qn.tokens,Ft));break}case"text":{cn+=Ft.text(Qn.text);break}default:{var Qi='Token with "'+Qn.type+'" type was not found.';if(this.options.silent){console.error(Qi);return}else throw new Error(Qi)}}}return cn},Kn}();function Fs(Kn,Tn,Pn){if(typeof Kn=="undefined"||Kn===null)throw new Error("marked(): input parameter is undefined or null");if(typeof Kn!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(Kn)+", string expected");if(typeof Tn=="function"&&(Pn=Tn,Tn=null),Tn=Za({},Fs.defaults,Tn||{}),Wf(Tn),Pn){var xt=Tn.highlight,Ft;try{Ft=yu.lex(Kn,Tn)}catch(ui){return Pn(ui)}var cn=function(os){var Qi;if(!os)try{Tn.walkTokens&&Fs.walkTokens(Ft,Tn.walkTokens),Qi=Lu.parse(Ft,Tn)}catch(Hs){os=Hs}return Tn.highlight=xt,os?Pn(os):Pn(null,Qi)};if(!xt||xt.length<3||(delete Tn.highlight,!Ft.length))return cn();var Jt=0;Fs.walkTokens(Ft,function(ui){ui.type==="code"&&(Jt++,setTimeout(function(){xt(ui.text,ui.lang,function(os,Qi){if(os)return cn(os);Qi!=null&&Qi!==ui.text&&(ui.text=Qi,ui.escaped=!0),Jt--,Jt===0&&cn()})},0))}),Jt===0&&cn();return}try{var Qn=yu.lex(Kn,Tn);return Tn.walkTokens&&Fs.walkTokens(Qn,Tn.walkTokens),Lu.parse(Qn,Tn)}catch(ui){if(ui.message+=`
Please report this to https://github.com/markedjs/marked.`,Tn.silent)return"<p>An error occurred:</p><pre>"+bt(ui.message+"",!0)+"</pre>";throw ui}}Fs.options=Fs.setOptions=function(Kn){return Za(Fs.defaults,Kn),G(Fs.defaults),Fs},Fs.getDefaults=w,Fs.defaults=e.defaults,Fs.use=function(){for(var Kn=arguments.length,Tn=new Array(Kn),Pn=0;Pn<Kn;Pn++)Tn[Pn]=arguments[Pn];var xt=Za.apply(void 0,[{}].concat(Tn)),Ft=Fs.defaults.extensions||{renderers:{},childTokens:{}},cn;Tn.forEach(function(Jt){if(Jt.extensions&&(cn=!0,Jt.extensions.forEach(function(ui){if(!ui.name)throw new Error("extension name required");if(ui.renderer){var os=Ft.renderers?Ft.renderers[ui.name]:null;os?Ft.renderers[ui.name]=function(){for(var Qi=arguments.length,Hs=new Array(Qi),Ms=0;Ms<Qi;Ms++)Hs[Ms]=arguments[Ms];var Do=ui.renderer.apply(this,Hs);return Do===!1&&(Do=os.apply(this,Hs)),Do}:Ft.renderers[ui.name]=ui.renderer}if(ui.tokenizer){if(!ui.level||ui.level!=="block"&&ui.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");Ft[ui.level]?Ft[ui.level].unshift(ui.tokenizer):Ft[ui.level]=[ui.tokenizer],ui.start&&(ui.level==="block"?Ft.startBlock?Ft.startBlock.push(ui.start):Ft.startBlock=[ui.start]:ui.level==="inline"&&(Ft.startInline?Ft.startInline.push(ui.start):Ft.startInline=[ui.start]))}ui.childTokens&&(Ft.childTokens[ui.name]=ui.childTokens)})),Jt.renderer&&function(){var ui=Fs.defaults.renderer||new vm,os=function(Ms){var Do=ui[Ms];ui[Ms]=function(){for(var co=arguments.length,rs=new Array(co),Nr=0;Nr<co;Nr++)rs[Nr]=arguments[Nr];var $o=Jt.renderer[Ms].apply(ui,rs);return $o===!1&&($o=Do.apply(ui,rs)),$o}};for(var Qi in Jt.renderer)os(Qi);xt.renderer=ui}(),Jt.tokenizer&&function(){var ui=Fs.defaults.tokenizer||new _m,os=function(Ms){var Do=ui[Ms];ui[Ms]=function(){for(var co=arguments.length,rs=new Array(co),Nr=0;Nr<co;Nr++)rs[Nr]=arguments[Nr];var $o=Jt.tokenizer[Ms].apply(ui,rs);return $o===!1&&($o=Do.apply(ui,rs)),$o}};for(var Qi in Jt.tokenizer)os(Qi);xt.tokenizer=ui}(),Jt.walkTokens){var Qn=Fs.defaults.walkTokens;xt.walkTokens=function(ui){Jt.walkTokens.call(this,ui),Qn&&Qn.call(this,ui)}}cn&&(xt.extensions=Ft),Fs.setOptions(xt)})},Fs.walkTokens=function(Kn,Tn){for(var Pn=function(){var Jt=Ft.value;switch(Tn.call(Fs,Jt),Jt.type){case"table":{for(var Qn=g(Jt.header),ui;!(ui=Qn()).done;){var os=ui.value;Fs.walkTokens(os.tokens,Tn)}for(var Qi=g(Jt.rows),Hs;!(Hs=Qi()).done;)for(var Ms=Hs.value,Do=g(Ms),co;!(co=Do()).done;){var rs=co.value;Fs.walkTokens(rs.tokens,Tn)}break}case"list":{Fs.walkTokens(Jt.items,Tn);break}default:Fs.defaults.extensions&&Fs.defaults.extensions.childTokens&&Fs.defaults.extensions.childTokens[Jt.type]?Fs.defaults.extensions.childTokens[Jt.type].forEach(function(Nr){Fs.walkTokens(Jt[Nr],Tn)}):Jt.tokens&&Fs.walkTokens(Jt.tokens,Tn)}},xt=g(Kn),Ft;!(Ft=xt()).done;)Pn()},Fs.parseInline=function(Kn,Tn){if(typeof Kn=="undefined"||Kn===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof Kn!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(Kn)+", string expected");Tn=Za({},Fs.defaults,Tn||{}),Wf(Tn);try{var Pn=yu.lexInline(Kn,Tn);return Tn.walkTokens&&Fs.walkTokens(Pn,Tn.walkTokens),Lu.parseInline(Pn,Tn)}catch(xt){if(xt.message+=`
Please report this to https://github.com/markedjs/marked.`,Tn.silent)return"<p>An error occurred:</p><pre>"+bt(xt.message+"",!0)+"</pre>";throw xt}},Fs.Parser=Lu,Fs.parser=Lu.parse,Fs.Renderer=vm,Fs.TextRenderer=w0,Fs.Lexer=yu,Fs.lexer=yu.lex,Fs.Tokenizer=_m,Fs.Slugger=S0,Fs.parse=Fs;var F2=Fs.options,B2=Fs.setOptions,W2=Fs.use,V2=Fs.walkTokens,H2=Fs.parseInline,z2=Fs,U2=Lu.parse,j2=yu.lex;e.Lexer=yu,e.Parser=Lu,e.Renderer=vm,e.Slugger=S0,e.TextRenderer=w0,e.Tokenizer=_m,e.getDefaults=w,e.lexer=j2,e.marked=Fs,e.options=F2,e.parse=z2,e.parseInline=H2,e.parser=U2,e.setOptions=B2,e.use=W2,e.walkTokens=V2,Object.defineProperty(e,"__esModule",{value:!0})})})();var Bu=Fu||exports,Qd=l(72597);function Mh(p,e={},t={}){var n;const s=new wt.SL;let o=!1;const g=(0,Ou.az)(e),w=function(bt){let $t;try{$t=(0,Qd.Q)(decodeURIComponent(bt))}catch(Cn){}return $t?($t=(0,Jr.rs)($t,Cn=>{if(p.uris&&p.uris[Cn])return Xi.o.revive(p.uris[Cn])}),encodeURIComponent(JSON.stringify($t))):bt},G=function(bt,$t){const Cn=p.uris&&p.uris[bt];let Yn=Xi.o.revive(Cn);return $t?bt.startsWith(is.lg.data+":")?bt:(Yn||(Yn=Xi.o.parse(bt)),is.Gi.asBrowserUri(Yn).toString(!0)):!Yn||Xi.o.parse(bt).toString()===Yn.toString()?bt:(Yn.query&&(Yn=Yn.with({query:w(Yn.query)})),Yn.toString())},J=new Bu.Renderer;J.image=(bt,$t,Cn)=>{let Yn=[],ei=[];return bt&&({href:bt,dimensions:Yn}=(0,Wn.v1)(bt),ei.push(`src="${(0,Wn.d9)(bt)}"`)),Cn&&ei.push(`alt="${(0,Wn.d9)(Cn)}"`),$t&&ei.push(`title="${(0,Wn.d9)($t)}"`),Yn.length&&(ei=ei.concat(Yn)),"<img "+ei.join(" ")+">"},J.link=(bt,$t,Cn)=>typeof bt!="string"?"":(bt===Cn&&(Cn=(0,Wn.oR)(Cn)),$t=typeof $t=="string"?(0,Wn.d9)((0,Wn.oR)($t)):"",bt=(0,Wn.oR)(bt),bt=bt.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;"),`<a href="${bt}" title="${$t||bt}">${Cn}</a>`),J.paragraph=bt=>`<p>${bt}</p>`;const Q=[];if(e.codeBlockRenderer&&(J.code=(bt,$t)=>{const Cn=tc.a.nextId(),Yn=e.codeBlockRenderer($t!=null?$t:"",bt);return Q.push(Yn.then(ei=>[Cn,ei])),`<div class="code" data-code="${Cn}">${(0,fi.YU)(bt)}</div>`}),e.actionHandler){const bt=e.actionHandler.disposables.add(new ba.Y(g,"click")),$t=e.actionHandler.disposables.add(new ba.Y(g,"auxclick"));e.actionHandler.disposables.add(ni.ju.any(bt.event,$t.event)(Cn=>{const Yn=new kh.n(Cn);if(!Yn.leftButton&&!Yn.middleButton)return;let ei=Yn.target;if(!(ei.tagName!=="A"&&(ei=ei.parentElement,!ei||ei.tagName!=="A")))try{let Ti=ei.dataset.href;Ti&&(p.baseUri&&(Ti=Xd(Xi.o.from(p.baseUri),Ti)),e.actionHandler.callback(Ti,Yn))}catch(Ti){(0,Ei.dL)(Ti)}finally{Yn.preventDefault()}}))}p.supportHtml||(t.sanitizer=bt=>(p.isTrusted?bt.match(/^(<span[^>]+>)|(<\/\s*span>)$/):void 0)?bt:"",t.sanitize=!0,t.silent=!0),t.renderer=J;let ue=(n=p.value)!==null&&n!==void 0?n:"";ue.length>1e5&&(ue=`${ue.substr(0,1e5)}\u2026`),p.supportThemeIcons&&(ue=(0,Yd.f$)(ue));let Ne=Bu.parse(ue,t);p.supportThemeIcons&&(Ne=(0,Hi.T)(Ne).map($t=>typeof $t=="string"?$t:$t.outerHTML).join(""));const mt=new DOMParser().parseFromString(jr(p,Ne),"text/html");if(mt.body.querySelectorAll("img").forEach(bt=>{const $t=bt.getAttribute("src");if($t){let Cn=$t;try{p.baseUri&&(Cn=Xd(Xi.o.from(p.baseUri),Cn))}catch(Yn){}bt.src=G(Cn,!0)}}),mt.body.querySelectorAll("a").forEach(bt=>{const $t=bt.getAttribute("href");if(bt.setAttribute("href",""),!$t||/^data:|javascript:/i.test($t)||/^command:/i.test($t)&&!p.isTrusted||/^command:(\/\/\/)?_workbench\.downloadResource/i.test($t))bt.replaceWith(...bt.childNodes);else{let Cn=G($t,!1);p.baseUri&&(Cn=Xd(Xi.o.from(p.baseUri),$t)),bt.dataset.href=Cn}}),g.innerHTML=jr(p,mt.body.innerHTML),Q.length>0&&Promise.all(Q).then(bt=>{var $t,Cn;if(o)return;const Yn=new Map(bt),ei=g.querySelectorAll("div[data-code]");for(const Ti of ei){const Ji=Yn.get(($t=Ti.dataset.code)!==null&&$t!==void 0?$t:"");Ji&&we.mc(Ti,Ji)}(Cn=e.asyncRenderCallback)===null||Cn===void 0||Cn.call(e)}),e.asyncRenderCallback)for(const bt of g.getElementsByTagName("img")){const $t=s.add(we.nm(bt,"load",()=>{$t.dispose(),e.asyncRenderCallback()}))}return{element:g,dispose:()=>{o=!0,s.dispose()}}}function Xd(p,e){return/^\w[\w\d+.-]*:/.test(e)?e:p.path.endsWith("/")?(0,Ae.i3)(p,e).toString():(0,Ae.i3)((0,Ae.XX)(p),e).toString()}function jr(p,e){const{config:t,allowedSchemes:n}=uc(p);jc.v5("uponSanitizeAttribute",(o,g)=>{if(g.attrName==="style"||g.attrName==="class"){if(o.tagName==="SPAN"){if(g.attrName==="style"){g.keepAttr=/^(color\:#[0-9a-fA-F]+;)?(background-color\:#[0-9a-fA-F]+;)?$/.test(g.attrValue);return}else if(g.attrName==="class"){g.keepAttr=/^codicon codicon-[a-z\-]+( codicon-modifier-[a-z\-]+)?$/.test(g.attrValue);return}}g.keepAttr=!1;return}});const s=we._F(n);try{return jc.Nw(e,Object.assign(Object.assign({},t),{RETURN_TRUSTED_TYPE:!0}))}finally{jc.ok("uponSanitizeAttribute"),s.dispose()}}function uc(p){const e=[is.lg.http,is.lg.https,is.lg.mailto,is.lg.data,is.lg.file,is.lg.vscodeFileResource,is.lg.vscodeRemote,is.lg.vscodeRemoteResource];return p.isTrusted&&e.push(is.lg.command),{config:{ALLOWED_TAGS:["ul","li","p","b","i","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"],ALLOWED_ATTR:["href","data-href","target","title","src","alt","class","style","data-code","width","height","align"],ALLOW_UNKNOWN_PROTOCOLS:!0},allowedSchemes:e}}var gr=l(89161),Jd=l(61647),Tl=l(18786),Wu=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Rh=function(p,e){return function(t,n){e(t,n,p)}},hc=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})},Ah;let Gl=class rv{constructor(e,t,n){this._options=e,this._languageService=t,this._openerService=n,this._onDidRenderAsync=new ni.Q5,this.onDidRenderAsync=this._onDidRenderAsync.event}dispose(){this._onDidRenderAsync.dispose()}render(e,t,n){if(!e)return{element:document.createElement("span"),dispose:()=>{}};const s=new wt.SL;return{element:s.add(Mh(e,Object.assign(Object.assign({},this._getRenderOptions(e,s)),t),n)).element,dispose:()=>s.dispose()}}_getRenderOptions(e,t){return{codeBlockRenderer:(n,s)=>hc(this,void 0,void 0,function*(){var o,g,w;let G;n?G=this._languageService.getLanguageIdByLanguageName(n):this._options.editor&&(G=(o=this._options.editor.getModel())===null||o===void 0?void 0:o.getLanguageId()),G||(G=zi.bd);const J=yield(0,Jd.C2)(this._languageService,s,G),Q=document.createElement("span");if(Q.innerHTML=(w=(g=rv._ttpTokenizer)===null||g===void 0?void 0:g.createHTML(J))!==null&&w!==void 0?w:J,this._options.editor){const ue=this._options.editor.getOption(46);(0,Tl.N)(Q,ue)}else this._options.codeBlockFontFamily&&(Q.style.fontFamily=this._options.codeBlockFontFamily);return this._options.codeBlockFontSize!==void 0&&(Q.style.fontSize=this._options.codeBlockFontSize),Q}),asyncRenderCallback:()=>this._onDidRenderAsync.fire(),actionHandler:{callback:n=>this._openerService.open(n,{fromUserGesture:!0,allowContributedOpeners:!0,allowCommands:e.isTrusted}).catch(Ei.dL),disposables:t}}}};Gl._ttpTokenizer=(Ah=window.trustedTypes)===null||Ah===void 0?void 0:Ah.createPolicy("tokenizeToString",{createHTML(p){return p}}),Gl=Wu([Rh(1,Yo.O),Rh(2,gr.v4)],Gl);const Gf=we.$;class Zl extends wt.JT{constructor(e,t,n=gr.SW){super(),this._renderDisposeables=this._register(new wt.SL),this._editor=e,this._isVisible=!1,this._messages=[],this._hover=this._register(new fn),this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible),this._markdownRenderer=this._register(new Gl({editor:this._editor},t,n)),this._computer=new Zf(this._editor),this._hoverOperation=this._register(new ti(this._editor,this._computer)),this._register(this._hoverOperation.onResult(s=>{this._withResult(s.value)})),this._register(this._editor.onDidChangeModelDecorations(()=>this._onModelDecorationsChanged())),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(46)&&this._updateFont()})),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Zl.ID}getDomNode(){return this._hover.containerDomNode}getPosition(){return null}_updateFont(){Array.prototype.slice.call(this._hover.contentsDomNode.getElementsByClassName("code")).forEach(t=>this._editor.applyFontInfo(t))}_onModelDecorationsChanged(){this._isVisible&&(this._hoverOperation.cancel(),this._hoverOperation.start(0))}startShowingAt(e){this._computer.lineNumber!==e&&(this._hoverOperation.cancel(),this.hide(),this._computer.lineNumber=e,this._hoverOperation.start(0))}hide(){this._computer.lineNumber=-1,this._hoverOperation.cancel(),this._isVisible&&(this._isVisible=!1,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible))}_withResult(e){this._messages=e,this._messages.length>0?this._renderMessages(this._computer.lineNumber,this._messages):this.hide()}_renderMessages(e,t){this._renderDisposeables.clear();const n=document.createDocumentFragment();for(const s of t){const o=Gf("div.hover-row.markdown-hover"),g=we.R3(o,Gf("div.hover-contents")),w=this._renderDisposeables.add(this._markdownRenderer.render(s.value));g.appendChild(w.element),n.appendChild(o)}this._updateContents(n),this._showAt(e)}_updateContents(e){this._hover.contentsDomNode.textContent="",this._hover.contentsDomNode.appendChild(e),this._updateFont()}_showAt(e){this._isVisible||(this._isVisible=!0,this._hover.containerDomNode.classList.toggle("hidden",!this._isVisible));const t=this._editor.getLayoutInfo(),n=this._editor.getTopForLineNumber(e),s=this._editor.getScrollTop(),o=this._editor.getOption(61),g=this._hover.containerDomNode.clientHeight,w=n-s-(g-o)/2;this._hover.containerDomNode.style.left=`${t.glyphMarginLeft+t.glyphMarginWidth}px`,this._hover.containerDomNode.style.top=`${Math.max(Math.round(w),0)}px`}}Zl.ID="editor.contrib.modesGlyphHoverWidget";class Zf{constructor(e){this._editor=e,this._lineNumber=-1}get lineNumber(){return this._lineNumber}set lineNumber(e){this._lineNumber=e}computeSync(){const e=s=>({value:s}),t=this._editor.getLineDecorations(this._lineNumber),n=[];if(!t)return n;for(const s of t){if(!s.options.glyphMarginClassName)continue;const o=s.options.glyphMarginHoverMessage;!o||(0,Wn.CP)(o)||n.push(...(0,$i._2)(o).map(e))}return n}}var km=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};class Yf{constructor(e,t,n){this.provider=e,this.hover=t,this.ordinal=n}}function Ph(p,e,t,n,s){return km(this,void 0,void 0,function*(){try{const o=yield Promise.resolve(p.provideHover(t,n,s));if(o&&Fh(o))return new Yf(p,o,e)}catch(o){(0,Ei.Cp)(o)}})}function Oh(p,e,t,n){const o=p.ordered(e).map((g,w)=>Ph(g,w,e,t,n));return kt.Aq.fromPromises(o).coalesce()}function Mm(p,e,t,n){return Oh(p,e,t,n).map(s=>s.hover).toPromise()}(0,je.sb)("_executeHoverProvider",(p,e,t)=>{const n=p.get(bi.p);return Mm(n.hoverProvider,e,t,ri.T.None)});function Fh(p){const e=typeof p.range!="undefined",t=typeof p.contents!="undefined"&&p.contents&&p.contents.length>0;return e&&t}var Rm=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},qd=function(p,e){return function(t,n){e(t,n,p)}};const Qf=we.$;class kl{constructor(e,t,n,s){this.owner=e,this.range=t,this.contents=n,this.ordinal=s}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}let Vu=class{constructor(e,t,n,s,o){this._editor=e,this._languageService=t,this._openerService=n,this._configurationService=s,this._languageFeaturesService=o,this.hoverOrdinal=2}createLoadingMessage(e){return new kl(this,e.range,[new Wn.W5().appendText(_e.NC("modesContentHover.loading","Loading..."))],2e3)}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const n=this._editor.getModel(),s=e.range.startLineNumber,o=n.getLineMaxColumn(s),g=[];let w=1e3;const G=n.getLineLength(s),J=n.getLanguageIdAtPosition(e.range.startLineNumber,e.range.startColumn),Q=this._configurationService.getValue("editor.maxTokenizationLineLength",{overrideIdentifier:J});typeof Q=="number"&&G>=Q&&g.push(new kl(this,e.range,[{value:_e.NC("too many characters","Tokenization is skipped for long lines for performance reasons. This can be configured via `editor.maxTokenizationLineLength`.")}],w++));for(const ue of t){const Ne=ue.range.startLineNumber===s?ue.range.startColumn:1,st=ue.range.endLineNumber===s?ue.range.endColumn:o,mt=ue.options.hoverMessage;if(!mt||(0,Wn.CP)(mt))continue;const bt=new _t.e(e.range.startLineNumber,Ne,e.range.startLineNumber,st);g.push(new kl(this,bt,(0,$i._2)(mt),w++))}return g}computeAsync(e,t,n){if(!this._editor.hasModel()||e.type!==1)return kt.Aq.EMPTY;const s=this._editor.getModel();if(!this._languageFeaturesService.hoverProvider.has(s))return kt.Aq.EMPTY;const o=new ln.L(e.range.startLineNumber,e.range.startColumn);return Oh(this._languageFeaturesService.hoverProvider,s,o,n).filter(g=>!(0,Wn.CP)(g.hover.contents)).map(g=>{const w=g.hover.range?_t.e.lift(g.hover.range):e.range;return new kl(this,w,g.hover.contents,g.ordinal)})}renderHoverParts(e,t){return Xf(e,t,this._editor,this._languageService,this._openerService)}};Vu=Rm([qd(1,Yo.O),qd(2,gr.v4),qd(3,m.Ui),qd(4,bi.p)],Vu);function Xf(p,e,t,n,s){e.sort((g,w)=>g.ordinal-w.ordinal);const o=new wt.SL;for(const g of e)for(const w of g.contents){if((0,Wn.CP)(w))continue;const G=Qf("div.hover-row.markdown-hover"),J=we.R3(G,Qf("div.hover-contents")),Q=o.add(new Gl({editor:t},n,s));o.add(Q.onDidRenderAsync(()=>{J.className="hover-contents code-hover-contents",p.onContentsChanged()}));const ue=o.add(Q.render(w));J.appendChild(ue.element),p.fragment.appendChild(G)}return o}var Am=l(94621),Jf=l(69368),qf=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},fc=function(p,e){return function(t,n){e(t,n,p)}};class eg{constructor(e,t,n){this.marker=e,this.index=t,this.total=n}}let Bh=class{constructor(e,t,n){this._markerService=t,this._configService=n,this._onDidChange=new ni.Q5,this.onDidChange=this._onDidChange.event,this._dispoables=new wt.SL,this._markers=[],this._nextIdx=-1,Xi.o.isUri(e)?this._resourceFilter=w=>w.toString()===e.toString():e&&(this._resourceFilter=e);const s=this._configService.getValue("problems.sortOrder"),o=(w,G)=>{let J=(0,fi.qu)(w.resource.toString(),G.resource.toString());return J===0&&(s==="position"?J=_t.e.compareRangesUsingStarts(w,G)||Ys.ZL.compare(w.severity,G.severity):J=Ys.ZL.compare(w.severity,G.severity)||_t.e.compareRangesUsingStarts(w,G)),J},g=()=>{this._markers=this._markerService.read({resource:Xi.o.isUri(e)?e:void 0,severities:Ys.ZL.Error|Ys.ZL.Warning|Ys.ZL.Info}),typeof e=="function"&&(this._markers=this._markers.filter(w=>this._resourceFilter(w.resource))),this._markers.sort(o)};g(),this._dispoables.add(t.onMarkerChanged(w=>{(!this._resourceFilter||w.some(G=>this._resourceFilter(G)))&&(g(),this._nextIdx=-1,this._onDidChange.fire())}))}dispose(){this._dispoables.dispose(),this._onDidChange.dispose()}matches(e){return!this._resourceFilter&&!e?!0:!this._resourceFilter||!e?!1:this._resourceFilter(e)}get selected(){const e=this._markers[this._nextIdx];return e&&new eg(e,this._nextIdx+1,this._markers.length)}_initIdx(e,t,n){let s=!1,o=this._markers.findIndex(g=>g.resource.toString()===e.uri.toString());o<0&&(o=(0,$i.ry)(this._markers,{resource:e.uri},(g,w)=>(0,fi.qu)(g.resource.toString(),w.resource.toString())),o<0&&(o=~o));for(let g=o;g<this._markers.length;g++){let w=_t.e.lift(this._markers[g]);if(w.isEmpty()){const G=e.getWordAtPosition(w.getStartPosition());G&&(w=new _t.e(w.startLineNumber,G.startColumn,w.startLineNumber,G.endColumn))}if(t&&(w.containsPosition(t)||t.isBeforeOrEqual(w.getStartPosition()))){this._nextIdx=g,s=!0;break}if(this._markers[g].resource.toString()!==e.uri.toString())break}s||(this._nextIdx=n?0:this._markers.length-1),this._nextIdx<0&&(this._nextIdx=this._markers.length-1)}resetIndex(){this._nextIdx=-1}move(e,t,n){if(this._markers.length===0)return!1;const s=this._nextIdx;return this._nextIdx===-1?this._initIdx(t,n,e):e?this._nextIdx=(this._nextIdx+1)%this._markers.length:e||(this._nextIdx=(this._nextIdx-1+this._markers.length)%this._markers.length),s!==this._nextIdx}find(e,t){let n=this._markers.findIndex(s=>s.resource.toString()===e.toString());if(!(n<0)){for(;n<this._markers.length;n++)if(_t.e.containsPosition(this._markers[n],t))return new eg(this._markers[n],n+1,this._markers.length)}}};Bh=qf([fc(1,Ys.lT),fc(2,m.Ui)],Bh);const Wh=(0,ki.yh)("IMarkerNavigationService");let Vh=class{constructor(e,t){this._markerService=e,this._configService=t,this._provider=new Jf.S}getMarkerList(e){for(const t of this._provider){const n=t.getMarkerList(e);if(n)return n}return new Bh(e,this._markerService,this._configService)}};Vh=qf([fc(0,Ys.lT),fc(1,m.Ui)],Vh),(0,Yr.z)(Wh,Vh,!0);var sr=l(33664),gc=l(85669),Hh;(function(p){function e(t){switch(t){case gc.Z.Ignore:return"severity-ignore "+Nn.lA.info.classNames;case gc.Z.Info:return Nn.lA.info.classNames;case gc.Z.Warning:return Nn.lA.warning.classNames;case gc.Z.Error:return Nn.lA.error.classNames;default:return""}}p.className=e})(Hh||(Hh={})),(0,dt.Ic)((p,e)=>{const t=p.getColor(Ce.JpG);if(t){const o=Nn.lA.error.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.text-search-provider-messages .providerMessage ${o},
			.extensions-viewlet > .extensions ${o} {
				color: ${t};
			}
		`)}const n=p.getColor(Ce.BOY);if(n){const o=Nn.lA.warning.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.extensions-viewlet > .extensions ${o},
			.extension-editor ${o},
			.text-search-provider-messages .providerMessage ${o},
			.preferences-editor ${o} {
				color: ${n};
			}
		`)}const s=p.getColor(Ce.OLZ);if(s){const o=Nn.lA.info.cssSelector;e.addRule(`
			.monaco-editor .zone-widget ${o},
			.markers-panel .marker-icon${o},
			.extensions-viewlet > .extensions ${o},
			.text-search-provider-messages .providerMessage ${o},
			.extension-editor ${o} {
				color: ${s};
			}
		`)}});var Pm=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},vd=function(p,e){return function(t,n){e(t,n,p)}};class Om{constructor(e,t,n,s,o){this._openerService=s,this._labelService=o,this._lines=0,this._longestLineLength=0,this._relatedDiagnostics=new WeakMap,this._disposables=new wt.SL,this._editor=t;const g=document.createElement("div");g.className="descriptioncontainer",this._messageBlock=document.createElement("div"),this._messageBlock.classList.add("message"),this._messageBlock.setAttribute("aria-live","assertive"),this._messageBlock.setAttribute("role","alert"),g.appendChild(this._messageBlock),this._relatedBlock=document.createElement("div"),g.appendChild(this._relatedBlock),this._disposables.add(we.mu(this._relatedBlock,"click",w=>{w.preventDefault();const G=this._relatedDiagnostics.get(w.target);G&&n(G)})),this._scrollable=new Bt.NB(g,{horizontal:1,vertical:1,useShadows:!1,horizontalScrollbarSize:6,verticalScrollbarSize:6}),e.appendChild(this._scrollable.getDomNode()),this._disposables.add(this._scrollable.onScroll(w=>{g.style.left=`-${w.scrollLeft}px`,g.style.top=`-${w.scrollTop}px`})),this._disposables.add(this._scrollable)}dispose(){(0,wt.B9)(this._disposables)}update(e){const{source:t,message:n,relatedInformation:s,code:o}=e;let g=((t==null?void 0:t.length)||0)+2;o&&(typeof o=="string"?g+=o.length:g+=o.value.length);const w=(0,fi.uq)(n);this._lines=w.length,this._longestLineLength=0;for(const Ne of w)this._longestLineLength=Math.max(Ne.length+g,this._longestLineLength);we.PO(this._messageBlock),this._messageBlock.setAttribute("aria-label",this.getAriaLabel(e)),this._editor.applyFontInfo(this._messageBlock);let G=this._messageBlock;for(const Ne of w)G=document.createElement("div"),G.innerText=Ne,Ne===""&&(G.style.height=this._messageBlock.style.lineHeight),this._messageBlock.appendChild(G);if(t||o){const Ne=document.createElement("span");if(Ne.classList.add("details"),G.appendChild(Ne),t){const st=document.createElement("span");st.innerText=t,st.classList.add("source"),Ne.appendChild(st)}if(o)if(typeof o=="string"){const st=document.createElement("span");st.innerText=`(${o})`,st.classList.add("code"),Ne.appendChild(st)}else{this._codeLink=we.$("a.code-link"),this._codeLink.setAttribute("href",`${o.target.toString()}`),this._codeLink.onclick=mt=>{this._openerService.open(o.target,{allowCommands:!0}),mt.preventDefault(),mt.stopPropagation()};const st=we.R3(this._codeLink,we.$("span"));st.innerText=o.value,Ne.appendChild(this._codeLink)}}if(we.PO(this._relatedBlock),this._editor.applyFontInfo(this._relatedBlock),(0,$i.Of)(s)){const Ne=this._relatedBlock.appendChild(document.createElement("div"));Ne.style.paddingTop=`${Math.floor(this._editor.getOption(61)*.66)}px`,this._lines+=1;for(const st of s){const mt=document.createElement("div"),bt=document.createElement("a");bt.classList.add("filename"),bt.innerText=`${this._labelService.getUriBasenameLabel(st.resource)}(${st.startLineNumber}, ${st.startColumn}): `,bt.title=this._labelService.getUriLabel(st.resource),this._relatedDiagnostics.set(bt,st);const $t=document.createElement("span");$t.innerText=st.message,mt.appendChild(bt),mt.appendChild($t),this._lines+=1,Ne.appendChild(mt)}}const J=this._editor.getOption(46),Q=Math.ceil(J.typicalFullwidthCharacterWidth*this._longestLineLength*.75),ue=J.lineHeight*this._lines;this._scrollable.setScrollDimensions({scrollWidth:Q,scrollHeight:ue})}layout(e,t){this._scrollable.getDomNode().style.height=`${e}px`,this._scrollable.getDomNode().style.width=`${t}px`,this._scrollable.setScrollDimensions({width:t,height:e})}getHeightInLines(){return Math.min(17,this._lines)}getAriaLabel(e){let t="";switch(e.severity){case Ys.ZL.Error:t=_e.NC("Error","Error");break;case Ys.ZL.Warning:t=_e.NC("Warning","Warning");break;case Ys.ZL.Info:t=_e.NC("Info","Info");break;case Ys.ZL.Hint:t=_e.NC("Hint","Hint");break}let n=_e.NC("marker aria","{0} at {1}. ",t,e.startLineNumber+":"+e.startColumn);const s=this._editor.getModel();return s&&e.startLineNumber<=s.getLineCount()&&e.startLineNumber>=1&&(n=`${s.getLineContent(e.startLineNumber)}, ${n}`),n}}let Cd=class av extends i{constructor(e,t,n,s,o,g,w){super(e,{showArrow:!0,showFrame:!0,isAccessible:!0,frameWidth:1},o),this._themeService=t,this._openerService=n,this._menuService=s,this._contextKeyService=g,this._labelService=w,this._callOnDispose=new wt.SL,this._onDidSelectRelatedInformation=new ni.Q5,this.onDidSelectRelatedInformation=this._onDidSelectRelatedInformation.event,this._severity=Ys.ZL.Warning,this._backgroundColor=ys.Il.white,this._applyTheme(t.getColorTheme()),this._callOnDispose.add(t.onDidColorThemeChange(this._applyTheme.bind(this))),this.create()}_applyTheme(e){this._backgroundColor=e.getColor(Vm);let t=zh,n=Fm;this._severity===Ys.ZL.Warning?(t=Hu,n=Bm):this._severity===Ys.ZL.Info&&(t=Uh,n=Wm);const s=e.getColor(t),o=e.getColor(n);this.style({arrowColor:s,frameColor:s,headerBackgroundColor:o,primaryHeadingColor:e.getColor(v),secondaryHeadingColor:e.getColor(V)})}_applyStyles(){this._parentContainer&&(this._parentContainer.style.backgroundColor=this._backgroundColor?this._backgroundColor.toString():""),super._applyStyles()}dispose(){this._callOnDispose.dispose(),super.dispose()}_fillHead(e){super._fillHead(e),this._disposables.add(this._actionbarWidget.actionRunner.onBeforeRun(s=>this.editor.focus()));const t=[],n=this._menuService.createMenu(av.TitleMenu,this._contextKeyService);ad(n,void 0,t),this._actionbarWidget.push(t,{label:!1,icon:!0,index:0}),n.dispose()}_fillTitleIcon(e){this._icon=we.R3(e,we.$(""))}_fillBody(e){this._parentContainer=e,e.classList.add("marker-widget"),this._parentContainer.tabIndex=0,this._parentContainer.setAttribute("role","tooltip"),this._container=document.createElement("div"),e.appendChild(this._container),this._message=new Om(this._container,this.editor,t=>this._onDidSelectRelatedInformation.fire(t),this._openerService,this._labelService),this._disposables.add(this._message)}show(){throw new Error("call showAtMarker")}showAtMarker(e,t,n){this._container.classList.remove("stale"),this._message.update(e),this._severity=e.severity,this._applyTheme(this._themeService.getColorTheme());const s=_t.e.lift(e),o=this.editor.getPosition(),g=o&&s.containsPosition(o)?o:s.getStartPosition();super.show(g,this.computeRequiredHeight());const w=this.editor.getModel();if(w){const G=n>1?_e.NC("problems","{0} of {1} problems",t,n):_e.NC("change","{0} of {1} problem",t,n);this.setTitle((0,Ae.EZ)(w.uri),G)}this._icon.className=`codicon ${Hh.className(Ys.ZL.toSeverity(this._severity))}`,this.editor.revealPositionNearTop(g,0),this.editor.focus()}updateMarker(e){this._container.classList.remove("stale"),this._message.update(e)}showStale(){this._container.classList.add("stale"),this._relayout()}_doLayoutBody(e,t){super._doLayoutBody(e,t),this._heightInPixel=e,this._message.layout(e,t),this._container.style.height=`${e}px`}_onWidth(e){this._message.layout(this._heightInPixel,e)}_relayout(){super._relayout(this.computeRequiredHeight())}computeRequiredHeight(){return 3+this._message.getHeightInLines()}};Cd.TitleMenu=new Ve.eH("gotoErrorTitleMenu"),Cd=Pm([vd(1,dt.XE),vd(2,gr.v4),vd(3,Ve.co),vd(4,ki.TG),vd(5,ht.i6),vd(6,vo.e)],Cd);const tg=(0,Ce.kwl)(Ce.lXJ,Ce.b6y),ng=(0,Ce.kwl)(Ce.uoC,Ce.pW3),ig=(0,Ce.kwl)(Ce.c63,Ce.T83),zh=(0,Ce.P6G)("editorMarkerNavigationError.background",{dark:tg,light:tg,hcDark:Ce.lRK,hcLight:Ce.lRK},_e.NC("editorMarkerNavigationError","Editor marker navigation widget error color.")),Fm=(0,Ce.P6G)("editorMarkerNavigationError.headerBackground",{dark:(0,Ce.ZnX)(zh,.1),light:(0,Ce.ZnX)(zh,.1),hcDark:null,hcLight:null},_e.NC("editorMarkerNavigationErrorHeaderBackground","Editor marker navigation widget error heading background.")),Hu=(0,Ce.P6G)("editorMarkerNavigationWarning.background",{dark:ng,light:ng,hcDark:Ce.lRK,hcLight:Ce.lRK},_e.NC("editorMarkerNavigationWarning","Editor marker navigation widget warning color.")),Bm=(0,Ce.P6G)("editorMarkerNavigationWarning.headerBackground",{dark:(0,Ce.ZnX)(Hu,.1),light:(0,Ce.ZnX)(Hu,.1),hcDark:"#0C141F",hcLight:(0,Ce.ZnX)(Hu,.2)},_e.NC("editorMarkerNavigationWarningBackground","Editor marker navigation widget warning heading background.")),Uh=(0,Ce.P6G)("editorMarkerNavigationInfo.background",{dark:ig,light:ig,hcDark:Ce.lRK,hcLight:Ce.lRK},_e.NC("editorMarkerNavigationInfo","Editor marker navigation widget info color.")),Wm=(0,Ce.P6G)("editorMarkerNavigationInfo.headerBackground",{dark:(0,Ce.ZnX)(Uh,.1),light:(0,Ce.ZnX)(Uh,.1),hcDark:null,hcLight:null},_e.NC("editorMarkerNavigationInfoHeaderBackground","Editor marker navigation widget info heading background.")),Vm=(0,Ce.P6G)("editorMarkerNavigation.background",{dark:Ce.cvW,light:Ce.cvW,hcDark:Ce.cvW,hcLight:Ce.cvW},_e.NC("editorMarkerNavigationBackground","Editor marker navigation widget background."));var Hm=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},zu=function(p,e){return function(t,n){e(t,n,p)}},sg=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};let mc=class ym{constructor(e,t,n,s,o){this._markerNavigationService=t,this._contextKeyService=n,this._editorService=s,this._instantiationService=o,this._sessionDispoables=new wt.SL,this._editor=e,this._widgetVisible=og.bindTo(this._contextKeyService)}static get(e){return e.getContribution(ym.ID)}dispose(){this._cleanUp(),this._sessionDispoables.dispose()}_cleanUp(){this._widgetVisible.reset(),this._sessionDispoables.clear(),this._widget=void 0,this._model=void 0}_getOrCreateModel(e){if(this._model&&this._model.matches(e))return this._model;let t=!1;return this._model&&(t=!0,this._cleanUp()),this._model=this._markerNavigationService.getMarkerList(e),t&&this._model.move(!0,this._editor.getModel(),this._editor.getPosition()),this._widget=this._instantiationService.createInstance(Cd,this._editor),this._widget.onDidClose(()=>this.close(),this,this._sessionDispoables),this._widgetVisible.set(!0),this._sessionDispoables.add(this._model),this._sessionDispoables.add(this._widget),this._sessionDispoables.add(this._editor.onDidChangeCursorPosition(n=>{var s,o,g;(!(!((s=this._model)===null||s===void 0)&&s.selected)||!_t.e.containsPosition((o=this._model)===null||o===void 0?void 0:o.selected.marker,n.position))&&((g=this._model)===null||g===void 0||g.resetIndex())})),this._sessionDispoables.add(this._model.onDidChange(()=>{if(!this._widget||!this._widget.position||!this._model)return;const n=this._model.find(this._editor.getModel().uri,this._widget.position);n?this._widget.updateMarker(n.marker):this._widget.showStale()})),this._sessionDispoables.add(this._widget.onDidSelectRelatedInformation(n=>{this._editorService.openCodeEditor({resource:n.resource,options:{pinned:!0,revealIfOpened:!0,selection:_t.e.lift(n).collapseToStart()}},this._editor),this.close(!1)})),this._sessionDispoables.add(this._editor.onDidChangeModel(()=>this._cleanUp())),this._model}close(e=!0){this._cleanUp(),e&&this._editor.focus()}showAtMarker(e){if(this._editor.hasModel()){const t=this._getOrCreateModel(this._editor.getModel().uri);t.resetIndex(),t.move(!0,this._editor.getModel(),new ln.L(e.startLineNumber,e.startColumn)),t.selected&&this._widget.showAtMarker(t.selected.marker,t.selected.index,t.selected.total)}}nagivate(e,t){var n,s;return sg(this,void 0,void 0,function*(){if(this._editor.hasModel()){const o=this._getOrCreateModel(t?void 0:this._editor.getModel().uri);if(o.move(e,this._editor.getModel(),this._editor.getPosition()),!o.selected)return;if(o.selected.marker.resource.toString()!==this._editor.getModel().uri.toString()){this._cleanUp();const g=yield this._editorService.openCodeEditor({resource:o.selected.marker.resource,options:{pinned:!1,revealIfOpened:!0,selectionRevealType:2,selection:o.selected.marker}},this._editor);g&&((n=ym.get(g))===null||n===void 0||n.close(),(s=ym.get(g))===null||s===void 0||s.nagivate(e,t))}else this._widget.showAtMarker(o.selected.marker,o.selected.index,o.selected.total)}})}};mc.ID="editor.contrib.markerController",mc=Hm([zu(1,Wh),zu(2,ht.i6),zu(3,wi.$),zu(4,ki.TG)],mc);class Uu extends je.R6{constructor(e,t,n){super(n),this._next=e,this._multiFile=t}run(e,t){var n;return sg(this,void 0,void 0,function*(){t.hasModel()&&((n=mc.get(t))===null||n===void 0||n.nagivate(this._next,this._multiFile))})}}class pc extends Uu{constructor(){super(!0,!1,{id:pc.ID,label:pc.LABEL,alias:"Go to Next Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:578,weight:100},menuOpts:{menuId:Cd.TitleMenu,title:pc.LABEL,icon:(0,sr.q5)("marker-navigation-next",Nn.lA.arrowDown,_e.NC("nextMarkerIcon","Icon for goto next marker.")),group:"navigation",order:1}})}}pc.ID="editor.action.marker.next",pc.LABEL=_e.NC("markerAction.next.label","Go to Next Problem (Error, Warning, Info)");class Kc extends Uu{constructor(){super(!1,!1,{id:Kc.ID,label:Kc.LABEL,alias:"Go to Previous Problem (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:1602,weight:100},menuOpts:{menuId:Cd.TitleMenu,title:Kc.LABEL,icon:(0,sr.q5)("marker-navigation-previous",Nn.lA.arrowUp,_e.NC("previousMarkerIcon","Icon for goto previous marker.")),group:"navigation",order:2}})}}Kc.ID="editor.action.marker.prev",Kc.LABEL=_e.NC("markerAction.previous.label","Go to Previous Problem (Error, Warning, Info)");class zm extends Uu{constructor(){super(!0,!0,{id:"editor.action.marker.nextInFiles",label:_e.NC("markerAction.nextInFiles.label","Go to Next Problem in Files (Error, Warning, Info)"),alias:"Go to Next Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:66,weight:100},menuOpts:{menuId:Ve.eH.MenubarGoMenu,title:_e.NC({key:"miGotoNextProblem",comment:["&& denotes a mnemonic"]},"Next &&Problem"),group:"6_problem_nav",order:1}})}}class Um extends Uu{constructor(){super(!1,!0,{id:"editor.action.marker.prevInFiles",label:_e.NC("markerAction.previousInFiles.label","Go to Previous Problem in Files (Error, Warning, Info)"),alias:"Go to Previous Problem in Files (Error, Warning, Info)",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:1090,weight:100},menuOpts:{menuId:Ve.eH.MenubarGoMenu,title:_e.NC({key:"miGotoPreviousProblem",comment:["&& denotes a mnemonic"]},"Previous &&Problem"),group:"6_problem_nav",order:2}})}}(0,je._K)(mc.ID,mc),(0,je.Qr)(pc),(0,je.Qr)(Kc),(0,je.Qr)(zm),(0,je.Qr)(Um);const og=new ht.uy("markersNavigationVisible",!1),jm=je._l.bindToContribution(mc.get);(0,je.fK)(new jm({id:"closeMarkersNavigation",precondition:og,handler:p=>p.close(),kbOpts:{weight:100+50,kbExpr:vt.u.focus,primary:9,secondary:[1033]}}));var Km=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},jh=function(p,e){return function(t,n){e(t,n,p)}};const ja=we.$;class Kh{constructor(e,t,n){this.owner=e,this.range=t,this.marker=n}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}}const Dr={type:1,filter:{include:Di.QuickFix},triggerAction:ws.QuickFixHover};let $h=class{constructor(e,t,n,s){this._editor=e,this._markerDecorationsService=t,this._openerService=n,this._languageFeaturesService=s,this.hoverOrdinal=5,this.recentMarkerCodeActionsInfo=void 0}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const n=this._editor.getModel(),s=e.range.startLineNumber,o=n.getLineMaxColumn(s),g=[];for(const w of t){const G=w.range.startLineNumber===s?w.range.startColumn:1,J=w.range.endLineNumber===s?w.range.endColumn:o,Q=this._markerDecorationsService.getMarker(n.uri,w);if(!Q)continue;const ue=new _t.e(e.range.startLineNumber,G,e.range.startLineNumber,J);g.push(new Kh(this,ue,Q))}return g}renderHoverParts(e,t){if(!t.length)return wt.JT.None;const n=new wt.SL;t.forEach(o=>e.fragment.appendChild(this.renderMarkerHover(o,n)));const s=t.length===1?t[0]:t.sort((o,g)=>Ys.ZL.compare(o.marker.severity,g.marker.severity))[0];return this.renderMarkerStatusbar(e,s,n),n}renderMarkerHover(e,t){const n=ja("div.hover-row"),s=we.R3(n,ja("div.marker.hover-contents")),{source:o,message:g,code:w,relatedInformation:G}=e.marker;this._editor.applyFontInfo(s);const J=we.R3(s,ja("span"));if(J.style.whiteSpace="pre-wrap",J.innerText=g,o||w)if(w&&typeof w!="string"){const Q=ja("span");if(o){const mt=we.R3(Q,ja("span"));mt.innerText=o}const ue=we.R3(Q,ja("a.code-link"));ue.setAttribute("href",w.target.toString()),t.add(we.nm(ue,"click",mt=>{this._openerService.open(w.target,{allowCommands:!0}),mt.preventDefault(),mt.stopPropagation()}));const Ne=we.R3(ue,ja("span"));Ne.innerText=w.value;const st=we.R3(s,Q);st.style.opacity="0.6",st.style.paddingLeft="6px"}else{const Q=we.R3(s,ja("span"));Q.style.opacity="0.6",Q.style.paddingLeft="6px",Q.innerText=o&&w?`${o}(${w})`:o||`(${w})`}if((0,$i.Of)(G))for(const{message:Q,resource:ue,startLineNumber:Ne,startColumn:st}of G){const mt=we.R3(s,ja("div"));mt.style.marginTop="8px";const bt=we.R3(mt,ja("a"));bt.innerText=`${(0,Ae.EZ)(ue)}(${Ne}, ${st}): `,bt.style.cursor="pointer",t.add(we.nm(bt,"click",Cn=>{Cn.stopPropagation(),Cn.preventDefault(),this._openerService&&this._openerService.open(ue,{fromUserGesture:!0,editorOptions:{selection:{startLineNumber:Ne,startColumn:st}}}).catch(Ei.dL)}));const $t=we.R3(mt,ja("span"));$t.innerText=Q,this._editor.applyFontInfo($t)}return n}renderMarkerStatusbar(e,t,n){if((t.marker.severity===Ys.ZL.Error||t.marker.severity===Ys.ZL.Warning||t.marker.severity===Ys.ZL.Info)&&e.statusBar.addAction({label:_e.NC("view problem","View Problem"),commandId:pc.ID,run:()=>{var s;e.hide(),(s=mc.get(this._editor))===null||s===void 0||s.showAtMarker(t.marker),this._editor.focus()}}),!this._editor.getOption(83)){const s=e.statusBar.append(ja("div"));this.recentMarkerCodeActionsInfo&&(Ys.H0.makeKey(this.recentMarkerCodeActionsInfo.marker)===Ys.H0.makeKey(t.marker)?this.recentMarkerCodeActionsInfo.hasCodeActions||(s.textContent=_e.NC("noQuickFixes","No quick fixes available")):this.recentMarkerCodeActionsInfo=void 0);const o=this.recentMarkerCodeActionsInfo&&!this.recentMarkerCodeActionsInfo.hasCodeActions?wt.JT.None:n.add((0,kt.Vg)(()=>s.textContent=_e.NC("checkingForQuickFixes","Checking for quick fixes..."),200));s.textContent||(s.textContent=String.fromCharCode(160));const g=this.getCodeActions(t.marker);n.add((0,wt.OF)(()=>g.cancel())),g.then(w=>{if(o.dispose(),this.recentMarkerCodeActionsInfo={marker:t.marker,hasCodeActions:w.validActions.length>0},!this.recentMarkerCodeActionsInfo.hasCodeActions){w.dispose(),s.textContent=_e.NC("noQuickFixes","No quick fixes available");return}s.style.display="none";let G=!1;n.add((0,wt.OF)(()=>{G||w.dispose()})),e.statusBar.addAction({label:_e.NC("quick fixes","Quick Fix..."),commandId:Jo.Id,run:J=>{G=!0;const Q=zo.get(this._editor),ue=we.i(J);e.hide(),Q==null||Q.showCodeActions(Dr,w,{x:ue.left+6,y:ue.top+ue.height+6,width:ue.width,height:ue.height})}})},Ei.dL)}}getCodeActions(e){return(0,kt.PG)(t=>as(this._languageFeaturesService.codeActionProvider,this._editor.getModel(),new _t.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),Dr,bs.Ex.None,t))}};$h=Km([jh(1,Am.i),jh(2,gr.v4),jh(3,bi.p)],$h),(0,dt.Ic)((p,e)=>{const t=p.getColor(Ce.url);t&&e.addRule(`.monaco-hover .hover-contents a.code-link span { color: ${t}; }`);const n=p.getColor(Ce.sgC);n&&e.addRule(`.monaco-hover .hover-contents a.code-link span:hover { color: ${n}; }`)});var $m=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ju=function(p,e){return function(t,n){e(t,n,p)}};let _c=class lv{constructor(e,t,n,s,o){this._editor=e,this._instantiationService=t,this._openerService=n,this._languageService=s,this._toUnhook=new wt.SL,this._isMouseDown=!1,this._hoverClicked=!1,this._contentWidget=null,this._glyphWidget=null,this._hookEvents(),this._didChangeConfigurationHandler=this._editor.onDidChangeConfiguration(g=>{g.hasChanged(55)&&(this._unhookEvents(),this._hookEvents())})}static get(e){return e.getContribution(lv.ID)}_hookEvents(){const e=()=>this._hideWidgets(),t=this._editor.getOption(55);this._isHoverEnabled=t.enabled,this._isHoverSticky=t.sticky,this._isHoverEnabled?(this._toUnhook.add(this._editor.onMouseDown(n=>this._onEditorMouseDown(n))),this._toUnhook.add(this._editor.onMouseUp(n=>this._onEditorMouseUp(n))),this._toUnhook.add(this._editor.onMouseMove(n=>this._onEditorMouseMove(n))),this._toUnhook.add(this._editor.onKeyDown(n=>this._onKeyDown(n)))):(this._toUnhook.add(this._editor.onMouseMove(n=>this._onEditorMouseMove(n))),this._toUnhook.add(this._editor.onKeyDown(n=>this._onKeyDown(n)))),this._toUnhook.add(this._editor.onMouseLeave(n=>this._onEditorMouseLeave(n))),this._toUnhook.add(this._editor.onDidChangeModel(e)),this._toUnhook.add(this._editor.onDidScrollChange(n=>this._onEditorScrollChanged(n)))}_unhookEvents(){this._toUnhook.clear()}_onEditorScrollChanged(e){(e.scrollTopChanged||e.scrollLeftChanged)&&this._hideWidgets()}_onEditorMouseDown(e){this._isMouseDown=!0;const t=e.target;if(t.type===9&&t.detail===cl.ID){this._hoverClicked=!0;return}t.type===12&&t.detail===Zl.ID||(t.type!==12&&(this._hoverClicked=!1),this._hideWidgets())}_onEditorMouseUp(e){this._isMouseDown=!1}_onEditorMouseLeave(e){var t;const n=e.event.browserEvent.relatedTarget;!((t=this._contentWidget)===null||t===void 0)&&t.containsNode(n)||this._hideWidgets()}_onEditorMouseMove(e){var t,n,s,o,g;const w=e.target;if(this._isMouseDown&&this._hoverClicked||this._isHoverSticky&&w.type===9&&w.detail===cl.ID||this._isHoverSticky&&!(!((n=(t=e.event.browserEvent.view)===null||t===void 0?void 0:t.getSelection())===null||n===void 0)&&n.isCollapsed)||!this._isHoverSticky&&w.type===9&&w.detail===cl.ID&&((s=this._contentWidget)===null||s===void 0?void 0:s.isColorPickerVisible())||this._isHoverSticky&&w.type===12&&w.detail===Zl.ID)return;if(!this._isHoverEnabled){this._hideWidgets();return}if(this._getOrCreateContentWidget().maybeShowAt(e)){(o=this._glyphWidget)===null||o===void 0||o.hide();return}if(w.type===2&&w.position){(g=this._contentWidget)===null||g===void 0||g.hide(),this._glyphWidget||(this._glyphWidget=new Zl(this._editor,this._languageService,this._openerService)),this._glyphWidget.startShowingAt(w.position.lineNumber);return}this._hideWidgets()}_onKeyDown(e){e.keyCode!==5&&e.keyCode!==6&&e.keyCode!==57&&e.keyCode!==4&&this._hideWidgets()}_hideWidgets(){var e,t,n;this._isMouseDown&&this._hoverClicked&&((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||(this._hoverClicked=!1,(t=this._glyphWidget)===null||t===void 0||t.hide(),(n=this._contentWidget)===null||n===void 0||n.hide())}_getOrCreateContentWidget(){return this._contentWidget||(this._contentWidget=this._instantiationService.createInstance(dc,this._editor)),this._contentWidget}isColorPickerVisible(){var e;return((e=this._contentWidget)===null||e===void 0?void 0:e.isColorPickerVisible())||!1}showContentHover(e,t,n){this._getOrCreateContentWidget().startShowingAtRange(e,t,n)}dispose(){var e,t;this._unhookEvents(),this._toUnhook.dispose(),this._didChangeConfigurationHandler.dispose(),(e=this._glyphWidget)===null||e===void 0||e.dispose(),(t=this._contentWidget)===null||t===void 0||t.dispose()}};_c.ID="editor.contrib.hover",_c=$m([ju(1,ki.TG),ju(2,gr.v4),ju(3,Yo.O),ju(4,ht.i6)],_c);class Gm extends je.R6{constructor(){super({id:"editor.action.showHover",label:_e.NC({key:"showHover",comment:["Label for action that will trigger the showing of a hover in the editor.","This allows for users to show the hover without using the mouse."]},"Show Hover"),alias:"Show Hover",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2087),weight:100}})}run(e,t){if(!t.hasModel())return;const n=_c.get(t);if(!n)return;const s=t.getPosition(),o=new _t.e(s.lineNumber,s.column,s.lineNumber,s.column),g=t.getOption(2)===2;n.showContentHover(o,1,g)}}class Zm extends je.R6{constructor(){super({id:"editor.action.showDefinitionPreviewHover",label:_e.NC({key:"showDefinitionPreviewHover",comment:["Label for action that will trigger the showing of definition preview hover in the editor.","This allows for users to show the definition preview hover without using the mouse."]},"Show Definition Preview Hover"),alias:"Show Definition Preview Hover",precondition:void 0})}run(e,t){const n=_c.get(t);if(!n)return;const s=t.getPosition();if(!s)return;const o=new _t.e(s.lineNumber,s.column,s.lineNumber,s.column),g=At.get(t);if(!g)return;g.startFindDefinitionFromCursor(s).then(()=>{n.showContentHover(o,1,!0)})}}(0,je._K)(_c.ID,_c),(0,je.Qr)(Gm),(0,je.Qr)(Zm),Ui.register(Vu),Ui.register($h),(0,dt.Ic)((p,e)=>{const t=p.getColor(Ce.ptc);t&&e.addRule(`.monaco-editor .hoverHighlight { background-color: ${t}; }`);const n=p.getColor(Ce.yJx);n&&e.addRule(`.monaco-editor .monaco-hover { background-color: ${n}; }`);const s=p.getColor(Ce.CNo);s&&(e.addRule(`.monaco-editor .monaco-hover { border: 1px solid ${s}; }`),e.addRule(`.monaco-editor .monaco-hover .hover-row:not(:first-child):not(:empty) { border-top: 1px solid ${s.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-top: 1px solid ${s.transparent(.5)}; }`),e.addRule(`.monaco-editor .monaco-hover hr { border-bottom: 0px solid ${s.transparent(.5)}; }`));const o=p.getColor(Ce.url);o&&e.addRule(`.monaco-editor .monaco-hover a { color: ${o}; }`);const g=p.getColor(Ce.sgC);g&&e.addRule(`.monaco-editor .monaco-hover a:hover { color: ${g}; }`);const w=p.getColor(Ce.Sbf);w&&e.addRule(`.monaco-editor .monaco-hover { color: ${w}; }`);const G=p.getColor(Ce.LoV);G&&e.addRule(`.monaco-editor .monaco-hover .hover-row .actions { background-color: ${G}; }`);const J=p.getColor(Ce.SwI);J&&e.addRule(`.monaco-editor .monaco-hover code { background-color: ${J}; }`)});class Gh extends wt.JT{constructor(e){super(),this._editor=e,this._register(e.onMouseDown(t=>this.onMouseDown(t)))}dispose(){super.dispose()}onMouseDown(e){const t=e.target;if(t.type!==6||!t.detail.injectedText||t.detail.injectedText.options.attachedData!==Cl||!t.range)return;const n=this._editor.getContribution(_c.ID);if(!!n&&!n.isColorPickerVisible()){const s=new _t.e(t.range.startLineNumber,t.range.startColumn+1,t.range.endLineNumber,t.range.endColumn+1);n.showContentHover(s,1,!1)}}}Gh.ID="editor.contrib.colorContribution",(0,je._K)(Gh.ID,Gh),Ui.register(Fl);var Zh=l(19183),rg=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};function Yh(p){return{asString:()=>rg(this,void 0,void 0,function*(){return p}),asFile:()=>{},value:typeof p=="string"?p:void 0}}function Ym(p,e,t){return{asString:()=>rg(this,void 0,void 0,function*(){return""}),asFile:()=>({name:p,uri:e,data:t}),value:void 0}}class ag{constructor(){this._entries=new Map}get size(){return this._entries.size}has(e){return this._entries.has(this.toKey(e))}get(e){var t;return(t=this._entries.get(this.toKey(e)))===null||t===void 0?void 0:t[0]}append(e,t){const n=this._entries.get(e);n?n.push(t):this._entries.set(this.toKey(e),[t])}replace(e,t){this._entries.set(this.toKey(e),[t])}delete(e){this._entries.delete(this.toKey(e))}*entries(){for(const[e,t]of this._entries.entries())for(const n of t)yield[e,n]}values(){return Array.from(this._entries.values()).flat()}forEach(e){for(const[t,n]of this.entries())e(n,t)}toKey(e){return e.toLowerCase()}}var $c=l(72086);const lg=function(){if(typeof crypto=="object"&&typeof crypto.randomUUID=="function")return crypto.randomUUID.bind(crypto);let p;typeof crypto=="object"&&typeof crypto.getRandomValues=="function"?p=crypto.getRandomValues.bind(crypto):p=function(n){for(let s=0;s<n.length;s++)n[s]=Math.floor(Math.random()*256);return n};const e=new Uint8Array(16),t=[];for(let n=0;n<256;n++)t.push(n.toString(16).padStart(2,"0"));return function(){p(e),e[6]=e[6]&15|64,e[8]=e[8]&63|128;let s=0,o="";return o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o+="-",o+=t[e[s++]],o+=t[e[s++]],o+="-",o+=t[e[s++]],o+=t[e[s++]],o+="-",o+=t[e[s++]],o+=t[e[s++]],o+="-",o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o+=t[e[s++]],o}}(),pe={EDITORS:"CodeEditors",FILES:"CodeFiles"};function r(p){var e;const t=[];if(p.dataTransfer&&p.dataTransfer.types.length>0){const n=p.dataTransfer.getData(pe.EDITORS);if(n)try{t.push(...(0,Qd.Q)(n))}catch(g){}else try{const g=p.dataTransfer.getData(Zh.g.RESOURCES);t.push(...f(g))}catch(g){}if(!((e=p.dataTransfer)===null||e===void 0)&&e.files)for(let g=0;g<p.dataTransfer.files.length;g++){const w=p.dataTransfer.files[g];if(w&&w.path)try{t.push({resource:Xi.o.file(w.path),isExternal:!0,allowWorkspaceOpen:!0})}catch(G){}}const s=p.dataTransfer.getData(pe.FILES);if(s)try{const g=JSON.parse(s);for(const w of g)t.push({resource:Xi.o.file(w),isExternal:!0,allowWorkspaceOpen:!0})}catch(g){}const o=pr.B.as(Y.DragAndDropContribution).getAll();for(const g of o){const w=p.dataTransfer.getData(g.dataFormatKey);if(w)try{t.push(...g.getEditorInputs(w))}catch(G){}}}return t}function f(p){const e=[];if(p){const t=JSON.parse(p);for(const n of t)if(n.indexOf(":")>0){const{selection:s,uri:o}=(0,gr.xI)(Xi.o.parse(n));e.push({resource:o,options:{selection:s}})}}return e}class x{constructor(){this._contributions=new Map}getAll(){return this._contributions.values()}}const Y={DragAndDropContribution:"workbench.contributions.dragAndDrop"};pr.B.add(Y.DragAndDropContribution,new x);var ie=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};function he(p){const e=new ag;for(const t of p.items){const n=t.type;if(t.kind==="string"){const s=new Promise(o=>t.getAsString(o));e.append(n,Yh(s))}else if(t.kind==="file"){const s=t.getAsFile();s&&e.append(n,ve(s))}}return e}function ve(p){const e=p.path?Xi.o.parse(p.path):void 0;return Ym(p.name,e,()=>ie(this,void 0,void 0,function*(){return new Uint8Array(yield p.arrayBuffer())}))}const $e=Object.freeze([pe.EDITORS,pe.FILES,Zh.g.RESOURCES]);function rt(p,e,t=!1){var n;if(e.dataTransfer&&(t||!p.has($c.v.uriList))){const s=r(e).filter(o=>o.resource).map(o=>o.resource.toString());for(const o of(n=e.dataTransfer)===null||n===void 0?void 0:n.items){const g=o.getAsFile();g&&s.push(g.path?Xi.o.file(g.path).toString():g.name)}s.length&&p.replace($c.v.uriList,Yh(gt.create(s)))}for(const s of $e)p.delete(s)}const gt=Object.freeze({create:p=>(0,$i.EB)(p.map(e=>e.toString())).join(`\r
`),parse:p=>p.split(`\r
`).filter(e=>!e.startsWith("#"))});var Ht=l(36677),xn=l(74691),ii=l(81729),Ki=l(34975);function gs(p,e=ci.ED){return(0,Ki.oP)(p,e)?p.charAt(0).toUpperCase()+p.slice(1):p}let ks=Object.create(null);var Os=l(46267),Zs=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Ds=function(p,e){return function(t,n){e(t,n,p)}};const Vs=Object.freeze({CURRENT_YEAR:!0,CURRENT_YEAR_SHORT:!0,CURRENT_MONTH:!0,CURRENT_DATE:!0,CURRENT_HOUR:!0,CURRENT_MINUTE:!0,CURRENT_SECOND:!0,CURRENT_DAY_NAME:!0,CURRENT_DAY_NAME_SHORT:!0,CURRENT_MONTH_NAME:!0,CURRENT_MONTH_NAME_SHORT:!0,CURRENT_SECONDS_UNIX:!0,SELECTION:!0,CLIPBOARD:!0,TM_SELECTED_TEXT:!0,TM_CURRENT_LINE:!0,TM_CURRENT_WORD:!0,TM_LINE_INDEX:!0,TM_LINE_NUMBER:!0,TM_FILENAME:!0,TM_FILENAME_BASE:!0,TM_DIRECTORY:!0,TM_FILEPATH:!0,CURSOR_INDEX:!0,CURSOR_NUMBER:!0,RELATIVE_FILEPATH:!0,BLOCK_COMMENT_START:!0,BLOCK_COMMENT_END:!0,LINE_COMMENT:!0,WORKSPACE_NAME:!0,WORKSPACE_FOLDER:!0,RANDOM:!0,RANDOM_HEX:!0,UUID:!0});class la{constructor(e){this._delegates=e}resolve(e){for(const t of this._delegates){const n=t.resolve(e);if(n!==void 0)return n}}}class vc{constructor(e,t,n,s){this._model=e,this._selection=t,this._selectionIdx=n,this._overtypingCapturer=s}resolve(e){const{name:t}=e;if(t==="SELECTION"||t==="TM_SELECTED_TEXT"){let n=this._model.getValueInRange(this._selection)||void 0,s=this._selection.startLineNumber!==this._selection.endLineNumber;if(!n&&this._overtypingCapturer){const o=this._overtypingCapturer.getLastOvertypedInfo(this._selectionIdx);o&&(n=o.value,s=o.multiline)}if(n&&s&&e.snippet){const o=this._model.getLineContent(this._selection.startLineNumber),g=(0,fi.V8)(o,0,this._selection.startColumn-1);let w=g;e.snippet.walk(J=>J===e?!1:(J instanceof yi&&(w=(0,fi.V8)((0,fi.uq)(J.value).pop())),!0));const G=(0,fi.Mh)(w,g);n=n.replace(/(\r\n|\r|\n)(.*)/g,(J,Q,ue)=>`${Q}${w.substr(G)}${ue}`)}return n}else{if(t==="TM_CURRENT_LINE")return this._model.getLineContent(this._selection.positionLineNumber);if(t==="TM_CURRENT_WORD"){const n=this._model.getWordAtPosition({lineNumber:this._selection.positionLineNumber,column:this._selection.positionColumn});return n&&n.word||void 0}else{if(t==="TM_LINE_INDEX")return String(this._selection.positionLineNumber-1);if(t==="TM_LINE_NUMBER")return String(this._selection.positionLineNumber);if(t==="CURSOR_INDEX")return String(this._selectionIdx);if(t==="CURSOR_NUMBER")return String(this._selectionIdx+1)}}}}class ko{constructor(e,t){this._labelService=e,this._model=t}resolve(e){const{name:t}=e;if(t==="TM_FILENAME")return Os.EZ(this._model.uri.fsPath);if(t==="TM_FILENAME_BASE"){const n=Os.EZ(this._model.uri.fsPath),s=n.lastIndexOf(".");return s<=0?n:n.slice(0,s)}else{if(t==="TM_DIRECTORY")return Os.XX(this._model.uri.fsPath)==="."?"":this._labelService.getUriLabel((0,Ae.XX)(this._model.uri));if(t==="TM_FILEPATH")return this._labelService.getUriLabel(this._model.uri);if(t==="RELATIVE_FILEPATH")return this._labelService.getUriLabel(this._model.uri,{relative:!0,noPrefix:!0})}}}class bd{constructor(e,t,n,s){this._readClipboardText=e,this._selectionIdx=t,this._selectionCount=n,this._spread=s}resolve(e){if(e.name!=="CLIPBOARD")return;const t=this._readClipboardText();if(!!t){if(this._spread){const n=t.split(/\r\n|\n|\r/).filter(s=>!(0,fi.m5)(s));if(n.length===this._selectionCount)return n[this._selectionIdx]}return t}}}let Qs=class{constructor(e,t,n){this._model=e,this._selection=t,this._languageConfigurationService=n}resolve(e){const{name:t}=e,n=this._model.getLanguageIdAtPosition(this._selection.selectionStartLineNumber,this._selection.selectionStartColumn),s=this._languageConfigurationService.getLanguageConfiguration(n).comments;if(!!s){if(t==="LINE_COMMENT")return s.lineCommentToken||void 0;if(t==="BLOCK_COMMENT_START")return s.blockCommentStartToken||void 0;if(t==="BLOCK_COMMENT_END")return s.blockCommentEndToken||void 0}}};Qs=Zs([Ds(2,Lo.c_)],Qs);class us{constructor(){this._date=new Date}resolve(e){const{name:t}=e;if(t==="CURRENT_YEAR")return String(this._date.getFullYear());if(t==="CURRENT_YEAR_SHORT")return String(this._date.getFullYear()).slice(-2);if(t==="CURRENT_MONTH")return String(this._date.getMonth().valueOf()+1).padStart(2,"0");if(t==="CURRENT_DATE")return String(this._date.getDate().valueOf()).padStart(2,"0");if(t==="CURRENT_HOUR")return String(this._date.getHours().valueOf()).padStart(2,"0");if(t==="CURRENT_MINUTE")return String(this._date.getMinutes().valueOf()).padStart(2,"0");if(t==="CURRENT_SECOND")return String(this._date.getSeconds().valueOf()).padStart(2,"0");if(t==="CURRENT_DAY_NAME")return us.dayNames[this._date.getDay()];if(t==="CURRENT_DAY_NAME_SHORT")return us.dayNamesShort[this._date.getDay()];if(t==="CURRENT_MONTH_NAME")return us.monthNames[this._date.getMonth()];if(t==="CURRENT_MONTH_NAME_SHORT")return us.monthNamesShort[this._date.getMonth()];if(t==="CURRENT_SECONDS_UNIX")return String(Math.floor(this._date.getTime()/1e3))}}us.dayNames=[_e.NC("Sunday","Sunday"),_e.NC("Monday","Monday"),_e.NC("Tuesday","Tuesday"),_e.NC("Wednesday","Wednesday"),_e.NC("Thursday","Thursday"),_e.NC("Friday","Friday"),_e.NC("Saturday","Saturday")],us.dayNamesShort=[_e.NC("SundayShort","Sun"),_e.NC("MondayShort","Mon"),_e.NC("TuesdayShort","Tue"),_e.NC("WednesdayShort","Wed"),_e.NC("ThursdayShort","Thu"),_e.NC("FridayShort","Fri"),_e.NC("SaturdayShort","Sat")],us.monthNames=[_e.NC("January","January"),_e.NC("February","February"),_e.NC("March","March"),_e.NC("April","April"),_e.NC("May","May"),_e.NC("June","June"),_e.NC("July","July"),_e.NC("August","August"),_e.NC("September","September"),_e.NC("October","October"),_e.NC("November","November"),_e.NC("December","December")],us.monthNamesShort=[_e.NC("JanuaryShort","Jan"),_e.NC("FebruaryShort","Feb"),_e.NC("MarchShort","Mar"),_e.NC("AprilShort","Apr"),_e.NC("MayShort","May"),_e.NC("JuneShort","Jun"),_e.NC("JulyShort","Jul"),_e.NC("AugustShort","Aug"),_e.NC("SeptemberShort","Sep"),_e.NC("OctoberShort","Oct"),_e.NC("NovemberShort","Nov"),_e.NC("DecemberShort","Dec")];class Qo{constructor(e){this._workspaceService=e}resolve(e){if(!this._workspaceService)return;const t=(0,ii.uT)(this._workspaceService.getWorkspace());if(!!t){if(e.name==="WORKSPACE_NAME")return this._resolveWorkspaceName(t);if(e.name==="WORKSPACE_FOLDER")return this._resoveWorkspacePath(t)}}_resolveWorkspaceName(e){if((0,ii.eb)(e))return Os.EZ(e.uri.path);let t=Os.EZ(e.configPath.path);return t.endsWith(ii.A6)&&(t=t.substr(0,t.length-ii.A6.length-1)),t}_resoveWorkspacePath(e){if((0,ii.eb)(e))return gs(e.uri.fsPath);const t=Os.EZ(e.configPath.path);let n=e.configPath.fsPath;return n.endsWith(t)&&(n=n.substr(0,n.length-t.length-1)),n?gs(n):"/"}}class Gc{resolve(e){const{name:t}=e;if(t==="RANDOM")return Math.random().toString().slice(-6);if(t==="RANDOM_HEX")return Math.random().toString(16).slice(-6);if(t==="UUID")return lg()}}var wd=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Ev=function(p,e){return function(t,n){e(t,n,p)}};class dl{constructor(e,t,n){this._editor=e,this._snippet=t,this._snippetLineLeadingWhitespace=n,this._offset=-1,this._nestingLevel=1,this._placeholderGroups=(0,$i.vM)(t.placeholders,Ns.compareByIndex),this._placeholderGroupsIdx=-1}initialize(e){this._offset=e.newPosition}dispose(){this._placeholderDecorations&&this._editor.removeDecorations([...this._placeholderDecorations.values()]),this._placeholderGroups.length=0}_initDecorations(){if(this._offset===-1)throw new Error("Snippet not initialized!");if(this._placeholderDecorations)return;this._placeholderDecorations=new Map;const e=this._editor.getModel();this._editor.changeDecorations(t=>{for(const n of this._snippet.placeholders){const s=this._snippet.offset(n),o=this._snippet.fullLen(n),g=_t.e.fromPositions(e.getPositionAt(this._offset+s),e.getPositionAt(this._offset+s+o)),w=n.isFinalTabstop?dl._decor.inactiveFinal:dl._decor.inactive,G=t.addDecoration(g,w);this._placeholderDecorations.set(n,G)}})}move(e){if(!this._editor.hasModel())return[];if(this._initDecorations(),this._placeholderGroupsIdx>=0){const s=[];for(const o of this._placeholderGroups[this._placeholderGroupsIdx])if(o.transform){const g=this._placeholderDecorations.get(o),w=this._editor.getModel().getDecorationRange(g),G=this._editor.getModel().getValueInRange(w),J=o.transform.resolve(G).split(/\r\n|\r|\n/);for(let Q=1;Q<J.length;Q++)J[Q]=this._editor.getModel().normalizeIndentation(this._snippetLineLeadingWhitespace+J[Q]);s.push(xn.h.replace(w,J.join(this._editor.getModel().getEOL())))}s.length>0&&this._editor.executeEdits("snippet.placeholderTransform",s)}let t=!1;e===!0&&this._placeholderGroupsIdx<this._placeholderGroups.length-1?(this._placeholderGroupsIdx+=1,t=!0):e===!1&&this._placeholderGroupsIdx>0&&(this._placeholderGroupsIdx-=1,t=!0);const n=this._editor.getModel().changeDecorations(s=>{const o=new Set,g=[];for(const w of this._placeholderGroups[this._placeholderGroupsIdx]){const G=this._placeholderDecorations.get(w),J=this._editor.getModel().getDecorationRange(G);g.push(new qn.Y(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn)),t=t&&this._hasPlaceholderBeenCollapsed(w),s.changeDecorationOptions(G,w.isFinalTabstop?dl._decor.activeFinal:dl._decor.active),o.add(w);for(const Q of this._snippet.enclosingPlaceholders(w)){const ue=this._placeholderDecorations.get(Q);s.changeDecorationOptions(ue,Q.isFinalTabstop?dl._decor.activeFinal:dl._decor.active),o.add(Q)}}for(const[w,G]of this._placeholderDecorations)o.has(w)||s.changeDecorationOptions(G,w.isFinalTabstop?dl._decor.inactiveFinal:dl._decor.inactive);return g});return t?this.move(e):n!=null?n:[]}_hasPlaceholderBeenCollapsed(e){let t=e;for(;t;){if(t instanceof Ns){const n=this._placeholderDecorations.get(t);if(this._editor.getModel().getDecorationRange(n).isEmpty()&&t.toString().length>0)return!0}t=t.parent}return!1}get isAtFirstPlaceholder(){return this._placeholderGroupsIdx<=0||this._placeholderGroups.length===0}get isAtLastPlaceholder(){return this._placeholderGroupsIdx===this._placeholderGroups.length-1}get hasPlaceholder(){return this._snippet.placeholders.length>0}get isTrivialSnippet(){return this._snippet.placeholders.length===0||this._snippet.placeholders.length===1&&this._snippet.placeholders[0].isFinalTabstop}computePossibleSelections(){const e=new Map;for(const t of this._placeholderGroups){let n;for(const s of t){if(s.isFinalTabstop)break;n||(n=[],e.set(s.index,n));const o=this._placeholderDecorations.get(s),g=this._editor.getModel().getDecorationRange(o);if(!g){e.delete(s.index);break}n.push(g)}}return e}get activeChoice(){if(!this._placeholderDecorations)return;const e=this._placeholderGroups[this._placeholderGroupsIdx][0];if(!(e!=null&&e.choice))return;const t=this._placeholderDecorations.get(e);if(!t)return;const n=this._editor.getModel().getDecorationRange(t);if(!!n)return{range:n,choice:e.choice}}get hasChoice(){let e=!1;return this._snippet.walk(t=>(e=t instanceof Ts,!e)),e}merge(e){const t=this._editor.getModel();this._nestingLevel*=10,this._editor.changeDecorations(n=>{for(const s of this._placeholderGroups[this._placeholderGroupsIdx]){const o=e.shift();console.assert(o._offset!==-1),console.assert(!o._placeholderDecorations);const g=o._snippet.placeholderInfo.last.index;for(const G of o._snippet.placeholderInfo.all)G.isFinalTabstop?G.index=s.index+(g+1)/this._nestingLevel:G.index=s.index+G.index/this._nestingLevel;this._snippet.replace(s,o._snippet.children);const w=this._placeholderDecorations.get(s);n.removeDecoration(w),this._placeholderDecorations.delete(s);for(const G of o._snippet.placeholders){const J=o._snippet.offset(G),Q=o._snippet.fullLen(G),ue=_t.e.fromPositions(t.getPositionAt(o._offset+J),t.getPositionAt(o._offset+J+Q)),Ne=n.addDecoration(ue,dl._decor.inactive);this._placeholderDecorations.set(G,Ne)}}this._placeholderGroups=(0,$i.vM)(this._snippet.placeholders,Ns.compareByIndex)})}}dl._decor={active:Xn.qx.register({description:"snippet-placeholder-1",stickiness:0,className:"snippet-placeholder"}),inactive:Xn.qx.register({description:"snippet-placeholder-2",stickiness:1,className:"snippet-placeholder"}),activeFinal:Xn.qx.register({description:"snippet-placeholder-3",stickiness:1,className:"finish-snippet-placeholder"}),inactiveFinal:Xn.qx.register({description:"snippet-placeholder-4",stickiness:1,className:"finish-snippet-placeholder"})};const F0={overwriteBefore:0,overwriteAfter:0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let cg=class td{constructor(e,t,n=F0,s){this._editor=e,this._template=t,this._options=n,this._languageConfigurationService=s,this._templateMerges=[],this._snippets=[]}static adjustWhitespace(e,t,n,s,o){const g=e.getLineContent(t.lineNumber),w=(0,fi.V8)(g,0,t.column-1);let G;return n.walk(J=>{if(!(J instanceof yi)||J.parent instanceof Ts)return!0;const Q=J.value.split(/\r\n|\r|\n/);if(s){const Ne=n.offset(J);if(Ne===0)Q[0]=e.normalizeIndentation(Q[0]);else{G=G!=null?G:n.toString();const st=G.charCodeAt(Ne-1);(st===10||st===13)&&(Q[0]=e.normalizeIndentation(w+Q[0]))}for(let st=1;st<Q.length;st++)Q[st]=e.normalizeIndentation(w+Q[st])}const ue=Q.join(e.getEOL());return ue!==J.value&&(J.parent.replace(J,[new yi(ue)]),G=void 0),!0}),w}static adjustSelection(e,t,n,s){if(n!==0||s!==0){const{positionLineNumber:o,positionColumn:g}=t,w=g-n,G=g+s,J=e.validateRange({startLineNumber:o,startColumn:w,endLineNumber:o,endColumn:G});t=qn.Y.createWithDirection(J.startLineNumber,J.startColumn,J.endLineNumber,J.endColumn,t.getDirection())}return t}static createEditsAndSnippetsFromSelections(e,t,n,s,o,g,w,G,J){const Q=[],ue=[];if(!e.hasModel())return{edits:Q,snippets:ue};const Ne=e.getModel(),st=e.invokeWithinContext(Ti=>Ti.get(ii.ec)),mt=e.invokeWithinContext(Ti=>new ko(Ti.get(vo.e),Ne)),bt=()=>w,$t=Ne.getValueInRange(td.adjustSelection(Ne,e.getSelection(),n,0)),Cn=Ne.getValueInRange(td.adjustSelection(Ne,e.getSelection(),0,s)),Yn=Ne.getLineFirstNonWhitespaceColumn(e.getSelection().positionLineNumber),ei=e.getSelections().map((Ti,Ji)=>({selection:Ti,idx:Ji})).sort((Ti,Ji)=>_t.e.compareRangesUsingStarts(Ti.selection,Ji.selection));for(const{selection:Ti,idx:Ji}of ei){let to=td.adjustSelection(Ne,Ti,n,0),Ls=td.adjustSelection(Ne,Ti,0,s);$t!==Ne.getValueInRange(to)&&(to=Ti),Cn!==Ne.getValueInRange(Ls)&&(Ls=Ti);const Ir=Ti.setStartPosition(to.startLineNumber,to.startColumn).setEndPosition(Ls.endLineNumber,Ls.endColumn),Gr=new Wo().parse(t,!0,o),wa=Ir.getStartPosition(),Sc=td.adjustWhitespace(Ne,wa,Gr,g||Ji>0&&Yn!==Ne.getLineFirstNonWhitespaceColumn(Ti.positionLineNumber),!0);Gr.resolveVariables(new la([mt,new bd(bt,Ji,ei.length,e.getOption(73)==="spread"),new vc(Ne,Ti,Ji,G),new Qs(Ne,Ti,J),new us,new Qo(st),new Gc])),Q[Ji]=xn.h.replace(Ir,Gr.toString()),Q[Ji].identifier={major:Ji,minor:0},Q[Ji]._isTracked=!0,ue[Ji]=new dl(e,Gr,Sc)}return{edits:Q,snippets:ue}}static createEditsAndSnippetsFromEdits(e,t,n,s,o,g,w){if(!e.hasModel()||t.length===0)return{edits:[],snippets:[]};const G=[],J=e.getModel(),Q=new Wo,ue=new Bo,Ne=new la([e.invokeWithinContext(mt=>new ko(mt.get(vo.e),J)),new bd(()=>o,0,e.getSelections().length,e.getOption(73)==="spread"),new vc(J,e.getSelection(),0,g),new Qs(J,e.getSelection(),w),new us,new Qo(e.invokeWithinContext(mt=>mt.get(ii.ec))),new Gc]);t=t.sort((mt,bt)=>_t.e.compareRangesUsingStarts(mt.range,bt.range));let st=0;for(let mt=0;mt<t.length;mt++){const{range:bt,template:$t}=t[mt];if(mt>0){const Ti=t[mt-1].range,Ji=_t.e.fromPositions(Ti.getEndPosition(),bt.getStartPosition()),to=new yi(J.getValueInRange(Ji));ue.appendChild(to),st+=to.value.length}Q.parseFragment($t,ue),ue.resolveVariables(Ne);const Cn=ue.toString(),Yn=Cn.slice(st);st=Cn.length;const ei=xn.h.replace(bt,Yn);ei.identifier={major:mt,minor:0},ei._isTracked=!0,G.push(ei)}return Q.ensureFinalTabstop(ue,n,!0),{edits:G,snippets:[new dl(e,ue,"")]}}dispose(){(0,wt.B9)(this._snippets)}_logInfo(){return`template="${this._template}", merged_templates="${this._templateMerges.join(" -> ")}"`}insert(){if(!this._editor.hasModel())return;const{edits:e,snippets:t}=typeof this._template=="string"?td.createEditsAndSnippetsFromSelections(this._editor,this._template,this._options.overwriteBefore,this._options.overwriteAfter,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService):td.createEditsAndSnippetsFromEdits(this._editor,this._template,!1,this._options.adjustWhitespace,this._options.clipboardText,this._options.overtypingCapturer,this._languageConfigurationService);this._snippets=t,this._editor.executeEdits("snippet",e,n=>{const s=n.filter(o=>!!o.identifier);for(let o=0;o<t.length;o++)t[o].initialize(s[o].textChange);return this._snippets[0].hasPlaceholder?this._move(!0):s.map(o=>qn.Y.fromPositions(o.range.getEndPosition()))}),this._editor.revealRange(this._editor.getSelections()[0])}merge(e,t=F0){if(!this._editor.hasModel())return;this._templateMerges.push([this._snippets[0]._nestingLevel,this._snippets[0]._placeholderGroupsIdx,e]);const{edits:n,snippets:s}=td.createEditsAndSnippetsFromSelections(this._editor,e,t.overwriteBefore,t.overwriteAfter,!0,t.adjustWhitespace,t.clipboardText,t.overtypingCapturer,this._languageConfigurationService);this._editor.executeEdits("snippet",n,o=>{const g=o.filter(G=>!!G.identifier);for(let G=0;G<s.length;G++)s[G].initialize(g[G].textChange);const w=s[0].isTrivialSnippet;if(!w){for(const G of this._snippets)G.merge(s);console.assert(s.length===0)}return this._snippets[0].hasPlaceholder&&!w?this._move(void 0):g.map(G=>qn.Y.fromPositions(G.range.getEndPosition()))})}next(){const e=this._move(!0);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}prev(){const e=this._move(!1);this._editor.setSelections(e),this._editor.revealPositionInCenterIfOutsideViewport(e[0].getPosition())}_move(e){const t=[];for(const n of this._snippets){const s=n.move(e);t.push(...s)}return t}get isAtFirstPlaceholder(){return this._snippets[0].isAtFirstPlaceholder}get isAtLastPlaceholder(){return this._snippets[0].isAtLastPlaceholder}get hasPlaceholder(){return this._snippets[0].hasPlaceholder}get hasChoice(){return this._snippets[0].hasChoice}get activeChoice(){return this._snippets[0].activeChoice}isSelectionWithinPlaceholders(){if(!this.hasPlaceholder)return!1;const e=this._editor.getSelections();if(e.length<this._snippets.length)return!1;const t=new Map;for(const n of this._snippets){const s=n.computePossibleSelections();if(t.size===0)for(const[o,g]of s){g.sort(_t.e.compareRangesUsingStarts);for(const w of e)if(g[0].containsRange(w)){t.set(o,[]);break}}if(t.size===0)return!1;t.forEach((o,g)=>{o.push(...s.get(g))})}e.sort(_t.e.compareRangesUsingStarts);for(const[n,s]of t){if(s.length!==e.length){t.delete(n);continue}s.sort(_t.e.compareRangesUsingStarts);for(let o=0;o<s.length;o++)if(!s[o].containsRange(e[o])){t.delete(n);continue}}return t.size>0}};cg=wd([Ev(3,Lo.c_)],cg);var Dv=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},dg=function(p,e){return function(t,n){e(t,n,p)}};const ug={overwriteBefore:0,overwriteAfter:0,undoStopBefore:!0,undoStopAfter:!0,adjustWhitespace:!0,clipboardText:void 0,overtypingCapturer:void 0};let or=class $f{constructor(e,t,n,s,o){this._editor=e,this._logService=t,this._languageFeaturesService=n,this._languageConfigurationService=o,this._snippetListener=new wt.SL,this._modelVersionId=-1,this._inSnippet=$f.InSnippetMode.bindTo(s),this._hasNextTabstop=$f.HasNextTabstop.bindTo(s),this._hasPrevTabstop=$f.HasPrevTabstop.bindTo(s)}static get(e){return e.getContribution($f.ID)}dispose(){var e;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),(e=this._session)===null||e===void 0||e.dispose(),this._snippetListener.dispose()}apply(e,t){try{this._doInsert(e,typeof t=="undefined"?ug:Object.assign(Object.assign({},ug),t))}catch(n){this.cancel(),this._logService.error(n),this._logService.error("snippet_error"),this._logService.error("insert_edits=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}insert(e,t){try{this._doInsert(e,typeof t=="undefined"?ug:Object.assign(Object.assign({},ug),t))}catch(n){this.cancel(),this._logService.error(n),this._logService.error("snippet_error"),this._logService.error("insert_template=",e),this._logService.error("existing_template=",this._session?this._session._logInfo():"<no_session>")}}_doInsert(e,t){var n;if(!!this._editor.hasModel()){if(this._snippetListener.clear(),t.undoStopBefore&&this._editor.getModel().pushStackElement(),this._session&&typeof e!="string"&&this.cancel(),this._session?((0,Zi.p_)(typeof e=="string"),this._session.merge(e,t)):(this._modelVersionId=this._editor.getModel().getAlternativeVersionId(),this._session=new cg(this._editor,e,t,this._languageConfigurationService),this._session.insert()),t.undoStopAfter&&this._editor.getModel().pushStackElement(),!((n=this._session)===null||n===void 0)&&n.hasChoice){this._choiceCompletionItemProvider={provideCompletionItems:(o,g)=>{if(!this._session||o!==this._editor.getModel()||!ln.L.equals(this._editor.getPosition(),g))return;const{activeChoice:w}=this._session;if(!w||w.choice.options.length===0)return;const G=o.getValueInRange(w.range),J=Boolean(w.choice.options.find(ue=>ue.value===G)),Q=[];for(let ue=0;ue<w.choice.options.length;ue++){const Ne=w.choice.options[ue];Q.push({kind:13,label:Ne.value,insertText:Ne.value,sortText:"a".repeat(ue+1),range:w.range,filterText:J?`${G}_${Ne.value}`:void 0,command:{id:"jumpToNextSnippetPlaceholder",title:(0,_e.NC)("next","Go to next placeholder...")}})}return{suggestions:Q}}};const s=this._languageFeaturesService.completionProvider.register({language:this._editor.getModel().getLanguageId(),pattern:this._editor.getModel().uri.fsPath,scheme:this._editor.getModel().uri.scheme},this._choiceCompletionItemProvider);this._snippetListener.add(s)}this._updateState(),this._snippetListener.add(this._editor.onDidChangeModelContent(s=>s.isFlush&&this.cancel())),this._snippetListener.add(this._editor.onDidChangeModel(()=>this.cancel())),this._snippetListener.add(this._editor.onDidChangeCursorSelection(()=>this._updateState()))}}_updateState(){if(!(!this._session||!this._editor.hasModel())){if(this._modelVersionId===this._editor.getModel().getAlternativeVersionId())return this.cancel();if(!this._session.hasPlaceholder)return this.cancel();if(this._session.isAtLastPlaceholder||!this._session.isSelectionWithinPlaceholders())return this._editor.getModel().pushStackElement(),this.cancel();this._inSnippet.set(!0),this._hasPrevTabstop.set(!this._session.isAtFirstPlaceholder),this._hasNextTabstop.set(!this._session.isAtLastPlaceholder),this._handleChoice()}}_handleChoice(){if(!this._session||!this._editor.hasModel()){this._currentChoice=void 0;return}const{activeChoice:e}=this._session;if(!e||!this._choiceCompletionItemProvider){this._currentChoice=void 0;return}this._currentChoice!==e.choice&&(this._currentChoice=e.choice,queueMicrotask(()=>{Uc(this._editor,this._choiceCompletionItemProvider)}))}finish(){for(;this._inSnippet.get();)this.next()}cancel(e=!1){var t;this._inSnippet.reset(),this._hasPrevTabstop.reset(),this._hasNextTabstop.reset(),this._snippetListener.clear(),this._currentChoice=void 0,(t=this._session)===null||t===void 0||t.dispose(),this._session=void 0,this._modelVersionId=-1,e&&this._editor.setSelections([this._editor.getSelection()])}prev(){this._session&&this._session.prev(),this._updateState()}next(){this._session&&this._session.next(),this._updateState()}isInSnippet(){return Boolean(this._inSnippet.get())}};or.ID="snippetController2",or.InSnippetMode=new ht.uy("inSnippetMode",!1,(0,_e.NC)("inSnippetMode","Whether the editor in current in snippet mode")),or.HasNextTabstop=new ht.uy("hasNextTabstop",!1,(0,_e.NC)("hasNextTabstop","Whether there is a next tab stop when in snippet mode")),or.HasPrevTabstop=new ht.uy("hasPrevTabstop",!1,(0,_e.NC)("hasPrevTabstop","Whether there is a previous tab stop when in snippet mode")),or=Dv([dg(1,Ht.VZ),dg(2,bi.p),dg(3,ht.i6),dg(4,Lo.c_)],or),(0,je._K)(or.ID,or);const hg=je._l.bindToContribution(or.get);(0,je.fK)(new hg({id:"jumpToNextSnippetPlaceholder",precondition:ht.Ao.and(or.InSnippetMode,or.HasNextTabstop),handler:p=>p.next(),kbOpts:{weight:100+30,kbExpr:vt.u.editorTextFocus,primary:2}})),(0,je.fK)(new hg({id:"jumpToPrevSnippetPlaceholder",precondition:ht.Ao.and(or.InSnippetMode,or.HasPrevTabstop),handler:p=>p.prev(),kbOpts:{weight:100+30,kbExpr:vt.u.editorTextFocus,primary:1026}})),(0,je.fK)(new hg({id:"leaveSnippet",precondition:or.InSnippetMode,handler:p=>p.cancel(!0),kbOpts:{weight:100+30,kbExpr:vt.u.editorTextFocus,primary:9,secondary:[1033]}})),(0,je.fK)(new hg({id:"acceptSnippet",precondition:or.InSnippetMode,handler:p=>p.finish()}));function B0(p,e,t){const n=or.get(p);return n?(p.focus(),n.apply(t.map(s=>({range:qn.Y.liftSelection(s),template:e}))),n.isInSnippet()):!1}var xv=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},fg=function(p,e){return function(t,n){e(t,n,p)}},W0=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};const Qm="application/vnd.code.copyMetadata";let Qh=class extends wt.JT{constructor(e,t,n,s,o){super(),this._bulkEditService=t,this._clipboardService=n,this._configurationService=s,this._languageFeaturesService=o,this._editor=e;const g=e.getContainerDomNode();this._register((0,we.nm)(g,"copy",w=>this.handleCopy(w))),this._register((0,we.nm)(g,"cut",w=>this.handleCopy(w))),this._register((0,we.nm)(g,"paste",w=>this.handlePaste(w),!0))}arePasteActionsEnabled(e){return this._configurationService.getValue("editor.experimental.pasteActions.enabled",{resource:e.uri})}handleCopy(e){var t;if(!e.clipboardData||!this._editor.hasTextFocus())return;const n=this._editor.getModel(),s=this._editor.getSelections();if(!n||!(s!=null&&s.length)||!this.arePasteActionsEnabled(n))return;const o=[...s],g=s[0],w=g.isEmpty();if(w){if(!this._editor.getOption(33))return;o[0]=new _t.e(g.startLineNumber,0,g.startLineNumber,n.getLineLength(g.startLineNumber))}const G=this._languageFeaturesService.documentPasteEditProvider.ordered(n).filter(Ne=>!!Ne.prepareDocumentPaste);if(!G.length){this.setCopyMetadata(e.clipboardData,{wasFromEmptySelection:w});return}const J=he(e.clipboardData),Q=lg();this.setCopyMetadata(e.clipboardData,{id:Q,wasFromEmptySelection:w});const ue=(0,kt.PG)(Ne=>W0(this,void 0,void 0,function*(){const st=yield Promise.all(G.map(mt=>mt.prepareDocumentPaste(n,o,J,Ne)));for(const mt of st)mt==null||mt.forEach((bt,$t)=>{J.replace($t,bt)});return J}));(t=this._currentClipboardItem)===null||t===void 0||t.dataTransferPromise.cancel(),this._currentClipboardItem={handle:Q,dataTransferPromise:ue}}setCopyMetadata(e,t){e.setData(Qm,JSON.stringify(t))}handlePaste(e){var t,n,s;return W0(this,void 0,void 0,function*(){if(!e.clipboardData||!this._editor.hasTextFocus())return;const o=this._editor.getSelections();if(!(o!=null&&o.length)||!this._editor.hasModel())return;const g=this._editor.getModel();if(!this.arePasteActionsEnabled(g))return;let w;const G=(t=e.clipboardData)===null||t===void 0?void 0:t.getData(Qm);G&&typeof G=="string"&&(w=JSON.parse(G));const J=this._languageFeaturesService.documentPasteEditProvider.ordered(g);if(!J.length)return;e.preventDefault(),e.stopImmediatePropagation();const Q=g.getVersionId(),ue=new Es.Dl(this._editor,3);try{const Ne=he(e.clipboardData);if((w==null?void 0:w.id)&&((n=this._currentClipboardItem)===null||n===void 0?void 0:n.handle)===w.id&&(yield this._currentClipboardItem.dataTransferPromise).forEach(($t,Cn)=>{Ne.replace(Cn,$t)}),!Ne.has($c.v.uriList)){const bt=yield this._clipboardService.readResources();bt.length&&Ne.append($c.v.uriList,Yh(gt.create(bt)))}Ne.delete(Qm);for(const bt of J){if(!bt.pasteMimeTypes.some(Cn=>Cn.toLowerCase()===Zh.g.FILES.toLowerCase()?[...Ne.values()].some(Yn=>Yn.asFile()):Ne.has(Cn)))continue;const $t=yield bt.provideDocumentPasteEdits(g,o,Ne,ue.token);if(Q!==g.getVersionId())return;if($t){B0(this._editor,typeof $t.insertText=="string"?Wo.escape($t.insertText):$t.insertText.snippet,o),$t.additionalEdit&&(yield this._bulkEditService.apply(_s.fo.convert($t.additionalEdit),{editor:this._editor}));return}}const st=(s=Ne.get($c.v.text))!==null&&s!==void 0?s:Ne.get("text");if(!st)return;const mt=yield st.asString();if(Q!==g.getVersionId())return;this._editor.trigger("keyboard","paste",{text:mt,pasteOnNewLine:w==null?void 0:w.wasFromEmptySelection,multicursorText:null})}finally{ue.dispose()}})}};Qh.ID="editor.contrib.copyPasteActionController",Qh=xv([fg(1,_s.vu),fg(2,Li.p),fg(3,m.Ui),fg(4,bi.p)],Qh),(0,je._K)(Qh.ID,Qh),pr.B.as(lr.IP.Configuration).registerConfiguration(Object.assign(Object.assign({},Al.wk),{properties:{"editor.experimental.pasteActions.enabled":{type:"boolean",scope:5,description:_e.NC("pasteActions","Enable/disable running edits from extensions on paste."),default:!1}}}));class Sd{constructor(e,t,n){this.languageConfigurationService=n,this._selection=e,this._insertSpace=t,this._usedEndToken=null}static _haystackHasNeedleAtOffset(e,t,n){if(n<0)return!1;const s=t.length,o=e.length;if(n+s>o)return!1;for(let g=0;g<s;g++){const w=e.charCodeAt(n+g),G=t.charCodeAt(g);if(w!==G&&!(w>=65&&w<=90&&w+32===G)&&!(G>=65&&G<=90&&G+32===w))return!1}return!0}_createOperationsForBlockComment(e,t,n,s,o,g){const w=e.startLineNumber,G=e.startColumn,J=e.endLineNumber,Q=e.endColumn,ue=o.getLineContent(w),Ne=o.getLineContent(J);let st=ue.lastIndexOf(t,G-1+t.length),mt=Ne.indexOf(n,Q-1-n.length);if(st!==-1&&mt!==-1)if(w===J)ue.substring(st+t.length,mt).indexOf(n)>=0&&(st=-1,mt=-1);else{const $t=ue.substring(st+t.length),Cn=Ne.substring(0,mt);($t.indexOf(n)>=0||Cn.indexOf(n)>=0)&&(st=-1,mt=-1)}let bt;st!==-1&&mt!==-1?(s&&st+t.length<ue.length&&ue.charCodeAt(st+t.length)===32&&(t=t+" "),s&&mt>0&&Ne.charCodeAt(mt-1)===32&&(n=" "+n,mt-=1),bt=Sd._createRemoveBlockCommentOperations(new _t.e(w,st+t.length+1,J,mt+1),t,n)):(bt=Sd._createAddBlockCommentOperations(e,t,n,this._insertSpace),this._usedEndToken=bt.length===1?n:null);for(const $t of bt)g.addTrackedEditOperation($t.range,$t.text)}static _createRemoveBlockCommentOperations(e,t,n){const s=[];return _t.e.isEmpty(e)?s.push(xn.h.delete(new _t.e(e.startLineNumber,e.startColumn-t.length,e.endLineNumber,e.endColumn+n.length))):(s.push(xn.h.delete(new _t.e(e.startLineNumber,e.startColumn-t.length,e.startLineNumber,e.startColumn))),s.push(xn.h.delete(new _t.e(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn+n.length)))),s}static _createAddBlockCommentOperations(e,t,n,s){const o=[];return _t.e.isEmpty(e)?o.push(xn.h.replace(new _t.e(e.startLineNumber,e.startColumn,e.endLineNumber,e.endColumn),t+"  "+n)):(o.push(xn.h.insert(new ln.L(e.startLineNumber,e.startColumn),t+(s?" ":""))),o.push(xn.h.insert(new ln.L(e.endLineNumber,e.endColumn),(s?" ":"")+n))),o}getEditOperations(e,t){const n=this._selection.startLineNumber,s=this._selection.startColumn;e.tokenization.tokenizeIfCheap(n);const o=e.getLanguageIdAtPosition(n,s),g=this.languageConfigurationService.getLanguageConfiguration(o).comments;!g||!g.blockCommentStartToken||!g.blockCommentEndToken||this._createOperationsForBlockComment(this._selection,g.blockCommentStartToken,g.blockCommentEndToken,this._insertSpace,e,t)}computeCursorState(e,t){const n=t.getInverseEditOperations();if(n.length===2){const s=n[0],o=n[1];return new qn.Y(s.range.endLineNumber,s.range.endColumn,o.range.startLineNumber,o.range.startColumn)}else{const s=n[0].range,o=this._usedEndToken?-this._usedEndToken.length-1:0;return new qn.Y(s.endLineNumber,s.endColumn+o,s.endLineNumber,s.endColumn+o)}}}class Zc{constructor(e,t,n,s,o,g,w){this.languageConfigurationService=e,this._selection=t,this._tabSize=n,this._type=s,this._insertSpace=o,this._selectionId=null,this._deltaColumn=0,this._moveEndPositionDown=!1,this._ignoreEmptyLines=g,this._ignoreFirstLine=w||!1}static _gatherPreflightCommentStrings(e,t,n,s){e.tokenization.tokenizeIfCheap(t);const o=e.getLanguageIdAtPosition(t,1),g=s.getLanguageConfiguration(o).comments,w=g?g.lineCommentToken:null;if(!w)return null;const G=[];for(let J=0,Q=n-t+1;J<Q;J++)G[J]={ignore:!1,commentStr:w,commentStrOffset:0,commentStrLength:w.length};return G}static _analyzeLines(e,t,n,s,o,g,w,G){let J=!0,Q;e===0?Q=!0:e===1?Q=!1:Q=!0;for(let ue=0,Ne=s.length;ue<Ne;ue++){const st=s[ue],mt=o+ue;if(mt===o&&w){st.ignore=!0;continue}const bt=n.getLineContent(mt),$t=fi.LC(bt);if($t===-1){st.ignore=g,st.commentStrOffset=bt.length;continue}if(J=!1,st.ignore=!1,st.commentStrOffset=$t,Q&&!Sd._haystackHasNeedleAtOffset(bt,st.commentStr,$t)&&(e===0?Q=!1:e===1||(st.ignore=!0)),Q&&t){const Cn=$t+st.commentStrLength;Cn<bt.length&&bt.charCodeAt(Cn)===32&&(st.commentStrLength+=1)}}if(e===0&&J){Q=!1;for(let ue=0,Ne=s.length;ue<Ne;ue++)s[ue].ignore=!1}return{supported:!0,shouldRemoveComments:Q,lines:s}}static _gatherPreflightData(e,t,n,s,o,g,w,G){const J=Zc._gatherPreflightCommentStrings(n,s,o,G);return J===null?{supported:!1}:Zc._analyzeLines(e,t,n,J,s,g,w,G)}_executeLineComments(e,t,n,s){let o;n.shouldRemoveComments?o=Zc._createRemoveLineCommentsOperations(n.lines,s.startLineNumber):(Zc._normalizeInsertionPoint(e,n.lines,s.startLineNumber,this._tabSize),o=this._createAddLineCommentsOperations(n.lines,s.startLineNumber));const g=new ln.L(s.positionLineNumber,s.positionColumn);for(let w=0,G=o.length;w<G;w++)t.addEditOperation(o[w].range,o[w].text),_t.e.isEmpty(o[w].range)&&_t.e.getStartPosition(o[w].range).equals(g)&&e.getLineContent(g.lineNumber).length+1===g.column&&(this._deltaColumn=(o[w].text||"").length);this._selectionId=t.trackSelection(s)}_attemptRemoveBlockComment(e,t,n,s){let o=t.startLineNumber,g=t.endLineNumber;const w=s.length+Math.max(e.getLineFirstNonWhitespaceColumn(t.startLineNumber),t.startColumn);let G=e.getLineContent(o).lastIndexOf(n,w-1),J=e.getLineContent(g).indexOf(s,t.endColumn-1-n.length);return G!==-1&&J===-1&&(J=e.getLineContent(o).indexOf(s,G+n.length),g=o),G===-1&&J!==-1&&(G=e.getLineContent(g).lastIndexOf(n,J),o=g),t.isEmpty()&&(G===-1||J===-1)&&(G=e.getLineContent(o).indexOf(n),G!==-1&&(J=e.getLineContent(o).indexOf(s,G+n.length))),G!==-1&&e.getLineContent(o).charCodeAt(G+n.length)===32&&(n+=" "),J!==-1&&e.getLineContent(g).charCodeAt(J-1)===32&&(s=" "+s,J-=1),G!==-1&&J!==-1?Sd._createRemoveBlockCommentOperations(new _t.e(o,G+n.length+1,g,J+1),n,s):null}_executeBlockComment(e,t,n){e.tokenization.tokenizeIfCheap(n.startLineNumber);const s=e.getLanguageIdAtPosition(n.startLineNumber,1),o=this.languageConfigurationService.getLanguageConfiguration(s).comments;if(!o||!o.blockCommentStartToken||!o.blockCommentEndToken)return;const g=o.blockCommentStartToken,w=o.blockCommentEndToken;let G=this._attemptRemoveBlockComment(e,n,g,w);if(!G){if(n.isEmpty()){const J=e.getLineContent(n.startLineNumber);let Q=fi.LC(J);Q===-1&&(Q=J.length),G=Sd._createAddBlockCommentOperations(new _t.e(n.startLineNumber,Q+1,n.startLineNumber,J.length+1),g,w,this._insertSpace)}else G=Sd._createAddBlockCommentOperations(new _t.e(n.startLineNumber,e.getLineFirstNonWhitespaceColumn(n.startLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),g,w,this._insertSpace);G.length===1&&(this._deltaColumn=g.length+1)}this._selectionId=t.trackSelection(n);for(const J of G)t.addEditOperation(J.range,J.text)}getEditOperations(e,t){let n=this._selection;if(this._moveEndPositionDown=!1,n.startLineNumber===n.endLineNumber&&this._ignoreFirstLine){t.addEditOperation(new _t.e(n.startLineNumber,e.getLineMaxColumn(n.startLineNumber),n.startLineNumber+1,1),n.startLineNumber===e.getLineCount()?"":`
`),this._selectionId=t.trackSelection(n);return}n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._moveEndPositionDown=!0,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const s=Zc._gatherPreflightData(this._type,this._insertSpace,e,n.startLineNumber,n.endLineNumber,this._ignoreEmptyLines,this._ignoreFirstLine,this.languageConfigurationService);return s.supported?this._executeLineComments(e,t,s,n):this._executeBlockComment(e,t,n)}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),new qn.Y(n.selectionStartLineNumber,n.selectionStartColumn+this._deltaColumn,n.positionLineNumber,n.positionColumn+this._deltaColumn)}static _createRemoveLineCommentsOperations(e,t){const n=[];for(let s=0,o=e.length;s<o;s++){const g=e[s];g.ignore||n.push(xn.h.delete(new _t.e(t+s,g.commentStrOffset+1,t+s,g.commentStrOffset+g.commentStrLength+1)))}return n}_createAddLineCommentsOperations(e,t){const n=[],s=this._insertSpace?" ":"";for(let o=0,g=e.length;o<g;o++){const w=e[o];w.ignore||n.push(xn.h.insert(new ln.L(t+o,w.commentStrOffset+1),w.commentStr+s))}return n}static nextVisibleColumn(e,t,n,s){return n?e+(t-e%t):e+s}static _normalizeInsertionPoint(e,t,n,s){let o=1073741824,g,w;for(let G=0,J=t.length;G<J;G++){if(t[G].ignore)continue;const Q=e.getLineContent(n+G);let ue=0;for(let Ne=0,st=t[G].commentStrOffset;ue<o&&Ne<st;Ne++)ue=Zc.nextVisibleColumn(ue,s,Q.charCodeAt(Ne)===9,1);ue<o&&(o=ue)}o=Math.floor(o/s)*s;for(let G=0,J=t.length;G<J;G++){if(t[G].ignore)continue;const Q=e.getLineContent(n+G);let ue=0;for(g=0,w=t[G].commentStrOffset;ue<o&&g<w;g++)ue=Zc.nextVisibleColumn(ue,s,Q.charCodeAt(g)===9,1);ue>o?t[G].commentStrOffset=g-1:t[G].commentStrOffset=g}}}class Xm extends je.R6{constructor(e,t){super(t),this._type=e}run(e,t){const n=e.get(Lo.c_);if(!t.hasModel())return;const s=t.getModel(),o=[],g=s.getOptions(),w=t.getOption(19),G=t.getSelections().map((Q,ue)=>({selection:Q,index:ue,ignoreFirstLine:!1}));G.sort((Q,ue)=>_t.e.compareRangesUsingStarts(Q.selection,ue.selection));let J=G[0];for(let Q=1;Q<G.length;Q++){const ue=G[Q];J.selection.endLineNumber===ue.selection.startLineNumber&&(J.index<ue.index?ue.ignoreFirstLine=!0:(J.ignoreFirstLine=!0,J=ue))}for(const Q of G)o.push(new Zc(n,Q.selection,g.tabSize,this._type,w.insertSpace,w.ignoreEmptyLines,Q.ignoreFirstLine));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class Iv extends Xm{constructor(){super(0,{id:"editor.action.commentLine",label:_e.NC("comment.line","Toggle Line Comment"),alias:"Toggle Line Comment",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2133,weight:100},menuOpts:{menuId:Ve.eH.MenubarEditMenu,group:"5_insert",title:_e.NC({key:"miToggleLineComment",comment:["&& denotes a mnemonic"]},"&&Toggle Line Comment"),order:1}})}}class Nv extends Xm{constructor(){super(1,{id:"editor.action.addCommentLine",label:_e.NC("comment.line.add","Add Line Comment"),alias:"Add Line Comment",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2081),weight:100}})}}class Tv extends Xm{constructor(){super(2,{id:"editor.action.removeCommentLine",label:_e.NC("comment.line.remove","Remove Line Comment"),alias:"Remove Line Comment",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2099),weight:100}})}}class kv extends je.R6{constructor(){super({id:"editor.action.blockComment",label:_e.NC("comment.block","Toggle Block Comment"),alias:"Toggle Block Comment",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1567,linux:{primary:3103},weight:100},menuOpts:{menuId:Ve.eH.MenubarEditMenu,group:"5_insert",title:_e.NC({key:"miToggleBlockComment",comment:["&& denotes a mnemonic"]},"Toggle &&Block Comment"),order:2}})}run(e,t){const n=e.get(Lo.c_);if(!t.hasModel())return;const s=t.getOption(19),o=[],g=t.getSelections();for(const w of g)o.push(new Sd(w,s.insertSpace,n));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}(0,je.Qr)(Iv),(0,je.Qr)(Nv),(0,je.Qr)(Tv),(0,je.Qr)(kv);var Mv=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Ku=function(p,e){return function(t,n){e(t,n,p)}};let $u=class cv{constructor(e,t,n,s,o,g,w){this._contextMenuService=t,this._contextViewService=n,this._contextKeyService=s,this._keybindingService=o,this._menuService=g,this._configurationService=w,this._toDispose=new wt.SL,this._contextMenuIsBeingShownCount=0,this._editor=e,this._toDispose.add(this._editor.onContextMenu(G=>this._onContextMenu(G))),this._toDispose.add(this._editor.onMouseWheel(G=>{if(this._contextMenuIsBeingShownCount>0){const J=this._contextViewService.getContextViewElement(),Q=G.srcElement;Q.shadowRoot&&we.Ay(J)===Q.shadowRoot||this._contextViewService.hideContextView()}})),this._toDispose.add(this._editor.onKeyDown(G=>{!this._editor.getOption(20)||G.keyCode===58&&(G.preventDefault(),G.stopPropagation(),this.showContextMenu())}))}static get(e){return e.getContribution(cv.ID)}_onContextMenu(e){if(!this._editor.hasModel())return;if(!this._editor.getOption(20)){this._editor.focus(),e.target.position&&!this._editor.getSelection().containsPosition(e.target.position)&&this._editor.setPosition(e.target.position);return}if(e.target.type===12||e.target.type===6&&e.target.detail.injectedText)return;if(e.event.preventDefault(),e.event.stopPropagation(),e.target.type===11)return this._showScrollbarContextMenu({x:e.event.posx-1,width:2,y:e.event.posy-1,height:2});if(e.target.type!==6&&e.target.type!==7&&e.target.type!==1)return;if(this._editor.focus(),e.target.position){let n=!1;for(const s of this._editor.getSelections())if(s.containsPosition(e.target.position)){n=!0;break}n||this._editor.setPosition(e.target.position)}let t=null;e.target.type!==1&&(t={x:e.event.posx-1,width:2,y:e.event.posy-1,height:2}),this.showContextMenu(t)}showContextMenu(e){if(!this._editor.getOption(20)||!this._editor.hasModel())return;const t=this._getMenuActions(this._editor.getModel(),this._editor.isSimpleWidget?Ve.eH.SimpleEditorContext:Ve.eH.EditorContext);t.length>0&&this._doShowContextMenu(t,e)}_getMenuActions(e,t){const n=[],s=this._menuService.createMenu(t,this._contextKeyService),o=s.getActions({arg:e.uri});s.dispose();for(const g of o){const[,w]=g;let G=0;for(const J of w)if(J instanceof Ve.NZ){const Q=this._getMenuActions(e,J.item.submenu);Q.length>0&&(n.push(new F.wY(J.id,J.label,Q)),G++)}else n.push(J),G++;G&&n.push(new F.Z0)}return n.length&&n.pop(),n}_doShowContextMenu(e,t=null){if(!this._editor.hasModel())return;const n=this._editor.getOption(55);if(this._editor.updateOptions({hover:{enabled:!1}}),!t){this._editor.revealPosition(this._editor.getPosition(),1),this._editor.render();const o=this._editor.getScrolledVisiblePosition(this._editor.getPosition()),g=we.i(this._editor.getDomNode()),w=g.left+o.left,G=g.top+o.top+o.height;t={x:w,y:G}}const s=this._editor.getOption(117)&&!ci.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:s?this._editor.getDomNode():void 0,getAnchor:()=>t,getActions:()=>e,getActionViewItem:o=>{const g=this._keybindingFor(o);if(g)return new Ia.g(o,o,{label:!0,keybinding:g.getLabel(),isMenu:!0});const w=o;return typeof w.getActionViewItem=="function"?w.getActionViewItem():new Ia.g(o,o,{icon:!0,label:!0,isMenu:!0})},getKeyBinding:o=>this._keybindingFor(o),onHide:o=>{this._contextMenuIsBeingShownCount--,this._editor.focus(),this._editor.updateOptions({hover:n})}})}_showScrollbarContextMenu(e){if(!this._editor.hasModel())return;const t=this._editor.getOption(67);let n=0;const s=J=>({id:`menu-action-${++n}`,label:J.label,tooltip:"",class:void 0,enabled:typeof J.enabled=="undefined"?!0:J.enabled,checked:J.checked,run:J.run,dispose:()=>null}),o=(J,Q)=>new F.wY(`menu-action-${++n}`,J,Q,void 0),g=(J,Q,ue,Ne,st)=>{if(!Q)return s({label:J,enabled:Q,run:()=>{}});const mt=$t=>()=>{this._configurationService.updateValue(ue,$t)},bt=[];for(const $t of st)bt.push(s({label:$t.label,checked:Ne===$t.value,run:mt($t.value)}));return o(J,bt)},w=[];w.push(s({label:_e.NC("context.minimap.minimap","Minimap"),checked:t.enabled,run:()=>{this._configurationService.updateValue("editor.minimap.enabled",!t.enabled)}})),w.push(new F.Z0),w.push(s({label:_e.NC("context.minimap.renderCharacters","Render Characters"),enabled:t.enabled,checked:t.renderCharacters,run:()=>{this._configurationService.updateValue("editor.minimap.renderCharacters",!t.renderCharacters)}})),w.push(g(_e.NC("context.minimap.size","Vertical size"),t.enabled,"editor.minimap.size",t.size,[{label:_e.NC("context.minimap.size.proportional","Proportional"),value:"proportional"},{label:_e.NC("context.minimap.size.fill","Fill"),value:"fill"},{label:_e.NC("context.minimap.size.fit","Fit"),value:"fit"}])),w.push(g(_e.NC("context.minimap.slider","Slider"),t.enabled,"editor.minimap.showSlider",t.showSlider,[{label:_e.NC("context.minimap.slider.mouseover","Mouse Over"),value:"mouseover"},{label:_e.NC("context.minimap.slider.always","Always"),value:"always"}]));const G=this._editor.getOption(117)&&!ci.gn;this._contextMenuIsBeingShownCount++,this._contextMenuService.showContextMenu({domForShadowRoot:G?this._editor.getDomNode():void 0,getAnchor:()=>e,getActions:()=>w,onHide:J=>{this._contextMenuIsBeingShownCount--,this._editor.focus()}})}_keybindingFor(e){return this._keybindingService.lookupKeybinding(e.id)}dispose(){this._contextMenuIsBeingShownCount>0&&this._contextViewService.hideContextView(),this._toDispose.dispose()}};$u.ID="editor.contrib.contextmenu",$u=Mv([Ku(1,B.i),Ku(2,B.u),Ku(3,ht.i6),Ku(4,ee.d),Ku(5,Ve.co),Ku(6,m.Ui)],$u);class Rv extends je.R6{constructor(){super({id:"editor.action.showContextMenu",label:_e.NC("action.showContextMenu.label","Show Editor Context Menu"),alias:"Show Editor Context Menu",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:1092,weight:100}})}run(e,t){var n;(n=$u.get(t))===null||n===void 0||n.showContextMenu()}}(0,je._K)($u.ID,$u),(0,je.Qr)(Rv);class Jm{constructor(e){this.selections=e}equals(e){const t=this.selections.length,n=e.selections.length;if(t!==n)return!1;for(let s=0;s<t;s++)if(!this.selections[s].equalsSelection(e.selections[s]))return!1;return!0}}class qm{constructor(e,t,n){this.cursorState=e,this.scrollTop=t,this.scrollLeft=n}}class eu extends wt.JT{constructor(e){super(),this._editor=e,this._isCursorUndoRedo=!1,this._undoStack=[],this._redoStack=[],this._register(e.onDidChangeModel(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeModelContent(t=>{this._undoStack=[],this._redoStack=[]})),this._register(e.onDidChangeCursorSelection(t=>{if(this._isCursorUndoRedo||!t.oldSelections||t.oldModelVersionId!==t.modelVersionId)return;const n=new Jm(t.oldSelections);this._undoStack.length>0&&this._undoStack[this._undoStack.length-1].cursorState.equals(n)||(this._undoStack.push(new qm(n,e.getScrollTop(),e.getScrollLeft())),this._redoStack=[],this._undoStack.length>50&&this._undoStack.shift())}))}static get(e){return e.getContribution(eu.ID)}cursorUndo(){!this._editor.hasModel()||this._undoStack.length===0||(this._redoStack.push(new qm(new Jm(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._undoStack.pop()))}cursorRedo(){!this._editor.hasModel()||this._redoStack.length===0||(this._undoStack.push(new qm(new Jm(this._editor.getSelections()),this._editor.getScrollTop(),this._editor.getScrollLeft())),this._applyState(this._redoStack.pop()))}_applyState(e){this._isCursorUndoRedo=!0,this._editor.setSelections(e.cursorState.selections),this._editor.setScrollPosition({scrollTop:e.scrollTop,scrollLeft:e.scrollLeft}),this._isCursorUndoRedo=!1}}eu.ID="editor.contrib.cursorUndoRedoController";class Av extends je.R6{constructor(){super({id:"cursorUndo",label:_e.NC("cursor.undo","Cursor Undo"),alias:"Cursor Undo",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:2099,weight:100}})}run(e,t,n){var s;(s=eu.get(t))===null||s===void 0||s.cursorUndo()}}class Pv extends je.R6{constructor(){super({id:"cursorRedo",label:_e.NC("cursor.redo","Cursor Redo"),alias:"Cursor Redo",precondition:void 0})}run(e,t,n){var s;(s=eu.get(t))===null||s===void 0||s.cursorRedo()}}(0,je._K)(eu.ID,eu),(0,je.Qr)(Av),(0,je.Qr)(Pv);class Ov{constructor(e,t,n){this.selection=e,this.targetPosition=t,this.copy=n,this.targetSelection=null}getEditOperations(e,t){const n=e.getValueInRange(this.selection);if(this.copy||t.addEditOperation(this.selection,null),t.addEditOperation(new _t.e(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column),n),this.selection.containsPosition(this.targetPosition)&&!(this.copy&&(this.selection.getEndPosition().equals(this.targetPosition)||this.selection.getStartPosition().equals(this.targetPosition)))){this.targetSelection=this.selection;return}if(this.copy){this.targetSelection=new qn.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.selection.endLineNumber-this.selection.startLineNumber+this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber>this.selection.endLineNumber){this.targetSelection=new qn.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}if(this.targetPosition.lineNumber<this.selection.endLineNumber){this.targetSelection=new qn.Y(this.targetPosition.lineNumber,this.targetPosition.column,this.targetPosition.lineNumber+this.selection.endLineNumber-this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column+this.selection.endColumn-this.selection.startColumn:this.selection.endColumn);return}this.selection.endColumn<=this.targetPosition.column?this.targetSelection=new qn.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column-this.selection.endColumn+this.selection.startColumn:this.targetPosition.column-this.selection.endColumn+this.selection.startColumn,this.targetPosition.lineNumber,this.selection.startLineNumber===this.selection.endLineNumber?this.targetPosition.column:this.selection.endColumn):this.targetSelection=new qn.Y(this.targetPosition.lineNumber-this.selection.endLineNumber+this.selection.startLineNumber,this.targetPosition.column,this.targetPosition.lineNumber,this.targetPosition.column+this.selection.endColumn-this.selection.startColumn)}computeCursorState(e,t){return this.targetSelection}}function Gu(p){return ci.dz?p.altKey:p.ctrlKey}class Yc extends wt.JT{constructor(e){super(),this._editor=e,this._dndDecorationIds=this._editor.createDecorationsCollection(),this._register(this._editor.onMouseDown(t=>this._onEditorMouseDown(t))),this._register(this._editor.onMouseUp(t=>this._onEditorMouseUp(t))),this._register(this._editor.onMouseDrag(t=>this._onEditorMouseDrag(t))),this._register(this._editor.onMouseDrop(t=>this._onEditorMouseDrop(t))),this._register(this._editor.onMouseDropCanceled(()=>this._onEditorMouseDropCanceled())),this._register(this._editor.onKeyDown(t=>this.onEditorKeyDown(t))),this._register(this._editor.onKeyUp(t=>this.onEditorKeyUp(t))),this._register(this._editor.onDidBlurEditorWidget(()=>this.onEditorBlur())),this._register(this._editor.onDidBlurEditorText(()=>this.onEditorBlur())),this._mouseDown=!1,this._modifierPressed=!1,this._dragSelection=null}onEditorBlur(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1}onEditorKeyDown(e){!this._editor.getOption(31)||this._editor.getOption(18)||(Gu(e)&&(this._modifierPressed=!0),this._mouseDown&&Gu(e)&&this._editor.updateOptions({mouseStyle:"copy"}))}onEditorKeyUp(e){!this._editor.getOption(31)||this._editor.getOption(18)||(Gu(e)&&(this._modifierPressed=!1),this._mouseDown&&e.keyCode===Yc.TRIGGER_KEY_VALUE&&this._editor.updateOptions({mouseStyle:"default"}))}_onEditorMouseDown(e){this._mouseDown=!0}_onEditorMouseUp(e){this._mouseDown=!1,this._editor.updateOptions({mouseStyle:"text"})}_onEditorMouseDrag(e){const t=e.target;if(this._dragSelection===null){const s=(this._editor.getSelections()||[]).filter(o=>t.position&&o.containsPosition(t.position));if(s.length===1)this._dragSelection=s[0];else return}Gu(e.event)?this._editor.updateOptions({mouseStyle:"copy"}):this._editor.updateOptions({mouseStyle:"default"}),t.position&&(this._dragSelection.containsPosition(t.position)?this._removeDecoration():this.showAt(t.position))}_onEditorMouseDropCanceled(){this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}_onEditorMouseDrop(e){if(e.target&&(this._hitContent(e.target)||this._hitMargin(e.target))&&e.target.position){const t=new ln.L(e.target.position.lineNumber,e.target.position.column);if(this._dragSelection===null){let n=null;if(e.event.shiftKey){const s=this._editor.getSelection();if(s){const{selectionStartLineNumber:o,selectionStartColumn:g}=s;n=[new qn.Y(o,g,t.lineNumber,t.column)]}}else n=(this._editor.getSelections()||[]).map(s=>s.containsPosition(t)?new qn.Y(t.lineNumber,t.column,t.lineNumber,t.column):s);this._editor.setSelections(n||[],"mouse",3)}else(!this._dragSelection.containsPosition(t)||(Gu(e.event)||this._modifierPressed)&&(this._dragSelection.getEndPosition().equals(t)||this._dragSelection.getStartPosition().equals(t)))&&(this._editor.pushUndoStop(),this._editor.executeCommand(Yc.ID,new Ov(this._dragSelection,t,Gu(e.event)||this._modifierPressed)),this._editor.pushUndoStop())}this._editor.updateOptions({mouseStyle:"text"}),this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1}showAt(e){this._dndDecorationIds.set([{range:new _t.e(e.lineNumber,e.column,e.lineNumber,e.column),options:Yc._DECORATION_OPTIONS}]),this._editor.revealPosition(e,1)}_removeDecoration(){this._dndDecorationIds.clear()}_hitContent(e){return e.type===6||e.type===7}_hitMargin(e){return e.type===2||e.type===3||e.type===4}dispose(){this._removeDecoration(),this._dragSelection=null,this._mouseDown=!1,this._modifierPressed=!1,super.dispose()}}Yc.ID="editor.contrib.dragAndDrop",Yc.TRIGGER_KEY_VALUE=ci.dz?6:5,Yc._DECORATION_OPTIONS=Xn.qx.register({description:"dnd-target",className:"dnd-target"}),(0,je._K)(Yc.ID,Yc);var V0=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Xh=function(p,e){return function(t,n){e(t,n,p)}},gg=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};let Jh=class extends wt.JT{constructor(e,t,n,s,o){super(),this._bulkEditService=t,this._languageFeaturesService=n,this._progressService=s,this._register(e.onDropIntoEditor(g=>this.onDropIntoEditor(e,g.position,g.event))),this._languageFeaturesService.documentOnDropEditProvider.register("*",new ep(o))}onDropIntoEditor(e,t,n){return gg(this,void 0,void 0,function*(){if(!n.dataTransfer||!e.hasModel())return;const s=e.getModel(),o=s.getVersionId(),g=yield this.extractDataTransferData(n);if(g.size===0||e.getModel().getVersionId()!==o)return;const w=new Es.Dl(e,1);try{const G=this._languageFeaturesService.documentOnDropEditProvider.ordered(s),J=yield this._progressService.withProgress({location:15,delay:750,title:(0,_e.NC)("dropProgressTitle","Running drop handlers..."),cancellable:!0},()=>(0,kt.eP)((()=>gg(this,void 0,void 0,function*(){for(const Q of G){const ue=yield Q.provideDocumentOnDropEdits(s,t,g,w.token);if(w.token.isCancellationRequested)return;if(ue)return ue}}))(),w.token),()=>{w.cancel()});if(w.token.isCancellationRequested||e.getModel().getVersionId()!==o)return;if(J){const Q=new _t.e(t.lineNumber,t.column,t.lineNumber,t.column);B0(e,typeof J.insertText=="string"?Wo.escape(J.insertText):J.insertText.snippet,[qn.Y.fromRange(Q,0)]),J.additionalEdit&&(yield this._bulkEditService.apply(_s.fo.convert(J.additionalEdit),{editor:e}));return}}finally{w.dispose()}})}extractDataTransferData(e){return gg(this,void 0,void 0,function*(){if(!e.dataTransfer)return new ag;const t=he(e.dataTransfer);return rt(t,e),t})}};Jh.ID="editor.contrib.dropIntoEditorController",Jh=V0([Xh(1,_s.vu),Xh(2,bi.p),Xh(3,bs.R9),Xh(4,ii.ec)],Jh);let ep=class{constructor(e){this._workspaceContextService=e}provideDocumentOnDropEdits(e,t,n,s){var o;return gg(this,void 0,void 0,function*(){const g=n.get($c.v.uriList);if(g){const G=yield g.asString(),J=this.getUriListInsertText(G);if(J)return{insertText:J}}const w=(o=n.get("text"))!==null&&o!==void 0?o:n.get($c.v.text);if(w)return{insertText:yield w.asString()}})}getUriListInsertText(e){const t=[];for(const n of gt.parse(e))try{t.push(Xi.o.parse(n))}catch(s){}if(!!t.length)return t.map(n=>{const s=this._workspaceContextService.getWorkspaceFolder(n);if(s){const o=(0,Ae.lX)(s.uri,n);if(o)return o}return n.fsPath}).join(" ")}};ep=V0([Xh(0,ii.ec)],ep),(0,je._K)(Jh.ID,Jh);var Fv=l(83829);class Kr{constructor(e){this._editor=e,this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null,this._startPosition=this._editor.getPosition()}dispose(){this._editor.removeDecorations(this._allDecorations()),this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}reset(){this._decorations=[],this._overviewRulerApproximateDecorations=[],this._findScopeDecorationIds=[],this._rangeHighlightDecorationId=null,this._highlightedDecorationId=null}getCount(){return this._decorations.length}getFindScope(){return this._findScopeDecorationIds[0]?this._editor.getModel().getDecorationRange(this._findScopeDecorationIds[0]):null}getFindScopes(){if(this._findScopeDecorationIds.length){const e=this._findScopeDecorationIds.map(t=>this._editor.getModel().getDecorationRange(t)).filter(t=>!!t);if(e.length)return e}return null}getStartPosition(){return this._startPosition}setStartPosition(e){this._startPosition=e,this.setCurrentFindMatch(null)}_getDecorationIndex(e){const t=this._decorations.indexOf(e);return t>=0?t+1:1}getCurrentMatchesPosition(e){const t=this._editor.getModel().getDecorationsInRange(e);for(const n of t){const s=n.options;if(s===Kr._FIND_MATCH_DECORATION||s===Kr._CURRENT_FIND_MATCH_DECORATION)return this._getDecorationIndex(n.id)}return 0}setCurrentFindMatch(e){let t=null,n=0;if(e)for(let s=0,o=this._decorations.length;s<o;s++){const g=this._editor.getModel().getDecorationRange(this._decorations[s]);if(e.equalsRange(g)){t=this._decorations[s],n=s+1;break}}return(this._highlightedDecorationId!==null||t!==null)&&this._editor.changeDecorations(s=>{if(this._highlightedDecorationId!==null&&(s.changeDecorationOptions(this._highlightedDecorationId,Kr._FIND_MATCH_DECORATION),this._highlightedDecorationId=null),t!==null&&(this._highlightedDecorationId=t,s.changeDecorationOptions(this._highlightedDecorationId,Kr._CURRENT_FIND_MATCH_DECORATION)),this._rangeHighlightDecorationId!==null&&(s.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),t!==null){let o=this._editor.getModel().getDecorationRange(t);if(o.startLineNumber!==o.endLineNumber&&o.endColumn===1){const g=o.endLineNumber-1,w=this._editor.getModel().getLineMaxColumn(g);o=new _t.e(o.startLineNumber,o.startColumn,g,w)}this._rangeHighlightDecorationId=s.addDecoration(o,Kr._RANGE_HIGHLIGHT_DECORATION)}}),n}set(e,t){this._editor.changeDecorations(n=>{let s=Kr._FIND_MATCH_DECORATION;const o=[];if(e.length>1e3){s=Kr._FIND_MATCH_NO_OVERVIEW_DECORATION;const w=this._editor.getModel().getLineCount(),J=this._editor.getLayoutInfo().height/w,Q=Math.max(2,Math.ceil(3/J));let ue=e[0].range.startLineNumber,Ne=e[0].range.endLineNumber;for(let st=1,mt=e.length;st<mt;st++){const bt=e[st].range;Ne+Q>=bt.startLineNumber?bt.endLineNumber>Ne&&(Ne=bt.endLineNumber):(o.push({range:new _t.e(ue,1,Ne,1),options:Kr._FIND_MATCH_ONLY_OVERVIEW_DECORATION}),ue=bt.startLineNumber,Ne=bt.endLineNumber)}o.push({range:new _t.e(ue,1,Ne,1),options:Kr._FIND_MATCH_ONLY_OVERVIEW_DECORATION})}const g=new Array(e.length);for(let w=0,G=e.length;w<G;w++)g[w]={range:e[w].range,options:s};this._decorations=n.deltaDecorations(this._decorations,g),this._overviewRulerApproximateDecorations=n.deltaDecorations(this._overviewRulerApproximateDecorations,o),this._rangeHighlightDecorationId&&(n.removeDecoration(this._rangeHighlightDecorationId),this._rangeHighlightDecorationId=null),this._findScopeDecorationIds.length&&(this._findScopeDecorationIds.forEach(w=>n.removeDecoration(w)),this._findScopeDecorationIds=[]),t!=null&&t.length&&(this._findScopeDecorationIds=t.map(w=>n.addDecoration(w,Kr._FIND_SCOPE_DECORATION)))})}matchBeforePosition(e){if(this._decorations.length===0)return null;for(let t=this._decorations.length-1;t>=0;t--){const n=this._decorations[t],s=this._editor.getModel().getDecorationRange(n);if(!(!s||s.endLineNumber>e.lineNumber)){if(s.endLineNumber<e.lineNumber)return s;if(!(s.endColumn>e.column))return s}}return this._editor.getModel().getDecorationRange(this._decorations[this._decorations.length-1])}matchAfterPosition(e){if(this._decorations.length===0)return null;for(let t=0,n=this._decorations.length;t<n;t++){const s=this._decorations[t],o=this._editor.getModel().getDecorationRange(s);if(!(!o||o.startLineNumber<e.lineNumber)){if(o.startLineNumber>e.lineNumber)return o;if(!(o.startColumn<e.column))return o}}return this._editor.getModel().getDecorationRange(this._decorations[0])}_allDecorations(){let e=[];return e=e.concat(this._decorations),e=e.concat(this._overviewRulerApproximateDecorations),this._findScopeDecorationIds.length&&e.push(...this._findScopeDecorationIds),this._rangeHighlightDecorationId&&e.push(this._rangeHighlightDecorationId),e}}Kr._CURRENT_FIND_MATCH_DECORATION=Xn.qx.register({description:"current-find-match",stickiness:1,zIndex:13,className:"currentFindMatch",showIfCollapsed:!0,overviewRuler:{color:(0,dt.EN)(Ce.Fm_),position:di.sh.Center},minimap:{color:(0,dt.EN)(Ce.SUY),position:di.F5.Inline}}),Kr._FIND_MATCH_DECORATION=Xn.qx.register({description:"find-match",stickiness:1,zIndex:10,className:"findMatch",showIfCollapsed:!0,overviewRuler:{color:(0,dt.EN)(Ce.Fm_),position:di.sh.Center},minimap:{color:(0,dt.EN)(Ce.SUY),position:di.F5.Inline}}),Kr._FIND_MATCH_NO_OVERVIEW_DECORATION=Xn.qx.register({description:"find-match-no-overview",stickiness:1,className:"findMatch",showIfCollapsed:!0}),Kr._FIND_MATCH_ONLY_OVERVIEW_DECORATION=Xn.qx.register({description:"find-match-only-overview",stickiness:1,overviewRuler:{color:(0,dt.EN)(Ce.Fm_),position:di.sh.Center}}),Kr._RANGE_HIGHLIGHT_DECORATION=Xn.qx.register({description:"find-range-highlight",stickiness:1,className:"rangeHighlight",isWholeLine:!0}),Kr._FIND_SCOPE_DECORATION=Xn.qx.register({description:"find-scope",className:"findScope",isWholeLine:!0});class Bv{constructor(e,t,n){this._editorSelection=e,this._ranges=t,this._replaceStrings=n,this._trackedEditorSelectionId=null}getEditOperations(e,t){if(this._ranges.length>0){const n=[];for(let g=0;g<this._ranges.length;g++)n.push({range:this._ranges[g],text:this._replaceStrings[g]});n.sort((g,w)=>_t.e.compareRangesUsingStarts(g.range,w.range));const s=[];let o=n[0];for(let g=1;g<n.length;g++)o.range.endLineNumber===n[g].range.startLineNumber&&o.range.endColumn===n[g].range.startColumn?(o.range=o.range.plusRange(n[g].range),o.text=o.text+n[g].text):(s.push(o),o=n[g]);s.push(o);for(const g of s)t.addEditOperation(g.range,g.text)}this._trackedEditorSelectionId=t.trackSelection(this._editorSelection)}computeCursorState(e,t){return t.getTrackedSelection(this._trackedEditorSelectionId)}}function H0(p,e){if(p&&p[0]!==""){const t=z0(p,e,"-"),n=z0(p,e,"_");return t&&!n?U0(p,e,"-"):!t&&n?U0(p,e,"_"):p[0].toUpperCase()===p[0]?e.toUpperCase():p[0].toLowerCase()===p[0]?e.toLowerCase():fi.Kw(p[0][0])&&e.length>0?e[0].toUpperCase()+e.substr(1):p[0][0].toUpperCase()!==p[0][0]&&e.length>0?e[0].toLowerCase()+e.substr(1):e}else return e}function z0(p,e,t){return p[0].indexOf(t)!==-1&&e.indexOf(t)!==-1&&p[0].split(t).length===e.split(t).length}function U0(p,e,t){const n=e.split(t),s=p[0].split(t);let o="";return n.forEach((g,w)=>{o+=H0([s[w]],g)+t}),o.slice(0,-1)}class j0{constructor(e){this.staticValue=e,this.kind=0}}class Wv{constructor(e){this.pieces=e,this.kind=1}}class Zu{constructor(e){!e||e.length===0?this._state=new j0(""):e.length===1&&e[0].staticValue!==null?this._state=new j0(e[0].staticValue):this._state=new Wv(e)}static fromStaticValue(e){return new Zu([tu.staticValue(e)])}get hasReplacementPatterns(){return this._state.kind===1}buildReplaceString(e,t){if(this._state.kind===0)return t?H0(e,this._state.staticValue):this._state.staticValue;let n="";for(let s=0,o=this._state.pieces.length;s<o;s++){const g=this._state.pieces[s];if(g.staticValue!==null){n+=g.staticValue;continue}let w=Zu._substitute(g.matchIndex,e);if(g.caseOps!==null&&g.caseOps.length>0){const G=[],J=g.caseOps.length;let Q=0;for(let ue=0,Ne=w.length;ue<Ne;ue++){if(Q>=J){G.push(w.slice(ue));break}switch(g.caseOps[Q]){case"U":G.push(w[ue].toUpperCase());break;case"u":G.push(w[ue].toUpperCase()),Q++;break;case"L":G.push(w[ue].toLowerCase());break;case"l":G.push(w[ue].toLowerCase()),Q++;break;default:G.push(w[ue])}}w=G.join("")}n+=w}return n}static _substitute(e,t){if(t===null)return"";if(e===0)return t[0];let n="";for(;e>0;){if(e<t.length)return(t[e]||"")+n;n=String(e%10)+n,e=Math.floor(e/10)}return"$"+n}}class tu{constructor(e,t,n){this.staticValue=e,this.matchIndex=t,!n||n.length===0?this.caseOps=null:this.caseOps=n.slice(0)}static staticValue(e){return new tu(e,-1,null)}static caseOps(e,t){return new tu(null,e,t)}}class Vv{constructor(e){this._source=e,this._lastCharIndex=0,this._result=[],this._resultLen=0,this._currentStaticPiece=""}emitUnchanged(e){this._emitStatic(this._source.substring(this._lastCharIndex,e)),this._lastCharIndex=e}emitStatic(e,t){this._emitStatic(e),this._lastCharIndex=t}_emitStatic(e){e.length!==0&&(this._currentStaticPiece+=e)}emitMatchIndex(e,t,n){this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=tu.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),this._result[this._resultLen++]=tu.caseOps(e,n),this._lastCharIndex=t}finalize(){return this.emitUnchanged(this._source.length),this._currentStaticPiece.length!==0&&(this._result[this._resultLen++]=tu.staticValue(this._currentStaticPiece),this._currentStaticPiece=""),new Zu(this._result)}}function Hv(p){if(!p||p.length===0)return new Zu(null);const e=[],t=new Vv(p);for(let n=0,s=p.length;n<s;n++){const o=p.charCodeAt(n);if(o===92){if(n++,n>=s)break;const g=p.charCodeAt(n);switch(g){case 92:t.emitUnchanged(n-1),t.emitStatic("\\",n+1);break;case 110:t.emitUnchanged(n-1),t.emitStatic(`
`,n+1);break;case 116:t.emitUnchanged(n-1),t.emitStatic("	",n+1);break;case 117:case 85:case 108:case 76:t.emitUnchanged(n-1),t.emitStatic("",n+1),e.push(String.fromCharCode(g));break}continue}if(o===36){if(n++,n>=s)break;const g=p.charCodeAt(n);if(g===36){t.emitUnchanged(n-1),t.emitStatic("$",n+1);continue}if(g===48||g===38){t.emitUnchanged(n-1),t.emitMatchIndex(0,n+1,e),e.length=0;continue}if(49<=g&&g<=57){let w=g-48;if(n+1<s){const G=p.charCodeAt(n+1);if(48<=G&&G<=57){n++,w=w*10+(G-48),t.emitUnchanged(n-2),t.emitMatchIndex(w,n+1,e),e.length=0;continue}}t.emitUnchanged(n-1),t.emitMatchIndex(w,n+1,e),e.length=0;continue}}}return t.finalize()}const yd=new ht.uy("findWidgetVisible",!1),X2=yd.toNegated(),mg=new ht.uy("findInputFocussed",!1),tp=new ht.uy("replaceInputFocussed",!1),pg={primary:545,mac:{primary:2593}},_g={primary:565,mac:{primary:2613}},vg={primary:560,mac:{primary:2608}},Cg={primary:554,mac:{primary:2602}},bg={primary:558,mac:{primary:2606}},lo={StartFindAction:"actions.find",StartFindWithSelection:"actions.findWithSelection",StartFindWithArgs:"editor.actions.findWithArgs",NextMatchFindAction:"editor.action.nextMatchFindAction",PreviousMatchFindAction:"editor.action.previousMatchFindAction",NextSelectionMatchFindAction:"editor.action.nextSelectionMatchFindAction",PreviousSelectionMatchFindAction:"editor.action.previousSelectionMatchFindAction",StartFindReplaceAction:"editor.action.startFindReplaceAction",CloseFindWidgetCommand:"closeFindWidget",ToggleCaseSensitiveCommand:"toggleFindCaseSensitive",ToggleWholeWordCommand:"toggleFindWholeWord",ToggleRegexCommand:"toggleFindRegex",ToggleSearchScopeCommand:"toggleFindInSelection",TogglePreserveCaseCommand:"togglePreserveCase",ReplaceOneAction:"editor.action.replaceOne",ReplaceAllAction:"editor.action.replaceAll",SelectAllMatchesAction:"editor.action.selectAllMatches"},Ld=19999,zv=240;class qh{constructor(e,t){this._toDispose=new wt.SL,this._editor=e,this._state=t,this._isDisposed=!1,this._startSearchingTimer=new kt._F,this._decorations=new Kr(e),this._toDispose.add(this._decorations),this._updateDecorationsScheduler=new kt.pY(()=>this.research(!1),100),this._toDispose.add(this._updateDecorationsScheduler),this._toDispose.add(this._editor.onDidChangeCursorPosition(n=>{(n.reason===3||n.reason===5||n.reason===6)&&this._decorations.setStartPosition(this._editor.getPosition())})),this._ignoreModelContentChanged=!1,this._toDispose.add(this._editor.onDidChangeModelContent(n=>{this._ignoreModelContentChanged||(n.isFlush&&this._decorations.reset(),this._decorations.setStartPosition(this._editor.getPosition()),this._updateDecorationsScheduler.schedule())})),this._toDispose.add(this._state.onFindReplaceStateChange(n=>this._onStateChanged(n))),this.research(!1,this._state.searchScope)}dispose(){this._isDisposed=!0,(0,wt.B9)(this._startSearchingTimer),this._toDispose.dispose()}_onStateChanged(e){this._isDisposed||!this._editor.hasModel()||(e.searchString||e.isReplaceRevealed||e.isRegex||e.wholeWord||e.matchCase||e.searchScope)&&(this._editor.getModel().isTooLargeForSyncing()?(this._startSearchingTimer.cancel(),this._startSearchingTimer.setIfNotSet(()=>{e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor)},zv)):e.searchScope?this.research(e.moveCursor,this._state.searchScope):this.research(e.moveCursor))}static _getSearchRange(e,t){return t||e.getFullModelRange()}research(e,t){let n=null;typeof t!="undefined"?t!==null&&(Array.isArray(t)?n=t:n=[t]):n=this._decorations.getFindScopes(),n!==null&&(n=n.map(w=>{if(w.startLineNumber!==w.endLineNumber){let G=w.endLineNumber;return w.endColumn===1&&(G=G-1),new _t.e(w.startLineNumber,1,G,this._editor.getModel().getLineMaxColumn(G))}return w}));const s=this._findMatches(n,!1,Ld);this._decorations.set(s,n);const o=this._editor.getSelection();let g=this._decorations.getCurrentMatchesPosition(o);if(g===0&&s.length>0){const w=(0,$i.lG)(s.map(G=>G.range),G=>_t.e.compareRangesUsingStarts(G,o)>=0);g=w>0?w-1+1:g}this._state.changeMatchInfo(g,this._decorations.getCount(),void 0),e&&this._editor.getOption(37).cursorMoveOnType&&this._moveToNextMatch(this._decorations.getStartPosition())}_hasMatches(){return this._state.matchesCount>0}_cannotFind(){if(!this._hasMatches()){const e=this._decorations.getFindScope();return e&&this._editor.revealRangeInCenterIfOutsideViewport(e,0),!0}return!1}_setCurrentFindMatch(e){const t=this._decorations.setCurrentFindMatch(e);this._state.changeMatchInfo(t,this._decorations.getCount(),e),this._editor.setSelection(e),this._editor.revealRangeInCenterIfOutsideViewport(e,0)}_prevSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:n,column:s}=e;const o=this._editor.getModel();return t||s===1?(n===1?n=o.getLineCount():n--,s=o.getLineMaxColumn(n)):s--,new ln.L(n,s)}_moveToPrevMatch(e,t=!1){if(!this._state.canNavigateBack()){const Q=this._decorations.matchAfterPosition(e);Q&&this._setCurrentFindMatch(Q);return}if(this._decorations.getCount()<Ld){let Q=this._decorations.matchBeforePosition(e);Q&&Q.isEmpty()&&Q.getStartPosition().equals(e)&&(e=this._prevSearchPosition(e),Q=this._decorations.matchBeforePosition(e)),Q&&this._setCurrentFindMatch(Q);return}if(this._cannotFind())return;const n=this._decorations.getFindScope(),s=qh._getSearchRange(this._editor.getModel(),n);s.getEndPosition().isBefore(e)&&(e=s.getEndPosition()),e.isBefore(s.getStartPosition())&&(e=s.getEndPosition());const{lineNumber:o,column:g}=e,w=this._editor.getModel();let G=new ln.L(o,g),J=w.findPreviousMatch(this._state.searchString,G,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1);if(J&&J.range.isEmpty()&&J.range.getStartPosition().equals(G)&&(G=this._prevSearchPosition(G),J=w.findPreviousMatch(this._state.searchString,G,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,!1)),!!J){if(!t&&!s.containsRange(J.range))return this._moveToPrevMatch(J.range.getStartPosition(),!0);this._setCurrentFindMatch(J.range)}}moveToPrevMatch(){this._moveToPrevMatch(this._editor.getSelection().getStartPosition())}_nextSearchPosition(e){const t=this._state.isRegex&&(this._state.searchString.indexOf("^")>=0||this._state.searchString.indexOf("$")>=0);let{lineNumber:n,column:s}=e;const o=this._editor.getModel();return t||s===o.getLineMaxColumn(n)?(n===o.getLineCount()?n=1:n++,s=1):s++,new ln.L(n,s)}_moveToNextMatch(e){if(!this._state.canNavigateForward()){const n=this._decorations.matchBeforePosition(e);n&&this._setCurrentFindMatch(n);return}if(this._decorations.getCount()<Ld){let n=this._decorations.matchAfterPosition(e);n&&n.isEmpty()&&n.getStartPosition().equals(e)&&(e=this._nextSearchPosition(e),n=this._decorations.matchAfterPosition(e)),n&&this._setCurrentFindMatch(n);return}const t=this._getNextMatch(e,!1,!0);t&&this._setCurrentFindMatch(t.range)}_getNextMatch(e,t,n,s=!1){if(this._cannotFind())return null;const o=this._decorations.getFindScope(),g=qh._getSearchRange(this._editor.getModel(),o);g.getEndPosition().isBefore(e)&&(e=g.getStartPosition()),e.isBefore(g.getStartPosition())&&(e=g.getStartPosition());const{lineNumber:w,column:G}=e,J=this._editor.getModel();let Q=new ln.L(w,G),ue=J.findNextMatch(this._state.searchString,Q,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,t);return n&&ue&&ue.range.isEmpty()&&ue.range.getStartPosition().equals(Q)&&(Q=this._nextSearchPosition(Q),ue=J.findNextMatch(this._state.searchString,Q,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,t)),ue?!s&&!g.containsRange(ue.range)?this._getNextMatch(ue.range.getEndPosition(),t,n,!0):ue:null}moveToNextMatch(){this._moveToNextMatch(this._editor.getSelection().getEndPosition())}_getReplacePattern(){return this._state.isRegex?Hv(this._state.replaceString):Zu.fromStaticValue(this._state.replaceString)}replace(){if(!this._hasMatches())return;const e=this._getReplacePattern(),t=this._editor.getSelection(),n=this._getNextMatch(t.getStartPosition(),!0,!1);if(n)if(t.equalsRange(n.range)){const s=e.buildReplaceString(n.matches,this._state.preserveCase),o=new Jn.T4(t,s);this._executeEditorCommand("replace",o),this._decorations.setStartPosition(new ln.L(t.startLineNumber,t.startColumn+s.length)),this.research(!0)}else this._decorations.setStartPosition(this._editor.getPosition()),this._setCurrentFindMatch(n.range)}_findMatches(e,t,n){const s=(e||[null]).map(o=>qh._getSearchRange(this._editor.getModel(),o));return this._editor.getModel().findMatches(this._state.searchString,s,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null,t,n)}replaceAll(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();e===null&&this._state.matchesCount>=Ld?this._largeReplaceAll():this._regularReplaceAll(e),this.research(!1)}_largeReplaceAll(){const t=new Fv.bc(this._state.searchString,this._state.isRegex,this._state.matchCase,this._state.wholeWord?this._editor.getOption(119):null).parseSearchRequest();if(!t)return;let n=t.regex;if(!n.multiline){let ue="mu";n.ignoreCase&&(ue+="i"),n.global&&(ue+="g"),n=new RegExp(n.source,ue)}const s=this._editor.getModel(),o=s.getValue(1),g=s.getFullModelRange(),w=this._getReplacePattern();let G;const J=this._state.preserveCase;w.hasReplacementPatterns||J?G=o.replace(n,function(){return w.buildReplaceString(arguments,J)}):G=o.replace(n,w.buildReplaceString(null,J));const Q=new Jn.hP(g,G,this._editor.getSelection());this._executeEditorCommand("replaceAll",Q)}_regularReplaceAll(e){const t=this._getReplacePattern(),n=this._findMatches(e,t.hasReplacementPatterns||this._state.preserveCase,1073741824),s=[];for(let g=0,w=n.length;g<w;g++)s[g]=t.buildReplaceString(n[g].matches,this._state.preserveCase);const o=new Bv(this._editor.getSelection(),n.map(g=>g.range),s);this._executeEditorCommand("replaceAll",o)}selectAllMatches(){if(!this._hasMatches())return;const e=this._decorations.getFindScopes();let n=this._findMatches(e,!1,1073741824).map(o=>new qn.Y(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn));const s=this._editor.getSelection();for(let o=0,g=n.length;o<g;o++)if(n[o].equalsRange(s)){n=[s].concat(n.slice(0,o)).concat(n.slice(o+1));break}this._editor.setSelections(n)}_executeEditorCommand(e,t){try{this._ignoreModelContentChanged=!0,this._editor.pushUndoStop(),this._editor.executeCommand(e,t),this._editor.pushUndoStop()}finally{this._ignoreModelContentChanged=!1}}}var np=l(77036);class wg extends bl.${constructor(e,t,n,s){super(),this._hideSoon=this._register(new kt.pY(()=>this._hide(),2e3)),this._isVisible=!1,this._editor=e,this._state=t,this._keybindingService=n,this._domNode=document.createElement("div"),this._domNode.className="findOptionsWidget",this._domNode.style.display="none",this._domNode.style.top="10px",this._domNode.setAttribute("role","presentation"),this._domNode.setAttribute("aria-hidden","true");const o=s.getColorTheme().getColor(Ce.PRb),g=s.getColorTheme().getColor(Ce.Pvw),w=s.getColorTheme().getColor(Ce.XEs);this.caseSensitive=this._register(new np.rk({appendTitle:this._keybindingLabelFor(lo.ToggleCaseSensitiveCommand),isChecked:this._state.matchCase,inputActiveOptionBorder:o,inputActiveOptionForeground:g,inputActiveOptionBackground:w})),this._domNode.appendChild(this.caseSensitive.domNode),this._register(this.caseSensitive.onChange(()=>{this._state.change({matchCase:this.caseSensitive.checked},!1)})),this.wholeWords=this._register(new np.Qx({appendTitle:this._keybindingLabelFor(lo.ToggleWholeWordCommand),isChecked:this._state.wholeWord,inputActiveOptionBorder:o,inputActiveOptionForeground:g,inputActiveOptionBackground:w})),this._domNode.appendChild(this.wholeWords.domNode),this._register(this.wholeWords.onChange(()=>{this._state.change({wholeWord:this.wholeWords.checked},!1)})),this.regex=this._register(new np.eH({appendTitle:this._keybindingLabelFor(lo.ToggleRegexCommand),isChecked:this._state.isRegex,inputActiveOptionBorder:o,inputActiveOptionForeground:g,inputActiveOptionBackground:w})),this._domNode.appendChild(this.regex.domNode),this._register(this.regex.onChange(()=>{this._state.change({isRegex:this.regex.checked},!1)})),this._editor.addOverlayWidget(this),this._register(this._state.onFindReplaceStateChange(G=>{let J=!1;G.isRegex&&(this.regex.checked=this._state.isRegex,J=!0),G.wholeWord&&(this.wholeWords.checked=this._state.wholeWord,J=!0),G.matchCase&&(this.caseSensitive.checked=this._state.matchCase,J=!0),!this._state.isRevealed&&J&&this._revealTemporarily()})),this._register(we.nm(this._domNode,we.tw.MOUSE_LEAVE,G=>this._onMouseLeave())),this._register(we.nm(this._domNode,"mouseover",G=>this._onMouseOver())),this._applyTheme(s.getColorTheme()),this._register(s.onDidColorThemeChange(this._applyTheme.bind(this)))}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return wg.ID}getDomNode(){return this._domNode}getPosition(){return{preference:0}}highlightFindOptions(){this._revealTemporarily()}_revealTemporarily(){this._show(),this._hideSoon.schedule()}_onMouseLeave(){this._hideSoon.schedule()}_onMouseOver(){this._hideSoon.cancel()}_show(){this._isVisible||(this._isVisible=!0,this._domNode.style.display="block")}_hide(){!this._isVisible||(this._isVisible=!1,this._domNode.style.display="none")}_applyTheme(e){const t={inputActiveOptionBorder:e.getColor(Ce.PRb),inputActiveOptionForeground:e.getColor(Ce.Pvw),inputActiveOptionBackground:e.getColor(Ce.XEs)};this.caseSensitive.style(t),this.wholeWords.style(t),this.regex.style(t)}}wg.ID="editor.contrib.findOptionsWidget",(0,dt.Ic)((p,e)=>{const t=p.getColor(Ce.D0T);t&&e.addRule(`.monaco-editor .findOptionsWidget { background-color: ${t}; }`);const n=p.getColor(Ce.Hfx);n&&e.addRule(`.monaco-editor .findOptionsWidget { color: ${n}; }`);const s=p.getColor(Ce.rh);s&&e.addRule(`.monaco-editor .findOptionsWidget { box-shadow: 0 0 8px 2px ${s}; }`);const o=p.getColor(Ce.lRK);o&&e.addRule(`.monaco-editor .findOptionsWidget { border: 2px solid ${o}; }`)});function Sg(p,e){return p===1?!0:p===2?!1:e}class Uv extends wt.JT{constructor(){super(),this._onFindReplaceStateChange=this._register(new ni.Q5),this.onFindReplaceStateChange=this._onFindReplaceStateChange.event,this._searchString="",this._replaceString="",this._isRevealed=!1,this._isReplaceRevealed=!1,this._isRegex=!1,this._isRegexOverride=0,this._wholeWord=!1,this._wholeWordOverride=0,this._matchCase=!1,this._matchCaseOverride=0,this._preserveCase=!1,this._preserveCaseOverride=0,this._searchScope=null,this._matchesPosition=0,this._matchesCount=0,this._currentMatch=null,this._loop=!0,this._isSearching=!1,this._filters=null}get searchString(){return this._searchString}get replaceString(){return this._replaceString}get isRevealed(){return this._isRevealed}get isReplaceRevealed(){return this._isReplaceRevealed}get isRegex(){return Sg(this._isRegexOverride,this._isRegex)}get wholeWord(){return Sg(this._wholeWordOverride,this._wholeWord)}get matchCase(){return Sg(this._matchCaseOverride,this._matchCase)}get preserveCase(){return Sg(this._preserveCaseOverride,this._preserveCase)}get actualIsRegex(){return this._isRegex}get actualWholeWord(){return this._wholeWord}get actualMatchCase(){return this._matchCase}get actualPreserveCase(){return this._preserveCase}get searchScope(){return this._searchScope}get matchesPosition(){return this._matchesPosition}get matchesCount(){return this._matchesCount}get currentMatch(){return this._currentMatch}changeMatchInfo(e,t,n){const s={moveCursor:!1,updateHistory:!1,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let o=!1;t===0&&(e=0),e>t&&(e=t),this._matchesPosition!==e&&(this._matchesPosition=e,s.matchesPosition=!0,o=!0),this._matchesCount!==t&&(this._matchesCount=t,s.matchesCount=!0,o=!0),typeof n!="undefined"&&(_t.e.equalsRange(this._currentMatch,n)||(this._currentMatch=n,s.currentMatch=!0,o=!0)),o&&this._onFindReplaceStateChange.fire(s)}change(e,t,n=!0){var s;const o={moveCursor:t,updateHistory:n,searchString:!1,replaceString:!1,isRevealed:!1,isReplaceRevealed:!1,isRegex:!1,wholeWord:!1,matchCase:!1,preserveCase:!1,searchScope:!1,matchesPosition:!1,matchesCount:!1,currentMatch:!1,loop:!1,isSearching:!1,filters:!1};let g=!1;const w=this.isRegex,G=this.wholeWord,J=this.matchCase,Q=this.preserveCase;typeof e.searchString!="undefined"&&this._searchString!==e.searchString&&(this._searchString=e.searchString,o.searchString=!0,g=!0),typeof e.replaceString!="undefined"&&this._replaceString!==e.replaceString&&(this._replaceString=e.replaceString,o.replaceString=!0,g=!0),typeof e.isRevealed!="undefined"&&this._isRevealed!==e.isRevealed&&(this._isRevealed=e.isRevealed,o.isRevealed=!0,g=!0),typeof e.isReplaceRevealed!="undefined"&&this._isReplaceRevealed!==e.isReplaceRevealed&&(this._isReplaceRevealed=e.isReplaceRevealed,o.isReplaceRevealed=!0,g=!0),typeof e.isRegex!="undefined"&&(this._isRegex=e.isRegex),typeof e.wholeWord!="undefined"&&(this._wholeWord=e.wholeWord),typeof e.matchCase!="undefined"&&(this._matchCase=e.matchCase),typeof e.preserveCase!="undefined"&&(this._preserveCase=e.preserveCase),typeof e.searchScope!="undefined"&&(!((s=e.searchScope)===null||s===void 0)&&s.every(ue=>{var Ne;return(Ne=this._searchScope)===null||Ne===void 0?void 0:Ne.some(st=>!_t.e.equalsRange(st,ue))})||(this._searchScope=e.searchScope,o.searchScope=!0,g=!0)),typeof e.loop!="undefined"&&this._loop!==e.loop&&(this._loop=e.loop,o.loop=!0,g=!0),typeof e.isSearching!="undefined"&&this._isSearching!==e.isSearching&&(this._isSearching=e.isSearching,o.isSearching=!0,g=!0),typeof e.filters!="undefined"&&(this._filters?this._filters.update(e.filters):this._filters=e.filters,o.filters=!0,g=!0),this._isRegexOverride=typeof e.isRegexOverride!="undefined"?e.isRegexOverride:0,this._wholeWordOverride=typeof e.wholeWordOverride!="undefined"?e.wholeWordOverride:0,this._matchCaseOverride=typeof e.matchCaseOverride!="undefined"?e.matchCaseOverride:0,this._preserveCaseOverride=typeof e.preserveCaseOverride!="undefined"?e.preserveCaseOverride:0,w!==this.isRegex&&(g=!0,o.isRegex=!0),G!==this.wholeWord&&(g=!0,o.wholeWord=!0),J!==this.matchCase&&(g=!0,o.matchCase=!0),Q!==this.preserveCase&&(g=!0,o.preserveCase=!0),g&&this._onFindReplaceStateChange.fire(o)}canNavigateBack(){return this.canNavigateInLoop()||this.matchesPosition!==1}canNavigateForward(){return this.canNavigateInLoop()||this.matchesPosition<this.matchesCount}canNavigateInLoop(){return this._loop||this.matchesCount>=Ld}}function K0(p){var e,t;return((e=p.lookupKeybinding("history.showPrevious"))===null||e===void 0?void 0:e.getElectronAccelerator())==="Up"&&((t=p.lookupKeybinding("history.showNext"))===null||t===void 0?void 0:t.getElectronAccelerator())==="Down"}var jv=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};const Kv=(0,sr.q5)("find-selection",Nn.lA.selection,_e.NC("findSelectionIcon","Icon for 'Find in Selection' in the editor find widget.")),$0=(0,sr.q5)("find-collapsed",Nn.lA.chevronRight,_e.NC("findCollapsedIcon","Icon to indicate that the editor find widget is collapsed.")),G0=(0,sr.q5)("find-expanded",Nn.lA.chevronDown,_e.NC("findExpandedIcon","Icon to indicate that the editor find widget is expanded.")),$v=(0,sr.q5)("find-replace",Nn.lA.replace,_e.NC("findReplaceIcon","Icon for 'Replace' in the editor find widget.")),Gv=(0,sr.q5)("find-replace-all",Nn.lA.replaceAll,_e.NC("findReplaceAllIcon","Icon for 'Replace All' in the editor find widget.")),Zv=(0,sr.q5)("find-previous-match",Nn.lA.arrowUp,_e.NC("findPreviousMatchIcon","Icon for 'Find Previous' in the editor find widget.")),Yv=(0,sr.q5)("find-next-match",Nn.lA.arrowDown,_e.NC("findNextMatchIcon","Icon for 'Find Next' in the editor find widget.")),Qv=_e.NC("label.find","Find"),Xv=_e.NC("placeholder.find","Find"),Jv=_e.NC("label.previousMatchButton","Previous Match"),qv=_e.NC("label.nextMatchButton","Next Match"),eC=_e.NC("label.toggleSelectionFind","Find in Selection"),tC=_e.NC("label.closeButton","Close"),nC=_e.NC("label.replace","Replace"),iC=_e.NC("placeholder.replace","Replace"),sC=_e.NC("label.replaceButton","Replace"),oC=_e.NC("label.replaceAllButton","Replace All"),rC=_e.NC("label.toggleReplaceButton","Toggle Replace"),aC=_e.NC("title.matchesCountLimit","Only the first {0} results are highlighted, but all find operations work on the entire text.",Ld),lC=_e.NC("label.matchesLocation","{0} of {1}"),Z0=_e.NC("label.noResults","No results"),Cc=419,cC=275-54;let ef=69;const dC=33,Y0="ctrlEnterReplaceAll.windows.donotask",Q0=ci.dz?256:2048;class ip{constructor(e){this.afterLineNumber=e,this.heightInPx=dC,this.suppressMouseDown=!1,this.domNode=document.createElement("div"),this.domNode.className="dock-find-viewzone"}}function X0(p,e,t){const n=!!e.match(/\n/);if(t&&n&&t.selectionStart>0){p.stopPropagation();return}}function J0(p,e,t){const n=!!e.match(/\n/);if(t&&n&&t.selectionEnd<t.value.length){p.stopPropagation();return}}class yg extends bl.${constructor(e,t,n,s,o,g,w,G,J){super(),this._cachedHeight=null,this._revealTimeouts=[],this._codeEditor=e,this._controller=t,this._state=n,this._contextViewProvider=s,this._keybindingService=o,this._contextKeyService=g,this._storageService=G,this._notificationService=J,this._ctrlEnterReplaceAllWarningPrompted=!!G.getBoolean(Y0,0),this._isVisible=!1,this._isReplaceVisible=!1,this._ignoreChangeEvent=!1,this._updateHistoryDelayer=new kt.vp(500),this._register((0,wt.OF)(()=>this._updateHistoryDelayer.cancel())),this._register(this._state.onFindReplaceStateChange(Q=>this._onStateChanged(Q))),this._buildDomNode(),this._updateButtons(),this._tryUpdateWidgetWidth(),this._findInput.inputBox.layout(),this._register(this._codeEditor.onDidChangeConfiguration(Q=>{if(Q.hasChanged(83)&&(this._codeEditor.getOption(83)&&this._state.change({isReplaceRevealed:!1},!1),this._updateButtons()),Q.hasChanged(133)&&this._tryUpdateWidgetWidth(),Q.hasChanged(2)&&this.updateAccessibilitySupport(),Q.hasChanged(37)){const ue=this._codeEditor.getOption(37).addExtraSpaceOnTop;ue&&!this._viewZone&&(this._viewZone=new ip(0),this._showViewZone()),!ue&&this._viewZone&&this._removeViewZone()}})),this.updateAccessibilitySupport(),this._register(this._codeEditor.onDidChangeCursorSelection(()=>{this._isVisible&&this._updateToggleSelectionFindButton()})),this._register(this._codeEditor.onDidFocusEditorWidget(()=>jv(this,void 0,void 0,function*(){if(this._isVisible){const Q=yield this._controller.getGlobalBufferTerm();Q&&Q!==this._state.searchString&&(this._state.change({searchString:Q},!1),this._findInput.select())}}))),this._findInputFocused=mg.bindTo(g),this._findFocusTracker=this._register(we.go(this._findInput.inputBox.inputElement)),this._register(this._findFocusTracker.onDidFocus(()=>{this._findInputFocused.set(!0),this._updateSearchScope()})),this._register(this._findFocusTracker.onDidBlur(()=>{this._findInputFocused.set(!1)})),this._replaceInputFocused=tp.bindTo(g),this._replaceFocusTracker=this._register(we.go(this._replaceInput.inputBox.inputElement)),this._register(this._replaceFocusTracker.onDidFocus(()=>{this._replaceInputFocused.set(!0),this._updateSearchScope()})),this._register(this._replaceFocusTracker.onDidBlur(()=>{this._replaceInputFocused.set(!1)})),this._codeEditor.addOverlayWidget(this),this._codeEditor.getOption(37).addExtraSpaceOnTop&&(this._viewZone=new ip(0)),this._applyTheme(w.getColorTheme()),this._register(w.onDidColorThemeChange(this._applyTheme.bind(this))),this._register(this._codeEditor.onDidChangeModel(()=>{!this._isVisible||(this._viewZoneId=void 0)})),this._register(this._codeEditor.onDidScrollChange(Q=>{if(Q.scrollTopChanged){this._layoutViewZone();return}setTimeout(()=>{this._layoutViewZone()},0)}))}getId(){return yg.ID}getDomNode(){return this._domNode}getPosition(){return this._isVisible?{preference:0}:null}_onStateChanged(e){if(e.searchString){try{this._ignoreChangeEvent=!0,this._findInput.setValue(this._state.searchString)}finally{this._ignoreChangeEvent=!1}this._updateButtons()}if(e.replaceString&&(this._replaceInput.inputBox.value=this._state.replaceString),e.isRevealed&&(this._state.isRevealed?this._reveal():this._hide(!0)),e.isReplaceRevealed&&(this._state.isReplaceRevealed?!this._codeEditor.getOption(83)&&!this._isReplaceVisible&&(this._isReplaceVisible=!0,this._replaceInput.width=we.w(this._findInput.domNode),this._updateButtons(),this._replaceInput.inputBox.layout()):this._isReplaceVisible&&(this._isReplaceVisible=!1,this._updateButtons())),(e.isRevealed||e.isReplaceRevealed)&&(this._state.isRevealed||this._state.isReplaceRevealed)&&this._tryUpdateHeight()&&this._showViewZone(),e.isRegex&&this._findInput.setRegex(this._state.isRegex),e.wholeWord&&this._findInput.setWholeWords(this._state.wholeWord),e.matchCase&&this._findInput.setCaseSensitive(this._state.matchCase),e.preserveCase&&this._replaceInput.setPreserveCase(this._state.preserveCase),e.searchScope&&(this._state.searchScope?this._toggleSelectionFind.checked=!0:this._toggleSelectionFind.checked=!1,this._updateToggleSelectionFindButton()),e.searchString||e.matchesCount||e.matchesPosition){const t=this._state.searchString.length>0&&this._state.matchesCount===0;this._domNode.classList.toggle("no-results",t),this._updateMatchesCount(),this._updateButtons()}(e.searchString||e.currentMatch)&&this._layoutViewZone(),e.updateHistory&&this._delayedUpdateHistory(),e.loop&&this._updateButtons()}_delayedUpdateHistory(){this._updateHistoryDelayer.trigger(this._updateHistory.bind(this)).then(void 0,Ei.dL)}_updateHistory(){this._state.searchString&&this._findInput.inputBox.addToHistory(),this._state.replaceString&&this._replaceInput.inputBox.addToHistory()}_updateMatchesCount(){this._matchesCount.style.minWidth=ef+"px",this._state.matchesCount>=Ld?this._matchesCount.title=aC:this._matchesCount.title="",this._matchesCount.firstChild&&this._matchesCount.removeChild(this._matchesCount.firstChild);let e;if(this._state.matchesCount>0){let t=String(this._state.matchesCount);this._state.matchesCount>=Ld&&(t+="+");let n=String(this._state.matchesPosition);n==="0"&&(n="?"),e=fi.WU(lC,n,t)}else e=Z0;this._matchesCount.appendChild(document.createTextNode(e)),(0,Rn.Z9)(this._getAriaLabel(e,this._state.currentMatch,this._state.searchString)),ef=Math.max(ef,this._matchesCount.clientWidth)}_getAriaLabel(e,t,n){if(e===Z0)return n===""?_e.NC("ariaSearchNoResultEmpty","{0} found",e):_e.NC("ariaSearchNoResult","{0} found for '{1}'",e,n);if(t){const s=_e.NC("ariaSearchNoResultWithLineNum","{0} found for '{1}', at {2}",e,n,t.startLineNumber+":"+t.startColumn),o=this._codeEditor.getModel();return o&&t.startLineNumber<=o.getLineCount()&&t.startLineNumber>=1?`${o.getLineContent(t.startLineNumber)}, ${s}`:s}return _e.NC("ariaSearchNoResultWithLineNumNoCurrentMatch","{0} found for '{1}'",e,n)}_updateToggleSelectionFindButton(){const e=this._codeEditor.getSelection(),t=e?e.startLineNumber!==e.endLineNumber||e.startColumn!==e.endColumn:!1,n=this._toggleSelectionFind.checked;this._isVisible&&(n||t)?this._toggleSelectionFind.enable():this._toggleSelectionFind.disable()}_updateButtons(){this._findInput.setEnabled(this._isVisible),this._replaceInput.setEnabled(this._isVisible&&this._isReplaceVisible),this._updateToggleSelectionFindButton(),this._closeBtn.setEnabled(this._isVisible);const e=this._state.searchString.length>0,t=!!this._state.matchesCount;this._prevBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateBack()),this._nextBtn.setEnabled(this._isVisible&&e&&t&&this._state.canNavigateForward()),this._replaceBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._replaceAllBtn.setEnabled(this._isVisible&&this._isReplaceVisible&&e),this._domNode.classList.toggle("replaceToggled",this._isReplaceVisible),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible);const n=!this._codeEditor.getOption(83);this._toggleReplaceBtn.setEnabled(this._isVisible&&n)}_reveal(){if(this._revealTimeouts.forEach(e=>{clearTimeout(e)}),this._revealTimeouts=[],!this._isVisible){this._isVisible=!0;const e=this._codeEditor.getSelection();switch(this._codeEditor.getOption(37).autoFindInSelection){case"always":this._toggleSelectionFind.checked=!0;break;case"never":this._toggleSelectionFind.checked=!1;break;case"multiline":{const n=!!e&&e.startLineNumber!==e.endLineNumber;this._toggleSelectionFind.checked=n;break}default:break}this._tryUpdateWidgetWidth(),this._updateButtons(),this._revealTimeouts.push(setTimeout(()=>{this._domNode.classList.add("visible"),this._domNode.setAttribute("aria-hidden","false")},0)),this._revealTimeouts.push(setTimeout(()=>{this._findInput.validate()},200)),this._codeEditor.layoutOverlayWidget(this);let t=!0;if(this._codeEditor.getOption(37).seedSearchStringFromSelection&&e){const n=this._codeEditor.getDomNode();if(n){const s=we.i(n),o=this._codeEditor.getScrolledVisiblePosition(e.getStartPosition()),g=s.left+(o?o.left:0),w=o?o.top:0;if(this._viewZone&&w<this._viewZone.heightInPx){e.endLineNumber>e.startLineNumber&&(t=!1);const G=we.xQ(this._domNode).left;g>G&&(t=!1);const J=this._codeEditor.getScrolledVisiblePosition(e.getEndPosition());s.left+(J?J.left:0)>G&&(t=!1)}}}this._showViewZone(t)}}_hide(e){this._revealTimeouts.forEach(t=>{clearTimeout(t)}),this._revealTimeouts=[],this._isVisible&&(this._isVisible=!1,this._updateButtons(),this._domNode.classList.remove("visible"),this._domNode.setAttribute("aria-hidden","true"),this._findInput.clearMessage(),e&&this._codeEditor.focus(),this._codeEditor.layoutOverlayWidget(this),this._removeViewZone())}_layoutViewZone(e){if(!this._codeEditor.getOption(37).addExtraSpaceOnTop){this._removeViewZone();return}if(!this._isVisible)return;const n=this._viewZone;this._viewZoneId!==void 0||!n||this._codeEditor.changeViewZones(s=>{n.heightInPx=this._getHeight(),this._viewZoneId=s.addZone(n),this._codeEditor.setScrollTop(e||this._codeEditor.getScrollTop()+n.heightInPx)})}_showViewZone(e=!0){if(!this._isVisible||!this._codeEditor.getOption(37).addExtraSpaceOnTop)return;this._viewZone===void 0&&(this._viewZone=new ip(0));const n=this._viewZone;this._codeEditor.changeViewZones(s=>{if(this._viewZoneId!==void 0){const o=this._getHeight();if(o===n.heightInPx)return;const g=o-n.heightInPx;n.heightInPx=o,s.layoutZone(this._viewZoneId),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+g);return}else{let o=this._getHeight();if(o-=this._codeEditor.getOption(77).top,o<=0)return;n.heightInPx=o,this._viewZoneId=s.addZone(n),e&&this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()+o)}})}_removeViewZone(){this._codeEditor.changeViewZones(e=>{this._viewZoneId!==void 0&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0,this._viewZone&&(this._codeEditor.setScrollTop(this._codeEditor.getScrollTop()-this._viewZone.heightInPx),this._viewZone=void 0))})}_applyTheme(e){const t={inputActiveOptionBorder:e.getColor(Ce.PRb),inputActiveOptionBackground:e.getColor(Ce.XEs),inputActiveOptionForeground:e.getColor(Ce.Pvw),inputBackground:e.getColor(Ce.sEe),inputForeground:e.getColor(Ce.zJb),inputBorder:e.getColor(Ce.dt_),inputValidationInfoBackground:e.getColor(Ce._lC),inputValidationInfoForeground:e.getColor(Ce.YI3),inputValidationInfoBorder:e.getColor(Ce.EPQ),inputValidationWarningBackground:e.getColor(Ce.RV_),inputValidationWarningForeground:e.getColor(Ce.SUG),inputValidationWarningBorder:e.getColor(Ce.C3g),inputValidationErrorBackground:e.getColor(Ce.paE),inputValidationErrorForeground:e.getColor(Ce._t9),inputValidationErrorBorder:e.getColor(Ce.OZR)};this._findInput.style(t),this._replaceInput.style(t),this._toggleSelectionFind.style(t)}_tryUpdateWidgetWidth(){if(!this._isVisible||!we.Uw(this._domNode))return;const e=this._codeEditor.getLayoutInfo();if(e.contentWidth<=0){this._domNode.classList.add("hiddenEditor");return}else this._domNode.classList.contains("hiddenEditor")&&this._domNode.classList.remove("hiddenEditor");const n=e.width,s=e.minimap.minimapWidth;let o=!1,g=!1,w=!1;if(this._resized&&we.w(this._domNode)>Cc){this._domNode.style.maxWidth=`${n-28-s-15}px`,this._replaceInput.width=we.w(this._findInput.domNode);return}if(Cc+28+s>=n&&(g=!0),Cc+28+s-ef>=n&&(w=!0),Cc+28+s-ef>=n+50&&(o=!0),this._domNode.classList.toggle("collapsed-find-widget",o),this._domNode.classList.toggle("narrow-find-widget",w),this._domNode.classList.toggle("reduced-find-widget",g),!w&&!o&&(this._domNode.style.maxWidth=`${n-28-s-15}px`),this._resized){this._findInput.inputBox.layout();const G=this._findInput.inputBox.element.clientWidth;G>0&&(this._replaceInput.width=G)}else this._isReplaceVisible&&(this._replaceInput.width=we.w(this._findInput.domNode))}_getHeight(){let e=0;return e+=4,e+=this._findInput.inputBox.height+2,this._isReplaceVisible&&(e+=4,e+=this._replaceInput.inputBox.height+2),e+=4,e}_tryUpdateHeight(){const e=this._getHeight();return this._cachedHeight!==null&&this._cachedHeight===e?!1:(this._cachedHeight=e,this._domNode.style.height=`${e}px`,!0)}focusFindInput(){this._findInput.select(),this._findInput.focus()}focusReplaceInput(){this._replaceInput.select(),this._replaceInput.focus()}highlightFindOptions(){this._findInput.highlightFindOptions()}_updateSearchScope(){if(!!this._codeEditor.hasModel()&&this._toggleSelectionFind.checked){const e=this._codeEditor.getSelections();e.map(t=>{t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(t.endLineNumber-1)));const n=this._state.currentMatch;return t.startLineNumber!==t.endLineNumber&&!_t.e.equalsRange(t,n)?t:null}).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}_onFindInputMouseDown(e){e.middleButton&&e.stopPropagation()}_onFindInputKeyDown(e){if(e.equals(Q0|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{this._findInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._isReplaceVisible?this._replaceInput.focus():this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return X0(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"));if(e.equals(18))return J0(e,this._findInput.getValue(),this._findInput.domNode.querySelector("textarea"))}_onReplaceInputKeyDown(e){if(e.equals(Q0|3))if(this._keybindingService.dispatchEvent(e,e.target)){e.preventDefault();return}else{ci.ED&&ci.tY&&!this._ctrlEnterReplaceAllWarningPrompted&&(this._notificationService.info(_e.NC("ctrlEnter.keybindingChanged","Ctrl+Enter now inserts line break instead of replacing all. You can modify the keybinding for editor.action.replaceAll to override this behavior.")),this._ctrlEnterReplaceAllWarningPrompted=!0,this._storageService.store(Y0,!0,0,0)),this._replaceInput.inputBox.insertAtCursor(`
`),e.preventDefault();return}if(e.equals(2)){this._findInput.focusOnCaseSensitive(),e.preventDefault();return}if(e.equals(1026)){this._findInput.focus(),e.preventDefault();return}if(e.equals(2066)){this._codeEditor.focus(),e.preventDefault();return}if(e.equals(16))return X0(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"));if(e.equals(18))return J0(e,this._replaceInput.inputBox.value,this._replaceInput.inputBox.element.querySelector("textarea"))}getVerticalSashLeft(e){return 0}_keybindingLabelFor(e){const t=this._keybindingService.lookupKeybinding(e);return t?` (${t.getLabel()})`:""}_buildDomNode(){this._findInput=this._register(new jo(null,this._contextViewProvider,{width:cC,label:Qv,placeholder:Xv,appendCaseSensitiveLabel:this._keybindingLabelFor(lo.ToggleCaseSensitiveCommand),appendWholeWordsLabel:this._keybindingLabelFor(lo.ToggleWholeWordCommand),appendRegexLabel:this._keybindingLabelFor(lo.ToggleRegexCommand),validation:G=>{if(G.length===0||!this._findInput.getRegex())return null;try{return new RegExp(G,"gu"),null}catch(J){return{content:J.message}}},flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>K0(this._keybindingService)},this._contextKeyService,!0)),this._findInput.setRegex(!!this._state.isRegex),this._findInput.setCaseSensitive(!!this._state.matchCase),this._findInput.setWholeWords(!!this._state.wholeWord),this._register(this._findInput.onKeyDown(G=>this._onFindInputKeyDown(G))),this._register(this._findInput.inputBox.onDidChange(()=>{this._ignoreChangeEvent||this._state.change({searchString:this._findInput.getValue()},!0)})),this._register(this._findInput.onDidOptionChange(()=>{this._state.change({isRegex:this._findInput.getRegex(),wholeWord:this._findInput.getWholeWords(),matchCase:this._findInput.getCaseSensitive()},!0)})),this._register(this._findInput.onCaseSensitiveKeyDown(G=>{G.equals(1026)&&this._isReplaceVisible&&(this._replaceInput.focus(),G.preventDefault())})),this._register(this._findInput.onRegexKeyDown(G=>{G.equals(2)&&this._isReplaceVisible&&(this._replaceInput.focusOnPreserve(),G.preventDefault())})),this._register(this._findInput.inputBox.onDidHeightChange(G=>{this._tryUpdateHeight()&&this._showViewZone()})),ci.IJ&&this._register(this._findInput.onMouseDown(G=>this._onFindInputMouseDown(G))),this._matchesCount=document.createElement("div"),this._matchesCount.className="matchesCount",this._updateMatchesCount(),this._prevBtn=this._register(new Yu({label:Jv+this._keybindingLabelFor(lo.PreviousMatchFindAction),icon:Zv,onTrigger:()=>{this._codeEditor.getAction(lo.PreviousMatchFindAction).run().then(void 0,Ei.dL)}})),this._nextBtn=this._register(new Yu({label:qv+this._keybindingLabelFor(lo.NextMatchFindAction),icon:Yv,onTrigger:()=>{this._codeEditor.getAction(lo.NextMatchFindAction).run().then(void 0,Ei.dL)}}));const n=document.createElement("div");n.className="find-part",n.appendChild(this._findInput.domNode);const s=document.createElement("div");s.className="find-actions",n.appendChild(s),s.appendChild(this._matchesCount),s.appendChild(this._prevBtn.domNode),s.appendChild(this._nextBtn.domNode),this._toggleSelectionFind=this._register(new kr.Z({icon:Kv,title:eC+this._keybindingLabelFor(lo.ToggleSearchScopeCommand),isChecked:!1})),this._register(this._toggleSelectionFind.onChange(()=>{if(this._toggleSelectionFind.checked){if(this._codeEditor.hasModel()){const G=this._codeEditor.getSelections();G.map(J=>(J.endColumn===1&&J.endLineNumber>J.startLineNumber&&(J=J.setEndPosition(J.endLineNumber-1,this._codeEditor.getModel().getLineMaxColumn(J.endLineNumber-1))),J.isEmpty()?null:J)).filter(J=>!!J),G.length&&this._state.change({searchScope:G},!0)}}else this._state.change({searchScope:null},!0)})),s.appendChild(this._toggleSelectionFind.domNode),this._closeBtn=this._register(new Yu({label:tC+this._keybindingLabelFor(lo.CloseFindWidgetCommand),icon:sr.s_,onTrigger:()=>{this._state.change({isRevealed:!1,searchScope:null},!1)},onKeyDown:G=>{G.equals(2)&&this._isReplaceVisible&&(this._replaceBtn.isEnabled()?this._replaceBtn.focus():this._codeEditor.focus(),G.preventDefault())}})),s.appendChild(this._closeBtn.domNode),this._replaceInput=this._register(new Vo(null,void 0,{label:nC,placeholder:iC,appendPreserveCaseLabel:this._keybindingLabelFor(lo.TogglePreserveCaseCommand),history:[],flexibleHeight:!0,flexibleWidth:!0,flexibleMaxHeight:118,showHistoryHint:()=>K0(this._keybindingService)},this._contextKeyService,!0)),this._replaceInput.setPreserveCase(!!this._state.preserveCase),this._register(this._replaceInput.onKeyDown(G=>this._onReplaceInputKeyDown(G))),this._register(this._replaceInput.inputBox.onDidChange(()=>{this._state.change({replaceString:this._replaceInput.inputBox.value},!1)})),this._register(this._replaceInput.inputBox.onDidHeightChange(G=>{this._isReplaceVisible&&this._tryUpdateHeight()&&this._showViewZone()})),this._register(this._replaceInput.onDidOptionChange(()=>{this._state.change({preserveCase:this._replaceInput.getPreserveCase()},!0)})),this._register(this._replaceInput.onPreserveCaseKeyDown(G=>{G.equals(2)&&(this._prevBtn.isEnabled()?this._prevBtn.focus():this._nextBtn.isEnabled()?this._nextBtn.focus():this._toggleSelectionFind.enabled?this._toggleSelectionFind.focus():this._closeBtn.isEnabled()&&this._closeBtn.focus(),G.preventDefault())})),this._replaceBtn=this._register(new Yu({label:sC+this._keybindingLabelFor(lo.ReplaceOneAction),icon:$v,onTrigger:()=>{this._controller.replace()},onKeyDown:G=>{G.equals(1026)&&(this._closeBtn.focus(),G.preventDefault())}})),this._replaceAllBtn=this._register(new Yu({label:oC+this._keybindingLabelFor(lo.ReplaceAllAction),icon:Gv,onTrigger:()=>{this._controller.replaceAll()}}));const o=document.createElement("div");o.className="replace-part",o.appendChild(this._replaceInput.domNode);const g=document.createElement("div");g.className="replace-actions",o.appendChild(g),g.appendChild(this._replaceBtn.domNode),g.appendChild(this._replaceAllBtn.domNode),this._toggleReplaceBtn=this._register(new Yu({label:rC,className:"codicon toggle left",onTrigger:()=>{this._state.change({isReplaceRevealed:!this._isReplaceVisible},!1),this._isReplaceVisible&&(this._replaceInput.width=we.w(this._findInput.domNode),this._replaceInput.inputBox.layout()),this._showViewZone()}})),this._toggleReplaceBtn.setExpanded(this._isReplaceVisible),this._domNode=document.createElement("div"),this._domNode.className="editor-widget find-widget",this._domNode.setAttribute("aria-hidden","true"),this._domNode.style.width=`${Cc}px`,this._domNode.appendChild(this._toggleReplaceBtn.domNode),this._domNode.appendChild(n),this._domNode.appendChild(o),this._resizeSash=new zr.g(this._domNode,this,{orientation:0,size:2}),this._resized=!1;let w=Cc;this._register(this._resizeSash.onDidStart(()=>{w=we.w(this._domNode)})),this._register(this._resizeSash.onDidChange(G=>{this._resized=!0;const J=w+G.startX-G.currentX;if(J<Cc)return;const Q=parseFloat(we.Dx(this._domNode).maxWidth)||0;J>Q||(this._domNode.style.width=`${J}px`,this._isReplaceVisible&&(this._replaceInput.width=we.w(this._findInput.domNode)),this._findInput.inputBox.layout(),this._tryUpdateHeight())})),this._register(this._resizeSash.onDidReset(()=>{const G=we.w(this._domNode);if(G<Cc)return;let J=Cc;if(!this._resized||G===Cc){const Q=this._codeEditor.getLayoutInfo();J=Q.width-28-Q.minimap.minimapWidth-15,this._resized=!0}this._domNode.style.width=`${J}px`,this._isReplaceVisible&&(this._replaceInput.width=we.w(this._findInput.domNode)),this._findInput.inputBox.layout()}))}updateAccessibilitySupport(){const e=this._codeEditor.getOption(2);this._findInput.setFocusInputOnOptionClick(e!==2)}}yg.ID="editor.contrib.findWidget";class Yu extends bl.${constructor(e){super(),this._opts=e;let t="button";this._opts.className&&(t=t+" "+this._opts.className),this._opts.icon&&(t=t+" "+dt.kS.asClassName(this._opts.icon)),this._domNode=document.createElement("div"),this._domNode.title=this._opts.label,this._domNode.tabIndex=0,this._domNode.className=t,this._domNode.setAttribute("role","button"),this._domNode.setAttribute("aria-label",this._opts.label),this.onclick(this._domNode,n=>{this._opts.onTrigger(),n.preventDefault()}),this.onkeydown(this._domNode,n=>{var s,o;if(n.equals(10)||n.equals(3)){this._opts.onTrigger(),n.preventDefault();return}(o=(s=this._opts).onKeyDown)===null||o===void 0||o.call(s,n)})}get domNode(){return this._domNode}isEnabled(){return this._domNode.tabIndex>=0}focus(){this._domNode.focus()}setEnabled(e){this._domNode.classList.toggle("disabled",!e),this._domNode.setAttribute("aria-disabled",String(!e)),this._domNode.tabIndex=e?0:-1}setExpanded(e){this._domNode.setAttribute("aria-expanded",String(!!e)),e?(this._domNode.classList.remove(...dt.kS.asClassNameArray($0)),this._domNode.classList.add(...dt.kS.asClassNameArray(G0))):(this._domNode.classList.remove(...dt.kS.asClassNameArray(G0)),this._domNode.classList.add(...dt.kS.asClassNameArray($0)))}}(0,dt.Ic)((p,e)=>{const t=(mt,bt)=>{bt&&e.addRule(`.monaco-editor ${mt} { background-color: ${bt}; }`)};t(".findMatch",p.getColor(Ce.MUv)),t(".currentFindMatch",p.getColor(Ce.nyM)),t(".findScope",p.getColor(Ce.jUe));const n=p.getColor(Ce.D0T);t(".find-widget",n);const s=p.getColor(Ce.rh);s&&e.addRule(`.monaco-editor .find-widget { box-shadow: 0 0 8px 2px ${s}; }`);const o=p.getColor(Ce.EiJ);o&&e.addRule(`.monaco-editor .findMatch { border: 1px ${(0,qo.c3)(p.type)?"dotted":"solid"} ${o}; box-sizing: border-box; }`);const g=p.getColor(Ce.pnM);g&&e.addRule(`.monaco-editor .currentFindMatch { border: 2px solid ${g}; padding: 1px; box-sizing: border-box; }`);const w=p.getColor(Ce.gkn);w&&e.addRule(`.monaco-editor .findScope { border: 1px ${(0,qo.c3)(p.type)?"dashed":"solid"} ${w}; }`);const G=p.getColor(Ce.lRK);G&&e.addRule(`.monaco-editor .find-widget { border: 1px solid ${G}; }`);const J=p.getColor(Ce.Hfx);J&&e.addRule(`.monaco-editor .find-widget { color: ${J}; }`);const Q=p.getColor(Ce.Ido);Q&&e.addRule(`.monaco-editor .find-widget.no-results .matchesCount { color: ${Q}; }`);const ue=p.getColor(Ce.Ng6);if(ue)e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${ue}; }`);else{const mt=p.getColor(Ce.D1_);mt&&e.addRule(`.monaco-editor .find-widget .monaco-sash { background-color: ${mt}; }`)}const Ne=p.getColor(Ce.lUq);Ne&&e.addRule(`
		.monaco-editor .find-widget .button:not(.disabled):hover,
		.monaco-editor .find-widget .codicon-find-selection:hover {
			background-color: ${Ne} !important;
		}
	`);const st=p.getColor(Ce.R80);st&&e.addRule(`.monaco-editor .find-widget .monaco-inputbox.synthetic-focus { outline-color: ${st}; }`)});var q0=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},bc=function(p,e){return function(t,n){e(t,n,p)}},nu=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};const uC=524288;function sp(p,e="single",t=!1){if(!p.hasModel())return null;const n=p.getSelection();if(e==="single"&&n.startLineNumber===n.endLineNumber||e==="multiple"){if(n.isEmpty()){const s=p.getConfiguredWordAtPosition(n.getStartPosition());if(s&&t===!1)return s.word}else if(p.getModel().getValueLengthInRange(n)<uC)return p.getModel().getValueInRange(n)}return null}let Aa=class dv extends wt.JT{constructor(e,t,n,s){super(),this._editor=e,this._findWidgetVisible=yd.bindTo(t),this._contextKeyService=t,this._storageService=n,this._clipboardService=s,this._updateHistoryDelayer=new kt.vp(500),this._state=this._register(new Uv),this.loadQueryState(),this._register(this._state.onFindReplaceStateChange(o=>this._onStateChanged(o))),this._model=null,this._register(this._editor.onDidChangeModel(()=>{const o=this._editor.getModel()&&this._state.isRevealed;this.disposeModel(),this._state.change({searchScope:null,matchCase:this._storageService.getBoolean("editor.matchCase",1,!1),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,!1),isRegex:this._storageService.getBoolean("editor.isRegex",1,!1),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,!1)},!1),o&&this._start({forceRevealReplace:!1,seedSearchStringFromSelection:"none",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!1,updateSearchScope:!1,loop:this._editor.getOption(37).loop})}))}get editor(){return this._editor}static get(e){return e.getContribution(dv.ID)}dispose(){this.disposeModel(),super.dispose()}disposeModel(){this._model&&(this._model.dispose(),this._model=null)}_onStateChanged(e){this.saveQueryState(e),e.isRevealed&&(this._state.isRevealed?this._findWidgetVisible.set(!0):(this._findWidgetVisible.reset(),this.disposeModel())),e.searchString&&this.setGlobalBufferTerm(this._state.searchString)}saveQueryState(e){e.isRegex&&this._storageService.store("editor.isRegex",this._state.actualIsRegex,1,0),e.wholeWord&&this._storageService.store("editor.wholeWord",this._state.actualWholeWord,1,0),e.matchCase&&this._storageService.store("editor.matchCase",this._state.actualMatchCase,1,0),e.preserveCase&&this._storageService.store("editor.preserveCase",this._state.actualPreserveCase,1,0)}loadQueryState(){this._state.change({matchCase:this._storageService.getBoolean("editor.matchCase",1,this._state.matchCase),wholeWord:this._storageService.getBoolean("editor.wholeWord",1,this._state.wholeWord),isRegex:this._storageService.getBoolean("editor.isRegex",1,this._state.isRegex),preserveCase:this._storageService.getBoolean("editor.preserveCase",1,this._state.preserveCase)},!1)}isFindInputFocused(){return!!mg.getValue(this._contextKeyService)}getState(){return this._state}closeFindWidget(){this._state.change({isRevealed:!1,searchScope:null},!1),this._editor.focus()}toggleCaseSensitive(){this._state.change({matchCase:!this._state.matchCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleWholeWords(){this._state.change({wholeWord:!this._state.wholeWord},!1),this._state.isRevealed||this.highlightFindOptions()}toggleRegex(){this._state.change({isRegex:!this._state.isRegex},!1),this._state.isRevealed||this.highlightFindOptions()}togglePreserveCase(){this._state.change({preserveCase:!this._state.preserveCase},!1),this._state.isRevealed||this.highlightFindOptions()}toggleSearchScope(){if(this._state.searchScope)this._state.change({searchScope:null},!0);else if(this._editor.hasModel()){const e=this._editor.getSelections();e.map(t=>(t.endColumn===1&&t.endLineNumber>t.startLineNumber&&(t=t.setEndPosition(t.endLineNumber-1,this._editor.getModel().getLineMaxColumn(t.endLineNumber-1))),t.isEmpty()?null:t)).filter(t=>!!t),e.length&&this._state.change({searchScope:e},!0)}}setSearchString(e){this._state.isRegex&&(e=fi.ec(e)),this._state.change({searchString:e},!1)}highlightFindOptions(e=!1){}_start(e,t){return nu(this,void 0,void 0,function*(){if(this.disposeModel(),!this._editor.hasModel())return;const n=Object.assign(Object.assign({},t),{isRevealed:!0});if(e.seedSearchStringFromSelection==="single"){const s=sp(this._editor,e.seedSearchStringFromSelection,e.seedSearchStringFromNonEmptySelection);s&&(this._state.isRegex?n.searchString=fi.ec(s):n.searchString=s)}else if(e.seedSearchStringFromSelection==="multiple"&&!e.updateSearchScope){const s=sp(this._editor,e.seedSearchStringFromSelection);s&&(n.searchString=s)}if(!n.searchString&&e.seedSearchStringFromGlobalClipboard){const s=yield this.getGlobalBufferTerm();if(!this._editor.hasModel())return;s&&(n.searchString=s)}if(e.forceRevealReplace||n.isReplaceRevealed?n.isReplaceRevealed=!0:this._findWidgetVisible.get()||(n.isReplaceRevealed=!1),e.updateSearchScope){const s=this._editor.getSelections();s.some(o=>!o.isEmpty())&&(n.searchScope=s)}n.loop=e.loop,this._state.change(n,!1),this._model||(this._model=new qh(this._editor,this._state))})}start(e,t){return this._start(e,t)}moveToNextMatch(){return this._model?(this._model.moveToNextMatch(),!0):!1}moveToPrevMatch(){return this._model?(this._model.moveToPrevMatch(),!0):!1}replace(){return this._model?(this._model.replace(),!0):!1}replaceAll(){return this._model?(this._model.replaceAll(),!0):!1}selectAllMatches(){return this._model?(this._model.selectAllMatches(),this._editor.focus(),!0):!1}getGlobalBufferTerm(){return nu(this,void 0,void 0,function*(){return this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()?this._clipboardService.readFindText():""})}setGlobalBufferTerm(e){this._editor.getOption(37).globalFindClipboard&&this._editor.hasModel()&&!this._editor.getModel().isTooLargeForSyncing()&&this._clipboardService.writeFindText(e)}};Aa.ID="editor.contrib.findController",Aa=q0([bc(1,ht.i6),bc(2,Oo.Uy),bc(3,Li.p)],Aa);let op=class extends Aa{constructor(e,t,n,s,o,g,w,G){super(e,n,w,G),this._contextViewService=t,this._keybindingService=s,this._themeService=o,this._notificationService=g,this._widget=null,this._findOptionsWidget=null}_start(e,t){const n=Object.create(null,{_start:{get:()=>super._start}});return nu(this,void 0,void 0,function*(){this._widget||this._createFindWidget();const s=this._editor.getSelection();let o=!1;switch(this._editor.getOption(37).autoFindInSelection){case"always":o=!0;break;case"never":o=!1;break;case"multiline":{o=!!s&&s.startLineNumber!==s.endLineNumber;break}default:break}e.updateSearchScope=e.updateSearchScope||o,yield n._start.call(this,e,t),this._widget&&(e.shouldFocus===2?this._widget.focusReplaceInput():e.shouldFocus===1&&this._widget.focusFindInput())})}highlightFindOptions(e=!1){this._widget||this._createFindWidget(),this._state.isRevealed&&!e?this._widget.highlightFindOptions():this._findOptionsWidget.highlightFindOptions()}_createFindWidget(){this._widget=this._register(new yg(this._editor,this,this._state,this._contextViewService,this._keybindingService,this._contextKeyService,this._themeService,this._storageService,this._notificationService)),this._findOptionsWidget=this._register(new wg(this._editor,this._state,this._keybindingService,this._themeService))}};op=q0([bc(1,B.u),bc(2,ht.i6),bc(3,ee.d),bc(4,dt.XE),bc(5,et.lT),bc(6,Oo.Uy),bc(7,Li.p)],op),(0,je.rn)(new je.jY({id:lo.StartFindAction,label:_e.NC("startFindAction","Find"),alias:"Find",precondition:ht.Ao.or(vt.u.focus,ht.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2084,weight:100},menuOpts:{menuId:Ve.eH.MenubarEditMenu,group:"3_find",title:_e.NC({key:"miFind",comment:["&& denotes a mnemonic"]},"&&Find"),order:1}})).addImplementation(0,(p,e,t)=>{const n=Aa.get(e);return n?n.start({forceRevealReplace:!1,seedSearchStringFromSelection:e.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(37).globalFindClipboard,shouldFocus:1,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(37).loop}):!1});const hC={description:"Open a new In-Editor Find Widget.",args:[{name:"Open a new In-Editor Find Widget args",schema:{properties:{searchString:{type:"string"},replaceString:{type:"string"},regex:{type:"boolean"},regexOverride:{type:"number",description:_e.NC("actions.find.isRegexOverride",`Overrides "Use Regular Expression" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},wholeWord:{type:"boolean"},wholeWordOverride:{type:"number",description:_e.NC("actions.find.wholeWordOverride",`Overrides "Match Whole Word" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},matchCase:{type:"boolean"},matchCaseOverride:{type:"number",description:_e.NC("actions.find.matchCaseOverride",`Overrides "Math Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},preserveCase:{type:"boolean"},preserveCaseOverride:{type:"number",description:_e.NC("actions.find.preserveCaseOverride",`Overrides "Preserve Case" flag.
The flag will not be saved for the future.
0: Do Nothing
1: True
2: False`)},findInSelection:{type:"boolean"}}}}]};class fC extends je.R6{constructor(){super({id:lo.StartFindWithArgs,label:_e.NC("startFindWithArgsAction","Find With Arguments"),alias:"Find With Arguments",precondition:void 0,kbOpts:{kbExpr:null,primary:0,weight:100},description:hC})}run(e,t,n){return nu(this,void 0,void 0,function*(){const s=Aa.get(t);if(s){const o=n?{searchString:n.searchString,replaceString:n.replaceString,isReplaceRevealed:n.replaceString!==void 0,isRegex:n.isRegex,wholeWord:n.matchWholeWord,matchCase:n.isCaseSensitive,preserveCase:n.preserveCase}:{};yield s.start({forceRevealReplace:!1,seedSearchStringFromSelection:s.getState().searchString.length===0&&t.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:1,shouldAnimate:!0,updateSearchScope:(n==null?void 0:n.findInSelection)||!1,loop:t.getOption(37).loop},o),s.setGlobalBufferTerm(s.getState().searchString)}})}}class gC extends je.R6{constructor(){super({id:lo.StartFindWithSelection,label:_e.NC("startFindWithSelectionAction","Find With Selection"),alias:"Find With Selection",precondition:void 0,kbOpts:{kbExpr:null,primary:0,mac:{primary:2083},weight:100}})}run(e,t){return nu(this,void 0,void 0,function*(){const n=Aa.get(t);n&&(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:"multiple",seedSearchStringFromNonEmptySelection:!1,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop}),n.setGlobalBufferTerm(n.getState().searchString))})}}class e_ extends je.R6{run(e,t){return nu(this,void 0,void 0,function*(){const n=Aa.get(t);n&&!this._run(n)&&(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:n.getState().searchString.length===0&&t.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:t.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:!0,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop}),this._run(n))})}}class mC extends e_{constructor(){super({id:lo.NextMatchFindAction,label:_e.NC("findNextMatchAction","Find Next"),alias:"Find Next",precondition:void 0,kbOpts:[{kbExpr:vt.u.focus,primary:61,mac:{primary:2085,secondary:[61]},weight:100},{kbExpr:ht.Ao.and(vt.u.focus,mg),primary:3,weight:100}]})}_run(e){return e.moveToNextMatch()?(e.editor.pushUndoStop(),!0):!1}}class pC extends e_{constructor(){super({id:lo.PreviousMatchFindAction,label:_e.NC("findPreviousMatchAction","Find Previous"),alias:"Find Previous",precondition:void 0,kbOpts:[{kbExpr:vt.u.focus,primary:1085,mac:{primary:3109,secondary:[1085]},weight:100},{kbExpr:ht.Ao.and(vt.u.focus,mg),primary:1027,weight:100}]})}_run(e){return e.moveToPrevMatch()}}class t_ extends je.R6{run(e,t){return nu(this,void 0,void 0,function*(){const n=Aa.get(t);if(!n)return;const s=t.getOption(37).seedSearchStringFromSelection==="selection";let o=null;t.getOption(37).seedSearchStringFromSelection!=="never"&&(o=sp(t,"single",s)),o&&n.setSearchString(o),this._run(n)||(yield n.start({forceRevealReplace:!1,seedSearchStringFromSelection:t.getOption(37).seedSearchStringFromSelection!=="never"?"single":"none",seedSearchStringFromNonEmptySelection:s,seedSearchStringFromGlobalClipboard:!1,shouldFocus:0,shouldAnimate:!0,updateSearchScope:!1,loop:t.getOption(37).loop}),this._run(n))})}}class _C extends t_{constructor(){super({id:lo.NextSelectionMatchFindAction,label:_e.NC("nextSelectionMatchFindAction","Find Next Selection"),alias:"Find Next Selection",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:2109,weight:100}})}_run(e){return e.moveToNextMatch()}}class vC extends t_{constructor(){super({id:lo.PreviousSelectionMatchFindAction,label:_e.NC("previousSelectionMatchFindAction","Find Previous Selection"),alias:"Find Previous Selection",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:3133,weight:100}})}_run(e){return e.moveToPrevMatch()}}(0,je.rn)(new je.jY({id:lo.StartFindReplaceAction,label:_e.NC("startReplace","Replace"),alias:"Replace",precondition:ht.Ao.or(vt.u.focus,ht.Ao.has("editorIsOpen")),kbOpts:{kbExpr:null,primary:2086,mac:{primary:2596},weight:100},menuOpts:{menuId:Ve.eH.MenubarEditMenu,group:"3_find",title:_e.NC({key:"miReplace",comment:["&& denotes a mnemonic"]},"&&Replace"),order:2}})).addImplementation(0,(p,e,t)=>{if(!e.hasModel()||e.getOption(83))return!1;const n=Aa.get(e);if(!n)return!1;const s=e.getSelection(),o=n.isFindInputFocused(),g=!s.isEmpty()&&s.startLineNumber===s.endLineNumber&&e.getOption(37).seedSearchStringFromSelection!=="never"&&!o,w=o||g?2:1;return n.start({forceRevealReplace:!0,seedSearchStringFromSelection:g?"single":"none",seedSearchStringFromNonEmptySelection:e.getOption(37).seedSearchStringFromSelection==="selection",seedSearchStringFromGlobalClipboard:e.getOption(37).seedSearchStringFromSelection!=="never",shouldFocus:w,shouldAnimate:!0,updateSearchScope:!1,loop:e.getOption(37).loop})}),(0,je._K)(Aa.ID,op),(0,je.Qr)(fC),(0,je.Qr)(gC),(0,je.Qr)(mC),(0,je.Qr)(pC),(0,je.Qr)(_C),(0,je.Qr)(vC);const Yl=je._l.bindToContribution(Aa.get);(0,je.fK)(new Yl({id:lo.CloseFindWidgetCommand,precondition:yd,handler:p=>p.closeFindWidget(),kbOpts:{weight:100+5,kbExpr:ht.Ao.and(vt.u.focus,ht.Ao.not("isComposing")),primary:9,secondary:[1033]}})),(0,je.fK)(new Yl({id:lo.ToggleCaseSensitiveCommand,precondition:void 0,handler:p=>p.toggleCaseSensitive(),kbOpts:{weight:100+5,kbExpr:vt.u.focus,primary:pg.primary,mac:pg.mac,win:pg.win,linux:pg.linux}})),(0,je.fK)(new Yl({id:lo.ToggleWholeWordCommand,precondition:void 0,handler:p=>p.toggleWholeWords(),kbOpts:{weight:100+5,kbExpr:vt.u.focus,primary:_g.primary,mac:_g.mac,win:_g.win,linux:_g.linux}})),(0,je.fK)(new Yl({id:lo.ToggleRegexCommand,precondition:void 0,handler:p=>p.toggleRegex(),kbOpts:{weight:100+5,kbExpr:vt.u.focus,primary:vg.primary,mac:vg.mac,win:vg.win,linux:vg.linux}})),(0,je.fK)(new Yl({id:lo.ToggleSearchScopeCommand,precondition:void 0,handler:p=>p.toggleSearchScope(),kbOpts:{weight:100+5,kbExpr:vt.u.focus,primary:Cg.primary,mac:Cg.mac,win:Cg.win,linux:Cg.linux}})),(0,je.fK)(new Yl({id:lo.TogglePreserveCaseCommand,precondition:void 0,handler:p=>p.togglePreserveCase(),kbOpts:{weight:100+5,kbExpr:vt.u.focus,primary:bg.primary,mac:bg.mac,win:bg.win,linux:bg.linux}})),(0,je.fK)(new Yl({id:lo.ReplaceOneAction,precondition:yd,handler:p=>p.replace(),kbOpts:{weight:100+5,kbExpr:vt.u.focus,primary:3094}})),(0,je.fK)(new Yl({id:lo.ReplaceOneAction,precondition:yd,handler:p=>p.replace(),kbOpts:{weight:100+5,kbExpr:ht.Ao.and(vt.u.focus,tp),primary:3}})),(0,je.fK)(new Yl({id:lo.ReplaceAllAction,precondition:yd,handler:p=>p.replaceAll(),kbOpts:{weight:100+5,kbExpr:vt.u.focus,primary:2563}})),(0,je.fK)(new Yl({id:lo.ReplaceAllAction,precondition:yd,handler:p=>p.replaceAll(),kbOpts:{weight:100+5,kbExpr:ht.Ao.and(vt.u.focus,tp),primary:void 0,mac:{primary:2051}}})),(0,je.fK)(new Yl({id:lo.SelectAllMatchesAction,precondition:yd,handler:p=>p.selectAllMatches(),kbOpts:{weight:100+5,kbExpr:vt.u.focus,primary:515}}));const n_=65535,Ql=16777215,i_=4278190080;class rp{constructor(e){const t=Math.ceil(e/32);this._states=new Uint32Array(t)}get(e){const t=e/32|0,n=e%32;return(this._states[t]&1<<n)!==0}set(e,t){const n=e/32|0,s=e%32,o=this._states[n];t?this._states[n]=o|1<<s:this._states[n]=o&~(1<<s)}}class Ka{constructor(e,t,n){if(this.sourceAbbr={[0]:" ",[1]:"u",[2]:"r"},e.length!==t.length||e.length>n_)throw new Error("invalid startIndexes or endIndexes size");this._startIndexes=e,this._endIndexes=t,this._collapseStates=new rp(e.length),this._userDefinedStates=new rp(e.length),this._recoveredStates=new rp(e.length),this._types=n,this._parentsComputed=!1}ensureParentIndices(){if(!this._parentsComputed){this._parentsComputed=!0;const e=[],t=(n,s)=>{const o=e[e.length-1];return this.getStartLineNumber(o)<=n&&this.getEndLineNumber(o)>=s};for(let n=0,s=this._startIndexes.length;n<s;n++){const o=this._startIndexes[n],g=this._endIndexes[n];if(o>Ql||g>Ql)throw new Error("startLineNumber or endLineNumber must not exceed "+Ql);for(;e.length>0&&!t(o,g);)e.pop();const w=e.length>0?e[e.length-1]:-1;e.push(n),this._startIndexes[n]=o+((w&255)<<24),this._endIndexes[n]=g+((w&65280)<<16)}}}get length(){return this._startIndexes.length}getStartLineNumber(e){return this._startIndexes[e]&Ql}getEndLineNumber(e){return this._endIndexes[e]&Ql}getType(e){return this._types?this._types[e]:void 0}hasTypes(){return!!this._types}isCollapsed(e){return this._collapseStates.get(e)}setCollapsed(e,t){this._collapseStates.set(e,t)}isUserDefined(e){return this._userDefinedStates.get(e)}setUserDefined(e,t){return this._userDefinedStates.set(e,t)}isRecovered(e){return this._recoveredStates.get(e)}setRecovered(e,t){return this._recoveredStates.set(e,t)}getSource(e){return this.isUserDefined(e)?1:this.isRecovered(e)?2:0}setSource(e,t){t===1?(this.setUserDefined(e,!0),this.setRecovered(e,!1)):t===2?(this.setUserDefined(e,!1),this.setRecovered(e,!0)):(this.setUserDefined(e,!1),this.setRecovered(e,!1))}setCollapsedAllOfType(e,t){let n=!1;if(this._types)for(let s=0;s<this._types.length;s++)this._types[s]===e&&(this.setCollapsed(s,t),n=!0);return n}toRegion(e){return new CC(this,e)}getParentIndex(e){this.ensureParentIndices();const t=((this._startIndexes[e]&i_)>>>24)+((this._endIndexes[e]&i_)>>>16);return t===n_?-1:t}contains(e,t){return this.getStartLineNumber(e)<=t&&this.getEndLineNumber(e)>=t}findIndex(e){let t=0,n=this._startIndexes.length;if(n===0)return-1;for(;t<n;){const s=Math.floor((t+n)/2);e<this.getStartLineNumber(s)?n=s:t=s+1}return t-1}findRange(e){let t=this.findIndex(e);if(t>=0){if(this.getEndLineNumber(t)>=e)return t;for(t=this.getParentIndex(t);t!==-1;){if(this.contains(t,e))return t;t=this.getParentIndex(t)}}return-1}toString(){const e=[];for(let t=0;t<this.length;t++)e[t]=`[${this.sourceAbbr[this.getSource(t)]}${this.isCollapsed(t)?"+":"-"}] ${this.getStartLineNumber(t)}/${this.getEndLineNumber(t)}`;return e.join(", ")}toFoldRange(e){return{startLineNumber:this._startIndexes[e]&Ql,endLineNumber:this._endIndexes[e]&Ql,type:this._types?this._types[e]:void 0,isCollapsed:this.isCollapsed(e),source:this.getSource(e)}}static fromFoldRanges(e){const t=e.length,n=new Uint32Array(t),s=new Uint32Array(t);let o=[],g=!1;for(let G=0;G<t;G++){const J=e[G];n[G]=J.startLineNumber,s[G]=J.endLineNumber,o.push(J.type),J.type&&(g=!0)}g||(o=void 0);const w=new Ka(n,s,o);for(let G=0;G<t;G++)e[G].isCollapsed&&w.setCollapsed(G,!0),w.setSource(G,e[G].source);return w}static sanitizeAndMerge(e,t,n){n=n!=null?n:Number.MAX_VALUE;const s=(bt,$t)=>Array.isArray(bt)?Cn=>Cn<$t?bt[Cn]:void 0:Cn=>Cn<$t?bt.toFoldRange(Cn):void 0,o=s(e,e.length),g=s(t,t.length);let w=0,G=0,J=o(0),Q=g(0);const ue=[];let Ne,st=0;const mt=[];for(;J||Q;){let bt;if(Q&&(!J||J.startLineNumber>=Q.startLineNumber))J&&J.startLineNumber===Q.startLineNumber?(Q.source===1?bt=Q:(bt=J,bt.isCollapsed=Q.isCollapsed&&J.endLineNumber===Q.endLineNumber,bt.source=0),J=o(++w)):(bt=Q,Q.isCollapsed&&Q.source===0&&(bt.source=2)),Q=g(++G);else{let $t=G,Cn=Q;for(;;){if(!Cn||Cn.startLineNumber>J.endLineNumber){bt=J;break}if(Cn.source===1&&Cn.endLineNumber>J.endLineNumber)break;Cn=g(++$t)}J=o(++w)}if(bt){for(;Ne&&Ne.endLineNumber<bt.startLineNumber;)Ne=ue.pop();bt.endLineNumber>bt.startLineNumber&&bt.startLineNumber>st&&bt.endLineNumber<=n&&(!Ne||Ne.endLineNumber>=bt.endLineNumber)&&(mt.push(bt),st=bt.startLineNumber,Ne&&ue.push(Ne),Ne=bt)}}return mt}}class CC{constructor(e,t){this.ranges=e,this.index=t}get startLineNumber(){return this.ranges.getStartLineNumber(this.index)}get endLineNumber(){return this.ranges.getEndLineNumber(this.index)}get regionIndex(){return this.index}get parentIndex(){return this.ranges.getParentIndex(this.index)}get isCollapsed(){return this.ranges.isCollapsed(this.index)}containedBy(e){return e.startLineNumber<=this.startLineNumber&&e.endLineNumber>=this.endLineNumber}containsLine(e){return this.startLineNumber<=e&&e<=this.endLineNumber}}class bC{constructor(e,t){this._updateEventEmitter=new ni.Q5,this.onDidChange=this._updateEventEmitter.event,this._textModel=e,this._decorationProvider=t,this._regions=new Ka(new Uint32Array(0),new Uint32Array(0)),this._editorDecorationIds=[]}get regions(){return this._regions}get textModel(){return this._textModel}toggleCollapseState(e){if(!e.length)return;e=e.sort((n,s)=>n.regionIndex-s.regionIndex);const t={};this._decorationProvider.changeDecorations(n=>{let s=0,o=-1,g=-1;const w=G=>{for(;s<G;){const J=this._regions.getEndLineNumber(s),Q=this._regions.isCollapsed(s);if(J<=o){const ue=this.regions.getSource(s)!==0;n.changeDecorationOptions(this._editorDecorationIds[s],this._decorationProvider.getDecorationOption(Q,J<=g,ue))}Q&&J>g&&(g=J),s++}};for(const G of e){const J=G.regionIndex,Q=this._editorDecorationIds[J];if(Q&&!t[Q]){t[Q]=!0,w(J);const ue=!this._regions.isCollapsed(J);this._regions.setCollapsed(J,ue),o=Math.max(o,this._regions.getEndLineNumber(J))}}w(this._regions.length)}),this._updateEventEmitter.fire({model:this,collapseStateChanged:e})}removeManualRanges(e){const t=new Array,n=s=>{for(const o of e)if(!(o.startLineNumber>s.endLineNumber||s.startLineNumber>o.endLineNumber))return!0;return!1};for(let s=0;s<this._regions.length;s++){const o=this._regions.toFoldRange(s);(o.source===0||!n(o))&&t.push(o)}this.updatePost(Ka.fromFoldRanges(t))}update(e,t=[]){const n=this._currentFoldedOrManualRanges(t),s=Ka.sanitizeAndMerge(e,n,this._textModel.getLineCount());this.updatePost(Ka.fromFoldRanges(s))}updatePost(e){const t=[];let n=-1;for(let s=0,o=e.length;s<o;s++){const g=e.getStartLineNumber(s),w=e.getEndLineNumber(s),G=e.isCollapsed(s),J=e.getSource(s)!==0,Q={startLineNumber:g,startColumn:this._textModel.getLineMaxColumn(g),endLineNumber:w,endColumn:this._textModel.getLineMaxColumn(w)+1};t.push({range:Q,options:this._decorationProvider.getDecorationOption(G,w<=n,J)}),G&&w>n&&(n=w)}this._decorationProvider.changeDecorations(s=>this._editorDecorationIds=s.deltaDecorations(this._editorDecorationIds,t)),this._regions=e,this._updateEventEmitter.fire({model:this})}_currentFoldedOrManualRanges(e=[]){const t=(s,o)=>{for(const g of e)if(s<g&&g<=o)return!0;return!1},n=[];for(let s=0,o=this._regions.length;s<o;s++){let g=this.regions.isCollapsed(s);const w=this.regions.getSource(s);if(g||w!==0){const G=this._regions.toFoldRange(s),J=this._textModel.getDecorationRange(this._editorDecorationIds[s]);J&&(g&&(t(J.startLineNumber,J.endLineNumber)||J.endLineNumber-J.startLineNumber!==G.endLineNumber-G.startLineNumber)&&(g=!1),n.push({startLineNumber:J.startLineNumber,endLineNumber:J.endLineNumber,type:G.type,isCollapsed:g,source:w}))}}return n}getMemento(){const e=this._currentFoldedOrManualRanges(),t=[];for(let n=0,s=e.length;n<s;n++){const o=e[n],g=this._getLinesChecksum(o.startLineNumber+1,o.endLineNumber);t.push({startLineNumber:o.startLineNumber,endLineNumber:o.endLineNumber,isCollapsed:o.isCollapsed,source:o.source,checksum:g})}return t.length>0?t:void 0}applyMemento(e){var t,n;if(!Array.isArray(e))return;const s=[],o=this._textModel.getLineCount();for(const w of e){if(w.startLineNumber>=w.endLineNumber||w.startLineNumber<1||w.endLineNumber>o)continue;const G=this._getLinesChecksum(w.startLineNumber+1,w.endLineNumber);(!w.checksum||G===w.checksum)&&s.push({startLineNumber:w.startLineNumber,endLineNumber:w.endLineNumber,type:void 0,isCollapsed:(t=w.isCollapsed)!==null&&t!==void 0?t:!0,source:(n=w.source)!==null&&n!==void 0?n:0})}const g=Ka.sanitizeAndMerge(this._regions,s,o);this.updatePost(Ka.fromFoldRanges(g))}_getLinesChecksum(e,t){return(0,da.vp)(this._textModel.getLineContent(e)+this._textModel.getLineContent(t))%1e6}dispose(){this._decorationProvider.removeDecorations(this._editorDecorationIds)}getAllRegionsAtLine(e,t){const n=[];if(this._regions){let s=this._regions.findRange(e),o=1;for(;s>=0;){const g=this._regions.toRegion(s);(!t||t(g,o))&&n.push(g),o++,s=g.parentIndex}}return n}getRegionAtLine(e){if(this._regions){const t=this._regions.findRange(e);if(t>=0)return this._regions.toRegion(t)}return null}getRegionsInside(e,t){const n=[],s=e?e.regionIndex+1:0,o=e?e.endLineNumber:Number.MAX_VALUE;if(t&&t.length===2){const g=[];for(let w=s,G=this._regions.length;w<G;w++){const J=this._regions.toRegion(w);if(this._regions.getStartLineNumber(w)<o){for(;g.length>0&&!J.containedBy(g[g.length-1]);)g.pop();g.push(J),t(J,g.length)&&n.push(J)}else break}}else for(let g=s,w=this._regions.length;g<w;g++){const G=this._regions.toRegion(g);if(this._regions.getStartLineNumber(g)<o)(!t||t(G))&&n.push(G);else break}return n}}function wC(p,e,t){const n=[];for(const s of t){const o=p.getRegionAtLine(s);if(o){const g=!o.isCollapsed;if(n.push(o),e>1){const w=p.getRegionsInside(o,(G,J)=>G.isCollapsed!==g&&J<e);n.push(...w)}}}p.toggleCollapseState(n)}function Qu(p,e,t=Number.MAX_VALUE,n){const s=[];if(n&&n.length>0)for(const o of n){const g=p.getRegionAtLine(o);if(g&&(g.isCollapsed!==e&&s.push(g),t>1)){const w=p.getRegionsInside(g,(G,J)=>G.isCollapsed!==e&&J<t);s.push(...w)}}else{const o=p.getRegionsInside(null,(g,w)=>g.isCollapsed!==e&&w<t);s.push(...o)}p.toggleCollapseState(s)}function s_(p,e,t,n){const s=[];for(const o of n){const g=p.getAllRegionsAtLine(o,(w,G)=>w.isCollapsed!==e&&G<=t);s.push(...g)}p.toggleCollapseState(s)}function SC(p,e,t){const n=[];for(const s of t){const o=p.getAllRegionsAtLine(s,g=>g.isCollapsed!==e);o.length>0&&n.push(o[0])}p.toggleCollapseState(n)}function yC(p,e,t,n){const s=(g,w)=>w===e&&g.isCollapsed!==t&&!n.some(G=>g.containsLine(G)),o=p.getRegionsInside(null,s);p.toggleCollapseState(o)}function o_(p,e,t){const n=[];for(const g of t){const w=p.getAllRegionsAtLine(g,void 0);w.length>0&&n.push(w[0])}const s=g=>n.every(w=>!w.containedBy(g)&&!g.containedBy(w))&&g.isCollapsed!==e,o=p.getRegionsInside(null,s);p.toggleCollapseState(o)}function ap(p,e,t){const n=p.textModel,s=p.regions,o=[];for(let g=s.length-1;g>=0;g--)if(t!==s.isCollapsed(g)){const w=s.getStartLineNumber(g);e.test(n.getLineContent(w))&&o.push(s.toRegion(g))}p.toggleCollapseState(o)}function lp(p,e,t){const n=p.regions,s=[];for(let o=n.length-1;o>=0;o--)t!==n.isCollapsed(o)&&e===n.getType(o)&&s.push(n.toRegion(o));p.toggleCollapseState(s)}function LC(p,e){let t=null;const n=e.getRegionAtLine(p);if(n!==null&&(t=n.startLineNumber,p===t)){const s=n.parentIndex;s!==-1?t=e.regions.getStartLineNumber(s):t=null}return t}function EC(p,e){let t=e.getRegionAtLine(p);if(t!==null&&t.startLineNumber===p){if(p!==t.startLineNumber)return t.startLineNumber;{const n=t.parentIndex;let s=0;for(n!==-1&&(s=e.regions.getStartLineNumber(t.parentIndex));t!==null;)if(t.regionIndex>0){if(t=e.regions.toRegion(t.regionIndex-1),t.startLineNumber<=s)return null;if(t.parentIndex===n)return t.startLineNumber}else return null}}else if(e.regions.length>0)for(t=e.regions.toRegion(e.regions.length-1);t!==null;){if(t.startLineNumber<p)return t.startLineNumber;t.regionIndex>0?t=e.regions.toRegion(t.regionIndex-1):t=null}return null}function DC(p,e){let t=e.getRegionAtLine(p);if(t!==null&&t.startLineNumber===p){const n=t.parentIndex;let s=0;if(n!==-1)s=e.regions.getEndLineNumber(t.parentIndex);else{if(e.regions.length===0)return null;s=e.regions.getEndLineNumber(e.regions.length-1)}for(;t!==null;)if(t.regionIndex<e.regions.length){if(t=e.regions.toRegion(t.regionIndex+1),t.startLineNumber>=s)return null;if(t.parentIndex===n)return t.startLineNumber}else return null}else if(e.regions.length>0)for(t=e.regions.toRegion(0);t!==null;){if(t.startLineNumber>p)return t.startLineNumber;t.regionIndex<e.regions.length?t=e.regions.toRegion(t.regionIndex+1):t=null}return null}var xC=l(9357);class IC{constructor(e){this._updateEventEmitter=new ni.Q5,this._hasLineChanges=!1,this._foldingModel=e,this._foldingModelListener=e.onDidChange(t=>this.updateHiddenRanges()),this._hiddenRanges=[],e.regions.length&&this.updateHiddenRanges()}get onDidChange(){return this._updateEventEmitter.event}get hiddenRanges(){return this._hiddenRanges}notifyChangeModelContent(e){this._hiddenRanges.length&&!this._hasLineChanges&&(this._hasLineChanges=e.changes.some(t=>t.range.endLineNumber!==t.range.startLineNumber||(0,xC.Q)(t.text)[0]!==0))}updateHiddenRanges(){let e=!1;const t=[];let n=0,s=0,o=Number.MAX_VALUE,g=-1;const w=this._foldingModel.regions;for(;n<w.length;n++){if(!w.isCollapsed(n))continue;const G=w.getStartLineNumber(n)+1,J=w.getEndLineNumber(n);o<=G&&J<=g||(!e&&s<this._hiddenRanges.length&&this._hiddenRanges[s].startLineNumber===G&&this._hiddenRanges[s].endLineNumber===J?(t.push(this._hiddenRanges[s]),s++):(e=!0,t.push(new _t.e(G,1,J,1))),o=G,g=J)}(this._hasLineChanges||e||s<this._hiddenRanges.length)&&this.applyHiddenRanges(t)}applyHiddenRanges(e){this._hiddenRanges=e,this._hasLineChanges=!1,this._updateEventEmitter.fire(e)}hasRanges(){return this._hiddenRanges.length>0}isHidden(e){return r_(this._hiddenRanges,e)!==null}adjustSelections(e){let t=!1;const n=this._foldingModel.textModel;let s=null;const o=g=>((!s||!NC(g,s))&&(s=r_(this._hiddenRanges,g)),s?s.startLineNumber-1:null);for(let g=0,w=e.length;g<w;g++){let G=e[g];const J=o(G.startLineNumber);J&&(G=G.setStartPosition(J,n.getLineMaxColumn(J)),t=!0);const Q=o(G.endLineNumber);Q&&(G=G.setEndPosition(Q,n.getLineMaxColumn(Q)),t=!0),e[g]=G}return t}dispose(){this.hiddenRanges.length>0&&(this._hiddenRanges=[],this._updateEventEmitter.fire(this._hiddenRanges)),this._foldingModelListener&&(this._foldingModelListener.dispose(),this._foldingModelListener=null)}}function NC(p,e){return p>=e.startLineNumber&&p<=e.endLineNumber}function r_(p,e){const t=(0,$i.lG)(p,n=>e<n.startLineNumber)-1;return t>=0&&p[t].endLineNumber>=e?p[t]:null}const TC=5e3,kC="indent";class MC{constructor(e,t,n){this.editorModel=e,this.languageConfigurationService=t,this.maxFoldingRegions=n,this.id=kC}dispose(){}compute(e,t){const n=this.languageConfigurationService.getLanguageConfiguration(this.editorModel.getLanguageId()).foldingRules,s=n&&!!n.offSide,o=n&&n.markers;return Promise.resolve(AC(this.editorModel,s,o,this.maxFoldingRegions,t))}}class RC{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._indentOccurrences=[],this._length=0,this._foldingRangesLimit=e}insertFirst(e,t,n){if(e>Ql||t>Ql)return;const s=this._length;this._startIndexes[s]=e,this._endIndexes[s]=t,this._length++,n<1e3&&(this._indentOccurrences[n]=(this._indentOccurrences[n]||0)+1)}toIndentRanges(e){var t;if(this._length<=this._foldingRangesLimit){const n=new Uint32Array(this._length),s=new Uint32Array(this._length);for(let o=this._length-1,g=0;o>=0;o--,g++)n[g]=this._startIndexes[o],s[g]=this._endIndexes[o];return new Ka(n,s)}else{(t=this._notifyTooManyRegions)===null||t===void 0||t.call(this,this._foldingRangesLimit);let n=0,s=this._indentOccurrences.length;for(let G=0;G<this._indentOccurrences.length;G++){const J=this._indentOccurrences[G];if(J){if(J+n>this._foldingRangesLimit){s=G;break}n+=J}}const o=e.getOptions().tabSize,g=new Uint32Array(this._foldingRangesLimit),w=new Uint32Array(this._foldingRangesLimit);for(let G=this._length-1,J=0;G>=0;G--){const Q=this._startIndexes[G],ue=e.getLineContent(Q),Ne=(0,Ps.q)(ue,o);(Ne<s||Ne===s&&n++<this._foldingRangesLimit)&&(g[J]=Q,w[J]=this._endIndexes[G],J++)}return new Ka(g,w)}}}function AC(p,e,t,n,s){const o=p.getOptions().tabSize;n=n!=null?n:TC;const g=new RC(n,s);let w;t&&(w=new RegExp(`(${t.start.source})|(?:${t.end.source})`));const G=[],J=p.getLineCount()+1;G.push({indent:-1,endAbove:J,line:J});for(let Q=p.getLineCount();Q>0;Q--){const ue=p.getLineContent(Q),Ne=(0,Ps.q)(ue,o);let st=G[G.length-1];if(Ne===-1){e&&(st.endAbove=Q);continue}let mt;if(w&&(mt=ue.match(w)))if(mt[1]){let bt=G.length-1;for(;bt>0&&G[bt].indent!==-2;)bt--;if(bt>0){G.length=bt+1,st=G[bt],g.insertFirst(Q,st.line,Ne),st.line=Q,st.indent=Ne,st.endAbove=Q;continue}}else{G.push({indent:-2,endAbove:Q,line:Q});continue}if(st.indent>Ne){do G.pop(),st=G[G.length-1];while(st.indent>Ne);const bt=st.endAbove-1;bt-Q>=1&&g.insertFirst(Q,bt,Ne)}st.indent===Ne?st.endAbove=Q:G.push({indent:Ne,endAbove:Q,line:Q})}return g.toIndentRanges(p)}const tf=(0,sr.q5)("folding-expanded",Nn.lA.chevronDown,(0,_e.NC)("foldingExpandedIcon","Icon for expanded ranges in the editor glyph margin.")),Lg=(0,sr.q5)("folding-collapsed",Nn.lA.chevronRight,(0,_e.NC)("foldingCollapsedIcon","Icon for collapsed ranges in the editor glyph margin.")),a_=(0,sr.q5)("folding-manual-collapsed",Lg,(0,_e.NC)("foldingManualCollapedIcon","Icon for manually collapsed ranges in the editor glyph margin.")),cp=(0,sr.q5)("folding-manual-expanded",tf,(0,_e.NC)("foldingManualExpandedIcon","Icon for manually expanded ranges in the editor glyph margin."));class xr{constructor(e){this.editor=e,this.showFoldingControls="mouseover",this.showFoldingHighlights=!0}getDecorationOption(e,t,n){return t||this.showFoldingControls==="never"?xr.HIDDEN_RANGE_DECORATION:e?n?this.showFoldingHighlights?xr.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:xr.MANUALLY_COLLAPSED_VISUAL_DECORATION:this.showFoldingHighlights?xr.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION:xr.COLLAPSED_VISUAL_DECORATION:this.showFoldingControls==="mouseover"?n?xr.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION:xr.EXPANDED_AUTO_HIDE_VISUAL_DECORATION:n?xr.MANUALLY_EXPANDED_VISUAL_DECORATION:xr.EXPANDED_VISUAL_DECORATION}changeDecorations(e){return this.editor.changeDecorations(e)}removeDecorations(e){this.editor.removeDecorations(e)}}xr.COLLAPSED_VISUAL_DECORATION=Xn.qx.register({description:"folding-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:dt.kS.asClassName(Lg)}),xr.COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Xn.qx.register({description:"folding-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:dt.kS.asClassName(Lg)}),xr.MANUALLY_COLLAPSED_VISUAL_DECORATION=Xn.qx.register({description:"folding-manually-collapsed-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+dt.kS.asClassName(tf)}),xr.MANUALLY_COLLAPSED_HIGHLIGHTED_VISUAL_DECORATION=Xn.qx.register({description:"folding-manually-collapsed-highlighted-visual-decoration",stickiness:0,afterContentClassName:"inline-folded",className:"folded-background",isWholeLine:!0,firstLineDecorationClassName:dt.kS.asClassName(a_)}),xr.EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Xn.qx.register({description:"folding-expanded-auto-hide-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:dt.kS.asClassName(tf)}),xr.EXPANDED_VISUAL_DECORATION=Xn.qx.register({description:"folding-expanded-visual-decoration",stickiness:1,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+dt.kS.asClassName(tf)}),xr.MANUALLY_EXPANDED_VISUAL_DECORATION=Xn.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:"alwaysShowFoldIcons "+dt.kS.asClassName(cp)}),xr.MANUALLY_EXPANDED_AUTO_HIDE_VISUAL_DECORATION=Xn.qx.register({description:"folding-manually-expanded-visual-decoration",stickiness:0,isWholeLine:!0,firstLineDecorationClassName:dt.kS.asClassName(cp)}),xr.HIDDEN_RANGE_DECORATION=Xn.qx.register({description:"folding-hidden-range-decoration",stickiness:1});const PC={},OC="syntax";class FC{constructor(e,t,n,s){this.editorModel=e,this.providers=t,this.limit=s,this.id=OC;for(const o of t)typeof o.onDidChange=="function"&&(this.disposables||(this.disposables=new wt.SL),this.disposables.add(o.onDidChange(n)))}compute(e,t){return BC(this.providers,this.editorModel,e).then(n=>n?VC(n,this.limit,t):null)}dispose(){var e;(e=this.disposables)===null||e===void 0||e.dispose()}}function BC(p,e,t){let n=null;const s=p.map((o,g)=>Promise.resolve(o.provideFoldingRanges(e,PC,t)).then(w=>{if(!t.isCancellationRequested&&Array.isArray(w)){Array.isArray(n)||(n=[]);const G=e.getLineCount();for(const J of w)J.start>0&&J.end>J.start&&J.end<=G&&n.push({start:J.start,end:J.end,rank:g,kind:J.kind})}},Ei.Cp));return Promise.all(s).then(o=>n)}class WC{constructor(e,t){this._notifyTooManyRegions=t,this._startIndexes=[],this._endIndexes=[],this._nestingLevels=[],this._nestingLevelCounts=[],this._types=[],this._length=0,this._foldingRangesLimit=e}add(e,t,n,s){if(e>Ql||t>Ql)return;const o=this._length;this._startIndexes[o]=e,this._endIndexes[o]=t,this._nestingLevels[o]=s,this._types[o]=n,this._length++,s<30&&(this._nestingLevelCounts[s]=(this._nestingLevelCounts[s]||0)+1)}toIndentRanges(){var e;if(this._length<=this._foldingRangesLimit){const t=new Uint32Array(this._length),n=new Uint32Array(this._length);for(let s=0;s<this._length;s++)t[s]=this._startIndexes[s],n[s]=this._endIndexes[s];return new Ka(t,n,this._types)}else{(e=this._notifyTooManyRegions)===null||e===void 0||e.call(this,this._foldingRangesLimit);let t=0,n=this._nestingLevelCounts.length;for(let w=0;w<this._nestingLevelCounts.length;w++){const G=this._nestingLevelCounts[w];if(G){if(G+t>this._foldingRangesLimit){n=w;break}t+=G}}const s=new Uint32Array(this._foldingRangesLimit),o=new Uint32Array(this._foldingRangesLimit),g=[];for(let w=0,G=0;w<this._length;w++){const J=this._nestingLevels[w];(J<n||J===n&&t++<this._foldingRangesLimit)&&(s[G]=this._startIndexes[w],o[G]=this._endIndexes[w],g[G]=this._types[w],G++)}return new Ka(s,o,g)}}}function VC(p,e,t){const n=p.sort((w,G)=>{let J=w.start-G.start;return J===0&&(J=w.rank-G.rank),J}),s=new WC(e,t);let o;const g=[];for(const w of n)if(!o)o=w,s.add(w.start,w.end,w.kind&&w.kind.value,g.length);else if(w.start>o.start)if(w.end<=o.end)g.push(o),o=w,s.add(w.start,w.end,w.kind&&w.kind.value,g.length);else{if(w.start>o.end){do o=g.pop();while(o&&w.start>o.end);o&&g.push(o),o=w}s.add(w.start,w.end,w.kind&&w.kind.value,g.length)}return s.toIndentRanges()}var HC=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},nf=function(p,e){return function(t,n){e(t,n,p)}};const Ar=new ht.uy("foldingEnabled",!1);let Xu=class uv extends wt.JT{constructor(e,t,n,s,o,g){super(),this.contextKeyService=t,this.languageConfigurationService=n,this.languageFeaturesService=g,this._tooManyRegionsNotified=!1,this.localToDispose=this._register(new wt.SL),this.editor=e;const w=this.editor.getOptions();this._isEnabled=w.get(39),this._useFoldingProviders=w.get(40)!=="indentation",this._unfoldOnClickAfterEndOfLine=w.get(44),this._restoringViewState=!1,this._currentModelHasFoldedImports=!1,this._foldingImportsByDefault=w.get(42),this._maxFoldingRegions=w.get(43),this.updateDebounceInfo=o.for(g.foldingRangeProvider,"Folding",{min:200}),this.foldingModel=null,this.hiddenRangeModel=null,this.rangeProvider=null,this.foldingRegionPromise=null,this.foldingModelPromise=null,this.updateScheduler=null,this.cursorChangedScheduler=null,this.mouseDownInfo=null,this.foldingDecorationProvider=new xr(e),this.foldingDecorationProvider.showFoldingControls=w.get(101),this.foldingDecorationProvider.showFoldingHighlights=w.get(41),this.foldingEnabled=Ar.bindTo(this.contextKeyService),this.foldingEnabled.set(this._isEnabled),this._notifyTooManyRegions=G=>{this._tooManyRegionsNotified||(s.notify({severity:gc.Z.Warning,sticky:!0,message:_e.NC("maximum fold ranges",`The number of foldable regions is limited to a maximum of {0}. Increase configuration option ['Folding Maximum Regions'](command:workbench.action.openSettings?["editor.foldingMaximumRegions"]) to enable more.`,G)}),this._tooManyRegionsNotified=!0)},this._register(this.editor.onDidChangeModel(()=>this.onModelChanged())),this._register(this.editor.onDidChangeConfiguration(G=>{if(G.hasChanged(39)&&(this._isEnabled=this.editor.getOptions().get(39),this.foldingEnabled.set(this._isEnabled),this.onModelChanged()),G.hasChanged(43)&&(this._maxFoldingRegions=this.editor.getOptions().get(43),this._tooManyRegionsNotified=!1,this.onModelChanged()),G.hasChanged(101)||G.hasChanged(41)){const J=this.editor.getOptions();this.foldingDecorationProvider.showFoldingControls=J.get(101),this.foldingDecorationProvider.showFoldingHighlights=J.get(41),this.triggerFoldingModelChanged()}G.hasChanged(40)&&(this._useFoldingProviders=this.editor.getOptions().get(40)!=="indentation",this.onFoldingStrategyChanged()),G.hasChanged(44)&&(this._unfoldOnClickAfterEndOfLine=this.editor.getOptions().get(44)),G.hasChanged(42)&&(this._foldingImportsByDefault=this.editor.getOptions().get(42))})),this.onModelChanged()}static get(e){return e.getContribution(uv.ID)}saveViewState(){const e=this.editor.getModel();if(!e||!this._isEnabled||e.isTooLargeForTokenization())return{};if(this.foldingModel){const t=this.foldingModel.getMemento(),n=this.rangeProvider?this.rangeProvider.id:void 0;return{collapsedRegions:t,lineCount:e.getLineCount(),provider:n,foldedImports:this._currentModelHasFoldedImports}}}restoreViewState(e){const t=this.editor.getModel();if(!(!t||!this._isEnabled||t.isTooLargeForTokenization()||!this.hiddenRangeModel)&&!(!e||e.lineCount!==t.getLineCount())&&(this._currentModelHasFoldedImports=!!e.foldedImports,e.collapsedRegions&&e.collapsedRegions.length>0&&this.foldingModel)){this._restoringViewState=!0;try{this.foldingModel.applyMemento(e.collapsedRegions)}finally{this._restoringViewState=!1}}}onModelChanged(){this.localToDispose.clear();const e=this.editor.getModel();!this._isEnabled||!e||e.isTooLargeForTokenization()||(this._currentModelHasFoldedImports=!1,this.foldingModel=new bC(e,this.foldingDecorationProvider),this.localToDispose.add(this.foldingModel),this.hiddenRangeModel=new IC(this.foldingModel),this.localToDispose.add(this.hiddenRangeModel),this.localToDispose.add(this.hiddenRangeModel.onDidChange(t=>this.onHiddenRangesChanges(t))),this.updateScheduler=new kt.vp(this.updateDebounceInfo.get(e)),this.cursorChangedScheduler=new kt.pY(()=>this.revealCursor(),200),this.localToDispose.add(this.cursorChangedScheduler),this.localToDispose.add(this.languageFeaturesService.foldingRangeProvider.onDidChange(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelLanguageConfiguration(()=>this.onFoldingStrategyChanged())),this.localToDispose.add(this.editor.onDidChangeModelContent(t=>this.onDidChangeModelContent(t))),this.localToDispose.add(this.editor.onDidChangeCursorPosition(()=>this.onCursorPositionChanged())),this.localToDispose.add(this.editor.onMouseDown(t=>this.onEditorMouseDown(t))),this.localToDispose.add(this.editor.onMouseUp(t=>this.onEditorMouseUp(t))),this.localToDispose.add({dispose:()=>{this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.updateScheduler&&this.updateScheduler.cancel(),this.updateScheduler=null,this.foldingModel=null,this.foldingModelPromise=null,this.hiddenRangeModel=null,this.cursorChangedScheduler=null,this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null}}),this.triggerFoldingModelChanged())}onFoldingStrategyChanged(){this.rangeProvider&&this.rangeProvider.dispose(),this.rangeProvider=null,this.triggerFoldingModelChanged()}getRangeProvider(e){if(this.rangeProvider)return this.rangeProvider;if(this.rangeProvider=new MC(e,this.languageConfigurationService,this._maxFoldingRegions),this._useFoldingProviders&&this.foldingModel){const t=this.languageFeaturesService.foldingRangeProvider.ordered(this.foldingModel.textModel);t.length>0&&(this.rangeProvider=new FC(e,t,()=>this.triggerFoldingModelChanged(),this._maxFoldingRegions))}return this.rangeProvider}getFoldingModel(){return this.foldingModelPromise}onDidChangeModelContent(e){var t;(t=this.hiddenRangeModel)===null||t===void 0||t.notifyChangeModelContent(e),this.triggerFoldingModelChanged()}triggerFoldingModelChanged(){this.updateScheduler&&(this.foldingRegionPromise&&(this.foldingRegionPromise.cancel(),this.foldingRegionPromise=null),this.foldingModelPromise=this.updateScheduler.trigger(()=>{const e=this.foldingModel;if(!e)return null;const t=new _r.G(!0),n=this.getRangeProvider(e.textModel),s=this.foldingRegionPromise=(0,kt.PG)(o=>n.compute(o,this._notifyTooManyRegions));return s.then(o=>{if(o&&s===this.foldingRegionPromise){let g;if(this._foldingImportsByDefault&&!this._currentModelHasFoldedImports){const Q=o.setCollapsedAllOfType(un.AD.Imports.value,!0);Q&&(g=po.Z.capture(this.editor),this._currentModelHasFoldedImports=Q)}const w=this.editor.getSelections(),G=w?w.map(Q=>Q.startLineNumber):[];e.update(o,G),g==null||g.restore(this.editor);const J=this.updateDebounceInfo.update(e.textModel,t.elapsed());this.updateScheduler&&(this.updateScheduler.defaultDelay=J)}return e})}).then(void 0,e=>((0,Ei.dL)(e),null)))}onHiddenRangesChanges(e){if(this.hiddenRangeModel&&e.length&&!this._restoringViewState){const t=this.editor.getSelections();t&&this.hiddenRangeModel.adjustSelections(t)&&this.editor.setSelections(t)}this.editor.setHiddenAreas(e)}onCursorPositionChanged(){this.hiddenRangeModel&&this.hiddenRangeModel.hasRanges()&&this.cursorChangedScheduler.schedule()}revealCursor(){const e=this.getFoldingModel();!e||e.then(t=>{if(t){const n=this.editor.getSelections();if(n&&n.length>0){const s=[];for(const o of n){const g=o.selectionStartLineNumber;this.hiddenRangeModel&&this.hiddenRangeModel.isHidden(g)&&s.push(...t.getAllRegionsAtLine(g,w=>w.isCollapsed&&g>w.startLineNumber))}s.length&&(t.toggleCollapseState(s),this.reveal(n[0].getPosition()))}}}).then(void 0,Ei.dL)}onEditorMouseDown(e){if(this.mouseDownInfo=null,!this.hiddenRangeModel||!e.target||!e.target.range||!e.event.leftButton&&!e.event.middleButton)return;const t=e.target.range;let n=!1;switch(e.target.type){case 4:{const s=e.target.detail,o=e.target.element.offsetLeft;if(s.offsetX-o<5)return;n=!0;break}case 7:{if(this._unfoldOnClickAfterEndOfLine&&this.hiddenRangeModel.hasRanges()&&!e.target.detail.isAfterLines)break;return}case 6:{if(this.hiddenRangeModel.hasRanges()){const s=this.editor.getModel();if(s&&t.startColumn===s.getLineMaxColumn(t.startLineNumber))break}return}default:return}this.mouseDownInfo={lineNumber:t.startLineNumber,iconClicked:n}}onEditorMouseUp(e){const t=this.foldingModel;if(!t||!this.mouseDownInfo||!e.target)return;const n=this.mouseDownInfo.lineNumber,s=this.mouseDownInfo.iconClicked,o=e.target.range;if(!o||o.startLineNumber!==n)return;if(s){if(e.target.type!==4)return}else{const w=this.editor.getModel();if(!w||o.startColumn!==w.getLineMaxColumn(n))return}const g=t.getRegionAtLine(n);if(g&&g.startLineNumber===n){const w=g.isCollapsed;if(s||w){const G=e.event.altKey;let J=[];if(G){const Q=Ne=>!Ne.containedBy(g)&&!g.containedBy(Ne),ue=t.getRegionsInside(null,Q);for(const Ne of ue)Ne.isCollapsed&&J.push(Ne);J.length===0&&(J=ue)}else{const Q=e.event.middleButton||e.event.shiftKey;if(Q)for(const ue of t.getRegionsInside(g))ue.isCollapsed===w&&J.push(ue);(w||!Q||J.length===0)&&J.push(g)}t.toggleCollapseState(J),this.reveal({lineNumber:n,column:1})}}}reveal(e){this.editor.revealPositionInCenterIfOutsideViewport(e,0)}};Xu.ID="editor.contrib.folding",Xu=HC([nf(1,ht.i6),nf(2,Lo.c_),nf(3,et.lT),nf(4,Fo.A),nf(5,bi.p)],Xu);class $r extends je.R6{runEditorCommand(e,t,n){const s=e.get(Lo.c_),o=Xu.get(t);if(!o)return;const g=o.getFoldingModel();if(g)return this.reportTelemetry(e,t),g.then(w=>{if(w){this.invoke(o,w,t,n,s);const G=t.getSelection();G&&o.reveal(G.getStartPosition())}})}getSelectedLines(e){const t=e.getSelections();return t?t.map(n=>n.startLineNumber):[]}getLineNumbers(e,t){return e&&e.selectionLines?e.selectionLines.map(n=>n+1):this.getSelectedLines(t)}run(e,t){}}function l_(p){if(!Zi.o8(p)){if(!Zi.Kn(p))return!1;const e=p;if(!Zi.o8(e.levels)&&!Zi.hj(e.levels)||!Zi.o8(e.direction)&&!Zi.HD(e.direction)||!Zi.o8(e.selectionLines)&&(!Zi.kJ(e.selectionLines)||!e.selectionLines.every(Zi.hj)))return!1}return!0}class zC extends $r{constructor(){super({id:"editor.unfold",label:_e.NC("unfoldAction.label","Unfold"),alias:"Unfold",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3161,mac:{primary:2649},weight:100},description:{description:"Unfold the content in the editor",args:[{name:"Unfold editor argument",description:`Property-value pairs that can be passed through this argument:
						* 'levels': Number of levels to unfold. If not set, defaults to 1.
						* 'direction': If 'up', unfold given number of levels up otherwise unfolds down.
						* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the unfold action to. If not set, the active selection(s) will be used.
						`,constraint:l_,schema:{type:"object",properties:{levels:{type:"number",default:1},direction:{type:"string",enum:["up","down"],default:"down"},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,n,s){const o=s&&s.levels||1,g=this.getLineNumbers(s,n);s&&s.direction==="up"?s_(t,!1,o,g):Qu(t,!1,o,g)}}class UC extends $r{constructor(){super({id:"editor.unfoldRecursively",label:_e.NC("unFoldRecursivelyAction.label","Unfold Recursively"),alias:"Unfold Recursively",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2137),weight:100}})}invoke(e,t,n,s){Qu(t,!1,Number.MAX_VALUE,this.getSelectedLines(n))}}class jC extends $r{constructor(){super({id:"editor.fold",label:_e.NC("foldAction.label","Fold"),alias:"Fold",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3159,mac:{primary:2647},weight:100},description:{description:"Fold the content in the editor",args:[{name:"Fold editor argument",description:`Property-value pairs that can be passed through this argument:
							* 'levels': Number of levels to fold.
							* 'direction': If 'up', folds given number of levels up otherwise folds down.
							* 'selectionLines': Array of the start lines (0-based) of the editor selections to apply the fold action to. If not set, the active selection(s) will be used.
							If no levels or direction is set, folds the region at the locations or if already collapsed, the first uncollapsed parent instead.
						`,constraint:l_,schema:{type:"object",properties:{levels:{type:"number"},direction:{type:"string",enum:["up","down"]},selectionLines:{type:"array",items:{type:"number"}}}}}]}})}invoke(e,t,n,s){const o=this.getLineNumbers(s,n),g=s&&s.levels,w=s&&s.direction;typeof g!="number"&&typeof w!="string"?SC(t,!0,o):w==="up"?s_(t,!0,g||1,o):Qu(t,!0,g||1,o)}}class KC extends $r{constructor(){super({id:"editor.toggleFold",label:_e.NC("toggleFoldAction.label","Toggle Fold"),alias:"Toggle Fold",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2090),weight:100}})}invoke(e,t,n){const s=this.getSelectedLines(n);wC(t,1,s)}}class $C extends $r{constructor(){super({id:"editor.foldRecursively",label:_e.NC("foldRecursivelyAction.label","Fold Recursively"),alias:"Fold Recursively",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2135),weight:100}})}invoke(e,t,n){const s=this.getSelectedLines(n);Qu(t,!0,Number.MAX_VALUE,s)}}class GC extends $r{constructor(){super({id:"editor.foldAllBlockComments",label:_e.NC("foldAllBlockComments.label","Fold All Block Comments"),alias:"Fold All Block Comments",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2133),weight:100}})}invoke(e,t,n,s,o){if(t.regions.hasTypes())lp(t,un.AD.Comment.value,!0);else{const g=n.getModel();if(!g)return;const w=o.getLanguageConfiguration(g.getLanguageId()).comments;if(w&&w.blockCommentStartToken){const G=new RegExp("^\\s*"+(0,fi.ec)(w.blockCommentStartToken));ap(t,G,!0)}}}}class ZC extends $r{constructor(){super({id:"editor.foldAllMarkerRegions",label:_e.NC("foldAllMarkerRegions.label","Fold All Regions"),alias:"Fold All Regions",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2077),weight:100}})}invoke(e,t,n,s,o){if(t.regions.hasTypes())lp(t,un.AD.Region.value,!0);else{const g=n.getModel();if(!g)return;const w=o.getLanguageConfiguration(g.getLanguageId()).foldingRules;if(w&&w.markers&&w.markers.start){const G=new RegExp(w.markers.start);ap(t,G,!0)}}}}class YC extends $r{constructor(){super({id:"editor.unfoldAllMarkerRegions",label:_e.NC("unfoldAllMarkerRegions.label","Unfold All Regions"),alias:"Unfold All Regions",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2078),weight:100}})}invoke(e,t,n,s,o){if(t.regions.hasTypes())lp(t,un.AD.Region.value,!1);else{const g=n.getModel();if(!g)return;const w=o.getLanguageConfiguration(g.getLanguageId()).foldingRules;if(w&&w.markers&&w.markers.start){const G=new RegExp(w.markers.start);ap(t,G,!1)}}}}class QC extends $r{constructor(){super({id:"editor.foldAllExcept",label:_e.NC("foldAllExcept.label","Fold All Regions Except Selected"),alias:"Fold All Regions Except Selected",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2131),weight:100}})}invoke(e,t,n){const s=this.getSelectedLines(n);o_(t,!0,s)}}class XC extends $r{constructor(){super({id:"editor.unfoldAllExcept",label:_e.NC("unfoldAllExcept.label","Unfold All Regions Except Selected"),alias:"Unfold All Regions Except Selected",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2129),weight:100}})}invoke(e,t,n){const s=this.getSelectedLines(n);o_(t,!1,s)}}class JC extends $r{constructor(){super({id:"editor.foldAll",label:_e.NC("foldAllAction.label","Fold All"),alias:"Fold All",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2069),weight:100}})}invoke(e,t,n){Qu(t,!0)}}class qC extends $r{constructor(){super({id:"editor.unfoldAll",label:_e.NC("unfoldAllAction.label","Unfold All"),alias:"Unfold All",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2088),weight:100}})}invoke(e,t,n){Qu(t,!1)}}class iu extends $r{getFoldingLevel(){return parseInt(this.id.substr(iu.ID_PREFIX.length))}invoke(e,t,n){yC(t,this.getFoldingLevel(),!0,this.getSelectedLines(n))}}iu.ID_PREFIX="editor.foldLevel",iu.ID=p=>iu.ID_PREFIX+p;class eb extends $r{constructor(){super({id:"editor.gotoParentFold",label:_e.NC("gotoParentFold.label","Go to Parent Fold"),alias:"Go to Parent Fold",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,weight:100}})}invoke(e,t,n){const s=this.getSelectedLines(n);if(s.length>0){const o=LC(s[0],t);o!==null&&n.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class tb extends $r{constructor(){super({id:"editor.gotoPreviousFold",label:_e.NC("gotoPreviousFold.label","Go to Previous Folding Range"),alias:"Go to Previous Folding Range",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,weight:100}})}invoke(e,t,n){const s=this.getSelectedLines(n);if(s.length>0){const o=EC(s[0],t);o!==null&&n.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class nb extends $r{constructor(){super({id:"editor.gotoNextFold",label:_e.NC("gotoNextFold.label","Go to Next Folding Range"),alias:"Go to Next Folding Range",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,weight:100}})}invoke(e,t,n){const s=this.getSelectedLines(n);if(s.length>0){const o=DC(s[0],t);o!==null&&n.setSelection({startLineNumber:o,startColumn:1,endLineNumber:o,endColumn:1})}}}class ib extends $r{constructor(){super({id:"editor.createFoldingRangeFromSelection",label:_e.NC("createManualFoldRange.label","Create Manual Folding Range from Selection"),alias:"Create Folding Range from Selection",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2130),weight:100}})}invoke(e,t,n){var s;const o=[],g=n.getSelections();if(g){for(const w of g){let G=w.endLineNumber;w.endColumn===1&&--G,G>w.startLineNumber&&(o.push({startLineNumber:w.startLineNumber,endLineNumber:G,type:void 0,isCollapsed:!0,source:1}),n.setSelection({startLineNumber:w.startLineNumber,startColumn:1,endLineNumber:w.startLineNumber,endColumn:1}))}if(o.length>0){o.sort((G,J)=>G.startLineNumber-J.startLineNumber);const w=Ka.sanitizeAndMerge(t.regions,o,(s=n.getModel())===null||s===void 0?void 0:s.getLineCount());t.updatePost(Ka.fromFoldRanges(w))}}}}class sb extends $r{constructor(){super({id:"editor.removeManualFoldingRanges",label:_e.NC("removeManualFoldingRanges.label","Remove Manual Folding Ranges"),alias:"Remove Manual Folding Ranges",precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2132),weight:100}})}invoke(e,t,n){const s=n.getSelections();if(s){const o=[];for(const g of s){const{startLineNumber:w,endLineNumber:G}=g;o.push(G>=w?{startLineNumber:w,endLineNumber:G}:{endLineNumber:G,startLineNumber:w})}t.removeManualRanges(o),e.triggerFoldingModelChanged()}}}(0,je._K)(Xu.ID,Xu),(0,je.Qr)(zC),(0,je.Qr)(UC),(0,je.Qr)(jC),(0,je.Qr)($C),(0,je.Qr)(JC),(0,je.Qr)(qC),(0,je.Qr)(GC),(0,je.Qr)(ZC),(0,je.Qr)(YC),(0,je.Qr)(QC),(0,je.Qr)(XC),(0,je.Qr)(KC),(0,je.Qr)(eb),(0,je.Qr)(tb),(0,je.Qr)(nb),(0,je.Qr)(ib),(0,je.Qr)(sb);for(let p=1;p<=7;p++)(0,je.QG)(new iu({id:iu.ID(p),label:_e.NC("foldLevelAction.label","Fold Level {0}",p),alias:`Fold Level ${p}`,precondition:Ar,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2048|21+p),weight:100}}));const ob=(0,Ce.P6G)("editor.foldBackground",{light:(0,Ce.ZnX)(Ce.hEj,.3),dark:(0,Ce.ZnX)(Ce.hEj,.3),hcDark:null,hcLight:null},_e.NC("foldBackgroundBackground","Background color behind folded ranges. The color must not be opaque so as not to hide underlying decorations."),!0),rb=(0,Ce.P6G)("editorGutter.foldingControlForeground",{dark:Ce.XZx,light:Ce.XZx,hcDark:Ce.XZx,hcLight:Ce.XZx},_e.NC("editorGutter.foldingControlForeground","Color of the folding control in the editor gutter."));(0,dt.Ic)((p,e)=>{const t=p.getColor(ob);t&&e.addRule(`.monaco-editor .folded-background { background-color: ${t}; }`);const n=p.getColor(rb);n&&e.addRule(`
		.monaco-editor .cldr${dt.kS.asCSSSelector(tf)},
		.monaco-editor .cldr${dt.kS.asCSSSelector(Lg)},
		.monaco-editor .cldr${dt.kS.asCSSSelector(cp)},
		.monaco-editor .cldr${dt.kS.asCSSSelector(a_)} {
			color: ${n} !important;
		}
		`)});var sf=l(20896);class ab extends je.R6{constructor(){super({id:"editor.action.fontZoomIn",label:_e.NC("EditorFontZoomIn.label","Editor Font Zoom In"),alias:"Editor Font Zoom In",precondition:void 0})}run(e,t){sf.C.setZoomLevel(sf.C.getZoomLevel()+1)}}class lb extends je.R6{constructor(){super({id:"editor.action.fontZoomOut",label:_e.NC("EditorFontZoomOut.label","Editor Font Zoom Out"),alias:"Editor Font Zoom Out",precondition:void 0})}run(e,t){sf.C.setZoomLevel(sf.C.getZoomLevel()-1)}}class cb extends je.R6{constructor(){super({id:"editor.action.fontZoomReset",label:_e.NC("EditorFontZoomReset.label","Editor Font Zoom Reset"),alias:"Editor Font Zoom Reset",precondition:void 0})}run(e,t){sf.C.setZoomLevel(0)}}(0,je.Qr)(ab),(0,je.Qr)(lb),(0,je.Qr)(cb);var Ju=l(7278),of=l(87026),rf=l(1557),db=l(71477),c_=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Eg=function(p,e){return function(t,n){e(t,n,p)}},dp=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};let af=class{constructor(e,t,n){this._editor=e,this._languageFeaturesService=t,this._workerService=n,this._disposables=new wt.SL,this._sessionDisposables=new wt.SL,this._disposables.add(t.onTypeFormattingEditProvider.onDidChange(this._update,this)),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(s=>{s.hasChanged(51)&&this._update()}))}dispose(){this._disposables.dispose(),this._sessionDisposables.dispose()}_update(){if(this._sessionDisposables.clear(),!this._editor.getOption(51)||!this._editor.hasModel())return;const e=this._editor.getModel(),[t]=this._languageFeaturesService.onTypeFormattingEditProvider.ordered(e);if(!t||!t.autoFormatTriggerCharacters)return;const n=new Ju.q;for(const s of t.autoFormatTriggerCharacters)n.add(s.charCodeAt(0));this._sessionDisposables.add(this._editor.onDidType(s=>{const o=s.charCodeAt(s.length-1);n.has(o)&&this._trigger(String.fromCharCode(o))}))}_trigger(e){if(!this._editor.hasModel()||this._editor.getSelections().length>1||!this._editor.getSelection().isEmpty())return;const t=this._editor.getModel(),n=this._editor.getPosition(),s=new ri.A,o=this._editor.onDidChangeModelContent(g=>{if(g.isFlush){s.cancel(),o.dispose();return}for(let w=0,G=g.changes.length;w<G;w++)if(g.changes[w].range.endLineNumber<=n.lineNumber){s.cancel(),o.dispose();return}});(0,rf.Qs)(this._workerService,this._languageFeaturesService,t,n,e,t.getFormattingOptions(),s.token).then(g=>{s.token.isCancellationRequested||(0,$i.Of)(g)&&(db.V.execute(this._editor,g,!0),(0,rf.Zg)(g))}).finally(()=>{o.dispose()})}};af.ID="editor.contrib.autoFormat",af=c_([Eg(1,bi.p),Eg(2,of.p)],af);let lf=class{constructor(e,t,n){this.editor=e,this._languageFeaturesService=t,this._instantiationService=n,this._callOnDispose=new wt.SL,this._callOnModel=new wt.SL,this._callOnDispose.add(e.onDidChangeConfiguration(()=>this._update())),this._callOnDispose.add(e.onDidChangeModel(()=>this._update())),this._callOnDispose.add(e.onDidChangeModelLanguage(()=>this._update())),this._callOnDispose.add(t.documentRangeFormattingEditProvider.onDidChange(this._update,this))}dispose(){this._callOnDispose.dispose(),this._callOnModel.dispose()}_update(){this._callOnModel.clear(),this.editor.getOption(50)&&(!this.editor.hasModel()||!this._languageFeaturesService.documentRangeFormattingEditProvider.has(this.editor.getModel())||this._callOnModel.add(this.editor.onDidPaste(({range:e})=>this._trigger(e))))}_trigger(e){!this.editor.hasModel()||this.editor.getSelections().length>1||this._instantiationService.invokeFunction(rf.x$,this.editor,e,2,bs.Ex.None,ri.T.None).catch(Ei.dL)}};lf.ID="editor.contrib.formatOnPaste",lf=c_([Eg(1,bi.p),Eg(2,ki.TG)],lf);class ub extends je.R6{constructor(){super({id:"editor.action.formatDocument",label:_e.NC("formatDocument.label","Format Document"),alias:"Format Document",precondition:ht.Ao.and(vt.u.notInCompositeEditor,vt.u.writable,vt.u.hasDocumentFormattingProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1572,linux:{primary:3111},weight:100},contextMenuOpts:{group:"1_modification",order:1.3}})}run(e,t){return dp(this,void 0,void 0,function*(){if(t.hasModel()){const n=e.get(ki.TG);yield e.get(bs.ek).showWhile(n.invokeFunction(rf.Qq,t,1,bs.Ex.None,ri.T.None),250)}})}}class hb extends je.R6{constructor(){super({id:"editor.action.formatSelection",label:_e.NC("formatSelection.label","Format Selection"),alias:"Format Selection",precondition:ht.Ao.and(vt.u.writable,vt.u.hasDocumentSelectionFormattingProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2084),weight:100},contextMenuOpts:{when:vt.u.hasNonEmptySelection,group:"1_modification",order:1.31}})}run(e,t){return dp(this,void 0,void 0,function*(){if(!t.hasModel())return;const n=e.get(ki.TG),s=t.getModel(),o=t.getSelections().map(w=>w.isEmpty()?new _t.e(w.startLineNumber,1,w.startLineNumber,s.getLineMaxColumn(w.startLineNumber)):w);yield e.get(bs.ek).showWhile(n.invokeFunction(rf.x$,t,o,1,bs.Ex.None,ri.T.None),250)})}}(0,je._K)(af.ID,af),(0,je._K)(lf.ID,lf),(0,je.Qr)(ub),(0,je.Qr)(hb),gi.P0.registerCommand("editor.action.format",p=>dp(void 0,void 0,void 0,function*(){const e=p.get(wi.$).getFocusedCodeEditor();if(!e||!e.hasModel())return;const t=p.get(gi.Hy);e.getSelection().isEmpty()?yield t.executeCommand("editor.action.formatDocument"):yield t.executeCommand("editor.action.formatSelection")}));var cf=l(37371),fb=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},up=function(p,e){return function(t,n){e(t,n,p)}},gb=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};class qu{remove(){var e;(e=this.parent)===null||e===void 0||e.children.delete(this.id)}static findId(e,t){let n;typeof e=="string"?n=`${t.id}/${e}`:(n=`${t.id}/${e.name}`,t.children.get(n)!==void 0&&(n=`${t.id}/${e.name}_${e.range.startLineNumber}_${e.range.startColumn}`));let s=n;for(let o=0;t.children.get(s)!==void 0;o++)s=`${n}_${o}`;return s}static empty(e){return e.children.size===0}}class Dg extends qu{constructor(e,t,n){super(),this.id=e,this.parent=t,this.symbol=n,this.children=new Map}}class mb extends qu{constructor(e,t,n,s){super(),this.id=e,this.parent=t,this.label=n,this.order=s,this.children=new Map}}class Qc extends qu{constructor(e){super(),this.uri=e,this.id="root",this.parent=void 0,this._groups=new Map,this.children=new Map,this.id="root",this.parent=void 0}static create(e,t,n){const s=new ri.A(n),o=new Qc(t.uri),g=e.ordered(t),w=g.map((J,Q)=>{var ue;const Ne=qu.findId(`provider_${Q}`,o),st=new mb(Ne,o,(ue=J.displayName)!==null&&ue!==void 0?ue:"Unknown Outline Provider",Q);return Promise.resolve(J.provideDocumentSymbols(t,s.token)).then(mt=>{for(const bt of mt||[])Qc._makeOutlineElement(bt,st);return st},mt=>((0,Ei.Cp)(mt),st)).then(mt=>{qu.empty(mt)?mt.remove():o._groups.set(Ne,mt)})}),G=e.onDidChange(()=>{const J=e.ordered(t);(0,$i.fS)(J,g)||s.cancel()});return Promise.all(w).then(()=>s.token.isCancellationRequested&&!n.isCancellationRequested?Qc.create(e,t,n):o._compact()).finally(()=>{G.dispose()})}static _makeOutlineElement(e,t){const n=qu.findId(e,t),s=new Dg(n,t,e);if(e.children)for(const o of e.children)Qc._makeOutlineElement(o,s);t.children.set(s.id,s)}_compact(){let e=0;for(const[t,n]of this._groups)n.children.size===0?this._groups.delete(t):e+=1;if(e!==1)this.children=this._groups;else{const t=cf.$.first(this._groups.values());for(const[,n]of t.children)n.parent=this,this.children.set(n.id,n)}return this}getTopLevelSymbols(){const e=[];for(const t of this.children.values())t instanceof Dg?e.push(t.symbol):e.push(...cf.$.map(t.children.values(),n=>n.symbol));return e.sort((t,n)=>_t.e.compareRangesUsingStarts(t.range,n.range))}asListOfDocumentSymbols(){const e=this.getTopLevelSymbols(),t=[];return Qc._flattenDocumentSymbols(t,e,""),t.sort((n,s)=>ln.L.compare(_t.e.getStartPosition(n.range),_t.e.getStartPosition(s.range))||ln.L.compare(_t.e.getEndPosition(s.range),_t.e.getEndPosition(n.range)))}static _flattenDocumentSymbols(e,t,n){for(const s of t)e.push({kind:s.kind,tags:s.tags,name:s.name,detail:s.detail,containerName:s.containerName||n,range:s.range,selectionRange:s.selectionRange,children:void 0}),s.children&&Qc._flattenDocumentSymbols(e,s.children,s.name)}}const xg=(0,ki.yh)("IOutlineModelService");let hp=class{constructor(e,t,n){this._languageFeaturesService=e,this._disposables=new wt.SL,this._cache=new Mi.z6(10,.7),this._debounceInformation=t.for(e.documentSymbolProvider,"DocumentSymbols",{min:350}),this._disposables.add(n.onModelRemoved(s=>{this._cache.delete(s.id)}))}dispose(){this._disposables.dispose()}getOrCreate(e,t){return gb(this,void 0,void 0,function*(){const n=this._languageFeaturesService.documentSymbolProvider,s=n.ordered(e);let o=this._cache.get(e.id);if(!o||o.versionId!==e.getVersionId()||!(0,$i.fS)(o.provider,s)){const w=new ri.A;o={versionId:e.getVersionId(),provider:s,promiseCnt:0,source:w,promise:Qc.create(n,e,w.token),model:void 0},this._cache.set(e.id,o);const G=Date.now();o.promise.then(J=>{o.model=J,this._debounceInformation.update(e,Date.now()-G)}).catch(J=>{this._cache.delete(e.id)})}if(o.model)return o.model;o.promiseCnt+=1;const g=t.onCancellationRequested(()=>{--o.promiseCnt===0&&(o.source.cancel(),this._cache.delete(e.id))});try{return yield o.promise}finally{g.dispose()}})}};hp=fb([up(0,bi.p),up(1,Fo.A),up(2,Ks.q)],hp),(0,Yr.z)(xg,hp,!0);var pb=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};gi.P0.registerCommand("_executeDocumentSymbolProvider",function(p,...e){return pb(this,void 0,void 0,function*(){const[t]=e;(0,Zi.p_)(Xi.o.isUri(t));const n=p.get(xg),o=yield p.get(Cr.S).createModelReference(t);try{return(yield n.getOrCreate(o.object.textEditorModel,ri.T.None)).getTopLevelSymbols()}finally{o.dispose()}})});const Ig="editor.action.inlineSuggest.commit";var _b=l(72289);function vb(p,e){return{object:p,dispose:()=>e==null?void 0:e.dispose()}}function Cb(p,e){const t=new bb(p),n=e.map(s=>{const o=_t.e.lift(s.range);return{startOffset:t.getOffset(o.getStartPosition()),endOffset:t.getOffset(o.getEndPosition()),text:s.text}});n.sort((s,o)=>o.startOffset-s.startOffset);for(const s of n)p=p.substring(0,s.startOffset)+s.text+p.substring(s.endOffset);return p}class bb{constructor(e){this.lineStartOffsetByLineIdx=[],this.lineStartOffsetByLineIdx.push(0);for(let t=0;t<e.length;t++)e.charAt(t)===`
`&&this.lineStartOffsetByLineIdx.push(t+1)}getOffset(e){return this.lineStartOffsetByLineIdx[e.lineNumber-1]+e.column-1}}const wb=[];function Sb(){return wb}class d_{constructor(e,t,n=0){this.lineNumber=e,this.parts=t,this.additionalReservedLineCount=n}renderForScreenReader(e){if(this.parts.length===0)return"";const t=this.parts[this.parts.length-1],n=e.substr(0,t.column-1);return Cb(n,this.parts.map(o=>({range:{startLineNumber:1,endLineNumber:1,startColumn:o.column,endColumn:o.column},text:o.lines.join(`
`)}))).substring(this.parts[0].column-1)}isEmpty(){return this.parts.every(e=>e.lines.length===0)}}class fp{constructor(e,t,n){this.column=e,this.lines=t,this.preview=n}}class u_{constructor(e,t,n,s,o=0){this.lineNumber=e,this.columnStart=t,this.length=n,this.newLines=s,this.additionalReservedLineCount=o,this.parts=[new fp(this.columnStart+this.length,this.newLines,!1)]}renderForScreenReader(e){return this.newLines.join(`
`)}}class h_ extends wt.JT{constructor(e){super(),this.editor=e,this._expanded=void 0,this.onDidChangeEmitter=new ni.Q5,this.onDidChange=this.onDidChangeEmitter.event,this._register(e.onDidChangeConfiguration(t=>{t.hasChanged(108)&&this._expanded===void 0&&this.onDidChangeEmitter.fire()}))}setExpanded(e){this._expanded=!0,this.onDidChangeEmitter.fire()}}var yb=l(32853);function Ng(p,e){if(!e)return e;const t=p.getValueInRange(e.range),n=fi.Mh(t,e.insertText),s=p.getOffsetAt(e.range.getStartPosition())+n,o=p.getPositionAt(s),g=t.substr(n),w=fi.P1(g,e.insertText),G=p.getPositionAt(Math.max(s,p.getOffsetAt(e.range.getEndPosition())-w));return{range:_t.e.fromPositions(o,G),insertText:e.insertText.substr(n,e.insertText.length-n-w),snippetInfo:e.snippetInfo,filterText:e.filterText,additionalTextEdits:e.additionalTextEdits}}function Lb(p,e){return p===e?!0:!p||!e?!1:p.range.equalsRange(e.range)&&p.insertText===e.insertText&&p.command===e.command}function f_(p,e,t,n,s=0){if(p.range.startLineNumber!==p.range.endLineNumber)return;const o=e.getLineContent(p.range.startLineNumber),g=fi.V8(o).length;if(p.range.startColumn-1<=g){const st=fi.V8(p.insertText).length,mt=o.substring(p.range.startColumn-1,g),bt=_t.e.fromPositions(p.range.getStartPosition().delta(0,mt.length),p.range.getEndPosition()),$t=p.insertText.startsWith(mt)?p.insertText.substring(mt.length):p.insertText.substring(st);p={range:bt,insertText:$t,command:p.command,snippetInfo:void 0,filterText:p.filterText,additionalTextEdits:p.additionalTextEdits}}const G=e.getValueInRange(p.range),J=Eb(G,p.insertText);if(!J)return;const Q=p.range.startLineNumber,ue=new Array;if(t==="prefix"){const st=J.filter(mt=>mt.originalLength===0);if(st.length>1||st.length===1&&st[0].originalStart!==G.length)return}const Ne=p.insertText.length-s;for(const st of J){const mt=p.range.startColumn+st.originalStart+st.originalLength;if(t==="subwordSmart"&&n&&n.lineNumber===p.range.startLineNumber&&mt<n.column||st.originalLength>0)return;if(st.modifiedLength===0)continue;const bt=st.modifiedStart+st.modifiedLength,$t=Math.max(st.modifiedStart,Math.min(bt,Ne)),Cn=p.insertText.substring(st.modifiedStart,$t),Yn=p.insertText.substring($t,Math.max(st.modifiedStart,bt));if(Cn.length>0){const ei=fi.uq(Cn);ue.push(new fp(mt,ei,!1))}if(Yn.length>0){const ei=fi.uq(Yn);ue.push(new fp(mt,ei,!0))}}return new d_(Q,ue,0)}let wc;function Eb(p,e){if((wc==null?void 0:wc.originalValue)===p&&(wc==null?void 0:wc.newValue)===e)return wc==null?void 0:wc.changes;{let t=m_(p,e,!0);if(t){const n=g_(t);if(n>0){const s=m_(p,e,!1);s&&g_(s)<n&&(t=s)}}return wc={originalValue:p,newValue:e,changes:t},t}}function g_(p){let e=0;for(const t of p)e+=Math.max(t.originalLength-t.modifiedLength,0);return e}function m_(p,e,t){if(p.length>5e3||e.length>5e3)return;function n(J){let Q=0;for(let ue=0,Ne=J.length;ue<Ne;ue++){const st=J.charCodeAt(ue);st>Q&&(Q=st)}return Q}const s=Math.max(n(p),n(e));function o(J){if(J<0)throw new Error("unexpected");return s+J+1}function g(J){let Q=0,ue=0;const Ne=new Int32Array(J.length);for(let st=0,mt=J.length;st<mt;st++)if(t&&J[st]==="("){const bt=ue*100+Q;Ne[st]=o(2*bt),Q++}else if(t&&J[st]===")"){Q=Math.max(Q-1,0);const bt=ue*100+Q;Ne[st]=o(2*bt+1),Q===0&&ue++}else Ne[st]=J.charCodeAt(st);return Ne}const w=g(p),G=g(e);return new yb.Hs({getElements:()=>w},{getElements:()=>G}).ComputeDiff(!1).changes}var Db=l(11313),Ed=l(49935),xb=l(70143),Ib=l(70252),Nb=l(408);function Tb(p,e){const t=new Ib.FE,n=new Db.Z(t,J=>e.getLanguageConfiguration(J)),s=new Nb.xH(new kb([p]),n),o=(0,xb.w)(s,[],void 0,!0);let g="";const w=p.getLineContent();function G(J,Q){if(J.kind===2)if(G(J.openingBracket,Q),Q=(0,Ed.Ii)(Q,J.openingBracket.length),J.child&&(G(J.child,Q),Q=(0,Ed.Ii)(Q,J.child.length)),J.closingBracket)G(J.closingBracket,Q),Q=(0,Ed.Ii)(Q,J.closingBracket.length);else{const Ne=n.getSingleLanguageBracketTokens(J.openingBracket.languageId).findClosingTokenText(J.openingBracket.bracketIds);g+=Ne}else if(J.kind!==3){if(J.kind===0||J.kind===1)g+=w.substring((0,Ed.F_)(Q),(0,Ed.F_)((0,Ed.Ii)(Q,J.length)));else if(J.kind===4)for(const ue of J.children)G(ue,Q),Q=(0,Ed.Ii)(Q,ue.length)}}return G(o,Ed.xl),g}class kb{constructor(e){this.lines=e,this.tokenization={getLineTokens:t=>this.lines[t-1]}}getLineCount(){return this.lines.length}getLineLength(e){return this.lines[e-1].getLineContent().length}}var Mb=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},df=function(p,e){return function(t,n){e(t,n,p)}},Xc=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};let gp=class extends wt.JT{constructor(e,t,n,s,o,g,w){super(),this.editor=e,this.cache=t,this.commandService=n,this.languageConfigurationService=s,this.languageFeaturesService=o,this.debounceService=g,this.onDidChangeEmitter=new ni.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.completionSession=this._register(new wt.XK),this.active=!1,this.disposed=!1,this.debounceValue=this.debounceService.for(this.languageFeaturesService.inlineCompletionsProvider,"InlineCompletionsDebounce",{min:50,max:50}),this._register(n.onDidExecuteCommand(G=>{new Set([at.wk.Tab.id,at.wk.DeleteLeft.id,at.wk.DeleteRight.id,Ig,"acceptSelectedSuggestion"]).has(G.commandId)&&e.hasTextFocus()&&this.handleUserInput()})),this._register(this.editor.onDidType(G=>{this.handleUserInput()})),this._register(this.editor.onDidChangeCursorPosition(G=>{(G.reason===3||this.session&&!this.session.isValid)&&this.hide()})),this._register((0,wt.OF)(()=>{this.disposed=!0})),this._register(this.editor.onDidBlurEditorWidget(()=>{w.getValue("editor.inlineSuggest.hideOnBlur")||this.hide()}))}handleUserInput(){this.session&&!this.session.isValid&&this.hide(),setTimeout(()=>{this.disposed||this.startSessionIfTriggered()},0)}get session(){return this.completionSession.value}get ghostText(){var e;return(e=this.session)===null||e===void 0?void 0:e.ghostText}get minReservedLineCount(){return this.session?this.session.minReservedLineCount:0}setExpanded(e){var t;(t=this.session)===null||t===void 0||t.setExpanded(e)}setActive(e){var t;this.active=e,e&&((t=this.session)===null||t===void 0||t.scheduleAutomaticUpdate())}startSessionIfTriggered(){!this.editor.getOption(57).enabled||this.session&&this.session.isValid||this.trigger(un.bw.Automatic)}trigger(e){if(this.completionSession.value){e===un.bw.Explicit&&this.completionSession.value.ensureUpdateWithExplicitContext();return}this.completionSession.value=new Rb(this.editor,this.editor.getPosition(),()=>this.active,this.commandService,this.cache,e,this.languageConfigurationService,this.languageFeaturesService.inlineCompletionsProvider,this.debounceValue),this.completionSession.value.takeOwnership(this.completionSession.value.onDidChange(()=>{this.onDidChangeEmitter.fire()}))}hide(){this.completionSession.clear(),this.onDidChangeEmitter.fire()}commitCurrentSuggestion(){var e;(e=this.session)===null||e===void 0||e.commitCurrentCompletion()}showNext(){var e;(e=this.session)===null||e===void 0||e.showNextInlineCompletion()}showPrevious(){var e;(e=this.session)===null||e===void 0||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return Xc(this,void 0,void 0,function*(){const t=yield(e=this.session)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};gp=Mb([df(2,gi.Hy),df(3,Lo.c_),df(4,bi.p),df(5,Fo.A),df(6,m.Ui)],gp);class Rb extends h_{constructor(e,t,n,s,o,g,w,G,J){super(e),this.triggerPosition=t,this.shouldUpdate=n,this.commandService=s,this.cache=o,this.initialTriggerKind=g,this.languageConfigurationService=w,this.registry=G,this.debounce=J,this.minReservedLineCount=0,this.updateOperation=this._register(new wt.XK),this.updateSoon=this._register(new kt.pY(()=>{const ue=this.initialTriggerKind;return this.initialTriggerKind=un.bw.Automatic,this.update(ue)},50)),this.filteredCompletions=[],this.currentlySelectedCompletionId=void 0;let Q;this._register(this.onDidChange(()=>{var ue;const Ne=this.currentCompletion;if(Ne&&Ne.sourceInlineCompletion!==Q){Q=Ne.sourceInlineCompletion;const st=Ne.sourceProvider;(ue=st.handleItemDidShow)===null||ue===void 0||ue.call(st,Ne.sourceInlineCompletions,Q)}})),this._register((0,wt.OF)(()=>{this.cache.clear()})),this._register(this.editor.onDidChangeCursorPosition(ue=>{var Ne;ue.reason!==3&&((Ne=this.cache.value)===null||Ne===void 0||Ne.updateRanges(),this.cache.value&&(this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire()))})),this._register(this.editor.onDidChangeModelContent(ue=>{var Ne;(Ne=this.cache.value)===null||Ne===void 0||Ne.updateRanges(),this.updateFilteredInlineCompletions(),this.scheduleAutomaticUpdate()})),this._register(this.registry.onDidChange(()=>{this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))})),this.scheduleAutomaticUpdate()}updateFilteredInlineCompletions(){if(!this.cache.value){this.filteredCompletions=[];return}const e=this.editor.getModel(),t=e.validatePosition(this.editor.getPosition());this.filteredCompletions=this.cache.value.completions.filter(n=>{const s=e.getValueInRange(n.synchronizedRange).toLowerCase(),o=n.inlineCompletion.filterText.toLowerCase(),g=e.getLineIndentColumn(n.synchronizedRange.startLineNumber),w=Math.max(0,t.column-n.synchronizedRange.startColumn);let G=o.substring(0,w),J=o.substring(w),Q=s.substring(0,w),ue=s.substring(w);return n.synchronizedRange.startColumn<=g&&(Q=Q.trimStart(),Q.length===0&&(ue=ue.trimStart()),G=G.trimStart(),G.length===0&&(J=J.trimStart())),G.startsWith(Q)&&(0,Pi.Sy)(ue,J)})}fixAndGetIndexOfCurrentSelection(){if(!this.currentlySelectedCompletionId||!this.cache.value||this.cache.value.completions.length===0)return 0;const e=this.filteredCompletions.findIndex(t=>t.semanticId===this.currentlySelectedCompletionId);return e===-1?(this.currentlySelectedCompletionId=void 0,0):e}get currentCachedCompletion(){if(!!this.cache.value)return this.filteredCompletions[this.fixAndGetIndexOfCurrentSelection()]}showNextInlineCompletion(){return Xc(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const e=this.filteredCompletions||[];if(e.length>0){const t=(this.fixAndGetIndexOfCurrentSelection()+1)%e.length;this.currentlySelectedCompletionId=e[t].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}showPreviousInlineCompletion(){return Xc(this,void 0,void 0,function*(){yield this.ensureUpdateWithExplicitContext();const e=this.filteredCompletions||[];if(e.length>0){const t=(this.fixAndGetIndexOfCurrentSelection()+e.length-1)%e.length;this.currentlySelectedCompletionId=e[t].semanticId}else this.currentlySelectedCompletionId=void 0;this.onDidChangeEmitter.fire()})}ensureUpdateWithExplicitContext(){var e;return Xc(this,void 0,void 0,function*(){this.updateOperation.value?this.updateOperation.value.triggerKind===un.bw.Explicit?yield this.updateOperation.value.promise:yield this.update(un.bw.Explicit):((e=this.cache.value)===null||e===void 0?void 0:e.triggerKind)!==un.bw.Explicit&&(yield this.update(un.bw.Explicit))})}hasMultipleInlineCompletions(){var e;return Xc(this,void 0,void 0,function*(){return yield this.ensureUpdateWithExplicitContext(),(((e=this.cache.value)===null||e===void 0?void 0:e.completions.length)||0)>1})}get ghostText(){const e=this.currentCompletion;if(!e)return;const t=this.editor.getPosition();if(e.range.getEndPosition().isBefore(t))return;const n=this.editor.getOptions().get(57).mode,s=f_(e,this.editor.getModel(),n,t);return s?s.isEmpty()?void 0:s:new u_(e.range.startLineNumber,e.range.startColumn,e.range.endColumn-e.range.startColumn,e.insertText.split(`
`),0)}get currentCompletion(){const e=this.currentCachedCompletion;if(!!e)return e.toLiveInlineCompletion()}get isValid(){return this.editor.getPosition().lineNumber===this.triggerPosition.lineNumber}scheduleAutomaticUpdate(){this.updateOperation.clear(),this.updateSoon.schedule(this.debounce.get(this.editor.getModel()))}update(e){return Xc(this,void 0,void 0,function*(){if(!this.shouldUpdate())return;const t=this.editor.getPosition(),n=new Date,s=(0,kt.PG)(g=>Xc(this,void 0,void 0,function*(){let w;try{w=yield __(this.registry,t,this.editor.getModel(),{triggerKind:e,selectedSuggestionInfo:void 0},g,this.languageConfigurationService);const G=new Date;this.debounce.update(this.editor.getModel(),G.getTime()-n.getTime())}catch(G){(0,Ei.dL)(G);return}g.isCancellationRequested||(this.cache.setValue(this.editor,w,e),this.updateFilteredInlineCompletions(),this.onDidChangeEmitter.fire())})),o=new p_(s,e);this.updateOperation.value=o,yield s,this.updateOperation.value===o&&this.updateOperation.clear()})}takeOwnership(e){this._register(e)}commitCurrentCompletion(){if(!this.ghostText)return;const t=this.currentCompletion;t&&this.commit(t)}commit(e){var t;const n=this.cache.clearAndLeak();e.snippetInfo?(this.editor.executeEdits("inlineSuggestion.accept",[xn.h.replaceMove(e.range,""),...e.additionalTextEdits]),this.editor.setPosition(e.snippetInfo.range.getStartPosition()),(t=or.get(this.editor))===null||t===void 0||t.insert(e.snippetInfo.snippet)):this.editor.executeEdits("inlineSuggestion.accept",[xn.h.replaceMove(e.range,e.insertText),...e.additionalTextEdits]),e.command?this.commandService.executeCommand(e.command.id,...e.command.arguments||[]).finally(()=>{n==null||n.dispose()}).then(void 0,Ei.Cp):n==null||n.dispose(),this.onDidChangeEmitter.fire()}get commands(){var e;return[...new Set(((e=this.cache.value)===null||e===void 0?void 0:e.completions.map(n=>n.inlineCompletion.sourceInlineCompletions))||[])].flatMap(n=>n.commands||[])}}class p_{constructor(e,t){this.promise=e,this.triggerKind=t}dispose(){this.promise.cancel()}}class Ab extends wt.JT{constructor(e,t,n,s){super(),this.editor=t,this.onChange=n,this.triggerKind=s,this.isDisposing=!1;const o=t.changeDecorations(g=>g.deltaDecorations([],e.items.map(w=>({range:w.range,options:{description:"inline-completion-tracking-range"}}))));this._register((0,wt.OF)(()=>{this.isDisposing=!0,t.removeDecorations(o)})),this.completions=e.items.map((g,w)=>new Pb(g,o[w])),this._register(t.onDidChangeModelContent(()=>{this.updateRanges()})),this._register(e)}updateRanges(){if(this.isDisposing)return;let e=!1;const t=this.editor.getModel();for(const n of this.completions){const s=t.getDecorationRange(n.decorationId);if(!s){(0,Ei.dL)(new Error("Decoration has no range"));continue}n.synchronizedRange.equalsRange(s)||(e=!0,n.synchronizedRange=s)}e&&this.onChange()}}class Pb{constructor(e,t){this.inlineCompletion=e,this.decorationId=t,this.semanticId=JSON.stringify({text:this.inlineCompletion.insertText,abbreviation:this.inlineCompletion.filterText,startLine:this.inlineCompletion.range.startLineNumber,startColumn:this.inlineCompletion.range.startColumn,command:this.inlineCompletion.command}),this.synchronizedRange=e.range}toLiveInlineCompletion(){return{insertText:this.inlineCompletion.insertText,range:this.synchronizedRange,command:this.inlineCompletion.command,sourceProvider:this.inlineCompletion.sourceProvider,sourceInlineCompletions:this.inlineCompletion.sourceInlineCompletions,sourceInlineCompletion:this.inlineCompletion.sourceInlineCompletion,snippetInfo:this.inlineCompletion.snippetInfo,filterText:this.inlineCompletion.filterText,additionalTextEdits:this.inlineCompletion.additionalTextEdits}}}function __(p,e,t,n,s=ri.T.None,o){return Xc(this,void 0,void 0,function*(){const g=Ob(e,t),w=p.all(t),G=yield Promise.all(w.map(Q=>Xc(this,void 0,void 0,function*(){const ue=yield Promise.resolve(Q.provideInlineCompletions(t,e,n,s)).catch(Ei.Cp);return{completions:ue,provider:Q,dispose:()=>{ue&&Q.freeInlineCompletions(ue)}}}))),J=new Map;for(const Q of G){const ue=Q.completions;if(!!ue)for(const Ne of ue.items){let st=Ne.range?_t.e.lift(Ne.range):g;if(st.startLineNumber!==st.endLineNumber)continue;let mt,bt;if(typeof Ne.insertText=="string"){if(mt=Ne.insertText,o&&Ne.completeBracketPairs){mt=Fb(mt,st.getStartPosition(),t,o);const Cn=mt.length-Ne.insertText.length;Cn!==0&&(st=new _t.e(st.startLineNumber,st.startColumn,st.endLineNumber,st.endColumn+Cn))}bt=void 0}else"snippet"in Ne.insertText?(mt=new Wo().parse(Ne.insertText.snippet).toString(),bt={snippet:Ne.insertText.snippet,range:st}):(0,Zi.vE)(Ne.insertText);const $t={insertText:mt,snippetInfo:bt,range:st,command:Ne.command,sourceProvider:Q.provider,sourceInlineCompletions:ue,sourceInlineCompletion:Ne,filterText:Ne.filterText||mt,additionalTextEdits:Ne.additionalTextEdits||Sb()};J.set(JSON.stringify({insertText:mt,range:Ne.range}),$t)}}return{items:[...J.values()],dispose:()=>{for(const Q of G)Q.dispose()}}})}function Ob(p,e){const t=e.getWordAtPosition(p),n=e.getLineMaxColumn(p.lineNumber);return t?new _t.e(p.lineNumber,t.startColumn,p.lineNumber,n):_t.e.fromPositions(p,p.with(void 0,n))}function Fb(p,e,t,n){const o=t.getLineContent(e.lineNumber).substring(0,e.column-1)+p,g=t.tokenization.tokenizeLineWithEdit(e,o.length-(e.column-1),p),w=g==null?void 0:g.sliceAndInflate(e.column-1,o.length,0);return w?Tb(w,n):p}var v_=l(44174),Bb=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},C_=function(p,e){return function(t,n){e(t,n,p)}};class mp{constructor(e){this.name=e}select(e,t,n){if(n.length===0)return 0;const s=n[0].score[0];for(let o=0;o<n.length;o++){const{score:g,completion:w}=n[o];if(g[0]!==s)break;if(w.preselect)return o}return 0}}class b_ extends mp{constructor(){super("first")}memorize(e,t,n){}toJSON(){}fromJSON(){}}class Wb extends mp{constructor(){super("recentlyUsed"),this._cache=new Mi.z6(300,.66),this._seq=0}memorize(e,t,n){const s=`${e.getLanguageId()}/${n.textLabel}`;this._cache.set(s,{touch:this._seq++,type:n.completion.kind,insertText:n.completion.insertText})}select(e,t,n){if(n.length===0)return 0;const s=e.getLineContent(t.lineNumber).substr(t.column-10,t.column-1);if(/\s$/.test(s))return super.select(e,t,n);const o=n[0].score[0];let g=-1,w=-1,G=-1;for(let J=0;J<n.length&&n[J].score[0]===o;J++){const Q=`${e.getLanguageId()}/${n[J].textLabel}`,ue=this._cache.peek(Q);if(ue&&ue.touch>G&&ue.type===n[J].completion.kind&&ue.insertText===n[J].completion.insertText&&(G=ue.touch,w=J),n[J].completion.preselect&&g===-1)return g=J}return w!==-1?w:g!==-1?g:0}toJSON(){return this._cache.toJSON()}fromJSON(e){this._cache.clear();const t=0;for(const[n,s]of e)s.touch=t,s.type=typeof s.type=="number"?s.type:un.gX.fromString(s.type),this._cache.set(n,s);this._seq=this._cache.size}}class Vb extends mp{constructor(){super("recentlyUsedByPrefix"),this._trie=Mi.Id.forStrings(),this._seq=0}memorize(e,t,n){const{word:s}=e.getWordUntilPosition(t),o=`${e.getLanguageId()}/${s}`;this._trie.set(o,{type:n.completion.kind,insertText:n.completion.insertText,touch:this._seq++})}select(e,t,n){const{word:s}=e.getWordUntilPosition(t);if(!s)return super.select(e,t,n);const o=`${e.getLanguageId()}/${s}`;let g=this._trie.get(o);if(g||(g=this._trie.findSubstr(o)),g)for(let w=0;w<n.length;w++){const{kind:G,insertText:J}=n[w].completion;if(G===g.type&&J===g.insertText)return w}return super.select(e,t,n)}toJSON(){const e=[];return this._trie.forEach((t,n)=>e.push([n,t])),e.sort((t,n)=>-(t[1].touch-n[1].touch)).forEach((t,n)=>t[1].touch=n),e.slice(0,200)}fromJSON(e){if(this._trie.clear(),e.length>0){this._seq=e[0][1].touch+1;for(const[t,n]of e)n.type=typeof n.type=="number"?n.type:un.gX.fromString(n.type),this._trie.set(t,n)}}}let uf=class Lm{constructor(e,t){this._storageService=e,this._configService=t,this._disposables=new wt.SL,this._persistSoon=new kt.pY(()=>this._saveState(),500),this._disposables.add(e.onWillSaveState(n=>{n.reason===Oo.fk.SHUTDOWN&&this._saveState()}))}dispose(){this._disposables.dispose(),this._persistSoon.dispose()}memorize(e,t,n){this._withStrategy(e,t).memorize(e,t,n),this._persistSoon.schedule()}select(e,t,n){return this._withStrategy(e,t).select(e,t,n)}_withStrategy(e,t){var n;const s=this._configService.getValue("editor.suggestSelection",{overrideIdentifier:e.getLanguageIdAtPosition(t.lineNumber,t.column),resource:e.uri});if(((n=this._strategy)===null||n===void 0?void 0:n.name)!==s){this._saveState();const o=Lm._strategyCtors.get(s)||b_;this._strategy=new o;try{const w=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,G=this._storageService.get(`${Lm._storagePrefix}/${s}`,w);G&&this._strategy.fromJSON(JSON.parse(G))}catch(g){}}return this._strategy}_saveState(){if(this._strategy){const t=this._configService.getValue("editor.suggest.shareSuggestSelections")?0:1,n=JSON.stringify(this._strategy);this._storageService.store(`${Lm._storagePrefix}/${this._strategy.name}`,n,t,1)}}};uf._strategyCtors=new Map([["recentlyUsedByPrefix",Vb],["recentlyUsed",Wb],["first",b_]]),uf._storagePrefix="suggest/memories",uf=Bb([C_(0,Oo.Uy),C_(1,m.Ui)],uf);const Tg=(0,ki.yh)("ISuggestMemories");(0,Yr.z)(Tg,uf,!0);var Hb=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},zb=function(p,e){return function(t,n){e(t,n,p)}};let hf=class hv{constructor(e,t){this._editor=e,this._enabled=!1,this._ckAtEnd=hv.AtEnd.bindTo(t),this._configListener=this._editor.onDidChangeConfiguration(n=>n.hasChanged(113)&&this._update()),this._update()}dispose(){var e;this._configListener.dispose(),(e=this._selectionListener)===null||e===void 0||e.dispose(),this._ckAtEnd.reset()}_update(){const e=this._editor.getOption(113)==="on";if(this._enabled!==e)if(this._enabled=e,this._enabled){const t=()=>{if(!this._editor.hasModel()){this._ckAtEnd.set(!1);return}const n=this._editor.getModel(),s=this._editor.getSelection(),o=n.getWordAtPosition(s.getStartPosition());if(!o){this._ckAtEnd.set(!1);return}this._ckAtEnd.set(o.endColumn===s.getStartPosition().column)};this._selectionListener=this._editor.onDidChangeCursorSelection(t),t()}else this._selectionListener&&(this._ckAtEnd.reset(),this._selectionListener.dispose(),this._selectionListener=void 0)}};hf.AtEnd=new ht.uy("atEndOfWord",!1),hf=Hb([zb(1,ht.i6)],hf);var Ub=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},jb=function(p,e){return function(t,n){e(t,n,p)}};let su=class Em{constructor(e,t){this._editor=e,this._index=0,this._ckOtherSuggestions=Em.OtherSuggestions.bindTo(t)}dispose(){this.reset()}reset(){var e;this._ckOtherSuggestions.reset(),(e=this._listener)===null||e===void 0||e.dispose(),this._model=void 0,this._acceptNext=void 0,this._ignore=!1}set({model:e,index:t},n){if(e.items.length===0){this.reset();return}if(Em._moveIndex(!0,e,t)===t){this.reset();return}this._acceptNext=n,this._model=e,this._index=t,this._listener=this._editor.onDidChangeCursorPosition(()=>{this._ignore||this.reset()}),this._ckOtherSuggestions.set(!0)}static _moveIndex(e,t,n){let s=n;for(;s=(s+t.items.length+(e?1:-1))%t.items.length,!(s===n||!t.items[s].completion.additionalTextEdits););return s}next(){this._move(!0)}prev(){this._move(!1)}_move(e){if(!!this._model)try{this._ignore=!0,this._index=Em._moveIndex(e,this._model,this._index),this._acceptNext({index:this._index,item:this._model.items[this._index],model:this._model})}finally{this._ignore=!1}}};su.OtherSuggestions=new ht.uy("hasOtherSuggestions",!1),su=Ub([jb(1,ht.i6)],su);class Kb{constructor(e,t,n){this._disposables=new wt.SL,this._disposables.add(t.onDidShow(()=>this._onItem(t.getFocusedItem()))),this._disposables.add(t.onDidFocus(this._onItem,this)),this._disposables.add(t.onDidHide(this.reset,this)),this._disposables.add(e.onWillType(s=>{if(this._active&&!t.isFrozen()){const o=s.charCodeAt(s.length-1);this._active.acceptCharacters.has(o)&&e.getOption(0)&&n(this._active.item)}}))}_onItem(e){if(!e||!(0,$i.Of)(e.item.completion.commitCharacters)){this.reset();return}if(this._active&&this._active.item.item===e.item)return;const t=new Ju.q;for(const n of e.item.completion.commitCharacters)n.length>0&&t.add(n.charCodeAt(0));this._active={acceptCharacters:t,item:e}}reset(){this._active=void 0}dispose(){this._disposables.dispose()}}var $b=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};class $a{provideSelectionRanges(e,t){return $b(this,void 0,void 0,function*(){const n=[];for(const s of t){const o=[];n.push(o);const g=new Map;yield new Promise(w=>$a._bracketsRightYield(w,0,e,s,g)),yield new Promise(w=>$a._bracketsLeftYield(w,0,e,s,g,o))}return n})}static _bracketsRightYield(e,t,n,s,o){const g=new Map,w=Date.now();for(;;){if(t>=$a._maxRounds){e();break}if(!s){e();break}const G=n.bracketPairs.findNextBracket(s);if(!G){e();break}if(Date.now()-w>$a._maxDuration){setTimeout(()=>$a._bracketsRightYield(e,t+1,n,s,o));break}if(G.bracketInfo.isOpeningBracket){const Q=G.bracketInfo.bracketText,ue=g.has(Q)?g.get(Q):0;g.set(Q,ue+1)}else{const Q=G.bracketInfo.getClosedBrackets()[0].bracketText;let ue=g.has(Q)?g.get(Q):0;if(ue-=1,g.set(Q,Math.max(0,ue)),ue<0){let Ne=o.get(Q);Ne||(Ne=new Jf.S,o.set(Q,Ne)),Ne.push(G.range)}}s=G.range.getEndPosition()}}static _bracketsLeftYield(e,t,n,s,o,g){const w=new Map,G=Date.now();for(;;){if(t>=$a._maxRounds&&o.size===0){e();break}if(!s){e();break}const J=n.bracketPairs.findPrevBracket(s);if(!J){e();break}if(Date.now()-G>$a._maxDuration){setTimeout(()=>$a._bracketsLeftYield(e,t+1,n,s,o,g));break}if(J.bracketInfo.isOpeningBracket){const ue=J.bracketInfo.bracketText;let Ne=w.has(ue)?w.get(ue):0;if(Ne-=1,w.set(ue,Math.max(0,Ne)),Ne<0){const st=o.get(ue);if(st){const mt=st.shift();st.size===0&&o.delete(ue);const bt=_t.e.fromPositions(J.range.getEndPosition(),mt.getStartPosition()),$t=_t.e.fromPositions(J.range.getStartPosition(),mt.getEndPosition());g.push({range:bt}),g.push({range:$t}),$a._addBracketLeading(n,$t,g)}}}else{const ue=J.bracketInfo.getClosedBrackets()[0].bracketText,Ne=w.has(ue)?w.get(ue):0;w.set(ue,Ne+1)}s=J.range.getStartPosition()}}static _addBracketLeading(e,t,n){if(t.startLineNumber===t.endLineNumber)return;const s=t.startLineNumber,o=e.getLineFirstNonWhitespaceColumn(s);o!==0&&o!==t.startColumn&&(n.push({range:_t.e.fromPositions(new ln.L(s,o),t.getEndPosition())}),n.push({range:_t.e.fromPositions(new ln.L(s,1),t.getEndPosition())}));const g=s-1;if(g>0){const w=e.getLineFirstNonWhitespaceColumn(g);w===t.startColumn&&w!==e.getLineLastNonWhitespaceColumn(g)&&(n.push({range:_t.e.fromPositions(new ln.L(g,w),t.getEndPosition())}),n.push({range:_t.e.fromPositions(new ln.L(g,1),t.getEndPosition())}))}}}$a._maxDuration=30,$a._maxRounds=2;var Gb=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};class Xl{static create(e,t){return Gb(this,void 0,void 0,function*(){if(!t.getOption(108).localityBonus||!t.hasModel())return Xl.None;const n=t.getModel(),s=t.getPosition();if(!e.canComputeWordRanges(n.uri))return Xl.None;const[o]=yield new $a().provideSelectionRanges(n,[s]);if(o.length===0)return Xl.None;const g=yield e.computeWordRanges(n.uri,o[0].range);if(!g)return Xl.None;const w=n.getWordUntilPosition(s);return delete g[w.word],new class extends Xl{distance(G,J){if(!s.equals(t.getPosition()))return 0;if(J.kind===17)return 2<<20;const Q=typeof J.label=="string"?J.label:J.label.label,ue=g[Q];if((0,$i.XY)(ue))return 2<<20;const Ne=(0,$i.ry)(ue,_t.e.fromPositions(G),_t.e.compareRangesUsingStarts),st=Ne>=0?ue[Ne]:ue[Math.max(0,~Ne-1)];let mt=o.length;for(const bt of o){if(!_t.e.containsRange(bt.range,st))break;mt-=1}return mt}}})}}Xl.None=new class extends Xl{distance(){return 0}};class w_{constructor(e,t){this.leadingLineContent=e,this.characterCountDelta=t}}class Dd{constructor(e,t,n,s,o,g,w=Pi.mX.default,G=void 0){this.clipboardText=G,this._snippetCompareFn=Dd._compareCompletionItems,this._items=e,this._column=t,this._wordDistance=s,this._options=o,this._refilterKind=1,this._lineContext=n,this._fuzzyScoreOptions=w,g==="top"?this._snippetCompareFn=Dd._compareCompletionItemsSnippetsUp:g==="bottom"&&(this._snippetCompareFn=Dd._compareCompletionItemsSnippetsDown)}get lineContext(){return this._lineContext}set lineContext(e){(this._lineContext.leadingLineContent!==e.leadingLineContent||this._lineContext.characterCountDelta!==e.characterCountDelta)&&(this._refilterKind=this._lineContext.characterCountDelta<e.characterCountDelta&&this._filteredItems?2:1,this._lineContext=e)}get items(){return this._ensureCachedState(),this._filteredItems}get allProvider(){return this._ensureCachedState(),this._providerInfo.keys()}get incomplete(){this._ensureCachedState();const e=new Set;for(const[t,n]of this._providerInfo)n&&e.add(t);return e}adopt(e){const t=[];for(let n=0;n<this._items.length;)e.has(this._items[n].provider)?n++:(t.push(this._items[n]),this._items[n]=this._items[this._items.length-1],this._items.pop());return this._refilterKind=1,t}get stats(){return this._ensureCachedState(),this._stats}_ensureCachedState(){this._refilterKind!==0&&this._createCachedState()}_createCachedState(){this._providerInfo=new Map;const e=[],{leadingLineContent:t,characterCountDelta:n}=this._lineContext;let s="",o="";const g=this._refilterKind===1?this._items:this._filteredItems,w=[],G=!this._options.filterGraceful||g.length>2e3?Pi.EW:Pi.l7;for(let J=0;J<g.length;J++){const Q=g[J];if(Q.isInvalid)continue;this._providerInfo.set(Q.provider,Boolean(Q.container.incomplete));const ue=Q.position.column-Q.editStart.column,Ne=ue+n-(Q.position.column-this._column);if(s.length!==Ne&&(s=Ne===0?"":t.slice(-Ne),o=s.toLowerCase()),Q.word=s,Ne===0)Q.score=Pi.CL.Default;else{let st=0;for(;st<ue;){const mt=s.charCodeAt(st);if(mt===32||mt===9)st+=1;else break}if(st>=Ne)Q.score=Pi.CL.Default;else if(typeof Q.completion.filterText=="string"){const mt=G(s,o,st,Q.completion.filterText,Q.filterTextLow,0,this._fuzzyScoreOptions);if(!mt)continue;(0,fi.zY)(Q.completion.filterText,Q.textLabel)===0?Q.score=mt:(Q.score=(0,Pi.jB)(s,o,st,Q.textLabel,Q.labelLow,0),Q.score[0]=mt[0])}else{const mt=G(s,o,st,Q.textLabel,Q.labelLow,0,this._fuzzyScoreOptions);if(!mt)continue;Q.score=mt}}Q.idx=J,Q.distance=this._wordDistance.distance(Q.position,Q.completion),w.push(Q),e.push(Q.textLabel.length)}this._filteredItems=w.sort(this._snippetCompareFn),this._refilterKind=0,this._stats={pLabelLen:e.length?(0,$i.HW)(e.length-.85,e,(J,Q)=>J-Q):0}}static _compareCompletionItems(e,t){return e.score[0]>t.score[0]?-1:e.score[0]<t.score[0]?1:e.distance<t.distance?-1:e.distance>t.distance?1:e.idx<t.idx?-1:e.idx>t.idx?1:0}static _compareCompletionItemsSnippetsDown(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return 1;if(t.completion.kind===27)return-1}return Dd._compareCompletionItems(e,t)}static _compareCompletionItemsSnippetsUp(e,t){if(e.completion.kind!==t.completion.kind){if(e.completion.kind===27)return-1;if(t.completion.kind===27)return 1}return Dd._compareCompletionItems(e,t)}}var Zb=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},ou=function(p,e){return function(t,n){e(t,n,p)}},Yb=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};class eh{constructor(e,t,n,s,o){this.leadingLineContent=e.getLineContent(t.lineNumber).substr(0,t.column-1),this.leadingWord=e.getWordUntilPosition(t),this.lineNumber=t.lineNumber,this.column=t.column,this.auto=n,this.shy=s,this.noSelect=o}static shouldAutoTrigger(e){if(!e.hasModel())return!1;const t=e.getModel(),n=e.getPosition();t.tokenization.tokenizeIfCheap(n.lineNumber);const s=t.getWordAtPosition(n);return!(!s||s.endColumn!==n.column||!isNaN(Number(s.word)))}}function tE(p){return p.getOption(108).preview}function Qb(p,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=t.getValue("editor.inlineSuggest.allowQuickSuggestions");return n!==void 0?Boolean(n):!1}function Xb(p,e,t){if(!Boolean(e.getContextKeyValue("inlineSuggestionVisible")))return!0;const n=t.getValue("editor.inlineSuggest.allowSuggestOnTriggerCharacters");return n!==void 0?Boolean(n):!1}let pp=class fv{constructor(e,t,n,s,o,g,w,G){this._editor=e,this._editorWorkerService=t,this._clipboardService=n,this._telemetryService=s,this._logService=o,this._contextKeyService=g,this._configurationService=w,this._languageFeaturesService=G,this._toDispose=new wt.SL,this._triggerCharacterListener=new wt.SL,this._triggerQuickSuggest=new kt._F,this._state=0,this._completionDisposables=new wt.SL,this._onDidCancel=new ni.Q5,this._onDidTrigger=new ni.Q5,this._onDidSuggest=new ni.Q5,this.onDidCancel=this._onDidCancel.event,this.onDidTrigger=this._onDidTrigger.event,this.onDidSuggest=this._onDidSuggest.event,this._telemetryGate=0,this._currentSelection=this._editor.getSelection()||new qn.Y(1,1,1,1),this._toDispose.add(this._editor.onDidChangeModel(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeModelLanguage(()=>{this._updateTriggerCharacters(),this.cancel()})),this._toDispose.add(this._editor.onDidChangeConfiguration(()=>{this._updateTriggerCharacters()})),this._toDispose.add(this._languageFeaturesService.completionProvider.onDidChange(()=>{this._updateTriggerCharacters(),this._updateActiveSuggestSession()}));let J=!1;this._toDispose.add(this._editor.onDidCompositionStart(()=>{J=!0})),this._toDispose.add(this._editor.onDidCompositionEnd(()=>{J=!1,this._onCompositionEnd()})),this._toDispose.add(this._editor.onDidChangeCursorSelection(Q=>{J||this._onCursorChange(Q)})),this._toDispose.add(this._editor.onDidChangeModelContent(()=>{J||this._refilterCompletionItems()})),this._updateTriggerCharacters()}dispose(){(0,wt.B9)(this._triggerCharacterListener),(0,wt.B9)([this._onDidCancel,this._onDidSuggest,this._onDidTrigger,this._triggerQuickSuggest]),this._toDispose.dispose(),this._completionDisposables.dispose(),this.cancel()}_updateTriggerCharacters(){if(this._triggerCharacterListener.clear(),this._editor.getOption(83)||!this._editor.hasModel()||!this._editor.getOption(111))return;const e=new Map;for(const n of this._languageFeaturesService.completionProvider.all(this._editor.getModel()))for(const s of n.triggerCharacters||[]){let o=e.get(s);o||(o=new Set,o.add(Il()),e.set(s,o)),o.add(n)}const t=n=>{if(!Xb(this._editor,this._contextKeyService,this._configurationService)||eh.shouldAutoTrigger(this._editor))return;if(!n){const g=this._editor.getPosition();n=this._editor.getModel().getLineContent(g.lineNumber).substr(0,g.column-1)}let s="";(0,fi.YK)(n.charCodeAt(n.length-1))?(0,fi.ZG)(n.charCodeAt(n.length-2))&&(s=n.substr(n.length-2)):s=n.charAt(n.length-1);const o=e.get(s);if(o){const g=this._completionModel?{items:this._completionModel.adopt(o),clipboardText:this._completionModel.clipboardText}:void 0;this.trigger({auto:!0,shy:!1,noSelect:!1,triggerCharacter:s},Boolean(this._completionModel),o,g)}};this._triggerCharacterListener.add(this._editor.onDidType(t)),this._triggerCharacterListener.add(this._editor.onDidCompositionEnd(()=>t()))}get state(){return this._state}cancel(e=!1){var t;this._state!==0&&(this._triggerQuickSuggest.cancel(),(t=this._requestToken)===null||t===void 0||t.cancel(),this._requestToken=void 0,this._state=0,this._completionModel=void 0,this._context=void 0,this._onDidCancel.fire({retrigger:e}))}clear(){this._completionDisposables.clear()}_updateActiveSuggestSession(){this._state!==0&&(!this._editor.hasModel()||!this._languageFeaturesService.completionProvider.has(this._editor.getModel())?this.cancel():this.trigger({auto:this._state===2,shy:!1,noSelect:!1},!0))}_onCursorChange(e){if(!this._editor.hasModel())return;const t=this._currentSelection;if(this._currentSelection=this._editor.getSelection(),!e.selection.isEmpty()||e.reason!==0&&e.reason!==3||e.source!=="keyboard"&&e.source!=="deleteLeft"){this.cancel();return}this._state===0&&e.reason===0?(t.containsRange(this._currentSelection)||t.getEndPosition().isBeforeOrEqual(this._currentSelection.getPosition()))&&this._doTriggerQuickSuggest():this._state!==0&&e.reason===3&&this._refilterCompletionItems()}_onCompositionEnd(){this._state===0?this._doTriggerQuickSuggest():this._refilterCompletionItems()}_doTriggerQuickSuggest(){var e;$l.isAllOff(this._editor.getOption(81))||this._editor.getOption(108).snippetsPreventQuickSuggestions&&((e=or.get(this._editor))===null||e===void 0?void 0:e.isInSnippet())||(this.cancel(),this._triggerQuickSuggest.cancelAndSet(()=>{if(this._state!==0||!eh.shouldAutoTrigger(this._editor)||!this._editor.hasModel()||!this._editor.hasWidgetFocus())return;const t=this._editor.getModel(),n=this._editor.getPosition(),s=this._editor.getOption(81);if(!$l.isAllOff(s)){if(!$l.isAllOn(s)){t.tokenization.tokenizeIfCheap(n.lineNumber);const o=t.tokenization.getLineTokens(n.lineNumber),g=o.getStandardTokenType(o.findTokenIndexAtOffset(Math.max(n.column-1-1,0)));if($l.valueFor(s,g)!=="on")return}!Qb(this._editor,this._contextKeyService,this._configurationService)||!this._languageFeaturesService.completionProvider.has(t)||this.trigger({auto:!0,shy:!1,noSelect:!1})}},this._editor.getOption(82)))}_refilterCompletionItems(){Promise.resolve().then(()=>{if(this._state===0||!this._editor.hasModel())return;const e=this._editor.getModel(),t=this._editor.getPosition(),n=new eh(e,t,this._state===2,!1,!1);this._onNewContext(n)})}trigger(e,t=!1,n,s,o){var g;if(!this._editor.hasModel())return;const w=this._editor.getModel(),G=e.auto,J=new eh(w,this._editor.getPosition(),G,e.shy,e.noSelect);this.cancel(t),this._state=G?2:1,this._onDidTrigger.fire({auto:G,shy:e.shy,position:this._editor.getPosition()}),this._context=J;let Q={triggerKind:(g=e.triggerKind)!==null&&g!==void 0?g:0};e.triggerCharacter&&(Q={triggerKind:1,triggerCharacter:e.triggerCharacter}),this._requestToken=new ri.A;const ue=this._editor.getOption(103);let Ne=1;switch(ue){case"top":Ne=0;break;case"bottom":Ne=2;break}const{itemKind:st,showDeprecated:mt}=fv._createSuggestFilter(this._editor),bt=new Rr(Ne,o?new Set:st,n,mt),$t=Xl.create(this._editorWorkerService,this._editor),Cn=Er(this._languageFeaturesService.completionProvider,w,this._editor.getPosition(),bt,Q,this._requestToken.token);Promise.all([Cn,$t]).then(([Yn,ei])=>Yb(this,void 0,void 0,function*(){var Ti;if((Ti=this._requestToken)===null||Ti===void 0||Ti.dispose(),!this._editor.hasModel())return;let Ji=s==null?void 0:s.clipboardText;if(!Ji&&Yn.needsClipboard&&(Ji=yield this._clipboardService.readText()),this._state===0)return;const to=this._editor.getModel();let Ls=Yn.items;if(s){const Gr=$d(Ne);Ls=Ls.concat(s.items).sort(Gr)}const Ir=new eh(to,this._editor.getPosition(),G,e.shy,e.noSelect);this._completionModel=new Dd(Ls,this._context.column,{leadingLineContent:Ir.leadingLineContent,characterCountDelta:Ir.column-this._context.column},ei,this._editor.getOption(108),this._editor.getOption(103),void 0,Ji),this._completionDisposables.add(Yn.disposable),this._onNewContext(Ir),this._reportDurationsTelemetry(Yn.durations)})).catch(Ei.dL)}_reportDurationsTelemetry(e){this._telemetryGate++%230===0&&setTimeout(()=>{this._telemetryService.publicLog2("suggest.durations.json",{data:JSON.stringify(e)}),this._logService.debug("suggest.durations.json",e)})}static _createSuggestFilter(e){const t=new Set;e.getOption(103)==="none"&&t.add(27);const s=e.getOption(108);return s.showMethods||t.add(0),s.showFunctions||t.add(1),s.showConstructors||t.add(2),s.showFields||t.add(3),s.showVariables||t.add(4),s.showClasses||t.add(5),s.showStructs||t.add(6),s.showInterfaces||t.add(7),s.showModules||t.add(8),s.showProperties||t.add(9),s.showEvents||t.add(10),s.showOperators||t.add(11),s.showUnits||t.add(12),s.showValues||t.add(13),s.showConstants||t.add(14),s.showEnums||t.add(15),s.showEnumMembers||t.add(16),s.showKeywords||t.add(17),s.showWords||t.add(18),s.showColors||t.add(19),s.showFiles||t.add(20),s.showReferences||t.add(21),s.showColors||t.add(22),s.showFolders||t.add(23),s.showTypeParameters||t.add(24),s.showSnippets||t.add(27),s.showUsers||t.add(25),s.showIssues||t.add(26),{itemKind:t,showDeprecated:s.showDeprecated}}_onNewContext(e){if(!!this._context){if(e.lineNumber!==this._context.lineNumber){this.cancel();return}if((0,fi.V8)(e.leadingLineContent)!==(0,fi.V8)(this._context.leadingLineContent)){this.cancel();return}if(e.column<this._context.column){e.leadingWord.word?this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0):this.cancel();return}if(!!this._completionModel){if(e.leadingWord.word.length!==0&&e.leadingWord.startColumn>this._context.leadingWord.startColumn){const t=new Set(this._languageFeaturesService.completionProvider.all(this._editor.getModel()));for(const s of this._completionModel.allProvider)t.delete(s);const n=this._completionModel.adopt(new Set);this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0,t,{items:n,clipboardText:this._completionModel.clipboardText});return}if(e.column>this._context.column&&this._completionModel.incomplete.size>0&&e.leadingWord.word.length!==0){const{incomplete:t}=this._completionModel,n=this._completionModel.adopt(t);this.trigger({auto:this._state===2,shy:!1,noSelect:!1,triggerKind:2},!0,t,{items:n,clipboardText:this._completionModel.clipboardText})}else{const t=this._completionModel.lineContext;let n=!1;if(this._completionModel.lineContext={leadingLineContent:e.leadingLineContent,characterCountDelta:e.column-this._context.column},this._completionModel.items.length===0){if(eh.shouldAutoTrigger(this._editor)&&this._context.leadingWord.endColumn<e.leadingWord.startColumn){this.trigger({auto:this._context.auto,shy:!1,noSelect:!1},!0);return}if(this._context.auto){this.cancel();return}else if(this._completionModel.lineContext=t,n=this._completionModel.items.length>0,n&&e.leadingWord.word.length===0){this.cancel();return}}this._onDidSuggest.fire({completionModel:this._completionModel,auto:this._context.auto,shy:this._context.shy,noSelect:this._context.noSelect,isFrozen:n})}}}}};pp=Zb([ou(1,of.p),ou(2,Li.p),ou(3,fe.b),ou(4,Ht.VZ),ou(5,ht.i6),ou(6,m.Ui),ou(7,bi.p)],pp);class kg{constructor(e,t){this._disposables=new wt.SL,this._lastOvertyped=[],this._empty=!0,this._disposables.add(e.onWillType(()=>{if(!this._empty||!e.hasModel())return;const n=e.getSelections(),s=n.length;let o=!1;for(let w=0;w<s;w++)if(!n[w].isEmpty()){o=!0;break}if(!o)return;this._lastOvertyped=[];const g=e.getModel();for(let w=0;w<s;w++){const G=n[w];if(g.getValueLengthInRange(G)>kg._maxSelectionLength)return;this._lastOvertyped[w]={value:g.getValueInRange(G),multiline:G.startLineNumber!==G.endLineNumber}}this._empty=!1})),this._disposables.add(t.onDidCancel(n=>{!this._empty&&!n.retrigger&&(this._empty=!0)}))}getLastOvertypedInfo(e){if(!this._empty&&e>=0&&e<this._lastOvertyped.length)return this._lastOvertyped[e]}dispose(){this._disposables.dispose()}}kg._maxSelectionLength=51200;var nE=l(91816),Jb=l(91959),qb=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},_p=function(p,e){return function(t,n){e(t,n,p)}};class vp extends za{updateLabel(){const e=this._keybindingService.lookupKeybinding(this._action.id,this._contextKeyService);if(!e)return super.updateLabel();this.label&&(this.label.textContent=(0,_e.NC)("ddd","{0} ({1})",this._action.label,vp.symbolPrintEnter(e)))}static symbolPrintEnter(e){var t;return(t=e.getLabel())===null||t===void 0?void 0:t.replace(/\benter\b/gi,"\u23CE")}}let Cp=class{constructor(e,t,n,s){this._menuService=n,this._contextKeyService=s,this._menuDisposables=new wt.SL,this.element=we.R3(e,we.$(".suggest-status-bar"));const o=g=>g instanceof Ve.U8?t.createInstance(vp,g,void 0):void 0;this._leftActions=new Hr.o(this.element,{actionViewItemProvider:o}),this._rightActions=new Hr.o(this.element,{actionViewItemProvider:o}),this._leftActions.domNode.classList.add("left"),this._rightActions.domNode.classList.add("right")}dispose(){this._menuDisposables.dispose(),this.element.remove()}show(){const e=this._menuService.createMenu(Cs,this._contextKeyService),t=()=>{const n=[],s=[];for(const[o,g]of e.getActions())o==="left"?n.push(...g):s.push(...g);this._leftActions.clear(),this._leftActions.push(n),this._rightActions.clear(),this._rightActions.push(s)};this._menuDisposables.add(e.onDidChange(()=>t())),this._menuDisposables.add(e)}hide(){this._menuDisposables.clear()}};Cp=qb([_p(1,ki.TG),_p(2,Ve.co),_p(3,ht.i6)],Cp);const ew=(0,Ce.P6G)("symbolIcon.arrayForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.arrayForeground","The foreground color for array symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),tw=(0,Ce.P6G)("symbolIcon.booleanForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.booleanForeground","The foreground color for boolean symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),nw=(0,Ce.P6G)("symbolIcon.classForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,_e.NC)("symbolIcon.classForeground","The foreground color for class symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),iw=(0,Ce.P6G)("symbolIcon.colorForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.colorForeground","The foreground color for color symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),sw=(0,Ce.P6G)("symbolIcon.constantForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.constantForeground","The foreground color for constant symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ow=(0,Ce.P6G)("symbolIcon.constructorForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,_e.NC)("symbolIcon.constructorForeground","The foreground color for constructor symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),rw=(0,Ce.P6G)("symbolIcon.enumeratorForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,_e.NC)("symbolIcon.enumeratorForeground","The foreground color for enumerator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),aw=(0,Ce.P6G)("symbolIcon.enumeratorMemberForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,_e.NC)("symbolIcon.enumeratorMemberForeground","The foreground color for enumerator member symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),lw=(0,Ce.P6G)("symbolIcon.eventForeground",{dark:"#EE9D28",light:"#D67E00",hcDark:"#EE9D28",hcLight:"#D67E00"},(0,_e.NC)("symbolIcon.eventForeground","The foreground color for event symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),cw=(0,Ce.P6G)("symbolIcon.fieldForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,_e.NC)("symbolIcon.fieldForeground","The foreground color for field symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),dw=(0,Ce.P6G)("symbolIcon.fileForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.fileForeground","The foreground color for file symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),uw=(0,Ce.P6G)("symbolIcon.folderForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.folderForeground","The foreground color for folder symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),hw=(0,Ce.P6G)("symbolIcon.functionForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,_e.NC)("symbolIcon.functionForeground","The foreground color for function symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),fw=(0,Ce.P6G)("symbolIcon.interfaceForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,_e.NC)("symbolIcon.interfaceForeground","The foreground color for interface symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),gw=(0,Ce.P6G)("symbolIcon.keyForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.keyForeground","The foreground color for key symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),mw=(0,Ce.P6G)("symbolIcon.keywordForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.keywordForeground","The foreground color for keyword symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),pw=(0,Ce.P6G)("symbolIcon.methodForeground",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},(0,_e.NC)("symbolIcon.methodForeground","The foreground color for method symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),_w=(0,Ce.P6G)("symbolIcon.moduleForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.moduleForeground","The foreground color for module symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),vw=(0,Ce.P6G)("symbolIcon.namespaceForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.namespaceForeground","The foreground color for namespace symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Cw=(0,Ce.P6G)("symbolIcon.nullForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.nullForeground","The foreground color for null symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),bw=(0,Ce.P6G)("symbolIcon.numberForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.numberForeground","The foreground color for number symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),ww=(0,Ce.P6G)("symbolIcon.objectForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.objectForeground","The foreground color for object symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Sw=(0,Ce.P6G)("symbolIcon.operatorForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.operatorForeground","The foreground color for operator symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),yw=(0,Ce.P6G)("symbolIcon.packageForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.packageForeground","The foreground color for package symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Lw=(0,Ce.P6G)("symbolIcon.propertyForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.propertyForeground","The foreground color for property symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Ew=(0,Ce.P6G)("symbolIcon.referenceForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.referenceForeground","The foreground color for reference symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Dw=(0,Ce.P6G)("symbolIcon.snippetForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.snippetForeground","The foreground color for snippet symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),xw=(0,Ce.P6G)("symbolIcon.stringForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.stringForeground","The foreground color for string symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Iw=(0,Ce.P6G)("symbolIcon.structForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.structForeground","The foreground color for struct symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Nw=(0,Ce.P6G)("symbolIcon.textForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.textForeground","The foreground color for text symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Tw=(0,Ce.P6G)("symbolIcon.typeParameterForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.typeParameterForeground","The foreground color for type parameter symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),kw=(0,Ce.P6G)("symbolIcon.unitForeground",{dark:Ce.dRz,light:Ce.dRz,hcDark:Ce.dRz,hcLight:Ce.dRz},(0,_e.NC)("symbolIcon.unitForeground","The foreground color for unit symbols. These symbols appear in the outline, breadcrumb, and suggest widget.")),Mw=(0,Ce.P6G)("symbolIcon.variableForeground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},(0,_e.NC)("symbolIcon.variableForeground","The foreground color for variable symbols. These symbols appear in the outline, breadcrumb, and suggest widget."));(0,dt.Ic)((p,e)=>{const t=p.getColor(ew);t&&e.addRule(`${Nn.lA.symbolArray.cssSelector} { color: ${t}; }`);const n=p.getColor(tw);n&&e.addRule(`${Nn.lA.symbolBoolean.cssSelector} { color: ${n}; }`);const s=p.getColor(nw);s&&e.addRule(`${Nn.lA.symbolClass.cssSelector} { color: ${s}; }`);const o=p.getColor(pw);o&&e.addRule(`${Nn.lA.symbolMethod.cssSelector} { color: ${o}; }`);const g=p.getColor(iw);g&&e.addRule(`${Nn.lA.symbolColor.cssSelector} { color: ${g}; }`);const w=p.getColor(sw);w&&e.addRule(`${Nn.lA.symbolConstant.cssSelector} { color: ${w}; }`);const G=p.getColor(ow);G&&e.addRule(`${Nn.lA.symbolConstructor.cssSelector} { color: ${G}; }`);const J=p.getColor(rw);J&&e.addRule(`
			${Nn.lA.symbolValue.cssSelector},${Nn.lA.symbolEnum.cssSelector} { color: ${J}; }`);const Q=p.getColor(aw);Q&&e.addRule(`${Nn.lA.symbolEnumMember.cssSelector} { color: ${Q}; }`);const ue=p.getColor(lw);ue&&e.addRule(`${Nn.lA.symbolEvent.cssSelector} { color: ${ue}; }`);const Ne=p.getColor(cw);Ne&&e.addRule(`${Nn.lA.symbolField.cssSelector} { color: ${Ne}; }`);const st=p.getColor(dw);st&&e.addRule(`${Nn.lA.symbolFile.cssSelector} { color: ${st}; }`);const mt=p.getColor(uw);mt&&e.addRule(`${Nn.lA.symbolFolder.cssSelector} { color: ${mt}; }`);const bt=p.getColor(hw);bt&&e.addRule(`${Nn.lA.symbolFunction.cssSelector} { color: ${bt}; }`);const $t=p.getColor(fw);$t&&e.addRule(`${Nn.lA.symbolInterface.cssSelector} { color: ${$t}; }`);const Cn=p.getColor(gw);Cn&&e.addRule(`${Nn.lA.symbolKey.cssSelector} { color: ${Cn}; }`);const Yn=p.getColor(mw);Yn&&e.addRule(`${Nn.lA.symbolKeyword.cssSelector} { color: ${Yn}; }`);const ei=p.getColor(_w);ei&&e.addRule(`${Nn.lA.symbolModule.cssSelector} { color: ${ei}; }`);const Ti=p.getColor(vw);Ti&&e.addRule(`${Nn.lA.symbolNamespace.cssSelector} { color: ${Ti}; }`);const Ji=p.getColor(Cw);Ji&&e.addRule(`${Nn.lA.symbolNull.cssSelector} { color: ${Ji}; }`);const to=p.getColor(bw);to&&e.addRule(`${Nn.lA.symbolNumber.cssSelector} { color: ${to}; }`);const Ls=p.getColor(ww);Ls&&e.addRule(`${Nn.lA.symbolObject.cssSelector} { color: ${Ls}; }`);const Ir=p.getColor(Sw);Ir&&e.addRule(`${Nn.lA.symbolOperator.cssSelector} { color: ${Ir}; }`);const Gr=p.getColor(yw);Gr&&e.addRule(`${Nn.lA.symbolPackage.cssSelector} { color: ${Gr}; }`);const wa=p.getColor(Lw);wa&&e.addRule(`${Nn.lA.symbolProperty.cssSelector} { color: ${wa}; }`);const Sc=p.getColor(Ew);Sc&&e.addRule(`${Nn.lA.symbolReference.cssSelector} { color: ${Sc}; }`);const wu=p.getColor(Dw);wu&&e.addRule(`${Nn.lA.symbolSnippet.cssSelector} { color: ${wu}; }`);const Za=p.getColor(xw);Za&&e.addRule(`${Nn.lA.symbolString.cssSelector} { color: ${Za}; }`);const Bf=p.getColor(Iw);Bf&&e.addRule(`${Nn.lA.symbolStruct.cssSelector} { color: ${Bf}; }`);const Su=p.getColor(Nw);Su&&e.addRule(`${Nn.lA.symbolText.cssSelector} { color: ${Su}; }`);const pm=p.getColor(Tw);pm&&e.addRule(`${Nn.lA.symbolTypeParameter.cssSelector} { color: ${pm}; }`);const Wf=p.getColor(kw);Wf&&e.addRule(`${Nn.lA.symbolUnit.cssSelector} { color: ${Wf}; }`);const Vf=p.getColor(Mw);Vf&&e.addRule(`${Nn.lA.symbolVariable.cssSelector} { color: ${Vf}; }`)});class S_{constructor(){this._onDidWillResize=new ni.Q5,this.onDidWillResize=this._onDidWillResize.event,this._onDidResize=new ni.Q5,this.onDidResize=this._onDidResize.event,this._sashListener=new wt.SL,this._size=new we.Ro(0,0),this._minSize=new we.Ro(0,0),this._maxSize=new we.Ro(Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER),this.domNode=document.createElement("div"),this._eastSash=new zr.g(this.domNode,{getVerticalSashLeft:()=>this._size.width},{orientation:0}),this._westSash=new zr.g(this.domNode,{getVerticalSashLeft:()=>0},{orientation:0}),this._northSash=new zr.g(this.domNode,{getHorizontalSashTop:()=>0},{orientation:1,orthogonalEdge:zr.l.North}),this._southSash=new zr.g(this.domNode,{getHorizontalSashTop:()=>this._size.height},{orientation:1,orthogonalEdge:zr.l.South}),this._northSash.orthogonalStartSash=this._westSash,this._northSash.orthogonalEndSash=this._eastSash,this._southSash.orthogonalStartSash=this._westSash,this._southSash.orthogonalEndSash=this._eastSash;let e,t=0,n=0;this._sashListener.add(ni.ju.any(this._northSash.onDidStart,this._eastSash.onDidStart,this._southSash.onDidStart,this._westSash.onDidStart)(()=>{e===void 0&&(this._onDidWillResize.fire(),e=this._size,t=0,n=0)})),this._sashListener.add(ni.ju.any(this._northSash.onDidEnd,this._eastSash.onDidEnd,this._southSash.onDidEnd,this._westSash.onDidEnd)(()=>{e!==void 0&&(e=void 0,t=0,n=0,this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(this._eastSash.onDidChange(s=>{e&&(n=s.currentX-s.startX,this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,east:!0}))})),this._sashListener.add(this._westSash.onDidChange(s=>{e&&(n=-(s.currentX-s.startX),this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,west:!0}))})),this._sashListener.add(this._northSash.onDidChange(s=>{e&&(t=-(s.currentY-s.startY),this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,north:!0}))})),this._sashListener.add(this._southSash.onDidChange(s=>{e&&(t=s.currentY-s.startY,this.layout(e.height+t,e.width+n),this._onDidResize.fire({dimension:this._size,done:!1,south:!0}))})),this._sashListener.add(ni.ju.any(this._eastSash.onDidReset,this._westSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._size.height,this._preferredSize.width),this._onDidResize.fire({dimension:this._size,done:!0}))})),this._sashListener.add(ni.ju.any(this._northSash.onDidReset,this._southSash.onDidReset)(s=>{this._preferredSize&&(this.layout(this._preferredSize.height,this._size.width),this._onDidResize.fire({dimension:this._size,done:!0}))}))}dispose(){this._northSash.dispose(),this._southSash.dispose(),this._eastSash.dispose(),this._westSash.dispose(),this._sashListener.dispose(),this._onDidResize.dispose(),this._onDidWillResize.dispose(),this.domNode.remove()}enableSashes(e,t,n,s){this._northSash.state=e?3:0,this._eastSash.state=t?3:0,this._southSash.state=n?3:0,this._westSash.state=s?3:0}layout(e=this.size.height,t=this.size.width){const{height:n,width:s}=this._minSize,{height:o,width:g}=this._maxSize;e=Math.max(n,Math.min(o,e)),t=Math.max(s,Math.min(g,t));const w=new we.Ro(t,e);we.Ro.equals(w,this._size)||(this.domNode.style.height=e+"px",this.domNode.style.width=t+"px",this._size=w,this._northSash.layout(),this._eastSash.layout(),this._southSash.layout(),this._westSash.layout())}clearSashHoverState(){this._eastSash.clearSashHoverState(),this._westSash.clearSashHoverState(),this._northSash.clearSashHoverState(),this._southSash.clearSashHoverState()}get size(){return this._size}set maxSize(e){this._maxSize=e}get maxSize(){return this._maxSize}set minSize(e){this._minSize=e}get minSize(){return this._minSize}set preferredSize(e){this._preferredSize=e}get preferredSize(){return this._preferredSize}}var Rw=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Aw=function(p,e){return function(t,n){e(t,n,p)}};function bp(p){return!!p&&Boolean(p.completion.documentation||p.completion.detail&&p.completion.detail!==p.completion.label)}let wp=class{constructor(e,t){this._editor=e,this._onDidClose=new ni.Q5,this.onDidClose=this._onDidClose.event,this._onDidChangeContents=new ni.Q5,this.onDidChangeContents=this._onDidChangeContents.event,this._disposables=new wt.SL,this._renderDisposeable=new wt.SL,this._borderWidth=1,this._size=new we.Ro(330,0),this.domNode=we.$(".suggest-details"),this.domNode.classList.add("no-docs"),this._markdownRenderer=t.createInstance(Gl,{editor:e}),this._body=we.$(".body"),this._scrollbar=new Bt.s$(this._body,{alwaysConsumeMouseWheel:!0}),we.R3(this.domNode,this._scrollbar.getDomNode()),this._disposables.add(this._scrollbar),this._header=we.R3(this._body,we.$(".header")),this._close=we.R3(this._header,we.$("span"+Nn.lA.close.cssSelector)),this._close.title=_e.NC("details.close","Close"),this._type=we.R3(this._header,we.$("p.type")),this._docs=we.R3(this._body,we.$("p.docs")),this._configureFont(),this._disposables.add(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(46)&&this._configureFont()}))}dispose(){this._disposables.dispose(),this._renderDisposeable.dispose()}_configureFont(){const e=this._editor.getOptions(),t=e.get(46),n=t.getMassagedFontFamily(),s=e.get(109)||t.fontSize,o=e.get(110)||t.lineHeight,g=t.fontWeight,w=`${s}px`,G=`${o}px`;this.domNode.style.fontSize=w,this.domNode.style.lineHeight=`${o/s}`,this.domNode.style.fontWeight=g,this.domNode.style.fontFeatureSettings=t.fontFeatureSettings,this._type.style.fontFamily=n,this._close.style.height=G,this._close.style.width=G}getLayoutInfo(){const e=this._editor.getOption(110)||this._editor.getOption(46).lineHeight,t=this._borderWidth,n=t*2;return{lineHeight:e,borderWidth:t,borderHeight:n,verticalPadding:22,horizontalPadding:14}}renderLoading(){this._type.textContent=_e.NC("loading","Loading..."),this._docs.textContent="",this.domNode.classList.remove("no-docs","no-type"),this.layout(this.size.width,this.getLayoutInfo().lineHeight*2),this._onDidChangeContents.fire(this)}renderItem(e,t){var n,s;this._renderDisposeable.clear();let{detail:o,documentation:g}=e.completion;if(t){let w="";w+=`score: ${e.score[0]}
`,w+=`prefix: ${(n=e.word)!==null&&n!==void 0?n:"(no prefix)"}
`,w+=`word: ${e.completion.filterText?e.completion.filterText+" (filterText)":e.textLabel}
`,w+=`distance: ${e.distance} (localityBonus-setting)
`,w+=`index: ${e.idx}, based on ${e.completion.sortText&&`sortText: "${e.completion.sortText}"`||"label"}
`,w+=`commit_chars: ${(s=e.completion.commitCharacters)===null||s===void 0?void 0:s.join("")}
`,g=new Wn.W5().appendCodeblock("empty",w),o=`Provider: ${e.provider._debugDisplayName}`}if(!t&&!bp(e)){this.clearContents();return}if(this.domNode.classList.remove("no-docs","no-type"),o){const w=o.length>1e5?`${o.substr(0,1e5)}\u2026`:o;this._type.textContent=w,this._type.title=w,we.$Z(this._type),this._type.classList.toggle("auto-wrap",!/\r?\n^\s+/gmi.test(w))}else we.PO(this._type),this._type.title="",we.Cp(this._type),this.domNode.classList.add("no-type");if(we.PO(this._docs),typeof g=="string")this._docs.classList.remove("markdown-docs"),this._docs.textContent=g;else if(g){this._docs.classList.add("markdown-docs"),we.PO(this._docs);const w=this._markdownRenderer.render(g);this._docs.appendChild(w.element),this._renderDisposeable.add(w),this._renderDisposeable.add(this._markdownRenderer.onDidRenderAsync(()=>{this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}))}this.domNode.style.userSelect="text",this.domNode.tabIndex=-1,this._close.onmousedown=w=>{w.preventDefault(),w.stopPropagation()},this._close.onclick=w=>{w.preventDefault(),w.stopPropagation(),this._onDidClose.fire()},this._body.scrollTop=0,this.layout(this._size.width,this._type.clientHeight+this._docs.clientHeight),this._onDidChangeContents.fire(this)}clearContents(){this.domNode.classList.add("no-docs"),this._type.textContent="",this._docs.textContent=""}get size(){return this._size}layout(e,t){const n=new we.Ro(e,t);we.Ro.equals(n,this._size)||(this._size=n,we.dp(this.domNode,e,t)),this._scrollbar.scanDomNode()}scrollDown(e=8){this._body.scrollTop+=e}scrollUp(e=8){this._body.scrollTop-=e}scrollTop(){this._body.scrollTop=0}scrollBottom(){this._body.scrollTop=this._body.scrollHeight}pageDown(){this.scrollDown(80)}pageUp(){this.scrollUp(80)}set borderWidth(e){this._borderWidth=e}get borderWidth(){return this._borderWidth}};wp=Rw([Aw(1,ki.TG)],wp);class Pw{constructor(e,t){this.widget=e,this._editor=t,this._disposables=new wt.SL,this._added=!1,this._preferAlignAtTop=!0,this._resizable=new S_,this._resizable.domNode.classList.add("suggest-details-container"),this._resizable.domNode.appendChild(e.domNode),this._resizable.enableSashes(!1,!0,!0,!1);let n,s,o=0,g=0;this._disposables.add(this._resizable.onDidWillResize(()=>{n=this._topLeft,s=this._resizable.size})),this._disposables.add(this._resizable.onDidResize(w=>{if(n&&s){this.widget.layout(w.dimension.width,w.dimension.height);let G=!1;w.west&&(g=s.width-w.dimension.width,G=!0),w.north&&(o=s.height-w.dimension.height,G=!0),G&&this._applyTopLeft({top:n.top+o,left:n.left+g})}w.done&&(n=void 0,s=void 0,o=0,g=0,this._userSize=w.dimension)})),this._disposables.add(this.widget.onDidChangeContents(()=>{var w;this._anchorBox&&this._placeAtAnchor(this._anchorBox,(w=this._userSize)!==null&&w!==void 0?w:this.widget.size,this._preferAlignAtTop)}))}dispose(){this._resizable.dispose(),this._disposables.dispose(),this.hide()}getId(){return"suggest.details"}getDomNode(){return this._resizable.domNode}getPosition(){return null}show(){this._added||(this._editor.addOverlayWidget(this),this.getDomNode().style.position="fixed",this._added=!0)}hide(e=!1){this._resizable.clearSashHoverState(),this._added&&(this._editor.removeOverlayWidget(this),this._added=!1,this._anchorBox=void 0,this._topLeft=void 0),e&&(this._userSize=void 0,this.widget.clearContents())}placeAtAnchor(e,t){var n;const s=e.getBoundingClientRect();this._anchorBox=s,this._preferAlignAtTop=t,this._placeAtAnchor(this._anchorBox,(n=this._userSize)!==null&&n!==void 0?n:this.widget.size,t)}_placeAtAnchor(e,t,n){var s;const o=we.D6(document.body),g=this.widget.getLayoutInfo(),w=new we.Ro(220,2*g.lineHeight),G=e.top,J=function(){const ei=o.width-(e.left+e.width+g.borderWidth+g.horizontalPadding),Ti=-g.borderWidth+e.left+e.width,Ji=new we.Ro(ei,o.height-e.top-g.borderHeight-g.verticalPadding),to=Ji.with(void 0,e.top+e.height-g.borderHeight-g.verticalPadding);return{top:G,left:Ti,fit:ei-t.width,maxSizeTop:Ji,maxSizeBottom:to,minSize:w.with(Math.min(ei,w.width))}}(),Q=function(){const ei=e.left-g.borderWidth-g.horizontalPadding,Ti=Math.max(g.horizontalPadding,e.left-t.width-g.borderWidth),Ji=new we.Ro(ei,o.height-e.top-g.borderHeight-g.verticalPadding),to=Ji.with(void 0,e.top+e.height-g.borderHeight-g.verticalPadding);return{top:G,left:Ti,fit:ei-t.width,maxSizeTop:Ji,maxSizeBottom:to,minSize:w.with(Math.min(ei,w.width))}}(),ue=function(){const ei=e.left,Ti=-g.borderWidth+e.top+e.height,Ji=new we.Ro(e.width-g.borderHeight,o.height-e.top-e.height-g.verticalPadding);return{top:Ti,left:ei,fit:Ji.height-t.height,maxSizeBottom:Ji,maxSizeTop:Ji,minSize:w.with(Ji.width)}}(),Ne=[J,Q,ue],st=(s=Ne.find(ei=>ei.fit>=0))!==null&&s!==void 0?s:Ne.sort((ei,Ti)=>Ti.fit-ei.fit)[0],mt=e.top+e.height-g.borderHeight;let bt,$t=t.height;const Cn=Math.max(st.maxSizeTop.height,st.maxSizeBottom.height);$t>Cn&&($t=Cn);let Yn;n?$t<=st.maxSizeTop.height?(bt=!0,Yn=st.maxSizeTop):(bt=!1,Yn=st.maxSizeBottom):$t<=st.maxSizeBottom.height?(bt=!1,Yn=st.maxSizeBottom):(bt=!0,Yn=st.maxSizeTop),this._applyTopLeft({left:st.left,top:bt?st.top:mt-$t}),this.getDomNode().style.position="fixed",this._resizable.enableSashes(!bt,st===J,bt,st!==J),this._resizable.minSize=st.minSize,this._resizable.maxSize=Yn,this._resizable.layout($t,Math.min(Yn.width,t.width)),this.widget.layout(this._resizable.size.width,this._resizable.size.height)}_applyTopLeft(e){this._topLeft=e,this.getDomNode().style.left=`${this._topLeft.left}px`,this.getDomNode().style.top=`${this._topLeft.top}px`}}var Jc;(function(p){p[p.FILE=0]="FILE",p[p.FOLDER=1]="FOLDER",p[p.ROOT_FOLDER=2]="ROOT_FOLDER"})(Jc||(Jc={}));const Ow=/(?:\/|^)(?:([^\/]+)\/)?([^\/]+)$/;function Mg(p,e,t,n){const s=n===Jc.ROOT_FOLDER?["rootfolder-icon"]:n===Jc.FOLDER?["folder-icon"]:["file-icon"];if(t){let o;if(t.scheme===is.lg.data)o=Ae.Vb.parseMetaData(t).get(Ae.Vb.META_DATA_LABEL);else{const g=t.path.match(Ow);g?(o=Rg(g[2].toLowerCase()),g[1]&&s.push(`${Rg(g[1].toLowerCase())}-name-dir-icon`)):o=Rg(t.authority.toLowerCase())}if(n===Jc.FOLDER)s.push(`${o}-name-folder-icon`);else{if(o){if(s.push(`${o}-name-file-icon`),s.push("name-file-icon"),o.length<=255){const w=o.split(".");for(let G=1;G<w.length;G++)s.push(`${w.slice(G).join(".")}-ext-file-icon`)}s.push("ext-file-icon")}const g=Fw(p,e,t);g&&s.push(`${Rg(g)}-lang-file-icon`)}}return s}function Fw(p,e,t){if(!t)return null;let n=null;if(t.scheme===is.lg.data){const o=Ae.Vb.parseMetaData(t).get(Ae.Vb.META_DATA_MIME);o&&(n=e.getLanguageIdByMimeType(o))}else{const s=p.getModel(t);s&&(n=s.getLanguageId())}return n&&n!==zi.bd?n:e.guessLanguageIdByFilepathOrFirstLine(t)}function Rg(p){return p.replace(/[\11\12\14\15\40]/g,"/")}var Bw=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Sp=function(p,e){return function(t,n){e(t,n,p)}},ff;function y_(p){return`suggest-aria-id:${p}`}const Ww=(0,sr.q5)("suggest-more-info",Nn.lA.chevronRight,_e.NC("suggestMoreInfoIcon","Icon for more information in the suggest widget.")),Vw=new(ff=class Dm{extract(e,t){if(e.textLabel.match(Dm._regexStrict))return t[0]=e.textLabel,!0;if(e.completion.detail&&e.completion.detail.match(Dm._regexStrict))return t[0]=e.completion.detail,!0;if(typeof e.completion.documentation=="string"){const n=Dm._regexRelaxed.exec(e.completion.documentation);if(n&&(n.index===0||n.index+n[0].length===e.completion.documentation.length))return t[0]=n[0],!0}return!1}},ff._regexRelaxed=/(#([\da-fA-F]{3}){1,2}|(rgb|hsl)a\(\s*(\d{1,3}%?\s*,\s*){3}(1|0?\.\d+)\)|(rgb|hsl)\(\s*\d{1,3}%?(\s*,\s*\d{1,3}%?){2}\s*\))/,ff._regexStrict=new RegExp(`^${ff._regexRelaxed.source}$`,"i"),ff);let yp=class{constructor(e,t,n,s){this._editor=e,this._modelService=t,this._languageService=n,this._themeService=s,this._onDidToggleDetails=new ni.Q5,this.onDidToggleDetails=this._onDidToggleDetails.event,this.templateId="suggestion"}dispose(){this._onDidToggleDetails.dispose()}renderTemplate(e){const t=Object.create(null);t.disposables=new wt.SL,t.root=e,t.root.classList.add("show-file-icons"),t.icon=(0,we.R3)(e,(0,we.$)(".icon")),t.colorspan=(0,we.R3)(t.icon,(0,we.$)("span.colorspan"));const n=(0,we.R3)(e,(0,we.$)(".contents")),s=(0,we.R3)(n,(0,we.$)(".main"));t.iconContainer=(0,we.R3)(s,(0,we.$)(".icon-label.codicon")),t.left=(0,we.R3)(s,(0,we.$)("span.left")),t.right=(0,we.R3)(s,(0,we.$)("span.right")),t.iconLabel=new To.g(t.left,{supportHighlights:!0,supportIcons:!0}),t.disposables.add(t.iconLabel),t.parametersLabel=(0,we.R3)(t.left,(0,we.$)("span.signature-label")),t.qualifierLabel=(0,we.R3)(t.left,(0,we.$)("span.qualifier-label")),t.detailsLabel=(0,we.R3)(t.right,(0,we.$)("span.details-label")),t.readMore=(0,we.R3)(t.right,(0,we.$)("span.readMore"+dt.kS.asCSSSelector(Ww))),t.readMore.title=_e.NC("readMore","Read More");const o=()=>{const g=this._editor.getOptions(),w=g.get(46),G=w.getMassagedFontFamily(),J=w.fontFeatureSettings,Q=g.get(109)||w.fontSize,ue=g.get(110)||w.lineHeight,Ne=w.fontWeight,st=w.letterSpacing,mt=`${Q}px`,bt=`${ue}px`,$t=`${st}px`;t.root.style.fontSize=mt,t.root.style.fontWeight=Ne,t.root.style.letterSpacing=$t,s.style.fontFamily=G,s.style.fontFeatureSettings=J,s.style.lineHeight=bt,t.icon.style.height=bt,t.icon.style.width=bt,t.readMore.style.height=bt,t.readMore.style.width=bt};return o(),t.disposables.add(this._editor.onDidChangeConfiguration(g=>{(g.hasChanged(46)||g.hasChanged(109)||g.hasChanged(110))&&o()})),t}renderElement(e,t,n){const{completion:s}=e;n.root.id=y_(t),n.colorspan.style.backgroundColor="";const o={labelEscapeNewLines:!0,matches:(0,Pi.mB)(e.score)},g=[];if(s.kind===19&&Vw.extract(e,g))n.icon.className="icon customcolor",n.iconContainer.className="icon hide",n.colorspan.style.backgroundColor=g[0];else if(s.kind===20&&this._themeService.getFileIconTheme().hasFileIcons){n.icon.className="icon hide",n.iconContainer.className="icon hide";const w=Mg(this._modelService,this._languageService,Xi.o.from({scheme:"fake",path:e.textLabel}),Jc.FILE),G=Mg(this._modelService,this._languageService,Xi.o.from({scheme:"fake",path:s.detail}),Jc.FILE);o.extraClasses=w.length>G.length?w:G}else s.kind===23&&this._themeService.getFileIconTheme().hasFolderIcons?(n.icon.className="icon hide",n.iconContainer.className="icon hide",o.extraClasses=[Mg(this._modelService,this._languageService,Xi.o.from({scheme:"fake",path:e.textLabel}),Jc.FOLDER),Mg(this._modelService,this._languageService,Xi.o.from({scheme:"fake",path:s.detail}),Jc.FOLDER)].flat()):(n.icon.className="icon hide",n.iconContainer.className="",n.iconContainer.classList.add("suggest-icon",...Nn.dT.asClassNameArray(un.gX.toIcon(s.kind))));s.tags&&s.tags.indexOf(1)>=0&&(o.extraClasses=(o.extraClasses||[]).concat(["deprecated"]),o.matches=[]),n.iconLabel.setLabel(e.textLabel,void 0,o),typeof s.label=="string"?(n.parametersLabel.textContent="",n.detailsLabel.textContent=Lp(s.detail||""),n.root.classList.add("string-label")):(n.parametersLabel.textContent=Lp(s.label.detail||""),n.detailsLabel.textContent=Lp(s.label.description||""),n.root.classList.remove("string-label")),this._editor.getOption(108).showInlineDetails?(0,we.$Z)(n.detailsLabel):(0,we.Cp)(n.detailsLabel),bp(e)?(n.right.classList.add("can-expand-details"),(0,we.$Z)(n.readMore),n.readMore.onmousedown=w=>{w.stopPropagation(),w.preventDefault()},n.readMore.onclick=w=>{w.stopPropagation(),w.preventDefault(),this._onDidToggleDetails.fire()}):(n.right.classList.remove("can-expand-details"),(0,we.Cp)(n.readMore),n.readMore.onmousedown=null,n.readMore.onclick=null)}disposeTemplate(e){e.disposables.dispose()}};yp=Bw([Sp(1,Ks.q),Sp(2,Yo.O),Sp(3,dt.XE)],yp);function Lp(p){return p.replace(/\r\n|\r|\n/g,"")}var Hw=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Ag=function(p,e){return function(t,n){e(t,n,p)}},zw=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};const iE=(0,Ce.P6G)("editorSuggestWidget.background",{dark:Ce.D0T,light:Ce.D0T,hcDark:Ce.D0T,hcLight:Ce.D0T},_e.NC("editorSuggestWidgetBackground","Background color of the suggest widget.")),sE=(0,Ce.P6G)("editorSuggestWidget.border",{dark:Ce.D1_,light:Ce.D1_,hcDark:Ce.D1_,hcLight:Ce.D1_},_e.NC("editorSuggestWidgetBorder","Border color of the suggest widget.")),Pg=(0,Ce.P6G)("editorSuggestWidget.foreground",{dark:Ce.NOs,light:Ce.NOs,hcDark:Ce.NOs,hcLight:Ce.NOs},_e.NC("editorSuggestWidgetForeground","Foreground color of the suggest widget.")),oE=(0,Ce.P6G)("editorSuggestWidget.selectedForeground",{dark:Ce.NPS,light:Ce.NPS,hcDark:Ce.NPS,hcLight:Ce.NPS},_e.NC("editorSuggestWidgetSelectedForeground","Foreground color of the selected entry in the suggest widget.")),rE=(0,Ce.P6G)("editorSuggestWidget.selectedIconForeground",{dark:Ce.cbQ,light:Ce.cbQ,hcDark:Ce.cbQ,hcLight:Ce.cbQ},_e.NC("editorSuggestWidgetSelectedIconForeground","Icon foreground color of the selected entry in the suggest widget.")),Uw=(0,Ce.P6G)("editorSuggestWidget.selectedBackground",{dark:Ce.Vqd,light:Ce.Vqd,hcDark:Ce.Vqd,hcLight:Ce.Vqd},_e.NC("editorSuggestWidgetSelectedBackground","Background color of the selected entry in the suggest widget.")),aE=(0,Ce.P6G)("editorSuggestWidget.highlightForeground",{dark:Ce.Gwp,light:Ce.Gwp,hcDark:Ce.Gwp,hcLight:Ce.Gwp},_e.NC("editorSuggestWidgetHighlightForeground","Color of the match highlights in the suggest widget.")),lE=(0,Ce.P6G)("editorSuggestWidget.focusHighlightForeground",{dark:Ce.PX0,light:Ce.PX0,hcDark:Ce.PX0,hcLight:Ce.PX0},_e.NC("editorSuggestWidgetFocusHighlightForeground","Color of the match highlights in the suggest widget when an item is focused.")),cE=(0,Ce.P6G)("editorSuggestWidgetStatus.foreground",{dark:(0,Ce.ZnX)(Pg,.5),light:(0,Ce.ZnX)(Pg,.5),hcDark:(0,Ce.ZnX)(Pg,.5),hcLight:(0,Ce.ZnX)(Pg,.5)},_e.NC("editorSuggestWidgetStatusForeground","Foreground color of the suggest widget status."));class jw{constructor(e,t){this._service=e,this._key=`suggestWidget.size/${t.getEditorType()}/${t instanceof ea}`}restore(){var e;const t=(e=this._service.get(this._key,0))!==null&&e!==void 0?e:"";try{const n=JSON.parse(t);if(we.Ro.is(n))return we.Ro.lift(n)}catch(n){}}store(e){this._service.store(this._key,JSON.stringify(e),0,1)}reset(){this._service.remove(this._key,0)}}let gf=class M0{constructor(e,t,n,s,o){this.editor=e,this._storageService=t,this._state=0,this._isAuto=!1,this._ignoreFocusEvents=!1,this._forceRenderingAbove=!1,this._explainMode=!1,this._showTimeout=new kt._F,this._disposables=new wt.SL,this._onDidSelect=new ni.Q5,this._onDidFocus=new ni.Q5,this._onDidHide=new ni.Q5,this._onDidShow=new ni.Q5,this.onDidSelect=this._onDidSelect.event,this.onDidFocus=this._onDidFocus.event,this.onDidHide=this._onDidHide.event,this.onDidShow=this._onDidShow.event,this._onDetailsKeydown=new ni.Q5,this.onDetailsKeyDown=this._onDetailsKeydown.event,this.element=new S_,this.element.domNode.classList.add("editor-widget","suggest-widget"),this._contentWidget=new Kw(this,e),this._persistedSize=new jw(t,e);class g{constructor(st,mt,bt=!1,$t=!1){this.persistedSize=st,this.currentSize=mt,this.persistHeight=bt,this.persistWidth=$t}}let w;this._disposables.add(this.element.onDidWillResize(()=>{this._contentWidget.lockPreference(),w=new g(this._persistedSize.restore(),this.element.size)})),this._disposables.add(this.element.onDidResize(Ne=>{var st,mt,bt,$t;if(this._resize(Ne.dimension.width,Ne.dimension.height),w&&(w.persistHeight=w.persistHeight||!!Ne.north||!!Ne.south,w.persistWidth=w.persistWidth||!!Ne.east||!!Ne.west),!!Ne.done){if(w){const{itemHeight:Cn,defaultSize:Yn}=this.getLayoutInfo(),ei=Math.round(Cn/2);let{width:Ti,height:Ji}=this.element.size;(!w.persistHeight||Math.abs(w.currentSize.height-Ji)<=ei)&&(Ji=(mt=(st=w.persistedSize)===null||st===void 0?void 0:st.height)!==null&&mt!==void 0?mt:Yn.height),(!w.persistWidth||Math.abs(w.currentSize.width-Ti)<=ei)&&(Ti=($t=(bt=w.persistedSize)===null||bt===void 0?void 0:bt.width)!==null&&$t!==void 0?$t:Yn.width),this._persistedSize.store(new we.Ro(Ti,Ji))}this._contentWidget.unlockPreference(),w=void 0}})),this._messageElement=we.R3(this.element.domNode,we.$(".message")),this._listElement=we.R3(this.element.domNode,we.$(".tree"));const G=o.createInstance(wp,this.editor);G.onDidClose(this.toggleDetails,this,this._disposables),this._details=new Pw(G,this.editor);const J=()=>this.element.domNode.classList.toggle("no-icons",!this.editor.getOption(108).showIcons);J();const Q=o.createInstance(yp,this.editor);this._disposables.add(Q),this._disposables.add(Q.onDidToggleDetails(()=>this.toggleDetails())),this._list=new k.aV("SuggestWidget",this._listElement,{getHeight:Ne=>this.getLayoutInfo().itemHeight,getTemplateId:Ne=>"suggestion"},[Q],{alwaysConsumeMouseWheel:!0,useShadows:!1,mouseSupport:!1,multipleSelectionSupport:!1,accessibilityProvider:{getRole:()=>"option",getWidgetAriaLabel:()=>_e.NC("suggest","Suggest"),getWidgetRole:()=>"listbox",getAriaLabel:Ne=>{let st=Ne.textLabel;if(typeof Ne.completion.label!="string"){const{detail:Cn,description:Yn}=Ne.completion.label;Cn&&Yn?st=_e.NC("label.full","{0}{1}, {2}",st,Cn,Yn):Cn?st=_e.NC("label.detail","{0}{1}",st,Cn):Yn&&(st=_e.NC("label.desc","{0}, {1}",st,Yn))}if(!Ne.isResolved||!this._isDetailsVisible())return st;const{documentation:mt,detail:bt}=Ne.completion,$t=fi.WU("{0}{1}",bt||"",mt?typeof mt=="string"?mt:mt.value:"");return _e.NC("ariaCurrenttSuggestionReadDetails","{0}, docs: {1}",st,$t)}}}),this._status=o.createInstance(Cp,this.element.domNode);const ue=()=>this.element.domNode.classList.toggle("with-status-bar",this.editor.getOption(108).showStatusBar);ue(),this._disposables.add((0,No.Jl)(this._list,s,{listInactiveFocusBackground:Uw,listInactiveFocusOutline:Ce.xL1})),this._disposables.add(s.onDidColorThemeChange(Ne=>this._onThemeChange(Ne))),this._onThemeChange(s.getColorTheme()),this._disposables.add(this._list.onMouseDown(Ne=>this._onListMouseDownOrTap(Ne))),this._disposables.add(this._list.onTap(Ne=>this._onListMouseDownOrTap(Ne))),this._disposables.add(this._list.onDidChangeSelection(Ne=>this._onListSelection(Ne))),this._disposables.add(this._list.onDidChangeFocus(Ne=>this._onListFocus(Ne))),this._disposables.add(this.editor.onDidChangeCursorSelection(()=>this._onCursorSelectionChanged())),this._disposables.add(this.editor.onDidChangeConfiguration(Ne=>{Ne.hasChanged(108)&&(ue(),J())})),this._ctxSuggestWidgetVisible=ls.Visible.bindTo(n),this._ctxSuggestWidgetDetailsVisible=ls.DetailsVisible.bindTo(n),this._ctxSuggestWidgetMultipleSuggestions=ls.MultipleSuggestions.bindTo(n),this._ctxSuggestWidgetHasFocusedSuggestion=ls.HasFocusedSuggestion.bindTo(n),this._disposables.add(we.mu(this._details.widget.domNode,"keydown",Ne=>{this._onDetailsKeydown.fire(Ne)})),this._disposables.add(this.editor.onMouseDown(Ne=>this._onEditorMouseDown(Ne)))}dispose(){var e;this._details.widget.dispose(),this._details.dispose(),this._list.dispose(),this._status.dispose(),this._disposables.dispose(),(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._showTimeout.dispose(),this._contentWidget.dispose(),this.element.dispose()}_onEditorMouseDown(e){this._details.widget.domNode.contains(e.target.element)?this._details.widget.domNode.focus():this.element.domNode.contains(e.target.element)&&this.editor.focus()}_onCursorSelectionChanged(){this._state!==0&&this._contentWidget.layout()}_onListMouseDownOrTap(e){typeof e.element=="undefined"||typeof e.index=="undefined"||(e.browserEvent.preventDefault(),e.browserEvent.stopPropagation(),this._select(e.element,e.index))}_onListSelection(e){e.elements.length&&this._select(e.elements[0],e.indexes[0])}_select(e,t){const n=this._completionModel;n&&(this._onDidSelect.fire({item:e,index:t,model:n}),this.editor.focus())}_onThemeChange(e){this._details.widget.borderWidth=(0,qo.c3)(e.type)?2:1}_onListFocus(e){var t;if(this._ignoreFocusEvents)return;if(!e.elements.length){this._currentSuggestionDetails&&(this._currentSuggestionDetails.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=void 0),this.editor.setAriaOptions({activeDescendant:void 0}),this._ctxSuggestWidgetHasFocusedSuggestion.set(!1);return}if(!this._completionModel)return;this._ctxSuggestWidgetHasFocusedSuggestion.set(!0);const n=e.elements[0],s=e.indexes[0];n!==this._focusedItem&&((t=this._currentSuggestionDetails)===null||t===void 0||t.cancel(),this._currentSuggestionDetails=void 0,this._focusedItem=n,this._list.reveal(s),this._currentSuggestionDetails=(0,kt.PG)(o=>zw(this,void 0,void 0,function*(){const g=(0,kt.Vg)(()=>{this._isDetailsVisible()&&this.showDetails(!0)},250),w=o.onCancellationRequested(()=>g.dispose()),G=yield n.resolve(o);return g.dispose(),w.dispose(),G})),this._currentSuggestionDetails.then(()=>{s>=this._list.length||n!==this._list.element(s)||(this._ignoreFocusEvents=!0,this._list.splice(s,1,[n]),this._list.setFocus([s]),this._ignoreFocusEvents=!1,this._isDetailsVisible()?this.showDetails(!1):this.element.domNode.classList.remove("docs-side"),this.editor.setAriaOptions({activeDescendant:y_(s)}))}).catch(Ei.dL)),this._onDidFocus.fire({item:n,index:s,model:this._completionModel})}_setState(e){if(this._state!==e)switch(this._state=e,this.element.domNode.classList.toggle("frozen",e===4),this.element.domNode.classList.remove("message"),e){case 0:we.Cp(this._messageElement,this._listElement,this._status.element),this._details.hide(!0),this._status.hide(),this._contentWidget.hide(),this._ctxSuggestWidgetVisible.reset(),this._ctxSuggestWidgetMultipleSuggestions.reset(),this._ctxSuggestWidgetHasFocusedSuggestion.reset(),this._showTimeout.cancel(),this.element.domNode.classList.remove("visible"),this._list.splice(0,this._list.length),this._focusedItem=void 0,this._cappedHeight=void 0,this._explainMode=!1;break;case 1:this.element.domNode.classList.add("message"),this._messageElement.textContent=M0.LOADING_MESSAGE,we.Cp(this._listElement,this._status.element),we.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 2:this.element.domNode.classList.add("message"),this._messageElement.textContent=M0.NO_SUGGESTIONS_MESSAGE,we.Cp(this._listElement,this._status.element),we.$Z(this._messageElement),this._details.hide(),this._show(),this._focusedItem=void 0;break;case 3:we.Cp(this._messageElement),we.$Z(this._listElement,this._status.element),this._show();break;case 4:we.Cp(this._messageElement),we.$Z(this._listElement,this._status.element),this._show();break;case 5:we.Cp(this._messageElement),we.$Z(this._listElement,this._status.element),this._details.show(),this._show();break}}_show(){this._status.show(),this._contentWidget.show(),this._layout(this._persistedSize.restore()),this._ctxSuggestWidgetVisible.set(!0),this._showTimeout.cancelAndSet(()=>{this.element.domNode.classList.add("visible"),this._onDidShow.fire(this)},100)}showTriggered(e,t){this._state===0&&(this._contentWidget.setPosition(this.editor.getPosition()),this._isAuto=!!e,this._isAuto||(this._loadingTimeout=(0,kt.Vg)(()=>this._setState(1),t)))}showSuggestions(e,t,n,s){var o,g;if(this._contentWidget.setPosition(this.editor.getPosition()),(o=this._loadingTimeout)===null||o===void 0||o.dispose(),(g=this._currentSuggestionDetails)===null||g===void 0||g.cancel(),this._currentSuggestionDetails=void 0,this._completionModel!==e&&(this._completionModel=e),n&&this._state!==2&&this._state!==0){this._setState(4);return}const w=this._completionModel.items.length,G=w===0;if(this._ctxSuggestWidgetMultipleSuggestions.set(w>1),G){this._setState(s?0:2),this._completionModel=void 0;return}this._focusedItem=void 0,this._list.splice(0,this._list.length,this._completionModel.items),this._setState(n?4:3),t>=0&&(this._list.reveal(t,0),this._list.setFocus([t])),this._layout(this.element.size),this._details.widget.domNode.classList.remove("focused")}selectNextPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageDown(),!0;case 1:return!this._isAuto;default:return this._list.focusNextPage(),!0}}selectNext(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusNext(1,!0),!0}}selectLast(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollBottom(),!0;case 1:return!this._isAuto;default:return this._list.focusLast(),!0}}selectPreviousPage(){switch(this._state){case 0:return!1;case 5:return this._details.widget.pageUp(),!0;case 1:return!this._isAuto;default:return this._list.focusPreviousPage(),!0}}selectPrevious(){switch(this._state){case 0:return!1;case 1:return!this._isAuto;default:return this._list.focusPrevious(1,!0),!1}}selectFirst(){switch(this._state){case 0:return!1;case 5:return this._details.widget.scrollTop(),!0;case 1:return!this._isAuto;default:return this._list.focusFirst(),!0}}getFocusedItem(){if(this._state!==0&&this._state!==2&&this._state!==1&&this._completionModel)return{item:this._list.getFocusedElements()[0],index:this._list.getFocus()[0],model:this._completionModel}}toggleDetailsFocus(){this._state===5?(this._setState(3),this._details.widget.domNode.classList.remove("focused")):this._state===3&&this._isDetailsVisible()&&(this._setState(5),this._details.widget.domNode.classList.add("focused"))}toggleDetails(){this._isDetailsVisible()?(this._ctxSuggestWidgetDetailsVisible.set(!1),this._setDetailsVisible(!1),this._details.hide(),this.element.domNode.classList.remove("shows-details")):(bp(this._list.getFocusedElements()[0])||this._explainMode)&&(this._state===3||this._state===5||this._state===4)&&(this._ctxSuggestWidgetDetailsVisible.set(!0),this._setDetailsVisible(!0),this.showDetails(!1))}showDetails(e){this._details.show(),e?this._details.widget.renderLoading():this._details.widget.renderItem(this._list.getFocusedElements()[0],this._explainMode),this._positionDetails(),this.editor.focus(),this.element.domNode.classList.add("shows-details")}toggleExplainMode(){this._list.getFocusedElements()[0]&&(this._explainMode=!this._explainMode,this._isDetailsVisible()?this.showDetails(!1):this.toggleDetails())}resetPersistedSize(){this._persistedSize.reset()}hideWidget(){var e;(e=this._loadingTimeout)===null||e===void 0||e.dispose(),this._setState(0),this._onDidHide.fire(this),this.element.clearSashHoverState();const t=this._persistedSize.restore(),n=Math.ceil(this.getLayoutInfo().itemHeight*4.3);t&&t.height<n&&this._persistedSize.store(t.with(void 0,n))}isFrozen(){return this._state===4}_afterRender(e){if(e===null){this._isDetailsVisible()&&this._details.hide();return}this._state===2||this._state===1||(this._isDetailsVisible()&&this._details.show(),this._positionDetails())}_layout(e){var t,n,s;if(!this.editor.hasModel()||!this.editor.getDomNode())return;const o=we.D6(document.body),g=this.getLayoutInfo();e||(e=g.defaultSize);let w=e.height,G=e.width;if(this._status.element.style.lineHeight=`${g.itemHeight}px`,this._state===2||this._state===1)w=g.itemHeight+g.borderHeight,G=g.defaultSize.width/2,this.element.enableSashes(!1,!1,!1,!1),this.element.minSize=this.element.maxSize=new we.Ro(G,w),this._contentWidget.setPreference(2);else{const J=o.width-g.borderHeight-2*g.horizontalPadding;G>J&&(G=J);const Q=this._completionModel?this._completionModel.stats.pLabelLen*g.typicalHalfwidthCharacterWidth:G,ue=g.statusBarHeight+this._list.contentHeight+g.borderHeight,Ne=g.itemHeight+g.statusBarHeight,st=we.i(this.editor.getDomNode()),mt=this.editor.getScrolledVisiblePosition(this.editor.getPosition()),bt=st.top+mt.top+mt.height,$t=Math.min(o.height-bt-g.verticalPadding,ue),Cn=st.top+mt.top-g.verticalPadding,Yn=Math.min(Cn,ue);let ei=Math.min(Math.max(Yn,$t)+g.borderHeight,ue);w===((t=this._cappedHeight)===null||t===void 0?void 0:t.capped)&&(w=this._cappedHeight.wanted),w<Ne&&(w=Ne),w>ei&&(w=ei);const Ti=150;w>$t||this._forceRenderingAbove&&Cn>Ti?(this._contentWidget.setPreference(1),this.element.enableSashes(!0,!0,!1,!1),ei=Yn):(this._contentWidget.setPreference(2),this.element.enableSashes(!1,!0,!0,!1),ei=$t),this.element.preferredSize=new we.Ro(Q,g.defaultSize.height),this.element.maxSize=new we.Ro(J,ei),this.element.minSize=new we.Ro(220,Ne),this._cappedHeight=w===ue?{wanted:(s=(n=this._cappedHeight)===null||n===void 0?void 0:n.wanted)!==null&&s!==void 0?s:e.height,capped:w}:void 0}this._resize(G,w)}_resize(e,t){const{width:n,height:s}=this.element.maxSize;e=Math.min(n,e),t=Math.min(s,t);const{statusBarHeight:o}=this.getLayoutInfo();this._list.layout(t-o,e),this._listElement.style.height=`${t-o}px`,this.element.layout(t,e),this._contentWidget.layout(),this._positionDetails()}_positionDetails(){var e;this._isDetailsVisible()&&this._details.placeAtAnchor(this.element.domNode,((e=this._contentWidget.getPosition())===null||e===void 0?void 0:e.preference[0])===2)}getLayoutInfo(){const e=this.editor.getOption(46),t=(0,Jb.uZ)(this.editor.getOption(110)||e.lineHeight,8,1e3),n=!this.editor.getOption(108).showStatusBar||this._state===2||this._state===1?0:t,s=this._details.widget.borderWidth,o=2*s;return{itemHeight:t,statusBarHeight:n,borderWidth:s,borderHeight:o,typicalHalfwidthCharacterWidth:e.typicalHalfwidthCharacterWidth,verticalPadding:22,horizontalPadding:14,defaultSize:new we.Ro(430,n+12*t+o)}}_isDetailsVisible(){return this._storageService.getBoolean("expandSuggestionDocs",0,!1)}_setDetailsVisible(e){this._storageService.store("expandSuggestionDocs",e,0,0)}forceRenderingAbove(){this._forceRenderingAbove||(this._forceRenderingAbove=!0,this._layout(this._persistedSize.restore()))}stopForceRenderingAbove(){this._forceRenderingAbove=!1}};gf.LOADING_MESSAGE=_e.NC("suggestWidget.loading","Loading..."),gf.NO_SUGGESTIONS_MESSAGE=_e.NC("suggestWidget.noSuggestions","No suggestions."),gf=Hw([Ag(1,Oo.Uy),Ag(2,ht.i6),Ag(3,dt.XE),Ag(4,ki.TG)],gf);class Kw{constructor(e,t){this._widget=e,this._editor=t,this.allowEditorOverflow=!0,this.suppressMouseDown=!1,this._preferenceLocked=!1,this._added=!1,this._hidden=!1}dispose(){this._added&&(this._added=!1,this._editor.removeContentWidget(this))}getId(){return"editor.widget.suggestWidget"}getDomNode(){return this._widget.element.domNode}show(){this._hidden=!1,this._added||(this._added=!0,this._editor.addContentWidget(this))}hide(){this._hidden||(this._hidden=!0,this.layout())}layout(){this._editor.layoutContentWidget(this)}getPosition(){return this._hidden||!this._position||!this._preference?null:{position:this._position,preference:[this._preference]}}beforeRender(){const{height:e,width:t}=this._widget.element.size,{borderWidth:n,horizontalPadding:s}=this._widget.getLayoutInfo();return new we.Ro(t+2*n+s,e+2*n)}afterRender(e){this._widget._afterRender(e)}setPreference(e){this._preferenceLocked||(this._preference=e)}lockPreference(){this._preferenceLocked=!0}unlockPreference(){this._preferenceLocked=!1}setPosition(e){this._position=e}}var $w=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},th=function(p,e){return function(t,n){e(t,n,p)}};const Gw=!1;class Zw{constructor(e,t){if(this._model=e,this._position=t,e.getLineMaxColumn(t.lineNumber)!==t.column){const s=e.getOffsetAt(t),o=e.getPositionAt(s+1);this._marker=e.deltaDecorations([],[{range:_t.e.fromPositions(t,o),options:{description:"suggest-line-suffix",stickiness:1}}])}}dispose(){this._marker&&!this._model.isDisposed()&&this._model.deltaDecorations(this._marker,[])}delta(e){if(this._model.isDisposed()||this._position.lineNumber!==e.lineNumber)return 0;if(this._marker){const t=this._model.getDecorationRange(this._marker[0]);return this._model.getOffsetAt(t.getStartPosition())-this._model.getOffsetAt(e)}else return this._model.getLineMaxColumn(e.lineNumber)-e.column}}let Ml=class gv{constructor(e,t,n,s,o,g,w){this._memoryService=t,this._commandService=n,this._contextKeyService=s,this._instantiationService=o,this._logService=g,this._telemetryService=w,this._lineSuffix=new wt.XK,this._toDispose=new wt.SL,this._selectors=new Yw(ue=>ue.priority),this._telemetryGate=0,this.editor=e,this.model=o.createInstance(pp,this.editor);const G=ls.InsertMode.bindTo(s);G.set(e.getOption(108).insertMode),this.model.onDidTrigger(()=>G.set(e.getOption(108).insertMode)),this.widget=this._toDispose.add(new kt.Ue(()=>{const ue=this._instantiationService.createInstance(gf,this.editor);this._toDispose.add(ue),this._toDispose.add(ue.onDidSelect($t=>this._insertSuggestion($t,0),this));const Ne=new Kb(this.editor,ue,$t=>this._insertSuggestion($t,2));this._toDispose.add(Ne),this._toDispose.add(this.model.onDidSuggest($t=>{$t.completionModel.items.length===0&&Ne.reset()}));const st=ls.MakesTextEdit.bindTo(this._contextKeyService),mt=ls.HasInsertAndReplaceRange.bindTo(this._contextKeyService),bt=ls.CanResolve.bindTo(this._contextKeyService);return this._toDispose.add((0,wt.OF)(()=>{st.reset(),mt.reset(),bt.reset()})),this._toDispose.add(ue.onDidFocus(({item:$t})=>{const Cn=this.editor.getPosition(),Yn=$t.editStart.column,ei=Cn.column;let Ti=!0;this.editor.getOption(1)==="smart"&&this.model.state===2&&!$t.completion.additionalTextEdits&&!($t.completion.insertTextRules&4)&&ei-Yn===$t.completion.insertText.length&&(Ti=this.editor.getModel().getValueInRange({startLineNumber:Cn.lineNumber,startColumn:Yn,endLineNumber:Cn.lineNumber,endColumn:ei})!==$t.completion.insertText),st.set(Ti),mt.set(!ln.L.equals($t.editInsertEnd,$t.editReplaceEnd)),bt.set(Boolean($t.provider.resolveCompletionItem)||Boolean($t.completion.documentation)||$t.completion.detail!==$t.completion.label)})),this._toDispose.add(ue.onDetailsKeyDown($t=>{if($t.toKeybinding().equals(new v_.QC(!0,!1,!1,!1,33))||ci.dz&&$t.toKeybinding().equals(new v_.QC(!1,!1,!1,!0,33))){$t.stopPropagation();return}$t.toKeybinding().isModifierKey()||this.editor.focus()})),ue})),this._overtypingCapturer=this._toDispose.add(new kt.Ue(()=>this._toDispose.add(new kg(this.editor,this.model)))),this._alternatives=this._toDispose.add(new kt.Ue(()=>this._toDispose.add(new su(this.editor,this._contextKeyService)))),this._toDispose.add(o.createInstance(hf,e)),this._toDispose.add(this.model.onDidTrigger(ue=>{this.widget.value.showTriggered(ue.auto,ue.shy?250:50),this._lineSuffix.value=new Zw(this.editor.getModel(),ue.position)})),this._toDispose.add(this.model.onDidSuggest(ue=>{if(ue.shy)return;let Ne=-1;if(!ue.noSelect){for(const st of this._selectors.itemsOrderedByPriorityDesc)if(Ne=st.select(this.editor.getModel(),this.editor.getPosition(),ue.completionModel.items),Ne!==-1)break;Ne===-1&&(Ne=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),ue.completionModel.items))}this.widget.value.showSuggestions(ue.completionModel,Ne,ue.isFrozen,ue.auto)})),this._toDispose.add(this.model.onDidCancel(ue=>{ue.retrigger||this.widget.value.hideWidget()})),this._toDispose.add(this.editor.onDidBlurEditorWidget(()=>{Gw||(this.model.cancel(),this.model.clear())}));const J=ls.AcceptSuggestionsOnEnter.bindTo(s),Q=()=>{const ue=this.editor.getOption(1);J.set(ue==="on"||ue==="smart")};this._toDispose.add(this.editor.onDidChangeConfiguration(()=>Q())),Q()}static get(e){return e.getContribution(gv.ID)}dispose(){this._alternatives.dispose(),this._toDispose.dispose(),this.widget.dispose(),this.model.dispose(),this._lineSuffix.dispose()}_insertSuggestion(e,t){if(!e||!e.item){this._alternatives.value.reset(),this.model.cancel(),this.model.clear();return}if(!this.editor.hasModel())return;const n=or.get(this.editor);if(!n)return;const s=this.editor.getModel(),o=s.getAlternativeVersionId(),{item:g}=e,w=[],G=new ri.A;t&1||this.editor.pushUndoStop();const J=this.getOverwriteInfo(g,Boolean(t&8));if(this._memoryService.memorize(s,this.editor.getPosition(),g),Array.isArray(g.completion.additionalTextEdits)){const ue=po.Z.capture(this.editor);this.editor.executeEdits("suggestController.additionalTextEdits.sync",g.completion.additionalTextEdits.map(Ne=>xn.h.replaceMove(_t.e.lift(Ne.range),Ne.text))),ue.restoreRelativeVerticalPositionOfCursor(this.editor)}else if(!g.isResolved){const ue=new _r.G(!0);let Ne;const st=s.onDidChangeContent(Cn=>{if(Cn.isFlush){G.cancel(),st.dispose();return}for(const Yn of Cn.changes){const ei=_t.e.getEndPosition(Yn.range);(!Ne||ln.L.isBefore(ei,Ne))&&(Ne=ei)}}),mt=t;t|=2;let bt=!1;const $t=this.editor.onWillType(()=>{$t.dispose(),bt=!0,mt&2||this.editor.pushUndoStop()});w.push(g.resolve(G.token).then(()=>{if(!g.completion.additionalTextEdits||G.token.isCancellationRequested||Ne&&g.completion.additionalTextEdits.some(Yn=>ln.L.isBefore(Ne,_t.e.getStartPosition(Yn.range))))return!1;bt&&this.editor.pushUndoStop();const Cn=po.Z.capture(this.editor);return this.editor.executeEdits("suggestController.additionalTextEdits.async",g.completion.additionalTextEdits.map(Yn=>xn.h.replaceMove(_t.e.lift(Yn.range),Yn.text))),Cn.restoreRelativeVerticalPositionOfCursor(this.editor),(bt||!(mt&2))&&this.editor.pushUndoStop(),!0}).then(Cn=>{this._logService.trace("[suggest] async resolving of edits DONE (ms, applied?)",ue.elapsed(),Cn),st.dispose(),$t.dispose()}))}let{insertText:Q}=g.completion;g.completion.insertTextRules&4||(Q=Wo.escape(Q)),n.insert(Q,{overwriteBefore:J.overwriteBefore,overwriteAfter:J.overwriteAfter,undoStopBefore:!1,undoStopAfter:!1,adjustWhitespace:!(g.completion.insertTextRules&1),clipboardText:e.model.clipboardText,overtypingCapturer:this._overtypingCapturer.value}),t&2||this.editor.pushUndoStop(),g.completion.command?g.completion.command.id===mf.id?this.model.trigger({auto:!0,shy:!1,noSelect:!1},!0):(w.push(this._commandService.executeCommand(g.completion.command.id,...g.completion.command.arguments?[...g.completion.command.arguments]:[]).catch(Ei.dL)),this.model.cancel()):this.model.cancel(),t&4&&this._alternatives.value.set(e,ue=>{for(G.cancel();s.canUndo();){o!==s.getAlternativeVersionId()&&s.undo(),this._insertSuggestion(ue,3|(t&8?8:0));break}}),this._alertCompletionItem(g),Promise.all(w).finally(()=>{this._reportSuggestionAcceptedTelemetry(g,s,e),this.model.clear(),G.dispose()})}_reportSuggestionAcceptedTelemetry(e,t,n){var s;if(this._telemetryGate++%100!==0)return;const o=e.extensionId?e.extensionId.value:((s=n.item.provider._debugDisplayName)!==null&&s!==void 0?s:"unknown").split("(",1)[0].toLowerCase();this._telemetryService.publicLog2("suggest.acceptedSuggestion",{providerId:o,kind:e.completion.kind,basenameHash:(0,da.vp)((0,Ae.EZ)(t.uri)).toString(16),languageId:t.getLanguageId(),fileExtension:(0,Ae.DZ)(t.uri)})}getOverwriteInfo(e,t){(0,Zi.p_)(this.editor.hasModel());let n=this.editor.getOption(108).insertMode==="replace";t&&(n=!n);const s=e.position.column-e.editStart.column,o=(n?e.editReplaceEnd.column:e.editInsertEnd.column)-e.position.column,g=this.editor.getPosition().column-e.position.column,w=this._lineSuffix.value?this._lineSuffix.value.delta(this.editor.getPosition()):0;return{overwriteBefore:s+g,overwriteAfter:o+w}}_alertCompletionItem(e){if((0,$i.Of)(e.completion.additionalTextEdits)){const t=_e.NC("aria.alert.snippet","Accepting '{0}' made {1} additional edits",e.textLabel,e.completion.additionalTextEdits.length);(0,Rn.Z9)(t)}}triggerSuggest(e,t,n,s){this.editor.hasModel()&&(this.model.trigger({auto:t!=null?t:!1,shy:!1,noSelect:s!=null?s:!1},!1,e,void 0,n),this.editor.revealPosition(this.editor.getPosition(),0),this.editor.focus())}triggerSuggestAndAcceptBest(e){if(!this.editor.hasModel())return;const t=this.editor.getPosition(),n=()=>{t.equals(this.editor.getPosition())&&this._commandService.executeCommand(e.fallback)},s=o=>{if(o.completion.insertTextRules&4||o.completion.additionalTextEdits)return!0;const g=this.editor.getPosition(),w=o.editStart.column,G=g.column;return G-w!==o.completion.insertText.length?!0:this.editor.getModel().getValueInRange({startLineNumber:g.lineNumber,startColumn:w,endLineNumber:g.lineNumber,endColumn:G})!==o.completion.insertText};ni.ju.once(this.model.onDidTrigger)(o=>{const g=[];ni.ju.any(this.model.onDidTrigger,this.model.onDidCancel)(()=>{(0,wt.B9)(g),n()},void 0,g),this.model.onDidSuggest(({completionModel:w})=>{if((0,wt.B9)(g),w.items.length===0){n();return}const G=this._memoryService.select(this.editor.getModel(),this.editor.getPosition(),w.items),J=w.items[G];if(!s(J)){n();return}this.editor.pushUndoStop(),this._insertSuggestion({index:G,item:J,model:w},7)},void 0,g)}),this.model.trigger({auto:!1,shy:!0,noSelect:!1}),this.editor.revealPosition(t,0),this.editor.focus()}acceptSelectedSuggestion(e,t){const n=this.widget.value.getFocusedItem();let s=0;e&&(s|=4),t&&(s|=8),this._insertSuggestion(n,s)}acceptNextSuggestion(){this._alternatives.value.next()}acceptPrevSuggestion(){this._alternatives.value.prev()}cancelSuggestWidget(){this.model.cancel(),this.model.clear(),this.widget.value.hideWidget()}selectNextSuggestion(){this.widget.value.selectNext()}selectNextPageSuggestion(){this.widget.value.selectNextPage()}selectLastSuggestion(){this.widget.value.selectLast()}selectPrevSuggestion(){this.widget.value.selectPrevious()}selectPrevPageSuggestion(){this.widget.value.selectPreviousPage()}selectFirstSuggestion(){this.widget.value.selectFirst()}toggleSuggestionDetails(){this.widget.value.toggleDetails()}toggleExplainMode(){this.widget.value.toggleExplainMode()}toggleSuggestionFocus(){this.widget.value.toggleDetailsFocus()}resetWidgetSize(){this.widget.value.resetPersistedSize()}forceRenderingAbove(){this.widget.value.forceRenderingAbove()}stopForceRenderingAbove(){!this.widget.isInitialized||this.widget.value.stopForceRenderingAbove()}registerSelector(e){return this._selectors.register(e)}};Ml.ID="editor.contrib.suggestController",Ml=$w([th(1,Tg),th(2,gi.Hy),th(3,ht.i6),th(4,ki.TG),th(5,Ht.VZ),th(6,fe.b)],Ml);class Yw{constructor(e){this.prioritySelector=e,this._items=new Array}register(e){if(this._items.indexOf(e)!==-1)throw new Error("Value is already registered");return this._items.push(e),this._items.sort((t,n)=>this.prioritySelector(n)-this.prioritySelector(t)),{dispose:()=>{const t=this._items.indexOf(e);t>=0&&this._items.splice(t,1)}}}get itemsOrderedByPriorityDesc(){return this._items}}class mf extends je.R6{constructor(){super({id:mf.id,label:_e.NC("suggest.trigger.label","Trigger Suggest"),alias:"Trigger Suggest",precondition:ht.Ao.and(vt.u.writable,vt.u.hasCompletionItemProvider),kbOpts:{kbExpr:vt.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[521,2087]},weight:100}})}run(e,t,n){const s=Ml.get(t);if(!s)return;let o,g;n&&typeof n=="object"&&(n.auto===!0&&(o=!0),n.noSelection===!0&&(g=!0)),s.triggerSuggest(void 0,o,void 0,g)}}mf.id="editor.action.triggerSuggest",(0,je._K)(Ml.ID,Ml),(0,je.Qr)(mf);const ul=100+90,Pa=je._l.bindToContribution(Ml.get);(0,je.fK)(new Pa({id:"acceptSelectedSuggestion",precondition:ht.Ao.and(ls.Visible,ls.HasFocusedSuggestion),handler(p){p.acceptSelectedSuggestion(!0,!1)},kbOpts:[{primary:2,kbExpr:ht.Ao.and(ls.Visible,vt.u.textInputFocus),weight:ul},{primary:3,kbExpr:ht.Ao.and(ls.Visible,vt.u.textInputFocus,ls.AcceptSuggestionsOnEnter,ls.MakesTextEdit),weight:ul}],menuOpts:[{menuId:Cs,title:_e.NC("accept.insert","Insert"),group:"left",order:1,when:ls.HasInsertAndReplaceRange.toNegated()},{menuId:Cs,title:_e.NC("accept.insert","Insert"),group:"left",order:1,when:ht.Ao.and(ls.HasInsertAndReplaceRange,ls.InsertMode.isEqualTo("insert"))},{menuId:Cs,title:_e.NC("accept.replace","Replace"),group:"left",order:1,when:ht.Ao.and(ls.HasInsertAndReplaceRange,ls.InsertMode.isEqualTo("replace"))}]})),(0,je.fK)(new Pa({id:"acceptAlternativeSelectedSuggestion",precondition:ht.Ao.and(ls.Visible,vt.u.textInputFocus,ls.HasFocusedSuggestion),kbOpts:{weight:ul,kbExpr:vt.u.textInputFocus,primary:1027,secondary:[1026]},handler(p){p.acceptSelectedSuggestion(!1,!0)},menuOpts:[{menuId:Cs,group:"left",order:2,when:ht.Ao.and(ls.HasInsertAndReplaceRange,ls.InsertMode.isEqualTo("insert")),title:_e.NC("accept.replace","Replace")},{menuId:Cs,group:"left",order:2,when:ht.Ao.and(ls.HasInsertAndReplaceRange,ls.InsertMode.isEqualTo("replace")),title:_e.NC("accept.insert","Insert")}]})),gi.P0.registerCommandAlias("acceptSelectedSuggestionOnEnter","acceptSelectedSuggestion"),(0,je.fK)(new Pa({id:"hideSuggestWidget",precondition:ls.Visible,handler:p=>p.cancelSuggestWidget(),kbOpts:{weight:ul,kbExpr:vt.u.textInputFocus,primary:9,secondary:[1033]}})),(0,je.fK)(new Pa({id:"selectNextSuggestion",precondition:ht.Ao.and(ls.Visible,ls.MultipleSuggestions),handler:p=>p.selectNextSuggestion(),kbOpts:{weight:ul,kbExpr:vt.u.textInputFocus,primary:18,secondary:[2066],mac:{primary:18,secondary:[2066,300]}}})),(0,je.fK)(new Pa({id:"selectNextPageSuggestion",precondition:ht.Ao.and(ls.Visible,ls.MultipleSuggestions),handler:p=>p.selectNextPageSuggestion(),kbOpts:{weight:ul,kbExpr:vt.u.textInputFocus,primary:12,secondary:[2060]}})),(0,je.fK)(new Pa({id:"selectLastSuggestion",precondition:ht.Ao.and(ls.Visible,ls.MultipleSuggestions),handler:p=>p.selectLastSuggestion()})),(0,je.fK)(new Pa({id:"selectPrevSuggestion",precondition:ht.Ao.and(ls.Visible,ls.MultipleSuggestions),handler:p=>p.selectPrevSuggestion(),kbOpts:{weight:ul,kbExpr:vt.u.textInputFocus,primary:16,secondary:[2064],mac:{primary:16,secondary:[2064,302]}}})),(0,je.fK)(new Pa({id:"selectPrevPageSuggestion",precondition:ht.Ao.and(ls.Visible,ls.MultipleSuggestions),handler:p=>p.selectPrevPageSuggestion(),kbOpts:{weight:ul,kbExpr:vt.u.textInputFocus,primary:11,secondary:[2059]}})),(0,je.fK)(new Pa({id:"selectFirstSuggestion",precondition:ht.Ao.and(ls.Visible,ls.MultipleSuggestions),handler:p=>p.selectFirstSuggestion()})),(0,je.fK)(new Pa({id:"toggleSuggestionDetails",precondition:ls.Visible,handler:p=>p.toggleSuggestionDetails(),kbOpts:{weight:ul,kbExpr:vt.u.textInputFocus,primary:2058,secondary:[2087],mac:{primary:266,secondary:[2087]}},menuOpts:[{menuId:Cs,group:"right",order:1,when:ht.Ao.and(ls.DetailsVisible,ls.CanResolve),title:_e.NC("detail.more","show less")},{menuId:Cs,group:"right",order:1,when:ht.Ao.and(ls.DetailsVisible.toNegated(),ls.CanResolve),title:_e.NC("detail.less","show more")}]})),(0,je.fK)(new Pa({id:"toggleExplainMode",precondition:ls.Visible,handler:p=>p.toggleExplainMode(),kbOpts:{weight:100,primary:2133}})),(0,je.fK)(new Pa({id:"toggleSuggestionFocus",precondition:ls.Visible,handler:p=>p.toggleSuggestionFocus(),kbOpts:{weight:ul,kbExpr:vt.u.textInputFocus,primary:2570,mac:{primary:778}}})),(0,je.fK)(new Pa({id:"insertBestCompletion",precondition:ht.Ao.and(vt.u.textInputFocus,ht.Ao.equals("config.editor.tabCompletion","on"),hf.AtEnd,ls.Visible.toNegated(),su.OtherSuggestions.toNegated(),or.InSnippetMode.toNegated()),handler:(p,e)=>{p.triggerSuggestAndAcceptBest((0,Zi.Kn)(e)?Object.assign({fallback:"tab"},e):{fallback:"tab"})},kbOpts:{weight:ul,primary:2}})),(0,je.fK)(new Pa({id:"insertNextSuggestion",precondition:ht.Ao.and(vt.u.textInputFocus,ht.Ao.equals("config.editor.tabCompletion","on"),su.OtherSuggestions,ls.Visible.toNegated(),or.InSnippetMode.toNegated()),handler:p=>p.acceptNextSuggestion(),kbOpts:{weight:ul,kbExpr:vt.u.textInputFocus,primary:2}})),(0,je.fK)(new Pa({id:"insertPrevSuggestion",precondition:ht.Ao.and(vt.u.textInputFocus,ht.Ao.equals("config.editor.tabCompletion","on"),su.OtherSuggestions,ls.Visible.toNegated(),or.InSnippetMode.toNegated()),handler:p=>p.acceptPrevSuggestion(),kbOpts:{weight:ul,kbExpr:vt.u.textInputFocus,primary:1026}})),(0,je.Qr)(class extends je.R6{constructor(){super({id:"editor.action.resetSuggestSize",label:_e.NC("suggest.reset.label","Reset Suggest Widget Size"),alias:"Reset Suggest Widget Size",precondition:void 0})}run(p,e){var t;(t=Ml.get(e))===null||t===void 0||t.resetWidgetSize()}});class Qw extends wt.JT{constructor(e,t){super(),this.editor=e,this.suggestControllerPreselector=t,this.isSuggestWidgetVisible=!1,this.isShiftKeyPressed=!1,this._isActive=!1,this._currentSuggestItemInfo=void 0,this.onDidChangeEmitter=new ni.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.setInactiveDelayed=this._register(new kt.pY(()=>{this.isSuggestWidgetVisible||this._isActive&&(this._isActive=!1,this.onDidChangeEmitter.fire())},100)),this._register(e.onKeyDown(s=>{s.shiftKey&&!this.isShiftKeyPressed&&(this.isShiftKeyPressed=!0,this.update(this._isActive))})),this._register(e.onKeyUp(s=>{s.shiftKey&&this.isShiftKeyPressed&&(this.isShiftKeyPressed=!1,this.update(this._isActive))}));const n=Ml.get(this.editor);if(n){this._register(n.registerSelector({priority:100,select:(g,w,G)=>{const J=this.editor.getModel(),Q=Ng(J,this.suggestControllerPreselector());if(!Q)return-1;const ue=ln.L.lift(w),Ne=G.map((mt,bt)=>{const $t=L_(n,ue,mt,this.isShiftKeyPressed),Cn=Ng(J,$t==null?void 0:$t.normalizedInlineCompletion);if(!Cn)return;const Yn=Xw(Q.range,Cn.range)&&Q.insertText.startsWith(Cn.insertText);return{index:bt,valid:Yn,prefixLength:Cn.insertText.length,suggestItem:mt}}).filter(mt=>mt&&mt.valid),st=(0,$i.Dc)(Ne,(0,$i.tT)(mt=>mt.prefixLength,$i.fv));return st?st.index:-1}}));let s=!1;const o=()=>{s||(s=!0,this._register(n.widget.value.onDidShow(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})),this._register(n.widget.value.onDidHide(()=>{this.isSuggestWidgetVisible=!1,this.setInactiveDelayed.schedule(),this.update(this._isActive)})),this._register(n.widget.value.onDidFocus(()=>{this.isSuggestWidgetVisible=!0,this.update(!0)})))};this._register(ni.ju.once(n.model.onDidTrigger)(g=>{o()}))}this.update(this._isActive)}get state(){if(!!this._isActive)return{selectedItem:this._currentSuggestItemInfo}}update(e){const t=this.getSuggestItemInfo();let n=!1;Jw(this._currentSuggestItemInfo,t)||(this._currentSuggestItemInfo=t,n=!0),this._isActive!==e&&(this._isActive=e,n=!0),n&&this.onDidChangeEmitter.fire()}getSuggestItemInfo(){const e=Ml.get(this.editor);if(!e||!this.isSuggestWidgetVisible)return;const t=e.widget.value.getFocusedItem();if(!!t)return L_(e,this.editor.getPosition(),t.item,this.isShiftKeyPressed)}stopForceRenderingAbove(){const e=Ml.get(this.editor);e&&e.stopForceRenderingAbove()}forceRenderingAbove(){const e=Ml.get(this.editor);e&&e.forceRenderingAbove()}}function Xw(p,e){return e.startLineNumber===p.startLineNumber&&e.startColumn===p.startColumn&&(e.endLineNumber<p.endLineNumber||e.endLineNumber===p.endLineNumber&&e.endColumn<=p.endColumn)}function Jw(p,e){return p===e?!0:!p||!e?!1:p.completionItemKind===e.completionItemKind&&p.isSnippetText===e.isSnippetText&&Lb(p.normalizedInlineCompletion,e.normalizedInlineCompletion)}function L_(p,e,t,n){if(Array.isArray(t.completion.additionalTextEdits)&&t.completion.additionalTextEdits.length>0)return{completionItemKind:t.completion.kind,isSnippetText:!1,normalizedInlineCompletion:{range:_t.e.fromPositions(e,e),insertText:"",filterText:"",snippetInfo:void 0,additionalTextEdits:[]}};let{insertText:s}=t.completion,o=!1;if(t.completion.insertTextRules&4){const w=new Wo().parse(s),G=p.editor.getModel();if(w.children.length>100)return;cg.adjustWhitespace(G,e,w,!0,!0),s=w.toString(),o=!0}const g=p.getOverwriteInfo(t,n);return{isSnippetText:o,completionItemKind:t.completion.kind,normalizedInlineCompletion:{insertText:s,filterText:s,range:_t.e.fromPositions(e.delta(0,-g.overwriteBefore),e.delta(0,Math.max(g.overwriteAfter,0))),snippetInfo:void 0,additionalTextEdits:[]}}}var qw=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},eS=function(p,e){return function(t,n){e(t,n,p)}},E_=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};let Ep=class extends h_{constructor(e,t,n){super(e),this.cache=t,this.languageFeaturesService=n,this.suggestionInlineCompletionSource=this._register(new Qw(this.editor,()=>{var s,o;return(o=(s=this.cache.value)===null||s===void 0?void 0:s.completions[0])===null||o===void 0?void 0:o.toLiveInlineCompletion()})),this.updateOperation=this._register(new wt.XK),this.updateCacheSoon=this._register(new kt.pY(()=>this.updateCache(),50)),this.minReservedLineCount=0,this._register(this.suggestionInlineCompletionSource.onDidChange(()=>{if(!this.editor.hasModel())return;this.updateCacheSoon.schedule(),this.suggestionInlineCompletionSource.state||(this.minReservedLineCount=0);const o=this.ghostText;o&&(this.minReservedLineCount=Math.max(this.minReservedLineCount,tS(o.parts.map(g=>g.lines.length-1)))),this.minReservedLineCount>=1?this.suggestionInlineCompletionSource.forceRenderingAbove():this.suggestionInlineCompletionSource.stopForceRenderingAbove(),this.onDidChangeEmitter.fire()})),this._register(this.cache.onDidChange(()=>{this.onDidChangeEmitter.fire()})),this._register(this.editor.onDidChangeCursorPosition(s=>{this.minReservedLineCount=0,this.updateCacheSoon.schedule(),this.onDidChangeEmitter.fire()})),this._register((0,wt.OF)(()=>this.suggestionInlineCompletionSource.stopForceRenderingAbove()))}get isActive(){return this.suggestionInlineCompletionSource.state!==void 0}isSuggestionPreviewEnabled(){return this.editor.getOption(108).preview}updateCache(){return E_(this,void 0,void 0,function*(){const e=this.suggestionInlineCompletionSource.state;if(!e||!e.selectedItem)return;const t={text:e.selectedItem.normalizedInlineCompletion.insertText,range:e.selectedItem.normalizedInlineCompletion.range,isSnippetText:e.selectedItem.isSnippetText,completionKind:e.selectedItem.completionItemKind},n=this.editor.getPosition();if(e.selectedItem.isSnippetText||e.selectedItem.completionItemKind===27||e.selectedItem.completionItemKind===20||e.selectedItem.completionItemKind===23){this.cache.clear();return}const s=(0,kt.PG)(g=>E_(this,void 0,void 0,function*(){let w;try{w=yield __(this.languageFeaturesService.inlineCompletionsProvider,n,this.editor.getModel(),{triggerKind:un.bw.Automatic,selectedSuggestionInfo:t},g)}catch(G){(0,Ei.dL)(G);return}if(g.isCancellationRequested){w.dispose();return}this.cache.setValue(this.editor,w,un.bw.Automatic),this.onDidChangeEmitter.fire()})),o=new p_(s,un.bw.Automatic);this.updateOperation.value=o,yield s,this.updateOperation.value===o&&this.updateOperation.clear()})}get ghostText(){var e,t,n;const s=this.isSuggestionPreviewEnabled(),o=this.editor.getModel(),g=Ng(o,(t=(e=this.cache.value)===null||e===void 0?void 0:e.completions[0])===null||t===void 0?void 0:t.toLiveInlineCompletion()),w=this.suggestionInlineCompletionSource.state,G=Ng(o,(n=w==null?void 0:w.selectedItem)===null||n===void 0?void 0:n.normalizedInlineCompletion),J=g&&G&&g.insertText.startsWith(G.insertText)&&g.range.equalsRange(G.range);if(!s&&!J)return;const Q=J?g:G||g,ue=J?Q.insertText.length-G.insertText.length:0;return this.toGhostText(Q,ue)}toGhostText(e,t){const n=this.editor.getOptions().get(108).previewMode;return e?f_(e,this.editor.getModel(),n,this.editor.getPosition(),t)||new d_(e.range.endLineNumber,[],this.minReservedLineCount):void 0}};Ep=qw([eS(2,bi.p)],Ep);function tS(p){return p.reduce((e,t)=>e+t,0)}var nS=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},iS=function(p,e){return function(t,n){e(t,n,p)}},sS=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};class oS extends wt.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new ni.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.hasCachedGhostText=!1,this.currentModelRef=this._register(new wt.XK)}get targetModel(){var e;return(e=this.currentModelRef.value)===null||e===void 0?void 0:e.object}setTargetModel(e){var t;((t=this.currentModelRef.value)===null||t===void 0?void 0:t.object)!==e&&(this.currentModelRef.clear(),this.currentModelRef.value=e?vb(e,e.onDidChange(()=>{this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire()})):void 0,this.hasCachedGhostText=!1,this.onDidChangeEmitter.fire())}get ghostText(){var e,t;return this.hasCachedGhostText||(this.cachedGhostText=(t=(e=this.currentModelRef.value)===null||e===void 0?void 0:e.object)===null||t===void 0?void 0:t.ghostText,this.hasCachedGhostText=!0),this.cachedGhostText}setExpanded(e){var t;(t=this.targetModel)===null||t===void 0||t.setExpanded(e)}get minReservedLineCount(){return this.targetModel?this.targetModel.minReservedLineCount:0}}let Dp=class extends oS{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.sharedCache=this._register(new rS),this.suggestWidgetAdapterModel=this._register(this.instantiationService.createInstance(Ep,this.editor,this.sharedCache)),this.inlineCompletionsModel=this._register(this.instantiationService.createInstance(gp,this.editor,this.sharedCache)),this._register(this.suggestWidgetAdapterModel.onDidChange(()=>{this.updateModel()})),this.updateModel()}get activeInlineCompletionsModel(){if(this.targetModel===this.inlineCompletionsModel)return this.inlineCompletionsModel}updateModel(){this.setTargetModel(this.suggestWidgetAdapterModel.isActive?this.suggestWidgetAdapterModel:this.inlineCompletionsModel),this.inlineCompletionsModel.setActive(this.targetModel===this.inlineCompletionsModel)}shouldShowHoverAt(e){var t;const n=(t=this.activeInlineCompletionsModel)===null||t===void 0?void 0:t.ghostText;return n?n.parts.some(s=>e.containsPosition(new ln.L(n.lineNumber,s.column))):!1}triggerInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.trigger(un.bw.Explicit)}commitInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.commitCurrentSuggestion()}hideInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.hide()}showNextInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.showNext()}showPreviousInlineCompletion(){var e;(e=this.activeInlineCompletionsModel)===null||e===void 0||e.showPrevious()}hasMultipleInlineCompletions(){var e;return sS(this,void 0,void 0,function*(){const t=yield(e=this.activeInlineCompletionsModel)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};Dp=nS([iS(1,ki.TG)],Dp);class rS extends wt.JT{constructor(){super(...arguments),this.onDidChangeEmitter=new ni.Q5,this.onDidChange=this.onDidChangeEmitter.event,this.cache=this._register(new wt.XK)}get value(){return this.cache.value}setValue(e,t,n){this.cache.value=new Ab(t,e,()=>this.onDidChangeEmitter.fire(),n)}clearAndLeak(){return this.cache.clearAndLeak()}clear(){this.cache.clear()}}var aS=l(37186),D_=l(10501),xp=l(48569),Og=l(63908),lS=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},x_=function(p,e){return function(t,n){e(t,n,p)}},Ip;const I_=(Ip=window.trustedTypes)===null||Ip===void 0?void 0:Ip.createPolicy("editorGhostText",{createHTML:p=>p});let Np=class extends wt.JT{constructor(e,t,n,s){super(),this.editor=e,this.model=t,this.instantiationService=n,this.languageService=s,this.disposed=!1,this.partsWidget=this._register(this.instantiationService.createInstance(dS,this.editor)),this.additionalLinesWidget=this._register(new uS(this.editor,this.languageService.languageIdCodec)),this.viewMoreContentWidget=void 0,this.replacementDecoration=this._register(new cS(this.editor)),this._register(this.editor.onDidChangeConfiguration(o=>{(o.hasChanged(29)||o.hasChanged(107)||o.hasChanged(90)||o.hasChanged(85)||o.hasChanged(47)||o.hasChanged(46)||o.hasChanged(61))&&this.update()})),this._register((0,wt.OF)(()=>{var o;this.disposed=!0,this.update(),(o=this.viewMoreContentWidget)===null||o===void 0||o.dispose(),this.viewMoreContentWidget=void 0})),this._register(t.onDidChange(()=>{this.update()})),this.update()}shouldShowHoverAtViewZone(e){return this.additionalLinesWidget.viewZoneId===e}update(){var e;const t=this.model.ghostText;if(!this.editor.hasModel()||!t||this.disposed){this.partsWidget.clear(),this.additionalLinesWidget.clear(),this.replacementDecoration.clear();return}const n=new Array,s=new Array;function o(J,Q){if(s.length>0){const ue=s[s.length-1];Q&&ue.decorations.push(new xp.Kp(ue.content.length+1,ue.content.length+1+J[0].length,Q,0)),ue.content+=J[0],J=J.slice(1)}for(const ue of J)s.push({content:ue,decorations:Q?[new xp.Kp(1,ue.length+1,Q,0)]:[]})}t instanceof u_?this.replacementDecoration.setDecorations([{range:new _t.e(t.lineNumber,t.columnStart,t.lineNumber,t.columnStart+t.length),options:{inlineClassName:"inline-completion-text-to-replace",description:"GhostTextReplacement"}}]):this.replacementDecoration.setDecorations([]);const g=this.editor.getModel().getLineContent(t.lineNumber);let w,G=0;for(const J of t.parts){let Q=J.lines;w===void 0?(n.push({column:J.column,text:Q[0],preview:J.preview}),Q=Q.slice(1)):o([g.substring(G,J.column-1)],void 0),Q.length>0&&(o(Q,"ghost-text"),w===void 0&&J.column<=g.length&&(w=J.column)),G=J.column-1}w!==void 0&&o([g.substring(G)],void 0),this.partsWidget.setParts(t.lineNumber,n,w!==void 0?{column:w,length:g.length+1-w}:void 0),this.additionalLinesWidget.updateLines(t.lineNumber,s,t.additionalReservedLineCount),(e=this.viewMoreContentWidget)===null||e===void 0||e.dispose(),this.viewMoreContentWidget=void 0}renderViewMoreLines(e,t,n){const s=this.editor.getOption(46),o=document.createElement("div");o.className="suggest-preview-additional-widget",(0,Tl.N)(o,s);const g=document.createElement("span");g.className="content-spacer",g.append(t),o.append(g);const w=document.createElement("span");w.className="content-newline suggest-preview-text",w.append("\u23CE  "),o.append(w);const G=new wt.SL,J=document.createElement("div");return J.className="button suggest-preview-text",J.append(`+${n} lines\u2026`),G.add(we.mu(J,"mousedown",Q=>{var ue;(ue=this.model)===null||ue===void 0||ue.setExpanded(!0),Q.preventDefault(),this.editor.focus()})),o.append(J),new fS(this.editor,e,o,G)}};Np=lS([x_(2,ki.TG),x_(3,Yo.O)],Np);class cS{constructor(e){this.editor=e,this.decorationIds=[]}setDecorations(e){this.editor.changeDecorations(t=>{this.decorationIds=t.deltaDecorations(this.decorationIds,e)})}clear(){this.setDecorations([])}dispose(){this.clear()}}class dS{constructor(e){this.editor=e,this.decorationIds=[]}dispose(){this.clear()}clear(){this.editor.changeDecorations(e=>{this.decorationIds=e.deltaDecorations(this.decorationIds,[])})}setParts(e,t,n){if(!this.editor.getModel())return;const o=new Array;n&&o.push({range:_t.e.fromPositions(new ln.L(e,n.column),new ln.L(e,n.column+n.length)),options:{inlineClassName:"ghost-text-hidden",description:"ghost-text-hidden"}}),this.editor.changeDecorations(g=>{this.decorationIds=g.deltaDecorations(this.decorationIds,t.map(w=>({range:_t.e.fromPositions(new ln.L(e,w.column)),options:{description:"ghost-text",after:{content:w.text,inlineClassName:w.preview?"ghost-text-decoration-preview":"ghost-text-decoration",cursorStops:di.RM.Left},showIfCollapsed:!0}})).concat(o))})}}class uS{constructor(e,t){this.editor=e,this.languageIdCodec=t,this._viewZoneId=void 0}get viewZoneId(){return this._viewZoneId}dispose(){this.clear()}clear(){this.editor.changeViewZones(e=>{this._viewZoneId&&(e.removeZone(this._viewZoneId),this._viewZoneId=void 0)})}updateLines(e,t,n){const s=this.editor.getModel();if(!s)return;const{tabSize:o}=s.getOptions();this.editor.changeViewZones(g=>{this._viewZoneId&&(g.removeZone(this._viewZoneId),this._viewZoneId=void 0);const w=Math.max(t.length,n);if(w>0){const G=document.createElement("div");hS(G,o,t,this.editor.getOptions(),this.languageIdCodec),this._viewZoneId=g.addZone({afterLineNumber:e,heightInLines:w,domNode:G,afterColumnAffinity:1})}})}}function hS(p,e,t,n,s){const o=n.get(29),g=n.get(107),w="none",G=n.get(85),J=n.get(47),Q=n.get(46),ue=n.get(61),Ne=(0,D_.l$)(1e4);Ne.appendASCIIString('<div class="suggest-preview-text">');for(let bt=0,$t=t.length;bt<$t;bt++){const Cn=t[bt],Yn=Cn.content;Ne.appendASCIIString('<div class="view-line'),Ne.appendASCIIString('" style="top:'),Ne.appendASCIIString(String(bt*ue)),Ne.appendASCIIString('px;width:1000000px;">');const ei=fi.$i(Yn),Ti=fi.Ut(Yn),Ji=aS.A.createEmpty(Yn,s);(0,Og.d1)(new Og.IJ(Q.isMonospace&&!o,Q.canUseHalfwidthRightwardsArrow,Yn,!1,ei,Ti,0,Ji,Cn.decorations,e,0,Q.spaceWidth,Q.middotWidth,Q.wsmiddotWidth,g,w,G,J!==ho.n0.OFF,null),Ne),Ne.appendASCIIString("</div>")}Ne.appendASCIIString("</div>"),(0,Tl.N)(p,Q);const st=Ne.build(),mt=I_?I_.createHTML(st):st;p.innerHTML=mt}class fS extends wt.JT{constructor(e,t,n,s){super(),this.editor=e,this.position=t,this.domNode=n,this.allowEditorOverflow=!1,this.suppressMouseDown=!1,this._register(s),this._register((0,wt.OF)(()=>{this.editor.removeContentWidget(this)})),this.editor.addContentWidget(this)}getId(){return"editor.widget.viewMoreLinesWidget"}getDomNode(){return this.domNode}getPosition(){return{position:this.position,preference:[0]}}}(0,dt.Ic)((p,e)=>{const t=p.getColor(dn.N5);t&&(e.addRule(`.monaco-editor .ghost-text-decoration { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { color: ${t.toString()} !important; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { color: ${t.toString()} !important; }`));const n=p.getColor(dn.IO);n&&(e.addRule(`.monaco-editor .ghost-text-decoration { background-color: ${n.toString()}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { background-color: ${n.toString()}; }`),e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { background-color: ${n.toString()}; }`));const s=p.getColor(dn.x3);s&&(e.addRule(`.monaco-editor .suggest-preview-text .ghost-text { border: 1px solid ${s}; }`),e.addRule(`.monaco-editor .ghost-text-decoration { border: 1px solid ${s}; }`),e.addRule(`.monaco-editor .ghost-text-decoration-preview { border: 1px solid ${s}; }`))});var N_=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Tp=function(p,e){return function(t,n){e(t,n,p)}},Fg=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};let rr=class mv extends wt.JT{constructor(e,t){super(),this.editor=e,this.instantiationService=t,this.triggeredExplicitly=!1,this.activeController=this._register(new wt.XK),this.activeModelDidChangeEmitter=this._register(new ni.Q5),this._register(this.editor.onDidChangeModel(()=>{this.updateModelController()})),this._register(this.editor.onDidChangeConfiguration(n=>{n.hasChanged(108)&&this.updateModelController(),n.hasChanged(57)&&this.updateModelController()})),this.updateModelController()}static get(e){return e.getContribution(mv.ID)}get activeModel(){var e;return(e=this.activeController.value)===null||e===void 0?void 0:e.model}updateModelController(){const e=this.editor.getOption(108),t=this.editor.getOption(57);this.activeController.value=void 0,this.activeController.value=this.editor.hasModel()&&(e.preview||t.enabled||this.triggeredExplicitly)?this.instantiationService.createInstance(kp,this.editor):void 0,this.activeModelDidChangeEmitter.fire()}shouldShowHoverAt(e){var t;return((t=this.activeModel)===null||t===void 0?void 0:t.shouldShowHoverAt(e))||!1}shouldShowHoverAtViewZone(e){var t,n;return((n=(t=this.activeController.value)===null||t===void 0?void 0:t.widget)===null||n===void 0?void 0:n.shouldShowHoverAtViewZone(e))||!1}trigger(){var e;this.triggeredExplicitly=!0,this.activeController.value||this.updateModelController(),(e=this.activeModel)===null||e===void 0||e.triggerInlineCompletion()}commit(){var e;(e=this.activeModel)===null||e===void 0||e.commitInlineCompletion()}hide(){var e;(e=this.activeModel)===null||e===void 0||e.hideInlineCompletion()}showNextInlineCompletion(){var e;(e=this.activeModel)===null||e===void 0||e.showNextInlineCompletion()}showPreviousInlineCompletion(){var e;(e=this.activeModel)===null||e===void 0||e.showPreviousInlineCompletion()}hasMultipleInlineCompletions(){var e;return Fg(this,void 0,void 0,function*(){const t=yield(e=this.activeModel)===null||e===void 0?void 0:e.hasMultipleInlineCompletions();return t!==void 0?t:!1})}};rr.inlineSuggestionVisible=new ht.uy("inlineSuggestionVisible",!1,_e.NC("inlineSuggestionVisible","Whether an inline suggestion is visible")),rr.inlineSuggestionHasIndentation=new ht.uy("inlineSuggestionHasIndentation",!1,_e.NC("inlineSuggestionHasIndentation","Whether the inline suggestion starts with whitespace")),rr.inlineSuggestionHasIndentationLessThanTabSize=new ht.uy("inlineSuggestionHasIndentationLessThanTabSize",!0,_e.NC("inlineSuggestionHasIndentationLessThanTabSize","Whether the inline suggestion starts with whitespace that is less than what would be inserted by tab")),rr.ID="editor.contrib.ghostTextController",rr=N_([Tp(1,ki.TG)],rr);class gS{constructor(e){this.contextKeyService=e,this.inlineCompletionVisible=rr.inlineSuggestionVisible.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentation=rr.inlineSuggestionHasIndentation.bindTo(this.contextKeyService),this.inlineCompletionSuggestsIndentationLessThanTabSize=rr.inlineSuggestionHasIndentationLessThanTabSize.bindTo(this.contextKeyService)}}let kp=class extends wt.JT{constructor(e,t,n){super(),this.editor=e,this.instantiationService=t,this.contextKeyService=n,this.contextKeys=new gS(this.contextKeyService),this.model=this._register(this.instantiationService.createInstance(Dp,this.editor)),this.widget=this._register(this.instantiationService.createInstance(Np,this.editor,this.model)),this._register((0,wt.OF)(()=>{this.contextKeys.inlineCompletionVisible.set(!1),this.contextKeys.inlineCompletionSuggestsIndentation.set(!1),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(!0)})),this._register(this.model.onDidChange(()=>{this.updateContextKeys()})),this.updateContextKeys()}updateContextKeys(){var e;this.contextKeys.inlineCompletionVisible.set(((e=this.model.activeInlineCompletionsModel)===null||e===void 0?void 0:e.ghostText)!==void 0);let t=!1,n=!0;const s=this.model.inlineCompletionsModel.ghostText;if(!!this.model.activeInlineCompletionsModel&&s&&s.parts.length>0){const{column:o,lines:g}=s.parts[0],w=g[0],G=this.editor.getModel().getLineIndentColumn(s.lineNumber);if(o<=G){let Q=(0,fi.LC)(w);Q===-1&&(Q=w.length-1),t=Q>0;const ue=this.editor.getModel().getOptions().tabSize;n=_b.i.visibleColumnFromColumn(w,Q+1,ue)<ue}}this.contextKeys.inlineCompletionSuggestsIndentation.set(t),this.contextKeys.inlineCompletionSuggestsIndentationLessThanTabSize.set(n)}};kp=N_([Tp(1,ki.TG),Tp(2,ht.i6)],kp);class nh extends je.R6{constructor(){super({id:nh.ID,label:_e.NC("action.inlineSuggest.showNext","Show Next Inline Suggestion"),alias:"Show Next Inline Suggestion",precondition:ht.Ao.and(vt.u.writable,rr.inlineSuggestionVisible),kbOpts:{weight:100,primary:601}})}run(e,t){return Fg(this,void 0,void 0,function*(){const n=rr.get(t);n&&(n.showNextInlineCompletion(),t.focus())})}}nh.ID="editor.action.inlineSuggest.showNext";class ih extends je.R6{constructor(){super({id:ih.ID,label:_e.NC("action.inlineSuggest.showPrevious","Show Previous Inline Suggestion"),alias:"Show Previous Inline Suggestion",precondition:ht.Ao.and(vt.u.writable,rr.inlineSuggestionVisible),kbOpts:{weight:100,primary:599}})}run(e,t){return Fg(this,void 0,void 0,function*(){const n=rr.get(t);n&&(n.showPreviousInlineCompletion(),t.focus())})}}ih.ID="editor.action.inlineSuggest.showPrevious";class mS extends je.R6{constructor(){super({id:"editor.action.inlineSuggest.trigger",label:_e.NC("action.inlineSuggest.trigger","Trigger Inline Suggestion"),alias:"Trigger Inline Suggestion",precondition:vt.u.writable})}run(e,t){return Fg(this,void 0,void 0,function*(){const n=rr.get(t);n&&n.trigger()})}}var pS=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},sh=function(p,e){return function(t,n){e(t,n,p)}};class _S{constructor(e,t,n){this.owner=e,this.range=t,this.controller=n}isValidForHoverAnchor(e){return e.type===1&&this.range.startColumn<=e.range.startColumn&&this.range.endColumn>=e.range.endColumn}hasMultipleSuggestions(){return this.controller.hasMultipleInlineCompletions()}get commands(){var e,t,n;return((n=(t=(e=this.controller.activeModel)===null||e===void 0?void 0:e.activeInlineCompletionsModel)===null||t===void 0?void 0:t.completionSession.value)===null||n===void 0?void 0:n.commands)||[]}}let Mp=class{constructor(e,t,n,s,o,g,w){this._editor=e,this._commandService=t,this._menuService=n,this._contextKeyService=s,this._languageService=o,this._openerService=g,this.accessibilityService=w,this.hoverOrdinal=3}suggestHoverAnchor(e){const t=rr.get(this._editor);if(!t)return null;const n=e.target;if(n.type===8){const s=n.detail;if(t.shouldShowHoverAtViewZone(s.viewZoneId))return new Gi(1e3,this,_t.e.fromPositions(s.positionBefore||s.position,s.positionBefore||s.position))}return n.type===7&&t.shouldShowHoverAt(n.range)?new Gi(1e3,this,n.range):n.type===6&&n.detail.mightBeForeignElement&&t.shouldShowHoverAt(n.range)?new Gi(1e3,this,n.range):null}computeSync(e,t){const n=rr.get(this._editor);return n&&n.shouldShowHoverAt(e.range)?[new _S(this,e.range,n)]:[]}renderHoverParts(e,t){const n=new wt.SL,s=t[0];this.accessibilityService.isScreenReaderOptimized()&&this.renderScreenReaderText(e,s,n);const o=n.add(this._menuService.createMenu(Ve.eH.InlineCompletionsActions,this._contextKeyService)),g=e.statusBar.addAction({label:_e.NC("showNextInlineSuggestion","Next"),commandId:nh.ID,run:()=>this._commandService.executeCommand(nh.ID)}),w=e.statusBar.addAction({label:_e.NC("showPreviousInlineSuggestion","Previous"),commandId:ih.ID,run:()=>this._commandService.executeCommand(ih.ID)});e.statusBar.addAction({label:_e.NC("acceptInlineSuggestion","Accept"),commandId:Ig,run:()=>this._commandService.executeCommand(Ig)});const G=[g,w];for(const J of G)J.setEnabled(!1);s.hasMultipleSuggestions().then(J=>{for(const Q of G)Q.setEnabled(J)});for(const J of s.commands)e.statusBar.addAction({label:J.title,commandId:J.id,run:()=>this._commandService.executeCommand(J.id,...J.arguments||[])});for(const[J,Q]of o.getActions())for(const ue of Q)ue instanceof Ve.U8&&e.statusBar.addAction({label:ue.label,commandId:ue.item.id,run:()=>this._commandService.executeCommand(ue.item.id)});return n}renderScreenReaderText(e,t,n){var s,o;const g=we.$,w=g("div.hover-row.markdown-hover"),G=we.R3(w,g("div.hover-contents")),J=n.add(new Gl({editor:this._editor},this._languageService,this._openerService)),Q=Ne=>{n.add(J.onDidRenderAsync(()=>{G.className="hover-contents code-hover-contents",e.onContentsChanged()}));const st=_e.NC("inlineSuggestionFollows","Suggestion:"),mt=n.add(J.render(new Wn.W5().appendText(st).appendCodeblock("text",Ne)));G.replaceChildren(mt.element)},ue=(o=(s=t.controller.activeModel)===null||s===void 0?void 0:s.inlineCompletionsModel)===null||o===void 0?void 0:o.ghostText;if(ue){const Ne=this._editor.getModel().getLineContent(ue.lineNumber);Q(ue.renderForScreenReader(Ne))}e.fragment.appendChild(w)}};Mp=pS([sh(1,gi.Hy),sh(2,Ve.co),sh(3,ht.i6),sh(4,Yo.O),sh(5,gr.v4),sh(6,qr.F)],Mp),(0,je._K)(rr.ID,rr),(0,je.Qr)(mS),(0,je.Qr)(nh),(0,je.Qr)(ih),Ui.register(Mp);const T_=je._l.bindToContribution(rr.get),Rp=new T_({id:Ig,precondition:rr.inlineSuggestionVisible,handler(p){p.commit(),p.editor.focus()}});(0,je.fK)(Rp),zn.W.registerKeybindingRule({primary:2,weight:200,id:Rp.id,when:ht.Ao.and(Rp.precondition,vt.u.tabMovesFocus.toNegated(),rr.inlineSuggestionHasIndentationLessThanTabSize)}),(0,je.fK)(new T_({id:"editor.action.inlineSuggest.hide",precondition:rr.inlineSuggestionVisible,kbOpts:{weight:100,primary:9},handler(p){p.hide()}}));var oh=l(34621);function Oa(p,e){let t=0;for(let n=0;n<p.length;n++)p.charAt(n)==="	"?t+=e:t++;return t}function pf(p,e,t){p=p<0?0:p;let n="";if(!t){const s=Math.floor(p/e);p=p%e;for(let o=0;o<s;o++)n+="	"}for(let s=0;s<p;s++)n+=" ";return n}var k_=l(69460),ru=l(6547),vS=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},CS=function(p,e){return function(t,n){e(t,n,p)}};function M_(p,e,t,n,s){if(p.getLineCount()===1&&p.getLineMaxColumn(1)===1)return[];const o=e.getLanguageConfiguration(p.getLanguageId()).indentationRules;if(!o)return[];for(n=Math.min(n,p.getLineCount());t<=n&&o.unIndentedLinePattern;){const $t=p.getLineContent(t);if(!o.unIndentedLinePattern.test($t))break;t++}if(t>n-1)return[];const{tabSize:g,indentSize:w,insertSpaces:G}=p.getOptions(),J=($t,Cn)=>(Cn=Cn||1,oh.U.shiftIndent($t,$t.length+Cn,g,w,G)),Q=($t,Cn)=>(Cn=Cn||1,oh.U.unshiftIndent($t,$t.length+Cn,g,w,G)),ue=[];let Ne;const st=p.getLineContent(t);let mt=st;if(s!=null){Ne=s;const $t=fi.V8(st);mt=Ne+st.substring($t.length),o.decreaseIndentPattern&&o.decreaseIndentPattern.test(mt)&&(Ne=Q(Ne),mt=Ne+st.substring($t.length)),st!==mt&&ue.push(xn.h.replaceMove(new qn.Y(t,1,t,$t.length+1),(0,k_.x)(Ne,w,G)))}else Ne=fi.V8(st);let bt=Ne;o.increaseIndentPattern&&o.increaseIndentPattern.test(mt)?(bt=J(bt),Ne=J(Ne)):o.indentNextLinePattern&&o.indentNextLinePattern.test(mt)&&(bt=J(bt)),t++;for(let $t=t;$t<=n;$t++){const Cn=p.getLineContent($t),Yn=fi.V8(Cn),ei=bt+Cn.substring(Yn.length);o.decreaseIndentPattern&&o.decreaseIndentPattern.test(ei)&&(bt=Q(bt),Ne=Q(Ne)),Yn!==bt&&ue.push(xn.h.replaceMove(new qn.Y($t,1,$t,Yn.length+1),(0,k_.x)(bt,w,G))),!(o.unIndentedLinePattern&&o.unIndentedLinePattern.test(Cn))&&(o.increaseIndentPattern&&o.increaseIndentPattern.test(ei)?(Ne=J(Ne),bt=Ne):o.indentNextLinePattern&&o.indentNextLinePattern.test(ei)?bt=J(bt):bt=Ne)}return ue}class Bg extends je.R6{constructor(){super({id:Bg.ID,label:_e.NC("indentationToSpaces","Convert Indentation to Spaces"),alias:"Convert Indentation to Spaces",precondition:vt.u.writable})}run(e,t){const n=t.getModel();if(!n)return;const s=n.getOptions(),o=t.getSelection();if(!o)return;const g=new yS(o,s.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[g]),t.pushUndoStop(),n.updateOptions({insertSpaces:!0})}}Bg.ID="editor.action.indentationToSpaces";class Wg extends je.R6{constructor(){super({id:Wg.ID,label:_e.NC("indentationToTabs","Convert Indentation to Tabs"),alias:"Convert Indentation to Tabs",precondition:vt.u.writable})}run(e,t){const n=t.getModel();if(!n)return;const s=n.getOptions(),o=t.getSelection();if(!o)return;const g=new LS(o,s.tabSize);t.pushUndoStop(),t.executeCommands(this.id,[g]),t.pushUndoStop(),n.updateOptions({insertSpaces:!1})}}Wg.ID="editor.action.indentationToTabs";class R_ extends je.R6{constructor(e,t){super(t),this.insertSpaces=e}run(e,t){const n=e.get(yo.eJ),s=e.get(Ks.q),o=t.getModel();if(!o)return;const g=s.getCreationOptions(o.getLanguageId(),o.uri,o.isForSimpleWidget),w=[1,2,3,4,5,6,7,8].map(J=>({id:J.toString(),label:J.toString(),description:J===g.tabSize?_e.NC("configuredTabSize","Configured Tab Size"):void 0})),G=Math.min(o.getOptions().tabSize-1,7);setTimeout(()=>{n.pick(w,{placeHolder:_e.NC({key:"selectTabWidth",comment:["Tab corresponds to the tab key"]},"Select Tab Size for Current File"),activeItem:w[G]}).then(J=>{J&&o&&!o.isDisposed()&&o.updateOptions({tabSize:parseInt(J.label,10),insertSpaces:this.insertSpaces})})},50)}}class Vg extends R_{constructor(){super(!1,{id:Vg.ID,label:_e.NC("indentUsingTabs","Indent Using Tabs"),alias:"Indent Using Tabs",precondition:void 0})}}Vg.ID="editor.action.indentUsingTabs";class Hg extends R_{constructor(){super(!0,{id:Hg.ID,label:_e.NC("indentUsingSpaces","Indent Using Spaces"),alias:"Indent Using Spaces",precondition:void 0})}}Hg.ID="editor.action.indentUsingSpaces";class zg extends je.R6{constructor(){super({id:zg.ID,label:_e.NC("detectIndentation","Detect Indentation from Content"),alias:"Detect Indentation from Content",precondition:void 0})}run(e,t){const n=e.get(Ks.q),s=t.getModel();if(!s)return;const o=n.getCreationOptions(s.getLanguageId(),s.uri,s.isForSimpleWidget);s.detectIndentation(o.insertSpaces,o.tabSize)}}zg.ID="editor.action.detectIndentation";class bS extends je.R6{constructor(){super({id:"editor.action.reindentlines",label:_e.NC("editor.reindentlines","Reindent Lines"),alias:"Reindent Lines",precondition:vt.u.writable})}run(e,t){const n=e.get(Lo.c_),s=t.getModel();if(!s)return;const o=M_(s,n,1,s.getLineCount());o.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,o),t.pushUndoStop())}}class wS extends je.R6{constructor(){super({id:"editor.action.reindentselectedlines",label:_e.NC("editor.reindentselectedlines","Reindent Selected Lines"),alias:"Reindent Selected Lines",precondition:vt.u.writable})}run(e,t){const n=e.get(Lo.c_),s=t.getModel();if(!s)return;const o=t.getSelections();if(o===null)return;const g=[];for(const w of o){let G=w.startLineNumber,J=w.endLineNumber;if(G!==J&&w.endColumn===1&&J--,G===1){if(G===J)continue}else G--;const Q=M_(s,n,G,J);g.push(...Q)}g.length>0&&(t.pushUndoStop(),t.executeEdits(this.id,g),t.pushUndoStop())}}class SS{constructor(e,t){this._initialSelection=t,this._edits=[],this._selectionId=null;for(const n of e)n.range&&typeof n.text=="string"&&this._edits.push(n)}getEditOperations(e,t){for(const s of this._edits)t.addEditOperation(_t.e.lift(s.range),s.text);let n=!1;Array.isArray(this._edits)&&this._edits.length===1&&this._initialSelection.isEmpty()&&(this._edits[0].range.startColumn===this._initialSelection.endColumn&&this._edits[0].range.startLineNumber===this._initialSelection.endLineNumber?(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!0)):this._edits[0].range.endColumn===this._initialSelection.startColumn&&this._edits[0].range.endLineNumber===this._initialSelection.startLineNumber&&(n=!0,this._selectionId=t.trackSelection(this._initialSelection,!1))),n||(this._selectionId=t.trackSelection(this._initialSelection))}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}let _f=class{constructor(e,t){this.editor=e,this._languageConfigurationService=t,this.callOnDispose=new wt.SL,this.callOnModel=new wt.SL,this.callOnDispose.add(e.onDidChangeConfiguration(()=>this.update())),this.callOnDispose.add(e.onDidChangeModel(()=>this.update())),this.callOnDispose.add(e.onDidChangeModelLanguage(()=>this.update()))}update(){this.callOnModel.clear(),!(this.editor.getOption(9)<4||this.editor.getOption(50))&&(!this.editor.hasModel()||this.callOnModel.add(this.editor.onDidPaste(({range:e})=>{this.trigger(e)})))}trigger(e){const t=this.editor.getSelections();if(t===null||t.length>1)return;const n=this.editor.getModel();if(!n||!n.tokenization.isCheapToTokenize(e.getStartPosition().lineNumber))return;const s=this.editor.getOption(9),{tabSize:o,indentSize:g,insertSpaces:w}=n.getOptions(),G=[],J={shiftIndent:st=>oh.U.shiftIndent(st,st.length+1,o,g,w),unshiftIndent:st=>oh.U.unshiftIndent(st,st.length+1,o,g,w)};let Q=e.startLineNumber;for(;Q<=e.endLineNumber;){if(this.shouldIgnoreLine(n,Q)){Q++;continue}break}if(Q>e.endLineNumber)return;let ue=n.getLineContent(Q);if(!/\S/.test(ue.substring(0,e.startColumn-1))){const st=(0,ru.n8)(s,n,n.getLanguageId(),Q,J,this._languageConfigurationService);if(st!==null){const mt=fi.V8(ue),bt=Oa(st,o),$t=Oa(mt,o);if(bt!==$t){const Cn=pf(bt,o,w);G.push({range:new _t.e(Q,1,Q,mt.length+1),text:Cn}),ue=Cn+ue.substr(mt.length)}else{const Cn=(0,ru.tI)(n,Q,this._languageConfigurationService);if(Cn===0||Cn===8)return}}}const Ne=Q;for(;Q<e.endLineNumber;){if(!/\S/.test(n.getLineContent(Q+1))){Q++;continue}break}if(Q!==e.endLineNumber){const st={tokenization:{getLineTokens:bt=>n.tokenization.getLineTokens(bt),getLanguageId:()=>n.getLanguageId(),getLanguageIdAtPosition:(bt,$t)=>n.getLanguageIdAtPosition(bt,$t)},getLineContent:bt=>bt===Ne?ue:n.getLineContent(bt)},mt=(0,ru.n8)(s,st,n.getLanguageId(),Q+1,J,this._languageConfigurationService);if(mt!==null){const bt=Oa(mt,o),$t=Oa(fi.V8(n.getLineContent(Q+1)),o);if(bt!==$t){const Cn=bt-$t;for(let Yn=Q+1;Yn<=e.endLineNumber;Yn++){const ei=n.getLineContent(Yn),Ti=fi.V8(ei),to=Oa(Ti,o)+Cn,Ls=pf(to,o,w);Ls!==Ti&&G.push({range:new _t.e(Yn,1,Yn,Ti.length+1),text:Ls})}}}}if(G.length>0){this.editor.pushUndoStop();const st=new SS(G,this.editor.getSelection());this.editor.executeCommand("autoIndentOnPaste",st),this.editor.pushUndoStop()}}shouldIgnoreLine(e,t){e.tokenization.forceTokenization(t);const n=e.getLineFirstNonWhitespaceColumn(t);if(n===0)return!0;const s=e.tokenization.getLineTokens(t);if(s.getCount()>0){const o=s.findTokenIndexAtOffset(n);if(o>=0&&s.getStandardTokenType(o)===1)return!0}return!1}dispose(){this.callOnDispose.dispose(),this.callOnModel.dispose()}};_f.ID="editor.contrib.autoIndentOnPaste",_f=vS([CS(1,Lo.c_)],_f);function A_(p,e,t,n){if(p.getLineCount()===1&&p.getLineMaxColumn(1)===1)return;let s="";for(let g=0;g<t;g++)s+=" ";const o=new RegExp(s,"gi");for(let g=1,w=p.getLineCount();g<=w;g++){let G=p.getLineFirstNonWhitespaceColumn(g);if(G===0&&(G=p.getLineMaxColumn(g)),G===1)continue;const J=new _t.e(g,1,g,G),Q=p.getValueInRange(J),ue=n?Q.replace(/\t/ig,s):Q.replace(o,"	");e.addEditOperation(J,ue)}}class yS{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),A_(e,t,this.tabSize,!0)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}class LS{constructor(e,t){this.selection=e,this.tabSize=t,this.selectionId=null}getEditOperations(e,t){this.selectionId=t.trackSelection(this.selection),A_(e,t,this.tabSize,!1)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}}(0,je._K)(_f.ID,_f),(0,je.Qr)(Bg),(0,je.Qr)(Wg),(0,je.Qr)(Vg),(0,je.Qr)(Hg),(0,je.Qr)(zg),(0,je.Qr)(bS),(0,je.Qr)(wS);var Ug=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};class P_{constructor(e,t){this.range=e,this.direction=t}}class Ap{constructor(e,t,n){this.hint=e,this.anchor=t,this.provider=n,this._isResolved=!1}with(e){const t=new Ap(this.hint,e.anchor,this.provider);return t._isResolved=this._isResolved,t._currentResolve=this._currentResolve,t}resolve(e){return Ug(this,void 0,void 0,function*(){if(typeof this.provider.resolveInlayHint=="function"){if(this._currentResolve)return yield this._currentResolve,e.isCancellationRequested?void 0:this.resolve(e);this._isResolved||(this._currentResolve=this._doResolve(e).finally(()=>this._currentResolve=void 0)),yield this._currentResolve}})}_doResolve(e){var t,n;return Ug(this,void 0,void 0,function*(){try{const s=yield Promise.resolve(this.provider.resolveInlayHint(this.hint,e));this.hint.tooltip=(t=s==null?void 0:s.tooltip)!==null&&t!==void 0?t:this.hint.tooltip,this.hint.label=(n=s==null?void 0:s.label)!==null&&n!==void 0?n:this.hint.label,this._isResolved=!0}catch(s){(0,Ei.Cp)(s),this._isResolved=!1}})}}class vf{constructor(e,t,n){this._disposables=new wt.SL,this.ranges=e,this.provider=new Set;const s=[];for(const[o,g]of t){this._disposables.add(o),this.provider.add(g);for(const w of o.hints){const G=n.validatePosition(w.position);let J="before";const Q=vf._getRangeAtPosition(n,G);let ue;Q.getStartPosition().isBefore(G)?(ue=_t.e.fromPositions(Q.getStartPosition(),G),J="after"):(ue=_t.e.fromPositions(G,Q.getEndPosition()),J="before"),s.push(new Ap(w,new P_(ue,J),g))}}this.items=s.sort((o,g)=>ln.L.compare(o.hint.position,g.hint.position))}static create(e,t,n,s){return Ug(this,void 0,void 0,function*(){const o=[],g=e.ordered(t).reverse().map(w=>n.map(G=>Ug(this,void 0,void 0,function*(){try{const J=yield w.provideInlayHints(t,G,s);J!=null&&J.hints.length&&o.push([J,w])}catch(J){(0,Ei.Cp)(J)}})));if(yield Promise.all(g.flat()),s.isCancellationRequested||t.isDisposed())throw new Ei.FU;return new vf(n,o,t)})}dispose(){this._disposables.dispose()}static _getRangeAtPosition(e,t){const n=t.lineNumber,s=e.getWordAtPosition(t);if(s)return new _t.e(n,s.startColumn,n,s.endColumn);e.tokenization.tokenizeIfCheap(n);const o=e.tokenization.getLineTokens(n),g=t.column-1,w=o.findTokenIndexAtOffset(g);let G=o.getStartOffset(w),J=o.getEndOffset(w);return J-G===1&&(G===g&&w>1?(G=o.getStartOffset(w-1),J=o.getEndOffset(w-1)):J===g&&w<o.getCount()-1&&(G=o.getStartOffset(w+1),J=o.getEndOffset(w+1))),new _t.e(n,G+1,n,J+1)}}function ES(p){return Xi.o.from({scheme:is.lg.command,path:p.id,query:p.arguments&&encodeURIComponent(JSON.stringify(p.arguments))}).toString()}var Cf=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};function DS(p,e,t,n){var s;return Cf(this,void 0,void 0,function*(){const o=p.get(Cr.S),g=p.get(B.i),w=p.get(gi.Hy),G=p.get(ki.TG),J=p.get(et.lT);if(yield n.item.resolve(ri.T.None),!n.part.location)return;const Q=n.part.location,ue=[],Ne=new Set(Ve.BH.getMenuItems(Ve.eH.EditorContext).map(mt=>(0,Ve.vr)(mt)?mt.command.id:""));for(const mt of je.Uc.getEditorActions())mt instanceof sa&&Ne.has(mt.id)&&ue.push(new F.aU(mt.id,mt.label,void 0,!0,()=>Cf(this,void 0,void 0,function*(){const bt=yield o.createModelReference(Q.uri);try{yield G.invokeFunction(mt.run.bind(mt),e,new zc(bt.object.textEditorModel,_t.e.getStartPosition(Q.range)))}finally{bt.dispose()}})));if(n.part.command){const{command:mt}=n.part;ue.push(new F.Z0),ue.push(new F.aU(mt.id,mt.title,void 0,!0,()=>Cf(this,void 0,void 0,function*(){var bt;try{yield w.executeCommand(mt.id,...(bt=mt.arguments)!==null&&bt!==void 0?bt:[])}catch($t){J.notify({severity:et.zb.Error,source:n.item.provider.displayName,message:$t})}})))}const st=e.getOption(117);g.showContextMenu({domForShadowRoot:st&&(s=e.getDomNode())!==null&&s!==void 0?s:void 0,getAnchor:()=>{const mt=we.i(t);return{x:mt.left,y:mt.top+mt.height+8}},getActions:()=>ue,onHide:()=>{e.focus()},autoSelectFirstItem:!0})})}function xS(p,e,t,n){return Cf(this,void 0,void 0,function*(){const o=yield p.get(Cr.S).createModelReference(n.uri);yield t.invokeWithinContext(g=>Cf(this,void 0,void 0,function*(){const w=e.hasSideBySideModifier,G=g.get(ht.i6),J=tr.inPeekEditor.getValue(G),Q=!w&&t.getOption(80)&&!J;return new Kl({openToSide:w,openInPeek:Q,muteMessage:!0},{alias:"",label:"",id:"",precondition:void 0}).run(g,t,{model:o.object.textEditorModel,position:_t.e.getStartPosition(n.range)})})),o.dispose()})}var IS=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},rh=function(p,e){return function(t,n){e(t,n,p)}},ah=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};class jg{constructor(){this._entries=new Mi.z6(50)}get(e){const t=jg._key(e);return this._entries.get(t)}set(e,t){const n=jg._key(e);this._entries.set(n,t)}static _key(e){return`${e.uri.toString()}/${e.getVersionId()}`}}const O_=(0,ki.yh)("IInlayHintsCache");(0,Yr.z)(O_,jg,!0);class Pp{constructor(e,t){this.item=e,this.index=t}get part(){const e=this.item.hint.label;return typeof e=="string"?{label:e}:e[this.index]}}class NS{constructor(e,t){this.part=e,this.hasTriggerModifier=t}}let au=class R0{constructor(e,t,n,s,o,g,w){this._editor=e,this._languageFeaturesService=t,this._inlayHintsCache=s,this._commandService=o,this._notificationService=g,this._instaService=w,this._disposables=new wt.SL,this._sessionDisposables=new wt.SL,this._decorationsMetadata=new Map,this._ruleFactory=new Uo.t7(this._editor),this._activeRenderMode=0,this._debounceInfo=n.for(t.inlayHintsProvider,"InlayHint",{min:25}),this._disposables.add(t.inlayHintsProvider.onDidChange(()=>this._update())),this._disposables.add(e.onDidChangeModel(()=>this._update())),this._disposables.add(e.onDidChangeModelLanguage(()=>this._update())),this._disposables.add(e.onDidChangeConfiguration(G=>{G.hasChanged(129)&&this._update()})),this._update()}static get(e){var t;return(t=e.getContribution(R0.ID))!==null&&t!==void 0?t:void 0}dispose(){this._sessionDisposables.dispose(),this._removeAllDecorations(),this._disposables.dispose()}_update(){this._sessionDisposables.clear(),this._removeAllDecorations();const e=this._editor.getOption(129);if(e.enabled==="off")return;const t=this._editor.getModel();if(!t||!this._languageFeaturesService.inlayHintsProvider.has(t))return;const n=this._inlayHintsCache.get(t);n&&this._updateHintsDecorators([t.getFullModelRange()],n),this._sessionDisposables.add((0,wt.OF)(()=>{t.isDisposed()||this._cacheHintsForFastRestore(t)}));let s;const o=new Set,g=new kt.pY(()=>ah(this,void 0,void 0,function*(){const w=Date.now();s==null||s.dispose(!0),s=new ri.A;const G=t.onWillDispose(()=>s==null?void 0:s.cancel());try{const J=s.token,Q=yield vf.create(this._languageFeaturesService.inlayHintsProvider,t,this._getHintsRanges(),J);if(g.delay=this._debounceInfo.update(t,Date.now()-w),J.isCancellationRequested){Q.dispose();return}for(const ue of Q.provider)typeof ue.onDidChangeInlayHints=="function"&&!o.has(ue)&&(o.add(ue),this._sessionDisposables.add(ue.onDidChangeInlayHints(()=>{g.isScheduled()||g.schedule()})));this._sessionDisposables.add(Q),this._updateHintsDecorators(Q.ranges,Q.items),this._cacheHintsForFastRestore(t)}catch(J){(0,Ei.dL)(J)}finally{s.dispose(),G.dispose()}}),this._debounceInfo.get(t));if(this._sessionDisposables.add(g),this._sessionDisposables.add((0,wt.OF)(()=>s==null?void 0:s.dispose(!0))),g.schedule(0),this._sessionDisposables.add(this._editor.onDidScrollChange(w=>{(w.scrollTopChanged||!g.isScheduled())&&g.schedule()})),this._sessionDisposables.add(this._editor.onDidChangeModelContent(w=>{const G=Math.max(g.delay,1250);g.schedule(G)})),e.enabled==="on")this._activeRenderMode=0;else{let w,G;e.enabled==="onUnlessPressed"?(w=0,G=1):(w=1,G=0),this._activeRenderMode=w,this._sessionDisposables.add(we._q.getInstance().event(J=>{if(!this._editor.hasModel())return;const Q=J.altKey&&J.ctrlKey?G:w;if(Q!==this._activeRenderMode){this._activeRenderMode=Q;const ue=this._editor.getModel(),Ne=this._copyInlayHintsWithCurrentAnchor(ue);this._updateHintsDecorators([ue.getFullModelRange()],Ne),g.schedule(0)}}))}this._sessionDisposables.add(this._installDblClickGesture(()=>g.schedule(0))),this._sessionDisposables.add(this._installLinkGesture()),this._sessionDisposables.add(this._installContextMenu())}_installLinkGesture(){const e=new wt.SL,t=e.add(new Vr(this._editor)),n=new wt.SL;return e.add(n),e.add(t.onMouseMoveOrRelevantKeyDown(s=>{const[o]=s,g=this._getInlayHintLabelPart(o),w=this._editor.getModel();if(!g||!w){n.clear();return}const G=new ri.A;n.add((0,wt.OF)(()=>G.dispose(!0))),g.item.resolve(G.token),this._activeInlayHintPart=g.part.command||g.part.location?new NS(g,o.hasTriggerModifier):void 0;const J=g.item.hint.position.lineNumber,Q=new _t.e(J,1,J,w.getLineMaxColumn(J)),ue=this._getInlineHintsForRange(Q);this._updateHintsDecorators([Q],ue),n.add((0,wt.OF)(()=>{this._activeInlayHintPart=void 0,this._updateHintsDecorators([Q],ue)}))})),e.add(t.onCancel(()=>n.clear())),e.add(t.onExecute(s=>ah(this,void 0,void 0,function*(){const o=this._getInlayHintLabelPart(s);if(o){const g=o.part;g.location?this._instaService.invokeFunction(xS,s,this._editor,g.location):un.mY.is(g.command)&&(yield this._invokeCommand(g.command,o.item))}}))),e}_getInlineHintsForRange(e){const t=new Set;for(const n of this._decorationsMetadata.values())e.containsRange(n.item.anchor.range)&&t.add(n.item);return Array.from(t)}_installDblClickGesture(e){return this._editor.onMouseUp(t=>ah(this,void 0,void 0,function*(){if(t.event.detail!==2)return;const n=this._getInlayHintLabelPart(t);if(!!n&&(t.event.preventDefault(),yield n.item.resolve(ri.T.None),(0,$i.Of)(n.item.hint.textEdits))){const s=n.item.hint.textEdits.map(o=>xn.h.replace(_t.e.lift(o.range),o.text));this._editor.executeEdits("inlayHint.default",s),e()}}))}_installContextMenu(){return this._editor.onContextMenu(e=>ah(this,void 0,void 0,function*(){if(!(e.event.target instanceof HTMLElement))return;const t=this._getInlayHintLabelPart(e);t&&(yield this._instaService.invokeFunction(DS,this._editor,e.event.target,t))}))}_getInlayHintLabelPart(e){var t;if(e.target.type!==6)return;const n=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;if(n instanceof Xn.HS&&(n==null?void 0:n.attachedData)instanceof Pp)return n.attachedData}_invokeCommand(e,t){var n;return ah(this,void 0,void 0,function*(){try{yield this._commandService.executeCommand(e.id,...(n=e.arguments)!==null&&n!==void 0?n:[])}catch(s){this._notificationService.notify({severity:et.zb.Error,source:t.provider.displayName,message:s})}})}_cacheHintsForFastRestore(e){const t=this._copyInlayHintsWithCurrentAnchor(e);this._inlayHintsCache.set(e,t)}_copyInlayHintsWithCurrentAnchor(e){const t=new Map;for(const[n,s]of this._decorationsMetadata){if(t.has(s.item))continue;const o=e.getDecorationRange(n);if(o){const g=new P_(o,s.item.anchor.direction),w=s.item.with({anchor:g});t.set(s.item,w)}}return Array.from(t.values())}_getHintsRanges(){const t=this._editor.getModel(),n=this._editor.getVisibleRangesPlusViewportAboveBelow(),s=[];for(const o of n.sort(_t.e.compareRangesUsingStarts)){const g=t.validateRange(new _t.e(o.startLineNumber-30,o.startColumn,o.endLineNumber+30,o.endColumn));s.length===0||!_t.e.areIntersectingOrTouching(s[s.length-1],g)?s.push(g):s[s.length-1]=_t.e.plusRange(s[s.length-1],g)}return s}_updateHintsDecorators(e,t){var n,s;const o=[],g=(mt,bt,$t,Cn,Yn)=>{const ei={content:$t,inlineClassNameAffectsLetterSpacing:!0,inlineClassName:bt.className,cursorStops:Cn,attachedData:Yn};o.push({item:mt,classNameRef:bt,decoration:{range:mt.anchor.range,options:{description:"InlayHint",showIfCollapsed:mt.anchor.range.isEmpty(),collapseOnReplaceEdit:!mt.anchor.range.isEmpty(),stickiness:0,[mt.anchor.direction]:this._activeRenderMode===0?ei:void 0}}})},w=(mt,bt)=>{const $t=this._ruleFactory.createClassNameRef({width:`${G/3|0}px`,display:"inline-block"});g(mt,$t,"\u200A",bt?di.RM.Right:di.RM.None)},{fontSize:G,fontFamily:J,padding:Q,isUniform:ue}=this._getLayoutInfo(),Ne="--code-editorInlayHintsFontFamily";this._editor.getContainerDomNode().style.setProperty(Ne,J);for(const mt of t){mt.hint.paddingLeft&&w(mt,!1);const bt=typeof mt.hint.label=="string"?[{label:mt.hint.label}]:mt.hint.label;for(let $t=0;$t<bt.length;$t++){const Cn=bt[$t],Yn=$t===0,ei=$t===bt.length-1,Ti={fontSize:`${G}px`,fontFamily:`var(${Ne}), ${ho.hL.fontFamily}`,verticalAlign:ue?"baseline":"middle"};(0,$i.Of)(mt.hint.textEdits)&&(Ti.cursor="default"),this._fillInColors(Ti,mt.hint),(Cn.command||Cn.location)&&((n=this._activeInlayHintPart)===null||n===void 0?void 0:n.part.item)===mt&&this._activeInlayHintPart.part.index===$t&&(Ti.textDecoration="underline",this._activeInlayHintPart.hasTriggerModifier&&(Ti.color=(0,dt.EN)(Ce._Yy),Ti.cursor="pointer")),Q&&(Yn&&ei?(Ti.padding=`1px ${Math.max(1,G/4)|0}px`,Ti.borderRadius=`${G/4|0}px`):Yn?(Ti.padding=`1px 0 1px ${Math.max(1,G/4)|0}px`,Ti.borderRadius=`${G/4|0}px 0 0 ${G/4|0}px`):ei?(Ti.padding=`1px ${Math.max(1,G/4)|0}px 1px 0`,Ti.borderRadius=`0 ${G/4|0}px ${G/4|0}px 0`):Ti.padding="1px 0 1px 0"),g(mt,this._ruleFactory.createClassNameRef(Ti),TS(Cn.label),ei&&!mt.hint.paddingRight?di.RM.Right:di.RM.None,new Pp(mt,$t))}if(mt.hint.paddingRight&&w(mt,!0),o.length>R0._MAX_DECORATORS)break}const st=[];for(const mt of e)for(const{id:bt}of(s=this._editor.getDecorationsInRange(mt))!==null&&s!==void 0?s:[]){const $t=this._decorationsMetadata.get(bt);$t&&(st.push(bt),$t.classNameRef.dispose(),this._decorationsMetadata.delete(bt))}this._editor.changeDecorations(mt=>{const bt=mt.deltaDecorations(st,o.map($t=>$t.decoration));for(let $t=0;$t<bt.length;$t++){const Cn=o[$t];this._decorationsMetadata.set(bt[$t],Cn)}})}_fillInColors(e,t){t.kind===un.gl.Parameter?(e.backgroundColor=(0,dt.EN)(Ce.phM),e.color=(0,dt.EN)(Ce.HCL)):t.kind===un.gl.Type?(e.backgroundColor=(0,dt.EN)(Ce.bKB),e.color=(0,dt.EN)(Ce.hX8)):(e.backgroundColor=(0,dt.EN)(Ce.PpC),e.color=(0,dt.EN)(Ce.VVv))}_getLayoutInfo(){const e=this._editor.getOption(129),t=e.padding,n=this._editor.getOption(48),s=this._editor.getOption(45);let o=e.fontSize;(!o||o<5||o>n)&&(o=n);const g=e.fontFamily||s;return{fontSize:o,fontFamily:g,padding:t,isUniform:!t&&g===s&&o===n}}_removeAllDecorations(){this._editor.removeDecorations(Array.from(this._decorationsMetadata.keys()));for(const e of this._decorationsMetadata.values())e.classNameRef.dispose();this._decorationsMetadata.clear()}};au.ID="editor.contrib.InlayHints",au._MAX_DECORATORS=1500,au=IS([rh(1,bi.p),rh(2,Fo.A),rh(3,O_),rh(4,gi.Hy),rh(5,et.lT),rh(6,ki.TG)],au);function TS(p){const e="\xA0";return p.replace(/[ \t]/g,e)}gi.P0.registerCommand("_executeInlayHintProvider",(p,...e)=>ah(void 0,void 0,void 0,function*(){const[t,n]=e;(0,Zi.p_)(Xi.o.isUri(t)),(0,Zi.p_)(_t.e.isIRange(n));const{inlayHintsProvider:s}=p.get(bi.p),o=yield p.get(Cr.S).createModelReference(t);try{const g=yield vf.create(s,o.object.textEditorModel,[_t.e.lift(n)],ri.T.None),w=g.items.map(G=>G.hint);return setTimeout(()=>g.dispose(),0),w}finally{o.dispose()}}));var kS=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},bf=function(p,e){return function(t,n){e(t,n,p)}},F_=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})},MS=function(p){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=p[Symbol.asyncIterator],t;return e?e.call(p):(p=typeof __values=="function"?__values(p):p[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(o){t[o]=p[o]&&function(g){return new Promise(function(w,G){g=p[o](g),s(w,G,g.done,g.value)})}}function s(o,g,w,G){Promise.resolve(G).then(function(J){o({value:J,done:w})},g)}};class B_ extends Gi{constructor(e,t){super(10,t,e.item.anchor.range),this.part=e}}let Op=class extends Vu{constructor(e,t,n,s,o,g){super(e,t,n,s,g),this._resolverService=o,this.hoverOrdinal=6}suggestHoverAnchor(e){var t;if(!au.get(this._editor)||e.target.type!==6)return null;const s=(t=e.target.detail.injectedText)===null||t===void 0?void 0:t.options;return s instanceof Xn.HS&&s.attachedData instanceof Pp?new B_(s.attachedData,this):null}computeSync(){return[]}computeAsync(e,t,n){return e instanceof B_?new kt.Aq(s=>F_(this,void 0,void 0,function*(){var o,g;const{part:w}=e;if(yield w.item.resolve(n),n.isCancellationRequested)return;let G;typeof w.item.hint.tooltip=="string"?G=new Wn.W5().appendText(w.item.hint.tooltip):w.item.hint.tooltip&&(G=w.item.hint.tooltip),G&&s.emitOne(new kl(this,e.range,[G],0)),(0,$i.Of)(w.item.hint.textEdits)&&s.emitOne(new kl(this,e.range,[new Wn.W5().appendText((0,_e.NC)("hint.dbl","Double click to insert"))],10001));let J;if(typeof w.part.tooltip=="string"?J=new Wn.W5().appendText(w.part.tooltip):w.part.tooltip&&(J=w.part.tooltip),J&&s.emitOne(new kl(this,e.range,[J],1)),w.part.location||w.part.command){let st;const bt=this._editor.getOption(72)==="altKey"?ci.dz?(0,_e.NC)("links.navigate.kb.meta.mac","cmd + click"):(0,_e.NC)("links.navigate.kb.meta","ctrl + click"):ci.dz?(0,_e.NC)("links.navigate.kb.alt.mac","option + click"):(0,_e.NC)("links.navigate.kb.alt","alt + click");w.part.location&&w.part.command?st=new Wn.W5().appendText((0,_e.NC)("hint.defAndCommand","Go to Definition ({0}), right click for more",bt)):w.part.location?st=new Wn.W5().appendText((0,_e.NC)("hint.def","Go to Definition ({0})",bt)):w.part.command&&(st=new Wn.W5(`[${(0,_e.NC)("hint.cmd","Execute Command")}](${ES(w.part.command)} "${w.part.command.title}") (${bt})`,{isTrusted:!0})),st&&s.emitOne(new kl(this,e.range,[st],1e4))}const Q=yield this._resolveInlayHintLabelPartHover(w,n);try{for(var ue=MS(Q),Ne;Ne=yield ue.next(),!Ne.done;){const st=Ne.value;s.emitOne(st)}}catch(st){o={error:st}}finally{try{Ne&&!Ne.done&&(g=ue.return)&&(yield g.call(ue))}finally{if(o)throw o.error}}})):kt.Aq.EMPTY}_resolveInlayHintLabelPartHover(e,t){return F_(this,void 0,void 0,function*(){if(!e.part.location)return kt.Aq.EMPTY;const{uri:n,range:s}=e.part.location,o=yield this._resolverService.createModelReference(n);try{const g=o.object.textEditorModel;return this._languageFeaturesService.hoverProvider.has(g)?Oh(this._languageFeaturesService.hoverProvider,g,new ln.L(s.startLineNumber,s.startColumn),t).filter(w=>!(0,Wn.CP)(w.hover.contents)).map(w=>new kl(this,e.item.anchor.range,w.hover.contents,2+w.ordinal)):kt.Aq.EMPTY}finally{o.dispose()}})}};Op=kS([bf(1,Yo.O),bf(2,gr.v4),bf(3,m.Ui),bf(4,Cr.S),bf(5,bi.p)],Op),(0,je._K)(au.ID,au),Ui.register(Op);class RS{constructor(e,t,n){this._editRange=e,this._originalSelection=t,this._text=n}getEditOperations(e,t){t.addTrackedEditOperation(this._editRange,this._text)}computeCursorState(e,t){const s=t.getInverseEditOperations()[0].range;return this._originalSelection.isEmpty()?new qn.Y(s.endLineNumber,Math.min(this._originalSelection.positionColumn,s.endColumn),s.endLineNumber,Math.min(this._originalSelection.positionColumn,s.endColumn)):new qn.Y(s.endLineNumber,s.endColumn-this._text.length,s.endLineNumber,s.endColumn)}}var AS=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},PS=function(p,e){return function(t,n){e(t,n,p)}};let xd=class A0{constructor(e,t){this.editor=e,this.editorWorkerService=t,this.decorations=this.editor.createDecorationsCollection()}static get(e){return e.getContribution(A0.ID)}dispose(){}run(e,t){this.currentRequest&&this.currentRequest.cancel();const n=this.editor.getSelection(),s=this.editor.getModel();if(!s||!n)return;let o=n;if(o.startLineNumber!==o.endLineNumber)return;const g=new Es.yy(this.editor,5),w=s.uri;return this.editorWorkerService.canNavigateValueSet(w)?(this.currentRequest=(0,kt.PG)(G=>this.editorWorkerService.navigateValueSet(w,o,t)),this.currentRequest.then(G=>{if(!G||!G.range||!G.value||!g.validate(this.editor))return;const J=_t.e.lift(G.range);let Q=G.range;const ue=G.value.length-(o.endColumn-o.startColumn);Q={startLineNumber:Q.startLineNumber,startColumn:Q.startColumn,endLineNumber:Q.endLineNumber,endColumn:Q.startColumn+G.value.length},ue>1&&(o=new qn.Y(o.startLineNumber,o.startColumn,o.endLineNumber,o.endColumn+ue-1));const Ne=new RS(J,o,G.value);this.editor.pushUndoStop(),this.editor.executeCommand(e,Ne),this.editor.pushUndoStop(),this.decorations.set([{range:Q,options:A0.DECORATION}]),this.decorationRemover&&this.decorationRemover.cancel(),this.decorationRemover=(0,kt.Vs)(350),this.decorationRemover.then(()=>this.decorations.clear()).catch(Ei.dL)}).catch(Ei.dL)):Promise.resolve(void 0)}};xd.ID="editor.contrib.inPlaceReplaceController",xd.DECORATION=Xn.qx.register({description:"in-place-replace",className:"valueSetReplacement"}),xd=AS([PS(1,of.p)],xd);class OS extends je.R6{constructor(){super({id:"editor.action.inPlaceReplace.up",label:_e.NC("InPlaceReplaceAction.previous.label","Replace with Previous Value"),alias:"Replace with Previous Value",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3154,weight:100}})}run(e,t){const n=xd.get(t);return n?n.run(this.id,!0):Promise.resolve(void 0)}}class FS extends je.R6{constructor(){super({id:"editor.action.inPlaceReplace.down",label:_e.NC("InPlaceReplaceAction.next.label","Replace with Next Value"),alias:"Replace with Next Value",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3156,weight:100}})}run(e,t){const n=xd.get(t);return n?n.run(this.id,!1):Promise.resolve(void 0)}}(0,je._K)(xd.ID,xd),(0,je.Qr)(OS),(0,je.Qr)(FS),(0,dt.Ic)((p,e)=>{const t=p.getColor(dn.Dl);t&&e.addRule(`.monaco-editor.vs .valueSetReplacement { outline: solid 2px ${t}; }`)});var Fp=l(17493);class BS extends je.R6{constructor(){super({id:"expandLineSelection",label:_e.NC("expandLineSelection","Expand Line Selection"),alias:"Expand Line Selection",precondition:void 0,kbOpts:{weight:0,kbExpr:vt.u.textInputFocus,primary:2090}})}run(e,t,n){if(n=n||{},!t.hasModel())return;const s=t._getViewModel();s.model.pushStackElement(),s.setCursorStates(n.source,3,Fp.P.expandLineSelection(s,s.getCursorStates())),s.revealPrimaryCursor(n.source,!0)}}(0,je.Qr)(BS);class WS{constructor(e,t){this._selection=e,this._cursors=t,this._selectionId=null}getEditOperations(e,t){const n=VS(e,this._cursors);for(let s=0,o=n.length;s<o;s++){const g=n[s];t.addEditOperation(g.range,g.text)}this._selectionId=t.trackSelection(this._selection)}computeCursorState(e,t){return t.getTrackedSelection(this._selectionId)}}function VS(p,e){e.sort((g,w)=>g.lineNumber===w.lineNumber?g.column-w.column:g.lineNumber-w.lineNumber);for(let g=e.length-2;g>=0;g--)e[g].lineNumber===e[g+1].lineNumber&&e.splice(g,1);const t=[];let n=0,s=0;const o=e.length;for(let g=1,w=p.getLineCount();g<=w;g++){const G=p.getLineContent(g),J=G.length+1;let Q=0;if(s<o&&e[s].lineNumber===g&&(Q=e[s].column,s++,Q===J)||G.length===0)continue;const ue=fi.ow(G);let Ne=0;if(ue===-1)Ne=1;else if(ue!==G.length-1)Ne=ue+2;else continue;Ne=Math.max(Q,Ne),t[n++]=xn.h.delete(new _t.e(g,Ne,g,J))}return t}var Bp=l(11333);class W_{constructor(e,t,n){this._selection=e,this._isCopyingDown=t,this._noop=n||!1,this._selectionDirection=0,this._selectionId=null,this._startLineNumberDelta=0,this._endLineNumberDelta=0}getEditOperations(e,t){let n=this._selection;this._startLineNumberDelta=0,this._endLineNumberDelta=0,n.startLineNumber<n.endLineNumber&&n.endColumn===1&&(this._endLineNumberDelta=1,n=n.setEndPosition(n.endLineNumber-1,e.getLineMaxColumn(n.endLineNumber-1)));const s=[];for(let g=n.startLineNumber;g<=n.endLineNumber;g++)s.push(e.getLineContent(g));const o=s.join(`
`);o===""&&this._isCopyingDown&&(this._startLineNumberDelta++,this._endLineNumberDelta++),this._noop?t.addEditOperation(new _t.e(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber+1,1),n.endLineNumber===e.getLineCount()?"":`
`):this._isCopyingDown?t.addEditOperation(new _t.e(n.startLineNumber,1,n.startLineNumber,1),o+`
`):t.addEditOperation(new _t.e(n.endLineNumber,e.getLineMaxColumn(n.endLineNumber),n.endLineNumber,e.getLineMaxColumn(n.endLineNumber)),`
`+o),this._selectionId=t.trackSelection(n),this._selectionDirection=this._selection.getDirection()}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);if(this._startLineNumberDelta!==0||this._endLineNumberDelta!==0){let s=n.startLineNumber,o=n.startColumn,g=n.endLineNumber,w=n.endColumn;this._startLineNumberDelta!==0&&(s=s+this._startLineNumberDelta,o=1),this._endLineNumberDelta!==0&&(g=g+this._endLineNumberDelta,w=1),n=qn.Y.createWithDirection(s,o,g,w,this._selectionDirection)}return n}}var Kg=l(56563),Wp=l(18467),HS=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},zS=function(p,e){return function(t,n){e(t,n,p)}};let Vp=class{constructor(e,t,n,s){this._languageConfigurationService=s,this._selection=e,this._isMovingDown=t,this._autoIndent=n,this._selectionId=null,this._moveEndLineSelectionShrink=!1}getEditOperations(e,t){const n=e.getLineCount();if(this._isMovingDown&&this._selection.endLineNumber===n){this._selectionId=t.trackSelection(this._selection);return}if(!this._isMovingDown&&this._selection.startLineNumber===1){this._selectionId=t.trackSelection(this._selection);return}this._moveEndPositionDown=!1;let s=this._selection;s.startLineNumber<s.endLineNumber&&s.endColumn===1&&(this._moveEndPositionDown=!0,s=s.setEndPosition(s.endLineNumber-1,e.getLineMaxColumn(s.endLineNumber-1)));const{tabSize:o,indentSize:g,insertSpaces:w}=e.getOptions(),G=this.buildIndentConverter(o,g,w),J={tokenization:{getLineTokens:Q=>e.tokenization.getLineTokens(Q),getLanguageId:()=>e.getLanguageId(),getLanguageIdAtPosition:(Q,ue)=>e.getLanguageIdAtPosition(Q,ue)},getLineContent:null};if(s.startLineNumber===s.endLineNumber&&e.getLineMaxColumn(s.startLineNumber)===1){const Q=s.startLineNumber,ue=this._isMovingDown?Q+1:Q-1;e.getLineMaxColumn(ue)===1?t.addEditOperation(new _t.e(1,1,1,1),null):(t.addEditOperation(new _t.e(Q,1,Q,1),e.getLineContent(ue)),t.addEditOperation(new _t.e(ue,1,ue,e.getLineMaxColumn(ue)),null)),s=new qn.Y(ue,1,ue,1)}else{let Q,ue;if(this._isMovingDown){Q=s.endLineNumber+1,ue=e.getLineContent(Q),t.addEditOperation(new _t.e(Q-1,e.getLineMaxColumn(Q-1),Q,e.getLineMaxColumn(Q)),null);let Ne=ue;if(this.shouldAutoIndent(e,s)){const st=this.matchEnterRule(e,G,o,Q,s.startLineNumber-1);if(st!==null){const bt=fi.V8(e.getLineContent(Q)),$t=st+Oa(bt,o);Ne=pf($t,o,w)+this.trimLeft(ue)}else{J.getLineContent=$t=>$t===s.startLineNumber?e.getLineContent(Q):e.getLineContent($t);const bt=(0,ru.n8)(this._autoIndent,J,e.getLanguageIdAtPosition(Q,1),s.startLineNumber,G,this._languageConfigurationService);if(bt!==null){const $t=fi.V8(e.getLineContent(Q)),Cn=Oa(bt,o),Yn=Oa($t,o);Cn!==Yn&&(Ne=pf(Cn,o,w)+this.trimLeft(ue))}}t.addEditOperation(new _t.e(s.startLineNumber,1,s.startLineNumber,1),Ne+`
`);const mt=this.matchEnterRuleMovingDown(e,G,o,s.startLineNumber,Q,Ne);if(mt!==null)mt!==0&&this.getIndentEditsOfMovingBlock(e,t,s,o,w,mt);else{J.getLineContent=$t=>$t===s.startLineNumber?Ne:$t>=s.startLineNumber+1&&$t<=s.endLineNumber+1?e.getLineContent($t-1):e.getLineContent($t);const bt=(0,ru.n8)(this._autoIndent,J,e.getLanguageIdAtPosition(Q,1),s.startLineNumber+1,G,this._languageConfigurationService);if(bt!==null){const $t=fi.V8(e.getLineContent(s.startLineNumber)),Cn=Oa(bt,o),Yn=Oa($t,o);if(Cn!==Yn){const ei=Cn-Yn;this.getIndentEditsOfMovingBlock(e,t,s,o,w,ei)}}}}else t.addEditOperation(new _t.e(s.startLineNumber,1,s.startLineNumber,1),Ne+`
`)}else if(Q=s.startLineNumber-1,ue=e.getLineContent(Q),t.addEditOperation(new _t.e(Q,1,Q+1,1),null),t.addEditOperation(new _t.e(s.endLineNumber,e.getLineMaxColumn(s.endLineNumber),s.endLineNumber,e.getLineMaxColumn(s.endLineNumber)),`
`+ue),this.shouldAutoIndent(e,s)){J.getLineContent=st=>st===Q?e.getLineContent(s.startLineNumber):e.getLineContent(st);const Ne=this.matchEnterRule(e,G,o,s.startLineNumber,s.startLineNumber-2);if(Ne!==null)Ne!==0&&this.getIndentEditsOfMovingBlock(e,t,s,o,w,Ne);else{const st=(0,ru.n8)(this._autoIndent,J,e.getLanguageIdAtPosition(s.startLineNumber,1),Q,G,this._languageConfigurationService);if(st!==null){const mt=fi.V8(e.getLineContent(s.startLineNumber)),bt=Oa(st,o),$t=Oa(mt,o);if(bt!==$t){const Cn=bt-$t;this.getIndentEditsOfMovingBlock(e,t,s,o,w,Cn)}}}}}this._selectionId=t.trackSelection(s)}buildIndentConverter(e,t,n){return{shiftIndent:s=>oh.U.shiftIndent(s,s.length+1,e,t,n),unshiftIndent:s=>oh.U.unshiftIndent(s,s.length+1,e,t,n)}}parseEnterResult(e,t,n,s,o){if(o){let g=o.indentation;o.indentAction===Kg.wU.None||o.indentAction===Kg.wU.Indent?g=o.indentation+o.appendText:o.indentAction===Kg.wU.IndentOutdent?g=o.indentation:o.indentAction===Kg.wU.Outdent&&(g=t.unshiftIndent(o.indentation)+o.appendText);const w=e.getLineContent(s);if(this.trimLeft(w).indexOf(this.trimLeft(g))>=0){const G=fi.V8(e.getLineContent(s));let J=fi.V8(g);const Q=(0,ru.tI)(e,s,this._languageConfigurationService);Q!==null&&Q&2&&(J=t.unshiftIndent(J));const ue=Oa(J,n),Ne=Oa(G,n);return ue-Ne}}return null}matchEnterRuleMovingDown(e,t,n,s,o,g){if(fi.ow(g)>=0){const w=e.getLineMaxColumn(o),G=(0,Wp.A)(this._autoIndent,e,new _t.e(o,w,o,w),this._languageConfigurationService);return this.parseEnterResult(e,t,n,s,G)}else{let w=s-1;for(;w>=1;){const Q=e.getLineContent(w);if(fi.ow(Q)>=0)break;w--}if(w<1||s>e.getLineCount())return null;const G=e.getLineMaxColumn(w),J=(0,Wp.A)(this._autoIndent,e,new _t.e(w,G,w,G),this._languageConfigurationService);return this.parseEnterResult(e,t,n,s,J)}}matchEnterRule(e,t,n,s,o,g){let w=o;for(;w>=1;){let Q;if(w===o&&g!==void 0?Q=g:Q=e.getLineContent(w),fi.ow(Q)>=0)break;w--}if(w<1||s>e.getLineCount())return null;const G=e.getLineMaxColumn(w),J=(0,Wp.A)(this._autoIndent,e,new _t.e(w,G,w,G),this._languageConfigurationService);return this.parseEnterResult(e,t,n,s,J)}trimLeft(e){return e.replace(/^\s+/,"")}shouldAutoIndent(e,t){if(this._autoIndent<4||!e.tokenization.isCheapToTokenize(t.startLineNumber))return!1;const n=e.getLanguageIdAtPosition(t.startLineNumber,1),s=e.getLanguageIdAtPosition(t.endLineNumber,1);return!(n!==s||this._languageConfigurationService.getLanguageConfiguration(n).indentRulesSupport===null)}getIndentEditsOfMovingBlock(e,t,n,s,o,g){for(let w=n.startLineNumber;w<=n.endLineNumber;w++){const G=e.getLineContent(w),J=fi.V8(G),ue=Oa(J,s)+g,Ne=pf(ue,s,o);Ne!==J&&(t.addEditOperation(new _t.e(w,1,w,J.length+1),Ne),w===n.endLineNumber&&n.endColumn<=J.length+1&&Ne===""&&(this._moveEndLineSelectionShrink=!0))}}computeCursorState(e,t){let n=t.getTrackedSelection(this._selectionId);return this._moveEndPositionDown&&(n=n.setEndPosition(n.endLineNumber+1,1)),this._moveEndLineSelectionShrink&&n.startLineNumber<n.endLineNumber&&(n=n.setEndPosition(n.endLineNumber,2)),n}};Vp=HS([zS(3,Lo.c_)],Vp);class Id{constructor(e,t){this.selection=e,this.descending=t,this.selectionId=null}static getCollator(){return Id._COLLATOR||(Id._COLLATOR=new Intl.Collator),Id._COLLATOR}getEditOperations(e,t){const n=US(e,this.selection,this.descending);n&&t.addEditOperation(n.range,n.text),this.selectionId=t.trackSelection(this.selection)}computeCursorState(e,t){return t.getTrackedSelection(this.selectionId)}static canRun(e,t,n){if(e===null)return!1;const s=V_(e,t,n);if(!s)return!1;for(let o=0,g=s.before.length;o<g;o++)if(s.before[o]!==s.after[o])return!0;return!1}}Id._COLLATOR=null;function V_(p,e,t){const n=e.startLineNumber;let s=e.endLineNumber;if(e.endColumn===1&&s--,n>=s)return null;const o=[];for(let w=n;w<=s;w++)o.push(p.getLineContent(w));let g=o.slice(0);return g.sort(Id.getCollator().compare),t===!0&&(g=g.reverse()),{startLineNumber:n,endLineNumber:s,before:o,after:g}}function US(p,e,t){const n=V_(p,e,t);return n?xn.h.replace(new _t.e(n.startLineNumber,1,n.endLineNumber,p.getLineMaxColumn(n.endLineNumber)),n.after.join(`
`)):null}class H_ extends je.R6{constructor(e,t){super(t),this.down=e}run(e,t){if(!t.hasModel())return;const n=t.getSelections().map((g,w)=>({selection:g,index:w,ignore:!1}));n.sort((g,w)=>_t.e.compareRangesUsingStarts(g.selection,w.selection));let s=n[0];for(let g=1;g<n.length;g++){const w=n[g];s.selection.endLineNumber===w.selection.startLineNumber&&(s.index<w.index?w.ignore=!0:(s.ignore=!0,s=w))}const o=[];for(const g of n)o.push(new W_(g.selection,this.down,g.ignore));t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class jS extends H_{constructor(){super(!1,{id:"editor.action.copyLinesUpAction",label:_e.NC("lines.copyUp","Copy Line Up"),alias:"Copy Line Up",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1552,linux:{primary:3600},weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"2_line",title:_e.NC({key:"miCopyLinesUp",comment:["&& denotes a mnemonic"]},"&&Copy Line Up"),order:1}})}}class KS extends H_{constructor(){super(!0,{id:"editor.action.copyLinesDownAction",label:_e.NC("lines.copyDown","Copy Line Down"),alias:"Copy Line Down",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1554,linux:{primary:3602},weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"2_line",title:_e.NC({key:"miCopyLinesDown",comment:["&& denotes a mnemonic"]},"Co&&py Line Down"),order:2}})}}class $S extends je.R6{constructor(){super({id:"editor.action.duplicateSelection",label:_e.NC("duplicateSelection","Duplicate Selection"),alias:"Duplicate Selection",precondition:vt.u.writable,menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"2_line",title:_e.NC({key:"miDuplicateSelection",comment:["&& denotes a mnemonic"]},"&&Duplicate Selection"),order:5}})}run(e,t,n){if(!t.hasModel())return;const s=[],o=t.getSelections(),g=t.getModel();for(const w of o)if(w.isEmpty())s.push(new W_(w,!0));else{const G=new qn.Y(w.endLineNumber,w.endColumn,w.endLineNumber,w.endColumn);s.push(new Jn.OY(G,g.getValueInRange(w)))}t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class z_ extends je.R6{constructor(e,t){super(t),this.down=e}run(e,t){const n=e.get(Lo.c_),s=[],o=t.getSelections()||[],g=t.getOption(9);for(const w of o)s.push(new Vp(w,this.down,g,n));t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class GS extends z_{constructor(){super(!1,{id:"editor.action.moveLinesUpAction",label:_e.NC("lines.moveUp","Move Line Up"),alias:"Move Line Up",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:528,linux:{primary:528},weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"2_line",title:_e.NC({key:"miMoveLinesUp",comment:["&& denotes a mnemonic"]},"Mo&&ve Line Up"),order:3}})}}class ZS extends z_{constructor(){super(!0,{id:"editor.action.moveLinesDownAction",label:_e.NC("lines.moveDown","Move Line Down"),alias:"Move Line Down",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:530,linux:{primary:530},weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"2_line",title:_e.NC({key:"miMoveLinesDown",comment:["&& denotes a mnemonic"]},"Move &&Line Down"),order:4}})}}class U_ extends je.R6{constructor(e,t){super(t),this.descending=e}run(e,t){const n=t.getSelections()||[];for(const o of n)if(!Id.canRun(t.getModel(),o,this.descending))return;const s=[];for(let o=0,g=n.length;o<g;o++)s[o]=new Id(n[o],this.descending);t.pushUndoStop(),t.executeCommands(this.id,s),t.pushUndoStop()}}class YS extends U_{constructor(){super(!1,{id:"editor.action.sortLinesAscending",label:_e.NC("lines.sortAscending","Sort Lines Ascending"),alias:"Sort Lines Ascending",precondition:vt.u.writable})}}class QS extends U_{constructor(){super(!0,{id:"editor.action.sortLinesDescending",label:_e.NC("lines.sortDescending","Sort Lines Descending"),alias:"Sort Lines Descending",precondition:vt.u.writable})}}class XS extends je.R6{constructor(){super({id:"editor.action.removeDuplicateLines",label:_e.NC("lines.deleteDuplicates","Delete Duplicate Lines"),alias:"Delete Duplicate Lines",precondition:vt.u.writable})}run(e,t){if(!t.hasModel())return;const n=t.getModel();if(n.getLineCount()===1&&n.getLineMaxColumn(1)===1)return;const s=[],o=[];let g=0;for(const w of t.getSelections()){const G=new Set,J=[];for(let st=w.startLineNumber;st<=w.endLineNumber;st++){const mt=n.getLineContent(st);G.has(mt)||(J.push(mt),G.add(mt))}const Q=new qn.Y(w.startLineNumber,1,w.endLineNumber,n.getLineMaxColumn(w.endLineNumber)),ue=w.startLineNumber-g,Ne=new qn.Y(ue,1,ue+J.length-1,J[J.length-1].length);s.push(xn.h.replace(Q,J.join(`
`))),o.push(Ne),g+=w.endLineNumber-w.startLineNumber+1-J.length}t.pushUndoStop(),t.executeEdits(this.id,s,o),t.pushUndoStop()}}class $g extends je.R6{constructor(){super({id:$g.ID,label:_e.NC("lines.trimTrailingWhitespace","Trim Trailing Whitespace"),alias:"Trim Trailing Whitespace",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:(0,wn.gx)(2089,2102),weight:100}})}run(e,t,n){let s=[];n.reason==="auto-save"&&(s=(t.getSelections()||[]).map(w=>new ln.L(w.positionLineNumber,w.positionColumn)));const o=t.getSelection();if(o===null)return;const g=new WS(o,s);t.pushUndoStop(),t.executeCommands(this.id,[g]),t.pushUndoStop()}}$g.ID="editor.action.trimTrailingWhitespace";class JS extends je.R6{constructor(){super({id:"editor.action.deleteLines",label:_e.NC("lines.delete","Delete Line"),alias:"Delete Line",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:3113,weight:100}})}run(e,t){if(!t.hasModel())return;const n=this._getLinesToRemove(t),s=t.getModel();if(s.getLineCount()===1&&s.getLineMaxColumn(1)===1)return;let o=0;const g=[],w=[];for(let G=0,J=n.length;G<J;G++){const Q=n[G];let ue=Q.startLineNumber,Ne=Q.endLineNumber,st=1,mt=s.getLineMaxColumn(Ne);Ne<s.getLineCount()?(Ne+=1,mt=1):ue>1&&(ue-=1,st=s.getLineMaxColumn(ue)),g.push(xn.h.replace(new qn.Y(ue,st,Ne,mt),"")),w.push(new qn.Y(ue-o,Q.positionColumn,ue-o,Q.positionColumn)),o+=Q.endLineNumber-Q.startLineNumber+1}t.pushUndoStop(),t.executeEdits(this.id,g,w),t.pushUndoStop()}_getLinesToRemove(e){const t=e.getSelections().map(o=>{let g=o.endLineNumber;return o.startLineNumber<o.endLineNumber&&o.endColumn===1&&(g-=1),{startLineNumber:o.startLineNumber,selectionStartColumn:o.selectionStartColumn,endLineNumber:g,positionColumn:o.positionColumn}});t.sort((o,g)=>o.startLineNumber===g.startLineNumber?o.endLineNumber-g.endLineNumber:o.startLineNumber-g.startLineNumber);const n=[];let s=t[0];for(let o=1;o<t.length;o++)s.endLineNumber+1>=t[o].startLineNumber?s.endLineNumber=t[o].endLineNumber:(n.push(s),s=t[o]);return n.push(s),n}}class qS extends je.R6{constructor(){super({id:"editor.action.indentLines",label:_e.NC("lines.indent","Indent Line"),alias:"Indent Line",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2137,weight:100}})}run(e,t){const n=t._getViewModel();!n||(t.pushUndoStop(),t.executeCommands(this.id,Bp.u6.indent(n.cursorConfig,t.getModel(),t.getSelections())),t.pushUndoStop())}}class ey extends je.R6{constructor(){super({id:"editor.action.outdentLines",label:_e.NC("lines.outdent","Outdent Line"),alias:"Outdent Line",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2135,weight:100}})}run(e,t){at.wk.Outdent.runEditorCommand(e,t,null)}}class ty extends je.R6{constructor(){super({id:"editor.action.insertLineBefore",label:_e.NC("lines.insertBefore","Insert Line Above"),alias:"Insert Line Above",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3075,weight:100}})}run(e,t){const n=t._getViewModel();!n||(t.pushUndoStop(),t.executeCommands(this.id,Bp.u6.lineInsertBefore(n.cursorConfig,t.getModel(),t.getSelections())))}}class ny extends je.R6{constructor(){super({id:"editor.action.insertLineAfter",label:_e.NC("lines.insertAfter","Insert Line Below"),alias:"Insert Line Below",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2051,weight:100}})}run(e,t){const n=t._getViewModel();!n||(t.pushUndoStop(),t.executeCommands(this.id,Bp.u6.lineInsertAfter(n.cursorConfig,t.getModel(),t.getSelections())))}}class j_ extends je.R6{run(e,t){if(!t.hasModel())return;const n=t.getSelection(),s=this._getRangesToDelete(t),o=[];for(let G=0,J=s.length-1;G<J;G++){const Q=s[G],ue=s[G+1];_t.e.intersectRanges(Q,ue)===null?o.push(Q):s[G+1]=_t.e.plusRange(Q,ue)}o.push(s[s.length-1]);const g=this._getEndCursorState(n,o),w=o.map(G=>xn.h.replace(G,""));t.pushUndoStop(),t.executeEdits(this.id,w,g),t.pushUndoStop()}}class iy extends j_{constructor(){super({id:"deleteAllLeft",label:_e.NC("lines.deleteAllLeft","Delete All Left"),alias:"Delete All Left",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:2049},weight:100}})}_getEndCursorState(e,t){let n=null;const s=[];let o=0;return t.forEach(g=>{let w;if(g.endColumn===1&&o>0){const G=g.startLineNumber-o;w=new qn.Y(G,g.startColumn,G,g.startColumn)}else w=new qn.Y(g.startLineNumber,g.startColumn,g.startLineNumber,g.startColumn);o+=g.endLineNumber-g.startLineNumber,g.intersectRanges(e)?n=w:s.push(w)}),n&&s.unshift(n),s}_getRangesToDelete(e){const t=e.getSelections();if(t===null)return[];let n=t;const s=e.getModel();return s===null?[]:(n.sort(_t.e.compareRangesUsingStarts),n=n.map(o=>{if(o.isEmpty())if(o.startColumn===1){const g=Math.max(1,o.startLineNumber-1),w=o.startLineNumber===1?1:s.getLineContent(g).length+1;return new _t.e(g,w,o.startLineNumber,1)}else return new _t.e(o.startLineNumber,1,o.startLineNumber,o.startColumn);else return new _t.e(o.startLineNumber,1,o.endLineNumber,o.endColumn)}),n)}}class sy extends j_{constructor(){super({id:"deleteAllRight",label:_e.NC("lines.deleteAllRight","Delete All Right"),alias:"Delete All Right",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:297,secondary:[2068]},weight:100}})}_getEndCursorState(e,t){let n=null;const s=[];for(let o=0,g=t.length,w=0;o<g;o++){const G=t[o],J=new qn.Y(G.startLineNumber-w,G.startColumn,G.startLineNumber-w,G.startColumn);G.intersectRanges(e)?n=J:s.push(J)}return n&&s.unshift(n),s}_getRangesToDelete(e){const t=e.getModel();if(t===null)return[];const n=e.getSelections();if(n===null)return[];const s=n.map(o=>{if(o.isEmpty()){const g=t.getLineMaxColumn(o.startLineNumber);return o.startColumn===g?new _t.e(o.startLineNumber,o.startColumn,o.startLineNumber+1,1):new _t.e(o.startLineNumber,o.startColumn,o.startLineNumber,g)}return o});return s.sort(_t.e.compareRangesUsingStarts),s}}class oy extends je.R6{constructor(){super({id:"editor.action.joinLines",label:_e.NC("lines.joinLines","Join Lines"),alias:"Join Lines",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:0,mac:{primary:296},weight:100}})}run(e,t){const n=t.getSelections();if(n===null)return;let s=t.getSelection();if(s===null)return;n.sort(_t.e.compareRangesUsingStarts);const o=[],g=n.reduce((Ne,st)=>Ne.isEmpty()?Ne.endLineNumber===st.startLineNumber?(s.equalsSelection(Ne)&&(s=st),st):st.startLineNumber>Ne.endLineNumber+1?(o.push(Ne),st):new qn.Y(Ne.startLineNumber,Ne.startColumn,st.endLineNumber,st.endColumn):st.startLineNumber>Ne.endLineNumber?(o.push(Ne),st):new qn.Y(Ne.startLineNumber,Ne.startColumn,st.endLineNumber,st.endColumn));o.push(g);const w=t.getModel();if(w===null)return;const G=[],J=[];let Q=s,ue=0;for(let Ne=0,st=o.length;Ne<st;Ne++){const mt=o[Ne],bt=mt.startLineNumber,$t=1;let Cn=0,Yn,ei;const Ti=w.getLineContent(mt.endLineNumber).length-mt.endColumn;if(mt.isEmpty()||mt.startLineNumber===mt.endLineNumber){const Ls=mt.getStartPosition();Ls.lineNumber<w.getLineCount()?(Yn=bt+1,ei=w.getLineMaxColumn(Yn)):(Yn=Ls.lineNumber,ei=w.getLineMaxColumn(Ls.lineNumber))}else Yn=mt.endLineNumber,ei=w.getLineMaxColumn(Yn);let Ji=w.getLineContent(bt);for(let Ls=bt+1;Ls<=Yn;Ls++){const Ir=w.getLineContent(Ls),Gr=w.getLineFirstNonWhitespaceColumn(Ls);if(Gr>=1){let wa=!0;Ji===""&&(wa=!1),wa&&(Ji.charAt(Ji.length-1)===" "||Ji.charAt(Ji.length-1)==="	")&&(wa=!1,Ji=Ji.replace(/[\s\uFEFF\xA0]+$/g," "));const Sc=Ir.substr(Gr-1);Ji+=(wa?" ":"")+Sc,wa?Cn=Sc.length+1:Cn=Sc.length}else Cn=0}const to=new _t.e(bt,$t,Yn,ei);if(!to.isEmpty()){let Ls;mt.isEmpty()?(G.push(xn.h.replace(to,Ji)),Ls=new qn.Y(to.startLineNumber-ue,Ji.length-Cn+1,bt-ue,Ji.length-Cn+1)):mt.startLineNumber===mt.endLineNumber?(G.push(xn.h.replace(to,Ji)),Ls=new qn.Y(mt.startLineNumber-ue,mt.startColumn,mt.endLineNumber-ue,mt.endColumn)):(G.push(xn.h.replace(to,Ji)),Ls=new qn.Y(mt.startLineNumber-ue,mt.startColumn,mt.startLineNumber-ue,Ji.length-Ti)),_t.e.intersectRanges(to,s)!==null?Q=Ls:J.push(Ls)}ue+=to.endLineNumber-to.startLineNumber}J.unshift(Q),t.pushUndoStop(),t.executeEdits(this.id,G,J),t.pushUndoStop()}}class ry extends je.R6{constructor(){super({id:"editor.action.transpose",label:_e.NC("editor.transpose","Transpose characters around the cursor"),alias:"Transpose characters around the cursor",precondition:vt.u.writable})}run(e,t){const n=t.getSelections();if(n===null)return;const s=t.getModel();if(s===null)return;const o=[];for(let g=0,w=n.length;g<w;g++){const G=n[g];if(!G.isEmpty())continue;const J=G.getStartPosition(),Q=s.getLineMaxColumn(J.lineNumber);if(J.column>=Q){if(J.lineNumber===s.getLineCount())continue;const ue=new _t.e(J.lineNumber,Math.max(1,J.column-1),J.lineNumber+1,1),Ne=s.getValueInRange(ue).split("").reverse().join("");o.push(new Jn.T4(new qn.Y(J.lineNumber,Math.max(1,J.column-1),J.lineNumber+1,1),Ne))}else{const ue=new _t.e(J.lineNumber,Math.max(1,J.column-1),J.lineNumber,J.column+1),Ne=s.getValueInRange(ue).split("").reverse().join("");o.push(new Jn.hP(ue,Ne,new qn.Y(J.lineNumber,J.column+1,J.lineNumber,J.column+1)))}}t.pushUndoStop(),t.executeCommands(this.id,o),t.pushUndoStop()}}class wf extends je.R6{run(e,t){const n=t.getSelections();if(n===null)return;const s=t.getModel();if(s===null)return;const o=t.getOption(119),g=[];for(const w of n)if(w.isEmpty()){const G=w.getStartPosition(),J=t.getConfiguredWordAtPosition(G);if(!J)continue;const Q=new _t.e(G.lineNumber,J.startColumn,G.lineNumber,J.endColumn),ue=s.getValueInRange(Q);g.push(xn.h.replace(Q,this._modifyText(ue,o)))}else{const G=s.getValueInRange(w);g.push(xn.h.replace(w,this._modifyText(G,o)))}t.pushUndoStop(),t.executeEdits(this.id,g),t.pushUndoStop()}}class ay extends wf{constructor(){super({id:"editor.action.transformToUppercase",label:_e.NC("editor.transformToUppercase","Transform to Uppercase"),alias:"Transform to Uppercase",precondition:vt.u.writable})}_modifyText(e,t){return e.toLocaleUpperCase()}}class ly extends wf{constructor(){super({id:"editor.action.transformToLowercase",label:_e.NC("editor.transformToLowercase","Transform to Lowercase"),alias:"Transform to Lowercase",precondition:vt.u.writable})}_modifyText(e,t){return e.toLocaleLowerCase()}}class lh{constructor(e,t){this._pattern=e,this._flags=t,this._actual=null,this._evaluated=!1}get(){if(!this._evaluated){this._evaluated=!0;try{this._actual=new RegExp(this._pattern,this._flags)}catch(e){}}return this._actual}isSupported(){return this.get()!==null}}class Sf extends wf{constructor(){super({id:"editor.action.transformToTitlecase",label:_e.NC("editor.transformToTitlecase","Transform to Title Case"),alias:"Transform to Title Case",precondition:vt.u.writable})}_modifyText(e,t){const n=Sf.titleBoundary.get();return n?e.toLocaleLowerCase().replace(n,s=>s.toLocaleUpperCase()):e}}Sf.titleBoundary=new lh("(^|[^\\p{L}\\p{N}']|((^|\\P{L})'))\\p{L}","gmu");class Nd extends wf{constructor(){super({id:"editor.action.transformToSnakecase",label:_e.NC("editor.transformToSnakecase","Transform to Snake Case"),alias:"Transform to Snake Case",precondition:vt.u.writable})}_modifyText(e,t){const n=Nd.caseBoundary.get(),s=Nd.singleLetters.get();return!n||!s?e:e.replace(n,"$1_$2").replace(s,"$1_$2$3").toLocaleLowerCase()}}Nd.caseBoundary=new lh("(\\p{Ll})(\\p{Lu})","gmu"),Nd.singleLetters=new lh("(\\p{Lu}|\\p{N})(\\p{Lu})(\\p{Ll})","gmu");class qc extends wf{constructor(){super({id:"editor.action.transformToKebabcase",label:_e.NC("editor.transformToKebabcase","Transform to Kebab Case"),alias:"Transform to Kebab Case",precondition:vt.u.writable})}static isSupported(){return[this.caseBoundary,this.singleLetters,this.underscoreBoundary].every(t=>t.isSupported())}_modifyText(e,t){const n=qc.caseBoundary.get(),s=qc.singleLetters.get(),o=qc.underscoreBoundary.get();return!n||!s||!o?e:e.replace(o,"$1-$3").replace(n,"$1-$2").replace(s,"$1-$2").toLocaleLowerCase()}}qc.caseBoundary=new lh("(\\p{Ll})(\\p{Lu})","gmu"),qc.singleLetters=new lh("(\\p{Lu}|\\p{N})(\\p{Lu}\\p{Ll})","gmu"),qc.underscoreBoundary=new lh("(\\S)(_)(\\S)","gm"),(0,je.Qr)(jS),(0,je.Qr)(KS),(0,je.Qr)($S),(0,je.Qr)(GS),(0,je.Qr)(ZS),(0,je.Qr)(YS),(0,je.Qr)(QS),(0,je.Qr)(XS),(0,je.Qr)($g),(0,je.Qr)(JS),(0,je.Qr)(qS),(0,je.Qr)(ey),(0,je.Qr)(ty),(0,je.Qr)(ny),(0,je.Qr)(iy),(0,je.Qr)(sy),(0,je.Qr)(oy),(0,je.Qr)(ry),(0,je.Qr)(ay),(0,je.Qr)(ly),Nd.caseBoundary.isSupported()&&Nd.singleLetters.isSupported()&&(0,je.Qr)(Nd),Sf.titleBoundary.isSupported()&&(0,je.Qr)(Sf),qc.isSupported()&&(0,je.Qr)(qc);var cy=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Gg=function(p,e){return function(t,n){e(t,n,p)}},Hp=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};const K_=new ht.uy("LinkedEditingInputVisible",!1),$_="linked-editing-decoration";let Td=class P0 extends wt.JT{constructor(e,t,n,s,o){super(),this.languageConfigurationService=s,this._syncRangesToken=0,this._localToDispose=this._register(new wt.SL),this._editor=e,this._providers=n.linkedEditingRangeProvider,this._enabled=!1,this._visibleContextKey=K_.bindTo(t),this._debounceInformation=o.for(this._providers,"Linked Editing",{min:200}),this._currentDecorations=this._editor.createDecorationsCollection(),this._languageWordPattern=null,this._currentWordPattern=null,this._ignoreChangeEvent=!1,this._localToDispose=this._register(new wt.SL),this._rangeUpdateTriggerPromise=null,this._rangeSyncTriggerPromise=null,this._currentRequest=null,this._currentRequestPosition=null,this._currentRequestModelVersion=null,this._register(this._editor.onDidChangeModel(()=>this.reinitialize(!0))),this._register(this._editor.onDidChangeConfiguration(g=>{(g.hasChanged(64)||g.hasChanged(84))&&this.reinitialize(!1)})),this._register(this._providers.onDidChange(()=>this.reinitialize(!1))),this._register(this._editor.onDidChangeModelLanguage(()=>this.reinitialize(!0))),this.reinitialize(!0)}static get(e){return e.getContribution(P0.ID)}reinitialize(e){const t=this._editor.getModel(),n=t!==null&&(this._editor.getOption(64)||this._editor.getOption(84))&&this._providers.has(t);if(n===this._enabled&&!e||(this._enabled=n,this.clearRanges(),this._localToDispose.clear(),!n||t===null))return;this._localToDispose.add(ni.ju.runAndSubscribe(t.onDidChangeLanguageConfiguration,()=>{this._languageWordPattern=this.languageConfigurationService.getLanguageConfiguration(t.getLanguageId()).getWordDefinition()}));const s=new kt.vp(this._debounceInformation.get(t)),o=()=>{var G;this._rangeUpdateTriggerPromise=s.trigger(()=>this.updateRanges(),(G=this._debounceDuration)!==null&&G!==void 0?G:this._debounceInformation.get(t))},g=new kt.vp(0),w=G=>{this._rangeSyncTriggerPromise=g.trigger(()=>this._syncRanges(G))};this._localToDispose.add(this._editor.onDidChangeCursorPosition(()=>{o()})),this._localToDispose.add(this._editor.onDidChangeModelContent(G=>{if(!this._ignoreChangeEvent&&this._currentDecorations.length>0){const J=this._currentDecorations.getRange(0);if(J&&G.changes.every(Q=>J.intersectRanges(Q.range))){w(this._syncRangesToken);return}}o()})),this._localToDispose.add({dispose:()=>{s.dispose(),g.dispose()}}),this.updateRanges()}_syncRanges(e){if(!this._editor.hasModel()||e!==this._syncRangesToken||this._currentDecorations.length===0)return;const t=this._editor.getModel(),n=this._currentDecorations.getRange(0);if(!n||n.startLineNumber!==n.endLineNumber)return this.clearRanges();const s=t.getValueInRange(n);if(this._currentWordPattern){const g=s.match(this._currentWordPattern);if((g?g[0].length:0)!==s.length)return this.clearRanges()}const o=[];for(let g=1,w=this._currentDecorations.length;g<w;g++){const G=this._currentDecorations.getRange(g);if(!!G)if(G.startLineNumber!==G.endLineNumber)o.push({range:G,text:s});else{let J=t.getValueInRange(G),Q=s,ue=G.startColumn,Ne=G.endColumn;const st=fi.Mh(J,Q);ue+=st,J=J.substr(st),Q=Q.substr(st);const mt=fi.P1(J,Q);Ne-=mt,J=J.substr(0,J.length-mt),Q=Q.substr(0,Q.length-mt),(ue!==Ne||Q.length!==0)&&o.push({range:new _t.e(G.startLineNumber,ue,G.endLineNumber,Ne),text:Q})}}if(o.length!==0)try{this._editor.popUndoStop(),this._ignoreChangeEvent=!0;const g=this._editor._getViewModel().getPrevEditOperationType();this._editor.executeEdits("linkedEditing",o),this._editor._getViewModel().setPrevEditOperationType(g)}finally{this._ignoreChangeEvent=!1}}dispose(){this.clearRanges(),super.dispose()}clearRanges(){this._visibleContextKey.set(!1),this._currentDecorations.clear(),this._currentRequest&&(this._currentRequest.cancel(),this._currentRequest=null,this._currentRequestPosition=null)}updateRanges(e=!1){return Hp(this,void 0,void 0,function*(){if(!this._editor.hasModel()){this.clearRanges();return}const t=this._editor.getPosition();if(!this._enabled&&!e||this._editor.getSelections().length>1){this.clearRanges();return}const n=this._editor.getModel(),s=n.getVersionId();if(this._currentRequestPosition&&this._currentRequestModelVersion===s){if(t.equals(this._currentRequestPosition))return;if(this._currentDecorations.length>0){const g=this._currentDecorations.getRange(0);if(g&&g.containsPosition(t))return}}this._currentRequestPosition=t,this._currentRequestModelVersion=s;const o=(0,kt.PG)(g=>Hp(this,void 0,void 0,function*(){try{const w=new _r.G(!1),G=yield G_(this._providers,n,t,g);if(this._debounceInformation.update(n,w.elapsed()),o!==this._currentRequest||(this._currentRequest=null,s!==n.getVersionId()))return;let J=[];G!=null&&G.ranges&&(J=G.ranges),this._currentWordPattern=(G==null?void 0:G.wordPattern)||this._languageWordPattern;let Q=!1;for(let Ne=0,st=J.length;Ne<st;Ne++)if(_t.e.containsPosition(J[Ne],t)){if(Q=!0,Ne!==0){const mt=J[Ne];J.splice(Ne,1),J.unshift(mt)}break}if(!Q){this.clearRanges();return}const ue=J.map(Ne=>({range:Ne,options:P0.DECORATION}));this._visibleContextKey.set(!0),this._currentDecorations.set(ue),this._syncRangesToken++}catch(w){(0,Ei.n2)(w)||(0,Ei.dL)(w),(this._currentRequest===o||!this._currentRequest)&&this.clearRanges()}}));return this._currentRequest=o,o})}};Td.ID="editor.contrib.linkedEditing",Td.DECORATION=Xn.qx.register({description:"linked-editing",stickiness:0,className:$_}),Td=cy([Gg(1,ht.i6),Gg(2,bi.p),Gg(3,Lo.c_),Gg(4,Fo.A)],Td);class dy extends je.R6{constructor(){super({id:"editor.action.linkedEditing",label:_e.NC("linkedEditing.label","Start Linked Editing"),alias:"Start Linked Editing",precondition:ht.Ao.and(vt.u.writable,vt.u.hasRenameProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3132,weight:100}})}runCommand(e,t){const n=e.get(wi.$),[s,o]=Array.isArray(t)&&t||[void 0,void 0];return Xi.o.isUri(s)&&ln.L.isIPosition(o)?n.openCodeEditor({resource:s},n.getActiveCodeEditor()).then(g=>{!g||(g.setPosition(o),g.invokeWithinContext(w=>(this.reportTelemetry(w,g),this.run(w,g))))},Ei.dL):super.runCommand(e,t)}run(e,t){const n=Td.get(t);return n?Promise.resolve(n.updateRanges(!0)):Promise.resolve()}}const uy=je._l.bindToContribution(Td.get);(0,je.fK)(new uy({id:"cancelLinkedEditingInput",precondition:K_,handler:p=>p.clearRanges(),kbOpts:{kbExpr:vt.u.editorTextFocus,weight:100+99,primary:9,secondary:[1033]}}));function G_(p,e,t,n){const s=p.ordered(e);return(0,kt.Ps)(s.map(o=>()=>Hp(this,void 0,void 0,function*(){try{return yield o.provideLinkedEditingRanges(e,t,n)}catch(g){(0,Ei.Cp)(g);return}})),o=>!!o&&$i.Of(o==null?void 0:o.ranges))}const hy=(0,Ce.P6G)("editor.linkedEditingBackground",{dark:ys.Il.fromHex("#f00").transparent(.3),light:ys.Il.fromHex("#f00").transparent(.3),hcDark:ys.Il.fromHex("#f00").transparent(.3),hcLight:ys.Il.white},_e.NC("editorLinkedEditingBackground","Background color when the editor auto renames on type."));(0,dt.Ic)((p,e)=>{const t=p.getColor(hy);t&&e.addRule(`.monaco-editor .${$_} { background: ${t}; border-left-color: ${t}; }`)}),(0,je.sb)("_executeLinkedEditingProvider",(p,e,t)=>{const{linkedEditingRangeProvider:n}=p.get(bi.p);return G_(n,e,t,ri.T.None)}),(0,je._K)(Td.ID,Td),(0,je.Qr)(dy);var Z_=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};class fy{constructor(e,t){this._link=e,this._provider=t}toJSON(){return{range:this.range,url:this.url,tooltip:this.tooltip}}get range(){return this._link.range}get url(){return this._link.url}get tooltip(){return this._link.tooltip}resolve(e){return Z_(this,void 0,void 0,function*(){return this._link.url?this._link.url:typeof this._provider.resolveLink=="function"?Promise.resolve(this._provider.resolveLink(this._link,e)).then(t=>(this._link=t||this._link,this._link.url?this.resolve(e):Promise.reject(new Error("missing")))):Promise.reject(new Error("missing"))})}}class Zg{constructor(e){this._disposables=new wt.SL;let t=[];for(const[n,s]of e){const o=n.links.map(g=>new fy(g,s));t=Zg._union(t,o),(0,wt.Wf)(n)&&this._disposables.add(n)}this.links=t}dispose(){this._disposables.dispose(),this.links.length=0}static _union(e,t){const n=[];let s,o,g,w;for(s=0,g=0,o=e.length,w=t.length;s<o&&g<w;){const G=e[s],J=t[g];if(_t.e.areIntersectingOrTouching(G.range,J.range)){s++;continue}_t.e.compareRangesUsingStarts(G.range,J.range)<0?(n.push(G),s++):(n.push(J),g++)}for(;s<o;s++)n.push(e[s]);for(;g<w;g++)n.push(t[g]);return n}}function Y_(p,e,t){const n=[],s=p.ordered(e).reverse().map((o,g)=>Promise.resolve(o.provideLinks(e,t)).then(w=>{w&&(n[g]=[w,o])},Ei.Cp));return Promise.all(s).then(()=>{const o=new Zg((0,$i.kX)(n));return t.isCancellationRequested?(o.dispose(),new Zg([])):o})}gi.P0.registerCommand("_executeLinkProvider",(p,...e)=>Z_(void 0,void 0,void 0,function*(){let[t,n]=e;(0,Zi.p_)(t instanceof Xi.o),typeof n!="number"&&(n=0);const{linkProvider:s}=p.get(bi.p),o=p.get(Ks.q).getModel(t);if(!o)return[];const g=yield Y_(s,o,ri.T.None);if(!g)return[];for(let G=0;G<Math.min(n,g.links.length);G++)yield g.links[G].resolve(ri.T.None);const w=g.links.slice(0);return g.dispose(),w}));var gy=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Yg=function(p,e){return function(t,n){e(t,n,p)}},my=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};let ch=class pv extends wt.JT{constructor(e,t,n,s,o){super(),this.editor=e,this.openerService=t,this.notificationService=n,this.languageFeaturesService=s,this.providers=this.languageFeaturesService.linkProvider,this.debounceInformation=o.for(this.providers,"Links",{min:1e3,max:4e3}),this.computeLinks=this._register(new kt.pY(()=>this.computeLinksNow(),1e3)),this.computePromise=null,this.activeLinksList=null,this.currentOccurrences={},this.activeLinkDecorationId=null;const g=this._register(new Vr(e));this._register(g.onMouseMoveOrRelevantKeyDown(([w,G])=>{this._onEditorMouseMove(w,G)})),this._register(g.onExecute(w=>{this.onEditorMouseUp(w)})),this._register(g.onCancel(w=>{this.cleanUpActiveLinkDecoration()})),this._register(e.onDidChangeConfiguration(w=>{!w.hasChanged(65)||(this.updateDecorations([]),this.stop(),this.computeLinks.schedule(0))})),this._register(e.onDidChangeModelContent(w=>{!this.editor.hasModel()||this.computeLinks.schedule(this.debounceInformation.get(this.editor.getModel()))})),this._register(e.onDidChangeModel(w=>{this.currentOccurrences={},this.activeLinkDecorationId=null,this.stop(),this.computeLinks.schedule(0)})),this._register(e.onDidChangeModelLanguage(w=>{this.stop(),this.computeLinks.schedule(0)})),this._register(this.providers.onDidChange(w=>{this.stop(),this.computeLinks.schedule(0)})),this.computeLinks.schedule(0)}static get(e){return e.getContribution(pv.ID)}computeLinksNow(){return my(this,void 0,void 0,function*(){if(!this.editor.hasModel()||!this.editor.getOption(65))return;const e=this.editor.getModel();if(!!this.providers.has(e)){this.activeLinksList&&(this.activeLinksList.dispose(),this.activeLinksList=null),this.computePromise=(0,kt.PG)(t=>Y_(this.providers,e,t));try{const t=new _r.G(!1);if(this.activeLinksList=yield this.computePromise,this.debounceInformation.update(e,t.elapsed()),e.isDisposed())return;this.updateDecorations(this.activeLinksList.links)}catch(t){(0,Ei.dL)(t)}finally{this.computePromise=null}}})}updateDecorations(e){const t=this.editor.getOption(72)==="altKey",n=[],s=Object.keys(this.currentOccurrences);for(const g of s){const w=this.currentOccurrences[g];n.push(w.decorationId)}const o=[];if(e)for(const g of e)o.push(dh.decoration(g,t));this.editor.changeDecorations(g=>{const w=g.deltaDecorations(n,o);this.currentOccurrences={},this.activeLinkDecorationId=null;for(let G=0,J=w.length;G<J;G++){const Q=new dh(e[G],w[G]);this.currentOccurrences[Q.decorationId]=Q}})}_onEditorMouseMove(e,t){const n=this.editor.getOption(72)==="altKey";if(this.isEnabled(e,t)){this.cleanUpActiveLinkDecoration();const s=this.getLinkOccurrence(e.target.position);s&&this.editor.changeDecorations(o=>{s.activate(o,n),this.activeLinkDecorationId=s.decorationId})}else this.cleanUpActiveLinkDecoration()}cleanUpActiveLinkDecoration(){const e=this.editor.getOption(72)==="altKey";if(this.activeLinkDecorationId){const t=this.currentOccurrences[this.activeLinkDecorationId];t&&this.editor.changeDecorations(n=>{t.deactivate(n,e)}),this.activeLinkDecorationId=null}}onEditorMouseUp(e){if(!this.isEnabled(e))return;const t=this.getLinkOccurrence(e.target.position);!t||this.openLinkOccurrence(t,e.hasSideBySideModifier,!0)}openLinkOccurrence(e,t,n=!1){if(!this.openerService)return;const{link:s}=e;s.resolve(ri.T.None).then(o=>{if(typeof o=="string"&&this.editor.hasModel()){const g=this.editor.getModel().uri;if(g.scheme===is.lg.file&&o.startsWith(`${is.lg.file}:`)){const w=Xi.o.parse(o);if(w.scheme===is.lg.file){const G=Ae.z_(w);let J=null;G.startsWith("/./")?J=`.${G.substr(1)}`:G.startsWith("//./")&&(J=`.${G.substr(2)}`),J&&(o=Ae.Vo(g,J))}}}return this.openerService.open(o,{openToSide:t,fromUserGesture:n,allowContributedOpeners:!0,allowCommands:!0,fromWorkspace:!0})},o=>{const g=o instanceof Error?o.message:o;g==="invalid"?this.notificationService.warn(_e.NC("invalid.url","Failed to open this link because it is not well-formed: {0}",s.url.toString())):g==="missing"?this.notificationService.warn(_e.NC("missing.url","Failed to open this link because its target is missing.")):(0,Ei.dL)(o)})}getLinkOccurrence(e){if(!this.editor.hasModel()||!e)return null;const t=this.editor.getModel().getDecorationsInRange({startLineNumber:e.lineNumber,startColumn:e.column,endLineNumber:e.lineNumber,endColumn:e.column},0,!0);for(const n of t){const s=this.currentOccurrences[n.id];if(s)return s}return null}isEnabled(e,t){return Boolean(e.target.type===6&&(e.hasTriggerModifier||t&&t.keyCodeIsTriggerKey))}stop(){var e;this.computeLinks.cancel(),this.activeLinksList&&((e=this.activeLinksList)===null||e===void 0||e.dispose(),this.activeLinksList=null),this.computePromise&&(this.computePromise.cancel(),this.computePromise=null)}dispose(){super.dispose(),this.stop()}};ch.ID="editor.linkDetector",ch=gy([Yg(1,gr.v4),Yg(2,et.lT),Yg(3,bi.p),Yg(4,Fo.A)],ch);const Q_={general:Xn.qx.register({description:"detected-link",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link"}),active:Xn.qx.register({description:"detected-link-active",stickiness:1,collapseOnReplaceEdit:!0,inlineClassName:"detected-link-active"})};class dh{constructor(e,t){this.link=e,this.decorationId=t}static decoration(e,t){return{range:e.range,options:dh._getOptions(e,t,!1)}}static _getOptions(e,t,n){const s=Object.assign({},n?Q_.active:Q_.general);return s.hoverMessage=py(e,t),s}activate(e,t){e.changeDecorationOptions(this.decorationId,dh._getOptions(this.link,t,!0))}deactivate(e,t){e.changeDecorationOptions(this.decorationId,dh._getOptions(this.link,t,!1))}}function py(p,e){const t=p.url&&/^command:/i.test(p.url.toString()),n=p.tooltip?p.tooltip:t?_e.NC("links.navigate.executeCmd","Execute command"):_e.NC("links.navigate.follow","Follow link"),s=e?ci.dz?_e.NC("links.navigate.kb.meta.mac","cmd + click"):_e.NC("links.navigate.kb.meta","ctrl + click"):ci.dz?_e.NC("links.navigate.kb.alt.mac","option + click"):_e.NC("links.navigate.kb.alt","alt + click");if(p.url){let o="";if(/^command:/i.test(p.url.toString())){const w=p.url.toString().match(/^command:([^?#]+)/);if(w){const G=w[1];o=_e.NC("tooltip.explanation","Execute command {0}",G)}}return new Wn.W5("",!0).appendLink(p.url.toString(!0).replace(/ /g,"%20"),n,o).appendMarkdown(` (${s})`)}else return new Wn.W5().appendText(`${n} (${s})`)}class _y extends je.R6{constructor(){super({id:"editor.action.openLink",label:_e.NC("label","Open Link"),alias:"Open Link",precondition:void 0})}run(e,t){const n=ch.get(t);if(!n||!t.hasModel())return;const s=t.getSelections();for(const o of s){const g=n.getLinkOccurrence(o.getEndPosition());g&&n.openLinkOccurrence(g,!1)}}}(0,je._K)(ch.ID,ch),(0,je.Qr)(_y),(0,dt.Ic)((p,e)=>{const t=p.getColor(Ce._Yy);t&&e.addRule(`.monaco-editor .detected-link-active { color: ${t} !important; }`)});var vy=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Cy=function(p,e){return function(t,n){e(t,n,p)}};function kd(p,e){const t=e.filter(n=>!p.find(s=>s.equals(n)));if(t.length>=1){const n=t.map(o=>`line ${o.viewState.position.lineNumber} column ${o.viewState.position.column}`).join(", "),s=t.length===1?_e.NC("cursorAdded","Cursor added: {0}",n):_e.NC("cursorsAdded","Cursors added: {0}",n);(0,Rn.i7)(s)}}class by extends je.R6{constructor(){super({id:"editor.action.insertCursorAbove",label:_e.NC("mutlicursor.insertAbove","Add Cursor Above"),alias:"Add Cursor Above",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2576,linux:{primary:1552,secondary:[3088]},weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"3_multi",title:_e.NC({key:"miInsertCursorAbove",comment:["&& denotes a mnemonic"]},"&&Add Cursor Above"),order:2}})}run(e,t,n){if(!t.hasModel())return;let s=!0;n&&n.logicalLine===!1&&(s=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const g=o.getCursorStates();o.setCursorStates(n.source,3,Fp.P.addCursorUp(o,g,s)),o.revealTopMostCursor(n.source),kd(g,o.getCursorStates())}}class wy extends je.R6{constructor(){super({id:"editor.action.insertCursorBelow",label:_e.NC("mutlicursor.insertBelow","Add Cursor Below"),alias:"Add Cursor Below",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2578,linux:{primary:1554,secondary:[3090]},weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"3_multi",title:_e.NC({key:"miInsertCursorBelow",comment:["&& denotes a mnemonic"]},"A&&dd Cursor Below"),order:3}})}run(e,t,n){if(!t.hasModel())return;let s=!0;n&&n.logicalLine===!1&&(s=!1);const o=t._getViewModel();if(o.cursorConfig.readOnly)return;o.model.pushStackElement();const g=o.getCursorStates();o.setCursorStates(n.source,3,Fp.P.addCursorDown(o,g,s)),o.revealBottomMostCursor(n.source),kd(g,o.getCursorStates())}}class Sy extends je.R6{constructor(){super({id:"editor.action.insertCursorAtEndOfEachLineSelected",label:_e.NC("mutlicursor.insertAtEndOfEachLineSelected","Add Cursors to Line Ends"),alias:"Add Cursors to Line Ends",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1575,weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"3_multi",title:_e.NC({key:"miInsertCursorAtEndOfEachLineSelected",comment:["&& denotes a mnemonic"]},"Add C&&ursors to Line Ends"),order:4}})}getCursorsForSelection(e,t,n){if(!e.isEmpty()){for(let s=e.startLineNumber;s<e.endLineNumber;s++){const o=t.getLineMaxColumn(s);n.push(new qn.Y(s,o,s,o))}e.endColumn>1&&n.push(new qn.Y(e.endLineNumber,e.endColumn,e.endLineNumber,e.endColumn))}}run(e,t){if(!t.hasModel())return;const n=t.getModel(),s=t.getSelections(),o=t._getViewModel(),g=o.getCursorStates(),w=[];s.forEach(G=>this.getCursorsForSelection(G,n,w)),w.length>0&&t.setSelections(w),kd(g,o.getCursorStates())}}class yy extends je.R6{constructor(){super({id:"editor.action.addCursorsToBottom",label:_e.NC("mutlicursor.addCursorsToBottom","Add Cursors To Bottom"),alias:"Add Cursors To Bottom",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getSelections(),s=t.getModel().getLineCount(),o=[];for(let G=n[0].startLineNumber;G<=s;G++)o.push(new qn.Y(G,n[0].startColumn,G,n[0].endColumn));const g=t._getViewModel(),w=g.getCursorStates();o.length>0&&t.setSelections(o),kd(w,g.getCursorStates())}}class Ly extends je.R6{constructor(){super({id:"editor.action.addCursorsToTop",label:_e.NC("mutlicursor.addCursorsToTop","Add Cursors To Top"),alias:"Add Cursors To Top",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getSelections(),s=[];for(let w=n[0].startLineNumber;w>=1;w--)s.push(new qn.Y(w,n[0].startColumn,w,n[0].endColumn));const o=t._getViewModel(),g=o.getCursorStates();s.length>0&&t.setSelections(s),kd(g,o.getCursorStates())}}class Qg{constructor(e,t,n){this.selections=e,this.revealRange=t,this.revealScrollType=n}}class yf{constructor(e,t,n,s,o,g,w){this._editor=e,this.findController=t,this.isDisconnectedFromFindController=n,this.searchText=s,this.wholeWord=o,this.matchCase=g,this.currentMatch=w}static create(e,t){if(!e.hasModel())return null;const n=t.getState();if(!e.hasTextFocus()&&n.isRevealed&&n.searchString.length>0)return new yf(e,t,!1,n.searchString,n.wholeWord,n.matchCase,null);let s=!1,o,g;const w=e.getSelections();w.length===1&&w[0].isEmpty()?(s=!0,o=!0,g=!0):(o=n.wholeWord,g=n.matchCase);const G=e.getSelection();let J,Q=null;if(G.isEmpty()){const ue=e.getConfiguredWordAtPosition(G.getStartPosition());if(!ue)return null;J=ue.word,Q=new qn.Y(G.startLineNumber,ue.startColumn,G.startLineNumber,ue.endColumn)}else J=e.getModel().getValueInRange(G).replace(/\r\n/g,`
`);return new yf(e,t,s,J,o,g,Q)}addSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new Qg(t.concat(e),e,0)}moveSelectionToNextFindMatch(){if(!this._editor.hasModel())return null;const e=this._getNextMatch();if(!e)return null;const t=this._editor.getSelections();return new Qg(t.slice(0,t.length-1).concat(e),e,0)}_getNextMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const s=this.currentMatch;return this.currentMatch=null,s}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],n=this._editor.getModel().findNextMatch(this.searchText,t.getEndPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return n?new qn.Y(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}addSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new Qg(t.concat(e),e,0)}moveSelectionToPreviousFindMatch(){if(!this._editor.hasModel())return null;const e=this._getPreviousMatch();if(!e)return null;const t=this._editor.getSelections();return new Qg(t.slice(0,t.length-1).concat(e),e,0)}_getPreviousMatch(){if(!this._editor.hasModel())return null;if(this.currentMatch){const s=this.currentMatch;return this.currentMatch=null,s}this.findController.highlightFindOptions();const e=this._editor.getSelections(),t=e[e.length-1],n=this._editor.getModel().findPreviousMatch(this.searchText,t.getStartPosition(),!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1);return n?new qn.Y(n.range.startLineNumber,n.range.startColumn,n.range.endLineNumber,n.range.endColumn):null}selectAll(e){if(!this._editor.hasModel())return[];this.findController.highlightFindOptions();const t=this._editor.getModel();return e?t.findMatches(this.searchText,e,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824):t.findMatches(this.searchText,!0,!1,this.matchCase,this.wholeWord?this._editor.getOption(119):null,!1,1073741824)}}class lu extends wt.JT{constructor(e){super(),this._sessionDispose=this._register(new wt.SL),this._editor=e,this._ignoreSelectionChange=!1,this._session=null}static get(e){return e.getContribution(lu.ID)}dispose(){this._endSession(),super.dispose()}_beginSessionIfNeeded(e){if(!this._session){const t=yf.create(this._editor,e);if(!t)return;this._session=t;const n={searchString:this._session.searchText};this._session.isDisconnectedFromFindController&&(n.wholeWordOverride=1,n.matchCaseOverride=1,n.isRegexOverride=2),e.getState().change(n,!1),this._sessionDispose.add(this._editor.onDidChangeCursorSelection(s=>{this._ignoreSelectionChange||this._endSession()})),this._sessionDispose.add(this._editor.onDidBlurEditorText(()=>{this._endSession()})),this._sessionDispose.add(e.getState().onFindReplaceStateChange(s=>{(s.matchCase||s.wholeWord)&&this._endSession()}))}}_endSession(){if(this._sessionDispose.clear(),this._session&&this._session.isDisconnectedFromFindController){const e={wholeWordOverride:0,matchCaseOverride:0,isRegexOverride:0};this._session.findController.getState().change(e,!1)}this._session=null}_setSelections(e){this._ignoreSelectionChange=!0,this._editor.setSelections(e),this._ignoreSelectionChange=!1}_expandEmptyToWord(e,t){if(!t.isEmpty())return t;const n=this._editor.getConfiguredWordAtPosition(t.getStartPosition());return n?new qn.Y(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):t}_applySessionResult(e){!e||(this._setSelections(e.selections),e.revealRange&&this._editor.revealRangeInCenterIfOutsideViewport(e.revealRange,e.revealScrollType))}getSession(e){return this._session}addSelectionToNextFindMatch(e){if(!!this._editor.hasModel()){if(!this._session){const t=this._editor.getSelections();if(t.length>1){const s=e.getState().matchCase;if(!X_(this._editor.getModel(),t,s)){const g=this._editor.getModel(),w=[];for(let G=0,J=t.length;G<J;G++)w[G]=this._expandEmptyToWord(g,t[G]);this._editor.setSelections(w);return}}}this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToNextFindMatch())}}addSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.addSelectionToPreviousFindMatch())}moveSelectionToNextFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToNextFindMatch())}moveSelectionToPreviousFindMatch(e){this._beginSessionIfNeeded(e),this._session&&this._applySessionResult(this._session.moveSelectionToPreviousFindMatch())}selectAll(e){if(!this._editor.hasModel())return;let t=null;const n=e.getState();if(n.isRevealed&&n.searchString.length>0&&n.isRegex){const s=this._editor.getModel();n.searchScope?t=s.findMatches(n.searchString,n.searchScope,n.isRegex,n.matchCase,n.wholeWord?this._editor.getOption(119):null,!1,1073741824):t=s.findMatches(n.searchString,!0,n.isRegex,n.matchCase,n.wholeWord?this._editor.getOption(119):null,!1,1073741824)}else{if(this._beginSessionIfNeeded(e),!this._session)return;t=this._session.selectAll(n.searchScope)}if(t.length>0){const s=this._editor.getSelection();for(let o=0,g=t.length;o<g;o++){const w=t[o];if(w.range.intersectRanges(s)){t[o]=t[0],t[0]=w;break}}this._setSelections(t.map(o=>new qn.Y(o.range.startLineNumber,o.range.startColumn,o.range.endLineNumber,o.range.endColumn)))}}}lu.ID="editor.contrib.multiCursorController";class uh extends je.R6{run(e,t){const n=lu.get(t);if(!n)return;const s=Aa.get(t);if(!s)return;const o=t._getViewModel();if(o){const g=o.getCursorStates();this._run(n,s),kd(g,o.getCursorStates())}}}class Ey extends uh{constructor(){super({id:"editor.action.addSelectionToNextFindMatch",label:_e.NC("addSelectionToNextFindMatch","Add Selection To Next Find Match"),alias:"Add Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:2082,weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"3_multi",title:_e.NC({key:"miAddSelectionToNextFindMatch",comment:["&& denotes a mnemonic"]},"Add &&Next Occurrence"),order:5}})}_run(e,t){e.addSelectionToNextFindMatch(t)}}class Dy extends uh{constructor(){super({id:"editor.action.addSelectionToPreviousFindMatch",label:_e.NC("addSelectionToPreviousFindMatch","Add Selection To Previous Find Match"),alias:"Add Selection To Previous Find Match",precondition:void 0,menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"3_multi",title:_e.NC({key:"miAddSelectionToPreviousFindMatch",comment:["&& denotes a mnemonic"]},"Add P&&revious Occurrence"),order:6}})}_run(e,t){e.addSelectionToPreviousFindMatch(t)}}class xy extends uh{constructor(){super({id:"editor.action.moveSelectionToNextFindMatch",label:_e.NC("moveSelectionToNextFindMatch","Move Last Selection To Next Find Match"),alias:"Move Last Selection To Next Find Match",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:(0,wn.gx)(2089,2082),weight:100}})}_run(e,t){e.moveSelectionToNextFindMatch(t)}}class Iy extends uh{constructor(){super({id:"editor.action.moveSelectionToPreviousFindMatch",label:_e.NC("moveSelectionToPreviousFindMatch","Move Last Selection To Previous Find Match"),alias:"Move Last Selection To Previous Find Match",precondition:void 0})}_run(e,t){e.moveSelectionToPreviousFindMatch(t)}}class Ny extends uh{constructor(){super({id:"editor.action.selectHighlights",label:_e.NC("selectAllOccurrencesOfFindMatch","Select All Occurrences of Find Match"),alias:"Select All Occurrences of Find Match",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:3114,weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"3_multi",title:_e.NC({key:"miSelectHighlights",comment:["&& denotes a mnemonic"]},"Select All &&Occurrences"),order:7}})}_run(e,t){e.selectAll(t)}}class Ty extends uh{constructor(){super({id:"editor.action.changeAll",label:_e.NC("changeAll.label","Change All Occurrences"),alias:"Change All Occurrences",precondition:ht.Ao.and(vt.u.writable,vt.u.editorTextFocus),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:2108,weight:100},contextMenuOpts:{group:"1_modification",order:1.2}})}_run(e,t){e.selectAll(t)}}class ky{constructor(e,t,n,s,o){this._model=e,this._searchText=t,this._matchCase=n,this._wordSeparators=s,this._modelVersionId=this._model.getVersionId(),this._cachedFindMatches=null,o&&this._model===o._model&&this._searchText===o._searchText&&this._matchCase===o._matchCase&&this._wordSeparators===o._wordSeparators&&this._modelVersionId===o._modelVersionId&&(this._cachedFindMatches=o._cachedFindMatches)}findMatches(){return this._cachedFindMatches===null&&(this._cachedFindMatches=this._model.findMatches(this._searchText,!0,!1,this._matchCase,this._wordSeparators,!1).map(e=>e.range),this._cachedFindMatches.sort(_t.e.compareRangesUsingStarts)),this._cachedFindMatches}}let cu=class xm extends wt.JT{constructor(e,t){super(),this._languageFeaturesService=t,this.editor=e,this._isEnabled=e.getOption(99),this._decorations=e.createDecorationsCollection(),this.updateSoon=this._register(new kt.pY(()=>this._update(),300)),this.state=null,this._register(e.onDidChangeConfiguration(s=>{this._isEnabled=e.getOption(99)})),this._register(e.onDidChangeCursorSelection(s=>{!this._isEnabled||(s.selection.isEmpty()?s.reason===3?(this.state&&this._setState(null),this.updateSoon.schedule()):this._setState(null):this._update())})),this._register(e.onDidChangeModel(s=>{this._setState(null)})),this._register(e.onDidChangeModelContent(s=>{this._isEnabled&&this.updateSoon.schedule()}));const n=Aa.get(e);n&&this._register(n.getState().onFindReplaceStateChange(s=>{this._update()}))}_update(){this._setState(xm._createState(this.state,this._isEnabled,this.editor))}static _createState(e,t,n){if(!t||!n.hasModel())return null;const s=n.getSelection();if(s.startLineNumber!==s.endLineNumber)return null;const o=lu.get(n);if(!o)return null;const g=Aa.get(n);if(!g)return null;let w=o.getSession(g);if(!w){const Q=n.getSelections();if(Q.length>1){const Ne=g.getState().matchCase;if(!X_(n.getModel(),Q,Ne))return null}w=yf.create(n,g)}if(!w||w.currentMatch||/^[ \t]+$/.test(w.searchText)||w.searchText.length>200)return null;const G=g.getState(),J=G.matchCase;if(G.isRevealed){let Q=G.searchString;J||(Q=Q.toLowerCase());let ue=w.searchText;if(J||(ue=ue.toLowerCase()),Q===ue&&w.matchCase===G.matchCase&&w.wholeWord===G.wholeWord&&!G.isRegex)return null}return new ky(n.getModel(),w.searchText,w.matchCase,w.wholeWord?n.getOption(119):null,e)}_setState(e){if(this.state=e,!this.state){this._decorations.clear();return}if(!this.editor.hasModel())return;const t=this.editor.getModel();if(t.isTooLargeForTokenization())return;const n=this.state.findMatches(),s=this.editor.getSelections();s.sort(_t.e.compareRangesUsingStarts);const o=[];for(let G=0,J=0,Q=n.length,ue=s.length;G<Q;){const Ne=n[G];if(J>=ue)o.push(Ne),G++;else{const st=_t.e.compareRangesUsingStarts(Ne,s[J]);st<0?((s[J].isEmpty()||!_t.e.areIntersecting(Ne,s[J]))&&o.push(Ne),G++):(st>0||G++,J++)}}const g=this._languageFeaturesService.documentHighlightProvider.has(t)&&this.editor.getOption(74),w=o.map(G=>({range:G,options:g?xm._SELECTION_HIGHLIGHT:xm._SELECTION_HIGHLIGHT_OVERVIEW}));this._decorations.set(w)}dispose(){this._setState(null),super.dispose()}};cu.ID="editor.contrib.selectionHighlighter",cu._SELECTION_HIGHLIGHT_OVERVIEW=Xn.qx.register({description:"selection-highlight-overview",stickiness:1,className:"selectionHighlight",minimap:{color:(0,dt.EN)(Ce.IYc),position:di.F5.Inline},overviewRuler:{color:(0,dt.EN)(Ce.SPM),position:di.sh.Center}}),cu._SELECTION_HIGHLIGHT=Xn.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight"}),cu=vy([Cy(1,bi.p)],cu);function X_(p,e,t){const n=J_(p,e[0],!t);for(let s=1,o=e.length;s<o;s++){const g=e[s];if(g.isEmpty())return!1;const w=J_(p,g,!t);if(n!==w)return!1}return!0}function J_(p,e,t){const n=p.getValueInRange(e);return t?n.toLowerCase():n}class My extends je.R6{constructor(){super({id:"editor.action.focusNextCursor",label:_e.NC("mutlicursor.focusNextCursor","Focus Next Cursor"),description:{description:_e.NC("mutlicursor.focusNextCursor.description","Focuses the next cursor"),args:[]},alias:"Focus Next Cursor",precondition:void 0})}run(e,t,n){if(!t.hasModel())return;const s=t._getViewModel();if(s.cursorConfig.readOnly)return;s.model.pushStackElement();const o=Array.from(s.getCursorStates()),g=o.shift();!g||(o.push(g),s.setCursorStates(n.source,3,o),s.revealPrimaryCursor(n.source,!0),kd(o,s.getCursorStates()))}}class Ry extends je.R6{constructor(){super({id:"editor.action.focusPreviousCursor",label:_e.NC("mutlicursor.focusPreviousCursor","Focus Previous Cursor"),description:{description:_e.NC("mutlicursor.focusPreviousCursor.description","Focuses the previous cursor"),args:[]},alias:"Focus Previous Cursor",precondition:void 0})}run(e,t,n){if(!t.hasModel())return;const s=t._getViewModel();if(s.cursorConfig.readOnly)return;s.model.pushStackElement();const o=Array.from(s.getCursorStates()),g=o.pop();!g||(o.unshift(g),s.setCursorStates(n.source,3,o),s.revealPrimaryCursor(n.source,!0),kd(o,s.getCursorStates()))}}(0,je._K)(lu.ID,lu),(0,je._K)(cu.ID,cu),(0,je.Qr)(by),(0,je.Qr)(wy),(0,je.Qr)(Sy),(0,je.Qr)(Ey),(0,je.Qr)(Dy),(0,je.Qr)(xy),(0,je.Qr)(Iy),(0,je.Qr)(Ny),(0,je.Qr)(Ty),(0,je.Qr)(yy),(0,je.Qr)(Ly),(0,je.Qr)(My),(0,je.Qr)(Ry);var q_=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};const du={Visible:new ht.uy("parameterHintsVisible",!1),MultipleSignatures:new ht.uy("parameterHintsMultipleSignatures",!1)};function e1(p,e,t,n,s){return q_(this,void 0,void 0,function*(){const o=p.ordered(e);for(const g of o)try{const w=yield g.provideSignatureHelp(e,t,s,n);if(w)return w}catch(w){(0,Ei.Cp)(w)}})}gi.P0.registerCommand("_executeSignatureHelpProvider",(p,...e)=>q_(void 0,void 0,void 0,function*(){const[t,n,s]=e;(0,Zi.p_)(Xi.o.isUri(t)),(0,Zi.p_)(ln.L.isIPosition(n)),(0,Zi.p_)(typeof s=="string"||!s);const o=p.get(bi.p),g=yield p.get(Cr.S).createModelReference(t);try{const w=yield e1(o.signatureHelpProvider,g.object.textEditorModel,ln.L.lift(n),{triggerKind:un.WW.Invoke,isRetrigger:!1,triggerCharacter:s},ri.T.None);return w?(setTimeout(()=>w.dispose(),0),w.value):void 0}finally{g.dispose()}}));var Ay=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})},Md;(function(p){p.Default={type:0};class e{constructor(s,o){this.request=s,this.previouslyActiveHints=o,this.type=2}}p.Pending=e;class t{constructor(s){this.hints=s,this.type=1}}p.Active=t})(Md||(Md={}));class Xg extends wt.JT{constructor(e,t,n=Xg.DEFAULT_DELAY){super(),this._onChangedHints=this._register(new ni.Q5),this.onChangedHints=this._onChangedHints.event,this.triggerOnType=!1,this._state=Md.Default,this._pendingTriggers=[],this._lastSignatureHelpResult=this._register(new wt.XK),this.triggerChars=new Ju.q,this.retriggerChars=new Ju.q,this.triggerId=0,this.editor=e,this.providers=t,this.throttledDelayer=new kt.vp(n),this._register(this.editor.onDidBlurEditorWidget(()=>this.cancel())),this._register(this.editor.onDidChangeConfiguration(()=>this.onEditorConfigurationChange())),this._register(this.editor.onDidChangeModel(s=>this.onModelChanged())),this._register(this.editor.onDidChangeModelLanguage(s=>this.onModelChanged())),this._register(this.editor.onDidChangeCursorSelection(s=>this.onCursorChange(s))),this._register(this.editor.onDidChangeModelContent(s=>this.onModelContentChange())),this._register(this.providers.onDidChange(this.onModelChanged,this)),this._register(this.editor.onDidType(s=>this.onDidType(s))),this.onEditorConfigurationChange(),this.onModelChanged()}get state(){return this._state}set state(e){this._state.type===2&&this._state.request.cancel(),this._state=e}cancel(e=!1){this.state=Md.Default,this.throttledDelayer.cancel(),e||this._onChangedHints.fire(void 0)}trigger(e,t){const n=this.editor.getModel();if(!n||!this.providers.has(n))return;const s=++this.triggerId;this._pendingTriggers.push(e),this.throttledDelayer.trigger(()=>this.doTrigger(s),t).catch(Ei.dL)}next(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t%e===e-1,s=this.editor.getOption(78).cycle;if((e<2||n)&&!s){this.cancel();return}this.updateActiveSignature(n&&s?0:t+1)}previous(){if(this.state.type!==1)return;const e=this.state.hints.signatures.length,t=this.state.hints.activeSignature,n=t===0,s=this.editor.getOption(78).cycle;if((e<2||n)&&!s){this.cancel();return}this.updateActiveSignature(n&&s?e-1:t-1)}updateActiveSignature(e){this.state.type===1&&(this.state=new Md.Active(Object.assign(Object.assign({},this.state.hints),{activeSignature:e})),this._onChangedHints.fire(this.state.hints))}doTrigger(e){return Ay(this,void 0,void 0,function*(){const t=this.state.type===1||this.state.type===2,n=this.getLastActiveHints();if(this.cancel(!0),this._pendingTriggers.length===0)return!1;const s=this._pendingTriggers.reduce(Py);this._pendingTriggers=[];const o={triggerKind:s.triggerKind,triggerCharacter:s.triggerCharacter,isRetrigger:t,activeSignatureHelp:n};if(!this.editor.hasModel())return!1;const g=this.editor.getModel(),w=this.editor.getPosition();this.state=new Md.Pending((0,kt.PG)(G=>e1(this.providers,g,w,o,G)),n);try{const G=yield this.state.request;return e!==this.triggerId?(G==null||G.dispose(),!1):!G||!G.value.signatures||G.value.signatures.length===0?(G==null||G.dispose(),this._lastSignatureHelpResult.clear(),this.cancel(),!1):(this.state=new Md.Active(G.value),this._lastSignatureHelpResult.value=G,this._onChangedHints.fire(this.state.hints),!0)}catch(G){return e===this.triggerId&&(this.state=Md.Default),(0,Ei.dL)(G),!1}})}getLastActiveHints(){switch(this.state.type){case 1:return this.state.hints;case 2:return this.state.previouslyActiveHints;default:return}}get isTriggered(){return this.state.type===1||this.state.type===2||this.throttledDelayer.isTriggered()}onModelChanged(){this.cancel(),this.triggerChars=new Ju.q,this.retriggerChars=new Ju.q;const e=this.editor.getModel();if(!!e)for(const t of this.providers.ordered(e)){for(const n of t.signatureHelpTriggerCharacters||[])this.triggerChars.add(n.charCodeAt(0)),this.retriggerChars.add(n.charCodeAt(0));for(const n of t.signatureHelpRetriggerCharacters||[])this.retriggerChars.add(n.charCodeAt(0))}}onDidType(e){if(!this.triggerOnType)return;const t=e.length-1,n=e.charCodeAt(t);(this.triggerChars.has(n)||this.isTriggered&&this.retriggerChars.has(n))&&this.trigger({triggerKind:un.WW.TriggerCharacter,triggerCharacter:e.charAt(t)})}onCursorChange(e){e.source==="mouse"?this.cancel():this.isTriggered&&this.trigger({triggerKind:un.WW.ContentChange})}onModelContentChange(){this.isTriggered&&this.trigger({triggerKind:un.WW.ContentChange})}onEditorConfigurationChange(){this.triggerOnType=this.editor.getOption(78).enabled,this.triggerOnType||this.cancel()}dispose(){this.cancel(!0),super.dispose()}}Xg.DEFAULT_DELAY=120;function Py(p,e){switch(e.triggerKind){case un.WW.Invoke:return e;case un.WW.ContentChange:return p;case un.WW.TriggerCharacter:default:return e}}var Oy=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Jg=function(p,e){return function(t,n){e(t,n,p)}};const Ga=we.$,Fy=(0,sr.q5)("parameter-hints-next",Nn.lA.chevronDown,_e.NC("parameterHintsNextIcon","Icon for show next parameter hint.")),By=(0,sr.q5)("parameter-hints-previous",Nn.lA.chevronUp,_e.NC("parameterHintsPreviousIcon","Icon for show previous parameter hint."));let qg=class _v extends wt.JT{constructor(e,t,n,s,o){super(),this.editor=e,this.renderDisposeables=this._register(new wt.SL),this.visible=!1,this.announcedLabel=null,this.allowEditorOverflow=!0,this.markdownRenderer=this._register(new Gl({editor:e},s,n)),this.model=this._register(new Xg(e,o.signatureHelpProvider)),this.keyVisible=du.Visible.bindTo(t),this.keyMultipleSignatures=du.MultipleSignatures.bindTo(t),this._register(this.model.onChangedHints(g=>{g?(this.show(),this.render(g)):this.hide()}))}createParameterHintDOMNodes(){const e=Ga(".editor-widget.parameter-hints-widget"),t=we.R3(e,Ga(".phwrapper"));t.tabIndex=-1;const n=we.R3(t,Ga(".controls")),s=we.R3(n,Ga(".button"+dt.kS.asCSSSelector(By))),o=we.R3(n,Ga(".overloads")),g=we.R3(n,Ga(".button"+dt.kS.asCSSSelector(Fy)));this._register(we.nm(s,"click",Ne=>{we.zB.stop(Ne),this.previous()})),this._register(we.nm(g,"click",Ne=>{we.zB.stop(Ne),this.next()}));const w=Ga(".body"),G=new Bt.s$(w,{alwaysConsumeMouseWheel:!0});this._register(G),t.appendChild(G.getDomNode());const J=we.R3(w,Ga(".signature")),Q=we.R3(w,Ga(".docs"));e.style.userSelect="text",this.domNodes={element:e,signature:J,overloads:o,docs:Q,scrollbar:G},this.editor.addContentWidget(this),this.hide(),this._register(this.editor.onDidChangeCursorSelection(Ne=>{this.visible&&this.editor.layoutContentWidget(this)}));const ue=()=>{if(!this.domNodes)return;const Ne=this.editor.getOption(46);this.domNodes.element.style.fontSize=`${Ne.fontSize}px`,this.domNodes.element.style.lineHeight=`${Ne.lineHeight/Ne.fontSize}`};ue(),this._register(ni.ju.chain(this.editor.onDidChangeConfiguration.bind(this.editor)).filter(Ne=>Ne.hasChanged(46)).on(ue,null)),this._register(this.editor.onDidLayoutChange(Ne=>this.updateMaxHeight())),this.updateMaxHeight()}show(){this.visible||(this.domNodes||this.createParameterHintDOMNodes(),this.keyVisible.set(!0),this.visible=!0,setTimeout(()=>{var e;(e=this.domNodes)===null||e===void 0||e.element.classList.add("visible")},100),this.editor.layoutContentWidget(this))}hide(){var e;this.renderDisposeables.clear(),this.visible&&(this.keyVisible.reset(),this.visible=!1,this.announcedLabel=null,(e=this.domNodes)===null||e===void 0||e.element.classList.remove("visible"),this.editor.layoutContentWidget(this))}getPosition(){return this.visible?{position:this.editor.getPosition(),preference:[1,2]}:null}render(e){var t;if(this.renderDisposeables.clear(),!this.domNodes)return;const n=e.signatures.length>1;this.domNodes.element.classList.toggle("multiple",n),this.keyMultipleSignatures.set(n),this.domNodes.signature.innerText="",this.domNodes.docs.innerText="";const s=e.signatures[e.activeSignature];if(!s)return;const o=we.R3(this.domNodes.signature,Ga(".code")),g=this.editor.getOption(46);o.style.fontSize=`${g.fontSize}px`,o.style.fontFamily=g.fontFamily;const w=s.parameters.length>0,G=(t=s.activeParameter)!==null&&t!==void 0?t:e.activeParameter;if(w)this.renderParameters(o,s,G);else{const ue=we.R3(o,Ga("span"));ue.textContent=s.label}const J=s.parameters[G];if(J!=null&&J.documentation){const ue=Ga("span.documentation");if(typeof J.documentation=="string")ue.textContent=J.documentation;else{const Ne=this.renderMarkdownDocs(J.documentation);ue.appendChild(Ne.element)}we.R3(this.domNodes.docs,Ga("p",{},ue))}if(s.documentation!==void 0)if(typeof s.documentation=="string")we.R3(this.domNodes.docs,Ga("p",{},s.documentation));else{const ue=this.renderMarkdownDocs(s.documentation);we.R3(this.domNodes.docs,ue.element)}const Q=this.hasDocs(s,J);if(this.domNodes.signature.classList.toggle("has-docs",Q),this.domNodes.docs.classList.toggle("empty",!Q),this.domNodes.overloads.textContent=String(e.activeSignature+1).padStart(e.signatures.length.toString().length,"0")+"/"+e.signatures.length,J){let ue="";const Ne=s.parameters[G];Array.isArray(Ne.label)?ue=s.label.substring(Ne.label[0],Ne.label[1]):ue=Ne.label,Ne.documentation&&(ue+=typeof Ne.documentation=="string"?`, ${Ne.documentation}`:`, ${Ne.documentation.value}`),s.documentation&&(ue+=typeof s.documentation=="string"?`, ${s.documentation}`:`, ${s.documentation.value}`),this.announcedLabel!==ue&&(Rn.Z9(_e.NC("hint","{0}, hint",ue)),this.announcedLabel=ue)}this.editor.layoutContentWidget(this),this.domNodes.scrollbar.scanDomNode()}renderMarkdownDocs(e){const t=this.renderDisposeables.add(this.markdownRenderer.render(e,{asyncRenderCallback:()=>{var n;(n=this.domNodes)===null||n===void 0||n.scrollbar.scanDomNode()}}));return t.element.classList.add("markdown-docs"),t}hasDocs(e,t){return!!(t&&typeof t.documentation=="string"&&(0,Zi.cW)(t.documentation).length>0||t&&typeof t.documentation=="object"&&(0,Zi.cW)(t.documentation).value.length>0||e.documentation&&typeof e.documentation=="string"&&(0,Zi.cW)(e.documentation).length>0||e.documentation&&typeof e.documentation=="object"&&(0,Zi.cW)(e.documentation.value).length>0)}renderParameters(e,t,n){const[s,o]=this.getParameterLabelOffsets(t,n),g=document.createElement("span");g.textContent=t.label.substring(0,s);const w=document.createElement("span");w.textContent=t.label.substring(s,o),w.className="parameter active";const G=document.createElement("span");G.textContent=t.label.substring(o),we.R3(e,g,w,G)}getParameterLabelOffsets(e,t){const n=e.parameters[t];if(n){if(Array.isArray(n.label))return n.label;if(n.label.length){const s=new RegExp(`(\\W|^)${(0,fi.ec)(n.label)}(?=\\W|$)`,"g");s.test(e.label);const o=s.lastIndex-n.label.length;return o>=0?[o,s.lastIndex]:[0,0]}else return[0,0]}else return[0,0]}next(){this.editor.focus(),this.model.next()}previous(){this.editor.focus(),this.model.previous()}cancel(){this.model.cancel()}getDomNode(){return this.domNodes||this.createParameterHintDOMNodes(),this.domNodes.element}getId(){return _v.ID}trigger(e){this.model.trigger(e,0)}updateMaxHeight(){if(!this.domNodes)return;const t=`${Math.max(this.editor.getLayoutInfo().height/4,250)}px`;this.domNodes.element.style.maxHeight=t;const n=this.domNodes.element.getElementsByClassName("phwrapper");n.length&&(n[0].style.maxHeight=t)}};qg.ID="editor.widget.parameterHintsWidget",qg=Oy([Jg(1,ht.i6),Jg(2,gr.v4),Jg(3,Yo.O),Jg(4,bi.p)],qg);const Wy=(0,Ce.P6G)("editorHoverWidget.highlightForeground",{dark:Ce.Gwp,light:Ce.Gwp,hcDark:Ce.Gwp,hcLight:Ce.Gwp},_e.NC("editorHoverWidgetHighlightForeground","Foreground color of the active item in the parameter hint."));(0,dt.Ic)((p,e)=>{const t=p.getColor(Ce.CNo);if(t){const J=(0,qo.c3)(p.type)?2:1;e.addRule(`.monaco-editor .parameter-hints-widget { border: ${J}px solid ${t}; }`),e.addRule(`.monaco-editor .parameter-hints-widget.multiple .body { border-left: 1px solid ${t.transparent(.5)}; }`),e.addRule(`.monaco-editor .parameter-hints-widget .signature.has-docs { border-bottom: 1px solid ${t.transparent(.5)}; }`)}const n=p.getColor(Ce.yJx);n&&e.addRule(`.monaco-editor .parameter-hints-widget { background-color: ${n}; }`);const s=p.getColor(Ce.url);s&&e.addRule(`.monaco-editor .parameter-hints-widget a { color: ${s}; }`);const o=p.getColor(Ce.sgC);o&&e.addRule(`.monaco-editor .parameter-hints-widget a:hover { color: ${o}; }`);const g=p.getColor(Ce.Sbf);g&&e.addRule(`.monaco-editor .parameter-hints-widget { color: ${g}; }`);const w=p.getColor(Ce.SwI);w&&e.addRule(`.monaco-editor .parameter-hints-widget code { background-color: ${w}; }`);const G=p.getColor(Wy);G&&e.addRule(`.monaco-editor .parameter-hints-widget .parameter.active { color: ${G}}`)});var Vy=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Hy=function(p,e){return function(t,n){e(t,n,p)}};let uu=class vv extends wt.JT{constructor(e,t){super(),this.editor=e,this.widget=this._register(t.createInstance(qg,this.editor))}static get(e){return e.getContribution(vv.ID)}cancel(){this.widget.cancel()}previous(){this.widget.previous()}next(){this.widget.next()}trigger(e){this.widget.trigger(e)}};uu.ID="editor.controller.parameterHints",uu=Vy([Hy(1,ki.TG)],uu);class zy extends je.R6{constructor(){super({id:"editor.action.triggerParameterHints",label:_e.NC("parameterHints.trigger.label","Trigger Parameter Hints"),alias:"Trigger Parameter Hints",precondition:vt.u.hasSignatureHelpProvider,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:3082,weight:100}})}run(e,t){const n=uu.get(t);n&&n.trigger({triggerKind:un.WW.Invoke})}}(0,je._K)(uu.ID,uu),(0,je.Qr)(zy);const zp=100+75,Up=je._l.bindToContribution(uu.get);(0,je.fK)(new Up({id:"closeParameterHints",precondition:du.Visible,handler:p=>p.cancel(),kbOpts:{weight:zp,kbExpr:vt.u.focus,primary:9,secondary:[1033]}})),(0,je.fK)(new Up({id:"showPrevParameterHint",precondition:ht.Ao.and(du.Visible,du.MultipleSignatures),handler:p=>p.previous(),kbOpts:{weight:zp,kbExpr:vt.u.focus,primary:16,secondary:[528],mac:{primary:16,secondary:[528,302]}}})),(0,je.fK)(new Up({id:"showNextParameterHint",precondition:ht.Ao.and(du.Visible,du.MultipleSignatures),handler:p=>p.next(),kbOpts:{weight:zp,kbExpr:vt.u.focus,primary:18,secondary:[530],mac:{primary:18,secondary:[530,300]}}}));var Uy=l(39839),jy=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},jp=function(p,e){return function(t,n){e(t,n,p)}};const em=new ht.uy("renameInputVisible",!1,(0,_e.NC)("renameInputVisible","Whether the rename input widget is visible"));let Kp=class{constructor(e,t,n,s,o){this._editor=e,this._acceptKeybindings=t,this._themeService=n,this._keybindingService=s,this._disposables=new wt.SL,this.allowEditorOverflow=!0,this._visibleContextKey=em.bindTo(o),this._editor.addContentWidget(this),this._disposables.add(this._editor.onDidChangeConfiguration(g=>{g.hasChanged(46)&&this._updateFont()})),this._disposables.add(n.onDidColorThemeChange(this._updateStyles,this))}dispose(){this._disposables.dispose(),this._editor.removeContentWidget(this)}getId(){return"__renameInputWidget"}getDomNode(){if(!this._domNode){this._domNode=document.createElement("div"),this._domNode.className="monaco-editor rename-box",this._input=document.createElement("input"),this._input.className="rename-input",this._input.type="text",this._input.setAttribute("aria-label",(0,_e.NC)("renameAriaLabel","Rename input. Type new name and press Enter to commit.")),this._domNode.appendChild(this._input),this._label=document.createElement("div"),this._label.className="rename-label",this._domNode.appendChild(this._label);const e=()=>{var t,n;const[s,o]=this._acceptKeybindings;this._keybindingService.lookupKeybinding(s),this._label.innerText=(0,_e.NC)({key:"label",comment:['placeholders are keybindings, e.g "F2 to Rename, Shift+F2 to Preview"']},"{0} to Rename, {1} to Preview",(t=this._keybindingService.lookupKeybinding(s))===null||t===void 0?void 0:t.getLabel(),(n=this._keybindingService.lookupKeybinding(o))===null||n===void 0?void 0:n.getLabel())};e(),this._disposables.add(this._keybindingService.onDidUpdateKeybindings(e)),this._updateFont(),this._updateStyles(this._themeService.getColorTheme())}return this._domNode}_updateStyles(e){var t,n,s,o;if(!this._input||!this._domNode)return;const g=e.getColor(Ce.rh);this._domNode.style.backgroundColor=String((t=e.getColor(Ce.D0T))!==null&&t!==void 0?t:""),this._domNode.style.boxShadow=g?` 0 0 8px 2px ${g}`:"",this._domNode.style.color=String((n=e.getColor(Ce.zJb))!==null&&n!==void 0?n:""),this._input.style.backgroundColor=String((s=e.getColor(Ce.sEe))!==null&&s!==void 0?s:"");const w=e.getColor(Ce.dt_);this._input.style.borderWidth=w?"1px":"0px",this._input.style.borderStyle=w?"solid":"none",this._input.style.borderColor=(o=w==null?void 0:w.toString())!==null&&o!==void 0?o:"none"}_updateFont(){if(!this._input||!this._label)return;const e=this._editor.getOption(46);this._input.style.fontFamily=e.fontFamily,this._input.style.fontWeight=e.fontWeight,this._input.style.fontSize=`${e.fontSize}px`,this._label.style.fontSize=`${e.fontSize*.8}px`}getPosition(){return this._visible?{position:this._position,preference:[2,1]}:null}afterRender(e){e||this.cancelInput(!0)}acceptInput(e){var t;(t=this._currentAcceptInput)===null||t===void 0||t.call(this,e)}cancelInput(e){var t;(t=this._currentCancelInput)===null||t===void 0||t.call(this,e)}getInput(e,t,n,s,o,g){this._domNode.classList.toggle("preview",o),this._position=new ln.L(e.startLineNumber,e.startColumn),this._input.value=t,this._input.setAttribute("selectionStart",n.toString()),this._input.setAttribute("selectionEnd",s.toString()),this._input.size=Math.max((e.endColumn-e.startColumn)*1.1,20);const w=new wt.SL;return new Promise(G=>{this._currentCancelInput=J=>(this._currentAcceptInput=void 0,this._currentCancelInput=void 0,G(J),!0),this._currentAcceptInput=J=>{if(this._input.value.trim().length===0||this._input.value===t){this.cancelInput(!0);return}this._currentAcceptInput=void 0,this._currentCancelInput=void 0,G({newName:this._input.value,wantsPreview:o&&J})},w.add(g.onCancellationRequested(()=>this.cancelInput(!0))),w.add(this._editor.onDidBlurEditorWidget(()=>this.cancelInput(!1))),this._show()}).finally(()=>{w.dispose(),this._hide()})}_show(){this._editor.revealLineInCenterIfOutsideViewport(this._position.lineNumber,0),this._visible=!0,this._visibleContextKey.set(!0),this._editor.layoutContentWidget(this),setTimeout(()=>{this._input.focus(),this._input.setSelectionRange(parseInt(this._input.getAttribute("selectionStart")),parseInt(this._input.getAttribute("selectionEnd")))},100)}_hide(){this._visible=!1,this._visibleContextKey.reset(),this._editor.layoutContentWidget(this)}};Kp=jy([jp(2,dt.XE),jp(3,ee.d),jp(4,ht.i6)],Kp);var Ky=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},hu=function(p,e){return function(t,n){e(t,n,p)}},fu=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};class $p{constructor(e,t,n){this.model=e,this.position=t,this._providerRenameIdx=0,this._providers=n.ordered(e)}hasProvider(){return this._providers.length>0}resolveRenameLocation(e){return fu(this,void 0,void 0,function*(){const t=[];for(this._providerRenameIdx=0;this._providerRenameIdx<this._providers.length;this._providerRenameIdx++){const s=this._providers[this._providerRenameIdx];if(!s.resolveRenameLocation)break;const o=yield s.resolveRenameLocation(this.model,this.position,e);if(!!o){if(o.rejectReason){t.push(o.rejectReason);continue}return o}}const n=this.model.getWordAtPosition(this.position);return n?{range:new _t.e(this.position.lineNumber,n.startColumn,this.position.lineNumber,n.endColumn),text:n.word,rejectReason:t.length>0?t.join(`
`):void 0}:{range:_t.e.fromPositions(this.position),text:"",rejectReason:t.length>0?t.join(`
`):void 0}})}provideRenameEdits(e,t){return fu(this,void 0,void 0,function*(){return this._provideRenameEdits(e,this._providerRenameIdx,[],t)})}_provideRenameEdits(e,t,n,s){return fu(this,void 0,void 0,function*(){const o=this._providers[t];if(!o)return{edits:[],rejectReason:n.join(`
`)};const g=yield o.provideRenameEdits(this.model,this.position,e,s);if(g){if(g.rejectReason)return this._provideRenameEdits(e,t+1,n.concat(g.rejectReason),s)}else return this._provideRenameEdits(e,t+1,n.concat(_e.NC("no result","No result.")),s);return g})}}function $y(p,e,t,n){return fu(this,void 0,void 0,function*(){const s=new $p(e,t,p),o=yield s.resolveRenameLocation(ri.T.None);return o!=null&&o.rejectReason?{edits:[],rejectReason:o.rejectReason}:s.provideRenameEdits(n,ri.T.None)})}let gu=class Cv{constructor(e,t,n,s,o,g,w,G){this.editor=e,this._instaService=t,this._notificationService=n,this._bulkEditService=s,this._progressService=o,this._logService=g,this._configService=w,this._languageFeaturesService=G,this._disposableStore=new wt.SL,this._cts=new ri.A,this._renameInputField=this._disposableStore.add(new kt.Ue(()=>this._disposableStore.add(this._instaService.createInstance(Kp,this.editor,["acceptRenameInput","acceptRenameInputWithPreview"]))))}static get(e){return e.getContribution(Cv.ID)}dispose(){this._disposableStore.dispose(),this._cts.dispose(!0)}run(){var e,t;return fu(this,void 0,void 0,function*(){if(this._cts.dispose(!0),!this.editor.hasModel())return;const n=this.editor.getPosition(),s=new $p(this.editor.getModel(),n,this._languageFeaturesService.renameProvider);if(!s.hasProvider())return;this._cts=new Es.Dl(this.editor,5);let o;try{const Ne=s.resolveRenameLocation(this._cts.token);this._progressService.showWhile(Ne,250),o=yield Ne}catch(Ne){(e=si.get(this.editor))===null||e===void 0||e.showMessage(Ne||_e.NC("resolveRenameLocationFailed","An unknown error occurred while resolving rename location"),n);return}if(!o)return;if(o.rejectReason){(t=si.get(this.editor))===null||t===void 0||t.showMessage(o.rejectReason,n);return}if(this._cts.token.isCancellationRequested)return;this._cts.dispose(),this._cts=new Es.Dl(this.editor,5,o.range);const g=this.editor.getSelection();let w=0,G=o.text.length;!_t.e.isEmpty(g)&&!_t.e.spansMultipleLines(g)&&_t.e.containsRange(o.range,g)&&(w=Math.max(0,g.startColumn-o.range.startColumn),G=Math.min(o.range.endColumn,g.endColumn)-o.range.startColumn);const J=this._bulkEditService.hasPreviewHandler()&&this._configService.getValue(this.editor.getModel().uri,"editor.rename.enablePreview"),Q=yield this._renameInputField.value.getInput(o.range,o.text,w,G,J,this._cts.token);if(typeof Q=="boolean"){Q&&this.editor.focus();return}this.editor.focus();const ue=(0,kt.eP)(s.provideRenameEdits(Q.newName,this._cts.token),this._cts.token).then(Ne=>fu(this,void 0,void 0,function*(){if(!(!Ne||!this.editor.hasModel())){if(Ne.rejectReason){this._notificationService.info(Ne.rejectReason);return}this.editor.setSelection(_t.e.fromPositions(this.editor.getSelection().getPosition())),this._bulkEditService.apply(_s.fo.convert(Ne),{editor:this.editor,showPreview:Q.wantsPreview,label:_e.NC("label","Renaming '{0}' to '{1}'",o==null?void 0:o.text,Q.newName),code:"undoredo.rename",quotableLabel:_e.NC("quotableLabel","Renaming {0} to {1}",o==null?void 0:o.text,Q.newName),respectAutoSaveConfig:!0}).then(st=>{st.ariaSummary&&(0,Rn.Z9)(_e.NC("aria","Successfully renamed '{0}' to '{1}'. Summary: {2}",o.text,Q.newName,st.ariaSummary))}).catch(st=>{this._notificationService.error(_e.NC("rename.failedApply","Rename failed to apply edits")),this._logService.error(st)})}}),Ne=>{this._notificationService.error(_e.NC("rename.failed","Rename failed to compute edits")),this._logService.error(Ne)});return this._progressService.showWhile(ue,250),ue})}acceptRenameInput(e){this._renameInputField.value.acceptInput(e)}cancelRenameInput(){this._renameInputField.value.cancelInput(!0)}};gu.ID="editor.contrib.renameController",gu=Ky([hu(1,ki.TG),hu(2,et.lT),hu(3,_s.vu),hu(4,bs.ek),hu(5,Ht.VZ),hu(6,Uy.V),hu(7,bi.p)],gu);class Gy extends je.R6{constructor(){super({id:"editor.action.rename",label:_e.NC("rename.label","Rename Symbol"),alias:"Rename Symbol",precondition:ht.Ao.and(vt.u.writable,vt.u.hasRenameProvider),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:60,weight:100},contextMenuOpts:{group:"1_modification",order:1.1}})}runCommand(e,t){const n=e.get(wi.$),[s,o]=Array.isArray(t)&&t||[void 0,void 0];return Xi.o.isUri(s)&&ln.L.isIPosition(o)?n.openCodeEditor({resource:s},n.getActiveCodeEditor()).then(g=>{!g||(g.setPosition(o),g.invokeWithinContext(w=>(this.reportTelemetry(w,g),this.run(w,g))))},Ei.dL):super.runCommand(e,t)}run(e,t){const n=gu.get(t);return n?n.run():Promise.resolve()}}(0,je._K)(gu.ID,gu),(0,je.Qr)(Gy);const Gp=je._l.bindToContribution(gu.get);(0,je.fK)(new Gp({id:"acceptRenameInput",precondition:em,handler:p=>p.acceptRenameInput(!1),kbOpts:{weight:100+99,kbExpr:vt.u.focus,primary:3}})),(0,je.fK)(new Gp({id:"acceptRenameInputWithPreview",precondition:ht.Ao.and(em,ht.Ao.has("config.editor.rename.enablePreview")),handler:p=>p.acceptRenameInput(!0),kbOpts:{weight:100+99,kbExpr:vt.u.focus,primary:1024+3}})),(0,je.fK)(new Gp({id:"cancelRenameInput",precondition:em,handler:p=>p.cancelRenameInput(),kbOpts:{weight:100+99,kbExpr:vt.u.focus,primary:9,secondary:[1033]}})),(0,je.sb)("_executeDocumentRenameProvider",function(p,e,t,...n){const[s]=n;(0,Zi.p_)(typeof s=="string");const{renameProvider:o}=p.get(bi.p);return $y(o,e,t,s)}),(0,je.sb)("_executePrepareRename",function(p,e,t){return fu(this,void 0,void 0,function*(){const{renameProvider:n}=p.get(bi.p),o=yield new $p(e,t,n).resolveRenameLocation(ri.T.None);if(o!=null&&o.rejectReason)throw new Error(o.rejectReason);return o})}),pr.B.as(lr.IP.Configuration).registerConfiguration({id:"editor",properties:{"editor.rename.enablePreview":{scope:5,description:_e.NC("enablePreview","Enable/disable the ability to preview changes before renaming"),default:!0,type:"boolean"}}});var Zy=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Yy=function(p,e){return function(t,n){e(t,n,p)}},t1=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})},Zp;let Lf=class extends wt.JT{constructor(e,t){super(),this._sessionStore=new wt.SL,this._ranges=[],this._rangesVersionId=0,this._editor=e,this._languageFeaturesService=t,this.stickyScrollWidget=new Qy(this._editor),this._register(this._editor.onDidChangeConfiguration(n=>{n.hasChanged(34)&&this.onConfigurationChange()})),this._updateSoon=this._register(new kt.pY(()=>this._update(!0),50)),this.onConfigurationChange()}onConfigurationChange(){if(this._editor.getOption(34).stickyScroll.enabled===!1){this.stickyScrollWidget.emptyRootNode(),this._editor.removeOverlayWidget(this.stickyScrollWidget),this._sessionStore.clear();return}else this._editor.addOverlayWidget(this.stickyScrollWidget),this._sessionStore.add(this._editor.onDidChangeModel(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidScrollChange(()=>this._update(!1))),this._sessionStore.add(this._editor.onDidChangeHiddenAreas(()=>this._update(!0))),this._sessionStore.add(this._editor.onDidChangeModelTokens(t=>this._onTokensChange(t))),this._sessionStore.add(this._editor.onDidChangeModelContent(()=>this._updateSoon.schedule())),this._sessionStore.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>this._update(!0))),this._update(!0)}_needsUpdate(e){const t=this.stickyScrollWidget.getCurrentLines();for(const n of t)for(const s of e.ranges)if(n>=s.fromLineNumber&&n<=s.toLineNumber)return!0;return!1}_onTokensChange(e){this._needsUpdate(e)&&this._update(!1)}_update(e=!1){var t,n;return t1(this,void 0,void 0,function*(){e&&((t=this._cts)===null||t===void 0||t.dispose(!0),this._cts=new ri.A,yield this._updateOutlineModel(this._cts.token));const s=(n=this._editor._getViewModel())===null||n===void 0?void 0:n.getHiddenAreas();if(s)for(const o of s)this._ranges=this._ranges.filter(g=>!(g[0]>=o.startLineNumber&&g[1]<=o.endLineNumber+1));this._renderStickyScroll()})}_findLineRanges(e,t){if(e!=null&&e.children.size){let n=!1;for(const s of e==null?void 0:e.children.values()){const o=s.symbol.kind;(o===4||o===8||o===11||o===10||o===5||o===1)&&(n=!0,this._findLineRanges(s,t+1))}n||this._addOutlineRanges(e,t)}else this._addOutlineRanges(e,t)}_addOutlineRanges(e,t){let n=0,s=0;for(;e;){const o=e.symbol.kind;if((o===4||o===8||o===11||o===10||o===5||o===1)&&(n=e==null?void 0:e.symbol.range.startLineNumber,s=e==null?void 0:e.symbol.range.endLineNumber,this._ranges.push([n,s,t]),t--),e.parent instanceof Dg)e=e.parent;else break}}_updateOutlineModel(e){return t1(this,void 0,void 0,function*(){if(this._editor.hasModel()){const t=this._editor.getModel(),n=t.getVersionId(),s=yield Qc.create(this._languageFeaturesService.documentSymbolProvider,t,e);if(e.isCancellationRequested)return;this._ranges=[],this._rangesVersionId=n;for(const o of s.children.values()){if(o instanceof Dg){const w=o.symbol.kind;w===4||w===8||w===11||w===10||w===5||w===1?this._findLineRanges(o,1):this._findLineRanges(o,0)}this._ranges=this._ranges.sort(function(w,G){return w[0]!==G[0]?w[0]-G[0]:w[1]!==G[1]?G[1]-w[1]:w[2]-G[2]});let g=[];for(const[w,G]of this._ranges.entries()){const[J,Q,ue]=G;g[0]===J&&g[1]===Q?this._ranges.splice(w,1):g=G}}}})}_renderStickyScroll(){if(!this._editor.hasModel())return;const e=this._editor.getOption(61),t=this._editor.getModel();if(this._rangesVersionId!==t.getVersionId())return;const n=this._editor.getScrollTop();this.stickyScrollWidget.emptyRootNode();const s=new Set;for(const[o,g]of this._ranges.entries()){const[w,G,J]=g;if(G-w>0&&t.getLineContent(w)!==""){const Q=(J-1)*e,ue=J*e,Ne=this._editor.getBottomForLineNumber(w)-n,st=this._editor.getTopForLineNumber(G)-n,mt=this._editor.getBottomForLineNumber(G)-n;if(s.has(w))this._ranges.splice(o,1);else if(Q>=st-1&&Q<mt-2){s.add(w),this.stickyScrollWidget.pushCodeLine(new i1(w,J,this._editor,-1,mt-ue));break}else ue>Ne&&ue<mt-1&&(s.add(w),this.stickyScrollWidget.pushCodeLine(new i1(w,J,this._editor,0,0)))}}this.stickyScrollWidget.updateRootNode()}dispose(){super.dispose(),this._sessionStore.dispose()}};Lf.ID="store.contrib.stickyScrollController",Lf=Zy([Yy(1,bi.p)],Lf);const n1=(Zp=window.trustedTypes)===null||Zp===void 0?void 0:Zp.createPolicy("stickyScrollViewLayer",{createHTML:p=>p});class i1{constructor(e,t,n,s,o){this._lineNumber=e,this._depth=t,this._editor=n,this._zIndex=s,this._relativePosition=o,this.effectiveLineHeight=0,this.effectiveLineHeight=this._editor.getOption(61)+this._relativePosition}get lineNumber(){return this._lineNumber}getDomNode(){const e=document.createElement("div"),t=this._editor._getViewModel(),n=t.coordinatesConverter.convertModelPositionToViewPosition(new ln.L(this._lineNumber,1)).lineNumber,s=t.getViewLineRenderingData(n);let o;try{o=xp.Kp.filter(s.inlineDecorations,n,s.minColumn,s.maxColumn)}catch(Ne){o=[]}const g=new Og.IJ(!0,!0,s.content,s.continuesWithWrappedLine,s.isBasicASCII,s.containsRTL,0,s.tokens,o,s.tabSize,s.startVisibleColumn,1,1,1,100,"none",!0,!0,null),w=(0,D_.l$)(400);(0,Og.d1)(g,w);let G;n1?G=n1.createHTML(w.build()):G=w.build();const J=document.createElement("span");J.style.backgroundColor="var(--vscode-editorStickyScroll-background)",J.style.overflow="hidden",J.style.whiteSpace="nowrap",J.style.display="inline-block",J.style.lineHeight=this._editor.getOption(61).toString()+"px",J.innerHTML=G;const Q=document.createElement("span");Q.style.width=this._editor.getLayoutInfo().contentLeft.toString()+"px",Q.style.backgroundColor="var(--vscode-editorStickyScroll-background)",Q.style.color="var(--vscode-editorLineNumber-foreground)",Q.style.display="inline-block",Q.style.lineHeight=this._editor.getOption(61).toString()+"px";const ue=document.createElement("span");return ue.innerText=this._lineNumber.toString(),ue.style.paddingLeft=this._editor.getLayoutInfo().lineNumbersLeft.toString()+"px",ue.style.width=this._editor.getLayoutInfo().lineNumbersWidth.toString()+"px",ue.style.backgroundColor="var(--vscode-editorStickyScroll-background)",ue.style.textAlign="right",ue.style.float="left",ue.style.lineHeight=this._editor.getOption(61).toString()+"px",Q.appendChild(ue),e.onclick=Ne=>{Ne.stopPropagation(),Ne.preventDefault(),this._editor.revealPosition({lineNumber:this._lineNumber-this._depth+1,column:1})},e.onmouseover=Ne=>{ue.style.background="var(--vscode-editorStickyScrollHover-background)",J.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",Q.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",e.style.backgroundColor="var(--vscode-editorStickyScrollHover-background)",ue.style.cursor="pointer",J.style.cursor="pointer",e.style.cursor="pointer",Q.style.cursor="pointer"},e.onmouseleave=Ne=>{ue.style.background="var(--vscode-editorStickyScroll-background)",J.style.backgroundColor="var(--vscode-editorStickyScroll-background)",Q.style.backgroundColor="var(--vscode-editorStickyScroll-background)",e.style.backgroundColor="var(--vscode-editorStickyScroll-background)"},this._editor.applyFontInfo(J),this._editor.applyFontInfo(ue),e.appendChild(Q),e.appendChild(J),e.style.zIndex=this._zIndex.toString(),e.style.backgroundColor="var(--vscode-editorStickyScroll-background)",e.style.overflow="hidden",e.style.whiteSpace="nowrap",e.style.width="100%",e.style.lineHeight=this._editor.getOption(61).toString()+"px",e.style.height=this._editor.getOption(61).toString()+"px",this._relativePosition&&(e.style.position="relative",e.style.top=this._relativePosition+"px",e.style.width="100%"),e}}class Qy{constructor(e){this._editor=e,this.arrayOfCodeLines=[],this.rootDomNode=document.createElement("div"),this.rootDomNode=document.createElement("div"),this.rootDomNode.style.width="100%",this.rootDomNode.style.boxShadow="var(--vscode-scrollbar-shadow) 0 6px 6px -6px"}getCurrentLines(){const e=[];for(const t of this.arrayOfCodeLines)e.push(t.lineNumber);return e}pushCodeLine(e){this.arrayOfCodeLines.push(e)}updateRootNode(){let e=0;for(const t of this.arrayOfCodeLines)e+=t.effectiveLineHeight,this.rootDomNode.appendChild(t.getDomNode());this.rootDomNode.style.height=e.toString()+"px"}emptyRootNode(){this.arrayOfCodeLines.length=0,we.PO(this.rootDomNode)}getId(){return"editor.contrib.stickyScrollWidget"}getDomNode(){return this.rootDomNode.style.zIndex="2",this.rootDomNode.style.backgroundColor="var(--vscode-editorStickyScroll-background)",this.rootDomNode}getPosition(){return{preference:null}}}(0,je._K)(Lf.ID,Lf);class Xy{provideSelectionRanges(e,t){const n=[];for(const s of t){const o=[];n.push(o),this._addInWordRanges(o,e,s),this._addWordRanges(o,e,s),this._addWhitespaceLine(o,e,s),o.push({range:e.getFullModelRange()})}return n}_addInWordRanges(e,t,n){const s=t.getWordAtPosition(n);if(!s)return;const{word:o,startColumn:g}=s,w=n.column-g;let G=w,J=w,Q=0;for(;G>=0;G--){const ue=o.charCodeAt(G);if(G!==w&&(ue===95||ue===45))break;if((0,fi.mK)(ue)&&(0,fi.df)(Q))break;Q=ue}for(G+=1;J<o.length;J++){const ue=o.charCodeAt(J);if((0,fi.df)(ue)&&(0,fi.mK)(Q))break;if(ue===95||ue===45)break;Q=ue}G<J&&e.push({range:new _t.e(n.lineNumber,g+G,n.lineNumber,g+J)})}_addWordRanges(e,t,n){const s=t.getWordAtPosition(n);s&&e.push({range:new _t.e(n.lineNumber,s.startColumn,n.lineNumber,s.endColumn)})}_addWhitespaceLine(e,t,n){t.getLineLength(n.lineNumber)>0&&t.getLineFirstNonWhitespaceColumn(n.lineNumber)===0&&t.getLineLastNonWhitespaceColumn(n.lineNumber)===0&&e.push({range:new _t.e(n.lineNumber,1,n.lineNumber,t.getLineMaxColumn(n.lineNumber))})}}var Jy=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},qy=function(p,e){return function(t,n){e(t,n,p)}},tm=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};class Yp{constructor(e,t){this.index=e,this.ranges=t}mov(e){const t=this.index+(e?1:-1);if(t<0||t>=this.ranges.length)return this;const n=new Yp(t,this.ranges);return n.ranges[t].equalsRange(this.ranges[this.index])?n.mov(e):n}}let hh=class bv{constructor(e,t){this._editor=e,this._languageFeaturesService=t,this._ignoreSelection=!1}static get(e){return e.getContribution(bv.ID)}dispose(){var e;(e=this._selectionListener)===null||e===void 0||e.dispose()}run(e){return tm(this,void 0,void 0,function*(){if(!this._editor.hasModel())return;const t=this._editor.getSelections(),n=this._editor.getModel();if(this._state||(yield o1(this._languageFeaturesService.selectionRangeProvider,n,t.map(o=>o.getPosition()),this._editor.getOption(104),ri.T.None).then(o=>{var g;if(!(!$i.Of(o)||o.length!==t.length)&&!(!this._editor.hasModel()||!$i.fS(this._editor.getSelections(),t,(w,G)=>w.equalsSelection(G)))){for(let w=0;w<o.length;w++)o[w]=o[w].filter(G=>G.containsPosition(t[w].getStartPosition())&&G.containsPosition(t[w].getEndPosition())),o[w].unshift(t[w]);this._state=o.map(w=>new Yp(0,w)),(g=this._selectionListener)===null||g===void 0||g.dispose(),this._selectionListener=this._editor.onDidChangeCursorPosition(()=>{var w;this._ignoreSelection||((w=this._selectionListener)===null||w===void 0||w.dispose(),this._state=void 0)})}})),!this._state)return;this._state=this._state.map(o=>o.mov(e));const s=this._state.map(o=>qn.Y.fromPositions(o.ranges[o.index].getStartPosition(),o.ranges[o.index].getEndPosition()));this._ignoreSelection=!0;try{this._editor.setSelections(s)}finally{this._ignoreSelection=!1}})}};hh.ID="editor.contrib.smartSelectController",hh=Jy([qy(1,bi.p)],hh);class s1 extends je.R6{constructor(e,t){super(t),this._forward=e}run(e,t){return tm(this,void 0,void 0,function*(){const n=hh.get(t);n&&(yield n.run(this._forward))})}}class eL extends s1{constructor(){super(!0,{id:"editor.action.smartSelect.expand",label:_e.NC("smartSelect.expand","Expand Selection"),alias:"Expand Selection",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1553,mac:{primary:3345,secondary:[1297]},weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"1_basic",title:_e.NC({key:"miSmartSelectGrow",comment:["&& denotes a mnemonic"]},"&&Expand Selection"),order:2}})}}gi.P0.registerCommandAlias("editor.action.smartSelect.grow","editor.action.smartSelect.expand");class tL extends s1{constructor(){super(!1,{id:"editor.action.smartSelect.shrink",label:_e.NC("smartSelect.shrink","Shrink Selection"),alias:"Shrink Selection",precondition:void 0,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1551,mac:{primary:3343,secondary:[1295]},weight:100},menuOpts:{menuId:Ve.eH.MenubarSelectionMenu,group:"1_basic",title:_e.NC({key:"miSmartSelectShrink",comment:["&& denotes a mnemonic"]},"&&Shrink Selection"),order:3}})}}(0,je._K)(hh.ID,hh),(0,je.Qr)(eL),(0,je.Qr)(tL);function o1(p,e,t,n,s){return tm(this,void 0,void 0,function*(){const o=p.all(e).concat(new Xy);o.length===1&&o.unshift(new $a);const g=[],w=[];for(const G of o)g.push(Promise.resolve(G.provideSelectionRanges(e,t,s)).then(J=>{if($i.Of(J)&&J.length===t.length)for(let Q=0;Q<t.length;Q++){w[Q]||(w[Q]=[]);for(const ue of J[Q])_t.e.isIRange(ue.range)&&_t.e.containsPosition(ue.range,t[Q])&&w[Q].push(_t.e.lift(ue.range))}},Ei.Cp));return yield Promise.all(g),w.map(G=>{if(G.length===0)return[];G.sort((Ne,st)=>ln.L.isBefore(Ne.getStartPosition(),st.getStartPosition())?1:ln.L.isBefore(st.getStartPosition(),Ne.getStartPosition())||ln.L.isBefore(Ne.getEndPosition(),st.getEndPosition())?-1:ln.L.isBefore(st.getEndPosition(),Ne.getEndPosition())?1:0);const J=[];let Q;for(const Ne of G)(!Q||_t.e.containsRange(Ne,Q)&&!_t.e.equalsRange(Ne,Q))&&(J.push(Ne),Q=Ne);if(!n.selectLeadingAndTrailingWhitespace)return J;const ue=[J[0]];for(let Ne=1;Ne<J.length;Ne++){const st=J[Ne-1],mt=J[Ne];if(mt.startLineNumber!==st.startLineNumber||mt.endLineNumber!==st.endLineNumber){const bt=new _t.e(st.startLineNumber,e.getLineFirstNonWhitespaceColumn(st.startLineNumber),st.endLineNumber,e.getLineLastNonWhitespaceColumn(st.endLineNumber));bt.containsRange(st)&&!bt.equalsRange(st)&&mt.containsRange(bt)&&!mt.equalsRange(bt)&&ue.push(bt);const $t=new _t.e(st.startLineNumber,1,st.endLineNumber,e.getLineMaxColumn(st.endLineNumber));$t.containsRange(st)&&!$t.equalsRange(bt)&&mt.containsRange($t)&&!mt.equalsRange($t)&&ue.push($t)}ue.push(mt)}return ue})})}gi.P0.registerCommand("_executeSelectionRangeProvider",function(p,...e){return tm(this,void 0,void 0,function*(){const[t,n]=e;(0,Zi.p_)(Xi.o.isUri(t));const s=p.get(bi.p).selectionRangeProvider,o=yield p.get(Cr.S).createModelReference(t);try{return o1(s,o.object.textEditorModel,n,{selectLeadingAndTrailingWhitespace:!0},ri.T.None)}finally{o.dispose()}})});var nL=l(88168),Qp=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},mu=function(p,e){return function(t,n){e(t,n,p)}},iL=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};class sL{constructor(e,t,n,s,o,g){this.range=e,this.insertText=t,this.filterText=n,this.additionalTextEdits=s,this.command=o,this.completion=g}}let Xp=class extends wt.L6{constructor(e,t,n,s,o,g){super(o.disposable),this.model=e,this.line=t,this.word=n,this.completionModel=s,this._suggestMemoryService=g}canBeReused(e,t,n){return this.model===e&&this.line===t&&this.word.word.length>0&&this.word.startColumn===n.startColumn&&this.word.endColumn<n.endColumn&&this.completionModel.incomplete.size===0}get items(){var e;const t=[],{items:n}=this.completionModel,s=this._suggestMemoryService.select(this.model,{lineNumber:this.line,column:this.word.endColumn+this.completionModel.lineContext.characterCountDelta},n),o=cf.$.slice(n,s),g=cf.$.slice(n,0,s);let w=5;for(const G of cf.$.concat(o,g)){if(G.score===Pi.CL.Default)continue;const J=new _t.e(G.editStart.lineNumber,G.editStart.column,G.editInsertEnd.lineNumber,G.editInsertEnd.column+this.completionModel.lineContext.characterCountDelta),Q=G.completion.insertTextRules&&G.completion.insertTextRules&nL.a7.InsertAsSnippet?{snippet:G.completion.insertText}:G.completion.insertText;t.push(new sL(J,Q,(e=G.filterTextLow)!==null&&e!==void 0?e:G.labelLow,G.completion.additionalTextEdits,G.completion.command,G)),w-->=0&&G.resolve(ri.T.None)}return t}};Xp=Qp([mu(5,Tg)],Xp);let Jp=class{constructor(e,t,n,s){this._getEditorOption=e,this._languageFeatureService=t,this._clipboardService=n,this._suggestMemoryService=s}provideInlineCompletions(e,t,n,s){var o;return iL(this,void 0,void 0,function*(){if(n.selectedSuggestionInfo)return;const g=this._getEditorOption(81,e);if($l.isAllOff(g))return;e.tokenization.tokenizeIfCheap(t.lineNumber);const w=e.tokenization.getLineTokens(t.lineNumber),G=w.getStandardTokenType(w.findTokenIndexAtOffset(Math.max(t.column-1-1,0)));if($l.valueFor(g,G)!=="inline")return;let J=e.getWordAtPosition(t),Q;if(J!=null&&J.word||(Q=this._getTriggerCharacterInfo(e,t)),!(J!=null&&J.word)&&!Q||(J||(J=e.getWordUntilPosition(t)),J.endColumn!==t.column))return;let ue;const Ne=e.getValueInRange(new _t.e(t.lineNumber,1,t.lineNumber,t.column));if(!Q&&((o=this._lastResult)===null||o===void 0?void 0:o.canBeReused(e,t.lineNumber,J))){const st=new w_(Ne,t.column-this._lastResult.word.endColumn);this._lastResult.completionModel.lineContext=st,this._lastResult.acquire(),ue=this._lastResult}else{const st=yield Er(this._languageFeatureService.completionProvider,e,t,new Rr(void 0,void 0,Q==null?void 0:Q.providers),Q&&{triggerKind:1,triggerCharacter:Q.ch},s);let mt;st.needsClipboard&&(mt=yield this._clipboardService.readText());const bt=new Dd(st.items,t.column,new w_(Ne,0),Xl.None,this._getEditorOption(108,e),this._getEditorOption(103,e),{boostFullMatch:!1,firstMatchCanBeWeak:!1},mt);ue=new Xp(e,t.lineNumber,J,bt,st,this._suggestMemoryService)}return this._lastResult=ue,ue})}handleItemDidShow(e,t){t.completion.resolve(ri.T.None)}freeInlineCompletions(e){e.release()}_getTriggerCharacterInfo(e,t){var n;const s=e.getValueInRange(_t.e.fromPositions({lineNumber:t.lineNumber,column:t.column-1},t)),o=new Set;for(const g of this._languageFeatureService.completionProvider.all(e))!((n=g.triggerCharacters)===null||n===void 0)&&n.includes(s)&&o.add(g);if(o.size!==0)return{providers:o,ch:s}}};Jp=Qp([mu(1,bi.p),mu(2,Li.p),mu(3,Tg)],Jp);let nm=class Nh{constructor(e,t,n,s){if(++Nh._counter===1){const o=s.createInstance(Jp,(g,w)=>{var G;return((G=n.listCodeEditors().find(Q=>Q.getModel()===w))!==null&&G!==void 0?G:e).getOption(g)});Nh._disposable=t.inlineCompletionsProvider.register("*",o)}}dispose(){var e;--Nh._counter===0&&((e=Nh._disposable)===null||e===void 0||e.dispose(),Nh._disposable=void 0)}};nm._counter=0,nm=Qp([mu(1,bi.p),mu(2,wi.$),mu(3,ki.TG)],nm),(0,je._K)("suggest.inlineCompletionsProvider",nm);class oL extends je.R6{constructor(){super({id:"editor.action.forceRetokenize",label:_e.NC("forceRetokenize","Developer: Force Retokenize"),alias:"Developer: Force Retokenize",precondition:void 0})}run(e,t){if(!t.hasModel())return;const n=t.getModel();n.tokenization.resetTokenization();const s=new _r.G(!0);n.tokenization.forceTokenization(n.getLineCount()),s.stop(),console.log(`tokenization took ${s.elapsed()}`)}}(0,je.Qr)(oL);var r1=l(79829);class fh extends je.R6{constructor(){super({id:fh.ID,label:_e.NC({key:"toggle.tabMovesFocus",comment:["Turn on/off use of tab key for moving focus around VS Code"]},"Toggle Tab Key Moves Focus"),alias:"Toggle Tab Key Moves Focus",precondition:void 0,kbOpts:{kbExpr:null,primary:2091,mac:{primary:1323},weight:100}})}run(e,t){const s=!r1.n.getTabFocusMode();r1.n.setTabFocusMode(s),s?(0,Rn.Z9)(_e.NC("toggle.tabMovesFocus.on","Pressing Tab will now move focus to the next focusable element")):(0,Rn.Z9)(_e.NC("toggle.tabMovesFocus.off","Pressing Tab will now insert the tab character"))}}fh.ID="editor.action.toggleTabFocusMode",(0,je.Qr)(fh);var a1=l(8924),gh=l(47480),rL=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},aL=function(p,e){return function(t,n){e(t,n,p)}};let qp=class extends wt.JT{constructor(e,t,n={},s){var o;super(),this._link=t,this._enabled=!0,this.el=(0,we.R3)(e,(0,we.$)("a.monaco-link",{tabIndex:(o=t.tabIndex)!==null&&o!==void 0?o:0,href:t.href,title:t.title},t.label)),this.el.setAttribute("role","button");const g=this._register(new ba.Y(this.el,"click")),w=this._register(new ba.Y(this.el,"keypress")),G=ni.ju.chain(w.event).map(ue=>new ga.y(ue)).filter(ue=>ue.keyCode===3).event,J=this._register(new ba.Y(this.el,Fn.t.Tap)).event;this._register(Fn.o.addTarget(this.el));const Q=ni.ju.any(g.event,G,J);this._register(Q(ue=>{!this.enabled||(we.zB.stop(ue,!0),n!=null&&n.opener?n.opener(this._link.href):s.open(this._link.href,{allowCommands:!0}))})),this.enabled=!0}get enabled(){return this._enabled}set enabled(e){e?(this.el.setAttribute("aria-disabled","false"),this.el.tabIndex=0,this.el.style.pointerEvents="auto",this.el.style.opacity="1",this.el.style.cursor="pointer",this._enabled=!1):(this.el.setAttribute("aria-disabled","true"),this.el.tabIndex=-1,this.el.style.pointerEvents="none",this.el.style.opacity="0.4",this.el.style.cursor="default",this._enabled=!0),this._enabled=e}};qp=rL([aL(3,gr.v4)],qp),(0,dt.Ic)((p,e)=>{const t=p.getColor(Ce.url);t&&e.addRule(`.monaco-link { color: ${t}; }`);const n=p.getColor(Ce.sgC);n&&e.addRule(`.monaco-link:hover { color: ${n}; }`)});var l1=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},c1=function(p,e){return function(t,n){e(t,n,p)}};const lL=26;let e0=class extends wt.JT{constructor(e,t){super(),this._editor=e,this.instantiationService=t,this.banner=this._register(this.instantiationService.createInstance(t0))}hide(){this._editor.setBanner(null,0),this.banner.clear()}show(e){this.banner.show(Object.assign(Object.assign({},e),{onClose:()=>{var t;this.hide(),(t=e.onClose)===null||t===void 0||t.call(e)}})),this._editor.setBanner(this.banner.element,lL)}};e0=l1([c1(1,ki.TG)],e0);let t0=class extends wt.JT{constructor(e){super(),this.instantiationService=e,this.markdownRenderer=this.instantiationService.createInstance(Gl,{}),this.element=(0,we.$)("div.editor-banner"),this.element.tabIndex=0}getAriaLabel(e){if(e.ariaLabel)return e.ariaLabel;if(typeof e.message=="string")return e.message}getBannerMessage(e){if(typeof e=="string"){const t=(0,we.$)("span");return t.innerText=e,t}return this.markdownRenderer.render(e).element}clear(){(0,we.PO)(this.element)}show(e){(0,we.PO)(this.element);const t=this.getAriaLabel(e);t&&this.element.setAttribute("aria-label",t);const n=(0,we.R3)(this.element,(0,we.$)("div.icon-container"));n.setAttribute("aria-hidden","true"),e.icon&&n.appendChild((0,we.$)(`div${dt.kS.asCSSSelector(e.icon)}`));const s=(0,we.R3)(this.element,(0,we.$)("div.message-container"));if(s.setAttribute("aria-hidden","true"),s.appendChild(this.getBannerMessage(e.message)),this.messageActionsContainer=(0,we.R3)(this.element,(0,we.$)("div.message-actions-container")),e.actions)for(const g of e.actions)this._register(this.instantiationService.createInstance(qp,this.messageActionsContainer,Object.assign(Object.assign({},g),{tabIndex:-1}),{}));const o=(0,we.R3)(this.element,(0,we.$)("div.action-container"));this.actionBar=this._register(new Hr.o(o)),this.actionBar.push(this._register(new F.aU("banner.close","Close Banner",dt.kS.asClassName(sr.s_),!0,()=>{typeof e.onClose=="function"&&e.onClose()})),{icon:!0,label:!1}),this.actionBar.setFocusable(!1)}};t0=l1([c1(0,ki.TG)],t0);var cL=l(29313),n0=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},mh=function(p,e){return function(t,n){e(t,n,p)}},Pr=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};const dL=(0,sr.q5)("extensions-warning-message",Nn.lA.warning,_e.NC("warningIcon","Icon shown with a warning message in the extensions editor."));let ph=class extends wt.JT{constructor(e,t,n,s){super(),this._editor=e,this._editorWorkerService=t,this._workspaceTrustService=n,this._highlighter=null,this._bannerClosed=!1,this._updateState=o=>{if(o&&o.hasMore){if(this._bannerClosed)return;const g=Math.max(o.ambiguousCharacterCount,o.nonBasicAsciiCharacterCount,o.invisibleCharacterCount);let w;if(o.nonBasicAsciiCharacterCount>=g)w={message:_e.NC("unicodeHighlighting.thisDocumentHasManyNonBasicAsciiUnicodeCharacters","This document contains many non-basic ASCII unicode characters"),command:new vh};else if(o.ambiguousCharacterCount>=g)w={message:_e.NC("unicodeHighlighting.thisDocumentHasManyAmbiguousUnicodeCharacters","This document contains many ambiguous unicode characters"),command:new Rd};else if(o.invisibleCharacterCount>=g)w={message:_e.NC("unicodeHighlighting.thisDocumentHasManyInvisibleUnicodeCharacters","This document contains many invisible unicode characters"),command:new _h};else throw new Error("Unreachable");this._bannerController.show({id:"unicodeHighlightBanner",message:w.message,icon:dL,actions:[{label:w.command.shortLabel,href:`command:${w.command.id}`}],onClose:()=>{this._bannerClosed=!0}})}else this._bannerController.hide()},this._bannerController=this._register(s.createInstance(e0,e)),this._register(this._editor.onDidChangeModel(()=>{this._bannerClosed=!1,this._updateHighlighter()})),this._options=e.getOption(115),this._register(n.onDidChangeTrust(o=>{this._updateHighlighter()})),this._register(e.onDidChangeConfiguration(o=>{o.hasChanged(115)&&(this._options=e.getOption(115),this._updateHighlighter())})),this._updateHighlighter()}dispose(){this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),super.dispose()}_updateHighlighter(){if(this._updateState(null),this._highlighter&&(this._highlighter.dispose(),this._highlighter=null),!this._editor.hasModel())return;const e=uL(this._workspaceTrustService.isWorkspaceTrusted(),this._options);if([e.nonBasicASCII,e.ambiguousCharacters,e.invisibleCharacters].every(n=>n===!1))return;const t={nonBasicASCII:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments,includeStrings:e.includeStrings,allowedCodePoints:Object.keys(e.allowedCharacters).map(n=>n.codePointAt(0)),allowedLocales:Object.keys(e.allowedLocales).map(n=>n==="_os"?new Intl.NumberFormat().resolvedOptions().locale:n==="_vscode"?ci.dK:n)};this._editorWorkerService.canComputeUnicodeHighlights(this._editor.getModel().uri)?this._highlighter=new i0(this._editor,t,this._updateState,this._editorWorkerService):this._highlighter=new hL(this._editor,t,this._updateState)}getDecorationInfo(e){return this._highlighter?this._highlighter.getDecorationInfo(e):null}};ph.ID="editor.contrib.unicodeHighlighter",ph=n0([mh(1,of.p),mh(2,cL.Y),mh(3,ki.TG)],ph);function uL(p,e){return{nonBasicASCII:e.nonBasicASCII===ho.Av?!p:e.nonBasicASCII,ambiguousCharacters:e.ambiguousCharacters,invisibleCharacters:e.invisibleCharacters,includeComments:e.includeComments===ho.Av?!p:e.includeComments,includeStrings:e.includeStrings===ho.Av?!p:e.includeStrings,allowedCharacters:e.allowedCharacters,allowedLocales:e.allowedLocales}}let i0=class extends wt.JT{constructor(e,t,n,s){super(),this._editor=e,this._options=t,this._updateState=n,this._editorWorkerService=s,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new kt.pY(()=>this._update(),250)),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const e=this._model.getVersionId();this._editorWorkerService.computedUnicodeHighlights(this._model.uri,this._options).then(t=>{if(this._model.isDisposed()||this._model.getVersionId()!==e)return;this._updateState(t);const n=[];if(!t.hasMore)for(const s of t.ranges)n.push({range:s,options:im.instance.getDecorationFromOptions(this._options)});this._decorations.set(n)})}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel();if(!(0,gh.Fd)(t,e))return null;const n=t.getValueInRange(e.range);return{reason:u1(n,this._options),inComment:(0,gh.$t)(t,e),inString:(0,gh.zg)(t,e)}}};i0=n0([mh(3,of.p)],i0);class hL extends wt.JT{constructor(e,t,n){super(),this._editor=e,this._options=t,this._updateState=n,this._model=this._editor.getModel(),this._decorations=this._editor.createDecorationsCollection(),this._updateSoon=this._register(new kt.pY(()=>this._update(),250)),this._register(this._editor.onDidLayoutChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidScrollChange(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeHiddenAreas(()=>{this._updateSoon.schedule()})),this._register(this._editor.onDidChangeModelContent(()=>{this._updateSoon.schedule()})),this._updateSoon.schedule()}dispose(){this._decorations.clear(),super.dispose()}_update(){if(this._model.isDisposed())return;if(!this._model.mightContainNonBasicASCII()){this._decorations.clear();return}const e=this._editor.getVisibleRanges(),t=[],n={ranges:[],ambiguousCharacterCount:0,invisibleCharacterCount:0,nonBasicAsciiCharacterCount:0,hasMore:!1};for(const s of e){const o=a1.a.computeUnicodeHighlights(this._model,this._options,s);for(const g of o.ranges)n.ranges.push(g);n.ambiguousCharacterCount+=n.ambiguousCharacterCount,n.invisibleCharacterCount+=n.invisibleCharacterCount,n.nonBasicAsciiCharacterCount+=n.nonBasicAsciiCharacterCount,n.hasMore=n.hasMore||o.hasMore}if(!n.hasMore)for(const s of n.ranges)t.push({range:s,options:im.instance.getDecorationFromOptions(this._options)});this._updateState(n),this._decorations.set(t)}getDecorationInfo(e){if(!this._decorations.has(e))return null;const t=this._editor.getModel(),n=t.getValueInRange(e.range);return(0,gh.Fd)(t,e)?{reason:u1(n,this._options),inComment:(0,gh.$t)(t,e),inString:(0,gh.zg)(t,e)}:null}}let s0=class{constructor(e,t,n){this._editor=e,this._languageService=t,this._openerService=n,this.hoverOrdinal=4}computeSync(e,t){if(!this._editor.hasModel()||e.type!==1)return[];const n=this._editor.getModel(),s=this._editor.getContribution(ph.ID);if(!s)return[];const o=[];let g=300;for(const w of t){const G=s.getDecorationInfo(w);if(!G)continue;const Q=n.getValueInRange(w.range).codePointAt(0),ue=d1(Q);let Ne;switch(G.reason.kind){case 0:Ne=_e.NC("unicodeHighlight.characterIsAmbiguous","The character {0} could be confused with the character {1}, which is more common in source code.",ue,d1(G.reason.confusableWith.codePointAt(0)));break;case 1:Ne=_e.NC("unicodeHighlight.characterIsInvisible","The character {0} is invisible.",ue);break;case 2:Ne=_e.NC("unicodeHighlight.characterIsNonBasicAscii","The character {0} is not a basic ASCII character.",ue);break}const st={codePoint:Q,reason:G.reason,inComment:G.inComment,inString:G.inString},mt=_e.NC("unicodeHighlight.adjustSettings","Adjust settings"),bt=`command:${Ef.ID}?${encodeURIComponent(JSON.stringify(st))}`,$t=new Wn.W5("",!0).appendMarkdown(Ne).appendText(" ").appendLink(bt,mt);o.push(new kl(this,w.range,[$t],g++))}return o}renderHoverParts(e,t){return Xf(e,t,this._editor,this._languageService,this._openerService)}};s0=n0([mh(1,Yo.O),mh(2,gr.v4)],s0);function o0(p){return`U+${p.toString(16).padStart(4,"0")}`}function d1(p){let e=`\`${o0(p)}\``;return fi.vU.isInvisibleCharacter(p)||(e+=` "${`${fL(p)}`}"`),e}function fL(p){return p===96?"`` ` ``":"`"+String.fromCodePoint(p)+"`"}function u1(p,e){return a1.a.computeUnicodeHighlightReason(p,e)}class im{constructor(){this.map=new Map}getDecorationFromOptions(e){return this.getDecoration(!e.includeComments,!e.includeStrings)}getDecoration(e,t){const n=`${e}${t}`;let s=this.map.get(n);return s||(s=Xn.qx.createDynamic({description:"unicode-highlight",stickiness:1,className:"unicode-highlight",showIfCollapsed:!0,overviewRuler:null,minimap:null,hideInCommentTokens:e,hideInStringTokens:t}),this.map.set(n,s)),s}}im.instance=new im;class gL extends je.R6{constructor(){super({id:Rd.ID,label:_e.NC("action.unicodeHighlight.disableHighlightingInComments","Disable highlighting of characters in comments"),alias:"Disable highlighting of characters in comments",precondition:void 0}),this.shortLabel=_e.NC("unicodeHighlight.disableHighlightingInComments.shortLabel","Disable Highlight In Comments")}run(e,t,n){return Pr(this,void 0,void 0,function*(){const s=e==null?void 0:e.get(m.Ui);s&&this.runAction(s)})}runAction(e){return Pr(this,void 0,void 0,function*(){yield e.updateValue(ho.qt.includeComments,!1,2)})}}class mL extends je.R6{constructor(){super({id:Rd.ID,label:_e.NC("action.unicodeHighlight.disableHighlightingInStrings","Disable highlighting of characters in strings"),alias:"Disable highlighting of characters in strings",precondition:void 0}),this.shortLabel=_e.NC("unicodeHighlight.disableHighlightingInStrings.shortLabel","Disable Highlight In Strings")}run(e,t,n){return Pr(this,void 0,void 0,function*(){const s=e==null?void 0:e.get(m.Ui);s&&this.runAction(s)})}runAction(e){return Pr(this,void 0,void 0,function*(){yield e.updateValue(ho.qt.includeStrings,!1,2)})}}class Rd extends je.R6{constructor(){super({id:Rd.ID,label:_e.NC("action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters","Disable highlighting of ambiguous characters"),alias:"Disable highlighting of ambiguous characters",precondition:void 0}),this.shortLabel=_e.NC("unicodeHighlight.disableHighlightingOfAmbiguousCharacters.shortLabel","Disable Ambiguous Highlight")}run(e,t,n){return Pr(this,void 0,void 0,function*(){const s=e==null?void 0:e.get(m.Ui);s&&this.runAction(s)})}runAction(e){return Pr(this,void 0,void 0,function*(){yield e.updateValue(ho.qt.ambiguousCharacters,!1,2)})}}Rd.ID="editor.action.unicodeHighlight.disableHighlightingOfAmbiguousCharacters";class _h extends je.R6{constructor(){super({id:_h.ID,label:_e.NC("action.unicodeHighlight.disableHighlightingOfInvisibleCharacters","Disable highlighting of invisible characters"),alias:"Disable highlighting of invisible characters",precondition:void 0}),this.shortLabel=_e.NC("unicodeHighlight.disableHighlightingOfInvisibleCharacters.shortLabel","Disable Invisible Highlight")}run(e,t,n){return Pr(this,void 0,void 0,function*(){const s=e==null?void 0:e.get(m.Ui);s&&this.runAction(s)})}runAction(e){return Pr(this,void 0,void 0,function*(){yield e.updateValue(ho.qt.invisibleCharacters,!1,2)})}}_h.ID="editor.action.unicodeHighlight.disableHighlightingOfInvisibleCharacters";class vh extends je.R6{constructor(){super({id:vh.ID,label:_e.NC("action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters","Disable highlighting of non basic ASCII characters"),alias:"Disable highlighting of non basic ASCII characters",precondition:void 0}),this.shortLabel=_e.NC("unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters.shortLabel","Disable Non ASCII Highlight")}run(e,t,n){return Pr(this,void 0,void 0,function*(){const s=e==null?void 0:e.get(m.Ui);s&&this.runAction(s)})}runAction(e){return Pr(this,void 0,void 0,function*(){yield e.updateValue(ho.qt.nonBasicASCII,!1,2)})}}vh.ID="editor.action.unicodeHighlight.disableHighlightingOfNonBasicAsciiCharacters";class Ef extends je.R6{constructor(){super({id:Ef.ID,label:_e.NC("action.unicodeHighlight.showExcludeOptions","Show Exclude Options"),alias:"Show Exclude Options",precondition:void 0})}run(e,t,n){return Pr(this,void 0,void 0,function*(){const{codePoint:s,reason:o,inString:g,inComment:w}=n,G=String.fromCodePoint(s),J=e.get(yo.eJ),Q=e.get(m.Ui);function ue(mt){return fi.vU.isInvisibleCharacter(mt)?_e.NC("unicodeHighlight.excludeInvisibleCharFromBeingHighlighted","Exclude {0} (invisible character) from being highlighted",o0(mt)):_e.NC("unicodeHighlight.excludeCharFromBeingHighlighted","Exclude {0} from being highlighted",`${o0(mt)} "${G}"`)}const Ne=[];if(o.kind===0)for(const mt of o.notAmbiguousInLocales)Ne.push({label:_e.NC("unicodeHighlight.allowCommonCharactersInLanguage",'Allow unicode characters that are more common in the language "{0}".',mt),run:()=>Pr(this,void 0,void 0,function*(){_L(Q,[mt])})});if(Ne.push({label:ue(s),run:()=>pL(Q,[s])}),w){const mt=new gL;Ne.push({label:mt.label,run:()=>Pr(this,void 0,void 0,function*(){return mt.runAction(Q)})})}else if(g){const mt=new mL;Ne.push({label:mt.label,run:()=>Pr(this,void 0,void 0,function*(){return mt.runAction(Q)})})}if(o.kind===0){const mt=new Rd;Ne.push({label:mt.label,run:()=>Pr(this,void 0,void 0,function*(){return mt.runAction(Q)})})}else if(o.kind===1){const mt=new _h;Ne.push({label:mt.label,run:()=>Pr(this,void 0,void 0,function*(){return mt.runAction(Q)})})}else if(o.kind===2){const mt=new vh;Ne.push({label:mt.label,run:()=>Pr(this,void 0,void 0,function*(){return mt.runAction(Q)})})}else vL(o);const st=yield J.pick(Ne,{title:_e.NC("unicodeHighlight.configureUnicodeHighlightOptions","Configure Unicode Highlight Options")});st&&(yield st.run())})}}Ef.ID="editor.action.unicodeHighlight.showExcludeOptions";function pL(p,e){return Pr(this,void 0,void 0,function*(){const t=p.getValue(ho.qt.allowedCharacters);let n;typeof t=="object"&&t?n=t:n={};for(const s of e)n[String.fromCodePoint(s)]=!0;yield p.updateValue(ho.qt.allowedCharacters,n,2)})}function _L(p,e){var t;return Pr(this,void 0,void 0,function*(){const n=(t=p.inspect(ho.qt.allowedLocales).user)===null||t===void 0?void 0:t.value;let s;typeof n=="object"&&n?s=Object.assign({},n):s={};for(const o of e)s[o]=!0;yield p.updateValue(ho.qt.allowedLocales,s,2)})}function vL(p){throw new Error(`Unexpected value: ${p}`)}(0,je.Qr)(Rd),(0,je.Qr)(_h),(0,je.Qr)(vh),(0,je.Qr)(Ef),(0,je._K)(ph.ID,ph),Ui.register(s0);var r0=l(13058),CL=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},h1=function(p,e){return function(t,n){e(t,n,p)}},bL=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};const f1="ignoreUnusualLineTerminators";function wL(p,e,t){p.setModelProperty(e.uri,f1,t)}function SL(p,e){return p.getModelProperty(e.uri,f1)}let Df=class extends wt.JT{constructor(e,t,n){super(),this._editor=e,this._dialogService=t,this._codeEditorService=n,this._config=this._editor.getOption(116),this._register(this._editor.onDidChangeConfiguration(s=>{s.hasChanged(116)&&(this._config=this._editor.getOption(116),this._checkForUnusualLineTerminators())})),this._register(this._editor.onDidChangeModel(()=>{this._checkForUnusualLineTerminators()})),this._register(this._editor.onDidChangeModelContent(s=>{s.isUndoing||this._checkForUnusualLineTerminators()}))}_checkForUnusualLineTerminators(){return bL(this,void 0,void 0,function*(){if(this._config==="off"||!this._editor.hasModel())return;const e=this._editor.getModel();if(!e.mightContainUnusualLineTerminators()||SL(this._codeEditorService,e)===!0||this._editor.getOption(83))return;if(this._config==="auto"){e.removeUnusualLineTerminators(this._editor.getSelections());return}if(!(yield this._dialogService.confirm({title:_e.NC("unusualLineTerminators.title","Unusual Line Terminators"),message:_e.NC("unusualLineTerminators.message","Detected unusual line terminators"),detail:_e.NC("unusualLineTerminators.detail","The file '{0}' contains one or more unusual line terminator characters, like Line Separator (LS) or Paragraph Separator (PS).\n\nIt is recommended to remove them from the file. This can be configured via `editor.unusualLineTerminators`.",(0,Ae.EZ)(e.uri)),primaryButton:_e.NC("unusualLineTerminators.fix","Remove Unusual Line Terminators"),secondaryButton:_e.NC("unusualLineTerminators.ignore","Ignore")})).confirmed){wL(this._codeEditorService,e,!0);return}e.removeUnusualLineTerminators(this._editor.getSelections())})}};Df.ID="editor.contrib.unusualLineTerminatorsDetector",Df=CL([h1(1,r0.S),h1(2,wi.$)],Df),(0,je._K)(Df.ID,Df);var g1=l(16677),m1=l(86466),yL=l(4713),LL=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},xf=function(p,e){return function(t,n){e(t,n,p)}};let If=class extends wt.JT{constructor(e,t,n,s,o,g){super(),this._modelService=t,this._themeService=n,this._configurationService=s,this._editor=e,this._provider=g.documentRangeSemanticTokensProvider,this._debounceInformation=o.for(this._provider,"DocumentRangeSemanticTokens",{min:100,max:500}),this._tokenizeViewport=this._register(new kt.pY(()=>this._tokenizeViewportNow(),100)),this._outstandingRequests=[];const w=()=>{this._editor.hasModel()&&this._tokenizeViewport.schedule(this._debounceInformation.get(this._editor.getModel()))};this._register(this._editor.onDidScrollChange(()=>{w()})),this._register(this._editor.onDidChangeModel(()=>{this._cancelAll(),w()})),this._register(this._editor.onDidChangeModelContent(G=>{this._cancelAll(),w()})),this._register(this._provider.onDidChange(()=>{this._cancelAll(),w()})),this._register(this._configurationService.onDidChangeConfiguration(G=>{G.affectsConfiguration(m1.e3)&&(this._cancelAll(),w())})),this._register(this._themeService.onDidColorThemeChange(()=>{this._cancelAll(),w()}))}_cancelAll(){for(const e of this._outstandingRequests)e.cancel();this._outstandingRequests=[]}_removeOutstandingRequest(e){for(let t=0,n=this._outstandingRequests.length;t<n;t++)if(this._outstandingRequests[t]===e){this._outstandingRequests.splice(t,1);return}}_tokenizeViewportNow(){if(!this._editor.hasModel())return;const e=this._editor.getModel();if(e.tokenization.hasCompleteSemanticTokens())return;if(!(0,m1.tw)(e,this._themeService,this._configurationService)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}if(!(0,g1.KO)(this._provider,e)){e.tokenization.hasSomeSemanticTokens()&&e.tokenization.setSemanticTokens(null,!1);return}const t=this._editor.getVisibleRangesPlusViewportAboveBelow();this._outstandingRequests=this._outstandingRequests.concat(t.map(n=>this._requestRange(e,n)))}_requestRange(e,t){const n=e.getVersionId(),s=(0,kt.PG)(g=>Promise.resolve((0,g1.OG)(this._provider,e,t,g))),o=new _r.G(!1);return s.then(g=>{if(this._debounceInformation.update(e,o.elapsed()),!g||!g.tokens||e.isDisposed()||e.getVersionId()!==n)return;const{provider:w,tokens:G}=g,J=this._modelService.getSemanticTokensProviderStyling(w);e.tokenization.setPartialSemanticTokens(t,(0,yL.h)(G,J,e.getLanguageId()))}).then(()=>this._removeOutstandingRequest(s),()=>this._removeOutstandingRequest(s)),s}};If.ID="editor.contrib.viewportSemanticTokens",If=LL([xf(1,Ks.q),xf(2,dt.XE),xf(3,m.Ui),xf(4,Fo.A),xf(5,bi.p)],If),(0,je._K)(If.ID,If);var EL=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},p1=function(p,e){return function(t,n){e(t,n,p)}};const DL=(0,Ce.P6G)("editor.wordHighlightBackground",{dark:"#575757B8",light:"#57575740",hcDark:null,hcLight:null},_e.NC("wordHighlight","Background color of a symbol during read-access, like reading a variable. The color must not be opaque so as not to hide underlying decorations."),!0),xL=(0,Ce.P6G)("editor.wordHighlightStrongBackground",{dark:"#004972B8",light:"#0e639c40",hcDark:null,hcLight:null},_e.NC("wordHighlightStrong","Background color of a symbol during write-access, like writing to a variable. The color must not be opaque so as not to hide underlying decorations."),!0),IL=(0,Ce.P6G)("editor.wordHighlightBorder",{light:null,dark:null,hcDark:Ce.xL1,hcLight:Ce.xL1},_e.NC("wordHighlightBorder","Border color of a symbol during read-access, like reading a variable.")),NL=(0,Ce.P6G)("editor.wordHighlightStrongBorder",{light:null,dark:null,hcDark:Ce.xL1,hcLight:Ce.xL1},_e.NC("wordHighlightStrongBorder","Border color of a symbol during write-access, like writing to a variable.")),TL=(0,Ce.P6G)("editorOverviewRuler.wordHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},_e.NC("overviewRulerWordHighlightForeground","Overview ruler marker color for symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),kL=(0,Ce.P6G)("editorOverviewRuler.wordHighlightStrongForeground",{dark:"#C0A0C0CC",light:"#C0A0C0CC",hcDark:"#C0A0C0CC",hcLight:"#C0A0C0CC"},_e.NC("overviewRulerWordHighlightStrongForeground","Overview ruler marker color for write-access symbol highlights. The color must not be opaque so as not to hide underlying decorations."),!0),sm=new ht.uy("hasWordHighlights",!1);function _1(p,e,t,n){const s=p.ordered(e);return(0,kt.Ps)(s.map(o=>()=>Promise.resolve(o.provideDocumentHighlights(e,t,n)).then(void 0,Ei.Cp)),$i.Of)}class v1{constructor(e,t,n){this._model=e,this._selection=t,this._wordSeparators=n,this._wordRange=this._getCurrentWordRange(e,t),this._result=null}get result(){return this._result||(this._result=(0,kt.PG)(e=>this._compute(this._model,this._selection,this._wordSeparators,e))),this._result}_getCurrentWordRange(e,t){const n=e.getWordAtPosition(t.getPosition());return n?new _t.e(t.startLineNumber,n.startColumn,t.startLineNumber,n.endColumn):null}isValid(e,t,n){const s=t.startLineNumber,o=t.startColumn,g=t.endColumn,w=this._getCurrentWordRange(e,t);let G=Boolean(this._wordRange&&this._wordRange.equalsRange(w));for(let J=0,Q=n.length;!G&&J<Q;J++){const ue=n.getRange(J);ue&&ue.startLineNumber===s&&ue.startColumn<=o&&ue.endColumn>=g&&(G=!0)}return G}cancel(){this.result.cancel()}}class ML extends v1{constructor(e,t,n,s){super(e,t,n),this._providers=s}_compute(e,t,n,s){return _1(this._providers,e,t.getPosition(),s).then(o=>o||[])}}class RL extends v1{constructor(e,t,n){super(e,t,n),this._selectionIsEmpty=t.isEmpty()}_compute(e,t,n,s){return(0,kt.Vs)(250,s).then(()=>{if(!t.isEmpty())return[];const o=e.getWordAtPosition(t.getPosition());return!o||o.word.length>1e3?[]:e.findMatches(o.word,!0,!1,!0,n,!1).map(w=>({range:w.range,kind:un.MY.Text}))})}isValid(e,t,n){const s=t.isEmpty();return this._selectionIsEmpty!==s?!1:super.isValid(e,t,n)}}function AL(p,e,t,n){return p.has(e)?new ML(e,t,n,p):new RL(e,t,n)}(0,je.sb)("_executeDocumentHighlights",(p,e,t)=>{const n=p.get(bi.p);return _1(n.documentHighlightProvider,e,t,ri.T.None)});class Ch{constructor(e,t,n){this.toUnhook=new wt.SL,this.workerRequestTokenId=0,this.workerRequestCompleted=!1,this.workerRequestValue=[],this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1,this.editor=e,this.providers=t,this._hasWordHighlights=sm.bindTo(n),this._ignorePositionChangeEvent=!1,this.occurrencesHighlight=this.editor.getOption(74),this.model=this.editor.getModel(),this.toUnhook.add(e.onDidChangeCursorPosition(s=>{this._ignorePositionChangeEvent||!this.occurrencesHighlight||this._onPositionChanged(s)})),this.toUnhook.add(e.onDidChangeModelContent(s=>{this._stopAll()})),this.toUnhook.add(e.onDidChangeConfiguration(s=>{const o=this.editor.getOption(74);this.occurrencesHighlight!==o&&(this.occurrencesHighlight=o,this._stopAll())})),this.decorations=this.editor.createDecorationsCollection(),this.workerRequestTokenId=0,this.workerRequest=null,this.workerRequestCompleted=!1,this.lastCursorPositionChangeTime=0,this.renderDecorationsTimer=-1}hasDecorations(){return this.decorations.length>0}restore(){!this.occurrencesHighlight||this._run()}_getSortedHighlights(){return this.decorations.getRanges().sort(_t.e.compareRangesUsingStarts)}moveNext(){const e=this._getSortedHighlights(),n=(e.findIndex(o=>o.containsPosition(this.editor.getPosition()))+1)%e.length,s=e[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(s.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(s);const o=this._getWord();if(o){const g=this.editor.getModel().getLineContent(s.startLineNumber);(0,Rn.Z9)(`${g}, ${n+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}moveBack(){const e=this._getSortedHighlights(),n=(e.findIndex(o=>o.containsPosition(this.editor.getPosition()))-1+e.length)%e.length,s=e[n];try{this._ignorePositionChangeEvent=!0,this.editor.setPosition(s.getStartPosition()),this.editor.revealRangeInCenterIfOutsideViewport(s);const o=this._getWord();if(o){const g=this.editor.getModel().getLineContent(s.startLineNumber);(0,Rn.Z9)(`${g}, ${n+1} of ${e.length} for '${o.word}'`)}}finally{this._ignorePositionChangeEvent=!1}}_removeDecorations(){this.decorations.length>0&&(this.decorations.clear(),this._hasWordHighlights.set(!1))}_stopAll(){this._removeDecorations(),this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1),this.workerRequest!==null&&(this.workerRequest.cancel(),this.workerRequest=null),this.workerRequestCompleted||(this.workerRequestTokenId++,this.workerRequestCompleted=!0)}_onPositionChanged(e){if(!this.occurrencesHighlight){this._stopAll();return}if(e.reason!==3){this._stopAll();return}this._run()}_getWord(){const e=this.editor.getSelection(),t=e.startLineNumber,n=e.startColumn;return this.model.getWordAtPosition({lineNumber:t,column:n})}_run(){const e=this.editor.getSelection();if(e.startLineNumber!==e.endLineNumber){this._stopAll();return}const t=e.startColumn,n=e.endColumn,s=this._getWord();if(!s||s.startColumn>t||s.endColumn<n){this._stopAll();return}const o=this.workerRequest&&this.workerRequest.isValid(this.model,e,this.decorations);if(this.lastCursorPositionChangeTime=new Date().getTime(),o)this.workerRequestCompleted&&this.renderDecorationsTimer!==-1&&(clearTimeout(this.renderDecorationsTimer),this.renderDecorationsTimer=-1,this._beginRenderDecorations());else{this._stopAll();const g=++this.workerRequestTokenId;this.workerRequestCompleted=!1,this.workerRequest=AL(this.providers,this.model,this.editor.getSelection(),this.editor.getOption(119)),this.workerRequest.result.then(w=>{g===this.workerRequestTokenId&&(this.workerRequestCompleted=!0,this.workerRequestValue=w||[],this._beginRenderDecorations())},Ei.dL)}}_beginRenderDecorations(){const e=new Date().getTime(),t=this.lastCursorPositionChangeTime+250;e>=t?(this.renderDecorationsTimer=-1,this.renderDecorations()):this.renderDecorationsTimer=setTimeout(()=>{this.renderDecorations()},t-e)}renderDecorations(){this.renderDecorationsTimer=-1;const e=[];for(const t of this.workerRequestValue)t.range&&e.push({range:t.range,options:Ch._getDecorationOptions(t.kind)});this.decorations.set(e),this._hasWordHighlights.set(this.hasDecorations())}static _getDecorationOptions(e){return e===un.MY.Write?this._WRITE_OPTIONS:e===un.MY.Text?this._TEXT_OPTIONS:this._REGULAR_OPTIONS}dispose(){this._stopAll(),this.toUnhook.dispose()}}Ch._WRITE_OPTIONS=Xn.qx.register({description:"word-highlight-strong",stickiness:1,className:"wordHighlightStrong",overviewRuler:{color:(0,dt.EN)(kL),position:di.sh.Center},minimap:{color:(0,dt.EN)(Ce.IYc),position:di.F5.Inline}}),Ch._TEXT_OPTIONS=Xn.qx.register({description:"selection-highlight",stickiness:1,className:"selectionHighlight",overviewRuler:{color:(0,dt.EN)(Ce.SPM),position:di.sh.Center},minimap:{color:(0,dt.EN)(Ce.IYc),position:di.F5.Inline}}),Ch._REGULAR_OPTIONS=Xn.qx.register({description:"word-highlight",stickiness:1,className:"wordHighlight",overviewRuler:{color:(0,dt.EN)(TL),position:di.sh.Center},minimap:{color:(0,dt.EN)(Ce.IYc),position:di.F5.Inline}});let pu=class wv extends wt.JT{constructor(e,t,n){super(),this.wordHighlighter=null;const s=()=>{e.hasModel()&&(this.wordHighlighter=new Ch(e,n.documentHighlightProvider,t))};this._register(e.onDidChangeModel(o=>{this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),s()})),s()}static get(e){return e.getContribution(wv.ID)}saveViewState(){return!!(this.wordHighlighter&&this.wordHighlighter.hasDecorations())}moveNext(){this.wordHighlighter&&this.wordHighlighter.moveNext()}moveBack(){this.wordHighlighter&&this.wordHighlighter.moveBack()}restoreViewState(e){this.wordHighlighter&&e&&this.wordHighlighter.restore()}dispose(){this.wordHighlighter&&(this.wordHighlighter.dispose(),this.wordHighlighter=null),super.dispose()}};pu.ID="editor.contrib.wordHighlighter",pu=EL([p1(1,ht.i6),p1(2,bi.p)],pu);class C1 extends je.R6{constructor(e,t){super(t),this._isNext=e}run(e,t){const n=pu.get(t);!n||(this._isNext?n.moveNext():n.moveBack())}}class PL extends C1{constructor(){super(!0,{id:"editor.action.wordHighlight.next",label:_e.NC("wordHighlight.next.label","Go to Next Symbol Highlight"),alias:"Go to Next Symbol Highlight",precondition:sm,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:65,weight:100}})}}class OL extends C1{constructor(){super(!1,{id:"editor.action.wordHighlight.prev",label:_e.NC("wordHighlight.previous.label","Go to Previous Symbol Highlight"),alias:"Go to Previous Symbol Highlight",precondition:sm,kbOpts:{kbExpr:vt.u.editorTextFocus,primary:1089,weight:100}})}}class FL extends je.R6{constructor(){super({id:"editor.action.wordHighlight.trigger",label:_e.NC("wordHighlight.trigger.label","Trigger Symbol Highlight"),alias:"Trigger Symbol Highlight",precondition:sm.toNegated(),kbOpts:{kbExpr:vt.u.editorTextFocus,primary:0,weight:100}})}run(e,t,n){const s=pu.get(t);!s||s.restoreViewState(!0)}}(0,je._K)(pu.ID,pu),(0,je.Qr)(PL),(0,je.Qr)(OL),(0,je.Qr)(FL),(0,dt.Ic)((p,e)=>{const t=p.getColor(Ce.Rzx);t&&(e.addRule(`.monaco-editor .focused .selectionHighlight { background-color: ${t}; }`),e.addRule(`.monaco-editor .selectionHighlight { background-color: ${t.transparent(.5)}; }`));const n=p.getColor(DL);n&&e.addRule(`.monaco-editor .wordHighlight { background-color: ${n}; }`);const s=p.getColor(xL);s&&e.addRule(`.monaco-editor .wordHighlightStrong { background-color: ${s}; }`);const o=p.getColor(Ce.g_n);o&&e.addRule(`.monaco-editor .selectionHighlight { border: 1px ${(0,qo.c3)(p.type)?"dotted":"solid"} ${o}; box-sizing: border-box; }`);const g=p.getColor(IL);g&&e.addRule(`.monaco-editor .wordHighlight { border: 1px ${(0,qo.c3)(p.type)?"dashed":"solid"} ${g}; box-sizing: border-box; }`);const w=p.getColor(NL);w&&e.addRule(`.monaco-editor .wordHighlightStrong { border: 1px ${(0,qo.c3)(p.type)?"dashed":"solid"} ${w}; box-sizing: border-box; }`)});var BL=l(16505),ed=l(49885),_u=l(6669),om=l(81731);class rm extends je._l{constructor(e){super(e),this._inSelectionMode=e.inSelectionMode,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,n){if(!t.hasModel())return;const s=(0,_u.u)(t.getOption(119)),o=t.getModel(),w=t.getSelections().map(G=>{const J=new ln.L(G.positionLineNumber,G.positionColumn),Q=this._move(s,o,J,this._wordNavigationType);return this._moveTo(G,Q,this._inSelectionMode)});if(o.pushStackElement(),t._getViewModel().setCursorStates("moveWordCommand",3,w.map(G=>BL.Vi.fromModelSelection(G))),w.length===1){const G=new ln.L(w[0].positionLineNumber,w[0].positionColumn);t.revealPosition(G,0)}}_moveTo(e,t,n){return n?new qn.Y(e.selectionStartLineNumber,e.selectionStartColumn,t.lineNumber,t.column):new qn.Y(t.lineNumber,t.column,t.lineNumber,t.column)}}class Ad extends rm{_move(e,t,n,s){return ed.w.moveWordLeft(e,t,n,s)}}class Pd extends rm{_move(e,t,n,s){return ed.w.moveWordRight(e,t,n,s)}}class WL extends Ad{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartLeft",precondition:void 0})}}class VL extends Ad{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndLeft",precondition:void 0})}}class HL extends Ad{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:1,id:"cursorWordLeft",precondition:void 0,kbOpts:{kbExpr:ht.Ao.and(vt.u.textInputFocus,(e=ht.Ao.and(qr.U,om.cv))===null||e===void 0?void 0:e.negate()),primary:2063,mac:{primary:527},weight:100}})}}class zL extends Ad{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartLeftSelect",precondition:void 0})}}class UL extends Ad{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndLeftSelect",precondition:void 0})}}class jL extends Ad{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:1,id:"cursorWordLeftSelect",precondition:void 0,kbOpts:{kbExpr:ht.Ao.and(vt.u.textInputFocus,(e=ht.Ao.and(qr.U,om.cv))===null||e===void 0?void 0:e.negate()),primary:3087,mac:{primary:1551},weight:100}})}}class KL extends Ad{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityLeft",precondition:void 0})}_move(e,t,n,s){return super._move((0,_u.u)(ho.BH.wordSeparators.defaultValue),t,n,s)}}class $L extends Ad{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityLeftSelect",precondition:void 0})}_move(e,t,n,s){return super._move((0,_u.u)(ho.BH.wordSeparators.defaultValue),t,n,s)}}class GL extends Pd{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordStartRight",precondition:void 0})}}class ZL extends Pd{constructor(){var e;super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordEndRight",precondition:void 0,kbOpts:{kbExpr:ht.Ao.and(vt.u.textInputFocus,(e=ht.Ao.and(qr.U,om.cv))===null||e===void 0?void 0:e.negate()),primary:2065,mac:{primary:529},weight:100}})}}class YL extends Pd{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordRight",precondition:void 0})}}class QL extends Pd{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordStartRightSelect",precondition:void 0})}}class XL extends Pd{constructor(){var e;super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordEndRightSelect",precondition:void 0,kbOpts:{kbExpr:ht.Ao.and(vt.u.textInputFocus,(e=ht.Ao.and(qr.U,om.cv))===null||e===void 0?void 0:e.negate()),primary:3089,mac:{primary:1553},weight:100}})}}class JL extends Pd{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordRightSelect",precondition:void 0})}}class qL extends Pd{constructor(){super({inSelectionMode:!1,wordNavigationType:3,id:"cursorWordAccessibilityRight",precondition:void 0})}_move(e,t,n,s){return super._move((0,_u.u)(ho.BH.wordSeparators.defaultValue),t,n,s)}}class e2 extends Pd{constructor(){super({inSelectionMode:!0,wordNavigationType:3,id:"cursorWordAccessibilityRightSelect",precondition:void 0})}_move(e,t,n,s){return super._move((0,_u.u)(ho.BH.wordSeparators.defaultValue),t,n,s)}}class am extends je._l{constructor(e){super(e),this._whitespaceHeuristics=e.whitespaceHeuristics,this._wordNavigationType=e.wordNavigationType}runEditorCommand(e,t,n){const s=e.get(Lo.c_);if(!t.hasModel())return;const o=(0,_u.u)(t.getOption(119)),g=t.getModel(),w=t.getSelections(),G=t.getOption(5),J=t.getOption(8),Q=s.getLanguageConfiguration(g.getLanguageId()).getAutoClosingPairs(),ue=t._getViewModel(),Ne=w.map(st=>{const mt=this._delete({wordSeparators:o,model:g,selection:st,whitespaceHeuristics:this._whitespaceHeuristics,autoClosingDelete:t.getOption(6),autoClosingBrackets:G,autoClosingQuotes:J,autoClosingPairs:Q,autoClosedCharacters:ue.getCursorAutoClosedCharacters()},this._wordNavigationType);return new Jn.T4(mt,"")});t.pushUndoStop(),t.executeCommands(this.id,Ne),t.pushUndoStop()}}class a0 extends am{_delete(e,t){const n=ed.w.deleteWordLeft(e,t);return n||new _t.e(1,1,1,1)}}class l0 extends am{_delete(e,t){const n=ed.w.deleteWordRight(e,t);if(n)return n;const s=e.model.getLineCount(),o=e.model.getLineMaxColumn(s);return new _t.e(s,o,s,o)}}class t2 extends a0{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartLeft",precondition:vt.u.writable})}}class n2 extends a0{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndLeft",precondition:vt.u.writable})}}class i2 extends a0{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordLeft",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:2049,mac:{primary:513},weight:100}})}}class s2 extends l0{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:0,id:"deleteWordStartRight",precondition:vt.u.writable})}}class o2 extends l0{constructor(){super({whitespaceHeuristics:!1,wordNavigationType:2,id:"deleteWordEndRight",precondition:vt.u.writable})}}class r2 extends l0{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordRight",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:2068,mac:{primary:532},weight:100}})}}class a2 extends je.R6{constructor(){super({id:"deleteInsideWord",precondition:vt.u.writable,label:_e.NC("deleteInsideWord","Delete Word"),alias:"Delete Word"})}run(e,t,n){if(!t.hasModel())return;const s=(0,_u.u)(t.getOption(119)),o=t.getModel(),w=t.getSelections().map(G=>{const J=ed.w.deleteInsideWord(s,o,G);return new Jn.T4(J,"")});t.pushUndoStop(),t.executeCommands(this.id,w),t.pushUndoStop()}}(0,je.fK)(new WL),(0,je.fK)(new VL),(0,je.fK)(new HL),(0,je.fK)(new zL),(0,je.fK)(new UL),(0,je.fK)(new jL),(0,je.fK)(new GL),(0,je.fK)(new ZL),(0,je.fK)(new YL),(0,je.fK)(new QL),(0,je.fK)(new XL),(0,je.fK)(new JL),(0,je.fK)(new KL),(0,je.fK)(new $L),(0,je.fK)(new qL),(0,je.fK)(new e2),(0,je.fK)(new t2),(0,je.fK)(new n2),(0,je.fK)(new i2),(0,je.fK)(new s2),(0,je.fK)(new o2),(0,je.fK)(new r2),(0,je.Qr)(a2);class l2 extends am{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:0,id:"deleteWordPartLeft",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:769},weight:100}})}_delete(e,t){const n=ed.L.deleteWordPartLeft(e);return n||new _t.e(1,1,1,1)}}class c2 extends am{constructor(){super({whitespaceHeuristics:!0,wordNavigationType:2,id:"deleteWordPartRight",precondition:vt.u.writable,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:788},weight:100}})}_delete(e,t){const n=ed.L.deleteWordPartRight(e);if(n)return n;const s=e.model.getLineCount(),o=e.model.getLineMaxColumn(s);return new _t.e(s,o,s,o)}}class b1 extends rm{_move(e,t,n,s){return ed.L.moveWordPartLeft(e,t,n)}}class d2 extends b1{constructor(){super({inSelectionMode:!1,wordNavigationType:0,id:"cursorWordPartLeft",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:783},weight:100}})}}gi.P0.registerCommandAlias("cursorWordPartStartLeft","cursorWordPartLeft");class u2 extends b1{constructor(){super({inSelectionMode:!0,wordNavigationType:0,id:"cursorWordPartLeftSelect",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:1807},weight:100}})}}gi.P0.registerCommandAlias("cursorWordPartStartLeftSelect","cursorWordPartLeftSelect");class w1 extends rm{_move(e,t,n,s){return ed.L.moveWordPartRight(e,t,n)}}class h2 extends w1{constructor(){super({inSelectionMode:!1,wordNavigationType:2,id:"cursorWordPartRight",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:785},weight:100}})}}class f2 extends w1{constructor(){super({inSelectionMode:!0,wordNavigationType:2,id:"cursorWordPartRightSelect",precondition:void 0,kbOpts:{kbExpr:vt.u.textInputFocus,primary:0,mac:{primary:1809},weight:100}})}}(0,je.fK)(new l2),(0,je.fK)(new c2),(0,je.fK)(new d2),(0,je.fK)(new u2),(0,je.fK)(new h2),(0,je.fK)(new f2);class c0 extends wt.JT{constructor(e){super(),this.editor=e,this._register(this.editor.onDidAttemptReadOnlyEdit(()=>this._onDidAttemptReadOnlyEdit()))}_onDidAttemptReadOnlyEdit(){const e=si.get(this.editor);e&&this.editor.hasModel()&&(this.editor.isSimpleWidget?e.showMessage(_e.NC("editor.simple.readonly","Cannot edit in read-only input"),this.editor.getPosition()):e.showMessage(_e.NC("editor.readonly","Cannot edit in read-only editor"),this.editor.getPosition()))}}c0.ID="editor.contrib.readOnlyMessageController",(0,je._K)(c0.ID,c0);var mo=l(72499),S1=l(52948),y1=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},lm=function(p,e){return function(t,n){e(t,n,p)}};const L1=new ht.uy("accessibilityHelpWidgetVisible",!1);let vu=class Sv extends wt.JT{constructor(e,t){super(),this._editor=e,this._widget=this._register(t.createInstance(bh,this._editor))}static get(e){return e.getContribution(Sv.ID)}show(){this._widget.show()}hide(){this._widget.hide()}};vu.ID="editor.contrib.accessibilityHelpController",vu=y1([lm(1,ki.TG)],vu);function g2(p,e){return!p||p.length===0?mo.Oe.noSelection:p.length===1?e?fi.WU(mo.Oe.singleSelectionRange,p[0].positionLineNumber,p[0].positionColumn,e):fi.WU(mo.Oe.singleSelection,p[0].positionLineNumber,p[0].positionColumn):e?fi.WU(mo.Oe.multiSelectionRange,p.length,e):p.length>0?fi.WU(mo.Oe.multiSelection,p.length):""}let bh=class Im extends bl.${constructor(e,t,n,s){super(),this._contextKeyService=t,this._keybindingService=n,this._openerService=s,this._editor=e,this._isVisibleKey=L1.bindTo(this._contextKeyService),this._domNode=(0,S1.X)(document.createElement("div")),this._domNode.setClassName("accessibilityHelpWidget"),this._domNode.setDisplay("none"),this._domNode.setAttribute("role","dialog"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode=(0,S1.X)(document.createElement("div")),this._contentDomNode.setAttribute("role","document"),this._domNode.appendChild(this._contentDomNode),this._isVisible=!1,this._register(this._editor.onDidLayoutChange(()=>{this._isVisible&&this._layout()})),this._register(we.mu(this._contentDomNode.domNode,"keydown",o=>{if(!!this._isVisible&&(o.equals(2083)&&((0,Rn.Z9)(mo.Oe.emergencyConfOn),this._editor.updateOptions({accessibilitySupport:"on"}),we.PO(this._contentDomNode.domNode),this._buildContent(),this._contentDomNode.domNode.focus(),o.preventDefault(),o.stopPropagation()),o.equals(2086))){(0,Rn.Z9)(mo.Oe.openingDocs);let g=this._editor.getRawOptions().accessibilityHelpUrl;typeof g=="undefined"&&(g="https://go.microsoft.com/fwlink/?linkid=852450"),this._openerService.open(Xi.o.parse(g)),o.preventDefault(),o.stopPropagation()}})),this.onblur(this._contentDomNode.domNode,()=>{this.hide()}),this._editor.addOverlayWidget(this)}dispose(){this._editor.removeOverlayWidget(this),super.dispose()}getId(){return Im.ID}getDomNode(){return this._domNode.domNode}getPosition(){return{preference:null}}show(){this._isVisible||(this._isVisible=!0,this._isVisibleKey.set(!0),this._layout(),this._domNode.setDisplay("block"),this._domNode.setAttribute("aria-hidden","false"),this._contentDomNode.domNode.tabIndex=0,this._buildContent(),this._contentDomNode.domNode.focus())}_descriptionForCommand(e,t,n){const s=this._keybindingService.lookupKeybinding(e);return s?fi.WU(t,s.getAriaLabel()):fi.WU(n,e)}_buildContent(){const e=this._editor.getOptions(),t=this._editor.getSelections();let n=0;if(t){const w=this._editor.getModel();w&&t.forEach(G=>{n+=w.getValueLengthInRange(G)})}let s=g2(t,n);e.get(56)?e.get(83)?s+=mo.Oe.readonlyDiffEditor:s+=mo.Oe.editableDiffEditor:e.get(83)?s+=mo.Oe.readonlyEditor:s+=mo.Oe.editableEditor;const o=ci.dz?mo.Oe.changeConfigToOnMac:mo.Oe.changeConfigToOnWinLinux;switch(e.get(2)){case 0:s+=`

 - `+o;break;case 2:s+=`

 - `+mo.Oe.auto_on;break;case 1:s+=`

 - `+mo.Oe.auto_off,s+=" "+o;break}e.get(132)?s+=`

 - `+this._descriptionForCommand(fh.ID,mo.Oe.tabFocusModeOnMsg,mo.Oe.tabFocusModeOnMsgNoKb):s+=`

 - `+this._descriptionForCommand(fh.ID,mo.Oe.tabFocusModeOffMsg,mo.Oe.tabFocusModeOffMsgNoKb);const g=ci.dz?mo.Oe.openDocMac:mo.Oe.openDocWinLinux;s+=`

 - `+g,s+=`

`+mo.Oe.outroMsg,this._contentDomNode.domNode.appendChild((0,Ou.BO)(s)),this._contentDomNode.domNode.setAttribute("aria-label",s)}hide(){!this._isVisible||(this._isVisible=!1,this._isVisibleKey.reset(),this._domNode.setDisplay("none"),this._domNode.setAttribute("aria-hidden","true"),this._contentDomNode.domNode.tabIndex=-1,we.PO(this._contentDomNode.domNode),this._editor.focus())}_layout(){const e=this._editor.getLayoutInfo(),t=Math.max(5,Math.min(Im.WIDTH,e.width-40)),n=Math.max(5,Math.min(Im.HEIGHT,e.height-40));this._domNode.setWidth(t),this._domNode.setHeight(n);const s=Math.round((e.height-n)/2);this._domNode.setTop(s);const o=Math.round((e.width-t)/2);this._domNode.setLeft(o)}};bh.ID="editor.contrib.accessibilityHelpWidget",bh.WIDTH=500,bh.HEIGHT=300,bh=y1([lm(1,ht.i6),lm(2,ee.d),lm(3,gr.v4)],bh);class m2 extends je.R6{constructor(){super({id:"editor.action.showAccessibilityHelp",label:mo.Oe.showAccessibilityHelpAction,alias:"Show Accessibility Help",precondition:void 0,kbOpts:{primary:571,weight:100,linux:{primary:1595,secondary:[571]}}})}run(e,t){const n=vu.get(t);n&&n.show()}}(0,je._K)(vu.ID,vu),(0,je.Qr)(m2);const p2=je._l.bindToContribution(vu.get);(0,je.fK)(new p2({id:"closeAccessibilityHelp",precondition:L1,handler:p=>p.hide(),kbOpts:{weight:100+100,kbExpr:vt.u.focus,primary:9,secondary:[1033]}})),(0,dt.Ic)((p,e)=>{const t=p.getColor(Ce.D0T);t&&e.addRule(`.monaco-editor .accessibilityHelpWidget { background-color: ${t}; }`);const n=p.getColor(Ce.Hfx);n&&e.addRule(`.monaco-editor .accessibilityHelpWidget { color: ${n}; }`);const s=p.getColor(Ce.rh);s&&e.addRule(`.monaco-editor .accessibilityHelpWidget { box-shadow: 0 2px 8px ${s}; }`);const o=p.getColor(Ce.lRK);o&&e.addRule(`.monaco-editor .accessibilityHelpWidget { border: 2px solid ${o}; }`)});class d0 extends wt.JT{constructor(e){super(),this.editor=e,this.widget=null,ci.gn&&(this._register(e.onDidChangeConfiguration(()=>this.update())),this.update())}update(){const e=!this.editor.getOption(83);!this.widget&&e?this.widget=new cm(this.editor):this.widget&&!e&&(this.widget.dispose(),this.widget=null)}dispose(){super.dispose(),this.widget&&(this.widget.dispose(),this.widget=null)}}d0.ID="editor.contrib.iPadShowKeyboard";class cm extends wt.JT{constructor(e){super(),this.editor=e,this._domNode=document.createElement("textarea"),this._domNode.className="iPadShowKeyboard",this._register(we.nm(this._domNode,"touchstart",t=>{this.editor.focus()})),this._register(we.nm(this._domNode,"focus",t=>{this.editor.focus()})),this.editor.addOverlayWidget(this)}dispose(){this.editor.removeOverlayWidget(this),super.dispose()}getId(){return cm.ID}getDomNode(){return this._domNode}getPosition(){return{preference:1}}}cm.ID="editor.contrib.ShowKeyboardWidget",(0,je._K)(d0.ID,d0);var Nf=l(15880),u0=l(62867),E1=l(83598),_2=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},D1=function(p,e){return function(t,n){e(t,n,p)}};let wh=class yv extends wt.JT{constructor(e,t,n){super(),this._editor=e,this._languageService=n,this._widget=null,this._register(this._editor.onDidChangeModel(s=>this.stop())),this._register(this._editor.onDidChangeModelLanguage(s=>this.stop())),this._register(un.RW.onDidChange(s=>this.stop())),this._register(this._editor.onKeyUp(s=>s.keyCode===9&&this.stop()))}static get(e){return e.getContribution(yv.ID)}dispose(){this.stop(),super.dispose()}launch(){this._widget||!this._editor.hasModel()||(this._widget=new dm(this._editor,this._languageService))}stop(){this._widget&&(this._widget.dispose(),this._widget=null)}};wh.ID="editor.contrib.inspectTokens",wh=_2([D1(1,E1.Z),D1(2,Yo.O)],wh);class v2 extends je.R6{constructor(){super({id:"editor.action.inspectTokens",label:mo.ug.inspectTokensAction,alias:"Developer: Inspect Tokens",precondition:void 0})}run(e,t){const n=wh.get(t);n&&n.launch()}}function C2(p){let e="";for(let t=0,n=p.length;t<n;t++){const s=p.charCodeAt(t);switch(s){case 9:e+="\u2192";break;case 32:e+="\xB7";break;default:e+=String.fromCharCode(s)}}return e}function b2(p,e){const t=un.RW.get(e);if(t)return t;const n=p.encodeLanguageId(e);return{getInitialState:()=>u0.TJ,tokenize:(s,o,g)=>(0,u0.Ri)(e,g),tokenizeEncoded:(s,o,g)=>(0,u0.Dy)(n,g)}}class dm extends wt.JT{constructor(e,t){super(),this.allowEditorOverflow=!0,this._editor=e,this._languageService=t,this._model=this._editor.getModel(),this._domNode=document.createElement("div"),this._domNode.className="tokens-inspect-widget",this._tokenizationSupport=b2(this._languageService.languageIdCodec,this._model.getLanguageId()),this._compute(this._editor.getPosition()),this._register(this._editor.onDidChangeCursorPosition(n=>this._compute(this._editor.getPosition()))),this._editor.addContentWidget(this)}dispose(){this._editor.removeContentWidget(this),super.dispose()}getId(){return dm._ID}_compute(e){const t=this._getTokensAtLine(e.lineNumber);let n=0;for(let G=t.tokens1.length-1;G>=0;G--){const J=t.tokens1[G];if(e.column-1>=J.offset){n=G;break}}let s=0;for(let G=t.tokens2.length>>>1;G>=0;G--)if(e.column-1>=t.tokens2[G<<1]){s=G;break}const o=this._model.getLineContent(e.lineNumber);let g="";if(n<t.tokens1.length){const G=t.tokens1[n].offset,J=n+1<t.tokens1.length?t.tokens1[n+1].offset:o.length;g=o.substring(G,J)}(0,we.mc)(this._domNode,(0,we.$)("h2.tm-token",void 0,C2(g),(0,we.$)("span.tm-token-length",void 0,`${g.length} ${g.length===1?"char":"chars"}`))),(0,we.R3)(this._domNode,(0,we.$)("hr.tokens-inspect-separator",{style:"clear:both"}));const w=(s<<1)+1<t.tokens2.length?this._decodeMetadata(t.tokens2[(s<<1)+1]):null;(0,we.R3)(this._domNode,(0,we.$)("table.tm-metadata-table",void 0,(0,we.$)("tbody",void 0,(0,we.$)("tr",void 0,(0,we.$)("td.tm-metadata-key",void 0,"language"),(0,we.$)("td.tm-metadata-value",void 0,`${w?w.languageId:"-?-"}`)),(0,we.$)("tr",void 0,(0,we.$)("td.tm-metadata-key",void 0,"token type"),(0,we.$)("td.tm-metadata-value",void 0,`${w?this._tokenTypeToString(w.tokenType):"-?-"}`)),(0,we.$)("tr",void 0,(0,we.$)("td.tm-metadata-key",void 0,"font style"),(0,we.$)("td.tm-metadata-value",void 0,`${w?this._fontStyleToString(w.fontStyle):"-?-"}`)),(0,we.$)("tr",void 0,(0,we.$)("td.tm-metadata-key",void 0,"foreground"),(0,we.$)("td.tm-metadata-value",void 0,`${w?ys.Il.Format.CSS.formatHex(w.foreground):"-?-"}`)),(0,we.$)("tr",void 0,(0,we.$)("td.tm-metadata-key",void 0,"background"),(0,we.$)("td.tm-metadata-value",void 0,`${w?ys.Il.Format.CSS.formatHex(w.background):"-?-"}`))))),(0,we.R3)(this._domNode,(0,we.$)("hr.tokens-inspect-separator")),n<t.tokens1.length&&(0,we.R3)(this._domNode,(0,we.$)("span.tm-token-type",void 0,t.tokens1[n].type)),this._editor.layoutContentWidget(this)}_decodeMetadata(e){const t=un.RW.getColorMap(),n=Nf.N.getLanguageId(e),s=Nf.N.getTokenType(e),o=Nf.N.getFontStyle(e),g=Nf.N.getForeground(e),w=Nf.N.getBackground(e);return{languageId:this._languageService.languageIdCodec.decodeLanguageId(n),tokenType:s,fontStyle:o,foreground:t[g],background:t[w]}}_tokenTypeToString(e){switch(e){case 0:return"Other";case 1:return"Comment";case 2:return"String";case 3:return"RegEx";default:return"??"}}_fontStyleToString(e){let t="";return e&1&&(t+="italic "),e&2&&(t+="bold "),e&4&&(t+="underline "),e&8&&(t+="strikethrough "),t.length===0&&(t="---"),t}_getTokensAtLine(e){const t=this._getStateBeforeLine(e),n=this._tokenizationSupport.tokenize(this._model.getLineContent(e),!0,t),s=this._tokenizationSupport.tokenizeEncoded(this._model.getLineContent(e),!0,t);return{startState:t,tokens1:n.tokens,tokens2:s.tokens,endState:n.endState}}_getStateBeforeLine(e){let t=this._tokenizationSupport.getInitialState();for(let n=1;n<e;n++)t=this._tokenizationSupport.tokenize(this._model.getLineContent(n),!0,t).endState;return t}getDomNode(){return this._domNode}getPosition(){return{position:this._editor.getPosition(),preference:[2,1]}}}dm._ID="editor.contrib.inspectTokensWidget",(0,je._K)(wh.ID,wh),(0,je.Qr)(v2),(0,dt.Ic)((p,e)=>{const t=p.getColor(Ce.CNo);if(t){const o=(0,qo.c3)(p.type)?2:1;e.addRule(`.monaco-editor .tokens-inspect-widget { border: ${o}px solid ${t}; }`),e.addRule(`.monaco-editor .tokens-inspect-widget .tokens-inspect-separator { background-color: ${t}; }`)}const n=p.getColor(Ce.yJx);n&&e.addRule(`.monaco-editor .tokens-inspect-widget { background-color: ${n}; }`);const s=p.getColor(Ce.Sbf);s&&e.addRule(`.monaco-editor .tokens-inspect-widget { color: ${s}; }`)});var Tf=l(88845),w2=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},x1=function(p,e){return function(t,n){e(t,n,p)}};let um=class Nm{constructor(e,t){this.quickInputService=e,this.keybindingService=t,this.registry=pr.B.as(Tf.IP.Quickaccess)}provide(e){const t=new wt.SL;return t.add(e.onDidAccept(()=>{const[n]=e.selectedItems;n&&this.quickInputService.quickAccess.show(n.prefix,{preserveValue:!0})})),t.add(e.onDidChangeValue(n=>{const s=this.registry.getQuickAccessProvider(n.substr(Nm.PREFIX.length));s&&s.prefix&&s.prefix!==Nm.PREFIX&&this.quickInputService.quickAccess.show(s.prefix,{preserveValue:!0})})),e.items=this.getQuickAccessProviders(),t}getQuickAccessProviders(){const e=[];for(const t of this.registry.getQuickAccessProviders().sort((n,s)=>n.prefix.localeCompare(s.prefix)))if(t.prefix!==Nm.PREFIX)for(const n of t.helpEntries){const s=n.prefix||t.prefix,o=s||"\u2026";e.push({prefix:s,label:o,keybinding:n.commandId?this.keybindingService.lookupKeybinding(n.commandId):void 0,ariaLabel:(0,_e.NC)("helpPickAriaLabel","{0}, {1}",o,n.description),description:n.description})}return e}};um.PREFIX="?",um=w2([x1(0,yo.eJ),x1(1,ee.d)],um),pr.B.as(Tf.IP.Quickaccess).registerQuickAccessProvider({ctor:um,prefix:"",helpEntries:[{description:mo.ld.helpQuickAccessActionLabel}]});class I1{constructor(e){this.options=e,this.rangeHighlightDecorationId=void 0}provide(e,t){var n;const s=new wt.SL;e.canAcceptInBackground=!!(!((n=this.options)===null||n===void 0)&&n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;const o=s.add(new wt.XK);return o.value=this.doProvide(e,t),s.add(this.onDidActiveTextEditorControlChange(()=>{o.value=void 0,o.value=this.doProvide(e,t)})),s}doProvide(e,t){const n=new wt.SL,s=this.activeTextEditorControl;if(s&&this.canProvideWithTextEditor(s)){const o={editor:s},g=(0,gn.Pi)(s);if(g){let w=(0,Zi.f6)(s.saveViewState());n.add(g.onDidChangeCursorPosition(()=>{w=(0,Zi.f6)(s.saveViewState())})),o.restoreViewState=()=>{w&&s===this.activeTextEditorControl&&s.restoreViewState(w)},n.add((0,cr.I)(t.onCancellationRequested)(()=>{var G;return(G=o.restoreViewState)===null||G===void 0?void 0:G.call(o)}))}n.add((0,wt.OF)(()=>this.clearDecorations(s))),n.add(this.provideWithTextEditor(o,e,t))}else n.add(this.provideWithoutTextEditor(e,t));return n}canProvideWithTextEditor(e){return!0}gotoLocation({editor:e},t){e.setSelection(t.range),e.revealRangeInCenter(t.range,0),t.preserveFocus||e.focus()}getModel(e){var t;return(0,gn.QI)(e)?(t=e.getModel())===null||t===void 0?void 0:t.modified:e.getModel()}addDecorations(e,t){e.changeDecorations(n=>{const s=[];this.rangeHighlightDecorationId&&(s.push(this.rangeHighlightDecorationId.overviewRulerDecorationId),s.push(this.rangeHighlightDecorationId.rangeHighlightId),this.rangeHighlightDecorationId=void 0);const o=[{range:t,options:{description:"quick-access-range-highlight",className:"rangeHighlight",isWholeLine:!0}},{range:t,options:{description:"quick-access-range-highlight-overview",overviewRuler:{color:(0,dt.EN)(dn.m9),position:di.sh.Full}}}],[g,w]=n.deltaDecorations(s,o);this.rangeHighlightDecorationId={rangeHighlightId:g,overviewRulerDecorationId:w}})}clearDecorations(e){const t=this.rangeHighlightDecorationId;t&&(e.changeDecorations(n=>{n.deltaDecorations([t.overviewRulerDecorationId,t.rangeHighlightId],[])}),this.rangeHighlightDecorationId=void 0)}}class hm extends I1{constructor(){super({canAcceptInBackground:!0})}provideWithoutTextEditor(e){const t=(0,_e.NC)("cannotRunGotoLine","Open a text editor first to go to a line.");return e.items=[{label:t}],e.ariaLabel=t,wt.JT.None}provideWithTextEditor(e,t,n){const s=e.editor,o=new wt.SL;o.add(t.onDidAccept(G=>{const[J]=t.selectedItems;if(J){if(!this.isValidLineNumber(s,J.lineNumber))return;this.gotoLocation(e,{range:this.toRange(J.lineNumber,J.column),keyMods:t.keyMods,preserveFocus:G.inBackground}),G.inBackground||t.hide()}}));const g=()=>{const G=this.parsePosition(s,t.value.trim().substr(hm.PREFIX.length)),J=this.getPickLabel(s,G.lineNumber,G.column);if(t.items=[{lineNumber:G.lineNumber,column:G.column,label:J}],t.ariaLabel=J,!this.isValidLineNumber(s,G.lineNumber)){this.clearDecorations(s);return}const Q=this.toRange(G.lineNumber,G.column);s.revealRangeInCenter(Q,0),this.addDecorations(s,Q)};g(),o.add(t.onDidChangeValue(()=>g()));const w=(0,gn.Pi)(s);return w&&w.getOptions().get(62).renderType===2&&(w.updateOptions({lineNumbers:"on"}),o.add((0,wt.OF)(()=>w.updateOptions({lineNumbers:"relative"})))),o}toRange(e=1,t=1){return{startLineNumber:e,startColumn:t,endLineNumber:e,endColumn:t}}parsePosition(e,t){const n=t.split(/,|:|#/).map(o=>parseInt(o,10)).filter(o=>!isNaN(o)),s=this.lineCount(e)+1;return{lineNumber:n[0]>0?n[0]:s+n[0],column:n[1]}}getPickLabel(e,t,n){if(this.isValidLineNumber(e,t))return this.isValidColumn(e,t,n)?(0,_e.NC)("gotoLineColumnLabel","Go to line {0} and character {1}.",t,n):(0,_e.NC)("gotoLineLabel","Go to line {0}.",t);const s=e.getPosition()||{lineNumber:1,column:1},o=this.lineCount(e);return o>1?(0,_e.NC)("gotoLineLabelEmptyWithLimit","Current Line: {0}, Character: {1}. Type a line number between 1 and {2} to navigate to.",s.lineNumber,s.column,o):(0,_e.NC)("gotoLineLabelEmpty","Current Line: {0}, Character: {1}. Type a line number to navigate to.",s.lineNumber,s.column)}isValidLineNumber(e,t){return!t||typeof t!="number"?!1:t>0&&t<=this.lineCount(e)}isValidColumn(e,t,n){if(!n||typeof n!="number")return!1;const s=this.getModel(e);if(!s)return!1;const o={lineNumber:t,column:n};return s.validatePosition(o).equals(o)}lineCount(e){var t,n;return(n=(t=this.getModel(e))===null||t===void 0?void 0:t.getLineCount())!==null&&n!==void 0?n:0}}hm.PREFIX=":";var S2=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},y2=function(p,e){return function(t,n){e(t,n,p)}};let kf=class extends hm{constructor(e){super(),this.editorService=e,this.onDidActiveTextEditorControlChange=ni.ju.None}get activeTextEditorControl(){return(0,Zi.f6)(this.editorService.getFocusedCodeEditor())}};kf=S2([y2(0,wi.$)],kf);class Mf extends je.R6{constructor(){super({id:Mf.ID,label:mo.qq.gotoLineActionLabel,alias:"Go to Line/Column...",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:2085,mac:{primary:293},weight:100}})}run(e){e.get(yo.eJ).quickAccess.show(kf.PREFIX)}}Mf.ID="editor.action.gotoLine",(0,je.Qr)(Mf),pr.B.as(Tf.IP.Quickaccess).registerQuickAccessProvider({ctor:kf,prefix:kf.PREFIX,helpEntries:[{description:mo.qq.gotoLineActionLabel,commandId:Mf.ID}]});const N1=[void 0,[]];function h0(p,e,t=0,n=0){const s=e;return s.values&&s.values.length>1?L2(p,s.values,t,n):T1(p,e,t,n)}function L2(p,e,t,n){let s=0;const o=[];for(const g of e){const[w,G]=T1(p,g,t,n);if(typeof w!="number")return N1;s+=w,o.push(...G)}return[s,E2(o)]}function T1(p,e,t,n){const s=(0,Pi.EW)(e.original,e.originalLowercase,t,p,p.toLowerCase(),n,{firstMatchCanBeWeak:!0,boostFullMatch:!0});return s?[s[0],(0,Pi.mB)(s)]:N1}const dE=Object.freeze({score:0});function E2(p){const e=p.sort((s,o)=>s.start-o.start),t=[];let n;for(const s of e)!n||!D2(n,s)?(n=s,t.push(s)):(n.start=Math.min(n.start,s.start),n.end=Math.max(n.end,s.end));return t}function D2(p,e){return!(p.end<e.start||e.end<p.start)}function k1(p){return p.startsWith('"')&&p.endsWith('"')}const M1=" ";function f0(p){typeof p!="string"&&(p="");const e=p.toLowerCase(),{pathNormalized:t,normalized:n,normalizedLowercase:s}=R1(p),o=t.indexOf(Os.ir)>=0,g=k1(p);let w;const G=p.split(M1);if(G.length>1)for(const J of G){const Q=k1(J),{pathNormalized:ue,normalized:Ne,normalizedLowercase:st}=R1(J);Ne&&(w||(w=[]),w.push({original:J,originalLowercase:J.toLowerCase(),pathNormalized:ue,normalized:Ne,normalizedLowercase:st,expectContiguousMatch:Q}))}return{original:p,originalLowercase:e,pathNormalized:t,normalized:n,normalizedLowercase:s,values:w,containsPathSeparator:o,expectContiguousMatch:g}}function R1(p){let e;ci.ED?e=p.replace(/\//g,Os.ir):e=p.replace(/\\/g,Os.ir);const t=(0,fi.R1)(e).replace(/\s|"/g,"");return{pathNormalized:e,normalized:t,normalizedLowercase:t.toLowerCase()}}function A1(p){return Array.isArray(p)?f0(p.map(e=>e.original).join(M1)):f0(p.original)}var x2=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},P1=function(p,e){return function(t,n){e(t,n,p)}},Rf=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};let Rl=class O0 extends I1{constructor(e,t,n=Object.create(null)){super(n),this._languageFeaturesService=e,this._outlineModelService=t,this.options=n,this.options.canAcceptInBackground=!0}provideWithoutTextEditor(e){return this.provideLabelPick(e,(0,_e.NC)("cannotRunGotoSymbolWithoutEditor","To go to a symbol, first open a text editor with symbol information.")),wt.JT.None}provideWithTextEditor(e,t,n){const s=e.editor,o=this.getModel(s);return o?this._languageFeaturesService.documentSymbolProvider.has(o)?this.doProvideWithEditorSymbols(e,o,t,n):this.doProvideWithoutEditorSymbols(e,o,t,n):wt.JT.None}doProvideWithoutEditorSymbols(e,t,n,s){const o=new wt.SL;return this.provideLabelPick(n,(0,_e.NC)("cannotRunGotoSymbolWithoutSymbolProvider","The active text editor does not provide symbol information.")),Rf(this,void 0,void 0,function*(){!(yield this.waitForLanguageSymbolRegistry(t,o))||s.isCancellationRequested||o.add(this.doProvideWithEditorSymbols(e,t,n,s))}),o}provideLabelPick(e,t){e.items=[{label:t,index:0,kind:14}],e.ariaLabel=t}waitForLanguageSymbolRegistry(e,t){return Rf(this,void 0,void 0,function*(){if(this._languageFeaturesService.documentSymbolProvider.has(e))return!0;const n=new kt.CR,s=t.add(this._languageFeaturesService.documentSymbolProvider.onDidChange(()=>{this._languageFeaturesService.documentSymbolProvider.has(e)&&(s.dispose(),n.complete(!0))}));return t.add((0,wt.OF)(()=>n.complete(!1))),n.p})}doProvideWithEditorSymbols(e,t,n,s){var o;const g=e.editor,w=new wt.SL;w.add(n.onDidAccept(Ne=>{const[st]=n.selectedItems;st&&st.range&&(this.gotoLocation(e,{range:st.range.selection,keyMods:n.keyMods,preserveFocus:Ne.inBackground}),Ne.inBackground||n.hide())})),w.add(n.onDidTriggerItemButton(({item:Ne})=>{Ne&&Ne.range&&(this.gotoLocation(e,{range:Ne.range.selection,keyMods:n.keyMods,forceSideBySide:!0}),n.hide())}));const G=this.getDocumentSymbols(t,s);let J;const Q=Ne=>Rf(this,void 0,void 0,function*(){J==null||J.dispose(!0),n.busy=!1,J=new ri.A(s),n.busy=!0;try{const st=f0(n.value.substr(O0.PREFIX.length).trim()),mt=yield this.doGetSymbolPicks(G,st,void 0,J.token);if(s.isCancellationRequested)return;if(mt.length>0){if(n.items=mt,Ne&&st.original.length===0){const bt=(0,$i.dF)(mt,$t=>Boolean($t.type!=="separator"&&$t.range&&_t.e.containsPosition($t.range.decoration,Ne)));bt&&(n.activeItems=[bt])}}else st.original.length>0?this.provideLabelPick(n,(0,_e.NC)("noMatchingSymbolResults","No matching editor symbols")):this.provideLabelPick(n,(0,_e.NC)("noSymbolResults","No editor symbols"))}finally{s.isCancellationRequested||(n.busy=!1)}});w.add(n.onDidChangeValue(()=>Q(void 0))),Q((o=g.getSelection())===null||o===void 0?void 0:o.getPosition());let ue=2;return w.add(n.onDidChangeActive(()=>{const[Ne]=n.activeItems;if(Ne&&Ne.range){if(ue-- >0)return;g.revealRangeInCenter(Ne.range.selection,0),this.addDecorations(g,Ne.range.decoration)}})),w}doGetSymbolPicks(e,t,n,s){return Rf(this,void 0,void 0,function*(){const o=yield e;if(s.isCancellationRequested)return[];const g=t.original.indexOf(O0.SCOPE_PREFIX)===0,w=g?1:0;let G,J;t.values&&t.values.length>1?(G=A1(t.values[0]),J=A1(t.values.slice(1))):G=t;const Q=[];for(let st=0;st<o.length;st++){const mt=o[st],bt=(0,fi.fy)(mt.name),$t=`$(${un.uZ.toIcon(mt.kind).id}) ${bt}`,Cn=$t.length-bt.length;let Yn=mt.containerName;n!=null&&n.extraContainerLabel&&(Yn?Yn=`${n.extraContainerLabel} \u2022 ${Yn}`:Yn=n.extraContainerLabel);let ei,Ti,Ji,to;if(t.original.length>w){let Ir=!1;if(G!==t&&([ei,Ti]=h0($t,Object.assign(Object.assign({},t),{values:void 0}),w,Cn),typeof ei=="number"&&(Ir=!0)),typeof ei!="number"&&([ei,Ti]=h0($t,G,w,Cn),typeof ei!="number"))continue;if(!Ir&&J){if(Yn&&J.original.length>0&&([Ji,to]=h0(Yn,J)),typeof Ji!="number")continue;typeof ei=="number"&&(ei+=Ji)}}const Ls=mt.tags&&mt.tags.indexOf(1)>=0;Q.push({index:st,kind:mt.kind,score:ei,label:$t,ariaLabel:bt,description:Yn,highlights:Ls?void 0:{label:Ti,description:to},range:{selection:_t.e.collapseToStart(mt.selectionRange),decoration:mt.range},strikethrough:Ls,buttons:(()=>{var Ir,Gr;const wa=!((Ir=this.options)===null||Ir===void 0)&&Ir.openSideBySideDirection?(Gr=this.options)===null||Gr===void 0?void 0:Gr.openSideBySideDirection():void 0;if(!!wa)return[{iconClass:wa==="right"?Nn.lA.splitHorizontal.classNames:Nn.lA.splitVertical.classNames,tooltip:wa==="right"?(0,_e.NC)("openToSide","Open to the Side"):(0,_e.NC)("openToBottom","Open to the Bottom")}]})()})}const ue=Q.sort((st,mt)=>g?this.compareByKindAndScore(st,mt):this.compareByScore(st,mt));let Ne=[];if(g){let $t=function(){mt&&typeof st=="number"&&bt>0&&(mt.label=(0,fi.WU)(m0[st]||g0,bt))},st,mt,bt=0;for(const Cn of ue)st!==Cn.kind?($t(),st=Cn.kind,bt=1,mt={type:"separator"},Ne.push(mt)):bt++,Ne.push(Cn);$t()}else ue.length>0&&(Ne=[{label:(0,_e.NC)("symbols","symbols ({0})",Q.length),type:"separator"},...ue]);return Ne})}compareByScore(e,t){if(typeof e.score!="number"&&typeof t.score=="number")return 1;if(typeof e.score=="number"&&typeof t.score!="number")return-1;if(typeof e.score=="number"&&typeof t.score=="number"){if(e.score>t.score)return-1;if(e.score<t.score)return 1}return e.index<t.index?-1:e.index>t.index?1:0}compareByKindAndScore(e,t){const n=m0[e.kind]||g0,s=m0[t.kind]||g0,o=n.localeCompare(s);return o===0?this.compareByScore(e,t):o}getDocumentSymbols(e,t){return Rf(this,void 0,void 0,function*(){const n=yield this._outlineModelService.getOrCreate(e,t);return t.isCancellationRequested?[]:n.asListOfDocumentSymbols()})}};Rl.PREFIX="@",Rl.SCOPE_PREFIX=":",Rl.PREFIX_BY_CATEGORY=`${Rl.PREFIX}${Rl.SCOPE_PREFIX}`,Rl=x2([P1(0,bi.p),P1(1,xg)],Rl);const g0=(0,_e.NC)("property","properties ({0})"),m0={[5]:(0,_e.NC)("method","methods ({0})"),[11]:(0,_e.NC)("function","functions ({0})"),[8]:(0,_e.NC)("_constructor","constructors ({0})"),[12]:(0,_e.NC)("variable","variables ({0})"),[4]:(0,_e.NC)("class","classes ({0})"),[22]:(0,_e.NC)("struct","structs ({0})"),[23]:(0,_e.NC)("event","events ({0})"),[24]:(0,_e.NC)("operator","operators ({0})"),[10]:(0,_e.NC)("interface","interfaces ({0})"),[2]:(0,_e.NC)("namespace","namespaces ({0})"),[3]:(0,_e.NC)("package","packages ({0})"),[25]:(0,_e.NC)("typeParameter","type parameters ({0})"),[1]:(0,_e.NC)("modules","modules ({0})"),[6]:(0,_e.NC)("property","properties ({0})"),[9]:(0,_e.NC)("enum","enumerations ({0})"),[21]:(0,_e.NC)("enumMember","enumeration members ({0})"),[14]:(0,_e.NC)("string","strings ({0})"),[0]:(0,_e.NC)("file","files ({0})"),[17]:(0,_e.NC)("array","arrays ({0})"),[15]:(0,_e.NC)("number","numbers ({0})"),[16]:(0,_e.NC)("boolean","booleans ({0})"),[18]:(0,_e.NC)("object","objects ({0})"),[19]:(0,_e.NC)("key","keys ({0})"),[7]:(0,_e.NC)("field","fields ({0})"),[13]:(0,_e.NC)("constant","constants ({0})")};var I2=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},p0=function(p,e){return function(t,n){e(t,n,p)}};let _0=class extends Rl{constructor(e,t,n){super(t,n),this.editorService=e,this.onDidActiveTextEditorControlChange=ni.ju.None}get activeTextEditorControl(){return(0,Zi.f6)(this.editorService.getFocusedCodeEditor())}};_0=I2([p0(0,wi.$),p0(1,bi.p),p0(2,xg)],_0);class Af extends je.R6{constructor(){super({id:Af.ID,label:mo.aq.quickOutlineActionLabel,alias:"Go to Symbol...",precondition:vt.u.hasDocumentSymbolProvider,kbOpts:{kbExpr:vt.u.focus,primary:3117,weight:100},contextMenuOpts:{group:"navigation",order:3}})}run(e){e.get(yo.eJ).quickAccess.show(Rl.PREFIX)}}Af.ID="editor.action.quickOutline",(0,je.Qr)(Af),pr.B.as(Tf.IP.Quickaccess).registerQuickAccessProvider({ctor:_0,prefix:Rl.PREFIX,helpEntries:[{description:mo.aq.quickOutlineActionLabel,prefix:Rl.PREFIX,commandId:Af.ID},{description:mo.aq.quickOutlineByCategoryActionLabel,prefix:Rl.PREFIX_BY_CATEGORY}]});function v0(p,e){return e&&(p.stack||p.stacktrace)?_e.NC("stackTrace.format","{0}: {1}",F1(p),O1(p.stack)||O1(p.stacktrace)):F1(p)}function O1(p){return Array.isArray(p)?p.join(`
`):p}function F1(p){return typeof p.code=="string"&&typeof p.errno=="number"&&typeof p.syscall=="string"?_e.NC("nodeExceptionMessage","A system error occurred ({0})",p.message):p.message||_e.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}function B1(p=null,e=!1){if(!p)return _e.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.");if(Array.isArray(p)){const t=$i.kX(p),n=B1(t[0],e);return t.length>1?_e.NC("error.moreErrors","{0} ({1} errors in total)",n,t.length):n}if(Zi.HD(p))return p;if(p.detail){const t=p.detail;if(t.error)return v0(t.error,e);if(t.exception)return v0(t.exception,e)}return p.stack?v0(p,e):p.message?p.message:_e.NC("error.defaultMessage","An unknown error occurred. Please consult the log for more details.")}var fm=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})},Sh;(function(p){p[p.NO_ACTION=0]="NO_ACTION",p[p.CLOSE_PICKER=1]="CLOSE_PICKER",p[p.REFRESH_PICKER=2]="REFRESH_PICKER",p[p.REMOVE_ITEM=3]="REMOVE_ITEM"})(Sh||(Sh={}));function C0(p){const e=p;return Array.isArray(e.items)}function N2(p){const e=p;return!!e.picks&&e.additionalPicks instanceof Promise}class gm extends wt.JT{constructor(e,t){super(),this.prefix=e,this.options=t}provide(e,t){var n;const s=new wt.SL;e.canAcceptInBackground=!!(!((n=this.options)===null||n===void 0)&&n.canAcceptInBackground),e.matchOnLabel=e.matchOnDescription=e.matchOnDetail=e.sortByLabel=!1;let o;const g=s.add(new wt.XK),w=()=>fm(this,void 0,void 0,function*(){const G=g.value=new wt.SL;o==null||o.dispose(!0),e.busy=!1,o=new ri.A(t);const J=o.token,Q=e.value.substr(this.prefix.length).trim(),ue=this._getPicks(Q,G,J),Ne=(st,mt)=>{var bt;let $t,Cn;if(C0(st)?($t=st.items,Cn=st.active):$t=st,$t.length===0){if(mt)return!1;Q.length>0&&((bt=this.options)===null||bt===void 0?void 0:bt.noResultsPick)&&($t=[this.options.noResultsPick])}return e.items=$t,Cn&&(e.activeItems=[Cn]),!0};if(ue!==null)if(N2(ue)){let st=!1,mt=!1;yield Promise.all([(()=>fm(this,void 0,void 0,function*(){yield(0,kt.Vs)(gm.FAST_PICKS_RACE_DELAY),!J.isCancellationRequested&&(mt||(st=Ne(ue.picks,!0)))}))(),(()=>fm(this,void 0,void 0,function*(){e.busy=!0;try{const bt=yield ue.additionalPicks;if(J.isCancellationRequested)return;let $t,Cn;C0(ue.picks)?($t=ue.picks.items,Cn=ue.picks.active):$t=ue.picks;let Yn,ei;if(C0(bt)?(Yn=bt.items,ei=bt.active):Yn=bt,Yn.length>0||!st){let Ti;if(!Cn&&!ei){const Ji=e.activeItems[0];Ji&&$t.indexOf(Ji)!==-1&&(Ti=Ji)}Ne({items:[...$t,...Yn],active:Cn||ei||Ti})}}finally{J.isCancellationRequested||(e.busy=!1),mt=!0}}))()])}else if(!(ue instanceof Promise))Ne(ue);else{e.busy=!0;try{const st=yield ue;if(J.isCancellationRequested)return;Ne(st)}finally{J.isCancellationRequested||(e.busy=!1)}}});return s.add(e.onDidChangeValue(()=>w())),w(),s.add(e.onDidAccept(G=>{const[J]=e.selectedItems;typeof(J==null?void 0:J.accept)=="function"&&(G.inBackground||e.hide(),J.accept(e.keyMods,G))})),s.add(e.onDidTriggerItemButton(({button:G,item:J})=>fm(this,void 0,void 0,function*(){var Q,ue;if(typeof J.trigger=="function"){const Ne=(ue=(Q=J.buttons)===null||Q===void 0?void 0:Q.indexOf(G))!==null&&ue!==void 0?ue:-1;if(Ne>=0){const st=J.trigger(Ne,e.keyMods),mt=typeof st=="number"?st:yield st;if(t.isCancellationRequested)return;switch(mt){case Sh.NO_ACTION:break;case Sh.CLOSE_PICKER:e.hide();break;case Sh.REFRESH_PICKER:w();break;case Sh.REMOVE_ITEM:{const bt=e.items.indexOf(J);if(bt!==-1){const $t=e.items.slice(),Cn=$t.splice(bt,1),Yn=e.activeItems.filter(Ti=>Ti!==Cn[0]),ei=e.keepScrollPosition;e.keepScrollPosition=!0,e.items=$t,Yn&&(e.activeItems=Yn),e.keepScrollPosition=ei}break}}}}}))),s}}gm.FAST_PICKS_RACE_DELAY=200;var W1=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Cu=function(p,e){return function(t,n){e(t,n,p)}},V1=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};let Pf=class Tm extends gm{constructor(e,t,n,s,o,g){super(Tm.PREFIX,e),this.instantiationService=t,this.keybindingService=n,this.commandService=s,this.telemetryService=o,this.dialogService=g,this.commandsHistory=this._register(this.instantiationService.createInstance(bu)),this.options=e}_getPicks(e,t,n){return V1(this,void 0,void 0,function*(){const s=yield this.getCommandPicks(t,n);if(n.isCancellationRequested)return[];const o=[];for(const J of s){const Q=(0,Zi.f6)(Tm.WORD_FILTER(e,J.label)),ue=J.commandAlias?(0,Zi.f6)(Tm.WORD_FILTER(e,J.commandAlias)):void 0;Q||ue?(J.highlights={label:Q,detail:this.options.showAlias?ue:void 0},o.push(J)):e===J.commandId&&o.push(J)}const g=new Map;for(const J of o){const Q=g.get(J.label);Q?(J.description=J.commandId,Q.description=Q.commandId):g.set(J.label,J)}o.sort((J,Q)=>{const ue=this.commandsHistory.peek(J.commandId),Ne=this.commandsHistory.peek(Q.commandId);return ue&&Ne?ue>Ne?-1:1:ue?-1:Ne?1:J.label.localeCompare(Q.label)});const w=[];let G=!1;for(let J=0;J<o.length;J++){const Q=o[J],ue=this.keybindingService.lookupKeybinding(Q.commandId),Ne=ue?(0,_e.NC)("commandPickAriaLabelWithKeybinding","{0}, {1}",Q.label,ue.getAriaLabel()):Q.label;J===0&&this.commandsHistory.peek(Q.commandId)&&(w.push({type:"separator",label:(0,_e.NC)("recentlyUsed","recently used")}),G=!0),J!==0&&G&&!this.commandsHistory.peek(Q.commandId)&&(w.push({type:"separator",label:(0,_e.NC)("morecCommands","other commands")}),G=!1),w.push(Object.assign(Object.assign({},Q),{ariaLabel:Ne,detail:this.options.showAlias&&Q.commandAlias!==Q.label?Q.commandAlias:void 0,keybinding:ue,accept:()=>V1(this,void 0,void 0,function*(){this.commandsHistory.push(Q.commandId),this.telemetryService.publicLog2("workbenchActionExecuted",{id:Q.commandId,from:"quick open"});try{yield this.commandService.executeCommand(Q.commandId)}catch(st){(0,Ei.n2)(st)||this.dialogService.show(gc.Z.Error,(0,_e.NC)("canNotRun","Command '{0}' resulted in an error ({1})",Q.label,B1(st)))}})}))}return w})}};Pf.PREFIX=">",Pf.WORD_FILTER=(0,Pi.or)(Pi.Ji,Pi.KZ,Pi.ir),Pf=W1([Cu(1,ki.TG),Cu(2,ee.d),Cu(3,gi.Hy),Cu(4,fe.b),Cu(5,r0.S)],Pf);let bu=class ar extends wt.JT{constructor(e,t){super(),this.storageService=e,this.configurationService=t,this.configuredCommandsHistoryLength=0,this.updateConfiguration(),this.load(),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(()=>this.updateConfiguration()))}updateConfiguration(){this.configuredCommandsHistoryLength=ar.getConfiguredCommandHistoryLength(this.configurationService),ar.cache&&ar.cache.limit!==this.configuredCommandsHistoryLength&&(ar.cache.limit=this.configuredCommandsHistoryLength,ar.saveState(this.storageService))}load(){const e=this.storageService.get(ar.PREF_KEY_CACHE,0);let t;if(e)try{t=JSON.parse(e)}catch(s){}const n=ar.cache=new Mi.z6(this.configuredCommandsHistoryLength,1);if(t){let s;t.usesLRU?s=t.entries:s=t.entries.sort((o,g)=>o.value-g.value),s.forEach(o=>n.set(o.key,o.value))}ar.counter=this.storageService.getNumber(ar.PREF_KEY_COUNTER,0,ar.counter)}push(e){!ar.cache||(ar.cache.set(e,ar.counter++),ar.saveState(this.storageService))}peek(e){var t;return(t=ar.cache)===null||t===void 0?void 0:t.peek(e)}static saveState(e){if(!ar.cache)return;const t={usesLRU:!0,entries:[]};ar.cache.forEach((n,s)=>t.entries.push({key:s,value:n})),e.store(ar.PREF_KEY_CACHE,JSON.stringify(t),0,0),e.store(ar.PREF_KEY_COUNTER,ar.counter,0,0)}static getConfiguredCommandHistoryLength(e){var t,n;const o=(n=(t=e.getValue().workbench)===null||t===void 0?void 0:t.commandPalette)===null||n===void 0?void 0:n.history;return typeof o=="number"?o:ar.DEFAULT_COMMANDS_HISTORY_LENGTH}};bu.DEFAULT_COMMANDS_HISTORY_LENGTH=50,bu.PREF_KEY_CACHE="commandPalette.mru.cache",bu.PREF_KEY_COUNTER="commandPalette.mru.counter",bu.counter=1,bu=W1([Cu(0,Oo.Uy),Cu(1,m.Ui)],bu);class T2 extends Pf{constructor(e,t,n,s,o,g){super(e,t,n,s,o,g)}getCodeEditorCommandPicks(){const e=this.activeTextEditorControl;if(!e)return[];const t=[];for(const n of e.getSupportedActions())t.push({commandId:n.id,commandAlias:n.alias,label:(0,Yd.x$)(n.label)||n.id});return t}}var k2=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},yh=function(p,e){return function(t,n){e(t,n,p)}},M2=function(p,e,t,n){function s(o){return o instanceof t?o:new t(function(g){g(o)})}return new(t||(t=Promise))(function(o,g){function w(Q){try{J(n.next(Q))}catch(ue){g(ue)}}function G(Q){try{J(n.throw(Q))}catch(ue){g(ue)}}function J(Q){Q.done?o(Q.value):s(Q.value).then(w,G)}J((n=n.apply(p,e||[])).next())})};let Of=class extends T2{constructor(e,t,n,s,o,g){super({showAlias:!1},e,n,s,o,g),this.codeEditorService=t}get activeTextEditorControl(){return(0,Zi.f6)(this.codeEditorService.getFocusedCodeEditor())}getCommandPicks(){return M2(this,void 0,void 0,function*(){return this.getCodeEditorCommandPicks()})}};Of=k2([yh(0,ki.TG),yh(1,wi.$),yh(2,ee.d),yh(3,gi.Hy),yh(4,fe.b),yh(5,r0.S)],Of);class Ff extends je.R6{constructor(){super({id:Ff.ID,label:mo.UX.quickCommandActionLabel,alias:"Command Palette",precondition:void 0,kbOpts:{kbExpr:vt.u.focus,primary:59,weight:100},contextMenuOpts:{group:"z_commands",order:1}})}run(e){e.get(yo.eJ).quickAccess.show(Of.PREFIX)}}Ff.ID="editor.action.quickCommand",(0,je.Qr)(Ff),pr.B.as(Tf.IP.Quickaccess).registerQuickAccessProvider({ctor:Of,prefix:Of.PREFIX,helpEntries:[{description:mo.UX.quickCommandHelp,commandId:Ff.ID}]});var R2=function(p,e,t,n){var s=arguments.length,o=s<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,t):n,g;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(p,e,t,n);else for(var w=p.length-1;w>=0;w--)(g=p[w])&&(o=(s<3?g(o):s>3?g(e,t,o):g(e,t))||o);return s>3&&o&&Object.defineProperty(e,t,o),o},Lh=function(p,e){return function(t,n){e(t,n,p)}};let b0=class extends na{constructor(e,t,n,s,o,g,w){super(!0,e,t,n,s,o,g,w)}};b0=R2([Lh(1,ht.i6),Lh(2,wi.$),Lh(3,et.lT),Lh(4,ki.TG),Lh(5,Oo.Uy),Lh(6,m.Ui)],b0),(0,je._K)(na.ID,b0);var mm=l(14651);class A2 extends je.R6{constructor(){super({id:"editor.action.toggleHighContrast",label:mo.xi.toggleHighContrast,alias:"Toggle High Contrast Theme",precondition:void 0}),this._originalThemeName=null}run(e,t){const n=e.get(E1.Z),s=n.getColorTheme();(0,qo.c3)(s.type)?(n.setTheme(this._originalThemeName||((0,qo._T)(s.type)?mm.rW:mm.TG)),this._originalThemeName=null):(n.setTheme((0,qo._T)(s.type)?mm.kR:mm.MU),this._originalThemeName=s.themeName)}}(0,je.Qr)(A2)},14651:function(nt,xe,l){"use strict";l.d(xe,{kR:function(){return oe},MU:function(){return q},nI:function(){return He},rW:function(){return U},TG:function(){return ne}});var C=l(1660),d=l(69748),j=l(15304),W=l(60218),L=l(51080),z=l(15880);class P{constructor(Le,Ze,Ge,Fe,ct){this._parsedThemeRuleBrand=void 0,this.token=Le,this.index=Ze,this.fontStyle=Ge,this.foreground=Fe,this.background=ct}}function A(ze){if(!ze||!Array.isArray(ze))return[];const Le=[];let Ze=0;for(let Ge=0,Fe=ze.length;Ge<Fe;Ge++){const ct=ze[Ge];let ft=-1;if(typeof ct.fontStyle=="string"){ft=0;const Vt=ct.fontStyle.split(" ");for(let We=0,St=Vt.length;We<St;We++)switch(Vt[We]){case"italic":ft=ft|1;break;case"bold":ft=ft|2;break;case"underline":ft=ft|4;break;case"strikethrough":ft=ft|8;break}}let Ot=null;typeof ct.foreground=="string"&&(Ot=ct.foreground);let Et=null;typeof ct.background=="string"&&(Et=ct.background),Le[Ze++]=new P(ct.token||"",Ge,ft,Ot,Et)}return Le}function T(ze,Le){ze.sort((We,St)=>{const Re=b(We.token,St.token);return Re!==0?Re:We.index-St.index});let Ze=0,Ge="000000",Fe="ffffff";for(;ze.length>=1&&ze[0].token==="";){const We=ze.shift();We.fontStyle!==-1&&(Ze=We.fontStyle),We.foreground!==null&&(Ge=We.foreground),We.background!==null&&(Fe=We.background)}const ct=new _;for(const We of Le)ct.getId(We);const ft=ct.getId(Ge),Ot=ct.getId(Fe),Et=new D(Ze,ft,Ot),Vt=new N(Et);for(let We=0,St=ze.length;We<St;We++){const Re=ze[We];Vt.insert(Re.token,Re.fontStyle,ct.getId(Re.foreground),ct.getId(Re.background))}return new y(ct,Vt)}const S=/^#?([0-9A-Fa-f]{6})([0-9A-Fa-f]{2})?$/;class _{constructor(){this._lastColorId=0,this._id2color=[],this._color2id=new Map}getId(Le){if(Le===null)return 0;const Ze=Le.match(S);if(!Ze)throw new Error("Illegal value for token color: "+Le);Le=Ze[1].toUpperCase();let Ge=this._color2id.get(Le);return Ge||(Ge=++this._lastColorId,this._color2id.set(Le,Ge),this._id2color[Ge]=j.Il.fromHex("#"+Le),Ge)}getColorMap(){return this._id2color.slice(0)}}class y{constructor(Le,Ze){this._colorMap=Le,this._root=Ze,this._cache=new Map}static createFromRawTokenTheme(Le,Ze){return this.createFromParsedTokenTheme(A(Le),Ze)}static createFromParsedTokenTheme(Le,Ze){return T(Le,Ze)}getColorMap(){return this._colorMap.getColorMap()}_match(Le){return this._root.match(Le)}match(Le,Ze){let Ge=this._cache.get(Ze);if(typeof Ge=="undefined"){const Fe=this._match(Ze),ct=a(Ze);Ge=(Fe.metadata|ct<<8)>>>0,this._cache.set(Ze,Ge)}return(Ge|Le<<0)>>>0}}const u=/\b(comment|string|regex|regexp)\b/;function a(ze){const Le=ze.match(u);if(!Le)return 0;switch(Le[1]){case"comment":return 1;case"string":return 2;case"regex":return 3;case"regexp":return 3}throw new Error("Unexpected match for standard token type!")}function b(ze,Le){return ze<Le?-1:ze>Le?1:0}class D{constructor(Le,Ze,Ge){this._themeTrieElementRuleBrand=void 0,this._fontStyle=Le,this._foreground=Ze,this._background=Ge,this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}clone(){return new D(this._fontStyle,this._foreground,this._background)}acceptOverwrite(Le,Ze,Ge){Le!==-1&&(this._fontStyle=Le),Ze!==0&&(this._foreground=Ze),Ge!==0&&(this._background=Ge),this.metadata=(this._fontStyle<<11|this._foreground<<15|this._background<<24)>>>0}}class N{constructor(Le){this._themeTrieElementBrand=void 0,this._mainRule=Le,this._children=new Map}match(Le){if(Le==="")return this._mainRule;const Ze=Le.indexOf(".");let Ge,Fe;Ze===-1?(Ge=Le,Fe=""):(Ge=Le.substring(0,Ze),Fe=Le.substring(Ze+1));const ct=this._children.get(Ge);return typeof ct!="undefined"?ct.match(Fe):this._mainRule}insert(Le,Ze,Ge,Fe){if(Le===""){this._mainRule.acceptOverwrite(Ze,Ge,Fe);return}const ct=Le.indexOf(".");let ft,Ot;ct===-1?(ft=Le,Ot=""):(ft=Le.substring(0,ct),Ot=Le.substring(ct+1));let Et=this._children.get(ft);typeof Et=="undefined"&&(Et=new N(this._mainRule.clone()),this._children.set(ft,Et)),Et.insert(Ot,Ze,Ge,Fe)}}function I(ze){const Le=[];for(let Ze=1,Ge=ze.length;Ze<Ge;Ze++){const Fe=ze[Ze];Le[Ze]=`.mtk${Ze} { color: ${Fe}; }`}return Le.push(".mtki { font-style: italic; }"),Le.push(".mtkb { font-weight: bold; }"),Le.push(".mtku { text-decoration: underline; text-underline-position: under; }"),Le.push(".mtks { text-decoration: line-through; }"),Le.push(".mtks.mtku { text-decoration: underline line-through; text-underline-position: under; }"),Le.join(`
`)}var E=l(66658),O=l(55952);const R={base:"vs",inherit:!1,rules:[{token:"",foreground:"000000",background:"fffffe"},{token:"invalid",foreground:"cd3131"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"001188"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"delimiter.xml",foreground:"0000FF"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"FF0000"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"FF0000"},{token:"attribute.value",foreground:"0451A5"},{token:"attribute.value.number",foreground:"098658"},{token:"attribute.value.unit",foreground:"098658"},{token:"attribute.value.html",foreground:"0000FF"},{token:"attribute.value.xml",foreground:"0000FF"},{token:"string",foreground:"A31515"},{token:"string.html",foreground:"0000FF"},{token:"string.sql",foreground:"FF0000"},{token:"string.yaml",foreground:"0451A5"},{token:"keyword",foreground:"0000FF"},{token:"keyword.json",foreground:"0451A5"},{token:"keyword.flow",foreground:"AF00DB"},{token:"keyword.flow.scss",foreground:"0000FF"},{token:"operator.scss",foreground:"666666"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[O.cvW]:"#FFFFFE",[O.NOs]:"#000000",[O.ES4]:"#E5EBF1",[E.tR]:"#D3D3D3",[E.Ym]:"#939393",[O.Rzx]:"#ADD6FF4D"}},M={base:"vs-dark",inherit:!1,rules:[{token:"",foreground:"D4D4D4",background:"1E1E1E"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"74B0DF"},{token:"variable.predefined",foreground:"4864AA"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"B5CEA8"},{token:"number.hex",foreground:"5BB498"},{token:"regexp",foreground:"B46695"},{token:"annotation",foreground:"cc6666"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"DCDCDC"},{token:"delimiter.html",foreground:"808080"},{token:"delimiter.xml",foreground:"808080"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"A79873"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"DD6A6F"},{token:"metatag.content.html",foreground:"9CDCFE"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key.json",foreground:"9CDCFE"},{token:"string.value.json",foreground:"CE9178"},{token:"attribute.name",foreground:"9CDCFE"},{token:"attribute.value",foreground:"CE9178"},{token:"attribute.value.number.css",foreground:"B5CEA8"},{token:"attribute.value.unit.css",foreground:"B5CEA8"},{token:"attribute.value.hex.css",foreground:"D4D4D4"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"keyword.json",foreground:"CE9178"},{token:"keyword.flow.scss",foreground:"569CD6"},{token:"operator.scss",foreground:"909090"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[O.cvW]:"#1E1E1E",[O.NOs]:"#D4D4D4",[O.ES4]:"#3A3D41",[E.tR]:"#404040",[E.Ym]:"#707070",[O.Rzx]:"#ADD6FF26"}},K={base:"hc-black",inherit:!1,rules:[{token:"",foreground:"FFFFFF",background:"000000"},{token:"invalid",foreground:"f44747"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"1AEBFF"},{token:"variable.parameter",foreground:"9CDCFE"},{token:"constant",foreground:"569CD6"},{token:"comment",foreground:"608B4E"},{token:"number",foreground:"FFFFFF"},{token:"regexp",foreground:"C0C0C0"},{token:"annotation",foreground:"569CD6"},{token:"type",foreground:"3DC9B0"},{token:"delimiter",foreground:"FFFF00"},{token:"delimiter.html",foreground:"FFFF00"},{token:"tag",foreground:"569CD6"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta",foreground:"D4D4D4"},{token:"meta.tag",foreground:"CE9178"},{token:"metatag",foreground:"569CD6"},{token:"metatag.content.html",foreground:"1AEBFF"},{token:"metatag.html",foreground:"569CD6"},{token:"metatag.xml",foreground:"569CD6"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"9CDCFE"},{token:"string.key",foreground:"9CDCFE"},{token:"string.value",foreground:"CE9178"},{token:"attribute.name",foreground:"569CD6"},{token:"attribute.value",foreground:"3FF23F"},{token:"string",foreground:"CE9178"},{token:"string.sql",foreground:"FF0000"},{token:"keyword",foreground:"569CD6"},{token:"keyword.flow",foreground:"C586C0"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"909090"},{token:"predefined.sql",foreground:"FF00FF"}],colors:{[O.cvW]:"#000000",[O.NOs]:"#FFFFFF",[E.tR]:"#FFFFFF",[E.Ym]:"#FFFFFF"}},Z={base:"hc-light",inherit:!1,rules:[{token:"",foreground:"292929",background:"FFFFFF"},{token:"invalid",foreground:"B5200D"},{token:"emphasis",fontStyle:"italic"},{token:"strong",fontStyle:"bold"},{token:"variable",foreground:"264F70"},{token:"variable.predefined",foreground:"4864AA"},{token:"constant",foreground:"dd0000"},{token:"comment",foreground:"008000"},{token:"number",foreground:"098658"},{token:"number.hex",foreground:"3030c0"},{token:"regexp",foreground:"800000"},{token:"annotation",foreground:"808080"},{token:"type",foreground:"008080"},{token:"delimiter",foreground:"000000"},{token:"delimiter.html",foreground:"383838"},{token:"tag",foreground:"800000"},{token:"tag.id.pug",foreground:"4F76AC"},{token:"tag.class.pug",foreground:"4F76AC"},{token:"meta.scss",foreground:"800000"},{token:"metatag",foreground:"e00000"},{token:"metatag.content.html",foreground:"B5200D"},{token:"metatag.html",foreground:"808080"},{token:"metatag.xml",foreground:"808080"},{token:"metatag.php",fontStyle:"bold"},{token:"key",foreground:"863B00"},{token:"string.key.json",foreground:"A31515"},{token:"string.value.json",foreground:"0451A5"},{token:"attribute.name",foreground:"264F78"},{token:"attribute.value",foreground:"0451A5"},{token:"string",foreground:"A31515"},{token:"string.sql",foreground:"B5200D"},{token:"keyword",foreground:"0000FF"},{token:"keyword.flow",foreground:"AF00DB"},{token:"operator.sql",foreground:"778899"},{token:"operator.swift",foreground:"666666"},{token:"predefined.sql",foreground:"C700C7"}],colors:{[O.cvW]:"#FFFFFF",[O.NOs]:"#292929",[E.tR]:"#292929",[E.Ym]:"#292929"}};var te=l(14038),de=l(16597),ge=l(94214),le=l(26687),se=l(33664);function X(ze){const Le=new W.Q5,Ze=(0,se.Ks)();return Ze.onDidChange(()=>Le.fire()),ze==null||ze.onDidProductIconThemeChange(()=>Le.fire()),{onDidChange:Le.event,getCSS(){const Ge=ze?ze.getProductIconTheme():new re,Fe={},ct=Ot=>{const Et=Ge.getIcon(Ot);if(!Et)return;const Vt=Et.font;return Vt?(Fe[Vt.id]=Vt.definition,`.codicon-${Ot.id}:before { content: '${Et.fontCharacter}'; font-family: ${(0,C._h)(Vt.id)}; }`):`.codicon-${Ot.id}:before { content: '${Et.fontCharacter}'; }`},ft=[];for(const Ot of Ze.getIcons()){const Et=ct(Ot);Et&&ft.push(Et)}for(const Ot in Fe){const Et=Fe[Ot],Vt=Et.weight?`font-weight: ${Et.weight};`:"",We=Et.style?`font-style: ${Et.style};`:"",St=Et.src.map(Re=>`${(0,C.wY)(Re.location)} format('${Re.format}')`).join(", ");ft.push(`@font-face { src: ${St}; font-family: ${(0,C._h)(Ot)};${Vt}${We} font-display: block; }`)}return ft.join(`
`)}}}class re{getIcon(Le){const Ze=(0,se.Ks)();let Ge=Le.defaults;for(;de.kS.isThemeIcon(Ge);){const Fe=Ze.getIcon(Ge.id);if(!Fe)return;Ge=Fe.defaults}return Ge}}const ne="vs",U="vs-dark",oe="hc-black",q="hc-light",ae=te.B.as(O.IPX.ColorContribution),me=te.B.as(de.IP.ThemingContribution);class ke{constructor(Le,Ze){this.semanticHighlighting=!1,this.themeData=Ze;const Ge=Ze.base;Le.length>0?(H(Le)?this.id=Le:this.id=Ge+" "+Le,this.themeName=Le):(this.id=Ge,this.themeName=Ge),this.colors=null,this.defaultColors=Object.create(null),this._tokenTheme=null}get base(){return this.themeData.base}notifyBaseUpdated(){this.themeData.inherit&&(this.colors=null,this._tokenTheme=null)}getColors(){if(!this.colors){const Le=new Map;for(const Ze in this.themeData.colors)Le.set(Ze,j.Il.fromHex(this.themeData.colors[Ze]));if(this.themeData.inherit){const Ze=ut(this.themeData.base);for(const Ge in Ze.colors)Le.has(Ge)||Le.set(Ge,j.Il.fromHex(Ze.colors[Ge]))}this.colors=Le}return this.colors}getColor(Le,Ze){const Ge=this.getColors().get(Le);if(Ge)return Ge;if(Ze!==!1)return this.getDefault(Le)}getDefault(Le){let Ze=this.defaultColors[Le];return Ze||(Ze=ae.resolveDefaultColor(Le,this),this.defaultColors[Le]=Ze,Ze)}defines(Le){return Object.prototype.hasOwnProperty.call(this.getColors(),Le)}get type(){switch(this.base){case ne:return le.eL.LIGHT;case oe:return le.eL.HIGH_CONTRAST_DARK;case q:return le.eL.HIGH_CONTRAST_LIGHT;default:return le.eL.DARK}}get tokenTheme(){if(!this._tokenTheme){let Le=[],Ze=[];if(this.themeData.inherit){const ct=ut(this.themeData.base);Le=ct.rules,ct.encodedTokensColors&&(Ze=ct.encodedTokensColors)}const Ge=this.themeData.colors["editor.foreground"],Fe=this.themeData.colors["editor.background"];if(Ge||Fe){const ct={token:""};Ge&&(ct.foreground=Ge),Fe&&(ct.background=Fe),Le.push(ct)}Le=Le.concat(this.themeData.rules),this.themeData.encodedTokensColors&&(Ze=this.themeData.encodedTokensColors),this._tokenTheme=y.createFromRawTokenTheme(Le,Ze)}return this._tokenTheme}getTokenStyleMetadata(Le,Ze,Ge){const ct=this.tokenTheme._match([Le].concat(Ze).join(".")).metadata,ft=z.N.getForeground(ct),Ot=z.N.getFontStyle(ct);return{foreground:ft,italic:Boolean(Ot&1),bold:Boolean(Ot&2),underline:Boolean(Ot&4),strikethrough:Boolean(Ot&8)}}}function H(ze){return ze===ne||ze===U||ze===oe||ze===q}function ut(ze){switch(ze){case ne:return R;case U:return M;case oe:return K;case q:return Z}}function Ke(ze){const Le=ut(ze);return new ke(ze,Le)}class He extends ge.JT{constructor(){super(),this._onColorThemeChange=this._register(new W.Q5),this.onDidColorThemeChange=this._onColorThemeChange.event,this._onProductIconThemeChange=this._register(new W.Q5),this.onDidProductIconThemeChange=this._onProductIconThemeChange.event,this._environment=Object.create(null),this._builtInProductIconTheme=new re,this._autoDetectHighContrast=!0,this._knownThemes=new Map,this._knownThemes.set(ne,Ke(ne)),this._knownThemes.set(U,Ke(U)),this._knownThemes.set(oe,Ke(oe)),this._knownThemes.set(q,Ke(q));const Le=X(this);this._codiconCSS=Le.getCSS(),this._themeCSS="",this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._globalStyleElement=null,this._styleElements=[],this._colorMapOverride=null,this.setTheme(ne),this._onOSSchemeChanged(),Le.onDidChange(()=>{this._codiconCSS=Le.getCSS(),this._updateCSS()}),(0,d.addMatchMediaChangeListener)("(forced-colors: active)",()=>{this._onOSSchemeChanged()})}registerEditorContainer(Le){return C.OO(Le)?this._registerShadowDomContainer(Le):this._registerRegularEditorContainer()}_registerRegularEditorContainer(){return this._globalStyleElement||(this._globalStyleElement=C.dS(),this._globalStyleElement.className="monaco-colors",this._globalStyleElement.textContent=this._allCSS,this._styleElements.push(this._globalStyleElement)),ge.JT.None}_registerShadowDomContainer(Le){const Ze=C.dS(Le);return Ze.className="monaco-colors",Ze.textContent=this._allCSS,this._styleElements.push(Ze),{dispose:()=>{for(let Ge=0;Ge<this._styleElements.length;Ge++)if(this._styleElements[Ge]===Ze){this._styleElements.splice(Ge,1);return}}}}defineTheme(Le,Ze){if(!/^[a-z0-9\-]+$/i.test(Le))throw new Error("Illegal theme name!");if(!H(Ze.base)&&!H(Le))throw new Error("Illegal theme base!");this._knownThemes.set(Le,new ke(Le,Ze)),H(Le)&&this._knownThemes.forEach(Ge=>{Ge.base===Le&&Ge.notifyBaseUpdated()}),this._theme.themeName===Le&&this.setTheme(Le)}getColorTheme(){return this._theme}setColorMapOverride(Le){this._colorMapOverride=Le,this._updateThemeOrColorMap()}setTheme(Le){let Ze;this._knownThemes.has(Le)?Ze=this._knownThemes.get(Le):Ze=this._knownThemes.get(ne),this._updateActualTheme(Ze)}_updateActualTheme(Le){!Le||this._theme===Le||(this._theme=Le,this._updateThemeOrColorMap())}_onOSSchemeChanged(){if(this._autoDetectHighContrast){const Le=window.matchMedia("(forced-colors: active)").matches;if(Le!==(0,le.c3)(this._theme.type)){let Ze;(0,le._T)(this._theme.type)?Ze=Le?oe:U:Ze=Le?q:ne,this._updateActualTheme(this._knownThemes.get(Ze))}}}setAutoDetectHighContrast(Le){this._autoDetectHighContrast=Le,this._onOSSchemeChanged()}_updateThemeOrColorMap(){const Le=[],Ze={},Ge={addRule:ft=>{Ze[ft]||(Le.push(ft),Ze[ft]=!0)}};me.getThemingParticipants().forEach(ft=>ft(this._theme,Ge,this._environment));const Fe=[];for(const ft of ae.getColors()){const Ot=this._theme.getColor(ft.id,!0);Ot&&Fe.push(`${(0,O.QO2)(ft.id)}: ${Ot.toString()};`)}Ge.addRule(`.monaco-editor { ${Fe.join(`
`)} }`);const ct=this._colorMapOverride||this._theme.tokenTheme.getColorMap();Ge.addRule(I(ct)),this._themeCSS=Le.join(`
`),this._updateCSS(),L.RW.setColorMap(ct),this._onColorThemeChange.fire(this._theme)}_updateCSS(){this._allCSS=`${this._codiconCSS}
${this._themeCSS}`,this._styleElements.forEach(Le=>Le.textContent=this._allCSS)}getFileIconTheme(){return{hasFileIcons:!1,hasFolderIcons:!1,hidesExplorerArrows:!1}}getProductIconTheme(){return this._builtInProductIconTheme}}},83598:function(nt,xe,l){"use strict";l.d(xe,{Z:function(){return d}});var C=l(47397);const d=(0,C.yh)("themeService")},76739:function(nt,xe,l){"use strict";l.d(xe,{TG:function(){return N}});var C=l(27920);var d=Object.defineProperty,j=Object.getOwnPropertyDescriptor,W=Object.getOwnPropertyNames,L=Object.prototype.hasOwnProperty,z=(M,K,Z,te)=>{if(K&&typeof K=="object"||typeof K=="function")for(let de of W(K))!L.call(M,de)&&de!==Z&&d(M,de,{get:()=>K[de],enumerable:!(te=j(K,de))||te.enumerable});return M},P=(M,K,Z)=>(z(M,K,"default"),Z&&z(Z,K,"default")),A="4.5.5",T={};P(T,C);var S=(M=>(M[M.None=0]="None",M[M.CommonJS=1]="CommonJS",M[M.AMD=2]="AMD",M[M.UMD=3]="UMD",M[M.System=4]="System",M[M.ES2015=5]="ES2015",M[M.ESNext=99]="ESNext",M))(S||{}),_=(M=>(M[M.None=0]="None",M[M.Preserve=1]="Preserve",M[M.React=2]="React",M[M.ReactNative=3]="ReactNative",M[M.ReactJSX=4]="ReactJSX",M[M.ReactJSXDev=5]="ReactJSXDev",M))(_||{}),y=(M=>(M[M.CarriageReturnLineFeed=0]="CarriageReturnLineFeed",M[M.LineFeed=1]="LineFeed",M))(y||{}),u=(M=>(M[M.ES3=0]="ES3",M[M.ES5=1]="ES5",M[M.ES2015=2]="ES2015",M[M.ES2016=3]="ES2016",M[M.ES2017=4]="ES2017",M[M.ES2018=5]="ES2018",M[M.ES2019=6]="ES2019",M[M.ES2020=7]="ES2020",M[M.ESNext=99]="ESNext",M[M.JSON=100]="JSON",M[M.Latest=99]="Latest",M))(u||{}),a=(M=>(M[M.Classic=1]="Classic",M[M.NodeJs=2]="NodeJs",M))(a||{}),b=class{constructor(M,K,Z,te){Mo(this,"_onDidChange",new T.Emitter);Mo(this,"_onDidExtraLibsChange",new T.Emitter);Mo(this,"_extraLibs");Mo(this,"_removedExtraLibs");Mo(this,"_eagerModelSync");Mo(this,"_compilerOptions");Mo(this,"_diagnosticsOptions");Mo(this,"_workerOptions");Mo(this,"_onDidExtraLibsChangeTimeout");Mo(this,"_inlayHintsOptions");this._extraLibs=Object.create(null),this._removedExtraLibs=Object.create(null),this._eagerModelSync=!1,this.setCompilerOptions(M),this.setDiagnosticsOptions(K),this.setWorkerOptions(Z),this.setInlayHintsOptions(te),this._onDidExtraLibsChangeTimeout=-1}get onDidChange(){return this._onDidChange.event}get onDidExtraLibsChange(){return this._onDidExtraLibsChange.event}get workerOptions(){return this._workerOptions}get inlayHintsOptions(){return this._inlayHintsOptions}getExtraLibs(){return this._extraLibs}addExtraLib(M,K){let Z;if(typeof K=="undefined"?Z=`ts:extralib-${Math.random().toString(36).substring(2,15)}`:Z=K,this._extraLibs[Z]&&this._extraLibs[Z].content===M)return{dispose:()=>{}};let te=1;return this._removedExtraLibs[Z]&&(te=this._removedExtraLibs[Z]+1),this._extraLibs[Z]&&(te=this._extraLibs[Z].version+1),this._extraLibs[Z]={content:M,version:te},this._fireOnDidExtraLibsChangeSoon(),{dispose:()=>{let de=this._extraLibs[Z];!de||de.version===te&&(delete this._extraLibs[Z],this._removedExtraLibs[Z]=te,this._fireOnDidExtraLibsChangeSoon())}}}setExtraLibs(M){for(const K in this._extraLibs)this._removedExtraLibs[K]=this._extraLibs[K].version;if(this._extraLibs=Object.create(null),M&&M.length>0)for(const K of M){const Z=K.filePath||`ts:extralib-${Math.random().toString(36).substring(2,15)}`,te=K.content;let de=1;this._removedExtraLibs[Z]&&(de=this._removedExtraLibs[Z]+1),this._extraLibs[Z]={content:te,version:de}}this._fireOnDidExtraLibsChangeSoon()}_fireOnDidExtraLibsChangeSoon(){this._onDidExtraLibsChangeTimeout===-1&&(this._onDidExtraLibsChangeTimeout=window.setTimeout(()=>{this._onDidExtraLibsChangeTimeout=-1,this._onDidExtraLibsChange.fire(void 0)},0))}getCompilerOptions(){return this._compilerOptions}setCompilerOptions(M){this._compilerOptions=M||Object.create(null),this._onDidChange.fire(void 0)}getDiagnosticsOptions(){return this._diagnosticsOptions}setDiagnosticsOptions(M){this._diagnosticsOptions=M||Object.create(null),this._onDidChange.fire(void 0)}setWorkerOptions(M){this._workerOptions=M||Object.create(null),this._onDidChange.fire(void 0)}setInlayHintsOptions(M){this._inlayHintsOptions=M||Object.create(null),this._onDidChange.fire(void 0)}setMaximumWorkerIdleTime(M){}setEagerModelSync(M){this._eagerModelSync=M}getEagerModelSync(){return this._eagerModelSync}},D=A,N=new b({allowNonTsExtensions:!0,target:99},{noSemanticValidation:!1,noSyntaxValidation:!1,onlyVisible:!1},{},{}),I=new b({allowNonTsExtensions:!0,allowJs:!0,target:99},{noSemanticValidation:!0,noSyntaxValidation:!1,onlyVisible:!1},{},{}),E=()=>R().then(M=>M.getTypeScriptWorker()),O=()=>R().then(M=>M.getJavaScriptWorker());T.languages.typescript={ModuleKind:S,JsxEmit:_,NewLineKind:y,ScriptTarget:u,ModuleResolutionKind:a,typescriptVersion:D,typescriptDefaults:N,javascriptDefaults:I,getTypeScriptWorker:E,getJavaScriptWorker:O};function R(){return l.e(6254).then(l.bind(l,56254))}T.languages.onLanguage("typescript",()=>R().then(M=>M.setupTypeScript(N))),T.languages.onLanguage("javascript",()=>R().then(M=>M.setupJavaScript(I)))},83218:function(nt,xe,l){"use strict";l.d(xe,{NC:function(){return T},aj:function(){return S}});var C=function(a,b,D,N){function I(E){return E instanceof D?E:new D(function(O){O(E)})}return new(D||(D=Promise))(function(E,O){function R(Z){try{K(N.next(Z))}catch(te){O(te)}}function M(Z){try{K(N.throw(Z))}catch(te){O(te)}}function K(Z){Z.done?E(Z.value):I(Z.value).then(R,M)}K((N=N.apply(a,b||[])).next())})};let d=typeof document!="undefined"&&document.location&&document.location.hash.indexOf("pseudo=true")>=0;const j="i-default";function W(a,b){let D;return b.length===0?D=a:D=a.replace(/\{(\d+)\}/g,(N,I)=>{const E=I[0],O=b[E];let R=N;return typeof O=="string"?R=O:(typeof O=="number"||typeof O=="boolean"||O===void 0||O===null)&&(R=String(O)),R}),d&&(D="\uFF3B"+D.replace(/[aouei]/g,"$&$&")+"\uFF3D"),D}function L(a,b){let D=a[b];return D||(D=a["*"],D)?D:null}function z(a){return a.charAt(a.length-1)==="/"?a:a+"/"}function P(a,b,D){return C(this,void 0,void 0,function*(){const N=z(a)+z(b)+"vscode/"+z(D),I=yield fetch(N);if(I.ok)return yield I.json();throw new Error(`${I.status} - ${I.statusText}`)})}function A(a){return function(b,D){const N=Array.prototype.slice.call(arguments,2);return W(a[b],N)}}function T(a,b,...D){return W(b,D)}function S(a){}function _(a){d=a}function y(a,b){var D;return{localize:A(b[a]),getConfiguredDefaultLocale:(D=b.getConfiguredDefaultLocale)!==null&&D!==void 0?D:N=>{}}}function u(a,b,D,N){var I;const E=(I=N["vs/nls"])!==null&&I!==void 0?I:{};if(!a||a.length===0)return D({localize:T,getConfiguredDefaultLocale:()=>{var Z;return(Z=E.availableLanguages)===null||Z===void 0?void 0:Z["*"]}});const O=E.availableLanguages?L(E.availableLanguages,a):null,R=O===null||O===j;let M=".nls";R||(M=M+"."+O);const K=Z=>{Array.isArray(Z)?Z.localize=A(Z):Z.localize=A(Z[a]),Z.getConfiguredDefaultLocale=()=>{var te;return(te=E.availableLanguages)===null||te===void 0?void 0:te["*"]},D(Z)};typeof E.loadBundle=="function"?E.loadBundle(a,O,(Z,te)=>{Z?b([a+".nls"],K):K(te)}):E.translationServiceUrl&&!R?C(this,void 0,void 0,function*(){var Z;try{const te=yield P(E.translationServiceUrl,O,a);return K(te)}catch(te){if(!O.includes("-"))return console.error(te),b([a+".nls"],K);try{const de=O.split("-")[0],ge=yield P(E.translationServiceUrl,de,a);return(Z=E.availableLanguages)!==null&&Z!==void 0||(E.availableLanguages={}),E.availableLanguages["*"]=de,K(ge)}catch(de){return console.error(de),b([a+".nls"],K)}}}):b([a+M],K,Z=>{if(M===".nls"){console.error("Failed trying to load default language strings",Z);return}console.error(`Failed to load message bundle for language ${O}. Falling back to the default language:`,Z),b([a+".nls"],K)})}},64038:function(nt,xe,l){"use strict";l.d(xe,{F:function(){return j},U:function(){return W}});var C=l(37483),d=l(47397);const j=(0,d.yh)("accessibilityService"),W=new C.uy("accessibilityModeEnabled",!1)},55863:function(nt,xe,l){"use strict";l.d(xe,{BH:function(){return D},NZ:function(){return N},U8:function(){return I},co:function(){return b},eH:function(){return a},vr:function(){return u}});var C=l(3553),d=l(64272),j=l(60218),W=l(37371),L=l(94214),z=l(69368),P=l(52127),A=l(37483),T=l(47397),S=l(16597),_=function(E,O,R,M){var K=arguments.length,Z=K<3?O:M===null?M=Object.getOwnPropertyDescriptor(O,R):M,te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Z=Reflect.decorate(E,O,R,M);else for(var de=E.length-1;de>=0;de--)(te=E[de])&&(Z=(K<3?te(Z):K>3?te(O,R,Z):te(O,R))||Z);return K>3&&Z&&Object.defineProperty(O,R,Z),Z},y=function(E,O){return function(R,M){O(R,M,E)}};function u(E){return E.command!==void 0}class a{constructor(O){if(a._instances.has(O))throw new TypeError(`MenuId with identifier '${O}' already exists. Use MenuId.for(ident) or a unique identifier`);a._instances.set(O,this),this.id=O}}a._instances=new Map,a.CommandPalette=new a("CommandPalette"),a.DebugBreakpointsContext=new a("DebugBreakpointsContext"),a.DebugCallStackContext=new a("DebugCallStackContext"),a.DebugConsoleContext=new a("DebugConsoleContext"),a.DebugVariablesContext=new a("DebugVariablesContext"),a.DebugWatchContext=new a("DebugWatchContext"),a.DebugToolBar=new a("DebugToolBar"),a.DebugToolBarStop=new a("DebugToolBarStop"),a.EditorContext=new a("EditorContext"),a.SimpleEditorContext=new a("SimpleEditorContext"),a.EditorContextCopy=new a("EditorContextCopy"),a.EditorContextPeek=new a("EditorContextPeek"),a.EditorContextShare=new a("EditorContextShare"),a.EditorTitle=new a("EditorTitle"),a.EditorTitleRun=new a("EditorTitleRun"),a.EditorTitleContext=new a("EditorTitleContext"),a.EmptyEditorGroup=new a("EmptyEditorGroup"),a.EmptyEditorGroupContext=new a("EmptyEditorGroupContext"),a.ExplorerContext=new a("ExplorerContext"),a.ExtensionContext=new a("ExtensionContext"),a.GlobalActivity=new a("GlobalActivity"),a.CommandCenter=new a("CommandCenter"),a.LayoutControlMenuSubmenu=new a("LayoutControlMenuSubmenu"),a.LayoutControlMenu=new a("LayoutControlMenu"),a.MenubarMainMenu=new a("MenubarMainMenu"),a.MenubarAppearanceMenu=new a("MenubarAppearanceMenu"),a.MenubarDebugMenu=new a("MenubarDebugMenu"),a.MenubarEditMenu=new a("MenubarEditMenu"),a.MenubarCopy=new a("MenubarCopy"),a.MenubarFileMenu=new a("MenubarFileMenu"),a.MenubarGoMenu=new a("MenubarGoMenu"),a.MenubarHelpMenu=new a("MenubarHelpMenu"),a.MenubarLayoutMenu=new a("MenubarLayoutMenu"),a.MenubarNewBreakpointMenu=new a("MenubarNewBreakpointMenu"),a.MenubarPanelAlignmentMenu=new a("MenubarPanelAlignmentMenu"),a.MenubarPanelPositionMenu=new a("MenubarPanelPositionMenu"),a.MenubarPreferencesMenu=new a("MenubarPreferencesMenu"),a.MenubarRecentMenu=new a("MenubarRecentMenu"),a.MenubarSelectionMenu=new a("MenubarSelectionMenu"),a.MenubarShare=new a("MenubarShare"),a.MenubarSwitchEditorMenu=new a("MenubarSwitchEditorMenu"),a.MenubarSwitchGroupMenu=new a("MenubarSwitchGroupMenu"),a.MenubarTerminalMenu=new a("MenubarTerminalMenu"),a.MenubarViewMenu=new a("MenubarViewMenu"),a.MenubarHomeMenu=new a("MenubarHomeMenu"),a.OpenEditorsContext=new a("OpenEditorsContext"),a.ProblemsPanelContext=new a("ProblemsPanelContext"),a.SCMChangeContext=new a("SCMChangeContext"),a.SCMResourceContext=new a("SCMResourceContext"),a.SCMResourceFolderContext=new a("SCMResourceFolderContext"),a.SCMResourceGroupContext=new a("SCMResourceGroupContext"),a.SCMSourceControl=new a("SCMSourceControl"),a.SCMTitle=new a("SCMTitle"),a.SearchContext=new a("SearchContext"),a.StatusBarWindowIndicatorMenu=new a("StatusBarWindowIndicatorMenu"),a.StatusBarRemoteIndicatorMenu=new a("StatusBarRemoteIndicatorMenu"),a.TestItem=new a("TestItem"),a.TestItemGutter=new a("TestItemGutter"),a.TestPeekElement=new a("TestPeekElement"),a.TestPeekTitle=new a("TestPeekTitle"),a.TouchBarContext=new a("TouchBarContext"),a.TitleBarContext=new a("TitleBarContext"),a.TitleBarTitleContext=new a("TitleBarTitleContext"),a.TunnelContext=new a("TunnelContext"),a.TunnelPrivacy=new a("TunnelPrivacy"),a.TunnelProtocol=new a("TunnelProtocol"),a.TunnelPortInline=new a("TunnelInline"),a.TunnelTitle=new a("TunnelTitle"),a.TunnelLocalAddressInline=new a("TunnelLocalAddressInline"),a.TunnelOriginInline=new a("TunnelOriginInline"),a.ViewItemContext=new a("ViewItemContext"),a.ViewContainerTitle=new a("ViewContainerTitle"),a.ViewContainerTitleContext=new a("ViewContainerTitleContext"),a.ViewTitle=new a("ViewTitle"),a.ViewTitleContext=new a("ViewTitleContext"),a.CommentThreadTitle=new a("CommentThreadTitle"),a.CommentThreadActions=new a("CommentThreadActions"),a.CommentTitle=new a("CommentTitle"),a.CommentActions=new a("CommentActions"),a.InteractiveToolbar=new a("InteractiveToolbar"),a.InteractiveCellTitle=new a("InteractiveCellTitle"),a.InteractiveCellDelete=new a("InteractiveCellDelete"),a.InteractiveCellExecute=new a("InteractiveCellExecute"),a.InteractiveInputExecute=new a("InteractiveInputExecute"),a.NotebookToolbar=new a("NotebookToolbar"),a.NotebookCellTitle=new a("NotebookCellTitle"),a.NotebookCellDelete=new a("NotebookCellDelete"),a.NotebookCellInsert=new a("NotebookCellInsert"),a.NotebookCellBetween=new a("NotebookCellBetween"),a.NotebookCellListTop=new a("NotebookCellTop"),a.NotebookCellExecute=new a("NotebookCellExecute"),a.NotebookCellExecutePrimary=new a("NotebookCellExecutePrimary"),a.NotebookDiffCellInputTitle=new a("NotebookDiffCellInputTitle"),a.NotebookDiffCellMetadataTitle=new a("NotebookDiffCellMetadataTitle"),a.NotebookDiffCellOutputsTitle=new a("NotebookDiffCellOutputsTitle"),a.NotebookOutputToolbar=new a("NotebookOutputToolbar"),a.NotebookEditorLayoutConfigure=new a("NotebookEditorLayoutConfigure"),a.NotebookKernelSource=new a("NotebookKernelSource"),a.BulkEditTitle=new a("BulkEditTitle"),a.BulkEditContext=new a("BulkEditContext"),a.TimelineItemContext=new a("TimelineItemContext"),a.TimelineTitle=new a("TimelineTitle"),a.TimelineTitleContext=new a("TimelineTitleContext"),a.TimelineFilterSubMenu=new a("TimelineFilterSubMenu"),a.AccountsContext=new a("AccountsContext"),a.PanelTitle=new a("PanelTitle"),a.AuxiliaryBarTitle=new a("AuxiliaryBarTitle"),a.TerminalInstanceContext=new a("TerminalInstanceContext"),a.TerminalEditorInstanceContext=new a("TerminalEditorInstanceContext"),a.TerminalNewDropdownContext=new a("TerminalNewDropdownContext"),a.TerminalTabContext=new a("TerminalTabContext"),a.TerminalTabEmptyAreaContext=new a("TerminalTabEmptyAreaContext"),a.TerminalInlineTabContext=new a("TerminalInlineTabContext"),a.WebviewContext=new a("WebviewContext"),a.InlineCompletionsActions=new a("InlineCompletionsActions"),a.NewFile=new a("NewFile"),a.MergeToolbar=new a("MergeToolbar"),a.MergeInput1Toolbar=new a("MergeToolbar1Toolbar"),a.MergeInput2Toolbar=new a("MergeToolbar2Toolbar");const b=(0,T.yh)("menuService"),D=new class{constructor(){this._commands=new Map,this._menuItems=new Map,this._onDidChangeMenu=new j.Q5,this.onDidChangeMenu=this._onDidChangeMenu.event,this._commandPaletteChangeEvent={has:E=>E===a.CommandPalette}}addCommand(E){return this.addCommands(W.$.single(E))}addCommands(E){for(const O of E)this._commands.set(O.id,O);return this._onDidChangeMenu.fire(this._commandPaletteChangeEvent),(0,L.OF)(()=>{let O=!1;for(const R of E)O=this._commands.delete(R.id)||O;O&&this._onDidChangeMenu.fire(this._commandPaletteChangeEvent)})}getCommand(E){return this._commands.get(E)}getCommands(){const E=new Map;return this._commands.forEach((O,R)=>E.set(R,O)),E}appendMenuItem(E,O){return this.appendMenuItems(W.$.single({id:E,item:O}))}appendMenuItems(E){const O=new Set,R=new z.S;for(const{id:M,item:K}of E){let Z=this._menuItems.get(M);Z||(Z=new z.S,this._menuItems.set(M,Z)),R.push(Z.push(K)),O.add(M)}return this._onDidChangeMenu.fire(O),(0,L.OF)(()=>{if(R.size>0){for(const M of R)M();this._onDidChangeMenu.fire(O),R.clear()}})}getMenuItems(E){let O;return this._menuItems.has(E)?O=[...this._menuItems.get(E)]:O=[],E===a.CommandPalette&&this._appendImplicitItems(O),O}_appendImplicitItems(E){const O=new Set;for(const R of E)u(R)&&(O.add(R.command.id),R.alt&&O.add(R.alt.id));this._commands.forEach((R,M)=>{O.has(M)||E.push({command:R})})}};class N extends C.wY{constructor(O,R,M,K){super(`submenuitem.${O.submenu.id}`,typeof O.title=="string"?O.title:O.title.value,[],"submenu"),this.item=O,this._menuService=R,this._contextKeyService=M,this._options=K}get actions(){const O=[],R=this._menuService.createMenu(this.item.submenu,this._contextKeyService),M=R.getActions(this._options);R.dispose();for(const[,K]of M)K.length>0&&(O.push(...K),O.push(new C.Z0));return O.length&&O.pop(),O}}let I=class Lv{constructor(O,R,M,K,Z,te){var de,ge;if(this.hideActions=K,this._commandService=te,this.id=O.id,this.label=(M==null?void 0:M.renderShortTitle)&&O.shortTitle?typeof O.shortTitle=="string"?O.shortTitle:O.shortTitle.value:typeof O.title=="string"?O.title:O.title.value,this.tooltip=(ge=typeof O.tooltip=="string"?O.tooltip:(de=O.tooltip)===null||de===void 0?void 0:de.value)!==null&&ge!==void 0?ge:"",this.enabled=!O.precondition||Z.contextMatchesRules(O.precondition),this.checked=void 0,O.toggled){const le=O.toggled.condition?O.toggled:{condition:O.toggled};this.checked=Z.contextMatchesRules(le.condition),this.checked&&le.tooltip&&(this.tooltip=typeof le.tooltip=="string"?le.tooltip:le.tooltip.value),le.title&&(this.label=typeof le.title=="string"?le.title:le.title.value)}this.item=O,this.alt=R?new Lv(R,void 0,M,K,Z,te):void 0,this._options=M,S.kS.isThemeIcon(O.icon)&&(this.class=d.dT.asClassName(O.icon))}dispose(){}run(...O){var R,M;let K=[];return!((R=this._options)===null||R===void 0)&&R.arg&&(K=[...K,this._options.arg]),!((M=this._options)===null||M===void 0)&&M.shouldForwardArgs&&(K=[...K,...O]),this._commandService.executeCommand(this.id,...K)}};I=_([y(4,A.i6),y(5,P.Hy)],I)},61022:function(nt,xe,l){"use strict";l.d(xe,{p:function(){return d}});var C=l(47397);const d=(0,C.yh)("clipboardService")},52127:function(nt,xe,l){"use strict";l.d(xe,{Hy:function(){return P},P0:function(){return A}});var C=l(60218),d=l(37371),j=l(94214),W=l(69368),L=l(17014),z=l(47397);const P=(0,z.yh)("commandService"),A=new class{constructor(){this._commands=new Map,this._onDidRegisterCommand=new C.Q5,this.onDidRegisterCommand=this._onDidRegisterCommand.event}registerCommand(S,_){if(!S)throw new Error("invalid command");if(typeof S=="string"){if(!_)throw new Error("invalid command");return this.registerCommand({id:S,handler:_})}if(S.description){const D=[];for(const I of S.description.args)D.push(I.constraint);const N=S.handler;S.handler=function(I,...E){return(0,L.D8)(E,D),N(I,...E)}}const{id:y}=S;let u=this._commands.get(y);u||(u=new W.S,this._commands.set(y,u));const a=u.unshift(S),b=(0,j.OF)(()=>{a();const D=this._commands.get(y);D!=null&&D.isEmpty()&&this._commands.delete(y)});return this._onDidRegisterCommand.fire(y),b}registerCommandAlias(S,_){return A.registerCommand(S,(y,...u)=>y.get(P).executeCommand(_,...u))}getCommand(S){const _=this._commands.get(S);if(!(!_||_.isEmpty()))return d.$.first(_)}getCommands(){const S=new Map;for(const _ of this._commands.keys()){const y=this.getCommand(_);y&&S.set(_,y)}return S}},T={_serviceBrand:void 0,onWillExecuteCommand:()=>j.JT.None,onDidExecuteCommand:()=>j.JT.None,executeCommand(){return Promise.resolve(void 0)}};A.registerCommand("noop",()=>{})},57024:function(nt,xe,l){"use strict";l.d(xe,{KV:function(){return W},Mt:function(){return P},Od:function(){return j},UI:function(){return A},Ui:function(){return d},xL:function(){return L}});var C=l(47397);const d=(0,C.yh)("configurationService");function j(T,S){const _=Object.create(null);for(const y in T)W(_,y,T[y],S);return _}function W(T,S,_,y){const u=S.split("."),a=u.pop();let b=T;for(let D=0;D<u.length;D++){const N=u[D];let I=b[N];switch(typeof I){case"undefined":I=b[N]=Object.create(null);break;case"object":break;default:y(`Ignoring ${S} as ${u.slice(0,D+1).join(".")} is ${JSON.stringify(I)}`);return}b=I}if(typeof b=="object"&&b!==null)try{b[a]=_}catch(D){y(`Ignoring ${S} as ${u.join(".")} is ${JSON.stringify(b)}`)}else y(`Ignoring ${S} as ${u.join(".")} is ${JSON.stringify(b)}`)}function L(T,S){const _=S.split(".");z(T,_)}function z(T,S){const _=S.shift();if(S.length===0){delete T[_];return}if(Object.keys(T).indexOf(_)!==-1){const y=T[_];typeof y=="object"&&!Array.isArray(y)&&(z(y,S),Object.keys(y).length===0&&delete T[_])}}function P(T,S,_){function y(b,D){let N=b;for(const I of D){if(typeof N!="object"||N===null)return;N=N[I]}return N}const u=S.split("."),a=y(T,u);return typeof a=="undefined"?_:a}function A(T){return T.replace(/[\[\]]/g,"")}},90410:function(nt,xe,l){"use strict";l.d(xe,{IP:function(){return A},eU:function(){return R},ny:function(){return M}});var C=l(84553),d=l(60218),j=l(17014),W=l(83218),L=l(57024),z=l(528),P=l(14038);const A={Configuration:"base.contributions.configuration"},T={properties:{},patternProperties:{}},S={properties:{},patternProperties:{}},_={properties:{},patternProperties:{}},y={properties:{},patternProperties:{}},u={properties:{},patternProperties:{}},a={properties:{},patternProperties:{}},b="vscode://schemas/settings/resourceLanguage",D=P.B.as(z.I.JSONContribution);class N{constructor(){this.overrideIdentifiers=new Set,this._onDidSchemaChange=new d.Q5,this._onDidUpdateConfiguration=new d.Q5,this.configurationDefaultsOverrides=new Map,this.defaultLanguageConfigurationOverridesNode={id:"defaultOverrides",title:W.NC("defaultLanguageConfigurationOverrides.title","Default Language Configuration Overrides"),properties:{}},this.configurationContributors=[this.defaultLanguageConfigurationOverridesNode],this.resourceLanguageSettingsSchema={properties:{},patternProperties:{},additionalProperties:!1,errorMessage:"Unknown editor configuration setting",allowTrailingCommas:!0,allowComments:!0},this.configurationProperties={},this.policyConfigurations=new Map,this.excludedConfigurationProperties={},D.registerSchema(b,this.resourceLanguageSettingsSchema),this.registerOverridePropertyPatternKey()}registerConfiguration(ge,le=!0){this.registerConfigurations([ge],le)}registerConfigurations(ge,le=!0){const se=this.doRegisterConfigurations(ge,le);D.registerSchema(b,this.resourceLanguageSettingsSchema),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:se})}registerDefaultConfigurations(ge){var le;const se=[],X=[];for(const{overrides:re,source:ne}of ge)for(const U in re)if(se.push(U),R.test(U)){const oe=this.configurationDefaultsOverrides.get(U),q=(le=oe==null?void 0:oe.valuesSources)!==null&&le!==void 0?le:new Map;if(ne)for(const H of Object.keys(re[U]))q.set(H,ne);const ae=Object.assign(Object.assign({},(oe==null?void 0:oe.value)||{}),re[U]);this.configurationDefaultsOverrides.set(U,{source:ne,value:ae,valuesSources:q});const me=(0,L.UI)(U),ke={type:"object",default:ae,description:W.NC("defaultLanguageConfiguration.description","Configure settings to be overridden for the {0} language.",me),$ref:b,defaultDefaultValue:ae,source:j.HD(ne)?void 0:ne,defaultValueSource:ne};X.push(...M(U)),this.configurationProperties[U]=ke,this.defaultLanguageConfigurationOverridesNode.properties[U]=ke}else{this.configurationDefaultsOverrides.set(U,{value:re[U],source:ne});const oe=this.configurationProperties[U];oe&&(this.updatePropertyDefaultValue(U,oe),this.updateSchema(U,oe))}this.registerOverrideIdentifiers(X),this._onDidSchemaChange.fire(),this._onDidUpdateConfiguration.fire({properties:se,defaultsOverrides:!0})}registerOverrideIdentifiers(ge){for(const le of ge)this.overrideIdentifiers.add(le);this.updateOverridePropertyPatternKey()}doRegisterConfigurations(ge,le){const se=[];return ge.forEach(X=>{se.push(...this.validateAndRegisterProperties(X,le,X.extensionInfo,X.restrictedProperties)),this.configurationContributors.push(X),this.registerJSONConfiguration(X)}),se}validateAndRegisterProperties(ge,le=!0,se,X,re=3){var ne;re=j.Jp(ge.scope)?re:ge.scope;const U=[],oe=ge.properties;if(oe)for(const ae in oe){const me=oe[ae];if(le&&te(ae,me)){delete oe[ae];continue}if(me.source=se,me.defaultDefaultValue=oe[ae].default,this.updatePropertyDefaultValue(ae,me),R.test(ae)?me.scope=void 0:(me.scope=j.Jp(me.scope)?re:me.scope,me.restricted=j.Jp(me.restricted)?!!(X!=null&&X.includes(ae)):me.restricted),oe[ae].hasOwnProperty("included")&&!oe[ae].included){this.excludedConfigurationProperties[ae]=oe[ae],delete oe[ae];continue}else this.configurationProperties[ae]=oe[ae],!((ne=oe[ae].policy)===null||ne===void 0)&&ne.name&&this.policyConfigurations.set(oe[ae].policy.name,ae);!oe[ae].deprecationMessage&&oe[ae].markdownDeprecationMessage&&(oe[ae].deprecationMessage=oe[ae].markdownDeprecationMessage),U.push(ae)}const q=ge.allOf;if(q)for(const ae of q)U.push(...this.validateAndRegisterProperties(ae,le,se,X,re));return U}getConfigurationProperties(){return this.configurationProperties}getPolicyConfigurations(){return this.policyConfigurations}registerJSONConfiguration(ge){const le=se=>{const X=se.properties;if(X)for(const ne in X)this.updateSchema(ne,X[ne]);const re=se.allOf;re==null||re.forEach(le)};le(ge)}updateSchema(ge,le){switch(T.properties[ge]=le,le.scope){case 1:S.properties[ge]=le;break;case 2:_.properties[ge]=le;break;case 6:y.properties[ge]=le;break;case 3:u.properties[ge]=le;break;case 4:a.properties[ge]=le;break;case 5:a.properties[ge]=le,this.resourceLanguageSettingsSchema.properties[ge]=le;break}}updateOverridePropertyPatternKey(){for(const ge of this.overrideIdentifiers.values()){const le=`[${ge}]`,se={type:"object",description:W.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:W.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:b};this.updatePropertyDefaultValue(le,se),T.properties[le]=se,S.properties[le]=se,_.properties[le]=se,y.properties[le]=se,u.properties[le]=se,a.properties[le]=se}this._onDidSchemaChange.fire()}registerOverridePropertyPatternKey(){const ge={type:"object",description:W.NC("overrideSettings.defaultDescription","Configure editor settings to be overridden for a language."),errorMessage:W.NC("overrideSettings.errorMessage","This setting does not support per-language configuration."),$ref:b};T.patternProperties[O]=ge,S.patternProperties[O]=ge,_.patternProperties[O]=ge,y.patternProperties[O]=ge,u.patternProperties[O]=ge,a.patternProperties[O]=ge,this._onDidSchemaChange.fire()}updatePropertyDefaultValue(ge,le){const se=this.configurationDefaultsOverrides.get(ge);let X=se==null?void 0:se.value,re=se==null?void 0:se.source;j.o8(X)&&(X=le.defaultDefaultValue,re=void 0),j.o8(X)&&(X=K(le.type)),le.default=X,le.defaultValueSource=re}}const I="\\[([^\\]]+)\\]",E=new RegExp(I,"g"),O=`^(${I})+$`,R=new RegExp(O);function M(de){const ge=[];if(R.test(de)){let le=E.exec(de);for(;le!=null&&le.length;){const se=le[1].trim();se&&ge.push(se),le=E.exec(de)}}return(0,C.EB)(ge)}function K(de){switch(Array.isArray(de)?de[0]:de){case"boolean":return!1;case"integer":case"number":return 0;case"string":return"";case"array":return[];case"object":return{};default:return null}}const Z=new N;P.B.add(A.Configuration,Z);function te(de,ge){var le,se,X,re;return de.trim()?R.test(de)?W.NC("config.property.languageDefault","Cannot register '{0}'. This matches property pattern '\\\\[.*\\\\]$' for describing language specific editor settings. Use 'configurationDefaults' contribution.",de):Z.getConfigurationProperties()[de]!==void 0?W.NC("config.property.duplicate","Cannot register '{0}'. This property is already registered.",de):((le=ge.policy)===null||le===void 0?void 0:le.name)&&Z.getPolicyConfigurations().get((se=ge.policy)===null||se===void 0?void 0:se.name)!==void 0?W.NC("config.policy.duplicate","Cannot register '{0}'. The associated policy {1} is already registered with {2}.",de,(X=ge.policy)===null||X===void 0?void 0:X.name,Z.getPolicyConfigurations().get((re=ge.policy)===null||re===void 0?void 0:re.name)):null:W.NC("config.property.empty","Cannot register an empty property")}},37483:function(nt,xe,l){"use strict";l.d(xe,{Ao:function(){return z},Eq:function(){return se},Fb:function(){return P},K8:function(){return ne},i6:function(){return le},uy:function(){return ge}});var C=l(94976),d=l(22297),j=l(47397);const W=new Map;W.set("false",!1),W.set("true",!0),W.set("isMac",C.dz),W.set("isLinux",C.IJ),W.set("isWindows",C.ED),W.set("isWeb",C.$L),W.set("isMacNative",C.dz&&!C.$L),W.set("isEdge",C.un),W.set("isFirefox",C.vU),W.set("isChrome",C.i7),W.set("isSafari",C.G6);const L=Object.prototype.hasOwnProperty;class z{static has(q){return _.create(q)}static equals(q,ae){return y.create(q,ae)}static regex(q,ae){return M.create(q,ae)}static not(q){return D.create(q)}static and(...q){return te.create(q,null)}static or(...q){return de.create(q,null,!0)}static deserialize(q,ae=!1){if(!!q)return this._deserializeOrExpression(q,ae)}static _deserializeOrExpression(q,ae){const me=q.split("||");return de.create(me.map(ke=>this._deserializeAndExpression(ke,ae)),null,!0)}static _deserializeAndExpression(q,ae){const me=q.split("&&");return te.create(me.map(ke=>this._deserializeOne(ke,ae)),null)}static _deserializeOne(q,ae){if(q=q.trim(),q.indexOf("!=")>=0){const me=q.split("!=");return b.create(me[0].trim(),this._deserializeValue(me[1],ae))}if(q.indexOf("==")>=0){const me=q.split("==");return y.create(me[0].trim(),this._deserializeValue(me[1],ae))}if(q.indexOf("=~")>=0){const me=q.split("=~");return M.create(me[0].trim(),this._deserializeRegexValue(me[1],ae))}if(q.indexOf(" not in ")>=0){const me=q.split(" not in ");return a.create(me[0].trim(),me[1].trim())}if(q.indexOf(" in ")>=0){const me=q.split(" in ");return u.create(me[0].trim(),me[1].trim())}if(/^[^<=>]+>=[^<=>]+$/.test(q)){const me=q.split(">=");return E.create(me[0].trim(),me[1].trim())}if(/^[^<=>]+>[^<=>]+$/.test(q)){const me=q.split(">");return I.create(me[0].trim(),me[1].trim())}if(/^[^<=>]+<=[^<=>]+$/.test(q)){const me=q.split("<=");return R.create(me[0].trim(),me[1].trim())}if(/^[^<=>]+<[^<=>]+$/.test(q)){const me=q.split("<");return O.create(me[0].trim(),me[1].trim())}return/^\!\s*/.test(q)?D.create(q.substr(1).trim()):_.create(q)}static _deserializeValue(q,ae){if(q=q.trim(),q==="true")return!0;if(q==="false")return!1;const me=/^'([^']*)'$/.exec(q);return me?me[1].trim():q}static _deserializeRegexValue(q,ae){if((0,d.m5)(q)){if(ae)throw new Error("missing regexp-value for =~-expression");return console.warn("missing regexp-value for =~-expression"),null}const me=q.indexOf("/"),ke=q.lastIndexOf("/");if(me===ke||me<0){if(ae)throw new Error(`bad regexp-value '${q}', missing /-enclosure`);return console.warn(`bad regexp-value '${q}', missing /-enclosure`),null}const H=q.slice(me+1,ke),ut=q[ke+1]==="i"?"i":"";try{return new RegExp(H,ut)}catch(Ke){if(ae)throw new Error(`bad regexp-value '${q}', parse error: ${Ke}`);return console.warn(`bad regexp-value '${q}', parse error: ${Ke}`),null}}}function P(oe,q){const ae=oe?oe.substituteConstants():void 0,me=q?q.substituteConstants():void 0;return!ae&&!me?!0:!ae||!me?!1:ae.equals(me)}function A(oe,q){return oe.cmp(q)}class T{constructor(){this.type=0}cmp(q){return this.type-q.type}equals(q){return q.type===this.type}substituteConstants(){return this}evaluate(q){return!1}serialize(){return"false"}keys(){return[]}negate(){return S.INSTANCE}}T.INSTANCE=new T;class S{constructor(){this.type=1}cmp(q){return this.type-q.type}equals(q){return q.type===this.type}substituteConstants(){return this}evaluate(q){return!0}serialize(){return"true"}keys(){return[]}negate(){return T.INSTANCE}}S.INSTANCE=new S;class _{constructor(q,ae){this.key=q,this.negated=ae,this.type=2}static create(q,ae=null){const me=W.get(q);return typeof me=="boolean"?me?S.INSTANCE:T.INSTANCE:new _(q,ae)}cmp(q){return q.type!==this.type?this.type-q.type:X(this.key,q.key)}equals(q){return q.type===this.type?this.key===q.key:!1}substituteConstants(){const q=W.get(this.key);return typeof q=="boolean"?q?S.INSTANCE:T.INSTANCE:this}evaluate(q){return!!q.getValue(this.key)}serialize(){return this.key}keys(){return[this.key]}negate(){return this.negated||(this.negated=D.create(this.key,this)),this.negated}}class y{constructor(q,ae,me){this.key=q,this.value=ae,this.negated=me,this.type=4}static create(q,ae,me=null){if(typeof ae=="boolean")return ae?_.create(q,me):D.create(q,me);const ke=W.get(q);return typeof ke=="boolean"?ae===(ke?"true":"false")?S.INSTANCE:T.INSTANCE:new y(q,ae,me)}cmp(q){return q.type!==this.type?this.type-q.type:re(this.key,this.value,q.key,q.value)}equals(q){return q.type===this.type?this.key===q.key&&this.value===q.value:!1}substituteConstants(){const q=W.get(this.key);if(typeof q=="boolean"){const ae=q?"true":"false";return this.value===ae?S.INSTANCE:T.INSTANCE}return this}evaluate(q){return q.getValue(this.key)==this.value}serialize(){return`${this.key} == '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=b.create(this.key,this.value,this)),this.negated}}class u{constructor(q,ae){this.key=q,this.valueKey=ae,this.type=10,this.negated=null}static create(q,ae){return new u(q,ae)}cmp(q){return q.type!==this.type?this.type-q.type:re(this.key,this.valueKey,q.key,q.valueKey)}equals(q){return q.type===this.type?this.key===q.key&&this.valueKey===q.valueKey:!1}substituteConstants(){return this}evaluate(q){const ae=q.getValue(this.valueKey),me=q.getValue(this.key);return Array.isArray(ae)?ae.includes(me):typeof me=="string"&&typeof ae=="object"&&ae!==null?L.call(ae,me):!1}serialize(){return`${this.key} in '${this.valueKey}'`}keys(){return[this.key,this.valueKey]}negate(){return this.negated||(this.negated=a.create(this.key,this.valueKey)),this.negated}}class a{constructor(q,ae){this.key=q,this.valueKey=ae,this.type=11,this._negated=u.create(q,ae)}static create(q,ae){return new a(q,ae)}cmp(q){return q.type!==this.type?this.type-q.type:this._negated.cmp(q._negated)}equals(q){return q.type===this.type?this._negated.equals(q._negated):!1}substituteConstants(){return this}evaluate(q){return!this._negated.evaluate(q)}serialize(){return`${this.key} not in '${this.valueKey}'`}keys(){return this._negated.keys()}negate(){return this._negated}}class b{constructor(q,ae,me){this.key=q,this.value=ae,this.negated=me,this.type=5}static create(q,ae,me=null){if(typeof ae=="boolean")return ae?D.create(q,me):_.create(q,me);const ke=W.get(q);return typeof ke=="boolean"?ae===(ke?"true":"false")?T.INSTANCE:S.INSTANCE:new b(q,ae,me)}cmp(q){return q.type!==this.type?this.type-q.type:re(this.key,this.value,q.key,q.value)}equals(q){return q.type===this.type?this.key===q.key&&this.value===q.value:!1}substituteConstants(){const q=W.get(this.key);if(typeof q=="boolean"){const ae=q?"true":"false";return this.value===ae?T.INSTANCE:S.INSTANCE}return this}evaluate(q){return q.getValue(this.key)!=this.value}serialize(){return`${this.key} != '${this.value}'`}keys(){return[this.key]}negate(){return this.negated||(this.negated=y.create(this.key,this.value,this)),this.negated}}class D{constructor(q,ae){this.key=q,this.negated=ae,this.type=3}static create(q,ae=null){const me=W.get(q);return typeof me=="boolean"?me?T.INSTANCE:S.INSTANCE:new D(q,ae)}cmp(q){return q.type!==this.type?this.type-q.type:X(this.key,q.key)}equals(q){return q.type===this.type?this.key===q.key:!1}substituteConstants(){const q=W.get(this.key);return typeof q=="boolean"?q?T.INSTANCE:S.INSTANCE:this}evaluate(q){return!q.getValue(this.key)}serialize(){return`!${this.key}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=_.create(this.key,this)),this.negated}}function N(oe,q){if(typeof oe=="string"){const ae=parseFloat(oe);isNaN(ae)||(oe=ae)}return typeof oe=="string"||typeof oe=="number"?q(oe):T.INSTANCE}class I{constructor(q,ae,me){this.key=q,this.value=ae,this.negated=me,this.type=12}static create(q,ae,me=null){return N(ae,ke=>new I(q,ke,me))}cmp(q){return q.type!==this.type?this.type-q.type:re(this.key,this.value,q.key,q.value)}equals(q){return q.type===this.type?this.key===q.key&&this.value===q.value:!1}substituteConstants(){return this}evaluate(q){return typeof this.value=="string"?!1:parseFloat(q.getValue(this.key))>this.value}serialize(){return`${this.key} > ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=R.create(this.key,this.value,this)),this.negated}}class E{constructor(q,ae,me){this.key=q,this.value=ae,this.negated=me,this.type=13}static create(q,ae,me=null){return N(ae,ke=>new E(q,ke,me))}cmp(q){return q.type!==this.type?this.type-q.type:re(this.key,this.value,q.key,q.value)}equals(q){return q.type===this.type?this.key===q.key&&this.value===q.value:!1}substituteConstants(){return this}evaluate(q){return typeof this.value=="string"?!1:parseFloat(q.getValue(this.key))>=this.value}serialize(){return`${this.key} >= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=O.create(this.key,this.value,this)),this.negated}}class O{constructor(q,ae,me){this.key=q,this.value=ae,this.negated=me,this.type=14}static create(q,ae,me=null){return N(ae,ke=>new O(q,ke,me))}cmp(q){return q.type!==this.type?this.type-q.type:re(this.key,this.value,q.key,q.value)}equals(q){return q.type===this.type?this.key===q.key&&this.value===q.value:!1}substituteConstants(){return this}evaluate(q){return typeof this.value=="string"?!1:parseFloat(q.getValue(this.key))<this.value}serialize(){return`${this.key} < ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=E.create(this.key,this.value,this)),this.negated}}class R{constructor(q,ae,me){this.key=q,this.value=ae,this.negated=me,this.type=15}static create(q,ae,me=null){return N(ae,ke=>new R(q,ke,me))}cmp(q){return q.type!==this.type?this.type-q.type:re(this.key,this.value,q.key,q.value)}equals(q){return q.type===this.type?this.key===q.key&&this.value===q.value:!1}substituteConstants(){return this}evaluate(q){return typeof this.value=="string"?!1:parseFloat(q.getValue(this.key))<=this.value}serialize(){return`${this.key} <= ${this.value}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=I.create(this.key,this.value,this)),this.negated}}class M{constructor(q,ae){this.key=q,this.regexp=ae,this.type=7,this.negated=null}static create(q,ae){return new M(q,ae)}cmp(q){if(q.type!==this.type)return this.type-q.type;if(this.key<q.key)return-1;if(this.key>q.key)return 1;const ae=this.regexp?this.regexp.source:"",me=q.regexp?q.regexp.source:"";return ae<me?-1:ae>me?1:0}equals(q){if(q.type===this.type){const ae=this.regexp?this.regexp.source:"",me=q.regexp?q.regexp.source:"";return this.key===q.key&&ae===me}return!1}substituteConstants(){return this}evaluate(q){const ae=q.getValue(this.key);return this.regexp?this.regexp.test(ae):!1}serialize(){const q=this.regexp?`/${this.regexp.source}/${this.regexp.ignoreCase?"i":""}`:"/invalid/";return`${this.key} =~ ${q}`}keys(){return[this.key]}negate(){return this.negated||(this.negated=K.create(this)),this.negated}}class K{constructor(q){this._actual=q,this.type=8}static create(q){return new K(q)}cmp(q){return q.type!==this.type?this.type-q.type:this._actual.cmp(q._actual)}equals(q){return q.type===this.type?this._actual.equals(q._actual):!1}substituteConstants(){return this}evaluate(q){return!this._actual.evaluate(q)}serialize(){throw new Error("Method not implemented.")}keys(){return this._actual.keys()}negate(){return this._actual}}function Z(oe){let q=null;for(let ae=0,me=oe.length;ae<me;ae++){const ke=oe[ae].substituteConstants();if(oe[ae]!==ke&&q===null){q=[];for(let H=0;H<ae;H++)q[H]=oe[H]}q!==null&&(q[ae]=ke)}return q===null?oe:q}class te{constructor(q,ae){this.expr=q,this.negated=ae,this.type=6}static create(q,ae){return te._normalizeArr(q,ae)}cmp(q){if(q.type!==this.type)return this.type-q.type;if(this.expr.length<q.expr.length)return-1;if(this.expr.length>q.expr.length)return 1;for(let ae=0,me=this.expr.length;ae<me;ae++){const ke=A(this.expr[ae],q.expr[ae]);if(ke!==0)return ke}return 0}equals(q){if(q.type===this.type){if(this.expr.length!==q.expr.length)return!1;for(let ae=0,me=this.expr.length;ae<me;ae++)if(!this.expr[ae].equals(q.expr[ae]))return!1;return!0}return!1}substituteConstants(){const q=Z(this.expr);return q===this.expr?this:te.create(q,this.negated)}evaluate(q){for(let ae=0,me=this.expr.length;ae<me;ae++)if(!this.expr[ae].evaluate(q))return!1;return!0}static _normalizeArr(q,ae){const me=[];let ke=!1;for(const H of q)if(!!H){if(H.type===1){ke=!0;continue}if(H.type===0)return T.INSTANCE;if(H.type===6){me.push(...H.expr);continue}me.push(H)}if(me.length===0&&ke)return S.INSTANCE;if(me.length!==0){if(me.length===1)return me[0];me.sort(A);for(let H=1;H<me.length;H++)me[H-1].equals(me[H])&&(me.splice(H,1),H--);if(me.length===1)return me[0];for(;me.length>1;){const H=me[me.length-1];if(H.type!==9)break;me.pop();const ut=me.pop(),Ke=me.length===0,He=de.create(H.expr.map(ze=>te.create([ze,ut],null)),null,Ke);He&&(me.push(He),me.sort(A))}return me.length===1?me[0]:new te(me,ae)}}serialize(){return this.expr.map(q=>q.serialize()).join(" && ")}keys(){const q=[];for(const ae of this.expr)q.push(...ae.keys());return q}negate(){if(!this.negated){const q=[];for(const ae of this.expr)q.push(ae.negate());this.negated=de.create(q,this,!0)}return this.negated}}class de{constructor(q,ae){this.expr=q,this.negated=ae,this.type=9}static create(q,ae,me){return de._normalizeArr(q,ae,me)}cmp(q){if(q.type!==this.type)return this.type-q.type;if(this.expr.length<q.expr.length)return-1;if(this.expr.length>q.expr.length)return 1;for(let ae=0,me=this.expr.length;ae<me;ae++){const ke=A(this.expr[ae],q.expr[ae]);if(ke!==0)return ke}return 0}equals(q){if(q.type===this.type){if(this.expr.length!==q.expr.length)return!1;for(let ae=0,me=this.expr.length;ae<me;ae++)if(!this.expr[ae].equals(q.expr[ae]))return!1;return!0}return!1}substituteConstants(){const q=Z(this.expr);return q===this.expr?this:de.create(q,this.negated,!1)}evaluate(q){for(let ae=0,me=this.expr.length;ae<me;ae++)if(this.expr[ae].evaluate(q))return!0;return!1}static _normalizeArr(q,ae,me){let ke=[],H=!1;if(q){for(let ut=0,Ke=q.length;ut<Ke;ut++){const He=q[ut];if(!!He){if(He.type===0){H=!0;continue}if(He.type===1)return S.INSTANCE;if(He.type===9){ke=ke.concat(He.expr);continue}ke.push(He)}}if(ke.length===0&&H)return T.INSTANCE;ke.sort(A)}if(ke.length!==0){if(ke.length===1)return ke[0];for(let ut=1;ut<ke.length;ut++)ke[ut-1].equals(ke[ut])&&(ke.splice(ut,1),ut--);if(ke.length===1)return ke[0];if(me){for(let ut=0;ut<ke.length;ut++)for(let Ke=ut+1;Ke<ke.length;Ke++)ne(ke[ut],ke[Ke])&&(ke.splice(Ke,1),Ke--);if(ke.length===1)return ke[0]}return new de(ke,ae)}}serialize(){return this.expr.map(q=>q.serialize()).join(" || ")}keys(){const q=[];for(const ae of this.expr)q.push(...ae.keys());return q}negate(){if(!this.negated){const q=[];for(const ae of this.expr)q.push(ae.negate());for(;q.length>1;){const ae=q.shift(),me=q.shift(),ke=[];for(const ut of U(ae))for(const Ke of U(me))ke.push(te.create([ut,Ke],null));const H=q.length===0;q.unshift(de.create(ke,null,H))}this.negated=q[0]}return this.negated}}class ge extends _{constructor(q,ae,me){super(q,null),this._defaultValue=ae,typeof me=="object"?ge._info.push(Object.assign(Object.assign({},me),{key:q})):me!==!0&&ge._info.push({key:q,description:me,type:ae!=null?typeof ae:void 0})}static all(){return ge._info.values()}bindTo(q){return q.createKey(this.key,this._defaultValue)}getValue(q){return q.getContextKeyValue(this.key)}toNegated(){return this.negate()}isEqualTo(q){return y.create(this.key,q)}}ge._info=[];const le=(0,j.yh)("contextKeyService"),se="setContext";function X(oe,q){return oe<q?-1:oe>q?1:0}function re(oe,q,ae,me){return oe<ae?-1:oe>ae?1:q<me?-1:q>me?1:0}function ne(oe,q){if(q.type===6&&oe.type!==9&&oe.type!==6){for(const ke of q.expr)if(oe.equals(ke))return!0}const ae=oe.negate(),me=U(ae).concat(U(q));me.sort(A);for(let ke=0;ke<me.length;ke++){const ut=me[ke].negate();for(let Ke=ke+1;Ke<me.length;Ke++){const He=me[Ke];if(ut.equals(He))return!0}}return!1}function U(oe){return oe.type===9?oe.expr:[oe]}},81731:function(nt,xe,l){"use strict";l.d(xe,{cv:function(){return z},d0:function(){return y}});var C=l(94976),d=l(83218),j=l(37483);const W=new j.uy("isMac",C.dz,(0,d.NC)("isMac","Whether the operating system is macOS")),L=new j.uy("isLinux",C.IJ,(0,d.NC)("isLinux","Whether the operating system is Linux")),z=new j.uy("isWindows",C.ED,(0,d.NC)("isWindows","Whether the operating system is Windows")),P=new j.uy("isWeb",C.$L,(0,d.NC)("isWeb","Whether the platform is a web browser")),A=new j.uy("isMacNative",C.dz&&!C.$L,(0,d.NC)("isMacNative","Whether the operating system is macOS on a non-browser platform")),T=new j.uy("isIOS",C.gn,(0,d.NC)("isIOS","Whether the operating system is iOS")),S=new j.uy("isDevelopment",!1,!0),_=new j.uy("productQualityType","",(0,d.NC)("productQualityType","Quality type of VS Code")),y="inputFocus",u=new j.uy(y,!1,(0,d.NC)("inputFocus","Whether keyboard focus is inside an input box"))},88098:function(nt,xe,l){"use strict";l.d(xe,{i:function(){return j},u:function(){return d}});var C=l(47397);const d=(0,C.yh)("contextViewService"),j=(0,C.yh)("contextMenuService")},13058:function(nt,xe,l){"use strict";l.d(xe,{S:function(){return d}});var C=l(47397);const d=(0,C.yh)("dialogService")},94627:function(nt,xe,l){"use strict";l.d(xe,{M:function(){return C}});class C{constructor(j,W=[],L=!1){this.ctor=j,this.staticArguments=W,this.supportsDelayedInstantiation=L}}},88588:function(nt,xe,l){"use strict";l.d(xe,{d:function(){return W},z:function(){return j}});var C=l(94627);const d=[];function j(L,z,P){z instanceof C.M||(z=new C.M(z,[],P)),d.push([L,z])}function W(){return d}},47397:function(nt,xe,l){"use strict";l.d(xe,{I8:function(){return C},TG:function(){return d},yh:function(){return W}});var C;(function(L){L.serviceIds=new Map,L.DI_TARGET="$di$target",L.DI_DEPENDENCIES="$di$dependencies";function z(P){return P[L.DI_DEPENDENCIES]||[]}L.getServiceDependencies=z})(C||(C={}));const d=W("instantiationService");function j(L,z,P){z[C.DI_TARGET]===z?z[C.DI_DEPENDENCIES].push({id:L,index:P}):(z[C.DI_DEPENDENCIES]=[{id:L,index:P}],z[C.DI_TARGET]=z)}function W(L){if(C.serviceIds.has(L))return C.serviceIds.get(L);const z=function(P,A,T){if(arguments.length!==3)throw new Error("@IServiceName-decorator can only be used to decorate a parameter");j(z,P,T)};return z.toString=()=>L,C.serviceIds.set(L,z),z}},37660:function(nt,xe,l){"use strict";l.d(xe,{y:function(){return C}});class C{constructor(...j){this._entries=new Map;for(const[W,L]of j)this.set(W,L)}set(j,W){const L=this._entries.get(j);return this._entries.set(j,W),L}get(j){return this._entries.get(j)}}},528:function(nt,xe,l){"use strict";l.d(xe,{I:function(){return j}});var C=l(60218),d=l(14038);const j={JSONContribution:"base.contributions.json"};function W(P){return P.length>0&&P.charAt(P.length-1)==="#"?P.substring(0,P.length-1):P}class L{constructor(){this._onDidChangeSchema=new C.Q5,this.schemasById={}}registerSchema(A,T){this.schemasById[W(A)]=T,this._onDidChangeSchema.fire(A)}notifySchemaChanged(A){this._onDidChangeSchema.fire(A)}}const z=new L;d.B.add(j.JSONContribution,z)},69940:function(nt,xe,l){"use strict";l.d(xe,{d:function(){return d}});var C=l(47397);const d=(0,C.yh)("keybindingService")},58258:function(nt,xe,l){"use strict";l.d(xe,{W:function(){return z}});var C=l(44174),d=l(94976),j=l(52127),W=l(14038);class L{constructor(){this._coreKeybindings=[],this._extensionKeybindings=[],this._cachedMergedKeybindings=null}static bindToCurrentPlatform(S){if(d.OS===1){if(S&&S.win)return S.win}else if(d.OS===2){if(S&&S.mac)return S.mac}else if(S&&S.linux)return S.linux;return S}registerKeybindingRule(S){const _=L.bindToCurrentPlatform(S);if(_&&_.primary){const y=(0,C.gm)(_.primary,d.OS);y&&this._registerDefaultKeybinding(y,S.id,S.args,S.weight,0,S.when)}if(_&&Array.isArray(_.secondary))for(let y=0,u=_.secondary.length;y<u;y++){const a=_.secondary[y],b=(0,C.gm)(a,d.OS);b&&this._registerDefaultKeybinding(b,S.id,S.args,S.weight,-y-1,S.when)}}registerCommandAndKeybindingRule(S){this.registerKeybindingRule(S),j.P0.registerCommand(S)}static _mightProduceChar(S){return S>=21&&S<=30||S>=31&&S<=56?!0:S===80||S===81||S===82||S===83||S===84||S===85||S===86||S===110||S===111||S===87||S===88||S===89||S===90||S===91||S===92}_assertNoCtrlAlt(S,_){S.ctrlKey&&S.altKey&&!S.metaKey&&L._mightProduceChar(S.keyCode)&&console.warn("Ctrl+Alt+ keybindings should not be used by default under Windows. Offender: ",S," for ",_)}_registerDefaultKeybinding(S,_,y,u,a,b){d.OS===1&&this._assertNoCtrlAlt(S.parts[0],_),this._coreKeybindings.push({keybinding:S.parts,command:_,commandArgs:y,when:b,weight1:u,weight2:a,extensionId:null,isBuiltinExtension:!1}),this._cachedMergedKeybindings=null}getDefaultKeybindings(){return this._cachedMergedKeybindings||(this._cachedMergedKeybindings=[].concat(this._coreKeybindings).concat(this._extensionKeybindings),this._cachedMergedKeybindings.sort(A)),this._cachedMergedKeybindings.slice(0)}}const z=new L,P={EditorModes:"platform.keybindingsRegistry"};W.B.add(P.EditorModes,z);function A(T,S){if(T.weight1!==S.weight1)return T.weight1-S.weight1;if(T.command&&S.command){if(T.command<S.command)return-1;if(T.command>S.command)return 1}return T.weight2-S.weight2}},26343:function(nt,xe,l){"use strict";l.d(xe,{e:function(){return d}});var C=l(47397);const d=(0,C.yh)("labelService")},81531:function(nt,xe,l){"use strict";l.d(xe,{Lw:function(){return vi},XN:function(){return Si},ls:function(){return si},ev:function(){return As},CQ:function(){return nn},PS:function(){return ri},uJ:function(){return fi}});var C=l(1660),d=l(84553),j=l(28885),W=l(60218),L=l(94214),z=l(2858),P=l(3522);class A{constructor(m,B){this.renderer=m,this.modelProvider=B}get templateId(){return this.renderer.templateId}renderTemplate(m){return{data:this.renderer.renderTemplate(m),disposable:L.JT.None}}renderElement(m,B,ee,fe){if(ee.disposable&&ee.disposable.dispose(),!ee.data)return;const Ie=this.modelProvider();if(Ie.isResolved(m))return this.renderer.renderElement(Ie.get(m),m,ee.data,fe);const Te=new j.A,Je=Ie.resolve(m,Te.token);ee.disposable={dispose:()=>Te.cancel()},this.renderer.renderPlaceholder(m,ee.data),Je.then(it=>this.renderer.renderElement(it,m,ee.data,fe))}disposeTemplate(m){m.disposable&&(m.disposable.dispose(),m.disposable=void 0),m.data&&(this.renderer.disposeTemplate(m.data),m.data=void 0)}}class T{constructor(m,B){this.modelProvider=m,this.accessibilityProvider=B}getWidgetAriaLabel(){return this.accessibilityProvider.getWidgetAriaLabel()}getAriaLabel(m){const B=this.modelProvider();return B.isResolved(m)?this.accessibilityProvider.getAriaLabel(B.get(m)):null}}function S(F,m){return Object.assign(Object.assign({},m),{accessibilityProvider:m.accessibilityProvider&&new T(F,m.accessibilityProvider)})}class _{constructor(m,B,ee,fe,Ie={}){const Te=()=>this.model,Je=fe.map(it=>new A(it,Te));this.list=new P.aV(m,B,ee,Je,S(Te,Ie))}updateOptions(m){this.list.updateOptions(m)}getHTMLElement(){return this.list.getHTMLElement()}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}get onMouseDblClick(){return W.ju.map(this.list.onMouseDblClick,({element:m,index:B,browserEvent:ee})=>({element:m===void 0?void 0:this._model.get(m),index:B,browserEvent:ee}))}get onPointer(){return W.ju.map(this.list.onPointer,({element:m,index:B,browserEvent:ee})=>({element:m===void 0?void 0:this._model.get(m),index:B,browserEvent:ee}))}get onDidChangeSelection(){return W.ju.map(this.list.onDidChangeSelection,({elements:m,indexes:B,browserEvent:ee})=>({elements:m.map(fe=>this._model.get(fe)),indexes:B,browserEvent:ee}))}get model(){return this._model}set model(m){this._model=m,this.list.splice(0,this.list.length,(0,d.w6)(m.length))}getFocus(){return this.list.getFocus()}getSelection(){return this.list.getSelection()}getSelectedElements(){return this.getSelection().map(m=>this.model.get(m))}style(m){this.list.style(m)}dispose(){this.list.dispose()}}var y=l(4830);class u{constructor(m,B,ee){this.columns=m,this.getColumnSize=ee,this.templateId=u.TemplateId,this.renderedTemplates=new Set;const fe=new Map(B.map(Ie=>[Ie.templateId,Ie]));this.renderers=[];for(const Ie of m){const Te=fe.get(Ie.templateId);if(!Te)throw new Error(`Table cell renderer for template id ${Ie.templateId} not found.`);this.renderers.push(Te)}}renderTemplate(m){const B=(0,C.R3)(m,(0,C.$)(".monaco-table-tr")),ee=[],fe=[];for(let Te=0;Te<this.columns.length;Te++){const Je=this.renderers[Te],it=(0,C.R3)(B,(0,C.$)(".monaco-table-td",{"data-col-index":Te}));it.style.width=`${this.getColumnSize(Te)}px`,ee.push(it),fe.push(Je.renderTemplate(it))}const Ie={container:m,cellContainers:ee,cellTemplateData:fe};return this.renderedTemplates.add(Ie),Ie}renderElement(m,B,ee,fe){for(let Ie=0;Ie<this.columns.length;Ie++){const Je=this.columns[Ie].project(m);this.renderers[Ie].renderElement(Je,B,ee.cellTemplateData[Ie],fe)}}disposeElement(m,B,ee,fe){for(let Ie=0;Ie<this.columns.length;Ie++){const Te=this.renderers[Ie];if(Te.disposeElement){const it=this.columns[Ie].project(m);Te.disposeElement(it,B,ee.cellTemplateData[Ie],fe)}}}disposeTemplate(m){for(let B=0;B<this.columns.length;B++)this.renderers[B].disposeTemplate(m.cellTemplateData[B]);(0,C.PO)(m.container),this.renderedTemplates.delete(m)}layoutColumn(m,B){for(const{cellContainers:ee}of this.renderedTemplates)ee[m].style.width=`${B}px`}}u.TemplateId="row";function a(F){return{getHeight(m){return F.getHeight(m)},getTemplateId(){return u.TemplateId}}}class b{constructor(m,B){this.column=m,this.index=B,this._onDidLayout=new W.Q5,this.onDidLayout=this._onDidLayout.event,this.element=(0,C.$)(".monaco-table-th",{"data-col-index":B,title:m.tooltip},m.label)}get minimumSize(){var m;return(m=this.column.minimumWidth)!==null&&m!==void 0?m:120}get maximumSize(){var m;return(m=this.column.maximumWidth)!==null&&m!==void 0?m:Number.POSITIVE_INFINITY}get onDidChange(){var m;return(m=this.column.onDidChangeWidthConstraints)!==null&&m!==void 0?m:W.ju.None}layout(m){this._onDidLayout.fire([this.index,m])}}class D{constructor(m,B,ee,fe,Ie,Te){this.virtualDelegate=ee,this.domId=`table_id_${++D.InstanceCount}`,this.disposables=new L.SL,this.cachedWidth=0,this.cachedHeight=0,this.domNode=(0,C.R3)(B,(0,C.$)(`.monaco-table.${this.domId}`));const Je=fe.map((It,Ut)=>new b(It,Ut)),it={size:Je.reduce((It,Ut)=>It+Ut.column.weight,0),views:Je.map(It=>({size:It.column.weight,view:It}))};this.splitview=this.disposables.add(new y.z(this.domNode,{orientation:1,scrollbarVisibility:2,getSashOrthogonalSize:()=>this.cachedHeight,descriptor:it})),this.splitview.el.style.height=`${ee.headerRowHeight}px`,this.splitview.el.style.lineHeight=`${ee.headerRowHeight}px`;const Ct=new u(fe,Ie,It=>this.splitview.getViewSize(It));this.list=this.disposables.add(new P.aV(m,this.domNode,a(ee),[Ct],Te)),W.ju.any(...Je.map(It=>It.onDidLayout))(([It,Ut])=>Ct.layoutColumn(It,Ut),null,this.disposables),this.splitview.onDidSashReset(It=>{const Ut=fe.reduce((tn,rn)=>tn+rn.weight,0),sn=fe[It].weight/Ut*this.cachedWidth;this.splitview.resizeView(It,sn)},null,this.disposables),this.styleElement=(0,C.dS)(this.domNode),this.style({})}get onDidChangeFocus(){return this.list.onDidChangeFocus}get onDidChangeSelection(){return this.list.onDidChangeSelection}get onMouseDblClick(){return this.list.onMouseDblClick}get onPointer(){return this.list.onPointer}get onDidFocus(){return this.list.onDidFocus}get onDidDispose(){return this.list.onDidDispose}updateOptions(m){this.list.updateOptions(m)}splice(m,B,ee=[]){this.list.splice(m,B,ee)}getHTMLElement(){return this.domNode}style(m){const B=[];B.push(`.monaco-table.${this.domId} > .monaco-split-view2 .monaco-sash.vertical::before {
			top: ${this.virtualDelegate.headerRowHeight+1}px;
			height: calc(100% - ${this.virtualDelegate.headerRowHeight}px);
		}`),this.styleElement.textContent=B.join(`
`),this.list.style(m)}getSelectedElements(){return this.list.getSelectedElements()}getSelection(){return this.list.getSelection()}getFocus(){return this.list.getFocus()}dispose(){this.disposables.dispose()}}D.InstanceCount=0;var N=l(31545),I=l(91194),E=l(52594),O=l(81234),R=l(90563),M=l(34232),K;(function(F){F[F.Unknown=0]="Unknown",F[F.Twistie=1]="Twistie",F[F.Element=2]="Element",F[F.Filter=3]="Filter"})(K||(K={}));class Z extends Error{constructor(m,B){super(`TreeError [${m}] ${B}`)}}class te{constructor(m){this.fn=m,this._map=new WeakMap}map(m){let B=this._map.get(m);return B||(B=this.fn(m),this._map.set(m,B)),B}}var de=l(84180),ge=l(32853),le=l(37371);function se(F){return typeof F=="object"&&"visibility"in F&&"data"in F}function X(F){switch(F){case!0:return 1;case!1:return 0;default:return F}}function re(F){return typeof F.collapsible=="boolean"}class ne{constructor(m,B,ee,fe={}){this.user=m,this.list=B,this.rootRef=[],this.eventBufferer=new W.E7,this._onDidChangeCollapseState=new W.Q5,this.onDidChangeCollapseState=this.eventBufferer.wrapEvent(this._onDidChangeCollapseState.event),this._onDidChangeRenderNodeCount=new W.Q5,this.onDidChangeRenderNodeCount=this.eventBufferer.wrapEvent(this._onDidChangeRenderNodeCount.event),this._onDidSplice=new W.Q5,this.onDidSplice=this._onDidSplice.event,this.refilterDelayer=new de.vp(de.ne),this.collapseByDefault=typeof fe.collapseByDefault=="undefined"?!1:fe.collapseByDefault,this.filter=fe.filter,this.autoExpandSingleChildren=typeof fe.autoExpandSingleChildren=="undefined"?!1:fe.autoExpandSingleChildren,this.root={parent:void 0,element:ee,children:[],depth:0,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:!1,collapsed:!1,renderNodeCount:0,visibility:1,visible:!0,filterData:void 0}}splice(m,B,ee=le.$.empty(),fe={}){if(m.length===0)throw new Z(this.user,"Invalid tree location");fe.diffIdentityProvider?this.spliceSmart(fe.diffIdentityProvider,m,B,ee,fe):this.spliceSimple(m,B,ee,fe)}spliceSmart(m,B,ee,fe,Ie,Te){var Je;fe===void 0&&(fe=le.$.empty()),Te===void 0&&(Te=(Je=Ie.diffDepth)!==null&&Je!==void 0?Je:0);const{parentNode:it}=this.getParentNodeWithListIndex(B);if(!it.lastDiffIds)return this.spliceSimple(B,ee,fe,Ie);const Ct=[...fe],It=B[B.length-1],Ut=new ge.Hs({getElements:()=>it.lastDiffIds},{getElements:()=>[...it.children.slice(0,It),...Ct,...it.children.slice(It+ee)].map(Fn=>m.getId(Fn.element).toString())}).ComputeDiff(!1);if(Ut.quitEarly)return it.lastDiffIds=void 0,this.spliceSimple(B,ee,Ct,Ie);const sn=B.slice(0,-1),tn=(Fn,Nn,ni)=>{if(Te>0)for(let Ps=0;Ps<ni;Ps++)Fn--,Nn--,this.spliceSmart(m,[...sn,Fn,0],Number.MAX_SAFE_INTEGER,Ct[Nn].children,Ie,Te-1)};let rn=Math.min(it.children.length,It+ee),En=Ct.length;for(const Fn of Ut.changes.sort((Nn,ni)=>ni.originalStart-Nn.originalStart))tn(rn,En,rn-(Fn.originalStart+Fn.originalLength)),rn=Fn.originalStart,En=Fn.modifiedStart-It,this.spliceSimple([...sn,rn],Fn.originalLength,le.$.slice(Ct,En,En+Fn.modifiedLength),Ie);tn(rn,En,rn)}spliceSimple(m,B,ee=le.$.empty(),{onDidCreateNode:fe,onDidDeleteNode:Ie,diffIdentityProvider:Te}){const{parentNode:Je,listIndex:it,revealed:Ct,visible:It}=this.getParentNodeWithListIndex(m),Ut=[],sn=le.$.map(ee,Wi=>this.createTreeNode(Wi,Je,Je.visible?1:0,Ct,Ut,fe)),tn=m[m.length-1],rn=Je.children.length>0;let En=0;for(let Wi=tn;Wi>=0&&Wi<Je.children.length;Wi--){const Io=Je.children[Wi];if(Io.visible){En=Io.visibleChildIndex;break}}const Fn=[];let Nn=0,ni=0;for(const Wi of sn)Fn.push(Wi),ni+=Wi.renderNodeCount,Wi.visible&&(Wi.visibleChildIndex=En+Nn++);const Ps=(0,d.db)(Je.children,tn,B,Fn);Te?Je.lastDiffIds?(0,d.db)(Je.lastDiffIds,tn,B,Fn.map(Wi=>Te.getId(Wi.element).toString())):Je.lastDiffIds=Je.children.map(Wi=>Te.getId(Wi.element).toString()):Je.lastDiffIds=void 0;let no=0;for(const Wi of Ps)Wi.visible&&no++;if(no!==0)for(let Wi=tn+Fn.length;Wi<Je.children.length;Wi++){const Io=Je.children[Wi];Io.visible&&(Io.visibleChildIndex-=no)}if(Je.visibleChildrenCount+=Nn-no,Ct&&It){const Wi=Ps.reduce((Io,Rs)=>Io+(Rs.visible?Rs.renderNodeCount:0),0);this._updateAncestorsRenderNodeCount(Je,ni-Wi),this.list.splice(it,Wi,Ut)}if(Ps.length>0&&Ie){const Wi=Io=>{Ie(Io),Io.children.forEach(Wi)};Ps.forEach(Wi)}this._onDidSplice.fire({insertedNodes:Fn,deletedNodes:Ps});const js=Je.children.length>0;rn!==js&&this.setCollapsible(m.slice(0,-1),js);let Co=Je;for(;Co;){if(Co.visibility===2){this.refilterDelayer.trigger(()=>this.refilter());break}Co=Co.parent}}rerender(m){if(m.length===0)throw new Z(this.user,"Invalid tree location");const{node:B,listIndex:ee,revealed:fe}=this.getTreeNodeWithListIndex(m);B.visible&&fe&&this.list.splice(ee,1,[B])}has(m){return this.hasTreeNode(m)}getListIndex(m){const{listIndex:B,visible:ee,revealed:fe}=this.getTreeNodeWithListIndex(m);return ee&&fe?B:-1}getListRenderCount(m){return this.getTreeNode(m).renderNodeCount}isCollapsible(m){return this.getTreeNode(m).collapsible}setCollapsible(m,B){const ee=this.getTreeNode(m);typeof B=="undefined"&&(B=!ee.collapsible);const fe={collapsible:B};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(m,fe))}isCollapsed(m){return this.getTreeNode(m).collapsed}setCollapsed(m,B,ee){const fe=this.getTreeNode(m);typeof B=="undefined"&&(B=!fe.collapsed);const Ie={collapsed:B,recursive:ee||!1};return this.eventBufferer.bufferEvents(()=>this._setCollapseState(m,Ie))}_setCollapseState(m,B){const{node:ee,listIndex:fe,revealed:Ie}=this.getTreeNodeWithListIndex(m),Te=this._setListNodeCollapseState(ee,fe,Ie,B);if(ee!==this.root&&this.autoExpandSingleChildren&&Te&&!re(B)&&ee.collapsible&&!ee.collapsed&&!B.recursive){let Je=-1;for(let it=0;it<ee.children.length;it++)if(ee.children[it].visible)if(Je>-1){Je=-1;break}else Je=it;Je>-1&&this._setCollapseState([...m,Je],B)}return Te}_setListNodeCollapseState(m,B,ee,fe){const Ie=this._setNodeCollapseState(m,fe,!1);if(!ee||!m.visible||!Ie)return Ie;const Te=m.renderNodeCount,Je=this.updateNodeAfterCollapseChange(m),it=Te-(B===-1?0:1);return this.list.splice(B+1,it,Je.slice(1)),Ie}_setNodeCollapseState(m,B,ee){let fe;if(m===this.root?fe=!1:(re(B)?(fe=m.collapsible!==B.collapsible,m.collapsible=B.collapsible):m.collapsible?(fe=m.collapsed!==B.collapsed,m.collapsed=B.collapsed):fe=!1,fe&&this._onDidChangeCollapseState.fire({node:m,deep:ee})),!re(B)&&B.recursive)for(const Ie of m.children)fe=this._setNodeCollapseState(Ie,B,!0)||fe;return fe}expandTo(m){this.eventBufferer.bufferEvents(()=>{let B=this.getTreeNode(m);for(;B.parent;)B=B.parent,m=m.slice(0,m.length-1),B.collapsed&&this._setCollapseState(m,{collapsed:!1,recursive:!1})})}refilter(){const m=this.root.renderNodeCount,B=this.updateNodeAfterFilterChange(this.root);this.list.splice(0,m,B),this.refilterDelayer.cancel()}createTreeNode(m,B,ee,fe,Ie,Te){const Je={parent:B,element:m.element,children:[],depth:B.depth+1,visibleChildrenCount:0,visibleChildIndex:-1,collapsible:typeof m.collapsible=="boolean"?m.collapsible:typeof m.collapsed!="undefined",collapsed:typeof m.collapsed=="undefined"?this.collapseByDefault:m.collapsed,renderNodeCount:1,visibility:1,visible:!0,filterData:void 0},it=this._filterNode(Je,ee);Je.visibility=it,fe&&Ie.push(Je);const Ct=m.children||le.$.empty(),It=fe&&it!==0&&!Je.collapsed,Ut=le.$.map(Ct,rn=>this.createTreeNode(rn,Je,it,It,Ie,Te));let sn=0,tn=1;for(const rn of Ut)Je.children.push(rn),tn+=rn.renderNodeCount,rn.visible&&(rn.visibleChildIndex=sn++);return Je.collapsible=Je.collapsible||Je.children.length>0,Je.visibleChildrenCount=sn,Je.visible=it===2?sn>0:it===1,Je.visible?Je.collapsed||(Je.renderNodeCount=tn):(Je.renderNodeCount=0,fe&&Ie.pop()),Te==null||Te(Je),Je}updateNodeAfterCollapseChange(m){const B=m.renderNodeCount,ee=[];return this._updateNodeAfterCollapseChange(m,ee),this._updateAncestorsRenderNodeCount(m.parent,ee.length-B),ee}_updateNodeAfterCollapseChange(m,B){if(m.visible===!1)return 0;if(B.push(m),m.renderNodeCount=1,!m.collapsed)for(const ee of m.children)m.renderNodeCount+=this._updateNodeAfterCollapseChange(ee,B);return this._onDidChangeRenderNodeCount.fire(m),m.renderNodeCount}updateNodeAfterFilterChange(m){const B=m.renderNodeCount,ee=[];return this._updateNodeAfterFilterChange(m,m.visible?1:0,ee),this._updateAncestorsRenderNodeCount(m.parent,ee.length-B),ee}_updateNodeAfterFilterChange(m,B,ee,fe=!0){let Ie;if(m!==this.root){if(Ie=this._filterNode(m,B),Ie===0)return m.visible=!1,m.renderNodeCount=0,!1;fe&&ee.push(m)}const Te=ee.length;m.renderNodeCount=m===this.root?0:1;let Je=!1;if(!m.collapsed||Ie!==0){let it=0;for(const Ct of m.children)Je=this._updateNodeAfterFilterChange(Ct,Ie,ee,fe&&!m.collapsed)||Je,Ct.visible&&(Ct.visibleChildIndex=it++);m.visibleChildrenCount=it}else m.visibleChildrenCount=0;return m!==this.root&&(m.visible=Ie===2?Je:Ie===1,m.visibility=Ie),m.visible?m.collapsed||(m.renderNodeCount+=ee.length-Te):(m.renderNodeCount=0,fe&&ee.pop()),this._onDidChangeRenderNodeCount.fire(m),m.visible}_updateAncestorsRenderNodeCount(m,B){if(B!==0)for(;m;)m.renderNodeCount+=B,this._onDidChangeRenderNodeCount.fire(m),m=m.parent}_filterNode(m,B){const ee=this.filter?this.filter.filter(m.element,B):1;return typeof ee=="boolean"?(m.filterData=void 0,ee?1:0):se(ee)?(m.filterData=ee.data,X(ee.visibility)):(m.filterData=void 0,X(ee))}hasTreeNode(m,B=this.root){if(!m||m.length===0)return!0;const[ee,...fe]=m;return ee<0||ee>B.children.length?!1:this.hasTreeNode(fe,B.children[ee])}getTreeNode(m,B=this.root){if(!m||m.length===0)return B;const[ee,...fe]=m;if(ee<0||ee>B.children.length)throw new Z(this.user,"Invalid tree location");return this.getTreeNode(fe,B.children[ee])}getTreeNodeWithListIndex(m){if(m.length===0)return{node:this.root,listIndex:-1,revealed:!0,visible:!1};const{parentNode:B,listIndex:ee,revealed:fe,visible:Ie}=this.getParentNodeWithListIndex(m),Te=m[m.length-1];if(Te<0||Te>B.children.length)throw new Z(this.user,"Invalid tree location");const Je=B.children[Te];return{node:Je,listIndex:ee,revealed:fe,visible:Ie&&Je.visible}}getParentNodeWithListIndex(m,B=this.root,ee=0,fe=!0,Ie=!0){const[Te,...Je]=m;if(Te<0||Te>B.children.length)throw new Z(this.user,"Invalid tree location");for(let it=0;it<Te;it++)ee+=B.children[it].renderNodeCount;return fe=fe&&!B.collapsed,Ie=Ie&&B.visible,Je.length===0?{parentNode:B,listIndex:ee,revealed:fe,visible:Ie}:this.getParentNodeWithListIndex(Je,B.children[Te],ee+1,fe,Ie)}getNode(m=[]){return this.getTreeNode(m)}getNodeLocation(m){const B=[];let ee=m;for(;ee.parent;)B.push(ee.parent.children.indexOf(ee)),ee=ee.parent;return B.reverse()}getParentNodeLocation(m){if(m.length!==0)return m.length===1?[]:(0,d.JH)(m)[0]}getFirstElementChild(m){const B=this.getTreeNode(m);if(B.children.length!==0)return B.children[0].element}}var U=l(3553),oe=l(64272);class q{constructor(){this.map=new Map}add(m,B){let ee=this.map.get(m);ee||(ee=new Set,this.map.set(m,ee)),ee.add(B)}delete(m,B){const ee=this.map.get(m);!ee||(ee.delete(B),ee.size===0&&this.map.delete(m))}forEach(m,B){const ee=this.map.get(m);!ee||ee.forEach(B)}}var ae=l(12562),me=l(91959),ke=l(17014),H=l(83218),ut=function(F,m,B,ee){function fe(Ie){return Ie instanceof B?Ie:new B(function(Te){Te(Ie)})}return new(B||(B=Promise))(function(Ie,Te){function Je(It){try{Ct(ee.next(It))}catch(Ut){Te(Ut)}}function it(It){try{Ct(ee.throw(It))}catch(Ut){Te(Ut)}}function Ct(It){It.done?Ie(It.value):fe(It.value).then(Je,it)}Ct((ee=ee.apply(F,m||[])).next())})};class Ke extends R.kX{constructor(m){super(m.elements.map(B=>B.element)),this.data=m}}function He(F){return F instanceof R.kX?new Ke(F):F}class ze{constructor(m,B){this.modelProvider=m,this.dnd=B,this.autoExpandDisposable=L.JT.None}getDragURI(m){return this.dnd.getDragURI(m.element)}getDragLabel(m,B){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(m.map(ee=>ee.element),B)}onDragStart(m,B){var ee,fe;(fe=(ee=this.dnd).onDragStart)===null||fe===void 0||fe.call(ee,He(m),B)}onDragOver(m,B,ee,fe,Ie=!0){const Te=this.dnd.onDragOver(He(m),B&&B.element,ee,fe),Je=this.autoExpandNode!==B;if(Je&&(this.autoExpandDisposable.dispose(),this.autoExpandNode=B),typeof B=="undefined")return Te;if(Je&&typeof Te!="boolean"&&Te.autoExpand&&(this.autoExpandDisposable=(0,de.Vg)(()=>{const sn=this.modelProvider(),tn=sn.getNodeLocation(B);sn.isCollapsed(tn)&&sn.setCollapsed(tn,!1),this.autoExpandNode=void 0},500)),typeof Te=="boolean"||!Te.accept||typeof Te.bubble=="undefined"||Te.feedback){if(!Ie){const sn=typeof Te=="boolean"?Te:Te.accept,tn=typeof Te=="boolean"?void 0:Te.effect;return{accept:sn,effect:tn,feedback:[ee]}}return Te}if(Te.bubble===1){const sn=this.modelProvider(),tn=sn.getNodeLocation(B),rn=sn.getParentNodeLocation(tn),En=sn.getNode(rn),Fn=rn&&sn.getListIndex(rn);return this.onDragOver(m,En,Fn,fe,!1)}const it=this.modelProvider(),Ct=it.getNodeLocation(B),It=it.getListIndex(Ct),Ut=it.getListRenderCount(Ct);return Object.assign(Object.assign({},Te),{feedback:(0,d.w6)(It,It+Ut)})}drop(m,B,ee,fe){this.autoExpandDisposable.dispose(),this.autoExpandNode=void 0,this.dnd.drop(He(m),B&&B.element,ee,fe)}onDragEnd(m){var B,ee;(ee=(B=this.dnd).onDragEnd)===null||ee===void 0||ee.call(B,m)}}function Le(F,m){return m&&Object.assign(Object.assign({},m),{identityProvider:m.identityProvider&&{getId(B){return m.identityProvider.getId(B.element)}},dnd:m.dnd&&new ze(F,m.dnd),multipleSelectionController:m.multipleSelectionController&&{isSelectionSingleChangeEvent(B){return m.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},B),{element:B.element}))},isSelectionRangeChangeEvent(B){return m.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},B),{element:B.element}))}},accessibilityProvider:m.accessibilityProvider&&Object.assign(Object.assign({},m.accessibilityProvider),{getSetSize(B){const ee=F(),fe=ee.getNodeLocation(B),Ie=ee.getParentNodeLocation(fe);return ee.getNode(Ie).visibleChildrenCount},getPosInSet(B){return B.visibleChildIndex+1},isChecked:m.accessibilityProvider&&m.accessibilityProvider.isChecked?B=>m.accessibilityProvider.isChecked(B.element):void 0,getRole:m.accessibilityProvider&&m.accessibilityProvider.getRole?B=>m.accessibilityProvider.getRole(B.element):()=>"treeitem",getAriaLabel(B){return m.accessibilityProvider.getAriaLabel(B.element)},getWidgetAriaLabel(){return m.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:m.accessibilityProvider&&m.accessibilityProvider.getWidgetRole?()=>m.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:m.accessibilityProvider&&m.accessibilityProvider.getAriaLevel?B=>m.accessibilityProvider.getAriaLevel(B.element):B=>B.depth,getActiveDescendantId:m.accessibilityProvider.getActiveDescendantId&&(B=>m.accessibilityProvider.getActiveDescendantId(B.element))}),keyboardNavigationLabelProvider:m.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},m.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(B){return m.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(B.element)}})})}class Ze{constructor(m){this.delegate=m}getHeight(m){return this.delegate.getHeight(m.element)}getTemplateId(m){return this.delegate.getTemplateId(m.element)}hasDynamicHeight(m){return!!this.delegate.hasDynamicHeight&&this.delegate.hasDynamicHeight(m.element)}setDynamicHeight(m,B){var ee,fe;(fe=(ee=this.delegate).setDynamicHeight)===null||fe===void 0||fe.call(ee,m.element,B)}}var Ge;(function(F){F.None="none",F.OnHover="onHover",F.Always="always"})(Ge||(Ge={}));class Fe{constructor(m,B=[]){this._elements=B,this.disposables=new L.SL,this.onDidChange=W.ju.forEach(m,ee=>this._elements=ee,this.disposables)}get elements(){return this._elements}dispose(){this.disposables.dispose()}}class ct{constructor(m,B,ee,fe,Ie={}){var Te;this.renderer=m,this.modelProvider=B,this.activeNodes=fe,this.renderedElements=new Map,this.renderedNodes=new Map,this.indent=ct.DefaultIndent,this.hideTwistiesOfChildlessElements=!1,this.shouldRenderIndentGuides=!1,this.renderedIndentGuides=new q,this.activeIndentNodes=new Set,this.indentGuidesDisposable=L.JT.None,this.disposables=new L.SL,this.templateId=m.templateId,this.updateOptions(Ie),W.ju.map(ee,Je=>Je.node)(this.onDidChangeNodeTwistieState,this,this.disposables),(Te=m.onDidChangeTwistieState)===null||Te===void 0||Te.call(m,this.onDidChangeTwistieState,this,this.disposables)}updateOptions(m={}){if(typeof m.indent!="undefined"&&(this.indent=(0,me.uZ)(m.indent,0,40)),typeof m.renderIndentGuides!="undefined"){const B=m.renderIndentGuides!==Ge.None;if(B!==this.shouldRenderIndentGuides&&(this.shouldRenderIndentGuides=B,this.indentGuidesDisposable.dispose(),B)){const ee=new L.SL;this.activeNodes.onDidChange(this._onDidChangeActiveNodes,this,ee),this.indentGuidesDisposable=ee,this._onDidChangeActiveNodes(this.activeNodes.elements)}}typeof m.hideTwistiesOfChildlessElements!="undefined"&&(this.hideTwistiesOfChildlessElements=m.hideTwistiesOfChildlessElements)}renderTemplate(m){const B=(0,C.R3)(m,(0,C.$)(".monaco-tl-row")),ee=(0,C.R3)(B,(0,C.$)(".monaco-tl-indent")),fe=(0,C.R3)(B,(0,C.$)(".monaco-tl-twistie")),Ie=(0,C.R3)(B,(0,C.$)(".monaco-tl-contents")),Te=this.renderer.renderTemplate(Ie);return{container:m,indent:ee,twistie:fe,indentGuidesDisposable:L.JT.None,templateData:Te}}renderElement(m,B,ee,fe){typeof fe=="number"&&(this.renderedNodes.set(m,{templateData:ee,height:fe}),this.renderedElements.set(m.element,m));const Ie=ct.DefaultIndent+(m.depth-1)*this.indent;ee.twistie.style.paddingLeft=`${Ie}px`,ee.indent.style.width=`${Ie+this.indent-16}px`,this.renderTwistie(m,ee),typeof fe=="number"&&this.renderIndentGuides(m,ee),this.renderer.renderElement(m,B,ee.templateData,fe)}disposeElement(m,B,ee,fe){var Ie,Te;ee.indentGuidesDisposable.dispose(),(Te=(Ie=this.renderer).disposeElement)===null||Te===void 0||Te.call(Ie,m,B,ee.templateData,fe),typeof fe=="number"&&(this.renderedNodes.delete(m),this.renderedElements.delete(m.element))}disposeTemplate(m){this.renderer.disposeTemplate(m.templateData)}onDidChangeTwistieState(m){const B=this.renderedElements.get(m);!B||this.onDidChangeNodeTwistieState(B)}onDidChangeNodeTwistieState(m){const B=this.renderedNodes.get(m);!B||(this.renderTwistie(m,B.templateData),this._onDidChangeActiveNodes(this.activeNodes.elements),this.renderIndentGuides(m,B.templateData))}renderTwistie(m,B){B.twistie.classList.remove(...oe.lA.treeItemExpanded.classNamesArray);let ee=!1;this.renderer.renderTwistie&&(ee=this.renderer.renderTwistie(m.element,B.twistie)),m.collapsible&&(!this.hideTwistiesOfChildlessElements||m.visibleChildrenCount>0)?(ee||B.twistie.classList.add(...oe.lA.treeItemExpanded.classNamesArray),B.twistie.classList.add("collapsible"),B.twistie.classList.toggle("collapsed",m.collapsed)):B.twistie.classList.remove("collapsible","collapsed"),m.collapsible?B.container.setAttribute("aria-expanded",String(!m.collapsed)):B.container.removeAttribute("aria-expanded")}renderIndentGuides(m,B){if((0,C.PO)(B.indent),B.indentGuidesDisposable.dispose(),!this.shouldRenderIndentGuides)return;const ee=new L.SL,fe=this.modelProvider();let Ie=m;for(;;){const Te=fe.getNodeLocation(Ie),Je=fe.getParentNodeLocation(Te);if(!Je)break;const it=fe.getNode(Je),Ct=(0,C.$)(".indent-guide",{style:`width: ${this.indent}px`});this.activeIndentNodes.has(it)&&Ct.classList.add("active"),B.indent.childElementCount===0?B.indent.appendChild(Ct):B.indent.insertBefore(Ct,B.indent.firstElementChild),this.renderedIndentGuides.add(it,Ct),ee.add((0,L.OF)(()=>this.renderedIndentGuides.delete(it,Ct))),Ie=it}B.indentGuidesDisposable=ee}_onDidChangeActiveNodes(m){if(!this.shouldRenderIndentGuides)return;const B=new Set,ee=this.modelProvider();m.forEach(fe=>{const Ie=ee.getNodeLocation(fe);try{const Te=ee.getParentNodeLocation(Ie);fe.collapsible&&fe.children.length>0&&!fe.collapsed?B.add(fe):Te&&B.add(ee.getNode(Te))}catch(Te){}}),this.activeIndentNodes.forEach(fe=>{B.has(fe)||this.renderedIndentGuides.forEach(fe,Ie=>Ie.classList.remove("active"))}),B.forEach(fe=>{this.activeIndentNodes.has(fe)||this.renderedIndentGuides.forEach(fe,Ie=>Ie.classList.add("active"))}),this.activeIndentNodes=B}dispose(){this.renderedNodes.clear(),this.renderedElements.clear(),this.indentGuidesDisposable.dispose(),(0,L.B9)(this.disposables)}}ct.DefaultIndent=8;class ft{constructor(m,B,ee){this.tree=m,this.keyboardNavigationLabelProvider=B,this._filter=ee,this._totalCount=0,this._matchCount=0,this._pattern="",this._lowercasePattern="",this.disposables=new L.SL,m.onWillRefilter(this.reset,this,this.disposables)}get totalCount(){return this._totalCount}get matchCount(){return this._matchCount}filter(m,B){let ee=1;if(this._filter){const Te=this._filter.filter(m,B);if(typeof Te=="boolean"?ee=Te?1:0:se(Te)?ee=X(Te.visibility):ee=Te,ee===0)return!1}if(this._totalCount++,!this._pattern)return this._matchCount++,{data:ae.CL.Default,visibility:ee};const fe=this.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(m),Ie=Array.isArray(fe)?fe:[fe];for(const Te of Ie){const Je=Te&&Te.toString();if(typeof Je=="undefined")return{data:ae.CL.Default,visibility:ee};const it=(0,ae.EW)(this._pattern,this._lowercasePattern,0,Je,Je.toLowerCase(),0,{firstMatchCanBeWeak:!0,boostFullMatch:!0});if(it)return this._matchCount++,Ie.length===1?{data:it,visibility:ee}:{data:{label:Je,score:it},visibility:ee}}return this.tree.findMode===Et.Filter?2:{data:ae.CL.Default,visibility:ee}}reset(){this._totalCount=0,this._matchCount=0}dispose(){(0,L.B9)(this.disposables)}}class Ot extends null{constructor(m){var B;super({icon:Codicon.filter,title:localize("filter","Filter"),isChecked:(B=m==null?void 0:m.isChecked)!==null&&B!==void 0?B:!1,inputActiveOptionBorder:m==null?void 0:m.inputActiveOptionBorder,inputActiveOptionForeground:m==null?void 0:m.inputActiveOptionForeground,inputActiveOptionBackground:m==null?void 0:m.inputActiveOptionBackground})}}var Et;(function(F){F[F.Highlight=0]="Highlight",F[F.Filter=1]="Filter"})(Et||(Et={}));class Vt extends null{constructor(m,B,ee,fe,Ie){super(),this.tree=B,this.elements=h(".monaco-tree-type-filter",[h(".monaco-tree-type-filter-grab.codicon.codicon-debug-gripper@grab",{tabIndex:0}),h(".monaco-tree-type-filter-input@findInput"),h(".monaco-tree-type-filter-actionbar@actionbar")]),this.width=0,this.right=0,this._onDidDisable=new Emitter,m.appendChild(this.elements.root),this._register(toDisposable(()=>m.removeChild(this.elements.root))),this.modeToggle=this._register(new Ot(Object.assign(Object.assign({},Ie),{isChecked:fe===Et.Filter}))),this.onDidChangeMode=Event.map(this.modeToggle.onChange,()=>this.modeToggle.checked?Et.Filter:Et.Highlight,this._store),this.findInput=this._register(new FindInput(this.elements.findInput,ee,!1,{label:localize("type to search","Type to search"),additionalToggles:[this.modeToggle]})),this.actionbar=this._register(new ActionBar(this.elements.actionbar)),this.mode=fe;const Te=this._register(new DomEmitter(this.findInput.inputBox.inputElement,"keydown")),Je=this._register(Event.chain(Te.event)).map(Ut=>new StandardKeyboardEvent(Ut)).event;this._register(Je(Ut=>{switch(Ut.keyCode){case 18:Ut.preventDefault(),Ut.stopPropagation(),this.tree.domFocus();return}}));const it=this._register(new Action("close",localize("close","Close"),"codicon codicon-close",!0,()=>this.dispose()));this.actionbar.push(it,{icon:!0,label:!1});const Ct=this._register(new DomEmitter(this.elements.grab,"mousedown"));this._register(Ct.event(Ut=>{const sn=new DisposableStore,tn=sn.add(new DomEmitter(window,"mousemove")),rn=sn.add(new DomEmitter(window,"mouseup")),En=this.right,Fn=Ut.pageX;this.elements.grab.classList.add("grabbing");const Nn=ni=>{const Ps=ni.pageX-Fn;this.right=En-Ps,this.layout()};sn.add(tn.event(Nn)),sn.add(rn.event(ni=>{Nn(ni),this.elements.grab.classList.remove("grabbing"),sn.dispose()}))}));const It=this._register(Event.chain(this._register(new DomEmitter(this.elements.grab,"keydown")).event)).map(Ut=>new StandardKeyboardEvent(Ut)).event;this._register(It(Ut=>{let sn;Ut.keyCode===15?sn=Number.POSITIVE_INFINITY:Ut.keyCode===17?sn=0:Ut.keyCode===10&&(sn=this.right===0?Number.POSITIVE_INFINITY:0),sn!==void 0&&(Ut.preventDefault(),Ut.stopPropagation(),this.right=sn,this.layout())})),this.onDidChangeValue=this.findInput.onDidChange,this.style(Ie!=null?Ie:{})}set mode(m){this.modeToggle.checked=m===Et.Filter,this.findInput.inputBox.setPlaceHolder(m===Et.Filter?localize("type to filter","Type to filter"):localize("type to search","Type to search"))}style(m){this.findInput.style(m),m.listFilterWidgetBackground&&(this.elements.root.style.backgroundColor=m.listFilterWidgetBackground.toString()),m.listFilterWidgetShadow&&(this.elements.root.style.boxShadow=`0 0 8px 2px ${m.listFilterWidgetShadow}`)}layout(m=this.width){this.width=m,this.right=clamp(this.right,0,Math.max(0,m-212)),this.elements.root.style.right=`${this.right}px`}showMessage(m){this.findInput.showMessage(m)}clearMessage(){this.findInput.clearMessage()}dispose(){const m=Object.create(null,{dispose:{get:()=>super.dispose}});return ut(this,void 0,void 0,function*(){this._onDidDisable.fire(),this.elements.root.classList.add("disabled"),yield timeout(300),m.dispose.call(this)})}}class We{constructor(m,B,ee,fe,Ie){var Te;this.tree=m,this.view=ee,this.filter=fe,this.contextViewProvider=Ie,this._pattern="",this.width=0,this._onDidChangeMode=new W.Q5,this.onDidChangeMode=this._onDidChangeMode.event,this._onDidChangePattern=new W.Q5,this._onDidChangeOpenState=new W.Q5,this.onDidChangeOpenState=this._onDidChangeOpenState.event,this.enabledDisposables=new L.SL,this.disposables=new L.SL,this._mode=(Te=m.options.defaultFindMode)!==null&&Te!==void 0?Te:Et.Highlight,B.onDidSplice(this.onDidSpliceModel,this,this.disposables)}get pattern(){return this._pattern}get mode(){return this._mode}set mode(m){m!==this._mode&&(this._mode=m,this.widget&&(this.widget.mode=this._mode),this.tree.refilter(),this.render(),this._onDidChangeMode.fire(m))}onDidSpliceModel(){!this.widget||this.pattern.length===0||(this.tree.refilter(),this.render())}render(){var m,B;const ee=this.filter.totalCount>0&&this.filter.matchCount===0;this.pattern&&ee?(m=this.widget)===null||m===void 0||m.showMessage({type:2,content:(0,H.NC)("not found","No elements found.")}):(B=this.widget)===null||B===void 0||B.clearMessage()}shouldAllowFocus(m){return!this.widget||!this.pattern||this._mode===Et.Filter||this.filter.totalCount>0&&this.filter.matchCount<=1?!0:!ae.CL.isDefault(m.filterData)}style(m){var B;this.styles=m,(B=this.widget)===null||B===void 0||B.style(m)}layout(m){var B;this.width=m,(B=this.widget)===null||B===void 0||B.layout(m)}dispose(){this._onDidChangePattern.dispose(),this.enabledDisposables.dispose(),this.disposables.dispose()}}function St(F){let m=K.Unknown;return(0,C.uU)(F.browserEvent.target,"monaco-tl-twistie","monaco-tl-row")?m=K.Twistie:(0,C.uU)(F.browserEvent.target,"monaco-tl-contents","monaco-tl-row")?m=K.Element:(0,C.uU)(F.browserEvent.target,"monaco-tree-type-filter","monaco-list")&&(m=K.Filter),{browserEvent:F.browserEvent,element:F.element?F.element.element:null,target:m}}function Re(F,m){m(F),F.children.forEach(B=>Re(B,m))}class Se{constructor(m,B){this.getFirstViewElementWithTrait=m,this.identityProvider=B,this.nodes=[],this._onDidChange=new W.Q5,this.onDidChange=this._onDidChange.event}get nodeSet(){return this._nodeSet||(this._nodeSet=this.createNodeSet()),this._nodeSet}set(m,B){!(B!=null&&B.__forceEvent)&&(0,d.fS)(this.nodes,m)||this._set(m,!1,B)}_set(m,B,ee){if(this.nodes=[...m],this.elements=void 0,this._nodeSet=void 0,!B){const fe=this;this._onDidChange.fire({get elements(){return fe.get()},browserEvent:ee})}}get(){return this.elements||(this.elements=this.nodes.map(m=>m.element)),[...this.elements]}getNodes(){return this.nodes}has(m){return this.nodeSet.has(m)}onDidModelSplice({insertedNodes:m,deletedNodes:B}){if(!this.identityProvider){const it=this.createNodeSet(),Ct=It=>it.delete(It);B.forEach(It=>Re(It,Ct)),this.set([...it.values()]);return}const ee=new Set,fe=it=>ee.add(this.identityProvider.getId(it.element).toString());B.forEach(it=>Re(it,fe));const Ie=new Map,Te=it=>Ie.set(this.identityProvider.getId(it.element).toString(),it);m.forEach(it=>Re(it,Te));const Je=[];for(const it of this.nodes){const Ct=this.identityProvider.getId(it.element).toString();if(!ee.has(Ct))Je.push(it);else{const Ut=Ie.get(Ct);Ut&&Je.push(Ut)}}if(this.nodes.length>0&&Je.length===0){const it=this.getFirstViewElementWithTrait();it&&Je.push(it)}this._set(Je,!0)}createNodeSet(){const m=new Set;for(const B of this.nodes)m.add(B);return m}}class Ee extends P.sx{constructor(m,B){super(m),this.tree=B}onViewPointer(m){if((0,P.iK)(m.browserEvent.target)||(0,P.cK)(m.browserEvent.target)||(0,P.hD)(m.browserEvent.target))return;const B=m.element;if(!B)return super.onViewPointer(m);if(this.isSelectionRangeChangeEvent(m)||this.isSelectionSingleChangeEvent(m))return super.onViewPointer(m);const ee=m.browserEvent.target,fe=ee.classList.contains("monaco-tl-twistie")||ee.classList.contains("monaco-icon-label")&&ee.classList.contains("folder-icon")&&m.browserEvent.offsetX<16;let Ie=!1;if(typeof this.tree.expandOnlyOnTwistieClick=="function"?Ie=this.tree.expandOnlyOnTwistieClick(B.element):Ie=!!this.tree.expandOnlyOnTwistieClick,Ie&&!fe&&m.browserEvent.detail!==2)return super.onViewPointer(m);if(!this.tree.expandOnDoubleClick&&m.browserEvent.detail===2)return super.onViewPointer(m);if(B.collapsible){const Te=this.tree.model,Je=Te.getNodeLocation(B),it=m.browserEvent.altKey;if(this.tree.setFocus([Je]),Te.setCollapsed(Je,void 0,it),Ie&&fe)return}super.onViewPointer(m)}onDoubleClick(m){m.browserEvent.target.classList.contains("monaco-tl-twistie")||!this.tree.expandOnDoubleClick||super.onDoubleClick(m)}}class Be extends P.aV{constructor(m,B,ee,fe,Ie,Te,Je,it){super(m,B,ee,fe,it),this.focusTrait=Ie,this.selectionTrait=Te,this.anchorTrait=Je}createMouseController(m){return new Ee(this,m.tree)}splice(m,B,ee=[]){if(super.splice(m,B,ee),ee.length===0)return;const fe=[],Ie=[];let Te;ee.forEach((Je,it)=>{this.focusTrait.has(Je)&&fe.push(m+it),this.selectionTrait.has(Je)&&Ie.push(m+it),this.anchorTrait.has(Je)&&(Te=m+it)}),fe.length>0&&super.setFocus((0,d.EB)([...super.getFocus(),...fe])),Ie.length>0&&super.setSelection((0,d.EB)([...super.getSelection(),...Ie])),typeof Te=="number"&&super.setAnchor(Te)}setFocus(m,B,ee=!1){super.setFocus(m,B),ee||this.focusTrait.set(m.map(fe=>this.element(fe)),B)}setSelection(m,B,ee=!1){super.setSelection(m,B),ee||this.selectionTrait.set(m.map(fe=>this.element(fe)),B)}setAnchor(m,B=!1){super.setAnchor(m),B||(typeof m=="undefined"?this.anchorTrait.set([]):this.anchorTrait.set([this.element(m)]))}}class Xe{constructor(m,B,ee,fe,Ie={}){var Te;this._user=m,this._options=Ie,this.eventBufferer=new W.E7,this.onDidChangeFindOpenState=W.ju.None,this.disposables=new L.SL,this._onWillRefilter=new W.Q5,this.onWillRefilter=this._onWillRefilter.event,this._onDidUpdateOptions=new W.Q5;const Je=new Ze(ee),it=new W.ZD,Ct=new W.ZD,It=this.disposables.add(new Fe(Ct.event));this.renderers=fe.map(tn=>new ct(tn,()=>this.model,it.event,It,Ie));for(const tn of this.renderers)this.disposables.add(tn);let Ut;Ie.keyboardNavigationLabelProvider&&(Ut=new ft(this,Ie.keyboardNavigationLabelProvider,Ie.filter),Ie=Object.assign(Object.assign({},Ie),{filter:Ut}),this.disposables.add(Ut)),this.focus=new Se(()=>this.view.getFocusedElements()[0],Ie.identityProvider),this.selection=new Se(()=>this.view.getSelectedElements()[0],Ie.identityProvider),this.anchor=new Se(()=>this.view.getAnchorElement(),Ie.identityProvider),this.view=new Be(m,B,Je,this.renderers,this.focus,this.selection,this.anchor,Object.assign(Object.assign({},Le(()=>this.model,Ie)),{tree:this})),this.model=this.createModel(m,this.view,Ie),it.input=this.model.onDidChangeCollapseState;const sn=W.ju.forEach(this.model.onDidSplice,tn=>{this.eventBufferer.bufferEvents(()=>{this.focus.onDidModelSplice(tn),this.selection.onDidModelSplice(tn)})},this.disposables);if(sn(()=>null,null,this.disposables),Ct.input=W.ju.chain(W.ju.any(sn,this.focus.onDidChange,this.selection.onDidChange)).debounce(()=>null,0).map(()=>{const tn=new Set;for(const rn of this.focus.getNodes())tn.add(rn);for(const rn of this.selection.getNodes())tn.add(rn);return[...tn.values()]}).event,Ie.keyboardSupport!==!1){const tn=W.ju.chain(this.view.onKeyDown).filter(rn=>!(0,P.cK)(rn.target)).map(rn=>new I.y(rn));tn.filter(rn=>rn.keyCode===15).on(this.onLeftArrow,this,this.disposables),tn.filter(rn=>rn.keyCode===17).on(this.onRightArrow,this,this.disposables),tn.filter(rn=>rn.keyCode===10).on(this.onSpace,this,this.disposables)}((Te=Ie.findWidgetEnabled)!==null&&Te!==void 0?Te:!0)&&Ie.keyboardNavigationLabelProvider&&Ie.contextViewProvider?(this.findController=new We(this,this.model,this.view,Ut,Ie.contextViewProvider),this.focusNavigationFilter=tn=>this.findController.shouldAllowFocus(tn),this.onDidChangeFindOpenState=this.findController.onDidChangeOpenState,this.disposables.add(this.findController),this.onDidChangeFindMode=this.findController.onDidChangeMode):this.onDidChangeFindMode=W.ju.None,this.styleElement=(0,C.dS)(this.view.getHTMLElement()),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Ge.Always)}get onDidChangeFocus(){return this.eventBufferer.wrapEvent(this.focus.onDidChange)}get onDidChangeSelection(){return this.eventBufferer.wrapEvent(this.selection.onDidChange)}get onMouseDblClick(){return W.ju.filter(W.ju.map(this.view.onMouseDblClick,St),m=>m.target!==K.Filter)}get onPointer(){return W.ju.map(this.view.onPointer,St)}get onDidFocus(){return this.view.onDidFocus}get onDidChangeModel(){return W.ju.signal(this.model.onDidSplice)}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get findMode(){var m,B;return(B=(m=this.findController)===null||m===void 0?void 0:m.mode)!==null&&B!==void 0?B:Et.Highlight}set findMode(m){this.findController&&(this.findController.mode=m)}get expandOnDoubleClick(){return typeof this._options.expandOnDoubleClick=="undefined"?!0:this._options.expandOnDoubleClick}get expandOnlyOnTwistieClick(){return typeof this._options.expandOnlyOnTwistieClick=="undefined"?!0:this._options.expandOnlyOnTwistieClick}get onDidDispose(){return this.view.onDidDispose}updateOptions(m={}){this._options=Object.assign(Object.assign({},this._options),m);for(const B of this.renderers)B.updateOptions(m);this.view.updateOptions(this._options),this._onDidUpdateOptions.fire(this._options),this.getHTMLElement().classList.toggle("always",this._options.renderIndentGuides===Ge.Always)}get options(){return this._options}getHTMLElement(){return this.view.getHTMLElement()}get scrollTop(){return this.view.scrollTop}set scrollTop(m){this.view.scrollTop=m}domFocus(){this.view.domFocus()}layout(m,B){var ee;this.view.layout(m,B),(0,ke.hj)(B)&&((ee=this.findController)===null||ee===void 0||ee.layout(B))}style(m){var B;const ee=`.${this.view.domId}`,fe=[];m.treeIndentGuidesStroke&&(fe.push(`.monaco-list${ee}:hover .monaco-tl-indent > .indent-guide, .monaco-list${ee}.always .monaco-tl-indent > .indent-guide  { border-color: ${m.treeIndentGuidesStroke.transparent(.4)}; }`),fe.push(`.monaco-list${ee} .monaco-tl-indent > .indent-guide.active { border-color: ${m.treeIndentGuidesStroke}; }`)),this.styleElement.textContent=fe.join(`
`),(B=this.findController)===null||B===void 0||B.style(m),this.view.style(m)}getParentElement(m){const B=this.model.getParentNodeLocation(m);return this.model.getNode(B).element}getFirstElementChild(m){return this.model.getFirstElementChild(m)}getNode(m){return this.model.getNode(m)}collapse(m,B=!1){return this.model.setCollapsed(m,!0,B)}expand(m,B=!1){return this.model.setCollapsed(m,!1,B)}isCollapsible(m){return this.model.isCollapsible(m)}setCollapsible(m,B){return this.model.setCollapsible(m,B)}isCollapsed(m){return this.model.isCollapsed(m)}refilter(){this._onWillRefilter.fire(void 0),this.model.refilter()}setSelection(m,B){const ee=m.map(Ie=>this.model.getNode(Ie));this.selection.set(ee,B);const fe=m.map(Ie=>this.model.getListIndex(Ie)).filter(Ie=>Ie>-1);this.view.setSelection(fe,B,!0)}getSelection(){return this.selection.get()}setFocus(m,B){const ee=m.map(Ie=>this.model.getNode(Ie));this.focus.set(ee,B);const fe=m.map(Ie=>this.model.getListIndex(Ie)).filter(Ie=>Ie>-1);this.view.setFocus(fe,B,!0)}getFocus(){return this.focus.get()}reveal(m,B){this.model.expandTo(m);const ee=this.model.getListIndex(m);ee!==-1&&this.view.reveal(ee,B)}onLeftArrow(m){m.preventDefault(),m.stopPropagation();const B=this.view.getFocusedElements();if(B.length===0)return;const ee=B[0],fe=this.model.getNodeLocation(ee);if(!this.model.setCollapsed(fe,!0)){const Te=this.model.getParentNodeLocation(fe);if(!Te)return;const Je=this.model.getListIndex(Te);this.view.reveal(Je),this.view.setFocus([Je])}}onRightArrow(m){m.preventDefault(),m.stopPropagation();const B=this.view.getFocusedElements();if(B.length===0)return;const ee=B[0],fe=this.model.getNodeLocation(ee);if(!this.model.setCollapsed(fe,!1)){if(!ee.children.some(it=>it.visible))return;const[Te]=this.view.getFocus(),Je=Te+1;this.view.reveal(Je),this.view.setFocus([Je])}}onSpace(m){m.preventDefault(),m.stopPropagation();const B=this.view.getFocusedElements();if(B.length===0)return;const ee=B[0],fe=this.model.getNodeLocation(ee),Ie=m.browserEvent.altKey;this.model.setCollapsed(fe,void 0,Ie)}dispose(){(0,L.B9)(this.disposables),this.view.dispose()}}class Pt{constructor(m,B,ee={}){this.user=m,this.rootRef=null,this.nodes=new Map,this.nodesByIdentity=new Map,this.model=new ne(m,B,null,ee),this.onDidSplice=this.model.onDidSplice,this.onDidChangeCollapseState=this.model.onDidChangeCollapseState,this.onDidChangeRenderNodeCount=this.model.onDidChangeRenderNodeCount,ee.sorter&&(this.sorter={compare(fe,Ie){return ee.sorter.compare(fe.element,Ie.element)}}),this.identityProvider=ee.identityProvider}setChildren(m,B=le.$.empty(),ee={}){const fe=this.getElementLocation(m);this._setChildren(fe,this.preserveCollapseState(B),ee)}_setChildren(m,B=le.$.empty(),ee){const fe=new Set,Ie=new Set,Te=it=>{var Ct;if(it.element===null)return;const It=it;if(fe.add(It.element),this.nodes.set(It.element,It),this.identityProvider){const Ut=this.identityProvider.getId(It.element).toString();Ie.add(Ut),this.nodesByIdentity.set(Ut,It)}(Ct=ee.onDidCreateNode)===null||Ct===void 0||Ct.call(ee,It)},Je=it=>{var Ct;if(it.element===null)return;const It=it;if(fe.has(It.element)||this.nodes.delete(It.element),this.identityProvider){const Ut=this.identityProvider.getId(It.element).toString();Ie.has(Ut)||this.nodesByIdentity.delete(Ut)}(Ct=ee.onDidDeleteNode)===null||Ct===void 0||Ct.call(ee,It)};this.model.splice([...m,0],Number.MAX_VALUE,B,Object.assign(Object.assign({},ee),{onDidCreateNode:Te,onDidDeleteNode:Je}))}preserveCollapseState(m=le.$.empty()){return this.sorter&&(m=[...m].sort(this.sorter.compare.bind(this.sorter))),le.$.map(m,B=>{let ee=this.nodes.get(B.element);if(!ee&&this.identityProvider){const Te=this.identityProvider.getId(B.element).toString();ee=this.nodesByIdentity.get(Te)}if(!ee)return Object.assign(Object.assign({},B),{children:this.preserveCollapseState(B.children)});const fe=typeof B.collapsible=="boolean"?B.collapsible:ee.collapsible,Ie=typeof B.collapsed!="undefined"?B.collapsed:ee.collapsed;return Object.assign(Object.assign({},B),{collapsible:fe,collapsed:Ie,children:this.preserveCollapseState(B.children)})})}rerender(m){const B=this.getElementLocation(m);this.model.rerender(B)}getFirstElementChild(m=null){const B=this.getElementLocation(m);return this.model.getFirstElementChild(B)}has(m){return this.nodes.has(m)}getListIndex(m){const B=this.getElementLocation(m);return this.model.getListIndex(B)}getListRenderCount(m){const B=this.getElementLocation(m);return this.model.getListRenderCount(B)}isCollapsible(m){const B=this.getElementLocation(m);return this.model.isCollapsible(B)}setCollapsible(m,B){const ee=this.getElementLocation(m);return this.model.setCollapsible(ee,B)}isCollapsed(m){const B=this.getElementLocation(m);return this.model.isCollapsed(B)}setCollapsed(m,B,ee){const fe=this.getElementLocation(m);return this.model.setCollapsed(fe,B,ee)}expandTo(m){const B=this.getElementLocation(m);this.model.expandTo(B)}refilter(){this.model.refilter()}getNode(m=null){if(m===null)return this.model.getNode(this.model.rootRef);const B=this.nodes.get(m);if(!B)throw new Z(this.user,`Tree element not found: ${m}`);return B}getNodeLocation(m){return m.element}getParentNodeLocation(m){if(m===null)throw new Z(this.user,"Invalid getParentNodeLocation call");const B=this.nodes.get(m);if(!B)throw new Z(this.user,`Tree element not found: ${m}`);const ee=this.model.getNodeLocation(B),fe=this.model.getParentNodeLocation(ee);return this.model.getNode(fe).element}getElementLocation(m){if(m===null)return[];const B=this.nodes.get(m);if(!B)throw new Z(this.user,`Tree element not found: ${m}`);return this.model.getNodeLocation(B)}}function jt(F){const m=[F.element],B=F.incompressible||!1;return{element:{elements:m,incompressible:B},children:le.$.map(le.$.from(F.children),jt),collapsible:F.collapsible,collapsed:F.collapsed}}function pn(F){const m=[F.element],B=F.incompressible||!1;let ee,fe;for(;[fe,ee]=le.$.consume(le.$.from(F.children),2),!(fe.length!==1||fe[0].incompressible);)F=fe[0],m.push(F.element);return{element:{elements:m,incompressible:B},children:le.$.map(le.$.concat(fe,ee),pn),collapsible:F.collapsible,collapsed:F.collapsed}}function at(F,m=0){let B;return m<F.element.elements.length-1?B=[at(F,m+1)]:B=le.$.map(le.$.from(F.children),ee=>at(ee,0)),m===0&&F.element.incompressible?{element:F.element.elements[m],children:B,incompressible:!0,collapsible:F.collapsible,collapsed:F.collapsed}:{element:F.element.elements[m],children:B,collapsible:F.collapsible,collapsed:F.collapsed}}function Mt(F){return at(F,0)}function Gt(F,m,B){return F.element===m?Object.assign(Object.assign({},F),{children:B}):Object.assign(Object.assign({},F),{children:le.$.map(le.$.from(F.children),ee=>Gt(ee,m,B))})}const _n=F=>({getId(m){return m.elements.map(B=>F.getId(B).toString()).join("\0")}});class Rn{constructor(m,B,ee={}){this.user=m,this.rootRef=null,this.nodes=new Map,this.model=new Pt(m,B,ee),this.enabled=typeof ee.compressionEnabled=="undefined"?!0:ee.compressionEnabled,this.identityProvider=ee.identityProvider}get onDidSplice(){return this.model.onDidSplice}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}get onDidChangeRenderNodeCount(){return this.model.onDidChangeRenderNodeCount}setChildren(m,B=le.$.empty(),ee){const fe=ee.diffIdentityProvider&&_n(ee.diffIdentityProvider);if(m===null){const tn=le.$.map(B,this.enabled?pn:jt);this._setChildren(null,tn,{diffIdentityProvider:fe,diffDepth:1/0});return}const Ie=this.nodes.get(m);if(!Ie)throw new Error("Unknown compressed tree node");const Te=this.model.getNode(Ie),Je=this.model.getParentNodeLocation(Ie),it=this.model.getNode(Je),Ct=Mt(Te),It=Gt(Ct,m,B),Ut=(this.enabled?pn:jt)(It),sn=it.children.map(tn=>tn===Te?Ut:tn);this._setChildren(it.element,sn,{diffIdentityProvider:fe,diffDepth:Te.depth-it.depth})}setCompressionEnabled(m){if(m===this.enabled)return;this.enabled=m;const ee=this.model.getNode().children,fe=le.$.map(ee,Mt),Ie=le.$.map(fe,m?pn:jt);this._setChildren(null,Ie,{diffIdentityProvider:this.identityProvider,diffDepth:1/0})}_setChildren(m,B,ee){const fe=new Set,Ie=Je=>{for(const it of Je.element.elements)fe.add(it),this.nodes.set(it,Je.element)},Te=Je=>{for(const it of Je.element.elements)fe.has(it)||this.nodes.delete(it)};this.model.setChildren(m,B,Object.assign(Object.assign({},ee),{onDidCreateNode:Ie,onDidDeleteNode:Te}))}has(m){return this.nodes.has(m)}getListIndex(m){const B=this.getCompressedNode(m);return this.model.getListIndex(B)}getListRenderCount(m){const B=this.getCompressedNode(m);return this.model.getListRenderCount(B)}getNode(m){if(typeof m=="undefined")return this.model.getNode();const B=this.getCompressedNode(m);return this.model.getNode(B)}getNodeLocation(m){const B=this.model.getNodeLocation(m);return B===null?null:B.elements[B.elements.length-1]}getParentNodeLocation(m){const B=this.getCompressedNode(m),ee=this.model.getParentNodeLocation(B);return ee===null?null:ee.elements[ee.elements.length-1]}getFirstElementChild(m){const B=this.getCompressedNode(m);return this.model.getFirstElementChild(B)}isCollapsible(m){const B=this.getCompressedNode(m);return this.model.isCollapsible(B)}setCollapsible(m,B){const ee=this.getCompressedNode(m);return this.model.setCollapsible(ee,B)}isCollapsed(m){const B=this.getCompressedNode(m);return this.model.isCollapsed(B)}setCollapsed(m,B,ee){const fe=this.getCompressedNode(m);return this.model.setCollapsed(fe,B,ee)}expandTo(m){const B=this.getCompressedNode(m);this.model.expandTo(B)}rerender(m){const B=this.getCompressedNode(m);this.model.rerender(B)}refilter(){this.model.refilter()}getCompressedNode(m){if(m===null)return null;const B=this.nodes.get(m);if(!B)throw new Z(this.user,`Tree element not found: ${m}`);return B}}const Wn=F=>F[F.length-1];class wn{constructor(m,B){this.unwrapper=m,this.node=B}get element(){return this.node.element===null?null:this.unwrapper(this.node.element)}get children(){return this.node.children.map(m=>new wn(this.unwrapper,m))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}function je(F,m){return{splice(B,ee,fe){m.splice(B,ee,fe.map(Ie=>F.map(Ie)))},updateElementHeight(B,ee){m.updateElementHeight(B,ee)}}}function qn(F,m){return Object.assign(Object.assign({},m),{identityProvider:m.identityProvider&&{getId(B){return m.identityProvider.getId(F(B))}},sorter:m.sorter&&{compare(B,ee){return m.sorter.compare(B.elements[0],ee.elements[0])}},filter:m.filter&&{filter(B,ee){return m.filter.filter(F(B),ee)}}})}class vt{constructor(m,B,ee={}){this.rootRef=null,this.elementMapper=ee.elementMapper||Wn;const fe=Ie=>this.elementMapper(Ie.elements);this.nodeMapper=new te(Ie=>new wn(fe,Ie)),this.model=new Rn(m,je(this.nodeMapper,B),qn(fe,ee))}get onDidSplice(){return W.ju.map(this.model.onDidSplice,({insertedNodes:m,deletedNodes:B})=>({insertedNodes:m.map(ee=>this.nodeMapper.map(ee)),deletedNodes:B.map(ee=>this.nodeMapper.map(ee))}))}get onDidChangeCollapseState(){return W.ju.map(this.model.onDidChangeCollapseState,({node:m,deep:B})=>({node:this.nodeMapper.map(m),deep:B}))}get onDidChangeRenderNodeCount(){return W.ju.map(this.model.onDidChangeRenderNodeCount,m=>this.nodeMapper.map(m))}setChildren(m,B=le.$.empty(),ee={}){this.model.setChildren(m,B,ee)}setCompressionEnabled(m){this.model.setCompressionEnabled(m)}has(m){return this.model.has(m)}getListIndex(m){return this.model.getListIndex(m)}getListRenderCount(m){return this.model.getListRenderCount(m)}getNode(m){return this.nodeMapper.map(this.model.getNode(m))}getNodeLocation(m){return m.element}getParentNodeLocation(m){return this.model.getParentNodeLocation(m)}getFirstElementChild(m){const B=this.model.getFirstElementChild(m);return B===null||typeof B=="undefined"?B:this.elementMapper(B.elements)}isCollapsible(m){return this.model.isCollapsible(m)}setCollapsible(m,B){return this.model.setCollapsible(m,B)}isCollapsed(m){return this.model.isCollapsed(m)}setCollapsed(m,B,ee){return this.model.setCollapsed(m,B,ee)}expandTo(m){return this.model.expandTo(m)}rerender(m){return this.model.rerender(m)}refilter(){return this.model.refilter()}getCompressedTreeNode(m=null){return this.model.getNode(m)}}var _e=l(86602),ht=function(F,m,B,ee){var fe=arguments.length,Ie=fe<3?m:ee===null?ee=Object.getOwnPropertyDescriptor(m,B):ee,Te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ie=Reflect.decorate(F,m,B,ee);else for(var Je=F.length-1;Je>=0;Je--)(Te=F[Je])&&(Ie=(fe<3?Te(Ie):fe>3?Te(m,B,Ie):Te(m,B))||Ie);return fe>3&&Ie&&Object.defineProperty(m,B,Ie),Ie};class yt extends Xe{constructor(m,B,ee,fe,Ie={}){super(m,B,ee,fe,Ie),this.user=m}get onDidChangeCollapseState(){return this.model.onDidChangeCollapseState}setChildren(m,B=le.$.empty(),ee){this.model.setChildren(m,B,ee)}rerender(m){if(m===void 0){this.view.rerender();return}this.model.rerender(m)}hasElement(m){return this.model.has(m)}createModel(m,B,ee){return new Pt(m,B,ee)}}class ye{constructor(m,B){this._compressedTreeNodeProvider=m,this.renderer=B,this.templateId=B.templateId,B.onDidChangeTwistieState&&(this.onDidChangeTwistieState=B.onDidChangeTwistieState)}get compressedTreeNodeProvider(){return this._compressedTreeNodeProvider()}renderTemplate(m){return{compressedTreeNode:void 0,data:this.renderer.renderTemplate(m)}}renderElement(m,B,ee,fe){const Ie=this.compressedTreeNodeProvider.getCompressedTreeNode(m.element);Ie.element.elements.length===1?(ee.compressedTreeNode=void 0,this.renderer.renderElement(m,B,ee.data,fe)):(ee.compressedTreeNode=Ie,this.renderer.renderCompressedElements(Ie,B,ee.data,fe))}disposeElement(m,B,ee,fe){var Ie,Te,Je,it;ee.compressedTreeNode?(Te=(Ie=this.renderer).disposeCompressedElements)===null||Te===void 0||Te.call(Ie,ee.compressedTreeNode,B,ee.data,fe):(it=(Je=this.renderer).disposeElement)===null||it===void 0||it.call(Je,m,B,ee.data,fe)}disposeTemplate(m){this.renderer.disposeTemplate(m.data)}renderTwistie(m,B){return this.renderer.renderTwistie?this.renderer.renderTwistie(m,B):!1}}ht([_e.H],ye.prototype,"compressedTreeNodeProvider",null);function qe(F,m){return m&&Object.assign(Object.assign({},m),{keyboardNavigationLabelProvider:m.keyboardNavigationLabelProvider&&{getKeyboardNavigationLabel(B){let ee;try{ee=F().getCompressedTreeNode(B)}catch(fe){return m.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(B)}return ee.element.elements.length===1?m.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(B):m.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(ee.element.elements)}}})}class Wt extends yt{constructor(m,B,ee,fe,Ie={}){const Te=()=>this,Je=fe.map(it=>new ye(Te,it));super(m,B,ee,Je,qe(Te,Ie))}setChildren(m,B=le.$.empty(),ee){this.model.setChildren(m,B,ee)}createModel(m,B,ee){return new vt(m,B,ee)}updateOptions(m={}){super.updateOptions(m),typeof m.compressionEnabled!="undefined"&&this.model.setCompressionEnabled(m.compressionEnabled)}getCompressedTreeNode(m=null){return this.model.getCompressedTreeNode(m)}}var Xt=l(708),mn=function(F,m,B,ee){function fe(Ie){return Ie instanceof B?Ie:new B(function(Te){Te(Ie)})}return new(B||(B=Promise))(function(Ie,Te){function Je(It){try{Ct(ee.next(It))}catch(Ut){Te(Ut)}}function it(It){try{Ct(ee.throw(It))}catch(Ut){Te(Ut)}}function Ct(It){It.done?Ie(It.value):fe(It.value).then(Je,it)}Ct((ee=ee.apply(F,m||[])).next())})};function bn(F){return Object.assign(Object.assign({},F),{children:[],refreshPromise:void 0,stale:!0,slow:!1,collapsedByDefault:void 0})}function ot(F,m){return m.parent?m.parent===F?!0:ot(F,m.parent):!1}function Rt(F,m){return F===m||ot(F,m)||ot(m,F)}class kt{constructor(m){this.node=m}get element(){return this.node.element.element}get children(){return this.node.children.map(m=>new kt(m))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class wt{constructor(m,B,ee){this.renderer=m,this.nodeMapper=B,this.onDidChangeTwistieState=ee,this.renderedNodes=new Map,this.templateId=m.templateId}renderTemplate(m){return{templateData:this.renderer.renderTemplate(m)}}renderElement(m,B,ee,fe){this.renderer.renderElement(this.nodeMapper.map(m),B,ee.templateData,fe)}renderTwistie(m,B){return m.slow?(B.classList.add(...oe.lA.treeItemLoading.classNamesArray),!0):(B.classList.remove(...oe.lA.treeItemLoading.classNamesArray),!1)}disposeElement(m,B,ee,fe){var Ie,Te;(Te=(Ie=this.renderer).disposeElement)===null||Te===void 0||Te.call(Ie,this.nodeMapper.map(m),B,ee.templateData,fe)}disposeTemplate(m){this.renderer.disposeTemplate(m.templateData)}dispose(){this.renderedNodes.clear()}}function ln(F){return{browserEvent:F.browserEvent,elements:F.elements.map(m=>m.element)}}function _t(F){return{browserEvent:F.browserEvent,element:F.element&&F.element.element,target:F.target}}class di extends R.kX{constructor(m){super(m.elements.map(B=>B.element)),this.data=m}}function Xn(F){return F instanceof R.kX?new di(F):F}class dn{constructor(m){this.dnd=m}getDragURI(m){return this.dnd.getDragURI(m.element)}getDragLabel(m,B){if(this.dnd.getDragLabel)return this.dnd.getDragLabel(m.map(ee=>ee.element),B)}onDragStart(m,B){var ee,fe;(fe=(ee=this.dnd).onDragStart)===null||fe===void 0||fe.call(ee,Xn(m),B)}onDragOver(m,B,ee,fe,Ie=!0){return this.dnd.onDragOver(Xn(m),B&&B.element,ee,fe)}drop(m,B,ee,fe){this.dnd.drop(Xn(m),B&&B.element,ee,fe)}onDragEnd(m){var B,ee;(ee=(B=this.dnd).onDragEnd)===null||ee===void 0||ee.call(B,m)}}function Ve(F){return F&&Object.assign(Object.assign({},F),{collapseByDefault:!0,identityProvider:F.identityProvider&&{getId(m){return F.identityProvider.getId(m.element)}},dnd:F.dnd&&new dn(F.dnd),multipleSelectionController:F.multipleSelectionController&&{isSelectionSingleChangeEvent(m){return F.multipleSelectionController.isSelectionSingleChangeEvent(Object.assign(Object.assign({},m),{element:m.element}))},isSelectionRangeChangeEvent(m){return F.multipleSelectionController.isSelectionRangeChangeEvent(Object.assign(Object.assign({},m),{element:m.element}))}},accessibilityProvider:F.accessibilityProvider&&Object.assign(Object.assign({},F.accessibilityProvider),{getPosInSet:void 0,getSetSize:void 0,getRole:F.accessibilityProvider.getRole?m=>F.accessibilityProvider.getRole(m.element):()=>"treeitem",isChecked:F.accessibilityProvider.isChecked?m=>{var B;return!!(!((B=F.accessibilityProvider)===null||B===void 0)&&B.isChecked(m.element))}:void 0,getAriaLabel(m){return F.accessibilityProvider.getAriaLabel(m.element)},getWidgetAriaLabel(){return F.accessibilityProvider.getWidgetAriaLabel()},getWidgetRole:F.accessibilityProvider.getWidgetRole?()=>F.accessibilityProvider.getWidgetRole():()=>"tree",getAriaLevel:F.accessibilityProvider.getAriaLevel&&(m=>F.accessibilityProvider.getAriaLevel(m.element)),getActiveDescendantId:F.accessibilityProvider.getActiveDescendantId&&(m=>F.accessibilityProvider.getActiveDescendantId(m.element))}),filter:F.filter&&{filter(m,B){return F.filter.filter(m.element,B)}},keyboardNavigationLabelProvider:F.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},F.keyboardNavigationLabelProvider),{getKeyboardNavigationLabel(m){return F.keyboardNavigationLabelProvider.getKeyboardNavigationLabel(m.element)}}),sorter:void 0,expandOnlyOnTwistieClick:typeof F.expandOnlyOnTwistieClick=="undefined"?void 0:typeof F.expandOnlyOnTwistieClick!="function"?F.expandOnlyOnTwistieClick:m=>F.expandOnlyOnTwistieClick(m.element),additionalScrollHeight:F.additionalScrollHeight})}function Ce(F,m){m(F),F.children.forEach(B=>Ce(B,m))}class dt{constructor(m,B,ee,fe,Ie,Te={}){this.user=m,this.dataSource=Ie,this.nodes=new Map,this.subTreeRefreshPromises=new Map,this.refreshPromises=new Map,this._onDidRender=new W.Q5,this._onDidChangeNodeSlowState=new W.Q5,this.nodeMapper=new te(Je=>new kt(Je)),this.disposables=new L.SL,this.identityProvider=Te.identityProvider,this.autoExpandSingleChildren=typeof Te.autoExpandSingleChildren=="undefined"?!1:Te.autoExpandSingleChildren,this.sorter=Te.sorter,this.collapseByDefault=Te.collapseByDefault,this.tree=this.createTree(m,B,ee,fe,Te),this.onDidChangeFindMode=this.tree.onDidChangeFindMode,this.root=bn({element:void 0,parent:null,hasChildren:!0}),this.identityProvider&&(this.root=Object.assign(Object.assign({},this.root),{id:null})),this.nodes.set(null,this.root),this.tree.onDidChangeCollapseState(this._onDidChangeCollapseState,this,this.disposables)}get onDidChangeFocus(){return W.ju.map(this.tree.onDidChangeFocus,ln)}get onDidChangeSelection(){return W.ju.map(this.tree.onDidChangeSelection,ln)}get onMouseDblClick(){return W.ju.map(this.tree.onMouseDblClick,_t)}get onPointer(){return W.ju.map(this.tree.onPointer,_t)}get onDidFocus(){return this.tree.onDidFocus}get onDidChangeModel(){return this.tree.onDidChangeModel}get onDidChangeCollapseState(){return this.tree.onDidChangeCollapseState}get onDidChangeFindOpenState(){return this.tree.onDidChangeFindOpenState}get onDidDispose(){return this.tree.onDidDispose}createTree(m,B,ee,fe,Ie){const Te=new Ze(ee),Je=fe.map(Ct=>new wt(Ct,this.nodeMapper,this._onDidChangeNodeSlowState.event)),it=Ve(Ie)||{};return new yt(m,B,Te,Je,it)}updateOptions(m={}){this.tree.updateOptions(m)}getHTMLElement(){return this.tree.getHTMLElement()}get scrollTop(){return this.tree.scrollTop}set scrollTop(m){this.tree.scrollTop=m}domFocus(){this.tree.domFocus()}layout(m,B){this.tree.layout(m,B)}style(m){this.tree.style(m)}getInput(){return this.root.element}setInput(m,B){return mn(this,void 0,void 0,function*(){this.refreshPromises.forEach(fe=>fe.cancel()),this.refreshPromises.clear(),this.root.element=m;const ee=B&&{viewState:B,focus:[],selection:[]};yield this._updateChildren(m,!0,!1,ee),ee&&(this.tree.setFocus(ee.focus),this.tree.setSelection(ee.selection)),B&&typeof B.scrollTop=="number"&&(this.scrollTop=B.scrollTop)})}_updateChildren(m=this.root.element,B=!0,ee=!1,fe,Ie){return mn(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new Z(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield W.ju.toPromise(this._onDidRender.event));const Te=this.getDataNode(m);if(yield this.refreshAndRenderNode(Te,B,fe,Ie),ee)try{this.tree.rerender(Te)}catch(Je){}})}rerender(m){if(m===void 0||m===this.root.element){this.tree.rerender();return}const B=this.getDataNode(m);this.tree.rerender(B)}getNode(m=this.root.element){const B=this.getDataNode(m),ee=this.tree.getNode(B===this.root?null:B);return this.nodeMapper.map(ee)}collapse(m,B=!1){const ee=this.getDataNode(m);return this.tree.collapse(ee===this.root?null:ee,B)}expand(m,B=!1){return mn(this,void 0,void 0,function*(){if(typeof this.root.element=="undefined")throw new Z(this.user,"Tree input not set");this.root.refreshPromise&&(yield this.root.refreshPromise,yield W.ju.toPromise(this._onDidRender.event));const ee=this.getDataNode(m);if(this.tree.hasElement(ee)&&!this.tree.isCollapsible(ee)||(ee.refreshPromise&&(yield this.root.refreshPromise,yield W.ju.toPromise(this._onDidRender.event)),ee!==this.root&&!ee.refreshPromise&&!this.tree.isCollapsed(ee)))return!1;const fe=this.tree.expand(ee===this.root?null:ee,B);return ee.refreshPromise&&(yield this.root.refreshPromise,yield W.ju.toPromise(this._onDidRender.event)),fe})}setSelection(m,B){const ee=m.map(fe=>this.getDataNode(fe));this.tree.setSelection(ee,B)}getSelection(){return this.tree.getSelection().map(B=>B.element)}setFocus(m,B){const ee=m.map(fe=>this.getDataNode(fe));this.tree.setFocus(ee,B)}getFocus(){return this.tree.getFocus().map(B=>B.element)}reveal(m,B){this.tree.reveal(this.getDataNode(m),B)}getParentElement(m){const B=this.tree.getParentElement(this.getDataNode(m));return B&&B.element}getFirstElementChild(m=this.root.element){const B=this.getDataNode(m),ee=this.tree.getFirstElementChild(B===this.root?null:B);return ee&&ee.element}getDataNode(m){const B=this.nodes.get(m===this.root.element?null:m);if(!B)throw new Z(this.user,`Data tree node not found: ${m}`);return B}refreshAndRenderNode(m,B,ee,fe){return mn(this,void 0,void 0,function*(){yield this.refreshNode(m,B,ee),this.render(m,ee,fe)})}refreshNode(m,B,ee){return mn(this,void 0,void 0,function*(){let fe;if(this.subTreeRefreshPromises.forEach((Ie,Te)=>{!fe&&Rt(Te,m)&&(fe=Ie.then(()=>this.refreshNode(m,B,ee)))}),fe)return fe;if(m!==this.root&&this.tree.getNode(m).collapsed){m.hasChildren=!!this.dataSource.hasChildren(m.element),m.stale=!0;return}return this.doRefreshSubTree(m,B,ee)})}doRefreshSubTree(m,B,ee){return mn(this,void 0,void 0,function*(){let fe;m.refreshPromise=new Promise(Ie=>fe=Ie),this.subTreeRefreshPromises.set(m,m.refreshPromise),m.refreshPromise.finally(()=>{m.refreshPromise=void 0,this.subTreeRefreshPromises.delete(m)});try{const Ie=yield this.doRefreshNode(m,B,ee);m.stale=!1,yield de.jT.settled(Ie.map(Te=>this.doRefreshSubTree(Te,B,ee)))}finally{fe()}})}doRefreshNode(m,B,ee){return mn(this,void 0,void 0,function*(){m.hasChildren=!!this.dataSource.hasChildren(m.element);let fe;if(!m.hasChildren)fe=Promise.resolve(le.$.empty());else{const Ie=this.doGetChildren(m);if((0,ke.TW)(Ie))fe=Promise.resolve(Ie);else{const Te=(0,de.Vs)(800);Te.then(()=>{m.slow=!0,this._onDidChangeNodeSlowState.fire(m)},Je=>null),fe=Ie.finally(()=>Te.cancel())}}try{const Ie=yield fe;return this.setChildren(m,Ie,B,ee)}catch(Ie){if(m!==this.root&&this.tree.hasElement(m)&&this.tree.collapse(m),(0,Xt.n2)(Ie))return[];throw Ie}finally{m.slow&&(m.slow=!1,this._onDidChangeNodeSlowState.fire(m))}})}doGetChildren(m){let B=this.refreshPromises.get(m);if(B)return B;const ee=this.dataSource.getChildren(m.element);return(0,ke.TW)(ee)?this.processChildren(ee):(B=(0,de.PG)(()=>mn(this,void 0,void 0,function*(){return this.processChildren(yield ee)})),this.refreshPromises.set(m,B),B.finally(()=>{this.refreshPromises.delete(m)}))}_onDidChangeCollapseState({node:m,deep:B}){m.element!==null&&!m.collapsed&&m.element.stale&&(B?this.collapse(m.element.element):this.refreshAndRenderNode(m.element,!1).catch(Xt.dL))}setChildren(m,B,ee,fe){const Ie=[...B];if(m.children.length===0&&Ie.length===0)return[];const Te=new Map,Je=new Map;for(const It of m.children)if(Te.set(It.element,It),this.identityProvider){const Ut=this.tree.isCollapsed(It);Je.set(It.id,{node:It,collapsed:Ut})}const it=[],Ct=Ie.map(It=>{const Ut=!!this.dataSource.hasChildren(It);if(!this.identityProvider){const En=bn({element:It,parent:m,hasChildren:Ut});return Ut&&this.collapseByDefault&&!this.collapseByDefault(It)&&(En.collapsedByDefault=!1,it.push(En)),En}const sn=this.identityProvider.getId(It).toString(),tn=Je.get(sn);if(tn){const En=tn.node;return Te.delete(En.element),this.nodes.delete(En.element),this.nodes.set(It,En),En.element=It,En.hasChildren=Ut,ee?tn.collapsed?(En.children.forEach(Fn=>Ce(Fn,Nn=>this.nodes.delete(Nn.element))),En.children.splice(0,En.children.length),En.stale=!0):it.push(En):Ut&&this.collapseByDefault&&!this.collapseByDefault(It)&&(En.collapsedByDefault=!1,it.push(En)),En}const rn=bn({element:It,parent:m,id:sn,hasChildren:Ut});return fe&&fe.viewState.focus&&fe.viewState.focus.indexOf(sn)>-1&&fe.focus.push(rn),fe&&fe.viewState.selection&&fe.viewState.selection.indexOf(sn)>-1&&fe.selection.push(rn),fe&&fe.viewState.expanded&&fe.viewState.expanded.indexOf(sn)>-1?it.push(rn):Ut&&this.collapseByDefault&&!this.collapseByDefault(It)&&(rn.collapsedByDefault=!1,it.push(rn)),rn});for(const It of Te.values())Ce(It,Ut=>this.nodes.delete(Ut.element));for(const It of Ct)this.nodes.set(It.element,It);return m.children.splice(0,m.children.length,...Ct),m!==this.root&&this.autoExpandSingleChildren&&Ct.length===1&&it.length===0&&(Ct[0].collapsedByDefault=!1,it.push(Ct[0])),it}render(m,B,ee){const fe=m.children.map(Te=>this.asTreeElement(Te,B)),Ie=ee&&Object.assign(Object.assign({},ee),{diffIdentityProvider:ee.diffIdentityProvider&&{getId(Te){return ee.diffIdentityProvider.getId(Te.element)}}});this.tree.setChildren(m===this.root?null:m,fe,Ie),m!==this.root&&this.tree.setCollapsible(m,m.hasChildren),this._onDidRender.fire()}asTreeElement(m,B){if(m.stale)return{element:m,collapsible:m.hasChildren,collapsed:!0};let ee;return B&&B.viewState.expanded&&m.id&&B.viewState.expanded.indexOf(m.id)>-1?ee=!1:ee=m.collapsedByDefault,m.collapsedByDefault=void 0,{element:m,children:m.hasChildren?le.$.map(m.children,fe=>this.asTreeElement(fe,B)):[],collapsible:m.hasChildren,collapsed:ee}}processChildren(m){return this.sorter&&(m=[...m].sort(this.sorter.compare.bind(this.sorter))),m}dispose(){this.disposables.dispose()}}class Qt{constructor(m){this.node=m}get element(){return{elements:this.node.element.elements.map(m=>m.element),incompressible:this.node.element.incompressible}}get children(){return this.node.children.map(m=>new Qt(m))}get depth(){return this.node.depth}get visibleChildrenCount(){return this.node.visibleChildrenCount}get visibleChildIndex(){return this.node.visibleChildIndex}get collapsible(){return this.node.collapsible}get collapsed(){return this.node.collapsed}get visible(){return this.node.visible}get filterData(){return this.node.filterData}}class en{constructor(m,B,ee,fe){this.renderer=m,this.nodeMapper=B,this.compressibleNodeMapperProvider=ee,this.onDidChangeTwistieState=fe,this.renderedNodes=new Map,this.disposables=[],this.templateId=m.templateId}renderTemplate(m){return{templateData:this.renderer.renderTemplate(m)}}renderElement(m,B,ee,fe){this.renderer.renderElement(this.nodeMapper.map(m),B,ee.templateData,fe)}renderCompressedElements(m,B,ee,fe){this.renderer.renderCompressedElements(this.compressibleNodeMapperProvider().map(m),B,ee.templateData,fe)}renderTwistie(m,B){return m.slow?(B.classList.add(...oe.lA.treeItemLoading.classNamesArray),!0):(B.classList.remove(...oe.lA.treeItemLoading.classNamesArray),!1)}disposeElement(m,B,ee,fe){var Ie,Te;(Te=(Ie=this.renderer).disposeElement)===null||Te===void 0||Te.call(Ie,this.nodeMapper.map(m),B,ee.templateData,fe)}disposeCompressedElements(m,B,ee,fe){var Ie,Te;(Te=(Ie=this.renderer).disposeCompressedElements)===null||Te===void 0||Te.call(Ie,this.compressibleNodeMapperProvider().map(m),B,ee.templateData,fe)}disposeTemplate(m){this.renderer.disposeTemplate(m.templateData)}dispose(){this.renderedNodes.clear(),this.disposables=(0,L.B9)(this.disposables)}}function vn(F){const m=F&&Ve(F);return m&&Object.assign(Object.assign({},m),{keyboardNavigationLabelProvider:m.keyboardNavigationLabelProvider&&Object.assign(Object.assign({},m.keyboardNavigationLabelProvider),{getCompressedNodeKeyboardNavigationLabel(B){return F.keyboardNavigationLabelProvider.getCompressedNodeKeyboardNavigationLabel(B.map(ee=>ee.element))}})})}class An extends dt{constructor(m,B,ee,fe,Ie,Te,Je={}){super(m,B,ee,Ie,Te,Je),this.compressionDelegate=fe,this.compressibleNodeMapper=new te(it=>new Qt(it)),this.filter=Je.filter}createTree(m,B,ee,fe,Ie){const Te=new Ze(ee),Je=fe.map(Ct=>new en(Ct,this.nodeMapper,()=>this.compressibleNodeMapper,this._onDidChangeNodeSlowState.event)),it=vn(Ie)||{};return new Wt(m,B,Te,Je,it)}asTreeElement(m,B){return Object.assign({incompressible:this.compressionDelegate.isIncompressible(m.element)},super.asTreeElement(m,B))}updateOptions(m={}){this.tree.updateOptions(m)}render(m,B){if(!this.identityProvider)return super.render(m,B);const ee=sn=>this.identityProvider.getId(sn).toString(),fe=sn=>{const tn=new Set;for(const rn of sn){const En=this.tree.getCompressedTreeNode(rn===this.root?null:rn);if(!!En.element)for(const Fn of En.element.elements)tn.add(ee(Fn.element))}return tn},Ie=fe(this.tree.getSelection()),Te=fe(this.tree.getFocus());super.render(m,B);const Je=this.getSelection();let it=!1;const Ct=this.getFocus();let It=!1;const Ut=sn=>{const tn=sn.element;if(tn)for(let rn=0;rn<tn.elements.length;rn++){const En=ee(tn.elements[rn].element),Fn=tn.elements[tn.elements.length-1].element;Ie.has(En)&&Je.indexOf(Fn)===-1&&(Je.push(Fn),it=!0),Te.has(En)&&Ct.indexOf(Fn)===-1&&(Ct.push(Fn),It=!0)}sn.children.forEach(Ut)};Ut(this.tree.getCompressedTreeNode(m===this.root?null:m)),it&&this.setSelection(Je),It&&this.setFocus(Ct)}processChildren(m){return this.filter&&(m=le.$.filter(m,B=>{const ee=this.filter.filter(B,1),fe=On(ee);if(fe===2)throw new Error("Recursive tree visibility not supported in async data compressed trees");return fe===1})),super.processChildren(m)}}function On(F){return typeof F=="boolean"?F?1:0:se(F)?X(F.visibility):X(F)}class In extends Xe{constructor(m,B,ee,fe,Ie,Te={}){super(m,B,ee,fe,Te),this.user=m,this.dataSource=Ie,this.identityProvider=Te.identityProvider}createModel(m,B,ee){return new Pt(m,B,ee)}}var Sn=l(57024),Mn=l(90410),Bn=l(37483),Jn=l(81731),ai=l(88098),jn=l(47397),Ii=l(69940),ci=l(14038),oi=l(4251),wi=l(16597),Li=function(F,m,B,ee){var fe=arguments.length,Ie=fe<3?m:ee===null?ee=Object.getOwnPropertyDescriptor(m,B):ee,Te;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")Ie=Reflect.decorate(F,m,B,ee);else for(var Je=F.length-1;Je>=0;Je--)(Te=F[Je])&&(Ie=(fe<3?Te(Ie):fe>3?Te(m,B,Ie):Te(m,B))||Ie);return fe>3&&Ie&&Object.defineProperty(m,B,Ie),Ie},kn=function(F,m){return function(B,ee){m(B,ee,F)}};const vi=(0,jn.yh)("listService");let Si=class{constructor(m){this._themeService=m,this.disposables=new L.SL,this.lists=[],this._lastFocusedWidget=void 0,this._hasCreatedStyleController=!1}get lastFocusedList(){return this._lastFocusedWidget}setLastFocusedList(m){var B,ee;m!==this._lastFocusedWidget&&((B=this._lastFocusedWidget)===null||B===void 0||B.getHTMLElement().classList.remove("last-focused"),this._lastFocusedWidget=m,(ee=this._lastFocusedWidget)===null||ee===void 0||ee.getHTMLElement().classList.add("last-focused"))}register(m,B){if(!this._hasCreatedStyleController){this._hasCreatedStyleController=!0;const fe=new P.wD((0,C.dS)(),"");this.disposables.add((0,oi.Jl)(fe,this._themeService))}if(this.lists.some(fe=>fe.widget===m))throw new Error("Cannot register the same widget multiple times");const ee={widget:m,extraContextKeys:B};return this.lists.push(ee),m.getHTMLElement()===document.activeElement&&this.setLastFocusedList(m),(0,L.F8)(m.onDidFocus(()=>this.setLastFocusedList(m)),(0,L.OF)(()=>this.lists.splice(this.lists.indexOf(ee),1)),m.onDidDispose(()=>{this.lists=this.lists.filter(fe=>fe!==ee),this._lastFocusedWidget===m&&this.setLastFocusedList(void 0)}))}dispose(){this.disposables.dispose()}};Si=Li([kn(0,wi.XE)],Si);const Ye=new Bn.uy("listFocus",!0),Tt=new Bn.uy("listSupportsMultiselect",!0),nn=Bn.Ao.and(Ye,Bn.Ao.not(Jn.d0)),hn=new Bn.uy("listHasSelectionOrFocus",!1),Vn=new Bn.uy("listDoubleSelection",!1),Hn=new Bn.uy("listMultiSelection",!1),Ci=new Bn.uy("listSelectionNavigation",!1),qi=new Bn.uy("listSupportsFind",!0),ri=new Bn.uy("treeElementCanCollapse",!1),ms=new Bn.uy("treeElementHasParent",!1),fi=new Bn.uy("treeElementCanExpand",!1),_s=new Bn.uy("treeElementHasChild",!1),bi=new Bn.uy("treeFindOpen",!1),$i="listTypeNavigationMode",Ei="listAutomaticKeyboardNavigation";function Xi(F,m){const B=F.createScoped(m.getHTMLElement());return Ye.bindTo(B),B}const Es="workbench.list.multiSelectModifier",Ks="workbench.list.openMode",gi="workbench.list.horizontalScrolling",bs="workbench.list.defaultFindMode",Di="workbench.list.keyboardNavigation",ws="workbench.tree.indent",uo="workbench.tree.renderIndentGuides",Us="workbench.list.smoothScrolling",$s="workbench.list.mouseWheelScrollSensitivity",cs="workbench.list.fastScrollSensitivity",on="workbench.tree.expandMode";function ts(F){return F.getValue(Es)==="alt"}class Ro extends L.JT{constructor(m){super(),this.configurationService=m,this.useAltAsMultipleSelectionModifier=ts(m),this.registerListeners()}registerListeners(){this._register(this.configurationService.onDidChangeConfiguration(m=>{m.affectsConfiguration(Es)&&(this.useAltAsMultipleSelectionModifier=ts(this.configurationService))}))}isSelectionSingleChangeEvent(m){return this.useAltAsMultipleSelectionModifier?m.browserEvent.altKey:(0,P.Zo)(m)}isSelectionRangeChangeEvent(m){return(0,P.wn)(m)}}function zs(F,m){var B;const ee=F.get(Sn.Ui),fe=F.get(Ii.d),Ie=new L.SL;return[Object.assign(Object.assign({},m),{keyboardNavigationDelegate:{mightProducePrintableCharacter(Je){return fe.mightProducePrintableCharacter(Je)}},smoothScrolling:Boolean(ee.getValue(Us)),mouseWheelScrollSensitivity:ee.getValue($s),fastScrollSensitivity:ee.getValue(cs),multipleSelectionController:(B=m.multipleSelectionController)!==null&&B!==void 0?B:Ie.add(new Ro(ee)),keyboardNavigationEventFilter:xo(fe)}),Ie]}let As=class extends P.aV{constructor(m,B,ee,fe,Ie,Te,Je,it,Ct,It){const Ut=typeof Ie.horizontalScrolling!="undefined"?Ie.horizontalScrolling:Boolean(Ct.getValue(gi)),[sn,tn]=It.invokeFunction(zs,Ie);super(m,B,ee,fe,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,oi.o)(it.getColorTheme(),oi.O2)),sn),{horizontalScrolling:Ut})),this.disposables.add(tn),this.contextKeyService=Xi(Te,this),this.themeService=it,this.listSupportsMultiSelect=Tt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ie.multipleSelectionSupport!==!1),Ci.bindTo(this.contextKeyService).set(Boolean(Ie.selectionNavigation)),this.listHasSelectionOrFocus=hn.bindTo(this.contextKeyService),this.listDoubleSelection=Vn.bindTo(this.contextKeyService),this.listMultiSelection=Hn.bindTo(this.contextKeyService),this.horizontalScrolling=Ie.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ts(Ct),this.disposables.add(this.contextKeyService),this.disposables.add(Je.register(this)),Ie.overrideStyles&&this.updateStyles(Ie.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const En=this.getSelection(),Fn=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(En.length>0||Fn.length>0),this.listMultiSelection.set(En.length>1),this.listDoubleSelection.set(En.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const En=this.getSelection(),Fn=this.getFocus();this.listHasSelectionOrFocus.set(En.length>0||Fn.length>0)})),this.disposables.add(Ct.onDidChangeConfiguration(En=>{En.affectsConfiguration(Es)&&(this._useAltAsMultipleSelectionModifier=ts(Ct));let Fn={};if(En.affectsConfiguration(gi)&&this.horizontalScrolling===void 0){const Nn=Boolean(Ct.getValue(gi));Fn=Object.assign(Object.assign({},Fn),{horizontalScrolling:Nn})}if(En.affectsConfiguration(Us)){const Nn=Boolean(Ct.getValue(Us));Fn=Object.assign(Object.assign({},Fn),{smoothScrolling:Nn})}if(En.affectsConfiguration($s)){const Nn=Ct.getValue($s);Fn=Object.assign(Object.assign({},Fn),{mouseWheelScrollSensitivity:Nn})}if(En.affectsConfiguration(cs)){const Nn=Ct.getValue(cs);Fn=Object.assign(Object.assign({},Fn),{fastScrollSensitivity:Nn})}Object.keys(Fn).length>0&&this.updateOptions(Fn)})),this.navigator=new Ho(this,Object.assign({configurationService:Ct},Ie)),this.disposables.add(this.navigator)}updateOptions(m){super.updateOptions(m),m.overrideStyles&&this.updateStyles(m.overrideStyles),m.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!m.multipleSelectionSupport)}updateStyles(m){var B;(B=this._styler)===null||B===void 0||B.dispose(),this._styler=(0,oi.Jl)(this,this.themeService,m)}dispose(){var m;(m=this._styler)===null||m===void 0||m.dispose(),super.dispose()}};As=Li([kn(5,Bn.i6),kn(6,vi),kn(7,wi.XE),kn(8,Sn.Ui),kn(9,jn.TG)],As);let eo=class extends _{constructor(m,B,ee,fe,Ie,Te,Je,it,Ct,It){const Ut=typeof Ie.horizontalScrolling!="undefined"?Ie.horizontalScrolling:Boolean(Ct.getValue(gi)),[sn,tn]=It.invokeFunction(zs,Ie);super(m,B,ee,fe,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,oi.o)(it.getColorTheme(),oi.O2)),sn),{horizontalScrolling:Ut})),this.disposables=new L.SL,this.disposables.add(tn),this.contextKeyService=Xi(Te,this),this.themeService=it,this.horizontalScrolling=Ie.horizontalScrolling,this.listSupportsMultiSelect=Tt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Ie.multipleSelectionSupport!==!1),Ci.bindTo(this.contextKeyService).set(Boolean(Ie.selectionNavigation)),this._useAltAsMultipleSelectionModifier=ts(Ct),this.disposables.add(this.contextKeyService),this.disposables.add(Je.register(this)),Ie.overrideStyles&&this.updateStyles(Ie.overrideStyles),Ie.overrideStyles&&this.disposables.add((0,oi.Jl)(this,it,Ie.overrideStyles)),this.disposables.add(Ct.onDidChangeConfiguration(En=>{En.affectsConfiguration(Es)&&(this._useAltAsMultipleSelectionModifier=ts(Ct));let Fn={};if(En.affectsConfiguration(gi)&&this.horizontalScrolling===void 0){const Nn=Boolean(Ct.getValue(gi));Fn=Object.assign(Object.assign({},Fn),{horizontalScrolling:Nn})}if(En.affectsConfiguration(Us)){const Nn=Boolean(Ct.getValue(Us));Fn=Object.assign(Object.assign({},Fn),{smoothScrolling:Nn})}if(En.affectsConfiguration($s)){const Nn=Ct.getValue($s);Fn=Object.assign(Object.assign({},Fn),{mouseWheelScrollSensitivity:Nn})}if(En.affectsConfiguration(cs)){const Nn=Ct.getValue(cs);Fn=Object.assign(Object.assign({},Fn),{fastScrollSensitivity:Nn})}Object.keys(Fn).length>0&&this.updateOptions(Fn)})),this.navigator=new Ho(this,Object.assign({configurationService:Ct},Ie)),this.disposables.add(this.navigator)}updateOptions(m){super.updateOptions(m),m.overrideStyles&&this.updateStyles(m.overrideStyles),m.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!m.multipleSelectionSupport)}updateStyles(m){var B;(B=this._styler)===null||B===void 0||B.dispose(),this._styler=(0,oi.Jl)(this,this.themeService,m)}dispose(){var m;(m=this._styler)===null||m===void 0||m.dispose(),this.disposables.dispose(),super.dispose()}};eo=Li([kn(5,Bn.i6),kn(6,vi),kn(7,wi.XE),kn(8,Sn.Ui),kn(9,jn.TG)],eo);let so=class extends D{constructor(m,B,ee,fe,Ie,Te,Je,it,Ct,It,Ut){const sn=typeof Te.horizontalScrolling!="undefined"?Te.horizontalScrolling:Boolean(It.getValue(gi)),[tn,rn]=Ut.invokeFunction(zs,Te);super(m,B,ee,fe,Ie,Object.assign(Object.assign(Object.assign({keyboardSupport:!1},(0,oi.o)(Ct.getColorTheme(),oi.O2)),tn),{horizontalScrolling:sn})),this.disposables.add(rn),this.contextKeyService=Xi(Je,this),this.themeService=Ct,this.listSupportsMultiSelect=Tt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(Te.multipleSelectionSupport!==!1),Ci.bindTo(this.contextKeyService).set(Boolean(Te.selectionNavigation)),this.listHasSelectionOrFocus=hn.bindTo(this.contextKeyService),this.listDoubleSelection=Vn.bindTo(this.contextKeyService),this.listMultiSelection=Hn.bindTo(this.contextKeyService),this.horizontalScrolling=Te.horizontalScrolling,this._useAltAsMultipleSelectionModifier=ts(It),this.disposables.add(this.contextKeyService),this.disposables.add(it.register(this)),Te.overrideStyles&&this.updateStyles(Te.overrideStyles),this.disposables.add(this.onDidChangeSelection(()=>{const Fn=this.getSelection(),Nn=this.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.listHasSelectionOrFocus.set(Fn.length>0||Nn.length>0),this.listMultiSelection.set(Fn.length>1),this.listDoubleSelection.set(Fn.length===2)})})),this.disposables.add(this.onDidChangeFocus(()=>{const Fn=this.getSelection(),Nn=this.getFocus();this.listHasSelectionOrFocus.set(Fn.length>0||Nn.length>0)})),this.disposables.add(It.onDidChangeConfiguration(Fn=>{Fn.affectsConfiguration(Es)&&(this._useAltAsMultipleSelectionModifier=ts(It));let Nn={};if(Fn.affectsConfiguration(gi)&&this.horizontalScrolling===void 0){const ni=Boolean(It.getValue(gi));Nn=Object.assign(Object.assign({},Nn),{horizontalScrolling:ni})}if(Fn.affectsConfiguration(Us)){const ni=Boolean(It.getValue(Us));Nn=Object.assign(Object.assign({},Nn),{smoothScrolling:ni})}if(Fn.affectsConfiguration($s)){const ni=It.getValue($s);Nn=Object.assign(Object.assign({},Nn),{mouseWheelScrollSensitivity:ni})}if(Fn.affectsConfiguration(cs)){const ni=It.getValue(cs);Nn=Object.assign(Object.assign({},Nn),{fastScrollSensitivity:ni})}Object.keys(Nn).length>0&&this.updateOptions(Nn)})),this.navigator=new es(this,Object.assign({configurationService:It},Te)),this.disposables.add(this.navigator)}updateOptions(m){super.updateOptions(m),m.overrideStyles&&this.updateStyles(m.overrideStyles),m.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!m.multipleSelectionSupport)}updateStyles(m){var B;(B=this._styler)===null||B===void 0||B.dispose(),this._styler=(0,oi.Jl)(this,this.themeService,m)}dispose(){var m;(m=this._styler)===null||m===void 0||m.dispose(),this.disposables.dispose(),super.dispose()}};so=Li([kn(6,Bn.i6),kn(7,vi),kn(8,wi.XE),kn(9,Sn.Ui),kn(10,jn.TG)],so);class oo extends L.JT{constructor(m,B){var ee;super(),this.widget=m,this._onDidOpen=this._register(new W.Q5),this.onDidOpen=this._onDidOpen.event,this._register(W.ju.filter(this.widget.onDidChangeSelection,fe=>fe.browserEvent instanceof KeyboardEvent)(fe=>this.onSelectionFromKeyboard(fe))),this._register(this.widget.onPointer(fe=>this.onPointer(fe.element,fe.browserEvent))),this._register(this.widget.onMouseDblClick(fe=>this.onMouseDblClick(fe.element,fe.browserEvent))),typeof(B==null?void 0:B.openOnSingleClick)!="boolean"&&(B==null?void 0:B.configurationService)?(this.openOnSingleClick=(B==null?void 0:B.configurationService.getValue(Ks))!=="doubleClick",this._register(B==null?void 0:B.configurationService.onDidChangeConfiguration(()=>{this.openOnSingleClick=(B==null?void 0:B.configurationService.getValue(Ks))!=="doubleClick"}))):this.openOnSingleClick=(ee=B==null?void 0:B.openOnSingleClick)!==null&&ee!==void 0?ee:!0}onSelectionFromKeyboard(m){if(m.elements.length!==1)return;const B=m.browserEvent,ee=typeof B.preserveFocus=="boolean"?B.preserveFocus:!0,fe=typeof B.pinned=="boolean"?B.pinned:!ee,Ie=!1;this._open(this.getSelectedElement(),ee,fe,Ie,m.browserEvent)}onPointer(m,B){if(!this.openOnSingleClick||B.detail===2)return;const fe=B.button===1,Ie=!0,Te=fe,Je=B.ctrlKey||B.metaKey||B.altKey;this._open(m,Ie,Te,Je,B)}onMouseDblClick(m,B){if(!B)return;const ee=B.target;if(ee.classList.contains("monaco-tl-twistie")||ee.classList.contains("monaco-icon-label")&&ee.classList.contains("folder-icon")&&B.offsetX<16)return;const Ie=!1,Te=!0,Je=B.ctrlKey||B.metaKey||B.altKey;this._open(m,Ie,Te,Je,B)}_open(m,B,ee,fe,Ie){!m||this._onDidOpen.fire({editorOptions:{preserveFocus:B,pinned:ee,revealIfVisible:!0},sideBySide:fe,element:m,browserEvent:Ie})}}class Ho extends oo{constructor(m,B){super(m,B),this.widget=m}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class es extends oo{constructor(m,B){super(m,B)}getSelectedElement(){return this.widget.getSelectedElements()[0]}}class as extends oo{constructor(m,B){super(m,B)}getSelectedElement(){var m;return(m=this.widget.getSelection()[0])!==null&&m!==void 0?m:void 0}}function xo(F){let m=!1;return B=>{if(B.toKeybinding().isModifierKey())return!1;if(m)return m=!1,!1;const ee=F.softDispatch(B,B.target);return ee!=null&&ee.enterChord?(m=!0,!1):(m=!1,!ee)}}let Yi=class extends yt{constructor(m,B,ee,fe,Ie,Te,Je,it,Ct,It){const{options:Ut,getTypeNavigationMode:sn,disposable:tn}=Te.invokeFunction(ki,Ie);super(m,B,ee,fe,Ut),this.disposables.add(tn),this.internals=new we(this,Ie,sn,Ie.overrideStyles,Je,it,Ct,It),this.disposables.add(this.internals)}updateOptions(m){super.updateOptions(m),this.internals.updateOptions(m)}};Yi=Li([kn(5,jn.TG),kn(6,Bn.i6),kn(7,vi),kn(8,wi.XE),kn(9,Sn.Ui)],Yi);let Ln=class extends Wt{constructor(m,B,ee,fe,Ie,Te,Je,it,Ct,It){const{options:Ut,getTypeNavigationMode:sn,disposable:tn}=Te.invokeFunction(ki,Ie);super(m,B,ee,fe,Ut),this.disposables.add(tn),this.internals=new we(this,Ie,sn,Ie.overrideStyles,Je,it,Ct,It),this.disposables.add(this.internals)}updateOptions(m={}){super.updateOptions(m),m.overrideStyles&&this.internals.updateStyleOverrides(m.overrideStyles),this.internals.updateOptions(m)}};Ln=Li([kn(5,jn.TG),kn(6,Bn.i6),kn(7,vi),kn(8,wi.XE),kn(9,Sn.Ui)],Ln);let hi=class extends In{constructor(m,B,ee,fe,Ie,Te,Je,it,Ct,It,Ut){const{options:sn,getTypeNavigationMode:tn,disposable:rn}=Je.invokeFunction(ki,Te);super(m,B,ee,fe,Ie,sn),this.disposables.add(rn),this.internals=new we(this,Te,tn,Te.overrideStyles,it,Ct,It,Ut),this.disposables.add(this.internals)}updateOptions(m={}){super.updateOptions(m),m.overrideStyles&&this.internals.updateStyleOverrides(m.overrideStyles),this.internals.updateOptions(m)}};hi=Li([kn(6,jn.TG),kn(7,Bn.i6),kn(8,vi),kn(9,wi.XE),kn(10,Sn.Ui)],hi);let si=class extends dt{constructor(m,B,ee,fe,Ie,Te,Je,it,Ct,It,Ut){const{options:sn,getTypeNavigationMode:tn,disposable:rn}=Je.invokeFunction(ki,Te);super(m,B,ee,fe,Ie,sn),this.disposables.add(rn),this.internals=new we(this,Te,tn,Te.overrideStyles,it,Ct,It,Ut),this.disposables.add(this.internals)}get onDidOpen(){return this.internals.onDidOpen}updateOptions(m={}){super.updateOptions(m),m.overrideStyles&&this.internals.updateStyleOverrides(m.overrideStyles),this.internals.updateOptions(m)}};si=Li([kn(6,jn.TG),kn(7,Bn.i6),kn(8,vi),kn(9,wi.XE),kn(10,Sn.Ui)],si);let ns=class extends An{constructor(m,B,ee,fe,Ie,Te,Je,it,Ct,It,Ut,sn){const{options:tn,getTypeNavigationMode:rn,disposable:En}=it.invokeFunction(ki,Je);super(m,B,ee,fe,Ie,Te,tn),this.disposables.add(En),this.internals=new we(this,Je,rn,Je.overrideStyles,Ct,It,Ut,sn),this.disposables.add(this.internals)}updateOptions(m){super.updateOptions(m),this.internals.updateOptions(m)}};ns=Li([kn(7,jn.TG),kn(8,Bn.i6),kn(9,vi),kn(10,wi.XE),kn(11,Sn.Ui)],ns);function Xs(F){const m=F.getValue(bs);if(m==="highlight")return Et.Highlight;if(m==="filter")return Et.Filter;const B=F.getValue(Di);if(B==="simple"||B==="highlight")return Et.Highlight;if(B==="filter")return Et.Filter}function ki(F,m){var B;const ee=F.get(Sn.Ui),fe=F.get(ai.u),Ie=F.get(Bn.i6),Te=F.get(jn.TG),Je=()=>{const sn=Ie.getContextKeyValue($i);if(sn==="automatic")return P.AA.Automatic;if(sn==="trigger"||Ie.getContextKeyValue(Ei)===!1)return P.AA.Trigger},it=m.horizontalScrolling!==void 0?m.horizontalScrolling:Boolean(ee.getValue(gi)),[Ct,It]=Te.invokeFunction(zs,m),Ut=m.additionalScrollHeight;return{getTypeNavigationMode:Je,disposable:It,options:Object.assign(Object.assign({keyboardSupport:!1},Ct),{indent:typeof ee.getValue(ws)=="number"?ee.getValue(ws):void 0,renderIndentGuides:ee.getValue(uo),smoothScrolling:Boolean(ee.getValue(Us)),defaultFindMode:Xs(ee),horizontalScrolling:it,additionalScrollHeight:Ut,hideTwistiesOfChildlessElements:m.hideTwistiesOfChildlessElements,expandOnlyOnTwistieClick:(B=m.expandOnlyOnTwistieClick)!==null&&B!==void 0?B:ee.getValue(on)==="doubleClick",contextViewProvider:fe})}}let we=class{constructor(m,B,ee,fe,Ie,Te,Je,it){var Ct;this.tree=m,this.themeService=Je,this.disposables=[],this.contextKeyService=Xi(Ie,m),this.listSupportsMultiSelect=Tt.bindTo(this.contextKeyService),this.listSupportsMultiSelect.set(B.multipleSelectionSupport!==!1),Ci.bindTo(this.contextKeyService).set(Boolean(B.selectionNavigation)),this.listSupportFindWidget=qi.bindTo(this.contextKeyService),this.listSupportFindWidget.set((Ct=B.findWidgetEnabled)!==null&&Ct!==void 0?Ct:!0),this.hasSelectionOrFocus=hn.bindTo(this.contextKeyService),this.hasDoubleSelection=Vn.bindTo(this.contextKeyService),this.hasMultiSelection=Hn.bindTo(this.contextKeyService),this.treeElementCanCollapse=ri.bindTo(this.contextKeyService),this.treeElementHasParent=ms.bindTo(this.contextKeyService),this.treeElementCanExpand=fi.bindTo(this.contextKeyService),this.treeElementHasChild=_s.bindTo(this.contextKeyService),this.treeFindOpen=bi.bindTo(this.contextKeyService),this._useAltAsMultipleSelectionModifier=ts(it),this.updateStyleOverrides(fe);const Ut=()=>{const tn=m.getFocus()[0];if(!tn)return;const rn=m.getNode(tn);this.treeElementCanCollapse.set(rn.collapsible&&!rn.collapsed),this.treeElementHasParent.set(!!m.getParentElement(tn)),this.treeElementCanExpand.set(rn.collapsible&&rn.collapsed),this.treeElementHasChild.set(!!m.getFirstElementChild(tn))},sn=new Set;sn.add($i),sn.add(Ei),this.disposables.push(this.contextKeyService,Te.register(m),m.onDidChangeSelection(()=>{const tn=m.getSelection(),rn=m.getFocus();this.contextKeyService.bufferChangeEvents(()=>{this.hasSelectionOrFocus.set(tn.length>0||rn.length>0),this.hasMultiSelection.set(tn.length>1),this.hasDoubleSelection.set(tn.length===2)})}),m.onDidChangeFocus(()=>{const tn=m.getSelection(),rn=m.getFocus();this.hasSelectionOrFocus.set(tn.length>0||rn.length>0),Ut()}),m.onDidChangeCollapseState(Ut),m.onDidChangeModel(Ut),m.onDidChangeFindOpenState(tn=>this.treeFindOpen.set(tn)),it.onDidChangeConfiguration(tn=>{let rn={};if(tn.affectsConfiguration(Es)&&(this._useAltAsMultipleSelectionModifier=ts(it)),tn.affectsConfiguration(ws)){const En=it.getValue(ws);rn=Object.assign(Object.assign({},rn),{indent:En})}if(tn.affectsConfiguration(uo)){const En=it.getValue(uo);rn=Object.assign(Object.assign({},rn),{renderIndentGuides:En})}if(tn.affectsConfiguration(Us)){const En=Boolean(it.getValue(Us));rn=Object.assign(Object.assign({},rn),{smoothScrolling:En})}if((tn.affectsConfiguration(bs)||tn.affectsConfiguration(Di))&&m.updateOptions({defaultFindMode:Xs(it)}),tn.affectsConfiguration(gi)&&B.horizontalScrolling===void 0){const En=Boolean(it.getValue(gi));rn=Object.assign(Object.assign({},rn),{horizontalScrolling:En})}if(tn.affectsConfiguration(on)&&B.expandOnlyOnTwistieClick===void 0&&(rn=Object.assign(Object.assign({},rn),{expandOnlyOnTwistieClick:it.getValue(on)==="doubleClick"})),tn.affectsConfiguration($s)){const En=it.getValue($s);rn=Object.assign(Object.assign({},rn),{mouseWheelScrollSensitivity:En})}if(tn.affectsConfiguration(cs)){const En=it.getValue(cs);rn=Object.assign(Object.assign({},rn),{fastScrollSensitivity:En})}Object.keys(rn).length>0&&m.updateOptions(rn)}),this.contextKeyService.onDidChangeContext(tn=>{tn.affectsSome(sn)&&m.updateOptions({typeNavigationMode:ee()})})),this.navigator=new as(m,Object.assign({configurationService:it},B)),this.disposables.push(this.navigator)}get onDidOpen(){return this.navigator.onDidOpen}updateOptions(m){m.multipleSelectionSupport!==void 0&&this.listSupportsMultiSelect.set(!!m.multipleSelectionSupport)}updateStyleOverrides(m){(0,L.B9)(this.styler),this.styler=m?(0,oi.Jl)(this.tree,this.themeService,m):L.JT.None}dispose(){this.disposables=(0,L.B9)(this.disposables),(0,L.B9)(this.styler),this.styler=void 0}};we=Li([kn(4,Bn.i6),kn(5,vi),kn(6,wi.XE),kn(7,Sn.Ui)],we),ci.B.as(Mn.IP.Configuration).registerConfiguration({id:"workbench",order:7,title:(0,H.NC)("workbenchConfigurationTitle","Workbench"),type:"object",properties:{[Es]:{type:"string",enum:["ctrlCmd","alt"],markdownEnumDescriptions:[(0,H.NC)("multiSelectModifier.ctrlCmd","Maps to `Control` on Windows and Linux and to `Command` on macOS."),(0,H.NC)("multiSelectModifier.alt","Maps to `Alt` on Windows and Linux and to `Option` on macOS.")],default:"ctrlCmd",description:(0,H.NC)({key:"multiSelectModifier",comment:["- `ctrlCmd` refers to a value the setting can take and should not be localized.","- `Control` and `Command` refer to the modifier keys Ctrl or Cmd on the keyboard and can be localized."]},"The modifier to be used to add an item in trees and lists to a multi-selection with the mouse (for example in the explorer, open editors and scm view). The 'Open to Side' mouse gestures - if supported - will adapt such that they do not conflict with the multiselect modifier.")},[Ks]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,H.NC)({key:"openModeModifier",comment:["`singleClick` and `doubleClick` refers to a value the setting can take and should not be localized."]},"Controls how to open items in trees and lists using the mouse (if supported). Note that some trees and lists might choose to ignore this setting if it is not applicable.")},[gi]:{type:"boolean",default:!1,description:(0,H.NC)("horizontalScrolling setting","Controls whether lists and trees support horizontal scrolling in the workbench. Warning: turning on this setting has a performance implication.")},[ws]:{type:"number",default:8,minimum:4,maximum:40,description:(0,H.NC)("tree indent setting","Controls tree indentation in pixels.")},[uo]:{type:"string",enum:["none","onHover","always"],default:"onHover",description:(0,H.NC)("render tree indent guides","Controls whether the tree should render indent guides.")},[Us]:{type:"boolean",default:!1,description:(0,H.NC)("list smoothScrolling setting","Controls whether lists and trees have smooth scrolling.")},[$s]:{type:"number",default:1,markdownDescription:(0,H.NC)("Mouse Wheel Scroll Sensitivity","A multiplier to be used on the `deltaX` and `deltaY` of mouse wheel scroll events.")},[cs]:{type:"number",default:5,description:(0,H.NC)("Fast Scroll Sensitivity","Scrolling speed multiplier when pressing `Alt`.")},[bs]:{type:"string",enum:["highlight","filter"],enumDescriptions:[(0,H.NC)("defaultFindModeSettingKey.highlight","Highlight elements when searching. Further up and down navigation will traverse only the highlighted elements."),(0,H.NC)("defaultFindModeSettingKey.filter","Filter elements when searching.")],default:"highlight",description:(0,H.NC)("defaultFindModeSettingKey","Controls the default find mode for lists and trees in the workbench.")},[Di]:{type:"string",enum:["simple","highlight","filter"],enumDescriptions:[(0,H.NC)("keyboardNavigationSettingKey.simple","Simple keyboard navigation focuses elements which match the keyboard input. Matching is done only on prefixes."),(0,H.NC)("keyboardNavigationSettingKey.highlight","Highlight keyboard navigation highlights elements which match the keyboard input. Further up and down navigation will traverse only the highlighted elements."),(0,H.NC)("keyboardNavigationSettingKey.filter","Filter keyboard navigation will filter out and hide all the elements which do not match the keyboard input.")],default:"highlight",description:(0,H.NC)("keyboardNavigationSettingKey","Controls the keyboard navigation style for lists and trees in the workbench. Can be simple, highlight and filter."),deprecated:!0,deprecationMessage:(0,H.NC)("keyboardNavigationSettingKeyDeprecated","Please use 'workbench.list.defaultFindMode' instead.")},[on]:{type:"string",enum:["singleClick","doubleClick"],default:"singleClick",description:(0,H.NC)("expand mode","Controls how tree folders are expanded when clicking the folder names. Note that some trees and lists might choose to ignore this setting if it is not applicable.")}}})},36677:function(nt,xe,l){"use strict";l.d(xe,{$V:function(){return T},VZ:function(){return W},in:function(){return L},kw:function(){return A}});var C=l(60218),d=l(94214),j=l(47397);const W=(0,j.yh)("logService");var L;(function(S){S[S.Trace=0]="Trace",S[S.Debug=1]="Debug",S[S.Info=2]="Info",S[S.Warning=3]="Warning",S[S.Error=4]="Error",S[S.Critical=5]="Critical",S[S.Off=6]="Off"})(L||(L={}));const z=L.Info;class P extends d.JT{constructor(){super(...arguments),this.level=z,this._onDidChangeLogLevel=this._register(new C.Q5)}setLevel(_){this.level!==_&&(this.level=_,this._onDidChangeLogLevel.fire(this.level))}getLevel(){return this.level}}class A extends P{constructor(_=z){super(),this.setLevel(_)}trace(_,...y){this.getLevel()<=L.Trace&&console.log("%cTRACE","color: #888",_,...y)}debug(_,...y){this.getLevel()<=L.Debug&&console.log("%cDEBUG","background: #eee; color: #888",_,...y)}info(_,...y){this.getLevel()<=L.Info&&console.log("%c INFO","color: #33f",_,...y)}error(_,...y){this.getLevel()<=L.Error&&console.log("%c  ERR","color: #f33",_,...y)}dispose(){}}class T extends d.JT{constructor(_){super(),this.logger=_,this._register(_)}getLevel(){return this.logger.getLevel()}trace(_,...y){this.logger.trace(_,...y)}debug(_,...y){this.logger.debug(_,...y)}info(_,...y){this.logger.info(_,...y)}error(_,...y){this.logger.error(_,...y)}}},44806:function(nt,xe,l){"use strict";l.d(xe,{H0:function(){return L},ZL:function(){return W},lT:function(){return z}});var C=l(85669),d=l(83218),j=l(47397),W;(function(P){P[P.Hint=1]="Hint",P[P.Info=2]="Info",P[P.Warning=4]="Warning",P[P.Error=8]="Error"})(W||(W={})),function(P){function A(u,a){return a-u}P.compare=A;const T=Object.create(null);T[P.Error]=(0,d.NC)("sev.error","Error"),T[P.Warning]=(0,d.NC)("sev.warning","Warning"),T[P.Info]=(0,d.NC)("sev.info","Info");function S(u){return T[u]||""}P.toString=S;function _(u){switch(u){case C.Z.Error:return P.Error;case C.Z.Warning:return P.Warning;case C.Z.Info:return P.Info;case C.Z.Ignore:return P.Hint}}P.fromSeverity=_;function y(u){switch(u){case P.Error:return C.Z.Error;case P.Warning:return C.Z.Warning;case P.Info:return C.Z.Info;case P.Hint:return C.Z.Ignore}}P.toSeverity=y}(W||(W={}));var L;(function(P){const A="";function T(_){return S(_,!0)}P.makeKey=T;function S(_,y){const u=[A];return _.source?u.push(_.source.replace("\xA6","\\\xA6")):u.push(A),_.code?typeof _.code=="string"?u.push(_.code.replace("\xA6","\\\xA6")):u.push(_.code.value.replace("\xA6","\\\xA6")):u.push(A),_.severity!==void 0&&_.severity!==null?u.push(W.toString(_.severity)):u.push(A),_.message&&y?u.push(_.message.replace("\xA6","\\\xA6")):u.push(A),_.startLineNumber!==void 0&&_.startLineNumber!==null?u.push(_.startLineNumber.toString()):u.push(A),_.startColumn!==void 0&&_.startColumn!==null?u.push(_.startColumn.toString()):u.push(A),_.endLineNumber!==void 0&&_.endLineNumber!==null?u.push(_.endLineNumber.toString()):u.push(A),_.endColumn!==void 0&&_.endColumn!==null?u.push(_.endColumn.toString()):u.push(A),u.push(A),u.join("\xA6")}P.makeKeyOptionalMessage=S})(L||(L={}));const z=(0,j.yh)("markerService")},21166:function(nt,xe,l){"use strict";l.d(xe,{EO:function(){return L},lT:function(){return W},zb:function(){return j}});var C=l(85669),d=l(47397),j=C.Z;const W=(0,d.yh)("notificationService");class L{}},89161:function(nt,xe,l){"use strict";l.d(xe,{Gs:function(){return T},SW:function(){return P},v4:function(){return z},xI:function(){return S},xn:function(){return A}});var C=l(94214),d=l(22297),j=l(92770),W=l(47397),L=function(_,y,u,a){function b(D){return D instanceof u?D:new u(function(N){N(D)})}return new(u||(u=Promise))(function(D,N){function I(R){try{O(a.next(R))}catch(M){N(M)}}function E(R){try{O(a.throw(R))}catch(M){N(M)}}function O(R){R.done?D(R.value):b(R.value).then(I,E)}O((a=a.apply(_,y||[])).next())})};const z=(0,W.yh)("openerService"),P=Object.freeze({_serviceBrand:void 0,registerOpener(){return C.JT.None},registerValidator(){return C.JT.None},registerExternalUriResolver(){return C.JT.None},setDefaultExternalOpener(){},registerExternalOpener(){return C.JT.None},open(){return L(this,void 0,void 0,function*(){return!1})},resolveExternalUri(_){return L(this,void 0,void 0,function*(){return{resolved:_,dispose(){}}})}});function A(_,y){return j.o.isUri(_)?(0,d.qq)(_.scheme,y):(0,d.ok)(_,y+":")}function T(_,...y){return y.some(u=>A(_,u))}function S(_){let y;const u=/^L?(\d+)(?:,(\d+))?(-L?(\d+)(?:,(\d+))?)?/.exec(_.fragment);return u&&(y={startLineNumber:parseInt(u[1]),startColumn:u[2]?parseInt(u[2]):1,endLineNumber:u[4]?parseInt(u[4]):void 0,endColumn:u[4]?u[5]?parseInt(u[5]):1:void 0},_=_.with({fragment:""})),{selection:y,uri:_}}},4061:function(nt,xe,l){"use strict";l.d(xe,{Ex:function(){return W},R9:function(){return d},ek:function(){return L}});var C=l(47397);const d=(0,C.yh)("progressService"),j=Object.freeze({total(){},worked(){},done(){}});class W{constructor(P){this.callback=P}report(P){this._value=P,this.callback(this._value)}}W.None=Object.freeze({report(){}});const L=(0,C.yh)("editorProgressService")},88845:function(nt,xe,l){"use strict";l.d(xe,{IP:function(){return L},Ry:function(){return W}});var C=l(84553),d=l(94214),j=l(14038),W;(function(P){P[P.PRESERVE=0]="PRESERVE",P[P.LAST=1]="LAST"})(W||(W={}));const L={Quickaccess:"workbench.contributions.quickaccess"};class z{constructor(){this.providers=[],this.defaultProvider=void 0}registerQuickAccessProvider(A){return A.prefix.length===0?this.defaultProvider=A:this.providers.push(A),this.providers.sort((T,S)=>S.prefix.length-T.prefix.length),(0,d.OF)(()=>{this.providers.splice(this.providers.indexOf(A),1),this.defaultProvider===A&&(this.defaultProvider=void 0)})}getQuickAccessProviders(){return(0,C.kX)([this.defaultProvider,...this.providers])}getQuickAccessProvider(A){return A&&this.providers.find(S=>A.startsWith(S.prefix))||void 0||this.defaultProvider}}j.B.add(L.Quickaccess,new z)},47279:function(nt,xe,l){"use strict";l.d(xe,{eJ:function(){return j},jG:function(){return d.jG}});var C=l(47397),d=l(50901);const j=(0,C.yh)("quickInputService")},14038:function(nt,xe,l){"use strict";l.d(xe,{B:function(){return W}});var C=l(15621),d=l(17014);class j{constructor(){this.data=new Map}add(z,P){C.ok(d.HD(z)),C.ok(d.Kn(P)),C.ok(!this.data.has(z),"There is already an extension with this id"),this.data.set(z,P)}as(z){return this.data.get(z)||null}}const W=new j},12751:function(nt,xe,l){"use strict";l.d(xe,{Uy:function(){return _},vm:function(){return a},fk:function(){return y}});var C=l(60218),d=l(94214),j=l(17014),W=l(84180),L=function(b,D,N,I){function E(O){return O instanceof N?O:new N(function(R){R(O)})}return new(N||(N=Promise))(function(O,R){function M(te){try{Z(I.next(te))}catch(de){R(de)}}function K(te){try{Z(I.throw(te))}catch(de){R(de)}}function Z(te){te.done?O(te.value):E(te.value).then(M,K)}Z((I=I.apply(b,D||[])).next())})},z;(function(b){b[b.None=0]="None",b[b.Initialized=1]="Initialized",b[b.Closed=2]="Closed"})(z||(z={}));class P extends d.JT{constructor(D,N=Object.create(null)){super(),this.database=D,this.options=N,this._onDidChangeStorage=this._register(new C.Q5),this.onDidChangeStorage=this._onDidChangeStorage.event,this.state=z.None,this.cache=new Map,this.flushDelayer=new W.rH(P.DEFAULT_FLUSH_DELAY),this.pendingDeletes=new Set,this.pendingInserts=new Map,this.whenFlushedCallbacks=[],this.registerListeners()}registerListeners(){this._register(this.database.onDidChangeItemsExternal(D=>this.onDidChangeItemsExternal(D)))}onDidChangeItemsExternal(D){var N,I;(N=D.changed)===null||N===void 0||N.forEach((E,O)=>this.accept(O,E)),(I=D.deleted)===null||I===void 0||I.forEach(E=>this.accept(E,void 0))}accept(D,N){if(this.state===z.Closed)return;let I=!1;(0,j.Jp)(N)?I=this.cache.delete(D):this.cache.get(D)!==N&&(this.cache.set(D,N),I=!0),I&&this._onDidChangeStorage.fire(D)}get(D,N){const I=this.cache.get(D);return(0,j.Jp)(I)?N:I}getBoolean(D,N){const I=this.get(D);return(0,j.Jp)(I)?N:I==="true"}getNumber(D,N){const I=this.get(D);return(0,j.Jp)(I)?N:parseInt(I,10)}set(D,N){return L(this,void 0,void 0,function*(){if(this.state===z.Closed)return;if((0,j.Jp)(N))return this.delete(D);const I=String(N);if(this.cache.get(D)!==I)return this.cache.set(D,I),this.pendingInserts.set(D,I),this.pendingDeletes.delete(D),this._onDidChangeStorage.fire(D),this.doFlush()})}delete(D){return L(this,void 0,void 0,function*(){if(!(this.state===z.Closed||!this.cache.delete(D)))return this.pendingDeletes.has(D)||this.pendingDeletes.add(D),this.pendingInserts.delete(D),this._onDidChangeStorage.fire(D),this.doFlush()})}get hasPending(){return this.pendingInserts.size>0||this.pendingDeletes.size>0}flushPending(){return L(this,void 0,void 0,function*(){if(!this.hasPending)return;const D={insert:this.pendingInserts,delete:this.pendingDeletes};return this.pendingDeletes=new Set,this.pendingInserts=new Map,this.database.updateItems(D).finally(()=>{var N;if(!this.hasPending)for(;this.whenFlushedCallbacks.length;)(N=this.whenFlushedCallbacks.pop())===null||N===void 0||N()})})}doFlush(D){return L(this,void 0,void 0,function*(){return this.flushDelayer.trigger(()=>this.flushPending(),D)})}dispose(){this.flushDelayer.dispose(),super.dispose()}}P.DEFAULT_FLUSH_DELAY=100;class A{constructor(){this.onDidChangeItemsExternal=C.ju.None,this.items=new Map}updateItems(D){var N,I;return L(this,void 0,void 0,function*(){(N=D.insert)===null||N===void 0||N.forEach((E,O)=>this.items.set(O,E)),(I=D.delete)===null||I===void 0||I.forEach(E=>this.items.delete(E))})}}var T=l(47397);const S="__$__targetStorageMarker",_=(0,T.yh)("storageService");var y;(function(b){b[b.NONE=0]="NONE",b[b.SHUTDOWN=1]="SHUTDOWN"})(y||(y={}));class u extends d.JT{constructor(D={flushInterval:u.DEFAULT_FLUSH_INTERVAL}){super(),this.options=D,this._onDidChangeValue=this._register(new C.K3),this.onDidChangeValue=this._onDidChangeValue.event,this._onDidChangeTarget=this._register(new C.K3),this._onWillSaveState=this._register(new C.Q5),this.onWillSaveState=this._onWillSaveState.event,this._workspaceKeyTargets=void 0,this._profileKeyTargets=void 0,this._applicationKeyTargets=void 0}emitDidChangeValue(D,N){if(N===S){switch(D){case-1:this._applicationKeyTargets=void 0;break;case 0:this._profileKeyTargets=void 0;break;case 1:this._workspaceKeyTargets=void 0;break}this._onDidChangeTarget.fire({scope:D})}else this._onDidChangeValue.fire({scope:D,key:N,target:this.getKeyTargets(D)[N]})}get(D,N,I){var E;return(E=this.getStorage(N))===null||E===void 0?void 0:E.get(D,I)}getBoolean(D,N,I){var E;return(E=this.getStorage(N))===null||E===void 0?void 0:E.getBoolean(D,I)}getNumber(D,N,I){var E;return(E=this.getStorage(N))===null||E===void 0?void 0:E.getNumber(D,I)}store(D,N,I,E){if((0,j.Jp)(N)){this.remove(D,I);return}this.withPausedEmitters(()=>{var O;this.updateKeyTarget(D,I,E),(O=this.getStorage(I))===null||O===void 0||O.set(D,N)})}remove(D,N){this.withPausedEmitters(()=>{var I;this.updateKeyTarget(D,N,void 0),(I=this.getStorage(N))===null||I===void 0||I.delete(D)})}withPausedEmitters(D){this._onDidChangeValue.pause(),this._onDidChangeTarget.pause();try{D()}finally{this._onDidChangeValue.resume(),this._onDidChangeTarget.resume()}}updateKeyTarget(D,N,I){var E,O;const R=this.getKeyTargets(N);typeof I=="number"?R[D]!==I&&(R[D]=I,(E=this.getStorage(N))===null||E===void 0||E.set(S,JSON.stringify(R))):typeof R[D]=="number"&&(delete R[D],(O=this.getStorage(N))===null||O===void 0||O.set(S,JSON.stringify(R)))}get workspaceKeyTargets(){return this._workspaceKeyTargets||(this._workspaceKeyTargets=this.loadKeyTargets(1)),this._workspaceKeyTargets}get profileKeyTargets(){return this._profileKeyTargets||(this._profileKeyTargets=this.loadKeyTargets(0)),this._profileKeyTargets}get applicationKeyTargets(){return this._applicationKeyTargets||(this._applicationKeyTargets=this.loadKeyTargets(-1)),this._applicationKeyTargets}getKeyTargets(D){switch(D){case-1:return this.applicationKeyTargets;case 0:return this.profileKeyTargets;default:return this.workspaceKeyTargets}}loadKeyTargets(D){const N=this.get(S,D);if(N)try{return JSON.parse(N)}catch(I){}return Object.create(null)}}u.DEFAULT_FLUSH_INTERVAL=60*1e3;class a extends u{constructor(){super(),this.applicationStorage=this._register(new P(new A)),this.profileStorage=this._register(new P(new A)),this.workspaceStorage=this._register(new P(new A)),this._register(this.workspaceStorage.onDidChangeStorage(D=>this.emitDidChangeValue(1,D))),this._register(this.profileStorage.onDidChangeStorage(D=>this.emitDidChangeValue(0,D))),this._register(this.applicationStorage.onDidChangeStorage(D=>this.emitDidChangeValue(-1,D)))}getStorage(D){switch(D){case-1:return this.applicationStorage;case 0:return this.profileStorage;default:return this.workspaceStorage}}}},72854:function(nt,xe,l){"use strict";l.d(xe,{b:function(){return d}});var C=l(47397);const d=(0,C.yh)("telemetryService")},55952:function(nt,xe,l){"use strict";l.d(xe,{$DX:function(){return Nn},$d5:function(){return Ln},ABB:function(){return Rn},AS1:function(){return hi},AWI:function(){return An},BOY:function(){return Qa},Bqu:function(){return zs},C3g:function(){return Le},CA6:function(){return Fr},CNo:function(){return Tt},Cdg:function(){return tn},CzK:function(){return bi},D0T:function(){return ln},D1_:function(){return di},DEr:function(){return rn},Dut:function(){return Xt},E3h:function(){return ni},EPQ:function(){return Ke},EQn:function(){return Je},ES4:function(){return Mn},EiJ:function(){return oi},F3d:function(){return xo},F9q:function(){return ws},Fm_:function(){return zo},Fu1:function(){return fi},GO4:function(){return Be},Gj_:function(){return Jo},Gwp:function(){return si},HCL:function(){return ri},Hfx:function(){return _t},Hz8:function(){return En},IPX:function(){return T},IYc:function(){return hl},Ido:function(){return D},Itd:function(){return Go},Ivo:function(){return fl},JpG:function(){return Ea},K19:function(){return On},LLc:function(){return $s},L_H:function(){return je},L_t:function(){return cs},LoV:function(){return nn},M6C:function(){return eo},MUv:function(){return jn},NOs:function(){return Rt},NPS:function(){return It},Ng6:function(){return Xn},OLZ:function(){return Da},OZR:function(){return Fe},Oop:function(){return Ro},P4M:function(){return Xi},P6G:function(){return u},P6Y:function(){return Di},PRb:function(){return oe},PX0:function(){return ns},PpC:function(){return Hn},Pvw:function(){return me},QO2:function(){return A},R80:function(){return E},RV_:function(){return He},Rzx:function(){return Bn},SPM:function(){return Sa},SUG:function(){return ze},SUY:function(){return ya},Saq:function(){return m},Sbf:function(){return Ye},Snq:function(){return dr},SwI:function(){return se},T83:function(){return Wt},Tnx:function(){return so},UnT:function(){return Ie},VVv:function(){return Vn},Vqd:function(){return sn},XEs:function(){return ae},XL$:function(){return uo},XZx:function(){return I},Xy4:function(){return La},YI3:function(){return ut},ZGJ:function(){return Ps},ZnX:function(){return Mi},_2n:function(){return ts},_Yy:function(){return hn},_bK:function(){return on},_lC:function(){return H},_t9:function(){return Ge},_wn:function(){return Gt},b6y:function(){return vt},b7$:function(){return Ee},bKB:function(){return qi},brw:function(){return Lc},c63:function(){return qe},cbQ:function(){return Ut},cvW:function(){return ot},dCr:function(){return As},dRz:function(){return a},dt_:function(){return U},etL:function(){return _n},fEB:function(){return mn},few:function(){return ye},g8u:function(){return at},g_n:function(){return Jn},gkn:function(){return wi},gpD:function(){return _e},hEj:function(){return In},hX8:function(){return Ci},hzo:function(){return Es},j51:function(){return gi},j5u:function(){return Re},jUe:function(){return Ii},jbW:function(){return Fn},kJk:function(){return dt},kVY:function(){return gl},keg:function(){return $i},kvU:function(){return es},kwl:function(){return Yr},lRK:function(){return O},lUq:function(){return no},lWp:function(){return vn},lXJ:function(){return qn},loF:function(){return Ce},mHy:function(){return Us},mV1:function(){return Yi},nyM:function(){return ai},oQ$:function(){return en},oSI:function(){return F},opG:function(){return Qt},ov3:function(){return mr},pW3:function(){return yt},paE:function(){return Ze},phM:function(){return ms},pnM:function(){return ci},ptc:function(){return vi},qeD:function(){return Mt},rg2:function(){return oo},rh:function(){return X},s$:function(){return as},sEe:function(){return re},sKV:function(){return _s},sgC:function(){return te},tZ6:function(){return Ve},uoC:function(){return ht},url:function(){return Z},uxu:function(){return Te},vGG:function(){return k},xL1:function(){return R},xi6:function(){return Ks},y65:function(){return B},yJx:function(){return Si},yb5:function(){return Sn},ynu:function(){return Wn},ypS:function(){return Ei},ytC:function(){return Ho},zJb:function(){return ne},zKr:function(){return dn},zOm:function(){return bs},zRJ:function(){return wn}});var C=l(84180),d=l(15304),j=l(60218),W=l(17014),L=l(83218),z=l(528),P=l(14038);function A(Hi){return`--vscode-${Hi.replace(/\./g,"-")}`}const T={ColorContribution:"base.contributions.colors"};class S{constructor(){this._onDidChangeSchema=new j.Q5,this.onDidChangeSchema=this._onDidChangeSchema.event,this.colorSchema={type:"object",properties:{}},this.colorReferenceSchema={type:"string",enum:[],enumDescriptions:[]},this.colorsById={}}registerColor(Ws,_o,ds,Zo=!1,yo){const Fo={id:Ws,description:ds,defaults:_o,needsTransparency:Zo,deprecationMessage:yo};this.colorsById[Ws]=Fo;const Pl={type:"string",description:ds,format:"color-hex",defaultSnippets:[{body:"${1:#ff0000}"}]};return yo&&(Pl.deprecationMessage=yo),this.colorSchema.properties[Ws]=Pl,this.colorReferenceSchema.enum.push(Ws),this.colorReferenceSchema.enumDescriptions.push(ds),this._onDidChangeSchema.fire(),Ws}getColors(){return Object.keys(this.colorsById).map(Ws=>this.colorsById[Ws])}resolveDefaultColor(Ws,_o){const ds=this.colorsById[Ws];if(ds&&ds.defaults){const Zo=ds.defaults[_o.type];return dr(Zo,_o)}}getColorSchema(){return this.colorSchema}toString(){const Ws=(_o,ds)=>{const Zo=_o.indexOf(".")===-1?0:1,yo=ds.indexOf(".")===-1?0:1;return Zo!==yo?Zo-yo:_o.localeCompare(ds)};return Object.keys(this.colorsById).sort(Ws).map(_o=>`- \`${_o}\`: ${this.colorsById[_o].description}`).join(`
`)}}const _=new S;P.B.add(T.ColorContribution,_);function y(Hi){return Hi===null||typeof Hi.hcLight=="undefined"&&(Hi.hcDark===null||typeof Hi.hcDark=="string"?Hi.hcLight=Hi.hcDark:Hi.hcLight=Hi.light),Hi}function u(Hi,Ws,_o,ds,Zo){return _.registerColor(Hi,y(Ws),_o,ds,Zo)}const a=u("foreground",{dark:"#CCCCCC",light:"#616161",hcDark:"#FFFFFF",hcLight:"#292929"},L.NC("foreground","Overall foreground color. This color is only used if not overridden by a component.")),b=u("disabledForeground",{dark:"#CCCCCC80",light:"#61616180",hcDark:"#A5A5A5",hcLight:"#7F7F7F"},L.NC("disabledForeground","Overall foreground for disabled elements. This color is only used if not overridden by a component.")),D=u("errorForeground",{dark:"#F48771",light:"#A1260D",hcDark:"#F48771",hcLight:"#B5200D"},L.NC("errorForeground","Overall foreground color for error messages. This color is only used if not overridden by a component.")),N=u("descriptionForeground",{light:"#717171",dark:Mi(a,.7),hcDark:Mi(a,.7),hcLight:Mi(a,.7)},L.NC("descriptionForeground","Foreground color for description text providing additional information, for example for a label.")),I=u("icon.foreground",{dark:"#C5C5C5",light:"#424242",hcDark:"#FFFFFF",hcLight:"#292929"},L.NC("iconForeground","The default color for icons in the workbench.")),E=u("focusBorder",{dark:"#007FD4",light:"#0090F1",hcDark:"#F38518",hcLight:"#0F4A85"},L.NC("focusBorder","Overall border color for focused elements. This color is only used if not overridden by a component.")),O=u("contrastBorder",{light:null,dark:null,hcDark:"#6FC3DF",hcLight:"#0F4A85"},L.NC("contrastBorder","An extra border around elements to separate them from others for greater contrast.")),R=u("contrastActiveBorder",{light:null,dark:null,hcDark:E,hcLight:E},L.NC("activeContrastBorder","An extra border around active elements to separate them from others for greater contrast.")),M=u("selection.background",{light:null,dark:null,hcDark:null,hcLight:null},L.NC("selectionBackground","The background color of text selections in the workbench (e.g. for input fields or text areas). Note that this does not apply to selections within the editor.")),K=u("textSeparator.foreground",{light:"#0000002e",dark:"#ffffff2e",hcDark:d.Il.black,hcLight:"#292929"},L.NC("textSeparatorForeground","Color for text separators.")),Z=u("textLink.foreground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},L.NC("textLinkForeground","Foreground color for links in text.")),te=u("textLink.activeForeground",{light:"#006AB1",dark:"#3794FF",hcDark:"#3794FF",hcLight:"#0F4A85"},L.NC("textLinkActiveForeground","Foreground color for links in text when clicked on and on mouse hover.")),de=u("textPreformat.foreground",{light:"#A31515",dark:"#D7BA7D",hcDark:"#D7BA7D",hcLight:"#292929"},L.NC("textPreformatForeground","Foreground color for preformatted text segments.")),ge=u("textBlockQuote.background",{light:"#7f7f7f1a",dark:"#7f7f7f1a",hcDark:null,hcLight:"#F2F2F2"},L.NC("textBlockQuoteBackground","Background color for block quotes in text.")),le=u("textBlockQuote.border",{light:"#007acc80",dark:"#007acc80",hcDark:d.Il.white,hcLight:"#292929"},L.NC("textBlockQuoteBorder","Border color for block quotes in text.")),se=u("textCodeBlock.background",{light:"#dcdcdc66",dark:"#0a0a0a66",hcDark:d.Il.black,hcLight:"#F2F2F2"},L.NC("textCodeBlockBackground","Background color for code blocks in text.")),X=u("widget.shadow",{dark:Mi(d.Il.black,.36),light:Mi(d.Il.black,.16),hcDark:null,hcLight:null},L.NC("widgetShadow","Shadow color of widgets such as find/replace inside the editor.")),re=u("input.background",{dark:"#3C3C3C",light:d.Il.white,hcDark:d.Il.black,hcLight:d.Il.white},L.NC("inputBoxBackground","Input box background.")),ne=u("input.foreground",{dark:a,light:a,hcDark:a,hcLight:a},L.NC("inputBoxForeground","Input box foreground.")),U=u("input.border",{dark:null,light:null,hcDark:O,hcLight:O},L.NC("inputBoxBorder","Input box border.")),oe=u("inputOption.activeBorder",{dark:"#007ACC00",light:"#007ACC00",hcDark:O,hcLight:O},L.NC("inputBoxActiveOptionBorder","Border color of activated options in input fields.")),q=u("inputOption.hoverBackground",{dark:"#5a5d5e80",light:"#b8b8b850",hcDark:null,hcLight:null},L.NC("inputOption.hoverBackground","Background color of activated options in input fields.")),ae=u("inputOption.activeBackground",{dark:Mi(E,.4),light:Mi(E,.2),hcDark:d.Il.transparent,hcLight:d.Il.transparent},L.NC("inputOption.activeBackground","Background hover color of options in input fields.")),me=u("inputOption.activeForeground",{dark:d.Il.white,light:d.Il.black,hcDark:null,hcLight:a},L.NC("inputOption.activeForeground","Foreground color of activated options in input fields.")),ke=u("input.placeholderForeground",{light:Mi(a,.5),dark:Mi(a,.5),hcDark:Mi(a,.7),hcLight:Mi(a,.7)},L.NC("inputPlaceholderForeground","Input box foreground color for placeholder text.")),H=u("inputValidation.infoBackground",{dark:"#063B49",light:"#D6ECF2",hcDark:d.Il.black,hcLight:d.Il.white},L.NC("inputValidationInfoBackground","Input validation background color for information severity.")),ut=u("inputValidation.infoForeground",{dark:null,light:null,hcDark:null,hcLight:a},L.NC("inputValidationInfoForeground","Input validation foreground color for information severity.")),Ke=u("inputValidation.infoBorder",{dark:"#007acc",light:"#007acc",hcDark:O,hcLight:O},L.NC("inputValidationInfoBorder","Input validation border color for information severity.")),He=u("inputValidation.warningBackground",{dark:"#352A05",light:"#F6F5D2",hcDark:d.Il.black,hcLight:d.Il.white},L.NC("inputValidationWarningBackground","Input validation background color for warning severity.")),ze=u("inputValidation.warningForeground",{dark:null,light:null,hcDark:null,hcLight:a},L.NC("inputValidationWarningForeground","Input validation foreground color for warning severity.")),Le=u("inputValidation.warningBorder",{dark:"#B89500",light:"#B89500",hcDark:O,hcLight:O},L.NC("inputValidationWarningBorder","Input validation border color for warning severity.")),Ze=u("inputValidation.errorBackground",{dark:"#5A1D1D",light:"#F2DEDE",hcDark:d.Il.black,hcLight:d.Il.white},L.NC("inputValidationErrorBackground","Input validation background color for error severity.")),Ge=u("inputValidation.errorForeground",{dark:null,light:null,hcDark:null,hcLight:a},L.NC("inputValidationErrorForeground","Input validation foreground color for error severity.")),Fe=u("inputValidation.errorBorder",{dark:"#BE1100",light:"#BE1100",hcDark:O,hcLight:O},L.NC("inputValidationErrorBorder","Input validation border color for error severity.")),ct=u("dropdown.background",{dark:"#3C3C3C",light:d.Il.white,hcDark:d.Il.black,hcLight:d.Il.white},L.NC("dropdownBackground","Dropdown background.")),ft=u("dropdown.listBackground",{dark:null,light:null,hcDark:d.Il.black,hcLight:d.Il.white},L.NC("dropdownListBackground","Dropdown list background.")),Ot=u("dropdown.foreground",{dark:"#F0F0F0",light:null,hcDark:d.Il.white,hcLight:a},L.NC("dropdownForeground","Dropdown foreground.")),Et=u("dropdown.border",{dark:ct,light:"#CECECE",hcDark:O,hcLight:O},L.NC("dropdownBorder","Dropdown border.")),Vt=u("checkbox.background",{dark:ct,light:ct,hcDark:ct,hcLight:ct},L.NC("checkbox.background","Background color of checkbox widget.")),We=u("checkbox.foreground",{dark:Ot,light:Ot,hcDark:Ot,hcLight:Ot},L.NC("checkbox.foreground","Foreground color of checkbox widget.")),St=u("checkbox.border",{dark:Et,light:Et,hcDark:Et,hcLight:Et},L.NC("checkbox.border","Border color of checkbox widget.")),Re=u("button.foreground",{dark:d.Il.white,light:d.Il.white,hcDark:d.Il.white,hcLight:d.Il.white},L.NC("buttonForeground","Button foreground color.")),Se=u("button.separator",{dark:Mi(Re,.4),light:Mi(Re,.4),hcDark:Mi(Re,.4),hcLight:Mi(Re,.4)},L.NC("buttonSeparator","Button separator color.")),Ee=u("button.background",{dark:"#0E639C",light:"#007ACC",hcDark:null,hcLight:"#0F4A85"},L.NC("buttonBackground","Button background color.")),Be=u("button.hoverBackground",{dark:cr(Ee,.2),light:Zr(Ee,.2),hcDark:null,hcLight:null},L.NC("buttonHoverBackground","Button background color when hovering.")),Xe=u("button.border",{dark:O,light:O,hcDark:O,hcLight:O},L.NC("buttonBorder","Button border color.")),Pt=u("button.secondaryForeground",{dark:d.Il.white,light:d.Il.white,hcDark:d.Il.white,hcLight:a},L.NC("buttonSecondaryForeground","Secondary button foreground color.")),jt=u("button.secondaryBackground",{dark:"#3A3D41",light:"#5F6A79",hcDark:null,hcLight:d.Il.white},L.NC("buttonSecondaryBackground","Secondary button background color.")),pn=u("button.secondaryHoverBackground",{dark:cr(jt,.2),light:Zr(jt,.2),hcDark:null,hcLight:null},L.NC("buttonSecondaryHoverBackground","Secondary button background color when hovering.")),at=u("badge.background",{dark:"#4D4D4D",light:"#C4C4C4",hcDark:d.Il.black,hcLight:"#0F4A85"},L.NC("badgeBackground","Badge background color. Badges are small information labels, e.g. for search results count.")),Mt=u("badge.foreground",{dark:d.Il.white,light:"#333",hcDark:d.Il.white,hcLight:d.Il.white},L.NC("badgeForeground","Badge foreground color. Badges are small information labels, e.g. for search results count.")),Gt=u("scrollbar.shadow",{dark:"#000000",light:"#DDDDDD",hcDark:null,hcLight:null},L.NC("scrollbarShadow","Scrollbar shadow to indicate that the view is scrolled.")),_n=u("scrollbarSlider.background",{dark:d.Il.fromHex("#797979").transparent(.4),light:d.Il.fromHex("#646464").transparent(.4),hcDark:Mi(O,.6),hcLight:Mi(O,.4)},L.NC("scrollbarSliderBackground","Scrollbar slider background color.")),Rn=u("scrollbarSlider.hoverBackground",{dark:d.Il.fromHex("#646464").transparent(.7),light:d.Il.fromHex("#646464").transparent(.7),hcDark:Mi(O,.8),hcLight:Mi(O,.8)},L.NC("scrollbarSliderHoverBackground","Scrollbar slider background color when hovering.")),Wn=u("scrollbarSlider.activeBackground",{dark:d.Il.fromHex("#BFBFBF").transparent(.4),light:d.Il.fromHex("#000000").transparent(.6),hcDark:O,hcLight:O},L.NC("scrollbarSliderActiveBackground","Scrollbar slider background color when clicked on.")),wn=u("progressBar.background",{dark:d.Il.fromHex("#0E70C0"),light:d.Il.fromHex("#0E70C0"),hcDark:O,hcLight:O},L.NC("progressBarBackground","Background color of the progress bar that can show for long running operations.")),je=u("editorError.background",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("editorError.background","Background color of error text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),qn=u("editorError.foreground",{dark:"#F14C4C",light:"#E51400",hcDark:"#F48771",hcLight:"#B5200D"},L.NC("editorError.foreground","Foreground color of error squigglies in the editor.")),vt=u("editorError.border",{dark:null,light:null,hcDark:d.Il.fromHex("#E47777").transparent(.8),hcLight:"#B5200D"},L.NC("errorBorder","Border color of error boxes in the editor.")),_e=u("editorWarning.background",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("editorWarning.background","Background color of warning text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),ht=u("editorWarning.foreground",{dark:"#CCA700",light:"#BF8803",hcDark:"#FFD37",hcLight:"#895503"},L.NC("editorWarning.foreground","Foreground color of warning squigglies in the editor.")),yt=u("editorWarning.border",{dark:null,light:null,hcDark:d.Il.fromHex("#FFCC00").transparent(.8),hcLight:"#"},L.NC("warningBorder","Border color of warning boxes in the editor.")),ye=u("editorInfo.background",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("editorInfo.background","Background color of info text in the editor. The color must not be opaque so as not to hide underlying decorations."),!0),qe=u("editorInfo.foreground",{dark:"#3794FF",light:"#1a85ff",hcDark:"#3794FF",hcLight:"#1a85ff"},L.NC("editorInfo.foreground","Foreground color of info squigglies in the editor.")),Wt=u("editorInfo.border",{dark:null,light:null,hcDark:d.Il.fromHex("#3794FF").transparent(.8),hcLight:"#292929"},L.NC("infoBorder","Border color of info boxes in the editor.")),Xt=u("editorHint.foreground",{dark:d.Il.fromHex("#eeeeee").transparent(.7),light:"#6c6c6c",hcDark:null,hcLight:null},L.NC("editorHint.foreground","Foreground color of hint squigglies in the editor.")),mn=u("editorHint.border",{dark:null,light:null,hcDark:d.Il.fromHex("#eeeeee").transparent(.8),hcLight:"#292929"},L.NC("hintBorder","Border color of hint boxes in the editor.")),bn=u("sash.hoverBorder",{dark:E,light:E,hcDark:E,hcLight:E},L.NC("sashActiveBorder","Border color of active sashes.")),ot=u("editor.background",{light:"#ffffff",dark:"#1E1E1E",hcDark:d.Il.black,hcLight:d.Il.white},L.NC("editorBackground","Editor background color.")),Rt=u("editor.foreground",{light:"#333333",dark:"#BBBBBB",hcDark:d.Il.white,hcLight:a},L.NC("editorForeground","Editor default foreground color.")),kt=u("editorStickyScroll.background",{light:ot,dark:ot,hcDark:ot,hcLight:ot},L.NC("editorStickyScrollBackground","Sticky scroll background color for the editor")),wt=u("editorStickyScrollHover.background",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:d.Il.fromHex("#0F4A85").transparent(.1)},L.NC("editorStickyScrollHoverBackground","Sticky scroll on hover background color for the editor")),ln=u("editorWidget.background",{dark:"#252526",light:"#F3F3F3",hcDark:"#0C141F",hcLight:d.Il.white},L.NC("editorWidgetBackground","Background color of editor widgets, such as find/replace.")),_t=u("editorWidget.foreground",{dark:a,light:a,hcDark:a,hcLight:a},L.NC("editorWidgetForeground","Foreground color of editor widgets, such as find/replace.")),di=u("editorWidget.border",{dark:"#454545",light:"#C8C8C8",hcDark:O,hcLight:O},L.NC("editorWidgetBorder","Border color of editor widgets. The color is only used if the widget chooses to have a border and if the color is not overridden by a widget.")),Xn=u("editorWidget.resizeBorder",{light:null,dark:null,hcDark:null,hcLight:null},L.NC("editorWidgetResizeBorder","Border color of the resize bar of editor widgets. The color is only used if the widget chooses to have a resize border and if the color is not overridden by a widget.")),dn=u("quickInput.background",{dark:ln,light:ln,hcDark:ln,hcLight:ln},L.NC("pickerBackground","Quick picker background color. The quick picker widget is the container for pickers like the command palette.")),Ve=u("quickInput.foreground",{dark:_t,light:_t,hcDark:_t,hcLight:_t},L.NC("pickerForeground","Quick picker foreground color. The quick picker widget is the container for pickers like the command palette.")),Ce=u("quickInputTitle.background",{dark:new d.Il(new d.VS(255,255,255,.105)),light:new d.Il(new d.VS(0,0,0,.06)),hcDark:"#000000",hcLight:d.Il.white},L.NC("pickerTitleBackground","Quick picker title background color. The quick picker widget is the container for pickers like the command palette.")),dt=u("pickerGroup.foreground",{dark:"#3794FF",light:"#0066BF",hcDark:d.Il.white,hcLight:"#0F4A85"},L.NC("pickerGroupForeground","Quick picker color for grouping labels.")),Qt=u("pickerGroup.border",{dark:"#3F3F46",light:"#CCCEDB",hcDark:d.Il.white,hcLight:"#0F4A85"},L.NC("pickerGroupBorder","Quick picker color for grouping borders.")),en=u("keybindingLabel.background",{dark:new d.Il(new d.VS(128,128,128,.17)),light:new d.Il(new d.VS(221,221,221,.4)),hcDark:d.Il.transparent,hcLight:d.Il.transparent},L.NC("keybindingLabelBackground","Keybinding label background color. The keybinding label is used to represent a keyboard shortcut.")),vn=u("keybindingLabel.foreground",{dark:d.Il.fromHex("#CCCCCC"),light:d.Il.fromHex("#555555"),hcDark:d.Il.white,hcLight:a},L.NC("keybindingLabelForeground","Keybinding label foreground color. The keybinding label is used to represent a keyboard shortcut.")),An=u("keybindingLabel.border",{dark:new d.Il(new d.VS(51,51,51,.6)),light:new d.Il(new d.VS(204,204,204,.4)),hcDark:new d.Il(new d.VS(111,195,223)),hcLight:O},L.NC("keybindingLabelBorder","Keybinding label border color. The keybinding label is used to represent a keyboard shortcut.")),On=u("keybindingLabel.bottomBorder",{dark:new d.Il(new d.VS(68,68,68,.6)),light:new d.Il(new d.VS(187,187,187,.4)),hcDark:new d.Il(new d.VS(111,195,223)),hcLight:a},L.NC("keybindingLabelBottomBorder","Keybinding label border bottom color. The keybinding label is used to represent a keyboard shortcut.")),In=u("editor.selectionBackground",{light:"#ADD6FF",dark:"#264F78",hcDark:"#f3f518",hcLight:"#0F4A85"},L.NC("editorSelectionBackground","Color of the editor selection.")),Sn=u("editor.selectionForeground",{light:null,dark:null,hcDark:"#000000",hcLight:d.Il.white},L.NC("editorSelectionForeground","Color of the selected text for high contrast.")),Mn=u("editor.inactiveSelectionBackground",{light:Mi(In,.5),dark:Mi(In,.5),hcDark:Mi(In,.7),hcLight:Mi(In,.5)},L.NC("editorInactiveSelection","Color of the selection in an inactive editor. The color must not be opaque so as not to hide underlying decorations."),!0),Bn=u("editor.selectionHighlightBackground",{light:Qr(In,ot,.3,.6),dark:Qr(In,ot,.3,.6),hcDark:null,hcLight:null},L.NC("editorSelectionHighlight","Color for regions with the same content as the selection. The color must not be opaque so as not to hide underlying decorations."),!0),Jn=u("editor.selectionHighlightBorder",{light:null,dark:null,hcDark:R,hcLight:R},L.NC("editorSelectionHighlightBorder","Border color for regions with the same content as the selection.")),ai=u("editor.findMatchBackground",{light:"#A8AC94",dark:"#515C6A",hcDark:null,hcLight:null},L.NC("editorFindMatch","Color of the current search match.")),jn=u("editor.findMatchHighlightBackground",{light:"#EA5C0055",dark:"#EA5C0055",hcDark:null,hcLight:null},L.NC("findMatchHighlight","Color of the other search matches. The color must not be opaque so as not to hide underlying decorations."),!0),Ii=u("editor.findRangeHighlightBackground",{dark:"#3a3d4166",light:"#b4b4b44d",hcDark:null,hcLight:null},L.NC("findRangeHighlight","Color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),ci=u("editor.findMatchBorder",{light:null,dark:null,hcDark:R,hcLight:R},L.NC("editorFindMatchBorder","Border color of the current search match.")),oi=u("editor.findMatchHighlightBorder",{light:null,dark:null,hcDark:R,hcLight:R},L.NC("findMatchHighlightBorder","Border color of the other search matches.")),wi=u("editor.findRangeHighlightBorder",{dark:null,light:null,hcDark:Mi(R,.4),hcLight:Mi(R,.4)},L.NC("findRangeHighlightBorder","Border color of the range limiting the search. The color must not be opaque so as not to hide underlying decorations."),!0),Li=u("searchEditor.findMatchBackground",{light:Mi(jn,.66),dark:Mi(jn,.66),hcDark:jn,hcLight:jn},L.NC("searchEditor.queryMatch","Color of the Search Editor query matches.")),kn=u("searchEditor.findMatchBorder",{light:Mi(oi,.66),dark:Mi(oi,.66),hcDark:oi,hcLight:oi},L.NC("searchEditor.editorFindMatchBorder","Border color of the Search Editor query matches.")),vi=u("editor.hoverHighlightBackground",{light:"#ADD6FF26",dark:"#264f7840",hcDark:"#ADD6FF26",hcLight:null},L.NC("hoverHighlight","Highlight below the word for which a hover is shown. The color must not be opaque so as not to hide underlying decorations."),!0),Si=u("editorHoverWidget.background",{light:ln,dark:ln,hcDark:ln,hcLight:ln},L.NC("hoverBackground","Background color of the editor hover.")),Ye=u("editorHoverWidget.foreground",{light:_t,dark:_t,hcDark:_t,hcLight:_t},L.NC("hoverForeground","Foreground color of the editor hover.")),Tt=u("editorHoverWidget.border",{light:di,dark:di,hcDark:di,hcLight:di},L.NC("hoverBorder","Border color of the editor hover.")),nn=u("editorHoverWidget.statusBarBackground",{dark:cr(Si,.2),light:Zr(Si,.05),hcDark:ln,hcLight:ln},L.NC("statusBarBackground","Background color of the editor hover status bar.")),hn=u("editorLink.activeForeground",{dark:"#4E94CE",light:d.Il.blue,hcDark:d.Il.cyan,hcLight:"#292929"},L.NC("activeLinkForeground","Color of active links.")),Vn=u("editorInlayHint.foreground",{dark:Mi(Mt,.8),light:Mi(Mt,.8),hcDark:Mt,hcLight:Mt},L.NC("editorInlayHintForeground","Foreground color of inline hints")),Hn=u("editorInlayHint.background",{dark:Mi(at,.6),light:Mi(at,.3),hcDark:at,hcLight:at},L.NC("editorInlayHintBackground","Background color of inline hints")),Ci=u("editorInlayHint.typeForeground",{dark:Vn,light:Vn,hcDark:Vn,hcLight:Vn},L.NC("editorInlayHintForegroundTypes","Foreground color of inline hints for types")),qi=u("editorInlayHint.typeBackground",{dark:Hn,light:Hn,hcDark:Hn,hcLight:Hn},L.NC("editorInlayHintBackgroundTypes","Background color of inline hints for types")),ri=u("editorInlayHint.parameterForeground",{dark:Vn,light:Vn,hcDark:Vn,hcLight:Vn},L.NC("editorInlayHintForegroundParameter","Foreground color of inline hints for parameters")),ms=u("editorInlayHint.parameterBackground",{dark:Hn,light:Hn,hcDark:Hn,hcLight:Hn},L.NC("editorInlayHintBackgroundParameter","Background color of inline hints for parameters")),fi=u("editorLightBulb.foreground",{dark:"#FFCC00",light:"#DDB100",hcDark:"#FFCC00",hcLight:"#007ACC"},L.NC("editorLightBulbForeground","The color used for the lightbulb actions icon.")),_s=u("editorLightBulbAutoFix.foreground",{dark:"#75BEFF",light:"#007ACC",hcDark:"#75BEFF",hcLight:"#007ACC"},L.NC("editorLightBulbAutoFixForeground","The color used for the lightbulb auto fix actions icon.")),bi=new d.Il(new d.VS(155,185,85,.2)),$i=new d.Il(new d.VS(255,0,0,.2)),Ei=u("diffEditor.insertedTextBackground",{dark:"#9ccc2c33",light:"#9ccc2c66",hcDark:null,hcLight:null},L.NC("diffEditorInserted","Background color for text that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Xi=u("diffEditor.removedTextBackground",{dark:"#ff000066",light:"#ff00004d",hcDark:null,hcLight:null},L.NC("diffEditorRemoved","Background color for text that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),Es=u("diffEditor.insertedLineBackground",{dark:bi,light:bi,hcDark:null,hcLight:null},L.NC("diffEditorInsertedLines","Background color for lines that got inserted. The color must not be opaque so as not to hide underlying decorations."),!0),Ks=u("diffEditor.removedLineBackground",{dark:$i,light:$i,hcDark:null,hcLight:null},L.NC("diffEditorRemovedLines","Background color for lines that got removed. The color must not be opaque so as not to hide underlying decorations."),!0),gi=u("diffEditorGutter.insertedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("diffEditorInsertedLineGutter","Background color for the margin where lines got inserted.")),bs=u("diffEditorGutter.removedLineBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("diffEditorRemovedLineGutter","Background color for the margin where lines got removed.")),Di=u("diffEditorOverview.insertedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("diffEditorOverviewInserted","Diff overview ruler foreground for inserted content.")),ws=u("diffEditorOverview.removedForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("diffEditorOverviewRemoved","Diff overview ruler foreground for removed content.")),uo=u("diffEditor.insertedTextBorder",{dark:null,light:null,hcDark:"#33ff2eff",hcLight:"#374E06"},L.NC("diffEditorInsertedOutline","Outline color for the text that got inserted.")),Us=u("diffEditor.removedTextBorder",{dark:null,light:null,hcDark:"#FF008F",hcLight:"#AD0707"},L.NC("diffEditorRemovedOutline","Outline color for text that got removed.")),$s=u("diffEditor.border",{dark:null,light:null,hcDark:O,hcLight:O},L.NC("diffEditorBorder","Border color between the two text editors.")),cs=u("diffEditor.diagonalFill",{dark:"#cccccc33",light:"#22222233",hcDark:null,hcLight:null},L.NC("diffDiagonalFill","Color of the diff editor's diagonal fill. The diagonal fill is used in side-by-side diff views.")),on=u("list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listFocusBackground","List/Tree background color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),ts=u("list.focusForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listFocusForeground","List/Tree foreground color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),Ro=u("list.focusOutline",{dark:E,light:E,hcDark:R,hcLight:R},L.NC("listFocusOutline","List/Tree outline color for the focused item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),zs=u("list.focusAndSelectionOutline",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listFocusAndSelectionOutline","List/Tree outline color for the focused item when the list/tree is active and selected. An active list/tree has keyboard focus, an inactive does not.")),As=u("list.activeSelectionBackground",{dark:"#04395E",light:"#0060C0",hcDark:null,hcLight:d.Il.fromHex("#0F4A85").transparent(.1)},L.NC("listActiveSelectionBackground","List/Tree background color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),eo=u("list.activeSelectionForeground",{dark:d.Il.white,light:d.Il.white,hcDark:null,hcLight:null},L.NC("listActiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),so=u("list.activeSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listActiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is active. An active list/tree has keyboard focus, an inactive does not.")),oo=u("list.inactiveSelectionBackground",{dark:"#37373D",light:"#E4E6F1",hcDark:null,hcLight:d.Il.fromHex("#0F4A85").transparent(.1)},L.NC("listInactiveSelectionBackground","List/Tree background color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Ho=u("list.inactiveSelectionForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listInactiveSelectionForeground","List/Tree foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),es=u("list.inactiveSelectionIconForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listInactiveSelectionIconForeground","List/Tree icon foreground color for the selected item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),as=u("list.inactiveFocusBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listInactiveFocusBackground","List/Tree background color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),xo=u("list.inactiveFocusOutline",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listInactiveFocusOutline","List/Tree outline color for the focused item when the list/tree is inactive. An active list/tree has keyboard focus, an inactive does not.")),Yi=u("list.hoverBackground",{dark:"#2A2D2E",light:"#F0F0F0",hcDark:null,hcLight:d.Il.fromHex("#0F4A85").transparent(.1)},L.NC("listHoverBackground","List/Tree background when hovering over items using the mouse.")),Ln=u("list.hoverForeground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("listHoverForeground","List/Tree foreground when hovering over items using the mouse.")),hi=u("list.dropBackground",{dark:"#062F4A",light:"#D6EBFF",hcDark:null,hcLight:null},L.NC("listDropBackground","List/Tree drag and drop background when moving items around using the mouse.")),si=u("list.highlightForeground",{dark:"#2AAAFF",light:"#0066BF",hcDark:E,hcLight:E},L.NC("highlight","List/Tree foreground color of the match highlights when searching inside the list/tree.")),ns=u("list.focusHighlightForeground",{dark:si,light:Oo(As,si,"#BBE7FF"),hcDark:si,hcLight:si},L.NC("listFocusHighlightForeground","List/Tree foreground color of the match highlights on actively focused items when searching inside the list/tree.")),Xs=u("list.invalidItemForeground",{dark:"#B89500",light:"#B89500",hcDark:"#B89500",hcLight:"#B5200D"},L.NC("invalidItemForeground","List/Tree foreground color for invalid items, for example an unresolved root in explorer.")),ki=u("list.errorForeground",{dark:"#F88070",light:"#B01011",hcDark:null,hcLight:null},L.NC("listErrorForeground","Foreground color of list items containing errors.")),we=u("list.warningForeground",{dark:"#CCA700",light:"#855F00",hcDark:null,hcLight:null},L.NC("listWarningForeground","Foreground color of list items containing warnings.")),k=u("listFilterWidget.background",{light:Zr(ln,0),dark:cr(ln,0),hcDark:ln,hcLight:ln},L.NC("listFilterWidgetBackground","Background color of the type filter widget in lists and trees.")),F=u("listFilterWidget.outline",{dark:d.Il.transparent,light:d.Il.transparent,hcDark:"#f38518",hcLight:"#007ACC"},L.NC("listFilterWidgetOutline","Outline color of the type filter widget in lists and trees.")),m=u("listFilterWidget.noMatchesOutline",{dark:"#BE1100",light:"#BE1100",hcDark:O,hcLight:O},L.NC("listFilterWidgetNoMatchesOutline","Outline color of the type filter widget in lists and trees, when there are no matches.")),B=u("listFilterWidget.shadow",{dark:X,light:X,hcDark:X,hcLight:X},L.NC("listFilterWidgetShadow","Shadown color of the type filter widget in lists and trees.")),ee=u("list.filterMatchBackground",{dark:jn,light:jn,hcDark:null,hcLight:null},L.NC("listFilterMatchHighlight","Background color of the filtered match.")),fe=u("list.filterMatchBorder",{dark:oi,light:oi,hcDark:O,hcLight:R},L.NC("listFilterMatchHighlightBorder","Border color of the filtered match.")),Ie=u("tree.indentGuidesStroke",{dark:"#585858",light:"#a9a9a9",hcDark:"#a9a9a9",hcLight:"#a5a5a5"},L.NC("treeIndentGuidesStroke","Tree stroke color for the indentation guides.")),Te=u("tree.tableColumnsBorder",{dark:"#CCCCCC20",light:"#61616120",hcDark:null,hcLight:null},L.NC("tableColumnsBorder","Table border color between columns.")),Je=u("tree.tableOddRowsBackground",{dark:Mi(a,.04),light:Mi(a,.04),hcDark:null,hcLight:null},L.NC("tableOddRowsBackgroundColor","Background color for odd table rows.")),it=u("list.deemphasizedForeground",{dark:"#8C8C8C",light:"#8E8E90",hcDark:"#A7A8A9",hcLight:"#666666"},L.NC("listDeemphasizedForeground","List/Tree foreground color for items that are deemphasized. ")),Ct=u("quickInput.list.focusBackground",{dark:null,light:null,hcDark:null,hcLight:null},"",void 0,L.NC("quickInput.list.focusBackground deprecation","Please use quickInputList.focusBackground instead")),It=u("quickInputList.focusForeground",{dark:eo,light:eo,hcDark:eo,hcLight:eo},L.NC("quickInput.listFocusForeground","Quick picker foreground color for the focused item.")),Ut=u("quickInputList.focusIconForeground",{dark:so,light:so,hcDark:so,hcLight:so},L.NC("quickInput.listFocusIconForeground","Quick picker icon foreground color for the focused item.")),sn=u("quickInputList.focusBackground",{dark:Yr(Ct,As),light:Yr(Ct,As),hcDark:null,hcLight:null},L.NC("quickInput.listFocusBackground","Quick picker background color for the focused item.")),tn=u("menu.border",{dark:null,light:null,hcDark:O,hcLight:O},L.NC("menuBorder","Border color of menus.")),rn=u("menu.foreground",{dark:Ot,light:a,hcDark:Ot,hcLight:Ot},L.NC("menuForeground","Foreground color of menu items.")),En=u("menu.background",{dark:ct,light:ct,hcDark:ct,hcLight:ct},L.NC("menuBackground","Background color of menu items.")),Fn=u("menu.selectionForeground",{dark:eo,light:eo,hcDark:eo,hcLight:eo},L.NC("menuSelectionForeground","Foreground color of the selected menu item in menus.")),Nn=u("menu.selectionBackground",{dark:As,light:As,hcDark:As,hcLight:As},L.NC("menuSelectionBackground","Background color of the selected menu item in menus.")),ni=u("menu.selectionBorder",{dark:null,light:null,hcDark:R,hcLight:R},L.NC("menuSelectionBorder","Border color of the selected menu item in menus.")),Ps=u("menu.separatorBackground",{dark:"#606060",light:"#D4D4D4",hcDark:O,hcLight:O},L.NC("menuSeparatorBackground","Color of a separator menu item in menus.")),no=u("toolbar.hoverBackground",{dark:"#5a5d5e50",light:"#b8b8b850",hcDark:null,hcLight:null},L.NC("toolbarHoverBackground","Toolbar background when hovering over actions using the mouse")),js=u("toolbar.hoverOutline",{dark:null,light:null,hcDark:R,hcLight:R},L.NC("toolbarHoverOutline","Toolbar outline when hovering over actions using the mouse")),Co=u("toolbar.activeBackground",{dark:cr(no,.1),light:Zr(no,.1),hcDark:null,hcLight:null},L.NC("toolbarActiveBackground","Toolbar background when holding the mouse over actions")),Wi=u("editor.snippetTabstopHighlightBackground",{dark:new d.Il(new d.VS(124,124,124,.3)),light:new d.Il(new d.VS(10,50,100,.2)),hcDark:new d.Il(new d.VS(124,124,124,.3)),hcLight:new d.Il(new d.VS(10,50,100,.2))},L.NC("snippetTabstopHighlightBackground","Highlight background color of a snippet tabstop.")),Io=u("editor.snippetTabstopHighlightBorder",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("snippetTabstopHighlightBorder","Highlight border color of a snippet tabstop.")),Rs=u("editor.snippetFinalTabstopHighlightBackground",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("snippetFinalTabstopHighlightBackground","Highlight background color of the final tabstop of a snippet.")),bo=u("editor.snippetFinalTabstopHighlightBorder",{dark:"#525252",light:new d.Il(new d.VS(10,50,100,.5)),hcDark:"#525252",hcLight:"#292929"},L.NC("snippetFinalTabstopHighlightBorder","Highlight border color of the final tabstop of a snippet.")),Ss=u("breadcrumb.foreground",{light:Mi(a,.8),dark:Mi(a,.8),hcDark:Mi(a,.8),hcLight:Mi(a,.8)},L.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),Ao=u("breadcrumb.background",{light:ot,dark:ot,hcDark:ot,hcLight:ot},L.NC("breadcrumbsBackground","Background color of breadcrumb items.")),wo=u("breadcrumb.focusForeground",{light:Zr(a,.2),dark:cr(a,.1),hcDark:cr(a,.1),hcLight:cr(a,.1)},L.NC("breadcrumbsFocusForeground","Color of focused breadcrumb items.")),So=u("breadcrumb.activeSelectionForeground",{light:Zr(a,.2),dark:cr(a,.1),hcDark:cr(a,.1),hcLight:cr(a,.1)},L.NC("breadcrumbsSelectedForeground","Color of selected breadcrumb items.")),Ys=u("breadcrumbPicker.background",{light:ln,dark:ln,hcDark:ln,hcLight:ln},L.NC("breadcrumbsSelectedBackground","Background color of breadcrumb item picker.")),et=.5,Ae=d.Il.fromHex("#40C8AE").transparent(et),Lt=d.Il.fromHex("#40A6FF").transparent(et),zt=d.Il.fromHex("#606060").transparent(.4),Zt=.4,qt=1,$n=u("merge.currentHeaderBackground",{dark:Ae,light:Ae,hcDark:null,hcLight:null},L.NC("mergeCurrentHeaderBackground","Current header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),xi=u("merge.currentContentBackground",{dark:Mi($n,Zt),light:Mi($n,Zt),hcDark:Mi($n,Zt),hcLight:Mi($n,Zt)},L.NC("mergeCurrentContentBackground","Current content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),Bi=u("merge.incomingHeaderBackground",{dark:Lt,light:Lt,hcDark:null,hcLight:null},L.NC("mergeIncomingHeaderBackground","Incoming header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),vs=u("merge.incomingContentBackground",{dark:Mi(Bi,Zt),light:Mi(Bi,Zt),hcDark:Mi(Bi,Zt),hcLight:Mi(Bi,Zt)},L.NC("mergeIncomingContentBackground","Incoming content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),ps=u("merge.commonHeaderBackground",{dark:zt,light:zt,hcDark:null,hcLight:null},L.NC("mergeCommonHeaderBackground","Common ancestor header background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),hs=u("merge.commonContentBackground",{dark:Mi(ps,Zt),light:Mi(ps,Zt),hcDark:Mi(ps,Zt),hcLight:Mi(ps,Zt)},L.NC("mergeCommonContentBackground","Common ancestor content background in inline merge-conflicts. The color must not be opaque so as not to hide underlying decorations."),!0),qs=u("merge.border",{dark:null,light:null,hcDark:"#C3DF6F",hcLight:"#007ACC"},L.NC("mergeBorder","Border color on headers and the splitter in inline merge-conflicts.")),Po=u("editorOverviewRuler.currentContentForeground",{dark:Mi($n,qt),light:Mi($n,qt),hcDark:qs,hcLight:qs},L.NC("overviewRulerCurrentContentForeground","Current overview ruler foreground for inline merge-conflicts.")),Fa=u("editorOverviewRuler.incomingContentForeground",{dark:Mi(Bi,qt),light:Mi(Bi,qt),hcDark:qs,hcLight:qs},L.NC("overviewRulerIncomingContentForeground","Incoming overview ruler foreground for inline merge-conflicts.")),Ya=u("editorOverviewRuler.commonContentForeground",{dark:Mi(ps,qt),light:Mi(ps,qt),hcDark:qs,hcLight:qs},L.NC("overviewRulerCommonContentForeground","Common ancestor overview ruler foreground for inline merge-conflicts.")),zo=u("editorOverviewRuler.findMatchForeground",{dark:"#d186167e",light:"#d186167e",hcDark:"#AB5A00",hcLight:""},L.NC("overviewRulerFindMatchForeground","Overview ruler marker color for find matches. The color must not be opaque so as not to hide underlying decorations."),!0),Sa=u("editorOverviewRuler.selectionHighlightForeground",{dark:"#A0A0A0CC",light:"#A0A0A0CC",hcDark:"#A0A0A0CC",hcLight:"#A0A0A0CC"},L.NC("overviewRulerSelectionHighlightForeground","Overview ruler marker color for selection highlights. The color must not be opaque so as not to hide underlying decorations."),!0),ya=u("minimap.findMatchHighlight",{light:"#d18616",dark:"#d18616",hcDark:"#AB5A00",hcLight:"#0F4A85"},L.NC("minimapFindMatchHighlight","Minimap marker color for find matches."),!0),hl=u("minimap.selectionOccurrenceHighlight",{light:"#c9c9c9",dark:"#676767",hcDark:"#ffffff",hcLight:"#0F4A85"},L.NC("minimapSelectionOccurrenceHighlight","Minimap marker color for repeating editor selections."),!0),mr=u("minimap.selectionHighlight",{light:"#ADD6FF",dark:"#264F78",hcDark:"#ffffff",hcLight:"#0F4A85"},L.NC("minimapSelectionHighlight","Minimap marker color for the editor selection."),!0),Jo=u("minimap.errorHighlight",{dark:new d.Il(new d.VS(255,18,18,.7)),light:new d.Il(new d.VS(255,18,18,.7)),hcDark:new d.Il(new d.VS(255,50,50,1)),hcLight:"#B5200D"},L.NC("minimapError","Minimap marker color for errors.")),fl=u("minimap.warningHighlight",{dark:ht,light:ht,hcDark:yt,hcLight:yt},L.NC("overviewRuleWarning","Minimap marker color for warnings.")),gl=u("minimap.background",{dark:null,light:null,hcDark:null,hcLight:null},L.NC("minimapBackground","Minimap background color.")),Go=u("minimap.foregroundOpacity",{dark:d.Il.fromHex("#000f"),light:d.Il.fromHex("#000f"),hcDark:d.Il.fromHex("#000f"),hcLight:d.Il.fromHex("#000f")},L.NC("minimapForegroundOpacity",'Opacity of foreground elements rendered in the minimap. For example, "#000000c0" will render the elements with 75% opacity.')),Fr=u("minimapSlider.background",{light:Mi(_n,.5),dark:Mi(_n,.5),hcDark:Mi(_n,.5),hcLight:Mi(_n,.5)},L.NC("minimapSliderBackground","Minimap slider background color.")),La=u("minimapSlider.hoverBackground",{light:Mi(Rn,.5),dark:Mi(Rn,.5),hcDark:Mi(Rn,.5),hcLight:Mi(Rn,.5)},L.NC("minimapSliderHoverBackground","Minimap slider background color when hovering.")),Lc=u("minimapSlider.activeBackground",{light:Mi(Wn,.5),dark:Mi(Wn,.5),hcDark:Mi(Wn,.5),hcLight:Mi(Wn,.5)},L.NC("minimapSliderActiveBackground","Minimap slider background color when clicked on.")),Ea=u("problemsErrorIcon.foreground",{dark:qn,light:qn,hcDark:qn,hcLight:qn},L.NC("problemsErrorIconForeground","The color used for the problems error icon.")),Qa=u("problemsWarningIcon.foreground",{dark:ht,light:ht,hcDark:ht,hcLight:ht},L.NC("problemsWarningIconForeground","The color used for the problems warning icon.")),Da=u("problemsInfoIcon.foreground",{dark:qe,light:qe,hcDark:qe,hcLight:qe},L.NC("problemsInfoIconForeground","The color used for the problems info icon.")),Al=u("charts.foreground",{dark:a,light:a,hcDark:a,hcLight:a},L.NC("chartsForeground","The foreground color used in charts.")),lr=u("charts.lines",{dark:Mi(a,.5),light:Mi(a,.5),hcDark:Mi(a,.5),hcLight:Mi(a,.5)},L.NC("chartsLines","The color used for horizontal lines in charts.")),pr=u("charts.red",{dark:qn,light:qn,hcDark:qn,hcLight:qn},L.NC("chartsRed","The red color used in chart visualizations.")),da=u("charts.blue",{dark:qe,light:qe,hcDark:qe,hcLight:qe},L.NC("chartsBlue","The blue color used in chart visualizations.")),po=u("charts.yellow",{dark:ht,light:ht,hcDark:ht,hcLight:ht},L.NC("chartsYellow","The yellow color used in chart visualizations.")),ho=u("charts.orange",{dark:ya,light:ya,hcDark:ya,hcLight:ya},L.NC("chartsOrange","The orange color used in chart visualizations.")),Zi=u("charts.green",{dark:"#89D185",light:"#388A34",hcDark:"#89D185",hcLight:"#374e06"},L.NC("chartsGreen","The green color used in chart visualizations.")),Xa=u("charts.purple",{dark:"#B180D7",light:"#652D90",hcDark:"#B180D7",hcLight:"#652D90"},L.NC("chartsPurple","The purple color used in chart visualizations."));function Ba(Hi,Ws){var _o,ds,Zo;switch(Hi.op){case 0:return(_o=dr(Hi.value,Ws))===null||_o===void 0?void 0:_o.darken(Hi.factor);case 1:return(ds=dr(Hi.value,Ws))===null||ds===void 0?void 0:ds.lighten(Hi.factor);case 2:return(Zo=dr(Hi.value,Ws))===null||Zo===void 0?void 0:Zo.transparent(Hi.factor);case 3:for(const yo of Hi.values){const Fo=dr(yo,Ws);if(Fo)return Fo}return;case 5:return dr(Ws.defines(Hi.if)?Hi.then:Hi.else,Ws);case 4:{const yo=dr(Hi.value,Ws);if(!yo)return;const Fo=dr(Hi.background,Ws);return Fo?yo.isDarkerThan(Fo)?d.Il.getLighterColor(yo,Fo,Hi.factor).transparent(Hi.transparency):d.Il.getDarkerColor(yo,Fo,Hi.factor).transparent(Hi.transparency):yo.transparent(Hi.factor*Hi.transparency)}default:throw(0,W.vE)(Hi)}}function Zr(Hi,Ws){return{op:0,value:Hi,factor:Ws}}function cr(Hi,Ws){return{op:1,value:Hi,factor:Ws}}function Mi(Hi,Ws){return{op:2,value:Hi,factor:Ws}}function Yr(...Hi){return{op:3,values:Hi}}function Oo(Hi,Ws,_o){return{op:5,if:Hi,then:Ws,else:_o}}function Qr(Hi,Ws,_o,ds){return{op:4,value:Hi,background:Ws,factor:_o,transparency:ds}}function dr(Hi,Ws){if(Hi!==null){if(typeof Hi=="string")return Hi[0]==="#"?d.Il.fromHex(Hi):Ws.getColor(Hi);if(Hi instanceof d.Il)return Hi;if(typeof Hi=="object")return Ba(Hi,Ws)}}const ml="vscode://schemas/workbench-colors",pl=P.B.as(z.I.JSONContribution);pl.registerSchema(ml,_.getColorSchema());const Ja=new C.pY(()=>pl.notifySchemaChanged(ml),200);_.onDidChangeSchema(()=>{Ja.isScheduled()||Ja.schedule()})},33664:function(nt,xe,l){"use strict";l.d(xe,{Ks:function(){return D},q5:function(){return b},s_:function(){return R}});var C=l(84180),d=l(64272),j=l(60218),W=l(17014),L=l(92770),z=l(83218),P=l(528),A=l(14038),T=l(16597);const S={IconContribution:"base.contributions.icons"};var _;(function(de){function ge(le,se){let X=le.defaults;for(;T.kS.isThemeIcon(X);){const re=a.getIcon(X.id);if(!re)return;X=re.defaults}return X}de.getDefinition=ge})(_||(_={}));var y;(function(de){function ge(se){return{weight:se.weight,style:se.style,src:se.src.map(X=>({format:X.format,location:X.location.toString()}))}}de.toJSONObject=ge;function le(se){const X=re=>(0,W.HD)(re)?re:void 0;if(se&&Array.isArray(se.src)&&se.src.every(re=>(0,W.HD)(re.format)&&(0,W.HD)(re.location)))return{weight:X(se.weight),style:X(se.style),src:se.src.map(re=>({format:re.format,location:L.o.parse(re.location)}))}}de.fromJSONObject=le})(y||(y={}));class u{constructor(){this._onDidChange=new j.Q5,this.onDidChange=this._onDidChange.event,this.iconSchema={definitions:{icons:{type:"object",properties:{fontId:{type:"string",description:(0,z.NC)("iconDefinition.fontId","The id of the font to use. If not set, the font that is defined first is used.")},fontCharacter:{type:"string",description:(0,z.NC)("iconDefinition.fontCharacter","The font character associated with the icon definition.")}},additionalProperties:!1,defaultSnippets:[{body:{fontCharacter:"\\\\e030"}}]}},type:"object",properties:{}},this.iconReferenceSchema={type:"string",pattern:`^${d.dT.iconNameExpression}$`,enum:[],enumDescriptions:[]},this.iconsById={},this.iconFontsById={}}registerIcon(ge,le,se,X){const re=this.iconsById[ge];if(re){if(se&&!re.description){re.description=se,this.iconSchema.properties[ge].markdownDescription=`${se} $(${ge})`;const oe=this.iconReferenceSchema.enum.indexOf(ge);oe!==-1&&(this.iconReferenceSchema.enumDescriptions[oe]=se),this._onDidChange.fire()}return re}const ne={id:ge,description:se,defaults:le,deprecationMessage:X};this.iconsById[ge]=ne;const U={$ref:"#/definitions/icons"};return X&&(U.deprecationMessage=X),se&&(U.markdownDescription=`${se}: $(${ge})`),this.iconSchema.properties[ge]=U,this.iconReferenceSchema.enum.push(ge),this.iconReferenceSchema.enumDescriptions.push(se||""),this._onDidChange.fire(),{id:ge}}getIcons(){return Object.keys(this.iconsById).map(ge=>this.iconsById[ge])}getIcon(ge){return this.iconsById[ge]}getIconSchema(){return this.iconSchema}toString(){const ge=(re,ne)=>re.id.localeCompare(ne.id),le=re=>{for(;T.kS.isThemeIcon(re.defaults);)re=this.iconsById[re.defaults.id];return`codicon codicon-${re?re.id:""}`},se=[];se.push("| preview     | identifier                        | default codicon ID                | description"),se.push("| ----------- | --------------------------------- | --------------------------------- | --------------------------------- |");const X=Object.keys(this.iconsById).map(re=>this.iconsById[re]);for(const re of X.filter(ne=>!!ne.description).sort(ge))se.push(`|<i class="${le(re)}"></i>|${re.id}|${T.kS.isThemeIcon(re.defaults)?re.defaults.id:re.id}|${re.description||""}|`);se.push("| preview     | identifier                        "),se.push("| ----------- | --------------------------------- |");for(const re of X.filter(ne=>!T.kS.isThemeIcon(ne.defaults)).sort(ge))se.push(`|<i class="${le(re)}"></i>|${re.id}|`);return se.join(`
`)}}const a=new u;A.B.add(S.IconContribution,a);function b(de,ge,le,se){return a.registerIcon(de,ge,le,se)}function D(){return a}function N(){for(const de of d.lA.getAll())a.registerIcon(de.id,de.definition,de.description)}N();const I="vscode://schemas/icons",E=A.B.as(P.I.JSONContribution);E.registerSchema(I,a.getIconSchema());const O=new C.pY(()=>E.notifySchemaChanged(I),200);a.onDidChange(()=>{O.isScheduled()||O.schedule()});const R=b("widget-close",d.lA.close,(0,z.NC)("widgetClose","Icon for the close action in widgets.")),M=b("goto-previous-location",d.lA.arrowUp,(0,z.NC)("previousChangeIcon","Icon for goto previous editor location.")),K=b("goto-next-location",d.lA.arrowDown,(0,z.NC)("nextChangeIcon","Icon for goto next editor location.")),Z=T.kS.modify(d.lA.sync,"spin"),te=T.kS.modify(d.lA.loading,"spin")},4251:function(nt,xe,l){"use strict";l.d(xe,{Jl:function(){return L},O2:function(){return z},WZ:function(){return W},o:function(){return d},tj:function(){return A}});var C=l(55952);function d(T,S){const _=Object.create(null);for(const y in S){const u=S[y];u&&(_[y]=(0,C.Snq)(u,T))}return _}function j(T,S,_){function y(){const u=d(T.getColorTheme(),S);typeof _=="function"?_(u):_.style(u)}return y(),T.onDidColorThemeChange(y)}function W(T,S,_){return j(S,{badgeBackground:(_==null?void 0:_.badgeBackground)||C.g8u,badgeForeground:(_==null?void 0:_.badgeForeground)||C.qeD,badgeBorder:C.lRK},T)}function L(T,S,_){return j(S,Object.assign(Object.assign({},z),_||{}),T)}const z={listFocusBackground:C._bK,listFocusForeground:C._2n,listFocusOutline:C.Oop,listActiveSelectionBackground:C.dCr,listActiveSelectionForeground:C.M6C,listActiveSelectionIconForeground:C.Tnx,listFocusAndSelectionOutline:C.Bqu,listFocusAndSelectionBackground:C.dCr,listFocusAndSelectionForeground:C.M6C,listInactiveSelectionBackground:C.rg2,listInactiveSelectionIconForeground:C.kvU,listInactiveSelectionForeground:C.ytC,listInactiveFocusBackground:C.s$,listInactiveFocusOutline:C.F3d,listHoverBackground:C.mV1,listHoverForeground:C.$d5,listDropBackground:C.AS1,listSelectionOutline:C.xL1,listHoverOutline:C.xL1,listFilterWidgetBackground:C.vGG,listFilterWidgetOutline:C.oSI,listFilterWidgetNoMatchesOutline:C.Saq,listFilterWidgetShadow:C.y65,treeIndentGuidesStroke:C.UnT,tableColumnsBorder:C.uxu,tableOddRowsBackgroundColor:C.EQn,inputActiveOptionBorder:C.PRb,inputActiveOptionForeground:C.Pvw,inputActiveOptionBackground:C.XEs,inputBackground:C.sEe,inputForeground:C.zJb,inputBorder:C.dt_,inputValidationInfoBackground:C._lC,inputValidationInfoForeground:C.YI3,inputValidationInfoBorder:C.EPQ,inputValidationWarningBackground:C.RV_,inputValidationWarningForeground:C.SUG,inputValidationWarningBorder:C.C3g,inputValidationErrorBackground:C.paE,inputValidationErrorForeground:C._t9,inputValidationErrorBorder:C.OZR},P={shadowColor:C.rh,borderColor:C.Cdg,foregroundColor:C.DEr,backgroundColor:C.Hz8,selectionForegroundColor:C.jbW,selectionBackgroundColor:C.$DX,selectionBorderColor:C.E3h,separatorColor:C.ZGJ,scrollbarShadow:C._wn,scrollbarSliderBackground:C.etL,scrollbarSliderHoverBackground:C.ABB,scrollbarSliderActiveBackground:C.ynu};function A(T,S,_){return j(S,Object.assign(Object.assign({},P),_),T)}},26687:function(nt,xe,l){"use strict";l.d(xe,{_T:function(){return j},c3:function(){return d},eL:function(){return C}});var C;(function(W){W.DARK="dark",W.LIGHT="light",W.HIGH_CONTRAST_DARK="hcDark",W.HIGH_CONTRAST_LIGHT="hcLight"})(C||(C={}));function d(W){return W===C.HIGH_CONTRAST_DARK||W===C.HIGH_CONTRAST_LIGHT}function j(W){return W===C.DARK||W===C.HIGH_CONTRAST_DARK}},16597:function(nt,xe,l){"use strict";l.d(xe,{EN:function(){return T},IP:function(){return y},Ic:function(){return b},XE:function(){return P},bB:function(){return D},kS:function(){return S},m6:function(){return _}});var C=l(64272),d=l(60218),j=l(94214),W=l(47397),L=l(14038),z=l(26687);const P=(0,W.yh)("themeService");var A;(function(N){function I(E){return E&&typeof E=="object"&&typeof E.id=="string"}N.isThemeColor=I})(A||(A={}));function T(N){return{id:N}}var S;(function(N){function I(de){return de&&typeof de=="object"&&typeof de.id=="string"&&(typeof de.color=="undefined"||A.isThemeColor(de.color))}N.isThemeIcon=I;const E=new RegExp(`^\\$\\((${C.dT.iconNameExpression}(?:${C.dT.iconModifierExpression})?)\\)$`);function O(de){const ge=E.exec(de);if(!ge)return;const[,le]=ge;return{id:le}}N.fromString=O;function R(de){return{id:de}}N.fromId=R;function M(de,ge){let le=de.id;const se=le.lastIndexOf("~");return se!==-1&&(le=le.substring(0,se)),ge&&(le=`${le}~${ge}`),{id:le}}N.modify=M;function K(de){const ge=de.id.lastIndexOf("~");if(ge!==-1)return de.id.substring(ge+1)}N.getModifier=K;function Z(de,ge){var le,se;return de.id===ge.id&&((le=de.color)===null||le===void 0?void 0:le.id)===((se=ge.color)===null||se===void 0?void 0:se.id)}N.isEqual=Z;function te(de,ge){return{id:de.id,color:ge?T(ge):void 0}}N.asThemeIcon=te,N.asClassNameArray=C.dT.asClassNameArray,N.asClassName=C.dT.asClassName,N.asCSSSelector=C.dT.asCSSSelector})(S||(S={}));function _(N){switch(N){case z.eL.DARK:return"vs-dark";case z.eL.HIGH_CONTRAST_DARK:return"hc-black";case z.eL.HIGH_CONTRAST_LIGHT:return"hc-light";default:return"vs"}}const y={ThemingContribution:"base.contributions.theming"};class u{constructor(){this.themingParticipants=[],this.themingParticipants=[],this.onThemingParticipantAddedEmitter=new d.Q5}onColorThemeChange(I){return this.themingParticipants.push(I),this.onThemingParticipantAddedEmitter.fire(I),(0,j.OF)(()=>{const E=this.themingParticipants.indexOf(I);this.themingParticipants.splice(E,1)})}getThemingParticipants(){return this.themingParticipants}}const a=new u;L.B.add(y.ThemingContribution,a);function b(N){return a.onColorThemeChange(N)}class D extends j.JT{constructor(I){super(),this.themeService=I,this.theme=I.getColorTheme(),this._register(this.themeService.onDidColorThemeChange(E=>this.onThemeChange(E)))}onThemeChange(I){this.theme=I,this.updateStyles()}updateStyles(){}}},49750:function(nt,xe,l){"use strict";l.d(xe,{Xt:function(){return W},YO:function(){return j},gJ:function(){return L},tJ:function(){return d}});var C=l(47397);const d=(0,C.yh)("undoRedoService");class j{constructor(P,A){this.resource=P,this.elements=A}}class W{constructor(){this.id=W._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}W._ID=0,W.None=new W;class L{constructor(){this.id=L._ID++,this.order=1}nextOrder(){return this.id===0?0:this.order++}}L._ID=0,L.None=new L},81729:function(nt,xe,l){"use strict";l.d(xe,{A6:function(){return S},eb:function(){return z},ec:function(){return L},md:function(){return T},uT:function(){return P}});var C=l(83218),d=l(36230),j=l(92770),W=l(47397);const L=(0,W.yh)("contextService");function z(y){const u=y;return typeof(u==null?void 0:u.id)=="string"&&j.o.isUri(u.uri)}function P(y){if(y.configuration)return{id:y.id,configPath:y.configuration};if(y.folders.length===1)return{id:y.id,uri:y.folders[0].uri}}class A{constructor(u,a,b,D,N){this._id=u,this._transient=b,this._configuration=D,this._ignorePathCasing=N,this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0),this.folders=a}get folders(){return this._folders}set folders(u){this._folders=u,this.updateFoldersMap()}get id(){return this._id}get transient(){return this._transient}get configuration(){return this._configuration}set configuration(u){this._configuration=u}getFolder(u){return u&&this._foldersMap.findSubstr(u)||null}updateFoldersMap(){this._foldersMap=TernarySearchTree.forUris(this._ignorePathCasing,()=>!0);for(const u of this.folders)this._foldersMap.set(u.uri,u)}toJSON(){return{id:this.id,folders:this.folders,transient:this.transient,configuration:this.configuration}}}class T{constructor(u,a){this.raw=a,this.uri=u.uri,this.index=u.index,this.name=u.name}toJSON(){return{uri:this.uri,name:this.name,index:this.index}}}const S="code-workspace",_=[{name:(0,C.NC)("codeWorkspace","Code Workspace"),extensions:[S]}]},29313:function(nt,xe,l){"use strict";l.d(xe,{Y:function(){return d}});var C=l(47397);const d=(0,C.yh)("workspaceTrustManagementService")},71770:function(nt,xe){"use strict";function l(C,d){for(var j=Object.assign({},C),W=0;W<d.length;W+=1){var L=d[W];delete j[L]}return j}xe.Z=l},58809:function(nt){nt.exports=y,nt.exports.parse=d,nt.exports.compile=j,nt.exports.tokensToFunction=W,nt.exports.tokensToRegExp=_;var xe="/",l="./",C=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function d(u,a){for(var b=[],D=0,N=0,I="",E=a&&a.delimiter||xe,O=a&&a.delimiters||l,R=!1,M;(M=C.exec(u))!==null;){var K=M[0],Z=M[1],te=M.index;if(I+=u.slice(N,te),N=te+K.length,Z){I+=Z[1],R=!0;continue}var de="",ge=u[N],le=M[2],se=M[3],X=M[4],re=M[5];if(!R&&I.length){var ne=I.length-1;O.indexOf(I[ne])>-1&&(de=I[ne],I=I.slice(0,ne))}I&&(b.push(I),I="",R=!1);var U=de!==""&&ge!==void 0&&ge!==de,oe=re==="+"||re==="*",q=re==="?"||re==="*",ae=de||E,me=se||X;b.push({name:le||D++,prefix:de,delimiter:ae,optional:q,repeat:oe,partial:U,pattern:me?z(me):"[^"+L(ae)+"]+?"})}return(I||N<u.length)&&b.push(I+u.substr(N)),b}function j(u,a){return W(d(u,a))}function W(u){for(var a=new Array(u.length),b=0;b<u.length;b++)typeof u[b]=="object"&&(a[b]=new RegExp("^(?:"+u[b].pattern+")$"));return function(D,N){for(var I="",E=N&&N.encode||encodeURIComponent,O=0;O<u.length;O++){var R=u[O];if(typeof R=="string"){I+=R;continue}var M=D?D[R.name]:void 0,K;if(Array.isArray(M)){if(!R.repeat)throw new TypeError('Expected "'+R.name+'" to not repeat, but got array');if(M.length===0){if(R.optional)continue;throw new TypeError('Expected "'+R.name+'" to not be empty')}for(var Z=0;Z<M.length;Z++){if(K=E(M[Z],R),!a[O].test(K))throw new TypeError('Expected all "'+R.name+'" to match "'+R.pattern+'"');I+=(Z===0?R.prefix:R.delimiter)+K}continue}if(typeof M=="string"||typeof M=="number"||typeof M=="boolean"){if(K=E(String(M),R),!a[O].test(K))throw new TypeError('Expected "'+R.name+'" to match "'+R.pattern+'", but got "'+K+'"');I+=R.prefix+K;continue}if(R.optional){R.partial&&(I+=R.prefix);continue}throw new TypeError('Expected "'+R.name+'" to be '+(R.repeat?"an array":"a string"))}return I}}function L(u){return u.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function z(u){return u.replace(/([=!:$/()])/g,"\\$1")}function P(u){return u&&u.sensitive?"":"i"}function A(u,a){if(!a)return u;var b=u.source.match(/\((?!\?)/g);if(b)for(var D=0;D<b.length;D++)a.push({name:D,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return u}function T(u,a,b){for(var D=[],N=0;N<u.length;N++)D.push(y(u[N],a,b).source);return new RegExp("(?:"+D.join("|")+")",P(b))}function S(u,a,b){return _(d(u,b),a,b)}function _(u,a,b){b=b||{};for(var D=b.strict,N=b.start!==!1,I=b.end!==!1,E=L(b.delimiter||xe),O=b.delimiters||l,R=[].concat(b.endsWith||[]).map(L).concat("$").join("|"),M=N?"^":"",K=u.length===0,Z=0;Z<u.length;Z++){var te=u[Z];if(typeof te=="string")M+=L(te),K=Z===u.length-1&&O.indexOf(te[te.length-1])>-1;else{var de=te.repeat?"(?:"+te.pattern+")(?:"+L(te.delimiter)+"(?:"+te.pattern+"))*":te.pattern;a&&a.push(te),te.optional?te.partial?M+=L(te.prefix)+"("+de+")?":M+="(?:"+L(te.prefix)+"("+de+"))?":M+=L(te.prefix)+"("+de+")"}}return I?(D||(M+="(?:"+E+")?"),M+=R==="$"?"$":"(?="+R+")"):(D||(M+="(?:"+E+"(?="+R+"))?"),K||(M+="(?="+E+"|"+R+")")),new RegExp(M,P(b))}function y(u,a,b){return u instanceof RegExp?A(u,a):Array.isArray(u)?T(u,a,b):S(u,a,b)}},98878:function(nt,xe){"use strict";var l=Object.prototype.hasOwnProperty,C;function d(z){try{return decodeURIComponent(z.replace(/\+/g," "))}catch(P){return null}}function j(z){try{return encodeURIComponent(z)}catch(P){return null}}function W(z){for(var P=/([^=?#&]+)=?([^&]*)/g,A={},T;T=P.exec(z);){var S=d(T[1]),_=d(T[2]);S===null||_===null||S in A||(A[S]=_)}return A}function L(z,P){P=P||"";var A=[],T,S;typeof P!="string"&&(P="?");for(S in z)if(l.call(z,S)){if(T=z[S],!T&&(T===null||T===C||isNaN(T))&&(T=""),S=j(S),T=j(T),S===null||T===null)continue;A.push(S+"="+T)}return A.length?P+A.join("&"):""}xe.stringify=L,xe.parse=W},29712:function(nt,xe,l){"use strict";l.d(xe,{Z:function(){return ne}});var C=l(15882),d=l(56453),j=l(6614),W=l(30486),L=l(63313),z=l(84875),P=l.n(z),A=l(91926),T=l(44993),S=["prefixCls","invalidate","item","renderItem","responsive","responsiveDisabled","registerSize","itemKey","className","style","children","display","order","component"],_=void 0;function y(U,oe){var q=U.prefixCls,ae=U.invalidate,me=U.item,ke=U.renderItem,H=U.responsive,ut=U.responsiveDisabled,Ke=U.registerSize,He=U.itemKey,ze=U.className,Le=U.style,Ze=U.children,Ge=U.display,Fe=U.order,ct=U.component,ft=ct===void 0?"div":ct,Ot=(0,W.Z)(U,S),Et=H&&!Ge;function Vt(Ee){Ke(He,Ee)}L.useEffect(function(){return function(){Vt(null)}},[]);var We=ke&&me!==_?ke(me):Ze,St;ae||(St={opacity:Et?0:1,height:Et?0:_,overflowY:Et?"hidden":_,order:H?Fe:_,pointerEvents:Et?"none":_,position:Et?"absolute":_});var Re={};Et&&(Re["aria-hidden"]=!0);var Se=L.createElement(ft,(0,C.Z)({className:P()(!ae&&q,ze),style:(0,d.Z)((0,d.Z)({},St),Le)},Re,Ot,{ref:oe}),We);return H&&(Se=L.createElement(A.Z,{onResize:function(Be){var Xe=Be.offsetWidth;Vt(Xe)},disabled:ut},Se)),Se}var u=L.forwardRef(y);u.displayName="Item";var a=u,b=l(45829),D=l(50536);function N(){var U=(0,D.Z)({}),oe=(0,j.Z)(U,2),q=oe[1],ae=(0,L.useRef)([]),me=0,ke=0;function H(ut){var Ke=me;me+=1,ae.current.length<Ke+1&&(ae.current[Ke]=ut);var He=ae.current[Ke];function ze(Le){ae.current[Ke]=typeof Le=="function"?Le(ae.current[Ke]):Le,b.Z.cancel(ke),ke=(0,b.Z)(function(){q({},!0)})}return[He,ze]}return H}var I=["component"],E=["className"],O=["className"],R=function(oe,q){var ae=L.useContext(te);if(!ae){var me=oe.component,ke=me===void 0?"div":me,H=(0,W.Z)(oe,I);return L.createElement(ke,(0,C.Z)({},H,{ref:q}))}var ut=ae.className,Ke=(0,W.Z)(ae,E),He=oe.className,ze=(0,W.Z)(oe,O);return L.createElement(te.Provider,{value:null},L.createElement(a,(0,C.Z)({ref:q,className:P()(ut,He)},Ke,ze)))},M=L.forwardRef(R);M.displayName="RawItem";var K=M,Z=["prefixCls","data","renderItem","renderRawItem","itemKey","itemWidth","ssr","style","className","maxCount","renderRest","renderRawRest","suffix","component","itemComponent","onVisibleChange"],te=L.createContext(null),de="responsive",ge="invalidate";function le(U){return"+ ".concat(U.length," ...")}function se(U,oe){var q=U.prefixCls,ae=q===void 0?"rc-overflow":q,me=U.data,ke=me===void 0?[]:me,H=U.renderItem,ut=U.renderRawItem,Ke=U.itemKey,He=U.itemWidth,ze=He===void 0?10:He,Le=U.ssr,Ze=U.style,Ge=U.className,Fe=U.maxCount,ct=U.renderRest,ft=U.renderRawRest,Ot=U.suffix,Et=U.component,Vt=Et===void 0?"div":Et,We=U.itemComponent,St=U.onVisibleChange,Re=(0,W.Z)(U,Z),Se=N(),Ee=Le==="full",Be=Se(null),Xe=(0,j.Z)(Be,2),Pt=Xe[0],jt=Xe[1],pn=Pt||0,at=Se(new Map),Mt=(0,j.Z)(at,2),Gt=Mt[0],_n=Mt[1],Rn=Se(0),Wn=(0,j.Z)(Rn,2),wn=Wn[0],je=Wn[1],qn=Se(0),vt=(0,j.Z)(qn,2),_e=vt[0],ht=vt[1],yt=Se(0),ye=(0,j.Z)(yt,2),qe=ye[0],Wt=ye[1],Xt=(0,L.useState)(null),mn=(0,j.Z)(Xt,2),bn=mn[0],ot=mn[1],Rt=(0,L.useState)(null),kt=(0,j.Z)(Rt,2),wt=kt[0],ln=kt[1],_t=L.useMemo(function(){return wt===null&&Ee?Number.MAX_SAFE_INTEGER:wt||0},[wt,Pt]),di=(0,L.useState)(!1),Xn=(0,j.Z)(di,2),dn=Xn[0],Ve=Xn[1],Ce="".concat(ae,"-item"),dt=Math.max(wn,_e),Qt=Fe===de,en=ke.length&&Qt,vn=Fe===ge,An=en||typeof Fe=="number"&&ke.length>Fe,On=(0,L.useMemo)(function(){var nn=ke;return en?Pt===null&&Ee?nn=ke:nn=ke.slice(0,Math.min(ke.length,pn/ze)):typeof Fe=="number"&&(nn=ke.slice(0,Fe)),nn},[ke,ze,Pt,Fe,en]),In=(0,L.useMemo)(function(){return en?ke.slice(_t+1):ke.slice(On.length)},[ke,On,en,_t]),Sn=(0,L.useCallback)(function(nn,hn){var Vn;return typeof Ke=="function"?Ke(nn):(Vn=Ke&&(nn==null?void 0:nn[Ke]))!==null&&Vn!==void 0?Vn:hn},[Ke]),Mn=(0,L.useCallback)(H||function(nn){return nn},[H]);function Bn(nn,hn,Vn){wt===nn&&(hn===void 0||hn===bn)||(ln(nn),Vn||(Ve(nn<ke.length-1),St==null||St(nn)),hn!==void 0&&ot(hn))}function Jn(nn,hn){jt(hn.clientWidth)}function ai(nn,hn){_n(function(Vn){var Hn=new Map(Vn);return hn===null?Hn.delete(nn):Hn.set(nn,hn),Hn})}function jn(nn,hn){ht(hn),je(_e)}function Ii(nn,hn){Wt(hn)}function ci(nn){return Gt.get(Sn(On[nn],nn))}(0,T.Z)(function(){if(pn&&dt&&On){var nn=qe,hn=On.length,Vn=hn-1;if(!hn){Bn(0,null);return}for(var Hn=0;Hn<hn;Hn+=1){var Ci=ci(Hn);if(Ee&&(Ci=Ci||0),Ci===void 0){Bn(Hn-1,void 0,!0);break}if(nn+=Ci,Vn===0&&nn<=pn||Hn===Vn-1&&nn+ci(Vn)<=pn){Bn(Vn,null);break}else if(nn+dt>pn){Bn(Hn-1,nn-Ci-qe+_e);break}}Ot&&ci(0)+qe>pn&&ot(null)}},[pn,Gt,_e,qe,Sn,On]);var oi=dn&&!!In.length,wi={};bn!==null&&en&&(wi={position:"absolute",left:bn,top:0});var Li={prefixCls:Ce,responsive:en,component:We,invalidate:vn},kn=ut?function(nn,hn){var Vn=Sn(nn,hn);return L.createElement(te.Provider,{key:Vn,value:(0,d.Z)((0,d.Z)({},Li),{},{order:hn,item:nn,itemKey:Vn,registerSize:ai,display:hn<=_t})},ut(nn,hn))}:function(nn,hn){var Vn=Sn(nn,hn);return L.createElement(a,(0,C.Z)({},Li,{order:hn,key:Vn,item:nn,renderItem:Mn,itemKey:Vn,registerSize:ai,display:hn<=_t}))},vi,Si={order:oi?_t:Number.MAX_SAFE_INTEGER,className:"".concat(Ce,"-rest"),registerSize:jn,display:oi};if(ft)ft&&(vi=L.createElement(te.Provider,{value:(0,d.Z)((0,d.Z)({},Li),Si)},ft(In)));else{var Ye=ct||le;vi=L.createElement(a,(0,C.Z)({},Li,Si),typeof Ye=="function"?Ye(In):Ye)}var Tt=L.createElement(Vt,(0,C.Z)({className:P()(!vn&&ae,Ge),style:Ze,ref:oe},Re),On.map(kn),An?vi:null,Ot&&L.createElement(a,(0,C.Z)({},Li,{responsive:Qt,responsiveDisabled:!en,order:_t,className:"".concat(Ce,"-suffix"),registerSize:Ii,display:!0,style:wi}),Ot));return Qt&&(Tt=L.createElement(A.Z,{onResize:Jn,disabled:!en},Tt)),Tt}var X=L.forwardRef(se);X.displayName="Overflow",X.Item=K,X.RESPONSIVE=de,X.INVALIDATE=ge;var re=X,ne=re},41883:function(nt,xe){"use strict";xe.Z={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"}},30337:function(nt,xe,l){"use strict";l.d(xe,{g1:function(){return _},os:function(){return u}});var C=/margin|padding|width|height|max|min|offset/,d={left:!0,top:!0},j={cssFloat:1,styleFloat:1,float:1};function W(a){return a.nodeType===1?a.ownerDocument.defaultView.getComputedStyle(a,null):{}}function L(a,b,D){if(b=b.toLowerCase(),D==="auto"){if(b==="height")return a.offsetHeight;if(b==="width")return a.offsetWidth}return b in d||(d[b]=C.test(b)),d[b]?parseFloat(D)||0:D}function z(a,b){var D=arguments.length,N=W(a);return b=j[b]?"cssFloat"in a.style?"cssFloat":"styleFloat":b,D===1?N:L(a,b,N[b]||a.style[b])}function P(a,b,D){var N=arguments.length;if(b=j[b]?"cssFloat"in a.style?"cssFloat":"styleFloat":b,N===3)return typeof D=="number"&&C.test(b)&&(D="".concat(D,"px")),a.style[b]=D,D;for(var I in b)b.hasOwnProperty(I)&&P(a,I,b[I]);return W(a)}function A(a){return a===document.body?document.documentElement.clientWidth:a.offsetWidth}function T(a){return a===document.body?window.innerHeight||document.documentElement.clientHeight:a.offsetHeight}function S(){var a=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),b=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight);return{width:a,height:b}}function _(){var a=document.documentElement.clientWidth,b=window.innerHeight||document.documentElement.clientHeight;return{width:a,height:b}}function y(){return{scrollLeft:Math.max(document.documentElement.scrollLeft,document.body.scrollLeft),scrollTop:Math.max(document.documentElement.scrollTop,document.body.scrollTop)}}function u(a){var b=a.getBoundingClientRect(),D=document.documentElement;return{left:b.left+(window.pageXOffset||D.scrollLeft)-(D.clientLeft||document.body.clientLeft||0),top:b.top+(window.pageYOffset||D.scrollTop)-(D.clientTop||document.body.clientTop||0)}}},41384:function(nt){"use strict";nt.exports=function(l,C){if(C=C.split(":")[0],l=+l,!l)return!1;switch(C){case"http":case"ws":return l!==80;case"https":case"wss":return l!==443;case"ftp":return l!==21;case"gopher":return l!==70;case"file":return!1}return l!==0}},78078:function(nt,xe,l){"use strict";var C=l(63683);nt.exports=l(80608)(C),"_sockjs_onload"in l.g&&setTimeout(l.g._sockjs_onload,1)},45014:function(nt,xe,l){"use strict";var C=l(2937),d=l(92789);function j(){d.call(this),this.initEvent("close",!1,!1),this.wasClean=!1,this.code=0,this.reason=""}C(j,d),nt.exports=j},39622:function(nt,xe,l){"use strict";var C=l(2937),d=l(36393);function j(){d.call(this)}C(j,d),j.prototype.removeAllListeners=function(W){W?delete this._listeners[W]:this._listeners={}},j.prototype.once=function(W,L){var z=this,P=!1;function A(){z.removeListener(W,A),P||(P=!0,L.apply(this,arguments))}this.on(W,A)},j.prototype.emit=function(){var W=arguments[0],L=this._listeners[W];if(!!L){for(var z=arguments.length,P=new Array(z-1),A=1;A<z;A++)P[A-1]=arguments[A];for(var T=0;T<L.length;T++)L[T].apply(this,P)}},j.prototype.on=j.prototype.addListener=d.prototype.addEventListener,j.prototype.removeListener=d.prototype.removeEventListener,nt.exports.v=j},92789:function(nt){"use strict";function xe(l){this.type=l}xe.prototype.initEvent=function(l,C,d){return this.type=l,this.bubbles=C,this.cancelable=d,this.timeStamp=+new Date,this},xe.prototype.stopPropagation=function(){},xe.prototype.preventDefault=function(){},xe.CAPTURING_PHASE=1,xe.AT_TARGET=2,xe.BUBBLING_PHASE=3,nt.exports=xe},36393:function(nt){"use strict";function xe(){this._listeners={}}xe.prototype.addEventListener=function(l,C){l in this._listeners||(this._listeners[l]=[]);var d=this._listeners[l];d.indexOf(C)===-1&&(d=d.concat([C])),this._listeners[l]=d},xe.prototype.removeEventListener=function(l,C){var d=this._listeners[l];if(!!d){var j=d.indexOf(C);if(j!==-1){d.length>1?this._listeners[l]=d.slice(0,j).concat(d.slice(j+1)):delete this._listeners[l];return}}},xe.prototype.dispatchEvent=function(){var l=arguments[0],C=l.type,d=arguments.length===1?[l]:Array.apply(null,arguments);if(this["on"+C]&&this["on"+C].apply(this,d),C in this._listeners)for(var j=this._listeners[C],W=0;W<j.length;W++)j[W].apply(this,d)},nt.exports=xe},53385:function(nt,xe,l){"use strict";var C=l(2937),d=l(92789);function j(W){d.call(this),this.initEvent("message",!1,!1),this.data=W}C(j,d),nt.exports=j},28809:function(nt,xe,l){"use strict";var C=l(68734);function d(j){this._transport=j,j.on("message",this._transportMessage.bind(this)),j.on("close",this._transportClose.bind(this))}d.prototype._transportClose=function(j,W){C.postMessage("c",JSON.stringify([j,W]))},d.prototype._transportMessage=function(j){C.postMessage("t",j)},d.prototype._send=function(j){this._transport.send(j)},d.prototype._close=function(){this._transport.close(),this._transport.removeAllListeners()},nt.exports=d},80317:function(nt,xe,l){"use strict";var C=l(11803),d=l(56831),j=l(28809),W=l(57694),L=l(68734),z=l(81637),P=function(){};nt.exports=function(A,T){var S={};T.forEach(function(y){y.facadeTransport&&(S[y.facadeTransport.transportName]=y.facadeTransport)}),S[W.transportName]=W;var _;A.bootstrap_iframe=function(){var y;L.currentWindowId=z.hash.slice(1);var u=function(a){if(a.source===parent&&(typeof _=="undefined"&&(_=a.origin),a.origin===_)){var b;try{b=JSON.parse(a.data)}catch(R){P("bad json",a.data);return}if(b.windowId===L.currentWindowId)switch(b.type){case"s":var D;try{D=JSON.parse(b.data)}catch(R){P("bad json",b.data);break}var N=D[0],I=D[1],E=D[2],O=D[3];if(P(N,I,E,O),N!==A.version)throw new Error('Incompatible SockJS! Main site uses: "'+N+'", the iframe: "'+A.version+'".');if(!C.isOriginEqual(E,z.href)||!C.isOriginEqual(O,z.href))throw new Error("Can't connect to different domain from within an iframe. ("+z.href+", "+E+", "+O+")");y=new j(new S[I](E,O));break;case"m":y._send(b.data);break;case"c":y&&y._close(),y=null;break}}};d.attachEvent("message",u),L.postMessage("s")}}},65263:function(nt,xe,l){"use strict";var C=l(39622).v,d=l(2937),j=l(77234),W=function(){};function L(z,P){C.call(this);var A=this,T=+new Date;this.xo=new P("GET",z),this.xo.once("finish",function(S,_){var y,u;if(S===200){if(u=+new Date-T,_)try{y=JSON.parse(_)}catch(a){W("bad json",_)}j.isObject(y)||(y={})}A.emit("finish",y,u),A.removeAllListeners()})}d(L,C),L.prototype.close=function(){this.removeAllListeners(),this.xo.close()},nt.exports=L},57694:function(nt,xe,l){"use strict";var C=l(2937),d=l(39622).v,j=l(82458),W=l(65263);function L(z){var P=this;d.call(this),this.ir=new W(z,j),this.ir.once("finish",function(A,T){P.ir=null,P.emit("message",JSON.stringify([A,T]))})}C(L,d),L.transportName="iframe-info-receiver",L.prototype.close=function(){this.ir&&(this.ir.close(),this.ir=null),this.removeAllListeners()},nt.exports=L},49834:function(nt,xe,l){"use strict";var C=l(39622).v,d=l(2937),j=l(56831),W=l(36010),L=l(57694),z=function(){};function P(A,T){var S=this;C.call(this);var _=function(){var y=S.ifr=new W(L.transportName,T,A);y.once("message",function(u){if(u){var a;try{a=JSON.parse(u)}catch(N){z("bad json",u),S.emit("finish"),S.close();return}var b=a[0],D=a[1];S.emit("finish",b,D)}S.close()}),y.once("close",function(){S.emit("finish"),S.close()})};l.g.document.body?_():j.attachEvent("load",_)}d(P,C),P.enabled=function(){return W.enabled()},P.prototype.close=function(){this.ifr&&this.ifr.close(),this.removeAllListeners(),this.ifr=null},nt.exports=P},33639:function(nt,xe,l){"use strict";var C=l(39622).v,d=l(2937),j=l(11803),W=l(79150),L=l(91278),z=l(82458),P=l(69431),A=l(49834),T=l(65263),S=function(){};function _(y,u){S(y);var a=this;C.call(this),setTimeout(function(){a.doXhr(y,u)},0)}d(_,C),_._getReceiver=function(y,u,a){return a.sameOrigin?new T(u,z):L.enabled?new T(u,L):W.enabled&&a.sameScheme?new T(u,W):A.enabled()?new A(y,u):new T(u,P)},_.prototype.doXhr=function(y,u){var a=this,b=j.addPath(y,"/info");S("doXhr",b),this.xo=_._getReceiver(y,b,u),this.timeoutRef=setTimeout(function(){S("timeout"),a._cleanup(!1),a.emit("finish")},_.timeout),this.xo.once("finish",function(D,N){S("finish",D,N),a._cleanup(!0),a.emit("finish",D,N)})},_.prototype._cleanup=function(y){S("_cleanup"),clearTimeout(this.timeoutRef),this.timeoutRef=null,!y&&this.xo&&this.xo.close(),this.xo=null},_.prototype.close=function(){S("close"),this.removeAllListeners(),this._cleanup(!1)},_.timeout=8e3,nt.exports=_},81637:function(nt,xe,l){"use strict";nt.exports=l.g.location||{origin:"http://localhost:80",protocol:"http:",host:"localhost",port:80,href:"http://localhost/",hash:""}},80608:function(nt,xe,l){"use strict";l(71953);var C=l(52296),d=l(2937),j=l(36032),W=l(16118),L=l(11803),z=l(56831),P=l(99404),A=l(77234),T=l(36626),S=l(97254),_=l(92789),y=l(36393),u=l(81637),a=l(45014),b=l(53385),D=l(33639),N=function(){},I;function E(R,M,K){if(!(this instanceof E))return new E(R,M,K);if(arguments.length<1)throw new TypeError("Failed to construct 'SockJS: 1 argument required, but only 0 present");y.call(this),this.readyState=E.CONNECTING,this.extensions="",this.protocol="",K=K||{},K.protocols_whitelist&&S.warn("'protocols_whitelist' is DEPRECATED. Use 'transports' instead."),this._transportsWhitelist=K.transports,this._transportOptions=K.transportOptions||{},this._timeout=K.timeout||0;var Z=K.sessionId||8;if(typeof Z=="function")this._generateSessionId=Z;else if(typeof Z=="number")this._generateSessionId=function(){return j.string(Z)};else throw new TypeError("If sessionId is used in the options, it needs to be a number or a function.");this._server=K.server||j.numberString(1e3);var te=new C(R);if(!te.host||!te.protocol)throw new SyntaxError("The URL '"+R+"' is invalid");if(te.hash)throw new SyntaxError("The URL must not contain a fragment");if(te.protocol!=="http:"&&te.protocol!=="https:")throw new SyntaxError("The URL's scheme must be either 'http:' or 'https:'. '"+te.protocol+"' is not allowed.");var de=te.protocol==="https:";if(u.protocol==="https:"&&!de&&!L.isLoopbackAddr(te.hostname))throw new Error("SecurityError: An insecure SockJS connection may not be initiated from a page loaded over HTTPS");M?Array.isArray(M)||(M=[M]):M=[];var ge=M.sort();ge.forEach(function(se,X){if(!se)throw new SyntaxError("The protocols entry '"+se+"' is invalid.");if(X<ge.length-1&&se===ge[X+1])throw new SyntaxError("The protocols entry '"+se+"' is duplicated.")});var le=L.getOrigin(u.href);this._origin=le?le.toLowerCase():null,te.set("pathname",te.pathname.replace(/\/+$/,"")),this.url=te.href,N("using url",this.url),this._urlInfo={nullOrigin:!T.hasDomain(),sameOrigin:L.isOriginEqual(this.url,u.href),sameScheme:L.isSchemeEqual(this.url,u.href)},this._ir=new D(this.url,this._urlInfo),this._ir.once("finish",this._receiveInfo.bind(this))}d(E,y);function O(R){return R===1e3||R>=3e3&&R<=4999}E.prototype.close=function(R,M){if(R&&!O(R))throw new Error("InvalidAccessError: Invalid code");if(M&&M.length>123)throw new SyntaxError("reason argument has an invalid length");if(!(this.readyState===E.CLOSING||this.readyState===E.CLOSED)){var K=!0;this._close(R||1e3,M||"Normal closure",K)}},E.prototype.send=function(R){if(typeof R!="string"&&(R=""+R),this.readyState===E.CONNECTING)throw new Error("InvalidStateError: The connection has not been established yet");this.readyState===E.OPEN&&this._transport.send(W.quote(R))},E.version=l(19534),E.CONNECTING=0,E.OPEN=1,E.CLOSING=2,E.CLOSED=3,E.prototype._receiveInfo=function(R,M){if(N("_receiveInfo",M),this._ir=null,!R){this._close(1002,"Cannot connect to server");return}this._rto=this.countRTO(M),this._transUrl=R.base_url?R.base_url:this.url,R=A.extend(R,this._urlInfo),N("info",R);var K=I.filterToEnabled(this._transportsWhitelist,R);this._transports=K.main,N(this._transports.length+" enabled transports"),this._connect()},E.prototype._connect=function(){for(var R=this._transports.shift();R;R=this._transports.shift()){if(N("attempt",R.transportName),R.needBody&&(!l.g.document.body||typeof l.g.document.readyState!="undefined"&&l.g.document.readyState!=="complete"&&l.g.document.readyState!=="interactive")){N("waiting for body"),this._transports.unshift(R),z.attachEvent("load",this._connect.bind(this));return}var M=Math.max(this._timeout,this._rto*R.roundTrips||5e3);this._transportTimeoutId=setTimeout(this._transportTimeout.bind(this),M),N("using timeout",M);var K=L.addPath(this._transUrl,"/"+this._server+"/"+this._generateSessionId()),Z=this._transportOptions[R.transportName];N("transport url",K);var te=new R(K,this._transUrl,Z);te.on("message",this._transportMessage.bind(this)),te.once("close",this._transportClose.bind(this)),te.transportName=R.transportName,this._transport=te;return}this._close(2e3,"All transports failed",!1)},E.prototype._transportTimeout=function(){N("_transportTimeout"),this.readyState===E.CONNECTING&&(this._transport&&this._transport.close(),this._transportClose(2007,"Transport timed out"))},E.prototype._transportMessage=function(R){N("_transportMessage",R);var M=this,K=R.slice(0,1),Z=R.slice(1),te;switch(K){case"o":this._open();return;case"h":this.dispatchEvent(new _("heartbeat")),N("heartbeat",this.transport);return}if(Z)try{te=JSON.parse(Z)}catch(de){N("bad json",Z)}if(typeof te=="undefined"){N("empty payload",Z);return}switch(K){case"a":Array.isArray(te)&&te.forEach(function(de){N("message",M.transport,de),M.dispatchEvent(new b(de))});break;case"m":N("message",this.transport,te),this.dispatchEvent(new b(te));break;case"c":Array.isArray(te)&&te.length===2&&this._close(te[0],te[1],!0);break}},E.prototype._transportClose=function(R,M){if(N("_transportClose",this.transport,R,M),this._transport&&(this._transport.removeAllListeners(),this._transport=null,this.transport=null),!O(R)&&R!==2e3&&this.readyState===E.CONNECTING){this._connect();return}this._close(R,M)},E.prototype._open=function(){N("_open",this._transport&&this._transport.transportName,this.readyState),this.readyState===E.CONNECTING?(this._transportTimeoutId&&(clearTimeout(this._transportTimeoutId),this._transportTimeoutId=null),this.readyState=E.OPEN,this.transport=this._transport.transportName,this.dispatchEvent(new _("open")),N("connected",this.transport)):this._close(1006,"Server lost session")},E.prototype._close=function(R,M,K){N("_close",this.transport,R,M,K,this.readyState);var Z=!1;if(this._ir&&(Z=!0,this._ir.close(),this._ir=null),this._transport&&(this._transport.close(),this._transport=null,this.transport=null),this.readyState===E.CLOSED)throw new Error("InvalidStateError: SockJS has already been closed");this.readyState=E.CLOSING,setTimeout(function(){this.readyState=E.CLOSED,Z&&this.dispatchEvent(new _("error"));var te=new a("close");te.wasClean=K||!1,te.code=R||1e3,te.reason=M,this.dispatchEvent(te),this.onmessage=this.onclose=this.onerror=null,N("disconnected")}.bind(this),0)},E.prototype.countRTO=function(R){return R>100?4*R:300+R},nt.exports=function(R){return I=P(R),l(80317)(E,R),E}},71953:function(){"use strict";var nt=Array.prototype,xe=Object.prototype,l=Function.prototype,C=String.prototype,d=nt.slice,j=xe.toString,W=function(R){return xe.toString.call(R)==="[object Function]"},L=function(M){return j.call(M)==="[object Array]"},z=function(M){return j.call(M)==="[object String]"},P=Object.defineProperty&&function(){try{return Object.defineProperty({},"x",{}),!0}catch(R){return!1}}(),A;P?A=function(R,M,K,Z){!Z&&M in R||Object.defineProperty(R,M,{configurable:!0,enumerable:!1,writable:!0,value:K})}:A=function(R,M,K,Z){!Z&&M in R||(R[M]=K)};var T=function(R,M,K){for(var Z in M)xe.hasOwnProperty.call(M,Z)&&A(R,Z,M[Z],K)},S=function(R){if(R==null)throw new TypeError("can't convert "+R+" to object");return Object(R)};function _(R){var M=+R;return M!==M?M=0:M!==0&&M!==1/0&&M!==-(1/0)&&(M=(M>0||-1)*Math.floor(Math.abs(M))),M}function y(R){return R>>>0}function u(){}T(l,{bind:function(M){var K=this;if(!W(K))throw new TypeError("Function.prototype.bind called on incompatible "+K);for(var Z=d.call(arguments,1),te=function(){if(this instanceof se){var X=K.apply(this,Z.concat(d.call(arguments)));return Object(X)===X?X:this}else return K.apply(M,Z.concat(d.call(arguments)))},de=Math.max(0,K.length-Z.length),ge=[],le=0;le<de;le++)ge.push("$"+le);var se=Function("binder","return function ("+ge.join(",")+"){ return binder.apply(this, arguments); }")(te);return K.prototype&&(u.prototype=K.prototype,se.prototype=new u,u.prototype=null),se}}),T(Array,{isArray:L});var a=Object("a"),b=a[0]!=="a"||!(0 in a),D=function(M){var K=!0,Z=!0;return M&&(M.call("foo",function(te,de,ge){typeof ge!="object"&&(K=!1)}),M.call([1],function(){"use strict";Z=typeof this=="string"},"x")),!!M&&K&&Z};T(nt,{forEach:function(M){var K=S(this),Z=b&&z(this)?this.split(""):K,te=arguments[1],de=-1,ge=Z.length>>>0;if(!W(M))throw new TypeError;for(;++de<ge;)de in Z&&M.call(te,Z[de],de,K)}},!D(nt.forEach));var N=Array.prototype.indexOf&&[0,1].indexOf(1,2)!==-1;T(nt,{indexOf:function(M){var K=b&&z(this)?this.split(""):S(this),Z=K.length>>>0;if(!Z)return-1;var te=0;for(arguments.length>1&&(te=_(arguments[1])),te=te>=0?te:Math.max(0,Z+te);te<Z;te++)if(te in K&&K[te]===M)return te;return-1}},N);var I=C.split;"ab".split(/(?:ab)*/).length!==2||".".split(/(.?)(.?)/).length!==4||"tesst".split(/(s)*/)[1]==="t"||"test".split(/(?:)/,-1).length!==4||"".split(/.?/).length||".".split(/()()/).length>1?function(){var R=/()??/.exec("")[1]===void 0;C.split=function(M,K){var Z=this;if(M===void 0&&K===0)return[];if(j.call(M)!=="[object RegExp]")return I.call(this,M,K);var te=[],de=(M.ignoreCase?"i":"")+(M.multiline?"m":"")+(M.extended?"x":"")+(M.sticky?"y":""),ge=0,le,se,X,re;for(M=new RegExp(M.source,de+"g"),Z+="",R||(le=new RegExp("^"+M.source+"$(?!\\s)",de)),K=K===void 0?-1>>>0:y(K);(se=M.exec(Z))&&(X=se.index+se[0].length,!(X>ge&&(te.push(Z.slice(ge,se.index)),!R&&se.length>1&&se[0].replace(le,function(){for(var ne=1;ne<arguments.length-2;ne++)arguments[ne]===void 0&&(se[ne]=void 0)}),se.length>1&&se.index<Z.length&&nt.push.apply(te,se.slice(1)),re=se[0].length,ge=X,te.length>=K)));)M.lastIndex===se.index&&M.lastIndex++;return ge===Z.length?(re||!M.test(""))&&te.push(""):te.push(Z.slice(ge)),te.length>K?te.slice(0,K):te}}():"0".split(void 0,0).length&&(C.split=function(M,K){return M===void 0&&K===0?[]:I.call(this,M,K)});var E=C.substr,O="".substr&&"0b".substr(-1)!=="b";T(C,{substr:function(M,K){return E.call(this,M<0&&(M=this.length+M)<0?0:M,K)}},O)},63683:function(nt,xe,l){"use strict";nt.exports=[l(89712),l(18690),l(63358),l(98213),l(34930)(l(98213)),l(40651),l(34930)(l(40651)),l(13900),l(16685),l(34930)(l(13900)),l(77911)]},90771:function(nt,xe,l){"use strict";var C=l(39622).v,d=l(2937),j=l(56831),W=l(11803),L=l.g.XMLHttpRequest,z=function(){};function P(S,_,y,u){z(S,_);var a=this;C.call(this),setTimeout(function(){a._start(S,_,y,u)},0)}d(P,C),P.prototype._start=function(S,_,y,u){var a=this;try{this.xhr=new L}catch(D){}if(!this.xhr){z("no xhr"),this.emit("finish",0,"no xhr support"),this._cleanup();return}_=W.addQuery(_,"t="+ +new Date),this.unloadRef=j.unloadAdd(function(){z("unload cleanup"),a._cleanup(!0)});try{this.xhr.open(S,_,!0),this.timeout&&"timeout"in this.xhr&&(this.xhr.timeout=this.timeout,this.xhr.ontimeout=function(){z("xhr timeout"),a.emit("finish",0,""),a._cleanup(!1)})}catch(D){z("exception",D),this.emit("finish",0,""),this._cleanup(!1);return}if((!u||!u.noCredentials)&&P.supportsCORS&&(z("withCredentials"),this.xhr.withCredentials=!0),u&&u.headers)for(var b in u.headers)this.xhr.setRequestHeader(b,u.headers[b]);this.xhr.onreadystatechange=function(){if(a.xhr){var D=a.xhr,N,I;switch(z("readyState",D.readyState),D.readyState){case 3:try{I=D.status,N=D.responseText}catch(E){}z("status",I),I===1223&&(I=204),I===200&&N&&N.length>0&&(z("chunk"),a.emit("chunk",I,N));break;case 4:I=D.status,z("status",I),I===1223&&(I=204),(I===12005||I===12029)&&(I=0),z("finish",I,D.responseText),a.emit("finish",I,D.responseText),a._cleanup(!1);break}}};try{a.xhr.send(y)}catch(D){a.emit("finish",0,""),a._cleanup(!1)}},P.prototype._cleanup=function(S){if(z("cleanup"),!!this.xhr){if(this.removeAllListeners(),j.unloadDel(this.unloadRef),this.xhr.onreadystatechange=function(){},this.xhr.ontimeout&&(this.xhr.ontimeout=null),S)try{this.xhr.abort()}catch(_){}this.unloadRef=this.xhr=null}},P.prototype.close=function(){z("close"),this._cleanup(!0)},P.enabled=!!L;var A=["Active"].concat("Object").join("X");!P.enabled&&A in l.g&&(z("overriding xmlhttprequest"),L=function(){try{return new l.g[A]("Microsoft.XMLHTTP")}catch(S){return null}},P.enabled=!!new L);var T=!1;try{T="withCredentials"in new L}catch(S){}P.supportsCORS=T,nt.exports=P},71494:function(nt,xe,l){nt.exports=l.g.EventSource},53485:function(nt,xe,l){"use strict";var C=l.g.WebSocket||l.g.MozWebSocket;C?nt.exports=function(j){return new C(j)}:nt.exports=void 0},98213:function(nt,xe,l){"use strict";var C=l(2937),d=l(72261),j=l(95765),W=l(91278),L=l(71494);function z(P){if(!z.enabled())throw new Error("Transport created when disabled");d.call(this,P,"/eventsource",j,W)}C(z,d),z.enabled=function(){return!!L},z.transportName="eventsource",z.roundTrips=2,nt.exports=z},40651:function(nt,xe,l){"use strict";var C=l(2937),d=l(86119),j=l(82458),W=l(72261);function L(z){if(!d.enabled)throw new Error("Transport created when disabled");W.call(this,z,"/htmlfile",d,j)}C(L,W),L.enabled=function(z){return d.enabled&&z.sameOrigin},L.transportName="htmlfile",L.roundTrips=2,nt.exports=L},36010:function(nt,xe,l){"use strict";var C=l(2937),d=l(39622).v,j=l(19534),W=l(11803),L=l(68734),z=l(56831),P=l(36032),A=function(){};function T(S,_,y){if(!T.enabled())throw new Error("Transport created when disabled");d.call(this);var u=this;this.origin=W.getOrigin(y),this.baseUrl=y,this.transUrl=_,this.transport=S,this.windowId=P.string(8);var a=W.addPath(y,"/iframe.html")+"#"+this.windowId;A(S,_,a),this.iframeObj=L.createIframe(a,function(b){A("err callback"),u.emit("close",1006,"Unable to load an iframe ("+b+")"),u.close()}),this.onmessageCallback=this._message.bind(this),z.attachEvent("message",this.onmessageCallback)}C(T,d),T.prototype.close=function(){if(A("close"),this.removeAllListeners(),this.iframeObj){z.detachEvent("message",this.onmessageCallback);try{this.postMessage("c")}catch(S){}this.iframeObj.cleanup(),this.iframeObj=null,this.onmessageCallback=this.iframeObj=null}},T.prototype._message=function(S){if(A("message",S.data),!W.isOriginEqual(S.origin,this.origin)){A("not same origin",S.origin,this.origin);return}var _;try{_=JSON.parse(S.data)}catch(u){A("bad json",S.data);return}if(_.windowId!==this.windowId){A("mismatched window id",_.windowId,this.windowId);return}switch(_.type){case"s":this.iframeObj.loaded(),this.postMessage("s",JSON.stringify([j,this.transport,this.transUrl,this.baseUrl]));break;case"t":this.emit("message",_.data);break;case"c":var y;try{y=JSON.parse(_.data)}catch(u){A("bad json",_.data);return}this.emit("close",y[0],y[1]),this.close();break}},T.prototype.postMessage=function(S,_){A("postMessage",S,_),this.iframeObj.post(JSON.stringify({windowId:this.windowId,type:S,data:_||""}),this.origin)},T.prototype.send=function(S){A("send",S),this.postMessage("m",S)},T.enabled=function(){return L.iframeEnabled},T.transportName="iframe",T.roundTrips=2,nt.exports=T},77911:function(nt,xe,l){"use strict";var C=l(2937),d=l(34430),j=l(48003),W=l(70605);function L(z){if(!L.enabled())throw new Error("Transport created when disabled");d.call(this,z,"/jsonp",W,j)}C(L,d),L.enabled=function(){return!!l.g.document},L.transportName="jsonp-polling",L.roundTrips=1,L.needBody=!0,nt.exports=L},72261:function(nt,xe,l){"use strict";var C=l(2937),d=l(11803),j=l(34430),W=function(){};function L(P){return function(A,T,S){W("create ajax sender",A,T);var _={};typeof T=="string"&&(_.headers={"Content-type":"text/plain"});var y=d.addPath(A,"/xhr_send"),u=new P("POST",y,T,_);return u.once("finish",function(a){if(W("finish",a),u=null,a!==200&&a!==204)return S(new Error("http status "+a));S()}),function(){W("abort"),u.close(),u=null;var a=new Error("Aborted");a.code=1e3,S(a)}}}function z(P,A,T,S){j.call(this,P,A,L(S),T,S)}C(z,j),nt.exports=z},83626:function(nt,xe,l){"use strict";var C=l(2937),d=l(39622).v,j=function(){};function W(L,z){j(L),d.call(this),this.sendBuffer=[],this.sender=z,this.url=L}C(W,d),W.prototype.send=function(L){j("send",L),this.sendBuffer.push(L),this.sendStop||this.sendSchedule()},W.prototype.sendScheduleWait=function(){j("sendScheduleWait");var L=this,z;this.sendStop=function(){j("sendStop"),L.sendStop=null,clearTimeout(z)},z=setTimeout(function(){j("timeout"),L.sendStop=null,L.sendSchedule()},25)},W.prototype.sendSchedule=function(){j("sendSchedule",this.sendBuffer.length);var L=this;if(this.sendBuffer.length>0){var z="["+this.sendBuffer.join(",")+"]";this.sendStop=this.sender(this.url,z,function(P){L.sendStop=null,P?(j("error",P),L.emit("close",P.code||1006,"Sending error: "+P),L.close()):L.sendScheduleWait()}),this.sendBuffer=[]}},W.prototype._cleanup=function(){j("_cleanup"),this.removeAllListeners()},W.prototype.close=function(){j("close"),this._cleanup(),this.sendStop&&(this.sendStop(),this.sendStop=null)},nt.exports=W},34930:function(nt,xe,l){"use strict";var C=l(2937),d=l(36010),j=l(77234);nt.exports=function(W){function L(z,P){d.call(this,W.transportName,z,P)}return C(L,d),L.enabled=function(z,P){if(!l.g.document)return!1;var A=j.extend({},P);return A.sameOrigin=!0,W.enabled(A)&&d.enabled()},L.transportName="iframe-"+W.transportName,L.needBody=!0,L.roundTrips=d.roundTrips+W.roundTrips-1,L.facadeTransport=W,L}},24408:function(nt,xe,l){"use strict";var C=l(2937),d=l(39622).v,j=function(){};function W(L,z,P){j(z),d.call(this),this.Receiver=L,this.receiveUrl=z,this.AjaxObject=P,this._scheduleReceiver()}C(W,d),W.prototype._scheduleReceiver=function(){j("_scheduleReceiver");var L=this,z=this.poll=new this.Receiver(this.receiveUrl,this.AjaxObject);z.on("message",function(P){j("message",P),L.emit("message",P)}),z.once("close",function(P,A){j("close",P,A,L.pollIsClosing),L.poll=z=null,L.pollIsClosing||(A==="network"?L._scheduleReceiver():(L.emit("close",P||1006,A),L.removeAllListeners()))})},W.prototype.abort=function(){j("abort"),this.removeAllListeners(),this.pollIsClosing=!0,this.poll&&this.poll.abort()},nt.exports=W},34430:function(nt,xe,l){"use strict";var C=l(2937),d=l(11803),j=l(83626),W=l(24408),L=function(){};function z(P,A,T,S,_){var y=d.addPath(P,A);L(y);var u=this;j.call(this,P,T),this.poll=new W(S,y,_),this.poll.on("message",function(a){L("poll message",a),u.emit("message",a)}),this.poll.once("close",function(a,b){L("poll close",a,b),u.poll=null,u.emit("close",a,b),u.close()})}C(z,j),z.prototype.close=function(){j.prototype.close.call(this),L("close"),this.removeAllListeners(),this.poll&&(this.poll.abort(),this.poll=null)},nt.exports=z},95765:function(nt,xe,l){"use strict";var C=l(2937),d=l(39622).v,j=l(71494),W=function(){};function L(z){W(z),d.call(this);var P=this,A=this.es=new j(z);A.onmessage=function(T){W("message",T.data),P.emit("message",decodeURI(T.data))},A.onerror=function(T){W("error",A.readyState,T);var S=A.readyState!==2?"network":"permanent";P._cleanup(),P._close(S)}}C(L,d),L.prototype.abort=function(){W("abort"),this._cleanup(),this._close("user")},L.prototype._cleanup=function(){W("cleanup");var z=this.es;z&&(z.onmessage=z.onerror=null,z.close(),this.es=null)},L.prototype._close=function(z){W("close",z);var P=this;setTimeout(function(){P.emit("close",null,z),P.removeAllListeners()},200)},nt.exports=L},86119:function(nt,xe,l){"use strict";var C=l(2937),d=l(68734),j=l(11803),W=l(39622).v,L=l(36032),z=function(){};function P(T){z(T),W.call(this);var S=this;d.polluteGlobalNamespace(),this.id="a"+L.string(6),T=j.addQuery(T,"c="+decodeURIComponent(d.WPrefix+"."+this.id)),z("using htmlfile",P.htmlfileEnabled);var _=P.htmlfileEnabled?d.createHtmlfile:d.createIframe;l.g[d.WPrefix][this.id]={start:function(){z("start"),S.iframeObj.loaded()},message:function(y){z("message",y),S.emit("message",y)},stop:function(){z("stop"),S._cleanup(),S._close("network")}},this.iframeObj=_(T,function(){z("callback"),S._cleanup(),S._close("permanent")})}C(P,W),P.prototype.abort=function(){z("abort"),this._cleanup(),this._close("user")},P.prototype._cleanup=function(){z("_cleanup"),this.iframeObj&&(this.iframeObj.cleanup(),this.iframeObj=null),delete l.g[d.WPrefix][this.id]},P.prototype._close=function(T){z("_close",T),this.emit("close",null,T),this.removeAllListeners()},P.htmlfileEnabled=!1;var A=["Active"].concat("Object").join("X");if(A in l.g)try{P.htmlfileEnabled=!!new l.g[A]("htmlfile")}catch(T){}P.enabled=P.htmlfileEnabled||d.iframeEnabled,nt.exports=P},48003:function(nt,xe,l){"use strict";var C=l(68734),d=l(36032),j=l(36626),W=l(11803),L=l(2937),z=l(39622).v,P=function(){};function A(T){P(T);var S=this;z.call(this),C.polluteGlobalNamespace(),this.id="a"+d.string(6);var _=W.addQuery(T,"c="+encodeURIComponent(C.WPrefix+"."+this.id));l.g[C.WPrefix][this.id]=this._callback.bind(this),this._createScript(_),this.timeoutId=setTimeout(function(){P("timeout"),S._abort(new Error("JSONP script loaded abnormally (timeout)"))},A.timeout)}L(A,z),A.prototype.abort=function(){if(P("abort"),l.g[C.WPrefix][this.id]){var T=new Error("JSONP user aborted read");T.code=1e3,this._abort(T)}},A.timeout=35e3,A.scriptErrorTimeout=1e3,A.prototype._callback=function(T){P("_callback",T),this._cleanup(),!this.aborting&&(T&&(P("message",T),this.emit("message",T)),this.emit("close",null,"network"),this.removeAllListeners())},A.prototype._abort=function(T){P("_abort",T),this._cleanup(),this.aborting=!0,this.emit("close",T.code,T.message),this.removeAllListeners()},A.prototype._cleanup=function(){if(P("_cleanup"),clearTimeout(this.timeoutId),this.script2&&(this.script2.parentNode.removeChild(this.script2),this.script2=null),this.script){var T=this.script;T.parentNode.removeChild(T),T.onreadystatechange=T.onerror=T.onload=T.onclick=null,this.script=null}delete l.g[C.WPrefix][this.id]},A.prototype._scriptError=function(){P("_scriptError");var T=this;this.errorTimer||(this.errorTimer=setTimeout(function(){T.loadedOkay||T._abort(new Error("JSONP script loaded abnormally (onerror)"))},A.scriptErrorTimeout))},A.prototype._createScript=function(T){P("_createScript",T);var S=this,_=this.script=l.g.document.createElement("script"),y;if(_.id="a"+d.string(8),_.src=T,_.type="text/javascript",_.charset="UTF-8",_.onerror=this._scriptError.bind(this),_.onload=function(){P("onload"),S._abort(new Error("JSONP script loaded abnormally (onload)"))},_.onreadystatechange=function(){if(P("onreadystatechange",_.readyState),/loaded|closed/.test(_.readyState)){if(_&&_.htmlFor&&_.onclick){S.loadedOkay=!0;try{_.onclick()}catch(a){}}_&&S._abort(new Error("JSONP script loaded abnormally (onreadystatechange)"))}},typeof _.async=="undefined"&&l.g.document.attachEvent)if(j.isOpera())y=this.script2=l.g.document.createElement("script"),y.text="try{var a = document.getElementById('"+_.id+"'); if(a)a.onerror();}catch(x){};",_.async=y.async=!1;else{try{_.htmlFor=_.id,_.event="onclick"}catch(a){}_.async=!0}typeof _.async!="undefined"&&(_.async=!0);var u=l.g.document.getElementsByTagName("head")[0];u.insertBefore(_,u.firstChild),y&&u.insertBefore(y,u.firstChild)},nt.exports=A},96960:function(nt,xe,l){"use strict";var C=l(2937),d=l(39622).v,j=function(){};function W(L,z){j(L),d.call(this);var P=this;this.bufferPosition=0,this.xo=new z("POST",L,null),this.xo.on("chunk",this._chunkHandler.bind(this)),this.xo.once("finish",function(A,T){j("finish",A,T),P._chunkHandler(A,T),P.xo=null;var S=A===200?"network":"permanent";j("close",S),P.emit("close",null,S),P._cleanup()})}C(W,d),W.prototype._chunkHandler=function(L,z){if(j("_chunkHandler",L),!(L!==200||!z))for(var P=-1;;this.bufferPosition+=P+1){var A=z.slice(this.bufferPosition);if(P=A.indexOf(`
`),P===-1)break;var T=A.slice(0,P);T&&(j("message",T),this.emit("message",T))}},W.prototype._cleanup=function(){j("_cleanup"),this.removeAllListeners()},W.prototype.abort=function(){j("abort"),this.xo&&(this.xo.close(),j("close"),this.emit("close",null,"user"),this.xo=null),this._cleanup()},nt.exports=W},70605:function(nt,xe,l){"use strict";var C=l(36032),d=l(11803),j=function(){},W,L;function z(A){j("createIframe",A);try{return l.g.document.createElement('<iframe name="'+A+'">')}catch(S){var T=l.g.document.createElement("iframe");return T.name=A,T}}function P(){j("createForm"),W=l.g.document.createElement("form"),W.style.display="none",W.style.position="absolute",W.method="POST",W.enctype="application/x-www-form-urlencoded",W.acceptCharset="UTF-8",L=l.g.document.createElement("textarea"),L.name="d",W.appendChild(L),l.g.document.body.appendChild(W)}nt.exports=function(A,T,S){j(A,T),W||P();var _="a"+C.string(8);W.target=_,W.action=d.addQuery(d.addPath(A,"/jsonp_send"),"i="+_);var y=z(_);y.id=_,y.style.display="none",W.appendChild(y);try{L.value=T}catch(a){}W.submit();var u=function(a){j("completed",_,a),y.onerror&&(y.onreadystatechange=y.onerror=y.onload=null,setTimeout(function(){j("cleaning up",_),y.parentNode.removeChild(y),y=null},500),L.value="",S(a))};return y.onerror=function(){j("onerror",_),u()},y.onload=function(){j("onload",_),u()},y.onreadystatechange=function(a){j("onreadystatechange",_,y.readyState,a),y.readyState==="complete"&&u()},function(){j("aborted",_),u(new Error("Aborted"))}}},79150:function(nt,xe,l){"use strict";var C=l(39622).v,d=l(2937),j=l(56831),W=l(36626),L=l(11803),z=function(){};function P(A,T,S){z(A,T);var _=this;C.call(this),setTimeout(function(){_._start(A,T,S)},0)}d(P,C),P.prototype._start=function(A,T,S){z("_start");var _=this,y=new l.g.XDomainRequest;T=L.addQuery(T,"t="+ +new Date),y.onerror=function(){z("onerror"),_._error()},y.ontimeout=function(){z("ontimeout"),_._error()},y.onprogress=function(){z("progress",y.responseText),_.emit("chunk",200,y.responseText)},y.onload=function(){z("load"),_.emit("finish",200,y.responseText),_._cleanup(!1)},this.xdr=y,this.unloadRef=j.unloadAdd(function(){_._cleanup(!0)});try{this.xdr.open(A,T),this.timeout&&(this.xdr.timeout=this.timeout),this.xdr.send(S)}catch(u){this._error()}},P.prototype._error=function(){this.emit("finish",0,""),this._cleanup(!1)},P.prototype._cleanup=function(A){if(z("cleanup",A),!!this.xdr){if(this.removeAllListeners(),j.unloadDel(this.unloadRef),this.xdr.ontimeout=this.xdr.onerror=this.xdr.onprogress=this.xdr.onload=null,A)try{this.xdr.abort()}catch(T){}this.unloadRef=this.xdr=null}},P.prototype.close=function(){z("close"),this._cleanup(!0)},P.enabled=!!(l.g.XDomainRequest&&W.hasDomain()),nt.exports=P},91278:function(nt,xe,l){"use strict";var C=l(2937),d=l(90771);function j(W,L,z,P){d.call(this,W,L,z,P)}C(j,d),j.enabled=d.enabled&&d.supportsCORS,nt.exports=j},69431:function(nt,xe,l){"use strict";var C=l(39622).v,d=l(2937);function j(){var W=this;C.call(this),this.to=setTimeout(function(){W.emit("finish",200,"{}")},j.timeout)}d(j,C),j.prototype.close=function(){clearTimeout(this.to)},j.timeout=2e3,nt.exports=j},82458:function(nt,xe,l){"use strict";var C=l(2937),d=l(90771);function j(W,L,z){d.call(this,W,L,z,{noCredentials:!0})}C(j,d),j.enabled=d.enabled,nt.exports=j},89712:function(nt,xe,l){"use strict";var C=l(56831),d=l(11803),j=l(2937),W=l(39622).v,L=l(53485),z=function(){};function P(A,T,S){if(!P.enabled())throw new Error("Transport created when disabled");W.call(this),z("constructor",A);var _=this,y=d.addPath(A,"/websocket");y.slice(0,5)==="https"?y="wss"+y.slice(5):y="ws"+y.slice(4),this.url=y,this.ws=new L(this.url,[],S),this.ws.onmessage=function(u){z("message event",u.data),_.emit("message",u.data)},this.unloadRef=C.unloadAdd(function(){z("unload"),_.ws.close()}),this.ws.onclose=function(u){z("close event",u.code,u.reason),_.emit("close",u.code,u.reason),_._cleanup()},this.ws.onerror=function(u){z("error event",u),_.emit("close",1006,"WebSocket connection broken"),_._cleanup()}}j(P,W),P.prototype.send=function(A){var T="["+A+"]";z("send",T),this.ws.send(T)},P.prototype.close=function(){z("close");var A=this.ws;this._cleanup(),A&&A.close()},P.prototype._cleanup=function(){z("_cleanup");var A=this.ws;A&&(A.onmessage=A.onclose=A.onerror=null),C.unloadDel(this.unloadRef),this.unloadRef=this.ws=null,this.removeAllListeners()},P.enabled=function(){return z("enabled"),!!L},P.transportName="websocket",P.roundTrips=2,nt.exports=P},16685:function(nt,xe,l){"use strict";var C=l(2937),d=l(72261),j=l(63358),W=l(96960),L=l(79150);function z(P){if(!L.enabled)throw new Error("Transport created when disabled");d.call(this,P,"/xhr",W,L)}C(z,d),z.enabled=j.enabled,z.transportName="xdr-polling",z.roundTrips=2,nt.exports=z},63358:function(nt,xe,l){"use strict";var C=l(2937),d=l(72261),j=l(96960),W=l(79150);function L(z){if(!W.enabled)throw new Error("Transport created when disabled");d.call(this,z,"/xhr_streaming",j,W)}C(L,d),L.enabled=function(z){return z.cookie_needed||z.nullOrigin?!1:W.enabled&&z.sameScheme},L.transportName="xdr-streaming",L.roundTrips=2,nt.exports=L},13900:function(nt,xe,l){"use strict";var C=l(2937),d=l(72261),j=l(96960),W=l(91278),L=l(82458);function z(P){if(!L.enabled&&!W.enabled)throw new Error("Transport created when disabled");d.call(this,P,"/xhr",j,W)}C(z,d),z.enabled=function(P){return P.nullOrigin?!1:L.enabled&&P.sameOrigin?!0:W.enabled},z.transportName="xhr-polling",z.roundTrips=2,nt.exports=z},18690:function(nt,xe,l){"use strict";var C=l(2937),d=l(72261),j=l(96960),W=l(91278),L=l(82458),z=l(36626);function P(A){if(!L.enabled&&!W.enabled)throw new Error("Transport created when disabled");d.call(this,A,"/xhr_streaming",j,W)}C(P,d),P.enabled=function(A){return A.nullOrigin||z.isOpera()?!1:W.enabled},P.transportName="xhr-streaming",P.roundTrips=2,P.needBody=!!l.g.document,nt.exports=P},20971:function(nt,xe,l){"use strict";l.g.crypto&&l.g.crypto.getRandomValues?nt.exports.randomBytes=function(C){var d=new Uint8Array(C);return l.g.crypto.getRandomValues(d),d}:nt.exports.randomBytes=function(C){for(var d=new Array(C),j=0;j<C;j++)d[j]=Math.floor(Math.random()*256);return d}},36626:function(nt,xe,l){"use strict";nt.exports={isOpera:function(){return l.g.navigator&&/opera/i.test(l.g.navigator.userAgent)},isKonqueror:function(){return l.g.navigator&&/konqueror/i.test(l.g.navigator.userAgent)},hasDomain:function(){if(!l.g.document)return!0;try{return!!l.g.document.domain}catch(C){return!1}}}},16118:function(nt){"use strict";var xe=/[\x00-\x1f\ud800-\udfff\ufffe\uffff\u0300-\u0333\u033d-\u0346\u034a-\u034c\u0350-\u0352\u0357-\u0358\u035c-\u0362\u0374\u037e\u0387\u0591-\u05af\u05c4\u0610-\u0617\u0653-\u0654\u0657-\u065b\u065d-\u065e\u06df-\u06e2\u06eb-\u06ec\u0730\u0732-\u0733\u0735-\u0736\u073a\u073d\u073f-\u0741\u0743\u0745\u0747\u07eb-\u07f1\u0951\u0958-\u095f\u09dc-\u09dd\u09df\u0a33\u0a36\u0a59-\u0a5b\u0a5e\u0b5c-\u0b5d\u0e38-\u0e39\u0f43\u0f4d\u0f52\u0f57\u0f5c\u0f69\u0f72-\u0f76\u0f78\u0f80-\u0f83\u0f93\u0f9d\u0fa2\u0fa7\u0fac\u0fb9\u1939-\u193a\u1a17\u1b6b\u1cda-\u1cdb\u1dc0-\u1dcf\u1dfc\u1dfe\u1f71\u1f73\u1f75\u1f77\u1f79\u1f7b\u1f7d\u1fbb\u1fbe\u1fc9\u1fcb\u1fd3\u1fdb\u1fe3\u1feb\u1fee-\u1fef\u1ff9\u1ffb\u1ffd\u2000-\u2001\u20d0-\u20d1\u20d4-\u20d7\u20e7-\u20e9\u2126\u212a-\u212b\u2329-\u232a\u2adc\u302b-\u302c\uaab2-\uaab3\uf900-\ufa0d\ufa10\ufa12\ufa15-\ufa1e\ufa20\ufa22\ufa25-\ufa26\ufa2a-\ufa2d\ufa30-\ufa6d\ufa70-\ufad9\ufb1d\ufb1f\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufb4e\ufff0-\uffff]/g,l,C=function(d){var j,W={},L=[];for(j=0;j<65536;j++)L.push(String.fromCharCode(j));return d.lastIndex=0,L.join("").replace(d,function(z){return W[z]="\\u"+("0000"+z.charCodeAt(0).toString(16)).slice(-4),""}),d.lastIndex=0,W};nt.exports={quote:function(d){var j=JSON.stringify(d);return xe.lastIndex=0,xe.test(j)?(l||(l=C(xe)),j.replace(xe,function(W){return l[W]})):j}}},56831:function(nt,xe,l){"use strict";var C=l(36032),d={},j=!1,W=l.g.chrome&&l.g.chrome.app&&l.g.chrome.app.runtime;nt.exports={attachEvent:function(z,P){typeof l.g.addEventListener!="undefined"?l.g.addEventListener(z,P,!1):l.g.document&&l.g.attachEvent&&(l.g.document.attachEvent("on"+z,P),l.g.attachEvent("on"+z,P))},detachEvent:function(z,P){typeof l.g.addEventListener!="undefined"?l.g.removeEventListener(z,P,!1):l.g.document&&l.g.detachEvent&&(l.g.document.detachEvent("on"+z,P),l.g.detachEvent("on"+z,P))},unloadAdd:function(z){if(W)return null;var P=C.string(8);return d[P]=z,j&&setTimeout(this.triggerUnloadCallbacks,0),P},unloadDel:function(z){z in d&&delete d[z]},triggerUnloadCallbacks:function(){for(var z in d)d[z](),delete d[z]}};var L=function(){j||(j=!0,nt.exports.triggerUnloadCallbacks())};W||nt.exports.attachEvent("unload",L)},68734:function(nt,xe,l){"use strict";var C=l(56831),d=l(36626),j=function(){};nt.exports={WPrefix:"_jp",currentWindowId:null,polluteGlobalNamespace:function(){nt.exports.WPrefix in l.g||(l.g[nt.exports.WPrefix]={})},postMessage:function(W,L){l.g.parent!==l.g?l.g.parent.postMessage(JSON.stringify({windowId:nt.exports.currentWindowId,type:W,data:L||""}),"*"):j("Cannot postMessage, no parent window.",W,L)},createIframe:function(W,L){var z=l.g.document.createElement("iframe"),P,A,T=function(){j("unattach"),clearTimeout(P);try{z.onload=null}catch(u){}z.onerror=null},S=function(){j("cleanup"),z&&(T(),setTimeout(function(){z&&z.parentNode.removeChild(z),z=null},0),C.unloadDel(A))},_=function(u){j("onerror",u),z&&(S(),L(u))},y=function(u,a){j("post",u,a),setTimeout(function(){try{z&&z.contentWindow&&z.contentWindow.postMessage(u,a)}catch(b){}},0)};return z.src=W,z.style.display="none",z.style.position="absolute",z.onerror=function(){_("onerror")},z.onload=function(){j("onload"),clearTimeout(P),P=setTimeout(function(){_("onload timeout")},2e3)},l.g.document.body.appendChild(z),P=setTimeout(function(){_("timeout")},15e3),A=C.unloadAdd(S),{post:y,cleanup:S,loaded:T}},createHtmlfile:function(W,L){var z=["Active"].concat("Object").join("X"),P=new l.g[z]("htmlfile"),A,T,S,_=function(){clearTimeout(A),S.onerror=null},y=function(){P&&(_(),C.unloadDel(T),S.parentNode.removeChild(S),S=P=null,CollectGarbage())},u=function(D){j("onerror",D),P&&(y(),L(D))},a=function(D,N){try{setTimeout(function(){S&&S.contentWindow&&S.contentWindow.postMessage(D,N)},0)}catch(I){}};P.open(),P.write('<html><script>document.domain="'+l.g.document.domain+'";<\/script></html>'),P.close(),P.parentWindow[nt.exports.WPrefix]=l.g[nt.exports.WPrefix];var b=P.createElement("div");return P.body.appendChild(b),S=P.createElement("iframe"),b.appendChild(S),S.src=W,S.onerror=function(){u("onerror")},A=setTimeout(function(){u("timeout")},15e3),T=C.unloadAdd(y),{post:a,cleanup:y,loaded:_}}},nt.exports.iframeEnabled=!1,l.g.document&&(nt.exports.iframeEnabled=(typeof l.g.postMessage=="function"||typeof l.g.postMessage=="object")&&!d.isKonqueror())},97254:function(nt,xe,l){"use strict";var C={};["log","debug","warn"].forEach(function(d){var j;try{j=l.g.console&&l.g.console[d]&&l.g.console[d].apply}catch(W){}C[d]=j?function(){return l.g.console[d].apply(l.g.console,arguments)}:d==="log"?function(){}:C.log}),nt.exports=C},77234:function(nt){"use strict";nt.exports={isObject:function(xe){var l=typeof xe;return l==="function"||l==="object"&&!!xe},extend:function(xe){if(!this.isObject(xe))return xe;for(var l,C,d=1,j=arguments.length;d<j;d++){l=arguments[d];for(C in l)Object.prototype.hasOwnProperty.call(l,C)&&(xe[C]=l[C])}return xe}}},36032:function(nt,xe,l){"use strict";var C=l(20971),d="abcdefghijklmnopqrstuvwxyz012345";nt.exports={string:function(j){for(var W=d.length,L=C.randomBytes(j),z=[],P=0;P<j;P++)z.push(d.substr(L[P]%W,1));return z.join("")},number:function(j){return Math.floor(Math.random()*j)},numberString:function(j){var W=(""+(j-1)).length,L=new Array(W+1).join("0");return(L+this.number(j)).slice(-W)}}},99404:function(nt){"use strict";var xe=function(){};nt.exports=function(l){return{filterToEnabled:function(C,d){var j={main:[],facade:[]};return C?typeof C=="string"&&(C=[C]):C=[],l.forEach(function(W){if(!!W){if(W.transportName==="websocket"&&d.websocket===!1){xe("disabled from server","websocket");return}if(C.length&&C.indexOf(W.transportName)===-1){xe("not in whitelist",W.transportName);return}W.enabled(d)?(xe("enabled",W.transportName),j.main.push(W),W.facadeTransport&&j.facade.push(W.facadeTransport)):xe("disabled",W.transportName)}}),j}}}},11803:function(nt,xe,l){"use strict";var C=l(52296),d=function(){};nt.exports={getOrigin:function(j){if(!j)return null;var W=new C(j);if(W.protocol==="file:")return null;var L=W.port;return L||(L=W.protocol==="https:"?"443":"80"),W.protocol+"//"+W.hostname+":"+L},isOriginEqual:function(j,W){var L=this.getOrigin(j)===this.getOrigin(W);return d("same",j,W,L),L},isSchemeEqual:function(j,W){return j.split(":")[0]===W.split(":")[0]},addPath:function(j,W){var L=j.split("?");return L[0]+W+(L[1]?"?"+L[1]:"")},addQuery:function(j,W){return j+(j.indexOf("?")===-1?"?"+W:"&"+W)},isLoopbackAddr:function(j){return/^127\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/i.test(j)||/^\[::1\]$/.test(j)}}},19534:function(nt){nt.exports="1.6.1"},52296:function(nt,xe,l){"use strict";var C=l(41384),d=l(98878),j=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,W=/[\n\r\t]/g,L=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,z=/:\d+$/,P=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,A=/^[a-zA-Z]:/;function T(E){return(E||"").toString().replace(j,"")}var S=[["#","hash"],["?","query"],function(O,R){return u(R.protocol)?O.replace(/\\/g,"/"):O},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],_={hash:1,query:1};function y(E){var O;typeof window!="undefined"?O=window:typeof l.g!="undefined"?O=l.g:typeof self!="undefined"?O=self:O={};var R=O.location||{};E=E||R;var M={},K=typeof E,Z;if(E.protocol==="blob:")M=new D(unescape(E.pathname),{});else if(K==="string"){M=new D(E,{});for(Z in _)delete M[Z]}else if(K==="object"){for(Z in E)Z in _||(M[Z]=E[Z]);M.slashes===void 0&&(M.slashes=L.test(E.href))}return M}function u(E){return E==="file:"||E==="ftp:"||E==="http:"||E==="https:"||E==="ws:"||E==="wss:"}function a(E,O){E=T(E),E=E.replace(W,""),O=O||{};var R=P.exec(E),M=R[1]?R[1].toLowerCase():"",K=!!R[2],Z=!!R[3],te=0,de;return K?Z?(de=R[2]+R[3]+R[4],te=R[2].length+R[3].length):(de=R[2]+R[4],te=R[2].length):Z?(de=R[3]+R[4],te=R[3].length):de=R[4],M==="file:"?te>=2&&(de=de.slice(2)):u(M)?de=R[4]:M?K&&(de=de.slice(2)):te>=2&&u(O.protocol)&&(de=R[4]),{protocol:M,slashes:K||u(M),slashesCount:te,rest:de}}function b(E,O){if(E==="")return O;for(var R=(O||"/").split("/").slice(0,-1).concat(E.split("/")),M=R.length,K=R[M-1],Z=!1,te=0;M--;)R[M]==="."?R.splice(M,1):R[M]===".."?(R.splice(M,1),te++):te&&(M===0&&(Z=!0),R.splice(M,1),te--);return Z&&R.unshift(""),(K==="."||K==="..")&&R.push(""),R.join("/")}function D(E,O,R){if(E=T(E),E=E.replace(W,""),!(this instanceof D))return new D(E,O,R);var M,K,Z,te,de,ge,le=S.slice(),se=typeof O,X=this,re=0;for(se!=="object"&&se!=="string"&&(R=O,O=null),R&&typeof R!="function"&&(R=d.parse),O=y(O),K=a(E||"",O),M=!K.protocol&&!K.slashes,X.slashes=K.slashes||M&&O.slashes,X.protocol=K.protocol||O.protocol||"",E=K.rest,(K.protocol==="file:"&&(K.slashesCount!==2||A.test(E))||!K.slashes&&(K.protocol||K.slashesCount<2||!u(X.protocol)))&&(le[3]=[/(.*)/,"pathname"]);re<le.length;re++){if(te=le[re],typeof te=="function"){E=te(E,X);continue}Z=te[0],ge=te[1],Z!==Z?X[ge]=E:typeof Z=="string"?(de=Z==="@"?E.lastIndexOf(Z):E.indexOf(Z),~de&&(typeof te[2]=="number"?(X[ge]=E.slice(0,de),E=E.slice(de+te[2])):(X[ge]=E.slice(de),E=E.slice(0,de)))):(de=Z.exec(E))&&(X[ge]=de[1],E=E.slice(0,de.index)),X[ge]=X[ge]||M&&te[3]&&O[ge]||"",te[4]&&(X[ge]=X[ge].toLowerCase())}R&&(X.query=R(X.query)),M&&O.slashes&&X.pathname.charAt(0)!=="/"&&(X.pathname!==""||O.pathname!=="")&&(X.pathname=b(X.pathname,O.pathname)),X.pathname.charAt(0)!=="/"&&u(X.protocol)&&(X.pathname="/"+X.pathname),C(X.port,X.protocol)||(X.host=X.hostname,X.port=""),X.username=X.password="",X.auth&&(de=X.auth.indexOf(":"),~de?(X.username=X.auth.slice(0,de),X.username=encodeURIComponent(decodeURIComponent(X.username)),X.password=X.auth.slice(de+1),X.password=encodeURIComponent(decodeURIComponent(X.password))):X.username=encodeURIComponent(decodeURIComponent(X.auth)),X.auth=X.password?X.username+":"+X.password:X.username),X.origin=X.protocol!=="file:"&&u(X.protocol)&&X.host?X.protocol+"//"+X.host:"null",X.href=X.toString()}function N(E,O,R){var M=this;switch(E){case"query":typeof O=="string"&&O.length&&(O=(R||d.parse)(O)),M[E]=O;break;case"port":M[E]=O,C(O,M.protocol)?O&&(M.host=M.hostname+":"+O):(M.host=M.hostname,M[E]="");break;case"hostname":M[E]=O,M.port&&(O+=":"+M.port),M.host=O;break;case"host":M[E]=O,z.test(O)?(O=O.split(":"),M.port=O.pop(),M.hostname=O.join(":")):(M.hostname=O,M.port="");break;case"protocol":M.protocol=O.toLowerCase(),M.slashes=!R;break;case"pathname":case"hash":if(O){var K=E==="pathname"?"/":"#";M[E]=O.charAt(0)!==K?K+O:O}else M[E]=O;break;case"username":case"password":M[E]=encodeURIComponent(O);break;case"auth":var Z=O.indexOf(":");~Z?(M.username=O.slice(0,Z),M.username=encodeURIComponent(decodeURIComponent(M.username)),M.password=O.slice(Z+1),M.password=encodeURIComponent(decodeURIComponent(M.password))):M.username=encodeURIComponent(decodeURIComponent(O))}for(var te=0;te<S.length;te++){var de=S[te];de[4]&&(M[de[1]]=M[de[1]].toLowerCase())}return M.auth=M.password?M.username+":"+M.password:M.username,M.origin=M.protocol!=="file:"&&u(M.protocol)&&M.host?M.protocol+"//"+M.host:"null",M.href=M.toString(),M}function I(E){(!E||typeof E!="function")&&(E=d.stringify);var O,R=this,M=R.host,K=R.protocol;K&&K.charAt(K.length-1)!==":"&&(K+=":");var Z=K+(R.protocol&&R.slashes||u(R.protocol)?"//":"");return R.username?(Z+=R.username,R.password&&(Z+=":"+R.password),Z+="@"):R.password?(Z+=":"+R.password,Z+="@"):R.protocol!=="file:"&&u(R.protocol)&&!M&&R.pathname!=="/"&&(Z+="@"),(M[M.length-1]===":"||z.test(R.hostname)&&!R.port)&&(M+=":"),Z+=M+R.pathname,O=typeof R.query=="object"?E(R.query):R.query,O&&(Z+=O.charAt(0)!=="?"?"?"+O:O),R.hash&&(Z+=R.hash),Z}D.prototype={set:N,toString:I},D.extractProtocol=a,D.location=y,D.trimLeft=T,D.qs=d,nt.exports=D},86563:function(nt){(function(xe,l){nt.exports=l()})(this,function(){"use strict";var xe=function(){return xe=Object.assign||function(O){for(var R,M=1,K=arguments.length;M<K;M++){R=arguments[M];for(var Z in R)Object.prototype.hasOwnProperty.call(R,Z)&&(O[Z]=R[Z])}return O},xe.apply(this,arguments)};function l(){var E=document.createElement("div");return E.style.cssText="position: fixed; top: 0; height: 100vh; pointer-events: none;",document.documentElement.insertBefore(E,document.documentElement.firstChild),E}function C(E){document.documentElement.removeChild(E)}function d(){var E=l(),O=window.innerHeight,R=E.offsetHeight,M=R-O;return C(E),{vh:R,windowHeight:O,offset:M,isNeeded:M!==0,value:0}}function j(){}function W(){var E=d();return E.value=E.offset,E}function L(){var E=d();return E.value=E.windowHeight*.01,E}var z=Object.freeze({noop:j,computeDifference:W,redefineVhUnit:L});function P(E){return typeof E=="string"&&E.length>0}function A(E){return typeof E=="function"}var T=Object.freeze({cssVarName:"vh-offset",redefineVh:!1,method:W,force:!1,bind:!0,updateOnTouch:!1,onUpdate:j});function S(E){if(P(E))return xe({},T,{cssVarName:E});if(typeof E!="object")return T;var O={force:E.force===!0,bind:E.bind!==!1,updateOnTouch:E.updateOnTouch===!0,onUpdate:A(E.onUpdate)?E.onUpdate:j},R=E.redefineVh===!0;return O.method=z[R?"redefineVhUnit":"computeDifference"],O.cssVarName=P(E.cssVarName)?E.cssVarName:R?"vh":T.cssVarName,O}var _=!1,y=[];try{var u=Object.defineProperty({},"passive",{get:function(){_=!0}});window.addEventListener("test",u,u),window.removeEventListener("test",u,u)}catch(E){_=!1}function a(E,O){y.push({eventName:E,callback:O}),window.addEventListener(E,O,_?{passive:!0}:!1)}function b(){y.forEach(function(E){window.removeEventListener(E.eventName,E.callback)}),y=[]}function D(E,O){document.documentElement.style.setProperty("--"+E,O.value+"px")}function N(E,O){return xe({},E,{unbind:b,recompute:O.method})}function I(E){var O=Object.freeze(S(E)),R=N(O.method(),O);if(!R.isNeeded&&!O.force||(D(O.cssVarName,R),O.onUpdate(R),!O.bind))return R;function M(){window.requestAnimationFrame(function(){var K=O.method();D(O.cssVarName,K),O.onUpdate(N(K,O))})}return R.unbind(),a("orientationchange",M),O.updateOnTouch&&a("touchmove",M),R}return I})},91190:function(nt){"use strict";var xe=!1,l=function(){};if(xe){var C=function(j,W){var L=arguments.length;W=new Array(L>1?L-1:0);for(var z=1;z<L;z++)W[z-1]=arguments[z];var P=0,A="Warning: "+j.replace(/%s/g,function(){return W[P++]});typeof console!="undefined"&&console.error(A);try{throw new Error(A)}catch(T){}};l=function(d,j,W){var L=arguments.length;W=new Array(L>2?L-2:0);for(var z=2;z<L;z++)W[z-2]=arguments[z];if(j===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");d||C.apply(null,[j].concat(W))}}nt.exports=l}}]);
