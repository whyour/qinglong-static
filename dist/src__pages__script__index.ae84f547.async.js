(self.webpackChunk=self.webpackChunk||[]).push([[6534,9064,8673,440,8851],{44224:function(e,t,a){"use strict";var i=(0,a(19919).Z)({scriptUrl:["//at.alicdn.com/t/c/font_3354854_lc939gab1iq.js"]});t.Z=i},82802:function(e,t,a){"use strict";var i=a(26068),n=a.n(i),r=a(75271);t.Z=function(e,t,a){var i=a.treeNodeFilterProp;return(0,r.useMemo)((function(){var a=[];if(!t)return{treeData:e,keys:a};var r=t.toUpperCase();function o(e,t){var a=t[i];return String(a).toUpperCase().includes(r)}return{treeData:function e(t){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t.map((function(t){var r=t.children,c=i||o(0,t),s=e(r||[],c);return c||s.length?(s.length&&a.push(t.key),n()(n()({},t),{},{children:s})):null})).filter((function(e){return e}))}(e),keys:a}}),[e,t,i])}},79297:function(e,t,a){"use strict";a.r(t);var i=a(26068),n=a.n(i),r=a(48305),o=a.n(r),c=a(72317),s=a(75271),l=a(35181),u=a(53390),d=a(88142),p=a(93481),f=a(16314),g=a(3475),m=a(43382),h=a(83383),A=a(90310),v=a(3843),P=a(9364),b=a(48916),y=a(65814),k=a(78060),Z=a.n(k),x=a(52676),w=l.Z.Option;t.default=function(e){var t=e.treeData,a=e.currentNode,i=e.content,r=e.handleCancel,k=e.visible,E=(0,s.useState)(""),j=o()(E,2),S=j[0],C=j[1],M=(0,s.useState)(),B=o()(M,2),T=B[0],q=B[1],I=(0,s.useState)(),_=o()(I,2),D=_[0],G=_[1],N=(0,s.useState)(),R=o()(N,2),L=R[0],K=R[1],V=(0,s.useState)(!1),F=o()(V,2),H=F[0],U=F[1],O=(0,s.useState)(!1),z=o()(O,2),W=z[0],Y=z[1],Q=(0,s.useState)(""),X=o()(Q,2),J=X[0],$=X[1],ee=(0,P.F)().theme,te=(0,s.useRef)(null),ae=(0,s.useState)(!1),ie=o()(ae,2),ne=ie[0],re=ie[1],oe=(0,s.useState)(null),ce=o()(oe,2),se=ce[0],le=ce[1],ue=function(e){f.W.get("".concat(g.Z.apiPrefix,"scripts/detail?file=").concat(e.title,"&path=").concat(e.parent||"")).then((function(e){var t=e.code,a=e.data;200===t&&C(a)}))},de=function(){D&&D.title&&se&&f.W.put("".concat(g.Z.apiPrefix,"scripts/stop"),{filename:D.title,path:D.parent||"",pid:se}).then((function(e){var t=e.code;e.data;200===t&&re(!1)}))},pe=(0,s.useCallback)((function(e){var t=e.message;(0,b.x$)(t)&&setTimeout((function(){re(!1)}),300),$((function(e){return"".concat(e).concat(t)}))}),[]);return(0,s.useEffect)((function(){var e=y.Z.getInstance();return e.subscribe("manuallyRunScript",pe),function(){e.unsubscribe("manuallyRunScript",pe)}}),[]),(0,s.useEffect)((function(){if($(""),a){G(a),C(i),K(a.key);var e=(0,b.H$)(a.title);q(e)}}),[i,a]),(0,x.jsxs)(u.Z,{className:"edit-modal",closable:!1,title:(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(d.Z,{treeExpandAction:"click",style:{marginRight:8,width:300},value:L,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:t,placeholder:c.ZP.get("请选择脚本文件"),fieldNames:{value:"key",label:"title"},showSearch:!0,onSelect:function(e,t){if(t.key!==L&&e&&"directory"!==t.type){var a=(0,b.H$)(e);G(t),q(a),ue(t),K(t.key)}},treeLine:{showLeafIcon:!0}}),(0,x.jsxs)(l.Z,{value:T,style:{width:110,marginRight:8},onChange:function(e){q(e)},children:[(0,x.jsx)(w,{value:"javascript",children:"javascript"}),(0,x.jsx)(w,{value:"typescript",children:"typescript"}),(0,x.jsx)(w,{value:"shell",children:"shell"}),(0,x.jsx)(w,{value:"python",children:"python"})]}),(0,x.jsx)(p.Z,{type:"primary",style:{marginRight:8},onClick:ne?de:function(){$("");var e=te.current.getValue().replace(/\r\n/g,"\n");f.W.put("".concat(g.Z.apiPrefix,"scripts/run"),{filename:D.title,path:D.parent||"",content:e}).then((function(e){var t=e.code,a=e.data;200===t&&(re(!0),le(a))}))},children:ne?c.ZP.get("停止"):c.ZP.get("运行")}),(0,x.jsx)(p.Z,{type:"primary",style:{marginRight:8},onClick:function(){$("")},children:c.ZP.get("清空日志")}),(0,x.jsx)(p.Z,{type:"primary",style:{marginRight:8},onClick:function(){U(!0)},children:c.ZP.get("保存")}),(0,x.jsx)(p.Z,{type:"primary",style:{marginRight:8},onClick:function(){de(),r()},children:c.ZP.get("退出")})]}),width:"100%",headerStyle:{padding:"11px 24px"},onClose:function(){r()},open:k,children:[(0,x.jsxs)(m.Z,{split:"vertical",minSize:200,defaultSize:"50%",style:{height:"calc(100vh - 55px)"},pane2Style:{overflowY:"auto"},children:[(0,x.jsx)(h.ZP,{language:T,value:S,theme:ee,options:{fontSize:12,minimap:{enabled:!1},lineNumbersMinChars:3,glyphMargin:!1,accessibilitySupport:"off"},onMount:function(e){te.current=e}}),(0,x.jsx)("pre",{style:{padding:"0 15px"},children:(0,x.jsx)(Z(),{children:J})})]}),(0,x.jsx)(A.default,{visible:H,handleCancel:function(){U(!1)},file:n()({content:te.current&&te.current.getValue().replace(/\r\n/g,"\n")},D)}),(0,x.jsx)(v.default,{visible:W,handleCancel:function(){Y(!1)}})]})}},6334:function(e,t,a){"use strict";a.r(t);var i=a(26068),n=a.n(i),r=a(335),o=a.n(r),c=a(90228),s=a.n(c),l=a(87999),u=a.n(l),d=a(48305),p=a.n(d),f=a(72317),g=a(75271),m=a(35181),h=a(72338),A=a(61508),v=a(45520),P=a(94747),b=a(17082),y=a(88142),k=a(6367),Z=a(16314),x=a(3475),w=a(79231),E=a(52676);m.Z.Option;t.default=function(e){var t=e.handleCancel,a=e.treeData,i=e.visible,r=h.Z.useForm(),c=p()(r,1)[0],l=(0,g.useState)(!1),d=p()(l,2),m=d[0],j=d[1],S=(0,g.useState)([]),C=p()(S,2),M=C[0],B=C[1],T=(0,g.useState)(),q=p()(T,2),I=q[0],_=q[1],D=(0,g.useState)("blank"),G=p()(D,2),N=G[0],R=G[1],L=function(){var e=u()(s()().mark((function e(a){var i,n,r,o,c,l;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j(!0),i=a.path,n=void 0===i?"":i,r=a.filename,o=a.directory,c=void 0===o?"":o,(l=new FormData).append("file",I||""),l.append("filename",(null==I?void 0:I.name)||r),l.append("path",n),l.append("content",""),l.append("directory",c),Z.W.post("".concat(x.Z.apiPrefix,"scripts"),l).then((function(e){var a=e.code;e.data;if(200===a){A.ZP.success(c?f.ZP.get("创建文件夹成功"):f.ZP.get("创建文件成功"));var i=n?"".concat(n,"/"):"",o=I?I.name:r;t({filename:o,path:n,key:"".concat(i).concat(o)})}j(!1)})).finally((function(){return j(!1)}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function e(t){var a,i=o()(t);try{for(i.s();!(a=i.n()).done;){var r=a.value;r.children&&r.children.length>0&&(r.children=r.children.filter((function(e){return"directory"===e.type})).map((function(e){return n()(n()({},e),{},{disabled:!1})})),e(r.children))}}catch(e){i.e(e)}finally{i.f()}return t};return(0,g.useEffect)((function(){var e=a.filter((function(e){return"directory"===e.type})).map((function(e){return n()(n()({},e),{},{disabled:!1})})),t=K(e);B(t)}),[a]),(0,g.useEffect)((function(){c.resetFields()}),[i]),(0,E.jsx)(v.Z,{title:f.ZP.get("创建"),open:i,forceRender:!0,centered:!0,maskClosable:!1,onOk:function(){c.validateFields().then((function(e){L(e)})).catch((function(e){console.log("Validate Failed:",e)}))},onCancel:function(){return t()},confirmLoading:m,children:(0,E.jsxs)(h.Z,{form:c,layout:"vertical",name:"edit_name_modal",children:[(0,E.jsx)(h.Z.Item,{name:"type",label:f.ZP.get("类型"),rules:[{required:!0}],initialValue:"blank",children:(0,E.jsxs)(P.ZP.Group,{onChange:function(e){R(e.target.value)},children:[(0,E.jsx)(P.ZP,{value:"blank",children:f.ZP.get("空文件")}),(0,E.jsx)(P.ZP,{value:"upload",children:f.ZP.get("本地文件")}),(0,E.jsx)(P.ZP,{value:"directory",children:f.ZP.get("文件夹")})]})}),"blank"===N&&(0,E.jsx)(h.Z.Item,{name:"filename",label:f.ZP.get("文件名"),rules:[{required:!0,message:f.ZP.get("请输入文件名")},{validator:function(e,t){return t.includes("/")?Promise.reject(new Error(f.ZP.get("文件名不能包含斜杠"))):Promise.resolve()}}],children:(0,E.jsx)(b.Z,{placeholder:f.ZP.get("请输入文件名")})}),"directory"===N&&(0,E.jsx)(h.Z.Item,{name:"directory",label:f.ZP.get("文件夹名"),rules:[{required:!0,message:f.ZP.get("请输入文件夹名")}],children:(0,E.jsx)(b.Z,{placeholder:f.ZP.get("请输入文件夹名")})}),(0,E.jsx)(h.Z.Item,{label:f.ZP.get("父目录"),name:"path",children:(0,E.jsx)(y.Z,{allowClear:!0,treeData:M,fieldNames:{value:"key",label:"title"},placeholder:f.ZP.get("请选择父目录"),treeDefaultExpandAll:!0})}),"upload"===N&&(0,E.jsx)(h.Z.Item,{label:f.ZP.get("文件"),name:"file",children:(0,E.jsxs)(k.Z.Dragger,{beforeUpload:function(e){return _(e),!1},maxCount:1,children:[(0,E.jsx)("p",{className:"ant-upload-drag-icon",children:(0,E.jsx)(w.Z,{})}),(0,E.jsx)("p",{className:"ant-upload-text",children:f.ZP.get("点击或者拖拽文件到此区域上传")})]})})]})})}},53636:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return Y}});var i=a(15558),n=a.n(i),r=a(48305),o=a.n(r),c=a(72317),s=a(75271),l=a(50691),u=a(45520),d=a(61508),p=a(88142),f=a(85950),g=a(93481),m=a(59816),h=a(17082),A=a(13107),v=a(98705),P=a(3475),b=a(47508),y=a(83383),k=a(16314),Z={"left-tree-container":"left-tree-container___z9VeF","left-tree-scroller":"left-tree-scroller___MRc8C","log-container":"log-container___Iva4k"},x=a(79297),w=a(71742),E=a(43382),j=a(21288),S=a(28423),C=a(88939),M=a(97953),B=a(6334),T=a(66292),q=a.n(T),I=a(98783),_=a(40324),D=a(48916),G=a(82802),N=a(4363),R=a.n(N),L=a(44224),K=a(97428),V=a(82904),F=a(28837),H=a(79514),U=a(62609);function O(e){var t=U.Mj.getLanguages(),a=e.slice(e.lastIndexOf(".")).toLowerCase();return t.some((function(e){var t;return null===(t=e.extensions)||void 0===t?void 0:t.includes(a)}))}var z=a(52676),W=l.Z.Text,Y=function(){var e=(0,I.useOutletContext)(),t=e.headerStyle,a=e.isPhone,i=e.theme,r=(0,s.useState)(c.ZP.get("请选择脚本文件")),l=o()(r,2),T=l[0],N=l[1],U=(0,s.useState)(c.ZP.get("请选择脚本文件")),Y=o()(U,2),Q=Y[0],X=Y[1],J=(0,s.useState)([]),$=o()(J,2),ee=$[0],te=$[1],ae=(0,s.useState)(!1),ie=o()(ae,2),ne=ie[0],re=ie[1],oe=(0,s.useState)(""),ce=o()(oe,2),se=ce[0],le=ce[1],ue=(0,s.useState)(),de=o()(ue,2),pe=de[0],fe=de[1],ge=(0,s.useRef)(),me=(0,s.useState)(!1),he=o()(me,2),Ae=he[0],ve=he[1],Pe=(0,s.useState)(""),be=o()(Pe,2),ye=be[0],ke=be[1],Ze=(0,s.useState)(!1),xe=o()(Ze,2),we=xe[0],Ee=xe[1],je=(0,s.useRef)(null),Se=(0,s.useState)(!1),Ce=o()(Se,2),Me=Ce[0],Be=Ce[1],Te=(0,s.useState)(!1),qe=o()(Te,2),Ie=qe[0],_e=qe[1],De=(0,s.useState)(),Ge=o()(De,2),Ne=Ge[0],Re=Ge[1],Le=(0,s.useState)([]),Ke=o()(Le,2),Ve=Ke[0],Fe=Ke[1],He=function(e,t){Ee(t&&O(e))},Ue=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];e&&re(!0),k.W.get("".concat(P.Z.apiPrefix,"scripts")).then((function(e){var t=e.code,a=e.data;200===t&&(te(a),ct(),ze(a))})).finally((function(){return e&&re(!1)}))},Oe=function(e){k.W.get("".concat(P.Z.apiPrefix,"scripts/detail?file=").concat(encodeURIComponent(e.title),"&path=").concat(e.parent||"")).then((function(e){var t=e.code,a=e.data;200===t&&N(a)}))},ze=function(e){var t=(0,_.parse)(I.history.location.search),a=t.p,i=t.s;if(i){var n="".concat(a,"/").concat(i),r={node:{title:i,key:a?n:i,parent:a}},o=(0,D.DY)(e,(function(e){return e.key===r.node.key}));o&&(r.node=o,Fe([a]),Ye([n],r))}},We=function(e,t){if(t.key!==Q&&e)if(X(t.key),Re(t),"directory"!==t.type)if(O(t.title)){var i=(0,D.H$)(e);le(a&&"typescript"===i?"javascript":i),N(c.ZP.get("加载中...")),Oe(t)}else N(c.ZP.get("当前文件不支持预览"));else N(c.ZP.get("请选择脚本文件"))},Ye=(0,s.useCallback)((function(e,t){t.node.key===Q&&we||((je.current?je.current.getValue().replace(/\r\n/g,"\n"):T)!==T?u.Z.confirm({title:"确认离开",content:(0,z.jsx)(z.Fragment,{children:c.ZP.get("当前修改未保存，确定离开吗")}),onOk:function(){We(e[0],t.node),He(t.node.title,!1)},onCancel:function(){console.log("Cancel")}}):(He(t.node.title,!1),We(e[0],t.node)))}),[T,Q,we]),Qe=(0,s.useCallback)((function(e){var t=e.target.value;Xe(t)}),[ee]),Xe=(0,s.useCallback)(q()((function(e){ke(e)}),300),[ee]),Je=(0,G.Z)(ee,ye,{treeNodeFilterProp:"title"}),$e=Je.treeData,et=Je.keys;(0,s.useEffect)((function(){Fe(R()([].concat(n()(Ve),n()(et))))}),[et]);var tt=function(){setTimeout((function(){He(Ne.title,!0)}),300)},at=function(){He(Ne.title,!1),N(c.ZP.get("加载中...")),Oe(Ne)},it=function(){u.Z.confirm({title:"确认保存",content:(0,z.jsxs)(z.Fragment,{children:[c.ZP.get("确认保存文件"),(0,z.jsxs)(W,{style:{wordBreak:"break-all"},type:"warning",children:[" ",Ne.title]}),c.ZP.get("，保存后不可恢复")]}),onOk:function(){var e=je.current?je.current.getValue().replace(/\r\n/g,"\n"):T;return new Promise((function(t,a){k.W.put("".concat(P.Z.apiPrefix,"scripts"),{filename:Ne.title,path:Ne.parent||"",content:e}).then((function(a){var i=a.code;a.data;200===i&&(d.ZP.success("保存成功"),N(e),He(Ne.title,!1)),t(null)})).catch((function(e){return a(e)}))}))},onCancel:function(){console.log("Cancel")}})},nt=function(){u.Z.confirm({title:"确认删除",content:(0,z.jsxs)(z.Fragment,{children:[c.ZP.get("确认删除"),(0,z.jsxs)(W,{style:{wordBreak:"break-all"},type:"warning",children:[" ",Q," "]}),c.ZP.get("文件"),"directory"===Ne.type?c.ZP.get("夹及其子文件"):"",c.ZP.get("，删除后不可恢复")]}),onOk:function(){k.W.delete("".concat(P.Z.apiPrefix,"scripts"),{data:{filename:Ne.title,path:Ne.parent||"",type:Ne.type}}).then((function(e){if(200===e.code){d.ZP.success("删除成功");var t=n()(ee);if(Ne.parent)t=(0,D.I1)(t,(function(e){return e.key===Ne.key}));else{var a=t.findIndex((function(e){return e.key===Ne.key}));-1!==a&&t.splice(a,1)}te(t),ct()}}))},onCancel:function(){console.log("Cancel")}})},rt=function(){_e(!0)},ot=function(){Be(!0)},ct=function(){X(c.ZP.get("请选择脚本文件")),Re(null),N(c.ZP.get("请选择脚本文件"))};(0,s.useEffect)((function(){Ue()}),[]),(0,s.useEffect)((function(){ge.current&&fe(ge.current.clientHeight-6)}),[ge.current,ee]),(0,F.y1)("mod+s",(function(e){we&&it()}),{enableOnFormTags:["textarea"],preventDefault:!0}),(0,F.y1)("mod+d",(function(e){Ne.title&&nt()}),{preventDefault:!0}),(0,F.y1)("mod+o",(function(e){we||ot()}),{preventDefault:!0}),(0,F.y1)("mod+e",(function(e){Ne.title&&at()}),{preventDefault:!0});var st=we?{items:[{label:c.ZP.get("保存"),key:"save",icon:(0,z.jsx)(j.Z,{})},{label:c.ZP.get("退出编辑"),key:"exit",icon:(0,z.jsx)(S.Z,{})}],onClick:function(e){var t=e.key;e.domEvent.stopPropagation(),function(e){switch(e){case"save":it();break;case"exit":at()}}(t)}}:{items:[{label:c.ZP.get("创建"),key:"add",icon:(0,z.jsx)(j.Z,{})},{label:c.ZP.get("编辑"),key:"edit",icon:(0,z.jsx)(S.Z,{}),disabled:!Q||Ne&&!O(null==Ne?void 0:Ne.title)},{label:c.ZP.get("重命名"),key:"rename",icon:(0,z.jsx)(L.Z,{type:"ql-icon-rename"}),disabled:!Q},{label:c.ZP.get("删除"),key:"delete",icon:(0,z.jsx)(C.Z,{}),disabled:!Q}],onClick:function(e){var t=e.key;e.domEvent.stopPropagation(),function(e){switch(e){case"add":ot();break;case"edit":tt();break;case"delete":nt();break;case"rename":rt()}}(t)}};return(0,z.jsx)(b.ZP,{className:"ql-container-wrapper log-wrapper",title:(0,z.jsxs)(z.Fragment,{children:[Q,"file"===(null==Ne?void 0:Ne.type)&&(0,z.jsx)("span",{style:{marginLeft:6,fontSize:12,color:"#999",display:"inline-block",height:14},children:(0,H.Z)(Ne.size)})]}),loading:ne,extra:a?[(0,z.jsx)(p.Z,{treeExpandAction:"click",className:"log-select",value:Q,dropdownStyle:{maxHeight:400,overflow:"auto"},treeData:ee,placeholder:c.ZP.get("请选择脚本"),fieldNames:{value:"key"},treeNodeFilterProp:"title",showSearch:!0,allowClear:!0,onSelect:We}),(0,z.jsx)(f.Z,{menu:st,trigger:["click"],children:(0,z.jsx)(g.Z,{type:"primary",icon:(0,z.jsx)(M.Z,{})})})]:we?[(0,z.jsx)(g.Z,{type:"primary",onClick:it,children:c.ZP.get("保存")}),(0,z.jsx)(g.Z,{type:"primary",onClick:at,children:c.ZP.get("退出编辑")})]:[(0,z.jsx)(m.Z,{title:c.ZP.get("创建"),children:(0,z.jsx)(g.Z,{type:"primary",onClick:ot,icon:(0,z.jsx)(j.Z,{})})}),(0,z.jsx)(m.Z,{title:c.ZP.get("编辑"),children:(0,z.jsx)(g.Z,{disabled:!Q||Ne&&!O(null==Ne?void 0:Ne.title),type:"primary",onClick:tt,icon:(0,z.jsx)(S.Z,{})})}),(0,z.jsx)(m.Z,{title:c.ZP.get("重命名"),children:(0,z.jsx)(g.Z,{disabled:!Q,type:"primary",onClick:rt,icon:(0,z.jsx)(L.Z,{type:"ql-icon-rename"})})}),(0,z.jsx)(m.Z,{title:c.ZP.get("删除"),children:(0,z.jsx)(g.Z,{type:"primary",disabled:!Q,onClick:nt,icon:(0,z.jsx)(C.Z,{})})}),(0,z.jsx)(g.Z,{type:"primary",onClick:function(){ve(!0)},children:c.ZP.get("调试")})],header:{style:t},children:(0,z.jsxs)("div",{className:"".concat(Z["log-container"]," log-container"),children:[!a&&(0,z.jsxs)(E.Z,{split:"vertical",size:200,maxSize:-100,children:[(0,z.jsx)("div",{className:Z["left-tree-container"],children:ee.length>0?(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(h.Z.Search,{className:Z["left-tree-search"],onChange:Qe,placeholder:c.ZP.get("请输入脚本名"),allowClear:!0}),(0,z.jsx)("div",{className:Z["left-tree-scroller"],ref:ge,children:(0,z.jsx)(A.Z,{expandAction:"click",className:Z["left-tree"],treeData:$e,showIcon:!0,height:pe,selectedKeys:[Q],expandedKeys:Ve,onExpand:function(e){Fe(e)},showLine:{showLeafIcon:!0},onSelect:Ye,onDoubleClick:function(e,t){"file"===t.type&&(X(t.key),Re(t),He(t.title,!0))}})})]}):(0,z.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100%"},children:(0,z.jsx)(v.Z,{description:c.ZP.get("暂无脚本"),image:v.Z.PRESENTED_IMAGE_SIMPLE})})}),(0,z.jsx)(y.ZP,{language:se,value:T,theme:i,options:{readOnly:!we,fontSize:12,lineNumbersMinChars:3,glyphMargin:!1,accessibilitySupport:"off"},onMount:function(e){je.current=e}})]}),a&&(0,z.jsx)(w.ZP,{value:T,extensions:se?[V.RI[se]()]:void 0,theme:i.includes("dark")?"dark":"light",readOnly:!we,onChange:function(e){N(e)}}),Ae&&(0,z.jsx)(x.default,{visible:Ae,treeData:ee,currentNode:Ne,content:T,handleCancel:function(){ve(!1)}}),(0,z.jsx)(B.default,{visible:Me,treeData:ee,handleCancel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{filename:"",path:"",key:""},t=e.filename,a=e.path,i=e.key;if(t){var r=n()(ee),o={title:t,key:i,parent:a};if(a){r=(0,D.I1)(r,(function(e){return e.key===a}),o);var c=a.split("/"),s=[];c.reduce((function(e,t){return s.push(e),"".concat(e,"/").concat(t)})),Fe([].concat(n()(Ve),s,[a]))}else r.unshift(o);te(r),We(o.title,o),He(o.title,!0)}Be(!1)}}),(0,z.jsx)(K.default,{visible:Ie,handleCancel:function(){_e(!1),Ue(!1)},currentNode:Ne})]})})}},97428:function(e,t,a){"use strict";a.r(t);var i=a(90228),n=a.n(i),r=a(87999),o=a.n(r),c=a(48305),s=a.n(c),l=a(72317),u=a(75271),d=a(72338),p=a(61508),f=a(45520),g=a(17082),m=a(16314),h=a(3475),A=a(52676);t.default=function(e){var t=e.currentNode,a=e.handleCancel,i=e.visible,r=d.Z.useForm(),c=s()(r,1)[0],v=(0,u.useState)(!1),P=s()(v,2),b=P[0],y=P[1],k=function(){var e=o()(n()().mark((function e(i){var r,o;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(!0),e.prev=1,e.next=4,m.W.put("".concat(h.Z.apiPrefix,"scripts/rename"),{filename:t.title,path:t.parent||"",newFilename:i.name});case 4:r=e.sent,o=r.code,r.data,200===o&&(p.ZP.success(l.ZP.get("更新名称成功")),a()),y(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),y(!1);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}();return(0,u.useEffect)((function(){c.resetFields()}),[t,i]),(0,A.jsx)(f.Z,{title:l.ZP.get("重命名"),open:i,forceRender:!0,centered:!0,maskClosable:!1,onOk:function(){c.validateFields().then((function(e){k(e)})).catch((function(e){console.log("Validate Failed:",e)}))},onCancel:function(){return a()},confirmLoading:b,children:(0,A.jsx)(d.Z,{form:c,initialValues:{name:null==t?void 0:t.title},layout:"vertical",name:"edit_name_modal",children:(0,A.jsx)(d.Z.Item,{name:"name",rules:[{required:!0,message:l.ZP.get("请输入新名称")}],children:(0,A.jsx)(g.Z,{placeholder:l.ZP.get("请输入新名称")})})})})}},90310:function(e,t,a){"use strict";a.r(t);var i=a(90228),n=a.n(i),r=a(26068),o=a.n(r),c=a(87999),s=a.n(c),l=a(48305),u=a.n(l),d=a(72317),p=a(75271),f=a(72338),g=a(61508),m=a(45520),h=a(17082),A=a(16314),v=a(3475),P=a(52676);t.default=function(e){var t=e.file,a=e.handleCancel,i=e.visible,r=f.Z.useForm(),c=u()(r,1)[0],l=(0,p.useState)(!1),b=u()(l,2),y=b[0],k=b[1],Z=function(){var e=s()(n()().mark((function e(i){var r;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:k(!0),r=o()(o()(o()({},t),i),{},{originFilename:t.title}),A.W.post("".concat(v.Z.apiPrefix,"scripts"),r).then((function(e){var t=e.code,i=e.data;200===t&&(g.ZP.success(d.ZP.get("保存文件成功")),a(i))})).finally((function(){k(!1)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,p.useEffect)((function(){c.resetFields(),k(!1)}),[t,i]),(0,P.jsx)(m.Z,{title:d.ZP.get("保存文件"),open:i,forceRender:!0,centered:!0,maskClosable:!1,onOk:function(){c.validateFields().then((function(e){Z(e)})).catch((function(e){console.log("Validate Failed:",e)}))},onCancel:function(){return a()},confirmLoading:y,children:(0,P.jsxs)(f.Z,{form:c,layout:"vertical",name:"script_modal",initialValues:{filename:null==t?void 0:t.title,path:(null==t?void 0:t.parent)||""},children:[(0,P.jsx)(f.Z.Item,{name:"filename",label:d.ZP.get("文件名"),rules:[{required:!0,message:d.ZP.get("请输入文件名")}],children:(0,P.jsx)(h.Z,{placeholder:d.ZP.get("请输入文件名")})}),(0,P.jsx)(f.Z.Item,{name:"path",label:d.ZP.get("保存目录"),children:(0,P.jsx)(h.Z,{placeholder:d.ZP.get("请输入保存目录，默认scripts目录")})})]})})}},3843:function(e,t,a){"use strict";a.r(t);a(90228),a(26068),a(87999);var i=a(48305),n=a.n(i),r=a(72317),o=a(75271),c=a(72338),s=(a(61508),a(45520)),l=a(17082),u=(a(16314),a(3475),a(52676));t.default=function(e){var t=e.file,a=e.handleCancel,i=e.visible,d=c.Z.useForm(),p=n()(d,1)[0],f=(0,o.useState)(!1),g=n()(f,2),m=(g[0],g[1]);return(0,o.useEffect)((function(){p.resetFields(),m(!1)}),[t,i]),(0,u.jsx)(s.Z,{title:r.ZP.get("运行设置"),open:i,forceRender:!0,centered:!0,onCancel:function(){return a()},children:(0,u.jsx)(c.Z,{form:p,layout:"vertical",name:"setting_modal",initialValues:t,children:(0,u.jsx)(c.Z.Item,{name:"filename",label:r.ZP.get("待开发"),rules:[{required:!0,message:r.ZP.get("待开发")}],children:(0,u.jsx)(l.Z,{placeholder:r.ZP.get("待开发")})})})})}},3475:function(e,t,a){"use strict";var i=a(72317),n=window.__ENV__QlBaseUrl||"/";t.Z={siteName:i.ZP.get("青龙"),baseUrl:n,apiPrefix:"".concat(n,"api/"),authKey:"token",layouts:[{name:"primary",include:[/.*/],exclude:[/(\/(en|zh))*\/login/]}],i18n:{languages:[{key:"pt-br",title:"Português",flag:"/portugal.svg"},{key:"en",title:"English",flag:"/america.svg"},{key:"zh",title:i.ZP.get("中文"),flag:"/china.svg"}],defaultLanguage:"en"},scopes:[{name:i.ZP.get("定时任务"),value:"crons"},{name:i.ZP.get("环境变量"),value:"envs"},{name:i.ZP.get("订阅管理"),value:"subscriptions"},{name:i.ZP.get("配置文件"),value:"configs"},{name:i.ZP.get("脚本管理"),value:"scripts"},{name:i.ZP.get("日志管理"),value:"logs"},{name:i.ZP.get("依赖管理"),value:"dependencies"},{name:i.ZP.get("系统信息"),value:"system"}],scopesMap:{crons:i.ZP.get("定时任务"),envs:i.ZP.get("环境变量"),subscriptions:i.ZP.get("订阅管理"),configs:i.ZP.get("配置文件"),scripts:i.ZP.get("脚本管理"),logs:i.ZP.get("日志管理"),dependencies:i.ZP.get("依赖管理"),system:i.ZP.get("系统信息")},notificationModes:[{value:"gotify",label:"Gotify"},{value:"ntfy",label:"Ntfy"},{value:"goCqHttpBot",label:"GoCqHttpBot"},{value:"serverChan",label:i.ZP.get("Server酱")},{value:"pushDeer",label:"PushDeer"},{value:"bark",label:"Bark"},{value:"telegramBot",label:i.ZP.get("Telegram机器人")},{value:"dingtalkBot",label:i.ZP.get("钉钉机器人")},{value:"weWorkBot",label:i.ZP.get("企业微信机器人")},{value:"weWorkApp",label:i.ZP.get("企业微信应用")},{value:"aibotk",label:i.ZP.get("智能微秘书")},{value:"iGot",label:"IGot"},{value:"pushPlus",label:"PushPlus"},{value:"wePlusBot",label:i.ZP.get("微加机器人")},{value:"wxPusherBot",label:"wxPusher"},{value:"chat",label:i.ZP.get("群晖chat")},{value:"email",label:i.ZP.get("邮箱")},{value:"lark",label:i.ZP.get("飞书机器人")},{value:"pushMe",label:"PushMe"},{value:"chronocat",label:"Chronocat"},{value:"webhook",label:i.ZP.get("自定义通知")},{value:"closed",label:i.ZP.get("已关闭")}],notificationModeMap:{gotify:[{label:"gotifyUrl",tip:i.ZP.get("gotify的url地址，例如 https://push.example.de:8080"),required:!0},{label:"gotifyToken",tip:i.ZP.get("gotify的消息应用token码"),required:!0},{label:"gotifyPriority",tip:i.ZP.get("推送消息的优先级")}],ntfy:[{label:"ntfyUrl",tip:i.ZP.get("ntfy的url地址，例如 https://ntfy.sh"),required:!0},{label:"ntfyTopic",tip:i.ZP.get("ntfy的消息应用topic"),required:!0},{label:"ntfyPriority",tip:i.ZP.get("推送消息的优先级")}],chat:[{label:"synologyChatUrl",tip:i.ZP.get("synologyChat的url地址"),required:!0}],goCqHttpBot:[{label:"goCqHttpBotUrl",tip:i.ZP.get("推送到个人QQ: http://127.0.0.1/send_private_msg，群：http://127.0.0.1/send_group_msg"),required:!0},{label:"goCqHttpBotToken",tip:i.ZP.get("访问密钥"),required:!0},{label:"goCqHttpBotQq",tip:i.ZP.get("如果GOBOT_URL设置 /send_private_msg 则需要填入 user_id=个人QQ 相反如果是 /send_group_msg 则需要填入 group_id=QQ群"),required:!0}],serverChan:[{label:"serverChanKey",tip:i.ZP.get("Server酱SENDKEY"),required:!0}],pushDeer:[{label:"pushDeerKey",tip:i.ZP.get("PushDeer的Key，https://github.com/easychen/pushdeer"),required:!0},{label:"pushDeerUrl",tip:i.ZP.get("PushDeer的自架API endpoint，默认是 https://api2.pushdeer.com/message/push")}],bark:[{label:"barkPush",tip:i.ZP.get("Bark的信息IP/设备码，例如：https://api.day.app/XXXXXXXX"),required:!0},{label:"barkIcon",tip:i.ZP.get("BARK推送图标，自定义推送图标 (需iOS15或以上才能显示)")},{label:"barkSound",tip:i.ZP.get("BARK推送铃声，铃声列表去APP查看复制填写")},{label:"barkGroup",tip:i.ZP.get("BARK推送消息的分组，默认为qinglong")},{label:"barkLevel",tip:i.ZP.get("BARK推送消息的时效性，默认为active")},{label:"barkUrl",tip:i.ZP.get("BARK推送消息的跳转URL")},{label:"barkArchive",tip:i.ZP.get("BARK是否保存推送消息")}],telegramBot:[{label:"telegramBotToken",tip:i.ZP.get("telegram机器人的token，例如：1077xxx4424:AAFjv0FcqxxxxxxgEMGfi22B4yh15R5uw"),required:!0},{label:"telegramBotUserId",tip:i.ZP.get("telegram用户的id，例如：129xxx206"),required:!0},{label:"telegramBotProxyHost",tip:i.ZP.get("代理IP")},{label:"telegramBotProxyPort",tip:i.ZP.get("代理端口")},{label:"telegramBotProxyAuth",tip:i.ZP.get("telegram代理配置认证参数，用户名与密码用英文冒号连接 user:password")},{label:"telegramBotApiHost",tip:i.ZP.get("telegram api自建的反向代理地址，默认tg官方api")}],dingtalkBot:[{label:"dingtalkBotToken",tip:i.ZP.get("钉钉机器人webhook token，例如：5a544165465465645d0f31dca676e7bd07415asdasd"),required:!0},{label:"dingtalkBotSecret",tip:i.ZP.get("密钥，机器人安全设置页面，加签一栏下面显示的SEC开头的字符串")}],weWorkBot:[{label:"weWorkBotKey",tip:i.ZP.get("企业微信机器人的webhook(详见文档 https://work.weixin.qq.com/api/doc/90000/90136/91770)，例如：693a91f6-7xxx-4bc4-97a0-0ec2sifa5aaa"),required:!0},{label:"weWorkOrigin",tip:i.ZP.get("企业微信代理地址")}],weWorkApp:[{label:"weWorkAppKey",tip:i.ZP.get("corpid、corpsecret、touser(注:多个成员ID使用|隔开)、agentid、消息类型(选填，不填默认文本消息类型) 注意用,号隔开(英文输入法的逗号)，例如：wwcfrs,B-76WERQ,qinglong,1000001,2COat"),required:!0},{label:"weWorkOrigin",tip:i.ZP.get("企业微信代理地址")}],aibotk:[{label:"aibotkKey",tip:i.ZP.get("密钥key，智能微秘书个人中心获取apikey，申请地址：https://wechat.aibotk.com/signup?from=ql"),required:!0},{label:"aibotkType",tip:i.ZP.get("发送的目标，群组或者好友"),required:!0,placeholder:i.ZP.get("请输入要发送的目标"),items:[{value:"room",label:i.ZP.get("群聊")},{value:"contact",label:i.ZP.get("好友")}]},{label:"aibotkName",tip:i.ZP.get("要发送的用户昵称或群名，如果目标是群，需要填群名，如果目标是好友，需要填好友昵称"),required:!0}],iGot:[{label:"iGotPushKey",tip:i.ZP.get("iGot的信息推送key，例如：https://push.hellyw.com/XXXXXXXX"),required:!0}],pushPlus:[{label:"pushPlusToken",tip:i.ZP.get("微信扫码登录后一对一推送或一对多推送下面的token(您的Token)，不提供PUSH_PLUS_USER则默认为一对一推送，参考 https://www.pushplus.plus/"),required:!0},{label:"pushPlusUser",tip:i.ZP.get("一对多推送的“群组编码”（一对多推送下面->您的群组(如无则创建)->群组编码，如果您是创建群组人。也需点击“查看二维码”扫描绑定，否则不能接受群组消息推送）")},{label:"pushplusTemplate",tip:i.ZP.get("发送模板")},{label:"pushplusChannel",tip:i.ZP.get("发送渠道")},{label:"pushplusWebhook",tip:i.ZP.get("webhook编码")},{label:"pushplusCallbackUrl",tip:i.ZP.get("发送结果回调地址")},{label:"pushplusTo",tip:i.ZP.get("好友令牌")}],wePlusBot:[{label:"wePlusBotToken",tip:i.ZP.get("用户令牌，扫描登录后 我的—>设置->令牌 中获取，参考 https://www.weplusbot.com/"),required:!0},{label:"wePlusBotReceiver",tip:i.ZP.get("消息接收人")},{label:"wePlusBotVersion",tip:i.ZP.get("调用版本；专业版填写pro，个人版填写personal，为空默认使用专业版")}],wxPusherBot:[{label:"wxPusherBotAppToken",tip:i.ZP.get("wxPusherBot的appToken"),required:!0},{label:"wxPusherBotTopicIds",tip:i.ZP.get("wxPusherBot的topicIds"),required:!1},{label:"wxPusherBotUids",tip:i.ZP.get("wxPusherBot的uids"),required:!1}],lark:[{label:"larkKey",tip:i.ZP.get("飞书群组机器人：https://www.feishu.cn/hc/zh-CN/articles/360024984973"),required:!0}],email:[{label:"emailService",tip:i.ZP.get("邮箱服务名称，比如126、163、Gmail、QQ等，支持列表https://github.com/nodemailer/nodemailer/blob/master/lib/well-known/services.json"),required:!0},{label:"emailUser",tip:i.ZP.get("邮箱地址"),required:!0},{label:"emailPass",tip:i.ZP.get("SMTP 登录密码，也可能为特殊口令，视具体邮件服务商说明而定"),required:!0}],pushMe:[{label:"pushMeKey",tip:i.ZP.get("PushMe的Key，https://push.i-i.me/"),required:!0},{label:"pushMeUrl",tip:i.ZP.get("自建的PushMeServer消息接口地址，例如：http://127.0.0.1:3010，不填则使用官方消息接口"),required:!1}],chronocat:[{label:"chronocatURL",tip:i.ZP.get("Chronocat Red 服务的连接地址 https://chronocat.vercel.app/install/docker/official/"),required:!0},{label:"chronocatQQ",tip:i.ZP.get("个人:user_id=个人QQ 群则填入group_id=QQ群 多个用英文;隔开同时支持个人和群 如：user_id=xxx;group_id=xxxx;group_id=xxxxx"),required:!0},{label:"chronocatToken",tip:i.ZP.get("docker安装在持久化config目录下的chronocat.yml文件可找到"),required:!0}],webhook:[{label:"webhookMethod",tip:i.ZP.get("请求方法"),required:!0,items:[{value:"GET"},{value:"POST"},{value:"PUT"}]},{label:"webhookContentType",tip:i.ZP.get("请求头Content-Type"),required:!0,items:[{value:"text/plain"},{value:"application/json"},{value:"multipart/form-data"},{value:"application/x-www-form-urlencoded"}]},{label:"webhookUrl",tip:i.ZP.get("请求链接以http或者https开头。url或者body中必须包含$title，$content可选，对应api内容的位置"),required:!0,placeholder:"https://xxx.cn/api?content=$title\n"},{label:"webhookHeaders",tip:i.ZP.get("请求头格式Custom-Header1: Header1，多个换行分割"),placeholder:"Custom-Header1: Header1\nCustom-Header2: Header2"},{label:"webhookBody",tip:i.ZP.get("请求体格式key1: value1，多个换行分割。url或者body中必须包含$title，$content可选，对应api内容的位置"),placeholder:"key1: $title\nkey2: $content"}]},documentTitleMap:{"/login":i.ZP.get("登录"),"/initialization":i.ZP.get("初始化"),"/crontab":i.ZP.get("定时任务"),"/env":i.ZP.get("环境变量"),"/subscription":i.ZP.get("订阅管理"),"/config":i.ZP.get("配置文件"),"/script":i.ZP.get("脚本管理"),"/diff":i.ZP.get("对比工具"),"/log":i.ZP.get("日志管理"),"/setting":i.ZP.get("系统设置"),"/error":i.ZP.get("错误日志"),"/dependence":i.ZP.get("依赖管理")},dependenceTypes:["nodejs","python3","linux"]}},97302:function(e,t,a){"use strict";a.d(t,{eY:function(){return i},um:function(){return n},z:function(){return r}});var i="　　　　　",n={".py":"python",".js":"javascript",".mjs":"javascript",".sh":"shell",".ts":"typescript",".ini":"ini",".json":"json"},r=["UTC","Africa/Abidjan","Africa/Accra","Africa/Addis Ababa","Africa/Algiers","Africa/Asmara","Africa/Bamako","Africa/Bangui","Africa/Banjul","Africa/Bissau","Africa/Blantyre","Africa/Brazzaville","Africa/Bujumbura","Africa/Cairo","Africa/Casablanca","Africa/Ceuta","Africa/Conakry","Africa/Dakar","Africa/Dar es Salaam","Africa/Djibouti","Africa/Douala","Africa/El Aaiun","Africa/Freetown","Africa/Gaborone","Africa/Harare","Africa/Johannesburg","Africa/Juba","Africa/Kampala","Africa/Khartoum","Africa/Kigali","Africa/Kinshasa","Africa/Lagos","Africa/Libreville","Africa/Lome","Africa/Luanda","Africa/Lubumbashi","Africa/Lusaka","Africa/Malabo","Africa/Maputo","Africa/Maseru","Africa/Mbabane","Africa/Mogadishu","Africa/Monrovia","Africa/Nairobi","Africa/Ndjamena","Africa/Niamey","Africa/Nouakchott","Africa/Ouagadougou","Africa/Porto-Novo","Africa/Sao Tome","Africa/Tripoli","Africa/Tunis","Africa/Windhoek","America/Adak","America/Anchorage","America/Anguilla","America/Antigua","America/Araguaina","America/Argentina/Buenos Aires","America/Argentina/Catamarca","America/Argentina/Cordoba","America/Argentina/Jujuy","America/Argentina/La Rioja","America/Argentina/Mendoza","America/Argentina/Rio Gallegos","America/Argentina/Salta","America/Argentina/San Juan","America/Argentina/San Luis","America/Argentina/Tucuman","America/Argentina/Ushuaia","America/Aruba","America/Asuncion","America/Atikokan","America/Bahia","America/Bahia Banderas","America/Barbados","America/Belem","America/Belize","America/Blanc-Sablon","America/Boa Vista","America/Bogota","America/Boise","America/Cambridge Bay","America/Campo Grande","America/Cancun","America/Caracas","America/Cayenne","America/Cayman","America/Chicago","America/Chihuahua","America/Ciudad Juarez","America/Costa Rica","America/Creston","America/Cuiaba","America/Curacao","America/Danmarkshavn","America/Dawson","America/Dawson Creek","America/Denver","America/Detroit","America/Dominica","America/Edmonton","America/Eirunepe","America/El Salvador","America/Fort Nelson","America/Fortaleza","America/Glace Bay","America/Goose Bay","America/Grand Turk","America/Grenada","America/Guadeloupe","America/Guatemala","America/Guayaquil","America/Guyana","America/Halifax","America/Havana","America/Hermosillo","America/Indiana/Indianapolis","America/Indiana/Knox","America/Indiana/Marengo","America/Indiana/Petersburg","America/Indiana/Tell City","America/Indiana/Vevay","America/Indiana/Vincennes","America/Indiana/Winamac","America/Inuvik","America/Iqaluit","America/Jamaica","America/Juneau","America/Kentucky/Louisville","America/Kentucky/Monticello","America/Kralendijk","America/La Paz","America/Lima","America/Los Angeles","America/Lower Princes","America/Maceio","America/Managua","America/Manaus","America/Marigot","America/Martinique","America/Matamoros","America/Mazatlan","America/Menominee","America/Merida","America/Metlakatla","America/Mexico City","America/Miquelon","America/Moncton","America/Monterrey","America/Montevideo","America/Montserrat","America/Nassau","America/New York","America/Nome","America/Noronha","America/North Dakota/Beulah","America/North Dakota/Center","America/North Dakota/New Salem","America/Nuuk","America/Ojinaga","America/Panama","America/Paramaribo","America/Phoenix","America/Port of Spain","America/Port-au-Prince","America/Porto Velho","America/Puerto Rico","America/Punta Arenas","America/Rankin Inlet","America/Recife","America/Regina","America/Resolute","America/Rio Branco","America/Santarem","America/Santiago","America/Santo Domingo","America/Sao Paulo","America/Scoresbysund","America/Sitka","America/St Barthelemy","America/St Johns","America/St Kitts","America/St Lucia","America/St Thomas","America/St Vincent","America/Swift Current","America/Tegucigalpa","America/Thule","America/Tijuana","America/Toronto","America/Tortola","America/Vancouver","America/Whitehorse","America/Winnipeg","America/Yakutat","Antarctica/Casey","Antarctica/Davis","Antarctica/DumontDUrville","Antarctica/Macquarie","Antarctica/Mawson","Antarctica/McMurdo","Antarctica/Palmer","Antarctica/Rothera","Antarctica/Syowa","Antarctica/Troll","Antarctica/Vostok","Arctic/Longyearbyen","Asia/Aden","Asia/Almaty","Asia/Amman","Asia/Anadyr","Asia/Aqtau","Asia/Aqtobe","Asia/Ashgabat","Asia/Atyrau","Asia/Baghdad","Asia/Bahrain","Asia/Baku","Asia/Bangkok","Asia/Barnaul","Asia/Beirut","Asia/Bishkek","Asia/Brunei","Asia/Chita","Asia/Choibalsan","Asia/Colombo","Asia/Damascus","Asia/Dhaka","Asia/Dili","Asia/Dubai","Asia/Dushanbe","Asia/Famagusta","Asia/Gaza","Asia/Hebron","Asia/Ho Chi Minh","Asia/Hong Kong","Asia/Hovd","Asia/Irkutsk","Asia/Jakarta","Asia/Jayapura","Asia/Jerusalem","Asia/Kabul","Asia/Kamchatka","Asia/Karachi","Asia/Kathmandu","Asia/Khandyga","Asia/Kolkata","Asia/Krasnoyarsk","Asia/Kuala Lumpur","Asia/Kuching","Asia/Kuwait","Asia/Macau","Asia/Magadan","Asia/Makassar","Asia/Manila","Asia/Muscat","Asia/Nicosia","Asia/Novokuznetsk","Asia/Novosibirsk","Asia/Omsk","Asia/Oral","Asia/Phnom Penh","Asia/Pontianak","Asia/Pyongyang","Asia/Qatar","Asia/Qostanay","Asia/Qyzylorda","Asia/Riyadh","Asia/Sakhalin","Asia/Samarkand","Asia/Seoul","Asia/Shanghai","Asia/Singapore","Asia/Srednekolymsk","Asia/Taipei","Asia/Tashkent","Asia/Tbilisi","Asia/Tehran","Asia/Thimphu","Asia/Tokyo","Asia/Tomsk","Asia/Ulaanbaatar","Asia/Urumqi","Asia/Ust-Nera","Asia/Vientiane","Asia/Vladivostok","Asia/Yakutsk","Asia/Yangon","Asia/Yekaterinburg","Asia/Yerevan","Atlantic/Azores","Atlantic/Bermuda","Atlantic/Canary","Atlantic/Cape Verde","Atlantic/Faroe","Atlantic/Madeira","Atlantic/Reykjavik","Atlantic/South Georgia","Atlantic/St Helena","Atlantic/Stanley","Australia/Adelaide","Australia/Brisbane","Australia/Broken Hill","Australia/Darwin","Australia/Eucla","Australia/Hobart","Australia/Lindeman","Australia/Lord Howe","Australia/Melbourne","Australia/Perth","Australia/Sydney","Etc/GMT","Etc/GMT+1","Etc/GMT+10","Etc/GMT+11","Etc/GMT+12","Etc/GMT+2","Etc/GMT+3","Etc/GMT+4","Etc/GMT+5","Etc/GMT+6","Etc/GMT+7","Etc/GMT+8","Etc/GMT+9","Etc/GMT-1","Etc/GMT-10","Etc/GMT-11","Etc/GMT-12","Etc/GMT-13","Etc/GMT-14","Etc/GMT-2","Etc/GMT-3","Etc/GMT-4","Etc/GMT-5","Etc/GMT-6","Etc/GMT-7","Etc/GMT-8","Etc/GMT-9","Europe/Amsterdam","Europe/Andorra","Europe/Astrakhan","Europe/Athens","Europe/Belgrade","Europe/Berlin","Europe/Bratislava","Europe/Brussels","Europe/Bucharest","Europe/Budapest","Europe/Busingen","Europe/Chisinau","Europe/Copenhagen","Europe/Dublin","Europe/Gibraltar","Europe/Guernsey","Europe/Helsinki","Europe/Isle of Man","Europe/Istanbul","Europe/Jersey","Europe/Kaliningrad","Europe/Kirov","Europe/Kyiv","Europe/Lisbon","Europe/Ljubljana","Europe/London","Europe/Luxembourg","Europe/Madrid","Europe/Malta","Europe/Mariehamn","Europe/Minsk","Europe/Monaco","Europe/Moscow","Europe/Oslo","Europe/Paris","Europe/Podgorica","Europe/Prague","Europe/Riga","Europe/Rome","Europe/Samara","Europe/San Marino","Europe/Sarajevo","Europe/Saratov","Europe/Simferopol","Europe/Skopje","Europe/Sofia","Europe/Stockholm","Europe/Tallinn","Europe/Tirane","Europe/Ulyanovsk","Europe/Vaduz","Europe/Vatican","Europe/Vienna","Europe/Vilnius","Europe/Volgograd","Europe/Warsaw","Europe/Zagreb","Europe/Zurich","Indian/Antananarivo","Indian/Chagos","Indian/Christmas","Indian/Cocos","Indian/Comoro","Indian/Kerguelen","Indian/Mahe","Indian/Maldives","Indian/Mauritius","Indian/Mayotte","Indian/Reunion","Pacific/Apia","Pacific/Auckland","Pacific/Bougainville","Pacific/Chatham","Pacific/Chuuk","Pacific/Easter","Pacific/Efate","Pacific/Fakaofo","Pacific/Fiji","Pacific/Funafuti","Pacific/Galapagos","Pacific/Gambier","Pacific/Guadalcanal","Pacific/Guam","Pacific/Honolulu","Pacific/Kanton","Pacific/Kiritimati","Pacific/Kosrae","Pacific/Kwajalein","Pacific/Majuro","Pacific/Marquesas","Pacific/Midway","Pacific/Nauru","Pacific/Niue","Pacific/Norfolk","Pacific/Noumea","Pacific/Pago Pago","Pacific/Palau","Pacific/Pitcairn","Pacific/Pohnpei","Pacific/Port Moresby","Pacific/Rarotonga","Pacific/Saipan","Pacific/Tahiti","Pacific/Tarawa","Pacific/Tongatapu","Pacific/Wake","Pacific/Wallis"]},9364:function(e,t,a){"use strict";a.d(t,{F:function(){return s},e:function(){return c}});var i=a(48305),n=a.n(i),r=a(75271),o=a(48916),c=function(){var e=(0,r.useState)("100%"),t=n()(e,2),a=t[0],i=t[1],c=(0,r.useState)(0),s=n()(c,2),l=s[0],u=s[1],d=(0,r.useState)(-48),p=n()(d,2),f=p[0],g=p[1],m=(0,r.useState)(!1),h=n()(m,2),A=h[0],v=h[1],P=(0,r.useMemo)((function(){return(0,o.ZP)()}),[]).platform;return(0,r.useEffect)((function(){"mobile"===P&&document.body.offsetWidth<768?(i("auto"),u(0),g(0),v(!0),document.body.setAttribute("data-mode","phone")):(i("100%"),u(0),g(-48),v(!1),document.body.setAttribute("data-mode","desktop"))}),[]),{headerStyle:{padding:"4px 16px 4px 15px",position:"sticky",top:0,left:0,zIndex:20,marginTop:f,width:a,marginLeft:l},isPhone:A}},s=function(){var e=(0,r.useState)(),t=n()(e,2),a=t[0],i=t[1];return(0,r.useEffect)((function(){var e=window.matchMedia("(prefers-color-scheme: dark)"),t=localStorage.getItem("qinglong_dark_theme"),a=e.matches&&"light"!==t||"dark"===t;i(a?"vs-dark":"vs");var n=function(e){"auto"!==t&&t||(e.matches?i("vs-dark"):i("vs"))};"function"==typeof e.addEventListener?e.addEventListener("change",n):"function"==typeof e.addListener&&e.addListener(n)}),[]),{theme:a,reloadTheme:function(){var e=window.matchMedia("(prefers-color-scheme: dark)"),t=localStorage.getItem("qinglong_dark_theme"),a=e.matches&&"light"!==t||"dark"===t;i(a?"vs-dark":"vs")}}}},16314:function(e,t,a){"use strict";a.d(t,{W:function(){return A}});var i=a(90228),n=a.n(i),r=a(87999),o=a.n(r),c=a(72317),s=a(61508),l=a(33839),u=a(3475),d=a(98783),p=a(69313),f=a(52676);s.ZP.config({duration:2});var g=Date.now(),m=p.Z.create({timeout:6e4,params:{t:g}}),h=["/api/user/login","/open/auth/token","/api/user/two-factor/login","/api/system","/api/user/init","/api/user/notification/init"];m.interceptors.request.use((function(e){var t=localStorage.getItem(u.Z.authKey);return t&&!h.includes(e.url)?(e.headers.Authorization="Bearer ".concat(t),e):e})),m.interceptors.response.use(function(){var e=o()(n()().mark((function e(t){var a,i,r;return n()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.status,![502,504].includes(a)){e.next=5;break}d.history.push("/error"),e.next=18;break;case 5:if(401!==a){e.next=9;break}"/login"!==d.history.location.pathname&&(localStorage.removeItem(u.Z.authKey),d.history.push("/login")),e.next=18;break;case 9:return e.prev=9,200!==(i=t.data).code&&(r=i.message||i.data)&&l.Z.error({message:r,description:null!=i&&i.errors?(0,f.jsx)(f.Fragment,{children:null==i?void 0:i.errors.map((function(e){return(0,f.jsx)("div",{children:e.message})}))}):void 0}),e.abrupt("return",i);case 15:e.prev=15,e.t0=e.catch(9);case 17:case 18:return e.abrupt("return",t);case 19:case"end":return e.stop()}}),e,null,[[9,15]])})));return function(t){return e.apply(this,arguments)}}(),(function(e){if(e.response){var t=e.response.data?e.response.data.message||e.message:e.response.statusText,a=e.response.status;if([502,504].includes(a))d.history.push("/error");else if(401===a)"/login"!==d.history.location.pathname&&(s.ZP.error(c.ZP.get("登录已过期，请重新登录")),localStorage.removeItem(u.Z.authKey),d.history.push("/login"));else{var i,n,r,o;if("function"==typeof(null===(i=e.config)||void 0===i?void 0:i.onError))return null===(o=e.config)||void 0===o?void 0:o.onError(e.response);t&&l.Z.error({message:t,description:null!==(n=e.response)&&void 0!==n&&null!==(n=n.data)&&void 0!==n&&n.errors?(0,f.jsx)(f.Fragment,{children:null===(r=e.response)||void 0===r||null===(r=r.data)||void 0===r||null===(r=r.errors)||void 0===r?void 0:r.map((function(e){return(0,f.jsxs)("div",{children:[e.message," (",e.value,")"]})}))}):void 0})}}else console.log(e.message);return Promise.reject(e)}));var A=m},48916:function(e,t,a){"use strict";a.d(t,{DY:function(){return f},FA:function(){return m},H$:function(){return v},I1:function(){return p},W9:function(){return u},ZP:function(){return l},o4:function(){return P},rS:function(){return A},w7:function(){return d},x$:function(){return g}});var i=a(15558),n=a.n(i),r=a(72317),o=a(97302),c=a(94046),s=a.n(c);function l(){var e=navigator.userAgent.toLowerCase(),t=function(t){return t.test(e)},a=function(t){return(e.match(t)||[]).toString().replace(/[^0-9|_.]/g,"").replace(/_/g,".")},i="unknow";t(/windows|win32|win64|wow32|wow64/g)?i="windows":t(/macintosh|macintel/g)?i="macos":t(/x11/g)?i="linux":t(/android|adr/g)?i="android":t(/ios|iphone|ipad|ipod|iwatch/g)&&(i="ios");var n="unknow";"windows"===i?t(/windows nt 5.0|windows 2000/g)?n="2000":t(/windows nt 5.1|windows xp/g)?n="xp":t(/windows nt 5.2|windows 2003/g)?n="2003":t(/windows nt 6.0|windows vista/g)?n="vista":t(/windows nt 6.1|windows 7/g)?n="7":t(/windows nt 6.2|windows 8/g)?n="8":t(/windows nt 6.3|windows 8.1/g)?n="8.1":t(/windows nt 10.0|windows 10/g)&&(n="10"):"macos"===i?n=a(/os x [\d._]+/g):"android"===i?n=a(/android [\d._]+/g):"ios"===i&&(n=a(/os [\d._]+/g));var r="unknow";"windows"===i||"macos"===i||"linux"===i?r="desktop":("android"===i||"ios"===i||t(/mobile/g))&&(r="mobile");var o="unknow",c="unknow";t(/applewebkit/g)?(o="webkit",t(/edge/g)?c="edge":t(/opr/g)?c="opera":t(/chrome/g)?c="chrome":t(/safari/g)&&(c="safari")):t(/gecko/g)&&t(/firefox/g)?(o="gecko",c="firefox"):t(/presto/g)?(o="presto",c="opera"):t(/trident|compatible|msie/g)&&(o="trident",c="iexplore");var s="unknow";"webkit"===o?s=a(/applewebkit\/[\d._]+/g):"gecko"===o?s=a(/gecko\/[\d._]+/g):"presto"===o?s=a(/presto\/[\d._]+/g):"trident"===o&&(s=a(/trident\/[\d._]+/g));var l="unknow";"chrome"===c?l=a(/chrome\/[\d._]+/g):"safari"===c?l=a(/version\/[\d._]+/g):"firefox"===c?l=a(/firefox\/[\d._]+/g):"opera"===c?l=a(/opr\/[\d._]+/g):"iexplore"===c?l=a(/(msie [\d._]+)|(rv:[\d._]+)/g):"edge"===c&&(l=a(/edge\/[\d._]+/g));var u="none",d="unknow";t(/micromessenger/g)?(u="wechat",d=a(/micromessenger\/[\d._]+/g)):t(/qqbrowser/g)?(u="qq",d=a(/qqbrowser\/[\d._]+/g)):t(/ucbrowser/g)?(u="uc",d=a(/ucbrowser\/[\d._]+/g)):t(/qihu 360se/g)?u="360":t(/2345explorer/g)?(u="2345",d=a(/2345explorer\/[\d._]+/g)):t(/metasr/g)?u="sougou":t(/lbbrowser/g)?u="liebao":t(/maxthon/g)&&(u="maxthon",d=a(/maxthon\/[\d._]+/g));var p=Object.assign({engine:o,engineVs:s,platform:r,supporter:c,supporterVs:l,system:i,systemVs:n},"none"===u?{}:{shell:u,shellVs:d});return console.log("%c\n .d88b.  d888888b d8b   db  d888b  db       .d88b.  d8b   db  d888b  \n.8P  Y8.   `88'   888o  88 88' Y8b 88      .8P  Y8. 888o  88 88' Y8b \n88    88    88    88V8o 88 88      88      88    88 88V8o 88 88      \n88    88    88    88 V8o88 88  ooo 88      88    88 88 V8o88 88  ooo \n`8P  d8'   .88.   88  V888 88. ~8~ 88booo. `8b  d8' 88  V888 88. ~8~ \n `Y88'Y8 Y888888P VP   V8P  Y888P  Y88888P  `Y88P'  VP   V8P  Y888P  \n                                                                     \n                                                                     \n","color: blue;font-size: 14px;"),console.log("%c忘形雨笠烟蓑，知心牧唱樵歌。明月清风共我，闲人三个，从他今古消磨。\n","color: yellow;font-size: 18px;"),console.log("%c青龙运行环境:\n\n系统：".concat(p.system,"/").concat(p.systemVs,"\n浏览器：").concat(p.supporter,"/").concat(p.supporterVs,"\n内核：").concat(p.engine,"/").concat(p.engineVs),"color: green;font-size: 14px;font-weight: bold;"),p}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.extraHeight,a=e.target;void 0===t&&(t=99);var i=null,n=0;(i=a||document.querySelector(".ant-table-wrapper"))&&(n=i.getBoundingClientRect().top);var r=document.body.clientHeight-n-t;return r}function d(e,t){var a,i,n=window.URL||window.webkitURL||window,r=new Blob([t]),o=document.createElementNS("http://www.w3.org/1999/xhtml","a");o.href=n.createObjectURL(r),o.download=e,a=o,(i=document.createEvent("MouseEvents")).initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),a.dispatchEvent(i)}function p(e,t,a){var i=n()(e),r=[];return function e(i){if(i)for(var n=0;n<(null==i?void 0:i.length);n++){if(t(i[n]))return a?void(i[n].children?i[n].children.unshift(a):i[n].children=[a]):void i.splice(n,1);i[n].children&&(r.push(i[n].key),e(i[n].children))}}(i),i}function f(e,t){var a;return function e(i){if(i)for(var n=0;n<(null==i?void 0:i.length);n++)t(i[n])?a=i[n]:i[n].children&&e(i[n].children)}(n()(e)),a}function g(e){return[o.eY,r.ZP.get("执行结束")].some((function(t){return e.includes(t)}))}function m(e){var t=e.split(" ");if("repo"===t[1]||"raw"===t[1])return t[2];var a=t.find((function(e){return[".js",".ts",".sh",".py"].some((function(t){return e.endsWith(t)}))}));if(a){var i,n,r="".concat(window.__ENV__QL_DIR,"/data/scripts");a.startsWith(r)&&(a=a.replace(r,""));var o=a.lastIndexOf("/");return o>=0?(n=a.slice(o+1),i=a.slice(0,o)):(n=a,i=""),[n,i]}}function h(e){try{var t=s().parseExpression(e);if(t)return t.next().toDate()}catch(e){}return null}function A(e,t){var a=h(e);return null!=t&&t.length&&t.forEach((function(e){var t=h(e.schedule);t&&(!a||t<a)&&(a=t)})),a}function v(e){var t=function(e){if(!e)return"";var t=e.split(".");return".".concat(t[t.length-1])}(e);return o.um[t]}function P(){var e=document.createElement("div");e.style.position="fixed",e.style.top="0px",e.style.left="0px",e.style.width="100%",e.style.height="100%",e.style.backgroundColor="transparent",e.style.zIndex="9999",document.body.appendChild(e),e.addEventListener("click",(function(e){e.stopPropagation(),e.preventDefault()})),document.body.style.overflow="hidden"}},65814:function(e,t,a){"use strict";var i=a(15558),n=a.n(i),r=a(67825),o=a.n(r),c=a(90228),s=a.n(c),l=a(87999),u=a.n(l),d=a(25298),p=a.n(d),f=a(17069),g=a.n(f),m=a(82092),h=a.n(m),A=a(78078),v=a.n(A),P=["type"],b=function(){function e(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};p()(this,e),h()(this,"url",void 0),h()(this,"socket",null),h()(this,"subscriptions",new Map),h()(this,"options",void 0),h()(this,"reconnectAttempts",0),h()(this,"heartbeatTimeout",null),h()(this,"state","closed"),this.url=t,this.options={maxReconnectAttempts:a.maxReconnectAttempts||5,reconnectInterval:a.reconnectInterval||3e3,heartbeatInterval:a.heartbeatInterval||3e4},this.init()}var t,a;return g()(e,[{key:"init",value:(a=u()(s()().mark((function e(){var t=this;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,this.state="connecting",this.emit("connecting");case 3:if(!(this.reconnectAttempts<this.options.maxReconnectAttempts)){e.next=16;break}return this.socket=new(v())(this.url),this.setupEventListeners(),this.startHeartbeat(),e.next=9,this.waitForClose();case 9:return this.stopHeartbeat(),this.socket=null,this.reconnectAttempts++,e.next=14,new Promise((function(e){return setTimeout(e,t.options.reconnectInterval)}));case 14:e.next=3;break;case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),this.handleError(e.t0);case 21:case"end":return e.stop()}}),e,this,[[0,18]])}))),function(){return a.apply(this,arguments)})},{key:"setupEventListeners",value:function(){var e=this;this.socket&&(this.socket.onopen=function(){e.state="open",e.emit("open")},this.socket.onmessage=function(t){var a=JSON.parse(t.data);e.dispatchMessage(a)},this.socket.onclose=function(){e.state="closed",e.emit("close")})}},{key:"waitForClose",value:(t=u()(s()().mark((function e(){var t;return s()().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((null===(t=this.socket)||void 0===t?void 0:t.readyState)===v().CLOSED){e.next=5;break}return e.next=3,new Promise((function(e){return setTimeout(e,100)}));case 3:e.next=0;break;case 5:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"subscribe",value:function(e,t){var a=this.subscriptions.get(e)||new Set;if(!a.has(t)){a.add(t),this.subscriptions.set(e,a);var i={action:"subscribe",topic:e};this.send(i)}}},{key:"unsubscribe",value:function(e,t){var a=this.subscriptions.get(e)||new Set;if(a.has(t)){a.delete(t);var i={action:"unsubscribe",topic:e};this.send(i)}}},{key:"send",value:function(e){var t;(null===(t=this.socket)||void 0===t?void 0:t.readyState)===v().OPEN&&this.socket.send(JSON.stringify(e))}},{key:"dispatchMessage",value:function(e){var t=e.type,a=o()(e,P),i=this.subscriptions.get(t)||new Set;n()(i).forEach((function(e){return e(a)}))}},{key:"startHeartbeat",value:function(){var e=this;this.heartbeatTimeout=setInterval((function(){var t;(null===(t=e.socket)||void 0===t?void 0:t.readyState)===v().OPEN&&e.socket.send(JSON.stringify({type:"heartbeat"}))}),this.options.heartbeatInterval)}},{key:"stopHeartbeat",value:function(){this.heartbeatTimeout&&clearInterval(this.heartbeatTimeout)}},{key:"close",value:function(){this.socket&&(this.state="closed",this.stopHeartbeat(),this.socket.close(),this.emit("close"))}},{key:"handleError",value:function(e){console.error("WebSocket错误:",e),this.emit("error",e)}},{key:"on",value:function(e,t){}},{key:"emit",value:function(e,t){}}],[{key:"getInstance",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a=arguments.length>1?arguments[1]:void 0;return e.instance||(e.instance=new e(t,a)),e.instance}}]),e}();h()(b,"instance",null),t.Z=b},50810:function(){}}]);