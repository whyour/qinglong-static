(self.webpackChunk=self.webpackChunk||[]).push([[9914],{20209:function(oe,R,e){"use strict";e.d(R,{Z:function(){return r}});var U=e(14797),m=e(63313),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"},v=y,K=e(46420),_=function(P,Z){return m.createElement(K.Z,(0,U.Z)((0,U.Z)({},P),{},{ref:Z,icon:v}))};_.displayName="ClockCircleOutlined";var r=m.forwardRef(_)},13740:function(oe,R,e){"use strict";e.d(R,{Z:function(){return r}});var U=e(14797),m=e(63313),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"}}]},name:"delete",theme:"outlined"},v=y,K=e(46420),_=function(P,Z){return m.createElement(K.Z,(0,U.Z)((0,U.Z)({},P),{},{ref:Z,icon:v}))};_.displayName="DeleteOutlined";var r=m.forwardRef(_)},97674:function(oe,R,e){"use strict";e.d(R,{Z:function(){return r}});var U=e(14797),m=e(63313),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM504 618H320c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 490v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H320c-4.4 0-8 3.6-8 8z"}}]},name:"file-text",theme:"outlined"},v=y,K=e(46420),_=function(P,Z){return m.createElement(K.Z,(0,U.Z)((0,U.Z)({},P),{},{ref:Z,icon:v}))};_.displayName="FileTextOutlined";var r=m.forwardRef(_)},66150:function(oe,R,e){"use strict";var U=e(54306),m=e.n(U),y=e(63313),v=e.n(y),K=e(61761),_=e(82428);R.Z=function(r,u){var P=(0,y.useState)(0),Z=m()(P,2),N=Z[0],ne=Z[1];return(0,K.Z)(r,function(F){var w=F.target;w.classList.contains("ant-table-wrapper")||(w=F.target.querySelector(".ant-table-wrapper")),ne((0,_.W9)({extraHeight:u,target:w}))}),N}},28214:function(oe,R,e){"use strict";e.r(R),e.d(R,{default:function(){return Ee}});var U=e(93525),m=e.n(U),y=e(54306),v=e.n(y),K=e(57213),_=e.n(K),r=e(88265),u=e(63313),P=e(92260),Z=e(22159),N=e(2947),ne=e(51704),F=e(15367),w=e(84163),L=e(24378),re=e(86986),me=e(94674),W=e(14797),D={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},le=D,Q=e(46420),M=function(se,he){return u.createElement(Q.Z,(0,W.Z)((0,W.Z)({},se),{},{ref:he,icon:le}))};M.displayName="SyncOutlined";var f=u.forwardRef(M),V=e(38101),z=e(76657),l=e(20209),a=e(97674),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M304 280h56c4.4 0 8-3.6 8-8 0-28.3 5.9-53.2 17.1-73.5 10.6-19.4 26-34.8 45.4-45.4C450.9 142 475.7 136 504 136h16c28.3 0 53.2 5.9 73.5 17.1 19.4 10.6 34.8 26 45.4 45.4C650 218.9 656 243.7 656 272c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-40-8.8-76.7-25.9-108.1a184.31 184.31 0 00-74-74C596.7 72.8 560 64 520 64h-16c-40 0-76.7 8.8-108.1 25.9a184.31 184.31 0 00-74 74C304.8 195.3 296 232 296 272c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M940 512H792V412c76.8 0 139-62.2 139-139 0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8a63 63 0 01-63 63H232a63 63 0 01-63-63c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8 0 76.8 62.2 139 139 139v100H84c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h148v96c0 6.5.2 13 .7 19.3C164.1 728.6 116 796.7 116 876c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-44.2 23.9-82.9 59.6-103.7a273 273 0 0022.7 49c24.3 41.5 59 76.2 100.5 100.5S460.5 960 512 960s99.8-13.9 141.3-38.2a281.38 281.38 0 00123.2-149.5A120 120 0 01836 876c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8 0-79.3-48.1-147.4-116.7-176.7.4-6.4.7-12.8.7-19.3v-96h148c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM716 680c0 36.8-9.7 72-27.8 102.9-17.7 30.3-43 55.6-73.3 73.3C584 874.3 548.8 884 512 884s-72-9.7-102.9-27.8c-30.3-17.7-55.6-43-73.3-73.3A202.75 202.75 0 01308 680V412h408v268z"}}]},name:"bug",theme:"outlined"},s=n,t=function(se,he){return u.createElement(Q.Z,(0,W.Z)((0,W.Z)({},se),{},{ref:he,icon:s}))};t.displayName="BugOutlined";var o=u.forwardRef(t),c=e(13740),g={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M864 256H736v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zm-200 0H360v-72h304v72z"}}]},name:"delete",theme:"filled"},x=g,p=function(se,he){return u.createElement(Q.Z,(0,W.Z)((0,W.Z)({},se),{},{ref:he,icon:x}))};p.displayName="DeleteFilled";var $=u.forwardRef(p),T=e(5558),S=e(78969),B=e(95176),k=e(52739),J=e(33328),I=e(66255),Y=e(47549),te=e(98074),X=e(66150),ue=e(52053),ae=e.n(ue),i=e(11527),fe=P.Z.Text,Pe=Z.Z.Search,j=function(O){return O[O.\u5B89\u88C5\u4E2D=0]="\u5B89\u88C5\u4E2D",O[O.\u5DF2\u5B89\u88C5=1]="\u5DF2\u5B89\u88C5",O[O.\u5B89\u88C5\u5931\u8D25=2]="\u5B89\u88C5\u5931\u8D25",O[O.\u5220\u9664\u4E2D=3]="\u5220\u9664\u4E2D",O[O.\u5DF2\u5220\u9664=4]="\u5DF2\u5220\u9664",O[O.\u5220\u9664\u5931\u8D25=5]="\u5220\u9664\u5931\u8D25",O[O.\u961F\u5217\u4E2D=6]="\u961F\u5217\u4E2D",O}(j||{}),q=function(O){return O[O.processing=0]="processing",O[O.success=1]="success",O[O.error=2]="error",O}(q||{}),G={0:{icon:(0,i.jsx)(f,{spin:!0}),color:"processing"},1:{icon:(0,i.jsx)(V.Z,{}),color:"success"},2:{icon:(0,i.jsx)(z.Z,{}),color:"error"},3:{icon:(0,i.jsx)(f,{spin:!0}),color:"processing"},4:{icon:(0,i.jsx)(V.Z,{}),color:"success"},5:{icon:(0,i.jsx)(z.Z,{}),color:"error"},6:{icon:(0,i.jsx)(l.Z,{}),color:"default"}},ce=function(){var se=(0,te.useOutletContext)(),he=se.headerStyle,Je=se.isPhone,_e=se.socketMessage,Ge=[{title:r.ZP.get("\u5E8F\u53F7"),width:80,render:function(d,h,E){return(0,i.jsxs)("span",{style:{cursor:"text"},children:[E+1," "]})}},{title:r.ZP.get("\u540D\u79F0"),dataIndex:"name",width:120,key:"name"},{title:r.ZP.get("\u72B6\u6001"),key:"status",width:120,dataIndex:"status",render:function(d,h,E){return(0,i.jsx)(N.Z,{size:"middle",style:{cursor:"text"},children:(0,i.jsx)(ne.Z,{color:G[h.status].color,icon:G[h.status].icon,style:{marginRight:0},children:r.ZP.get(j[h.status])})})}},{title:r.ZP.get("\u5907\u6CE8"),dataIndex:"remark",width:120,key:"remark"},{title:r.ZP.get("\u66F4\u65B0\u65F6\u95F4"),key:"updatedAt",dataIndex:"updatedAt",width:150,render:function(d){return(0,i.jsx)("span",{children:ae()(d).format("YYYY-MM-DD HH:mm:ss")})}},{title:r.ZP.get("\u521B\u5EFA\u65F6\u95F4"),key:"createdAt",dataIndex:"createdAt",width:150,render:function(d){return(0,i.jsx)("span",{children:ae()(d).format("YYYY-MM-DD HH:mm:ss")})}},{title:r.ZP.get("\u64CD\u4F5C"),key:"action",width:150,render:function(d,h,E){var A=!Je;return(0,i.jsxs)(N.Z,{size:"middle",children:[(0,i.jsx)(F.Z,{title:A?r.ZP.get("\u65E5\u5FD7"):"",children:(0,i.jsx)("a",{onClick:function(){on(_()(_()({},h),{},{timestamp:Date.now()}))},children:(0,i.jsx)(a.Z,{})})}),h.status!==j.\u5B89\u88C5\u4E2D&&h.status!==j.\u5220\u9664\u4E2D&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(F.Z,{title:A?r.ZP.get("\u91CD\u65B0\u5B89\u88C5"):"",children:(0,i.jsx)("a",{onClick:function(){return gn(h,E)},children:(0,i.jsx)(o,{})})}),(0,i.jsx)(F.Z,{title:A?r.ZP.get("\u5220\u9664"):"",children:(0,i.jsx)("a",{onClick:function(){return Ve(h,E)},children:(0,i.jsx)(c.Z,{})})}),(0,i.jsx)(F.Z,{title:A?r.ZP.get("\u5F3A\u5236\u5220\u9664"):"",children:(0,i.jsx)("a",{onClick:function(){return Ve(h,E,!0)},children:(0,i.jsx)($,{})})})]})]})}}],Qe=(0,u.useState)([]),Te=v()(Qe,2),H=Te[0],de=Te[1],Xe=(0,u.useState)(!0),Ie=v()(Xe,2),Ae=Ie[0],Ce=Ie[1],qe=(0,u.useState)(!1),Le=v()(qe,2),en=Le[0],Se=Le[1],nn=(0,u.useState)(),Be=v()(nn,2),tn=Be[0],Re=Be[1],an=(0,u.useState)([]),We=v()(an,2),ve=We[0],ye=We[1],rn=(0,u.useState)(""),Ue=v()(rn,2),Ke=Ue[0],ln=Ue[1],sn=(0,u.useState)(),Fe=v()(sn,2),ge=Fe[0],on=Fe[1],cn=(0,u.useState)(!1),He=v()(cn,2),dn=He[0],be=He[1],un=(0,u.useState)("nodejs"),ze=v()(un,2),je=ze[0],fn=ze[1],Ye=(0,u.useRef)(null),hn=(0,X.Z)(Ye,59),$e=function(){Ce(!0),B.W.get("".concat(T.Z.apiPrefix,"dependencies?searchValue=").concat(Ke,"&type=").concat(je)).then(function(d){var h=d.code,E=d.data;h===200&&de(E)}).finally(function(){return Ce(!1)})},vn=function(){Re(null),Se(!0)},xn=function(d,h){Re(d),Se(!0)},Ve=function(d,h){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;w.Z.confirm({title:r.ZP.get("\u786E\u8BA4\u5220\u9664"),content:(0,i.jsxs)(i.Fragment,{children:[r.ZP.get("\u786E\u8BA4\u5220\u9664\u4F9D\u8D56")," ",(0,i.jsx)(fe,{style:{wordBreak:"break-all"},type:"warning",children:d.name})," ",r.ZP.get("\u5417")]}),onOk:function(){B.W.delete("".concat(T.Z.apiPrefix,"dependencies").concat(E?"/force":""),{data:[d.id]}).then(function(b){var ee=b.code,De=b.data;if(ee===200&&E){var xe=H.findIndex(function(Oe){return Oe.id===De[0].id});if(xe!==-1){var pe=m()(H);pe.splice(xe,1),de(pe)}}})},onCancel:function(){console.log("Cancel")}})},gn=function(d,h){w.Z.confirm({title:r.ZP.get("\u786E\u8BA4\u91CD\u65B0\u5B89\u88C5"),content:(0,i.jsxs)(i.Fragment,{children:[r.ZP.get("\u786E\u8BA4\u91CD\u65B0\u5B89\u88C5")," ",(0,i.jsx)(fe,{style:{wordBreak:"break-all"},type:"warning",children:d.name})," ",r.ZP.get("\u5417")]}),onOk:function(){B.W.put("".concat(T.Z.apiPrefix,"dependencies/reinstall"),[d.id]).then(function(A){var b=A.code,ee=A.data;b===200&&ke(ee[0])})},onCancel:function(){console.log("Cancel")}})},mn=function(d){Se(!1),d&&ke(d)},ke=function(d){var h=m()(H);if(Array.isArray(d))h.unshift.apply(h,m()(d));else{var E=H.findIndex(function(A){return A.id===d.id});E!==-1&&h.splice(E,1,_()({},d))}de(h)},_n=function(d){ye(d)},Dn={selectedRowKeys:ve,onChange:_n},Ne=function(d){var h=d?"/force":"";w.Z.confirm({title:r.ZP.get("\u786E\u8BA4\u5220\u9664"),content:(0,i.jsx)(i.Fragment,{children:r.ZP.get("\u786E\u8BA4\u5220\u9664\u9009\u4E2D\u7684\u4F9D\u8D56\u5417")}),onOk:function(){B.W.delete("".concat(T.Z.apiPrefix,"dependencies").concat(h),{data:ve}).then(function(A){var b=A.code,ee=A.data;b===200&&(ye([]),$e())})},onCancel:function(){console.log("Cancel")}})},pn=function(){w.Z.confirm({title:r.ZP.get("\u786E\u8BA4\u91CD\u65B0\u5B89\u88C5"),content:(0,i.jsx)(i.Fragment,{children:r.ZP.get("\u786E\u8BA4\u91CD\u65B0\u5B89\u88C5\u9009\u4E2D\u7684\u4F9D\u8D56\u5417")}),onOk:function(){B.W.put("".concat(T.Z.apiPrefix,"dependencies/reinstall"),ve).then(function(h){var E=h.code,A=h.data;E===200&&(ye([]),$e())})},onCancel:function(){console.log("Cancel")}})},On=function(d){B.W.get("".concat(T.Z.apiPrefix,"dependencies/").concat(d.id)).then(function(h){var E=h.code,A=h.data;if(E===200){var b=H.findIndex(function(De){return De.id===d.id}),ee=m()(H);b!==-1&&(ee.splice(b,1,_()(_()({},d),A)),de(ee))}}).finally(function(){return Ce(!1)})},Mn=function(d){ln(d.trim())};(0,u.useEffect)(function(){$e()},[Ke,je]),(0,u.useEffect)(function(){ge&&(localStorage.setItem("logDependence",ge.id),be(!0))},[ge]),(0,u.useEffect)(function(){if(_e){var C=_e.type,d=_e.message,h=_e.references;if(C==="installDependence"&&d.includes(r.ZP.get("\u5F00\u59CB\u65F6\u95F4"))&&h.length>0){for(var E=m()(H),A=function(Me){var ie=H.findIndex(function(Ze){return Ze.id===h[Me]});ie!==-1&&E.splice(ie,1,_()(_()({},H[ie]),{},{status:d.includes(r.ZP.get("\u5B89\u88C5"))?j.\u5B89\u88C5\u4E2D:j.\u5220\u9664\u4E2D}))},b=0;b<h.length;b++)A(b);de(E)}if(C==="installDependence"&&d.includes(r.ZP.get("\u7ED3\u675F\u65F6\u95F4"))&&h.length>0){var ee;d.includes(r.ZP.get("\u5B89\u88C5"))?ee=d.includes(r.ZP.get("\u6210\u529F"))?j.\u5DF2\u5B89\u88C5:j.\u5B89\u88C5\u5931\u8D25:ee=d.includes(r.ZP.get("\u6210\u529F"))?j.\u5DF2\u5220\u9664:j.\u5220\u9664\u5931\u8D25;for(var De=m()(H),xe=function(Me){var ie=H.findIndex(function(Ze){return Ze.id===h[Me]});ie!==-1&&De.splice(ie,1,_()(_()({},H[ie]),{},{status:ee}))},pe=0;pe<h.length;pe++)xe(pe);de(De),ee===j.\u5DF2\u5220\u9664&&setTimeout(function(){for(var Oe=m()(H),Me=function(En){var we=H.findIndex(function(yn){return yn.id===h[En]});we!==-1&&Oe.splice(we,1)},ie=0;ie<h.length;ie++)Me(ie);de(Oe)},5e3)}}},[_e]);var Pn=function(d){ye([]),fn(d)};return(0,i.jsxs)(S.ZP,{className:"ql-container-wrapper dependence-wrapper ql-container-wrapper-has-tab",title:r.ZP.get("\u4F9D\u8D56\u7BA1\u7406"),extra:[(0,i.jsx)(Pe,{placeholder:r.ZP.get("\u8BF7\u8F93\u5165\u540D\u79F0"),style:{width:"auto"},enterButton:!0,loading:Ae,onSearch:Mn}),(0,i.jsx)(L.Z,{type:"primary",onClick:function(){return vn()},children:r.ZP.get("\u521B\u5EFA\u4F9D\u8D56")},"2")],header:{style:he},children:[(0,i.jsx)(re.Z,{defaultActiveKey:"nodejs",size:"small",tabPosition:"top",onChange:Pn,items:[{key:"nodejs",label:"NodeJs"},{key:"python3",label:"Python3"},{key:"linux",label:"Linux"}]}),(0,i.jsxs)("div",{ref:Ye,children:[ve.length>0&&(0,i.jsxs)("div",{style:{marginBottom:16},children:[(0,i.jsx)(L.Z,{type:"primary",style:{marginBottom:5,marginLeft:8},onClick:function(){return pn()},children:r.ZP.get("\u6279\u91CF\u5B89\u88C5")}),(0,i.jsx)(L.Z,{type:"primary",style:{marginBottom:5,marginLeft:8},onClick:function(){return Ne(!1)},children:r.ZP.get("\u6279\u91CF\u5220\u9664")}),(0,i.jsx)(L.Z,{type:"primary",style:{marginBottom:5,marginLeft:8},onClick:function(){return Ne(!0)},children:r.ZP.get("\u6279\u91CF\u5F3A\u5236\u5220\u9664")}),(0,i.jsxs)("span",{style:{marginLeft:8},children:[r.ZP.get("\u5DF2\u9009\u62E9"),(0,i.jsx)("a",{children:ve==null?void 0:ve.length}),r.ZP.get("\u9879")]})]}),(0,i.jsx)(J.W,{backend:I.PD,children:(0,i.jsx)(me.Z,{columns:Ge,rowSelection:Dn,pagination:!1,dataSource:H,rowKey:"id",size:"middle",scroll:{x:768,y:hn},loading:Ae})})]}),(0,i.jsx)(k.default,{visible:en,handleCancel:mn,dependence:tn,defaultType:je}),(0,i.jsx)(Y.default,{visible:dn,handleCancel:function(d){if(be(!1),d){var h=H.findIndex(function(A){return A.id===ge.id}),E=m()(H);h!==-1&&(E.splice(h,1),de(E))}else m()(H).map(function(A){return A.id}).includes(ge.id)&&On(ge)},socketMessage:_e,dependence:ge})]})},Ee=ce},47549:function(oe,R,e){"use strict";e.r(R);var U=e(54306),m=e.n(U),y=e(88265),v=e(63313),K=e.n(v),_=e(84163),r=e(24378),u=e(95176),P=e(5558),Z=e(65601),N=e(38101),ne=e(91796),F=e(99120),w=e.n(F),L=e(11527),re=function(W){var D=W.dependence,le=W.handleCancel,Q=W.visible,M=W.socketMessage,f=(0,v.useState)(""),V=m()(f,2),z=V[0],l=V[1],a=(0,v.useState)(!0),n=m()(a,2),s=n[0],t=n[1],o=(0,v.useState)(!1),c=m()(o,2),g=c[0],x=c[1],p=(0,v.useState)(!0),$=m()(p,2),T=$[0],S=$[1],B=(0,v.useState)(!1),k=m()(B,2),J=k[0],I=k[1],Y=(0,v.useState)(!1),te=m()(Y,2),X=te[0],ue=te[1],ae=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;localStorage.removeItem("logDependence"),le(G)},i=function(){return(0,L.jsxs)(L.Fragment,{children:[s&&(0,L.jsx)(Z.Z,{spin:!0}),!s&&(0,L.jsx)(N.Z,{}),(0,L.jsxs)("span",{style:{marginLeft:5},children:[y.ZP.get("\u65E5\u5FD7 -")," ",D&&D.name]})," "]})},fe=function(){S(!0),u.W.get("".concat(P.Z.apiPrefix,"dependencies/").concat(D.id)).then(function(G){var ce=G.code,Ee=G.data;if(ce===200&&localStorage.getItem("logDependence")===String(D.id)){var O=(Ee.log||[]).join("");l(O),t(!O.includes(y.ZP.get("\u7ED3\u675F\u65F6\u95F4"))),I(O.includes(y.ZP.get("\u5220\u9664\u5931\u8D25")))}}).finally(function(){S(!1)})},Pe=function(){ue(!0),u.W.delete("".concat(P.Z.apiPrefix,"dependencies/force"),{data:[D.id]}).then(function(G){var ce=G.code,Ee=G.data;ce===200&&ae(!0)}).finally(function(){ue(!1)})},j=function(){J?Pe():ae()};return(0,v.useEffect)(function(){D&&fe()},[D]),(0,v.useEffect)(function(){if(!(!M||!D)){var q=M.type,G=M.message,ce=M.references;q==="installDependence"&&ce.length>0&&ce.includes(D.id)&&(G.includes(y.ZP.get("\u7ED3\u675F\u65F6\u95F4"))&&(t(!1),I(G.includes(y.ZP.get("\u5220\u9664\u5931\u8D25")))),l("".concat(z).concat(G)))}},[M]),(0,v.useEffect)(function(){x(document.body.clientWidth<768)},[]),(0,L.jsx)(_.Z,{title:i(),open:Q,centered:!0,className:"log-modal",bodyStyle:{overflowY:"auto",maxHeight:"calc(70vh - var(--vh-offset, 0px))",minHeight:"300px"},forceRender:!0,onOk:function(){return ae()},onCancel:function(){return ae()},footer:[(0,L.jsx)(r.Z,{type:"primary",onClick:j,loading:X,children:J?y.ZP.get("\u5F3A\u5236\u5220\u9664"):y.ZP.get("\u77E5\u9053\u4E86")})],children:T?(0,L.jsx)(ne.Z,{}):(0,L.jsx)("pre",{style:g?{fontFamily:"Source Code Pro",width:375,zoom:.83}:{},children:(0,L.jsx)(w(),{children:z})})})};R.default=re},52739:function(oe,R,e){"use strict";e.r(R);var U=e(25359),m=e.n(U),y=e(57213),v=e.n(y),K=e(49811),_=e.n(K),r=e(54306),u=e.n(r),P=e(88265),Z=e(63313),N=e.n(Z),ne=e(28756),F=e(67393),w=e(84163),L=e(84468),re=e(22159),me=e(95176),W=e(5558),D=e(11527),le=ne.Z.Option,Q=function(f){return f[f.nodejs=0]="nodejs",f[f.python3=1]="python3",f[f.linux=2]="linux",f}(Q||{}),M=function(V){var z=V.dependence,l=V.handleCancel,a=V.visible,n=V.defaultType,s=F.Z.useForm(),t=u()(s,1),o=t[0],c=(0,Z.useState)(!1),g=u()(c,2),x=g[0],p=g[1],$=function(){var T=_()(m()().mark(function S(B){var k,J,I,Y,te,X,ue,ae,i,fe;return m()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return p(!0),k=B.name,J=B.split,I=B.type,Y=B.remark,te=z?"put":"post",z?X=v()(v()({},B),{},{id:z.id}):J==="1"?(ue=k.includes("&")?"&":`
`,X=k.split(ue).map(function(q){return{name:q,type:I,remark:Y}})):X=[{name:k,type:I,remark:Y}],j.prev=4,j.next=7,me.W[te]("".concat(W.Z.apiPrefix,"dependencies"),X);case 7:ae=j.sent,i=ae.code,fe=ae.data,i===200&&l(fe),p(!1),j.next=17;break;case 14:j.prev=14,j.t0=j.catch(4),p(!1);case 17:case"end":return j.stop()}},S,null,[[4,14]])}));return function(B){return T.apply(this,arguments)}}();return(0,Z.useEffect)(function(){o.resetFields()},[z,a]),(0,D.jsx)(w.Z,{title:z?P.ZP.get("\u7F16\u8F91\u4F9D\u8D56"):P.ZP.get("\u521B\u5EFA\u4F9D\u8D56"),open:a,forceRender:!0,centered:!0,maskClosable:!1,onOk:function(){o.validateFields().then(function(S){$(S)}).catch(function(S){console.log("Validate Failed:",S)})},onCancel:function(){return l()},confirmLoading:x,children:(0,D.jsxs)(F.Z,{form:o,layout:"vertical",name:"dependence_modal",initialValues:z,children:[(0,D.jsx)(F.Z.Item,{name:"type",label:P.ZP.get("\u4F9D\u8D56\u7C7B\u578B"),initialValue:Q[n],children:(0,D.jsx)(ne.Z,{children:W.Z.dependenceTypes.map(function(T,S){return(0,D.jsx)(le,{value:S,children:T},S)})})}),!z&&(0,D.jsx)(F.Z.Item,{name:"split",label:P.ZP.get("\u81EA\u52A8\u62C6\u5206"),initialValue:"0",tooltip:P.ZP.get("\u591A\u4E2A\u4F9D\u8D56\u662F\u5426\u6362\u884C\u5206\u5272"),children:(0,D.jsxs)(L.ZP.Group,{children:[(0,D.jsx)(L.ZP,{value:"1",children:P.ZP.get("\u662F")}),(0,D.jsx)(L.ZP,{value:"0",children:P.ZP.get("\u5426")})]})}),(0,D.jsx)(F.Z.Item,{name:"name",label:P.ZP.get("\u540D\u79F0"),rules:[{required:!0,message:P.ZP.get("\u8BF7\u8F93\u5165\u4F9D\u8D56\u540D\u79F0\uFF0C\u652F\u6301\u6307\u5B9A\u7248\u672C"),whitespace:!0}],children:(0,D.jsx)(re.Z.TextArea,{rows:4,autoSize:!0,placeholder:P.ZP.get("\u8BF7\u8F93\u5165\u4F9D\u8D56\u540D\u79F0")})}),(0,D.jsx)(F.Z.Item,{name:"remark",label:P.ZP.get("\u5907\u6CE8"),children:(0,D.jsx)(re.Z,{placeholder:P.ZP.get("\u8BF7\u8F93\u5165\u5907\u6CE8")})})]})})};R.default=M},52053:function(oe){(function(R,e){oe.exports=e()})(this,function(){"use strict";var R=1e3,e=6e4,U=36e5,m="millisecond",y="second",v="minute",K="hour",_="day",r="week",u="month",P="quarter",Z="year",N="date",ne="Invalid Date",F=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,w=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,L={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(l){var a=["th","st","nd","rd"],n=l%100;return"["+l+(a[(n-20)%10]||a[n]||a[0])+"]"}},re=function(l,a,n){var s=String(l);return!s||s.length>=a?l:""+Array(a+1-s.length).join(n)+l},me={s:re,z:function(l){var a=-l.utcOffset(),n=Math.abs(a),s=Math.floor(n/60),t=n%60;return(a<=0?"+":"-")+re(s,2,"0")+":"+re(t,2,"0")},m:function l(a,n){if(a.date()<n.date())return-l(n,a);var s=12*(n.year()-a.year())+(n.month()-a.month()),t=a.clone().add(s,u),o=n-t<0,c=a.clone().add(s+(o?-1:1),u);return+(-(s+(n-t)/(o?t-c:c-t))||0)},a:function(l){return l<0?Math.ceil(l)||0:Math.floor(l)},p:function(l){return{M:u,y:Z,w:r,d:_,D:N,h:K,m:v,s:y,ms:m,Q:P}[l]||String(l||"").toLowerCase().replace(/s$/,"")},u:function(l){return l===void 0}},W="en",D={};D[W]=L;var le=function(l){return l instanceof V},Q=function l(a,n,s){var t;if(!a)return W;if(typeof a=="string"){var o=a.toLowerCase();D[o]&&(t=o),n&&(D[o]=n,t=o);var c=a.split("-");if(!t&&c.length>1)return l(c[0])}else{var g=a.name;D[g]=a,t=g}return!s&&t&&(W=t),t||!s&&W},M=function(l,a){if(le(l))return l.clone();var n=typeof a=="object"?a:{};return n.date=l,n.args=arguments,new V(n)},f=me;f.l=Q,f.i=le,f.w=function(l,a){return M(l,{locale:a.$L,utc:a.$u,x:a.$x,$offset:a.$offset})};var V=function(){function l(n){this.$L=Q(n.locale,null,!0),this.parse(n)}var a=l.prototype;return a.parse=function(n){this.$d=function(s){var t=s.date,o=s.utc;if(t===null)return new Date(NaN);if(f.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){var c=t.match(F);if(c){var g=c[2]-1||0,x=(c[7]||"0").substring(0,3);return o?new Date(Date.UTC(c[1],g,c[3]||1,c[4]||0,c[5]||0,c[6]||0,x)):new Date(c[1],g,c[3]||1,c[4]||0,c[5]||0,c[6]||0,x)}}return new Date(t)}(n),this.$x=n.x||{},this.init()},a.init=function(){var n=this.$d;this.$y=n.getFullYear(),this.$M=n.getMonth(),this.$D=n.getDate(),this.$W=n.getDay(),this.$H=n.getHours(),this.$m=n.getMinutes(),this.$s=n.getSeconds(),this.$ms=n.getMilliseconds()},a.$utils=function(){return f},a.isValid=function(){return this.$d.toString()!==ne},a.isSame=function(n,s){var t=M(n);return this.startOf(s)<=t&&t<=this.endOf(s)},a.isAfter=function(n,s){return M(n)<this.startOf(s)},a.isBefore=function(n,s){return this.endOf(s)<M(n)},a.$g=function(n,s,t){return f.u(n)?this[s]:this.set(t,n)},a.unix=function(){return Math.floor(this.valueOf()/1e3)},a.valueOf=function(){return this.$d.getTime()},a.startOf=function(n,s){var t=this,o=!!f.u(s)||s,c=f.p(n),g=function(J,I){var Y=f.w(t.$u?Date.UTC(t.$y,I,J):new Date(t.$y,I,J),t);return o?Y:Y.endOf(_)},x=function(J,I){return f.w(t.toDate()[J].apply(t.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(I)),t)},p=this.$W,$=this.$M,T=this.$D,S="set"+(this.$u?"UTC":"");switch(c){case Z:return o?g(1,0):g(31,11);case u:return o?g(1,$):g(0,$+1);case r:var B=this.$locale().weekStart||0,k=(p<B?p+7:p)-B;return g(o?T-k:T+(6-k),$);case _:case N:return x(S+"Hours",0);case K:return x(S+"Minutes",1);case v:return x(S+"Seconds",2);case y:return x(S+"Milliseconds",3);default:return this.clone()}},a.endOf=function(n){return this.startOf(n,!1)},a.$set=function(n,s){var t,o=f.p(n),c="set"+(this.$u?"UTC":""),g=(t={},t[_]=c+"Date",t[N]=c+"Date",t[u]=c+"Month",t[Z]=c+"FullYear",t[K]=c+"Hours",t[v]=c+"Minutes",t[y]=c+"Seconds",t[m]=c+"Milliseconds",t)[o],x=o===_?this.$D+(s-this.$W):s;if(o===u||o===Z){var p=this.clone().set(N,1);p.$d[g](x),p.init(),this.$d=p.set(N,Math.min(this.$D,p.daysInMonth())).$d}else g&&this.$d[g](x);return this.init(),this},a.set=function(n,s){return this.clone().$set(n,s)},a.get=function(n){return this[f.p(n)]()},a.add=function(n,s){var t,o=this;n=Number(n);var c=f.p(s),g=function($){var T=M(o);return f.w(T.date(T.date()+Math.round($*n)),o)};if(c===u)return this.set(u,this.$M+n);if(c===Z)return this.set(Z,this.$y+n);if(c===_)return g(1);if(c===r)return g(7);var x=(t={},t[v]=e,t[K]=U,t[y]=R,t)[c]||1,p=this.$d.getTime()+n*x;return f.w(p,this)},a.subtract=function(n,s){return this.add(-1*n,s)},a.format=function(n){var s=this,t=this.$locale();if(!this.isValid())return t.invalidDate||ne;var o=n||"YYYY-MM-DDTHH:mm:ssZ",c=f.z(this),g=this.$H,x=this.$m,p=this.$M,$=t.weekdays,T=t.months,S=function(I,Y,te,X){return I&&(I[Y]||I(s,o))||te[Y].slice(0,X)},B=function(I){return f.s(g%12||12,I,"0")},k=t.meridiem||function(I,Y,te){var X=I<12?"AM":"PM";return te?X.toLowerCase():X},J={YY:String(this.$y).slice(-2),YYYY:f.s(this.$y,4,"0"),M:p+1,MM:f.s(p+1,2,"0"),MMM:S(t.monthsShort,p,T,3),MMMM:S(T,p),D:this.$D,DD:f.s(this.$D,2,"0"),d:String(this.$W),dd:S(t.weekdaysMin,this.$W,$,2),ddd:S(t.weekdaysShort,this.$W,$,3),dddd:$[this.$W],H:String(g),HH:f.s(g,2,"0"),h:B(1),hh:B(2),a:k(g,x,!0),A:k(g,x,!1),m:String(x),mm:f.s(x,2,"0"),s:String(this.$s),ss:f.s(this.$s,2,"0"),SSS:f.s(this.$ms,3,"0"),Z:c};return o.replace(w,function(I,Y){return Y||J[I]||c.replace(":","")})},a.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},a.diff=function(n,s,t){var o,c=f.p(s),g=M(n),x=(g.utcOffset()-this.utcOffset())*e,p=this-g,$=f.m(this,g);return $=(o={},o[Z]=$/12,o[u]=$,o[P]=$/3,o[r]=(p-x)/6048e5,o[_]=(p-x)/864e5,o[K]=p/U,o[v]=p/e,o[y]=p/R,o)[c]||p,t?$:f.a($)},a.daysInMonth=function(){return this.endOf(u).$D},a.$locale=function(){return D[this.$L]},a.locale=function(n,s){if(!n)return this.$L;var t=this.clone(),o=Q(n,s,!0);return o&&(t.$L=o),t},a.clone=function(){return f.w(this.$d,this)},a.toDate=function(){return new Date(this.valueOf())},a.toJSON=function(){return this.isValid()?this.toISOString():null},a.toISOString=function(){return this.$d.toISOString()},a.toString=function(){return this.$d.toUTCString()},l}(),z=V.prototype;return M.prototype=z,[["$ms",m],["$s",y],["$m",v],["$H",K],["$W",_],["$M",u],["$y",Z],["$D",N]].forEach(function(l){z[l[1]]=function(a){return this.$g(a,l[0],l[1])}}),M.extend=function(l,a){return l.$i||(l(a,V,M),l.$i=!0),M},M.locale=Q,M.isDayjs=le,M.unix=function(l){return M(1e3*l)},M.en=D[W],M.Ls=D,M.p={},M})}}]);
