"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[1717],{45726:function(O,E,e){var F=e(45968),s=(0,F.Z)({scriptUrl:["//at.alicdn.com/t/c/font_3354854_z0d9rbri1ci.js"]});E.Z=s},12770:function(O,E,e){e.r(E),e.d(E,{default:function(){return me}});var F=e(30279),s=e.n(F),c=e(46686),j=e.n(c),r=e(63313),D=e(73251),U=e(51191),L=e(71571),Z=e(16043),u=e(45726),n=e(11527),x={route:{routes:[{name:"\u767B\u5F55",path:"/login",hideInMenu:!0,component:"@/pages/login/index"},{name:"\u521D\u59CB\u5316",path:"/initialization",hideInMenu:!0,component:"@/pages/initialization/index"},{name:"\u9519\u8BEF",path:"/error",hideInMenu:!0,component:"@/pages/error/index"},{path:"/crontab",name:"\u5B9A\u65F6\u4EFB\u52A1",icon:(0,n.jsx)(u.Z,{type:"ql-icon-crontab"}),component:"@/pages/crontab/index"},{path:"/subscription",name:"\u8BA2\u9605\u7BA1\u7406",icon:(0,n.jsx)(u.Z,{type:"ql-icon-subs"}),component:"@/pages/subscription/index"},{path:"/env",name:"\u73AF\u5883\u53D8\u91CF",icon:(0,n.jsx)(u.Z,{type:"ql-icon-env"}),component:"@/pages/env/index"},{path:"/config",name:"\u914D\u7F6E\u6587\u4EF6",icon:(0,n.jsx)(u.Z,{type:"ql-icon-config"}),component:"@/pages/config/index"},{path:"/script",name:"\u811A\u672C\u7BA1\u7406",icon:(0,n.jsx)(u.Z,{type:"ql-icon-script"}),component:"@/pages/script/index"},{path:"/dependence",name:"\u4F9D\u8D56\u7BA1\u7406",icon:(0,n.jsx)(u.Z,{type:"ql-icon-dependence"}),component:"@/pages/dependence/index"},{path:"/log",name:"\u65E5\u5FD7\u7BA1\u7406",icon:(0,n.jsx)(u.Z,{type:"ql-icon-log"}),component:"@/pages/log/index"},{path:"/diff",name:"\u5BF9\u6BD4\u5DE5\u5177",icon:(0,n.jsx)(u.Z,{type:"ql-icon-diff"}),component:"@/pages/diff/index"},{path:"/setting",name:"\u7CFB\u7EDF\u8BBE\u7F6E",icon:(0,n.jsx)(Z.Z,{}),component:"@/pages/password/index"}]},navTheme:"light",fixSiderbar:!0,contentWidth:"Fixed",splitMenus:!1,siderWidth:180},d=e(76677),g=e(14880),h=e(98376),S=e(50741),y=e(82670),v=e(98490),C=e(33612),I=e(86563),z=e.n(I),M=e(8487),A=e(24724),P=e(68992),W=e(64527),N=e(49005),oe=e(30694),Q=e(64205),$=e(50737),se=e(78078),re=e.n(se),ie=e(22936),ue=e(83770),le=e(59203),ce=e(65847),de=e(30555);function fe(){le.S({dsn:"https://3406424fb1dc4813a62d39e844a9d0ac@o1098464.ingest.sentry.io/6122818",integrations:[new ce.jK.gE({shouldCreateSpanForRequest:function(l){return!l.includes("/api/ws")&&!l.includes("/api/static")}})],release:M.i8,tracesSampleRate:.1,beforeBreadcrumb:function(l,K){if(l.data&&l.data.url){var T=l.data.url.replace(/token=.*/,"");l.data.url=T}return l}}),de._m.config({paths:{vs:"https://cdn.staticfile.org/monaco-editor/0.33.0/min/vs"},"vs/nls":{availableLanguages:{"*":"zh-cn"}}})}var Oe=e(75466),Ue=e(41720),ze=e(89670);function me(){var p=(0,d.TH)(),l=(0,A.e)(),K=(0,A.F)(),T=K.theme,b=K.reloadTheme,ge=(0,r.useState)({}),G=j()(ge,2),f=G[0],he=G[1],ve=(0,r.useState)(!0),H=j()(ve,2),J=H[0],V=H[1],pe=(0,r.useState)(),X=j()(pe,2),i=X[0],xe=X[1],R=(0,r.useRef)(null),Se=(0,r.useState)(),Y=j()(Se,2),Ee=Y[0],ye=Y[1],Fe=(0,r.useState)(!1),w=j()(Fe,2),je=w[0],q=w[1],Ce=(0,r.useState)(!0),_=j()(Ce,2),Me=_[0],Te=_[1],B=L||{},Ze=B.enable,ee=B.disable,We=B.exportGeneratedCSS,Be=B.setFetchMethod,De=B.auto,Le=function(){C.W.post("".concat(v.Z.apiPrefix,"user/logout")).then(function(){localStorage.removeItem(v.Z.authKey),d.m8.push("/login")})},Ie=function(){C.W.get("".concat(v.Z.apiPrefix,"system")).then(function(t){var o=t.code,m=t.data;o===200&&(xe(m),m.isInitialized?k():d.m8.push("/initialization"))}).catch(function(t){console.log(t)}).finally(function(){return Te(!1)})},k=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;t&&V(!0),C.W.get("".concat(v.Z.apiPrefix,"user")).then(function(o){var m=o.code,ae=o.data;m===200&&ae.username&&(he(ae),p.pathname==="/"&&d.m8.push("/crontab")),t&&V(!1)}).catch(function(o){console.log(o)})},ne=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;k(t)};if((0,r.useEffect)(function(){i&&i.isInitialized&&!f&&k()},[p.pathname]),(0,r.useEffect)(function(){i||Ie()},[i]),(0,r.useEffect)(function(){T==="vs-dark"?document.body.setAttribute("data-dark","true"):document.body.setAttribute("data-dark","false")},[T]),(0,r.useEffect)(function(){z()(),fe();var a=localStorage.getItem("qinglong_dark_theme")||"auto";if(typeof window!="undefined"&&typeof window.matchMedia!="undefined")return L?(Be(fetch),a==="dark"?Ze({}):a==="light"?ee():De({}),function(){ee()}):function(){return null}},[]),(0,r.useEffect)(function(){if(!(!f||!f.username)){R.current=new(re())("".concat(window.location.origin,"/api/ws?token=").concat(localStorage.getItem(v.Z.authKey))),R.current.onmessage=function(t){try{var o=JSON.parse(t.data);o.type==="ping"&&(o&&o.message==="hanhh"?console.log("WS connection succeeded !!!"):console.log("WS connection Failed !!!",t)),ye(o)}catch(m){console.log("websocket\u8FDE\u63A5\u5931\u8D25",t)}};var a=R.current;return function(){a.close()}}},[f]),(0,r.useEffect)(function(){window.onload=function(){var a=performance.timing;console.log("\u767D\u5C4F\u65F6\u95F4: ".concat(a.responseStart-a.navigationStart)),console.log("\u8BF7\u6C42\u5B8C\u6BD5\u81F3DOM\u52A0\u8F7D: ".concat(a.domInteractive-a.responseEnd)),console.log("\u89E3\u91CAdom\u6811\u8017\u65F6: ".concat(a.domComplete-a.domInteractive)),console.log("\u4ECE\u5F00\u59CB\u81F3load\u603B\u8017\u65F6: ".concat(a.loadEventEnd-a.navigationStart)),ie.uT("\u767D\u5C4F\u65F6\u95F4 ".concat(a.responseStart-a.navigationStart))}},[]),Me)return(0,n.jsx)(D.Z,{});if(["/login","/initialization","/error"].includes(p.pathname)&&(document.title="".concat(v.Z.documentTitleMap[p.pathname]," - \u63A7\u5236\u9762\u677F"),i!=null&&i.isInitialized&&p.pathname==="/initialization"&&d.m8.push("/crontab"),i||p.pathname==="/error"))return(0,n.jsx)(d.j3,{context:s()(s()({},l),{},{theme:T,user:f,reloadUser:ne,reloadTheme:b,ws:R.current})});var Ae=navigator.userAgent.includes("Firefox"),Pe=navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome"),Re=navigator.userAgent.includes("QQBrowser"),te=(0,n.jsx)(P.Z,{className:"side-menu-user-drop-menu",items:[{label:"\u9000\u51FA\u767B\u5F55",key:"logout",icon:(0,n.jsx)(g.Z,{})}],onClick:Le});return J?(0,n.jsx)(D.Z,{}):(0,n.jsx)(U.ZP,s()(s()({selectedKeys:[p.pathname],loading:J,ErrorBoundary:ue.SV,logo:(0,n.jsx)(W.Z,{preview:!1,src:"https://qn.whyour.cn/logo.png"}),title:(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("span",{style:{fontSize:16},children:"\u63A7\u5236\u9762\u677F"}),(0,n.jsx)("a",{href:M.N$,target:"_blank",rel:"noopener noreferrer",onClick:function(t){t.stopPropagation()},children:(0,n.jsx)(N.Z,{title:(i==null?void 0:i.branch)==="develop"?"\u5F00\u53D1\u7248":"\u6B63\u5F0F\u7248",children:(0,n.jsx)(oe.Z,{size:"small",dot:(i==null?void 0:i.branch)==="develop",children:(0,n.jsxs)("span",{style:{fontSize:Ae?9:12,color:"#666",marginLeft:2,zoom:Pe?.66:.8,letterSpacing:Re?-2:0},children:["v",M.i8]})})})})]}),menuItemRender:function(t,o){return t.isUrl||!t.path||p.pathname===t.path?o:(0,n.jsx)(d.rU,{to:t.path,children:o})},pageTitleRender:function(t,o,m){return m&&typeof m.pageName=="string"?"".concat(m.pageName," - \u63A7\u5236\u9762\u677F"):"\u63A7\u5236\u9762\u677F"},onCollapse:q,collapsed:je,rightContentRender:function(){return l.isPhone&&(0,n.jsx)(Q.Z,{overlay:te,placement:"bottomRight",trigger:["click"],children:(0,n.jsxs)("span",{className:"side-menu-user-wrapper",children:[(0,n.jsx)($.C,{shape:"square",size:"small",icon:(0,n.jsx)(h.Z,{}),src:f.avatar?"/api/static/".concat(f.avatar):""}),(0,n.jsx)("span",{style:{marginLeft:5},children:f.username})]})})},collapsedButtonRender:function(t){return(0,n.jsxs)("span",{className:"side-menu-container",onClick:function(m){m.preventDefault(),m.stopPropagation()},children:[!t&&!l.isPhone&&(0,n.jsx)(Q.Z,{overlay:te,placement:"topLeft",trigger:["hover"],children:(0,n.jsxs)("span",{className:"side-menu-user-wrapper",children:[(0,n.jsx)($.C,{shape:"square",size:"small",icon:(0,n.jsx)(h.Z,{}),src:f.avatar?"/api/static/".concat(f.avatar):""}),(0,n.jsx)("span",{style:{marginLeft:5},children:f.username})]})}),(0,n.jsx)("span",{className:"side-menu-collapse-button",onClick:function(){return q(!t)},children:t?(0,n.jsx)(S.Z,{}):(0,n.jsx)(y.Z,{})})]})}},x),{},{children:(0,n.jsx)(d.j3,{context:s()(s()({},l),{},{theme:T,user:f,reloadUser:ne,reloadTheme:b,socketMessage:Ee,systemInfo:i})})}))}},24724:function(O,E,e){e.d(E,{F:function(){return U},e:function(){return D}});var F=e(46686),s=e.n(F),c=e(63313),j=e.n(c),r=e(13285),D=function(){var Z=(0,c.useState)("100%"),u=s()(Z,2),n=u[0],x=u[1],d=(0,c.useState)(0),g=s()(d,2),h=g[0],S=g[1],y=(0,c.useState)(-72),v=s()(y,2),C=v[0],I=v[1],z=(0,c.useState)(!1),M=s()(z,2),A=M[0],P=M[1],W=(0,c.useMemo)(function(){return(0,r.ZP)()},[]),N=W.platform;return(0,c.useEffect)(function(){N==="mobile"&&document.body.offsetWidth<768?(x("auto"),S(0),I(0),P(!0)):(x("100%"),S(0),I(-72),P(!1))},[]),{headerStyle:{padding:"4px 16px 4px 15px",position:"sticky",top:0,left:0,zIndex:20,marginTop:C,width:n,marginLeft:h},isPhone:A}},U=function(){var Z=(0,c.useState)(),u=s()(Z,2),n=u[0],x=u[1],d=function(){var h=window.matchMedia("(prefers-color-scheme: dark)"),S=localStorage.getItem("qinglong_dark_theme"),y=h.matches&&S!=="light"||S==="dark";x(y?"vs-dark":"vs")};return(0,c.useEffect)(function(){var g=window.matchMedia("(prefers-color-scheme: dark)"),h=localStorage.getItem("qinglong_dark_theme"),S=g.matches&&h!=="light"||h==="dark";x(S?"vs-dark":"vs");var y=function(C){(h==="auto"||!h)&&(C.matches?x("vs-dark"):x("vs"))};typeof g.addEventListener=="function"?g.addEventListener("change",y):typeof g.addListener=="function"&&g.addListener(y)},[]),{theme:n,reloadTheme:d}}},8487:function(O,E,e){e.d(E,{N$:function(){return s},i8:function(){return F}});var F="2.15.0",s="https://t.me/jiao_long/340",c=`2.15.0 \u7248\u672C\u8BF4\u660E
1. \u4EFB\u52A1\u89C6\u56FE\u7B5B\u9009\u6761\u4EF6\u652F\u6301 \u4E14/\u6216
2. \u8BA2\u9605\u652F\u6301\u8BBE\u7F6E\u4EE3\u7406
3. \u4FEE\u6539\u65E5\u5FD7\u7BA1\u7406\u5217\u8868\u9ED8\u8BA4\u6392\u5E8F
4. \u4FEE\u590Dopenapi token\u751F\u6210\u903B\u8F91
5. \u4FEE\u590D\u65E5\u5FD7\u7BA1\u7406\u641C\u7D22\u5931\u6548
6. \u4FEE\u590D\u7CFB\u7EDF\u6700\u540Ecommit\u65F6\u95F4\u83B7\u53D6
7. \u5176\u4ED6\u4F18\u5316
`}}]);
